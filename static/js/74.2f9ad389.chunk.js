(this.webpackJsonp=this.webpackJsonp||[]).push([[74],{4555:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2s=t.compress=t.IV=void 0;const r=i(2731),s=i(1368),f=i(73);function a(e,t,i,r,s){return e=e+t+s|0,i=i+(r=(0,f.rotr)(r^e,16))|0,{a:e,b:t=(0,f.rotr)(t^i,12),c:i,d:r}}function n(e,t,i,r,s){return e=e+t+s|0,i=i+(r=(0,f.rotr)(r^e,8))|0,{a:e,b:t=(0,f.rotr)(t^i,7),c:i,d:r}}function o(e,t,i,r,s,f,o,d,c,u,l,p,h,y,m,g,_,v,b,T){let w=0;for(let S=0;S<r;S++)({a:s,b:c,c:h,d:_}=a(s,c,h,_,i[t+e[w++]])),({a:s,b:c,c:h,d:_}=n(s,c,h,_,i[t+e[w++]])),({a:f,b:u,c:y,d:v}=a(f,u,y,v,i[t+e[w++]])),({a:f,b:u,c:y,d:v}=n(f,u,y,v,i[t+e[w++]])),({a:o,b:l,c:m,d:b}=a(o,l,m,b,i[t+e[w++]])),({a:o,b:l,c:m,d:b}=n(o,l,m,b,i[t+e[w++]])),({a:d,b:p,c:g,d:T}=a(d,p,g,T,i[t+e[w++]])),({a:d,b:p,c:g,d:T}=n(d,p,g,T,i[t+e[w++]])),({a:s,b:u,c:m,d:T}=a(s,u,m,T,i[t+e[w++]])),({a:s,b:u,c:m,d:T}=n(s,u,m,T,i[t+e[w++]])),({a:f,b:l,c:g,d:_}=a(f,l,g,_,i[t+e[w++]])),({a:f,b:l,c:g,d:_}=n(f,l,g,_,i[t+e[w++]])),({a:o,b:p,c:h,d:v}=a(o,p,h,v,i[t+e[w++]])),({a:o,b:p,c:h,d:v}=n(o,p,h,v,i[t+e[w++]])),({a:d,b:c,c:y,d:b}=a(d,c,y,b,i[t+e[w++]])),({a:d,b:c,c:y,d:b}=n(d,c,y,b,i[t+e[w++]]));return{v0:s,v1:f,v2:o,v3:d,v4:c,v5:u,v6:l,v7:p,v8:h,v9:y,v10:m,v11:g,v12:_,v13:v,v14:b,v15:T}}t.IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),t.compress=o;class d extends r.BLAKE2{constructor(e={}){super(64,void 0===e.dkLen?32:e.dkLen,e,32,8,8),this.v0=0|t.IV[0],this.v1=0|t.IV[1],this.v2=0|t.IV[2],this.v3=0|t.IV[3],this.v4=0|t.IV[4],this.v5=0|t.IV[5],this.v6=0|t.IV[6],this.v7=0|t.IV[7];const i=e.key?e.key.length:0;if(this.v0^=this.outputLen|i<<8|65536|1<<24,e.salt){const t=(0,f.u32)((0,f.toBytes)(e.salt));this.v4^=t[0],this.v5^=t[1]}if(e.personalization){const t=(0,f.u32)((0,f.toBytes)(e.personalization));this.v6^=t[0],this.v7^=t[1]}if(e.key){const t=new Uint8Array(this.blockLen);t.set((0,f.toBytes)(e.key)),this.update(t)}}get(){const{v0:e,v1:t,v2:i,v3:r,v4:s,v5:f,v6:a,v7:n}=this;return[e,t,i,r,s,f,a,n]}set(e,t,i,r,s,f,a,n){this.v0=0|e,this.v1=0|t,this.v2=0|i,this.v3=0|r,this.v4=0|s,this.v5=0|f,this.v6=0|a,this.v7=0|n}compress(e,i,f){const{h:a,l:n}=s.default.fromBig(BigInt(this.length)),{v0:d,v1:c,v2:u,v3:l,v4:p,v5:h,v6:y,v7:m,v8:g,v9:_,v10:v,v11:b,v12:T,v13:w,v14:S,v15:E}=o(r.SIGMA,i,e,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,t.IV[0],t.IV[1],t.IV[2],t.IV[3],n^t.IV[4],a^t.IV[5],f?~t.IV[6]:t.IV[6],t.IV[7]);this.v0^=d^g,this.v1^=c^_,this.v2^=u^v,this.v3^=l^b,this.v4^=p^T,this.v5^=h^w,this.v6^=y^S,this.v7^=m^E}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}}t.blake2s=(0,f.wrapConstructorWithOpts)(e=>new d(e))},4556:function(e,t,i){(function(t,i,r,s){e.exports=function e(t,i,r){function s(a,n){if(!i[a]){if(!t[a]){if(f)return f(a,!0);var o=new Error("Cannot find module '"+a+"'");throw o.code="MODULE_NOT_FOUND",o}var d=i[a]={exports:{}};t[a][0].call(d.exports,(function(e){return s(t[a][1][e]||e)}),d,d.exports,e,t,i,r)}return i[a].exports}for(var f=!1,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,t,i){"use strict";var r=e("./utils"),s=e("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,s,a,n,o,d,c=[],u=0,l=e.length,p=l,h="string"!==r.getTypeOf(e);u<e.length;)p=l-u,s=h?(t=e[u++],i=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),i=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),a=t>>2,n=(3&t)<<4|i>>4,o=1<p?(15&i)<<2|s>>6:64,d=2<p?63&s:64,c.push(f.charAt(a)+f.charAt(n)+f.charAt(o)+f.charAt(d));return c.join("")},i.decode=function(e){var t,i,r,a,n,o,d=0,c=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var l,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===f.charAt(64)&&p--,e.charAt(e.length-2)===f.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=s.uint8array?new Uint8Array(0|p):new Array(0|p);d<e.length;)t=f.indexOf(e.charAt(d++))<<2|(a=f.indexOf(e.charAt(d++)))>>4,i=(15&a)<<4|(n=f.indexOf(e.charAt(d++)))>>2,r=(3&n)<<6|(o=f.indexOf(e.charAt(d++))),l[c++]=t,64!==n&&(l[c++]=i),64!==o&&(l[c++]=r);return l}},{"./support":30,"./utils":32}],2:[function(e,t,i){"use strict";var r=e("./external"),s=e("./stream/DataWorker"),f=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function n(e,t,i,r,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=r,this.compressedContent=s}n.prototype={getContentWorker:function(){var e=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},n.createWorkerFrom=function(e,t,i){return e.pipe(new f).pipe(new a("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=n},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){"use strict";var r=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){"use strict";var r=e("./utils"),s=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,i,r){var f=s,a=0+i;e^=-1;for(var n=0;n<a;n++)e=e>>>8^f[255&(e^t[n])];return-1^e}(0|t,e,e.length):function(e,t,i,r){var f=s,a=0+i;e^=-1;for(var n=0;n<a;n++)e=e>>>8^f[255&(e^t.charCodeAt(n))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){"use strict";var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=e("pako"),f=e("./utils"),a=e("./stream/GenericWorker"),n=r?"uint8array":"array";function o(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",f.inherits(o,a),o.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(f.transformTo(n,e.data),!1)},o.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new o("Deflate",e)},i.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){"use strict";function r(e,t){var i,r="";for(i=0;i<t;i++)r+=String.fromCharCode(255&e),e>>>=8;return r}function s(e,t,i,s,a,c){var u,l,p=e.file,h=e.compression,y=c!==n.utf8encode,m=f.transformTo("string",c(p.name)),g=f.transformTo("string",n.utf8encode(p.name)),_=p.comment,v=f.transformTo("string",c(_)),b=f.transformTo("string",n.utf8encode(_)),T=g.length!==p.name.length,w=b.length!==_.length,S="",E="",x="",R=p.dir,k=p.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var A=0;t&&(A|=8),y||!T&&!w||(A|=2048);var I=0,M=0;R&&(I|=16),"UNIX"===a?(M=798,I|=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16}(p.unixPermissions,R)):(M=20,I|=function(e){return 63&(e||0)}(p.dosPermissions)),u=k.getUTCHours(),u<<=6,u|=k.getUTCMinutes(),u<<=5,u|=k.getUTCSeconds()/2,l=k.getUTCFullYear()-1980,l<<=4,l|=k.getUTCMonth()+1,l<<=5,l|=k.getUTCDate(),T&&(E=r(1,1)+r(o(m),4)+g,S+="up"+r(E.length,2)+E),w&&(x=r(1,1)+r(o(v),4)+b,S+="uc"+r(x.length,2)+x);var O="";return O+="\n\0",O+=r(A,2),O+=h.magic,O+=r(u,2),O+=r(l,2),O+=r(C.crc32,4),O+=r(C.compressedSize,4),O+=r(C.uncompressedSize,4),O+=r(m.length,2),O+=r(S.length,2),{fileRecord:d.LOCAL_FILE_HEADER+O+m+S,dirRecord:d.CENTRAL_FILE_HEADER+r(M,2)+O+r(v.length,2)+"\0\0\0\0"+r(I,4)+r(s,4)+m+S+v}}var f=e("../utils"),a=e("../stream/GenericWorker"),n=e("../utf8"),o=e("../crc32"),d=e("../signature");function c(e,t,i,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(c,a),c.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-r-1))/i:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=s(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=s(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:function(e){return d.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,s=function(e,t,i,s,a){var n=f.transformTo("string",a(s));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(i,4)+r(n.length,2)+n}(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){"use strict";var r=e("../compressions"),s=e("./ZipFileWorker");i.generateWorker=function(e,t,i){var f=new s(t.streamFiles,i,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,i){a++;var s=function(e,t){var i=e||t,s=r[i];if(!s)throw new Error(i+" is not a valid compression method !");return s}(i.options.compression,t.compression),n=i.options.compressionOptions||t.compressionOptions||{},o=i.dir,d=i.date;i._compressWorker(s,n).withStreamInfo("file",{name:e,dir:o,date:d,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(f)})),f.entriesCount=a}catch(e){f.error(e)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){"use strict";var r=e("./utils"),s=e("./external"),f=e("./utf8"),a=e("./zipEntries"),n=e("./stream/Crc32Probe"),o=e("./nodejsUtils");function d(e){return new s.Promise((function(t,i){var r=e.decompressed.getContentWorker().pipe(new n);r.on("error",(function(e){i(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var i=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),o.isNode&&o.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new a(t);return i.load(e),i})).then((function(e){var i=[s.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var f=0;f<r.length;f++)i.push(d(r[f]));return s.Promise.all(i)})).then((function(e){for(var s=e.shift(),f=s.files,a=0;a<f.length;a++){var n=f[a],o=n.fileNameStr,d=r.resolve(n.fileNameStr);i.file(d,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:t.createFolders}),n.dir||(i.file(d).unsafeOriginalName=o)}return s.zipComment.length&&(i.comment=s.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){"use strict";var r=e("../utils"),s=e("../stream/GenericWorker");function f(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(f,s),f.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},f.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){"use strict";var r=e("readable-stream").Readable;function s(e,t,i){r.call(this,t),this._helper=e;var s=this;e.on("data",(function(e,t){s.push(e)||s._helper.pause(),i&&i(t)})).on("error",(function(e){s.emit("error",e)})).on("end",(function(){s.push(null)}))}e("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},t.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,i,r){"use strict";i.exports={isNode:"undefined"!=typeof t,newBufferFrom:function(e,i){if(t.from&&t.from!==Uint8Array.from)return t.from(e,i);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,i)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var i=new t(e);return i.fill(0),i},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){"use strict";function r(e,t,i){var r,s=f.getTypeOf(t),n=f.extend(i||{},o);n.date=n.date||new Date,null!==n.compression&&(n.compression=n.compression.toUpperCase()),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=y(e)),n.createFolders&&(r=h(e))&&m.call(this,r,!0);var u,g="string"===s&&!1===n.binary&&!1===n.base64;i&&void 0!==i.binary||(n.binary=!g),(t instanceof d&&0===t.uncompressedSize||n.dir||!t||0===t.length)&&(n.base64=!1,n.binary=!0,t="",n.compression="STORE",s="string"),u=t instanceof d||t instanceof a?t:l.isNode&&l.isStream(t)?new p(e,t):f.prepareContent(e,t,n.binary,n.optimizedBinaryString,n.base64);var _=new c(e,u,n);this.files[e]=_}var s=e("./utf8"),f=e("./utils"),a=e("./stream/GenericWorker"),n=e("./stream/StreamHelper"),o=e("./defaults"),d=e("./compressedObject"),c=e("./zipObject"),u=e("./generate"),l=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},y=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:o.createFolders,e=y(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,r;for(t in this.files)r=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,r)},filter:function(e){var t=[];return this.forEach((function(i,r){e(i,r)&&t.push(r)})),t},file:function(e,t,i){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,i),this;if(g(e)){var s=e;return this.filter((function(e,t){return!t.dir&&s.test(e)}))}var f=this.files[this.root+e];return f&&!f.dir?f:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=this.root+e,i=m.call(this,t),r=this.clone();return r.root=i.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),r=0;r<i.length;r++)delete this.files[i[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=f.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");f.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";t=u.generateWorker(this,i,r)}catch(e){(t=new a("error")).error(e)}return new n(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){"use strict";var r=e("./DataReader");function s(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(s,r),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===t&&this.data[f+1]===i&&this.data[f+2]===r&&this.data[f+3]===s)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),f=this.readData(4);return t===f[0]&&i===f[1]&&r===f[2]&&s===f[3]},s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){"use strict";var r=e("../utils");function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=s},{"../utils":32}],19:[function(e,t,i){"use strict";var r=e("./Uint8ArrayReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){"use strict";var r=e("./DataReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){"use strict";var r=e("./ArrayReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){"use strict";var r=e("../utils"),s=e("../support"),f=e("./ArrayReader"),a=e("./StringReader"),n=e("./NodeBufferReader"),o=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new n(e):s.uint8array?new o(r.transformTo("uint8array",e)):new f(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){"use strict";i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,i){"use strict";var r=e("./GenericWorker"),s=e("../utils");function f(e){r.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(f,r),f.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},t.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){"use strict";var r=e("./GenericWorker"),s=e("../crc32");function f(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(f,r),f.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){"use strict";var r=e("../utils"),s=e("./GenericWorker");function f(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(f,s),f.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},t.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){"use strict";var r=e("../utils"),s=e("./GenericWorker");function f(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(f,s),f.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,i,r){"use strict";var s=e("../utils"),f=e("./ConvertWorker"),a=e("./GenericWorker"),n=e("../base64"),o=e("../support"),d=e("../external"),c=null;if(o.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,i){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=i,s.checkSupport(r),this._worker=e.pipe(new f(r)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return function(e,i){return new d.Promise((function(r,f){var a=[],o=e._internalType,d=e._outputType,c=e._mimeType;e.on("data",(function(e,t){a.push(e),i&&i(t)})).on("error",(function(e){a=[],f(e)})).on("end",(function(){try{var e=function(e,t,i){switch(e){case"blob":return s.newBlob(s.transformTo("arraybuffer",t),i);case"base64":return n.encode(t);default:return s.transformTo(e,t)}}(d,function(e,i){var r,s=0,f=null,a=0;for(r=0;r<i.length;r++)a+=i[r].length;switch(e){case"string":return i.join("");case"array":return Array.prototype.concat.apply([],i);case"uint8array":for(f=new Uint8Array(a),r=0;r<i.length;r++)f.set(i[r],s),s+=i[r].length;return f;case"nodebuffer":return t.concat(i);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,a),c);r(e)}catch(e){f(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,(function(e){t.call(i,e.data,e.meta)})):this._worker.on(e,(function(){s.delay(t,arguments,i)})),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},i.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof t,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=0===new Blob([s],{type:"application/zip"}).size}catch(e){try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(s),r.blob=0===f.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){"use strict";for(var r=e("./utils"),s=e("./support"),f=e("./nodejsUtils"),a=e("./stream/GenericWorker"),n=new Array(256),o=0;o<256;o++)n[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function d(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}n[254]=n[254]=1,i.utf8encode=function(e){return s.nodebuffer?f.newBufferFrom(e,"utf-8"):function(e){var t,i,r,f,a,n=e.length,o=0;for(f=0;f<n;f++)55296==(64512&(i=e.charCodeAt(f)))&&f+1<n&&56320==(64512&(r=e.charCodeAt(f+1)))&&(i=65536+(i-55296<<10)+(r-56320),f++),o+=i<128?1:i<2048?2:i<65536?3:4;for(t=s.uint8array?new Uint8Array(o):new Array(o),f=a=0;a<o;f++)55296==(64512&(i=e.charCodeAt(f)))&&f+1<n&&56320==(64512&(r=e.charCodeAt(f+1)))&&(i=65536+(i-55296<<10)+(r-56320),f++),i<128?t[a++]=i:(i<2048?t[a++]=192|i>>>6:(i<65536?t[a++]=224|i>>>12:(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63),t[a++]=128|i>>>6&63),t[a++]=128|63&i);return t}(e)},i.utf8decode=function(e){return s.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,s,f,a=e.length,o=new Array(2*a);for(t=i=0;t<a;)if((s=e[t++])<128)o[i++]=s;else if(4<(f=n[s]))o[i++]=65533,t+=f-1;else{for(s&=2===f?31:3===f?15:7;1<f&&t<a;)s=s<<6|63&e[t++],f--;1<f?o[i++]=65533:s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|1023&s)}return o.length!==i&&(o.subarray?o=o.subarray(0,i):o.length=i),r.applyFromCharCode(o)}(e=r.transformTo(s.uint8array?"uint8array":"array",e))},r.inherits(d,a),d.prototype.processChunk=function(e){var t=r.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=t;(t=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),t.set(f,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+n[e[i]]>t?i:t}(t),o=t;a!==t.length&&(s.uint8array?(o=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(o=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:i.utf8decode(o),meta:e.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,r.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var s=e("./support"),f=e("./base64"),a=e("./nodejsUtils"),n=e("./external");function o(e){return e}function d(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}e("setimmediate"),r.newBlob=function(t,i){r.checkSupport("blob");try{return new Blob([t],{type:i})}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return s.append(t),s.getBlob(i)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,i){var r=[],s=0,f=e.length;if(f<=i)return String.fromCharCode.apply(null,e);for(;s<f;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+i,f)))):r.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+i,f)))),s+=i;return r.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,i=r.getTypeOf(e),s=!0;if("uint8array"===i?s=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(s=c.applyCanBeUsed.nodebuffer),s)for(;1<t;)try{return c.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function l(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}r.applyFromCharCode=u;var p={};p.string={string:o,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:function(e){return d(e,a.allocBuffer(e.length))}},p.array={string:u,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},p.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return l(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return a.newBufferFrom(e)}},p.nodebuffer={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:o},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var i=r.getTypeOf(t);return p[i][e](t)},r.resolve=function(e){for(var t=e.split("/"),i=[],r=0;r<t.length;r++){var s=t[r];"."===s||""===s&&0!==r&&r!==t.length-1||(".."===s?i.pop():i.push(s))}return i.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":s.nodebuffer&&a.isBuffer(e)?"nodebuffer":s.uint8array&&e instanceof Uint8Array?"uint8array":s.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!s[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,i,r="";for(i=0;i<(e||"").length;i++)r+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return r},r.delay=function(e,t,r){i((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i},r.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},r.prepareContent=function(e,t,i,a,o){return n.Promise.resolve(t).then((function(e){return s.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new n.Promise((function(t,i){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){i(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var c=r.getTypeOf(t);return c?("arraybuffer"===c?t=r.transformTo("uint8array",t):"string"===c&&(o?t=f.decode(t):i&&!0!==a&&(t=function(e){return d(e,s.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):n.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,i){"use strict";var r=e("./reader/readerFor"),s=e("./utils"),f=e("./signature"),a=e("./zipEntry"),n=e("./support");function o(e){this.files=[],this.loadOptions=e}o.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(i),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=n.uint8array?"uint8array":"array",i=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=t-i;if(0<r)this.isSignature(t,f.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){"use strict";var r=e("./reader/readerFor"),s=e("./utils"),f=e("./compressedObject"),a=e("./crc32"),n=e("./utf8"),o=e("./compressions"),d=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&o[t].magic===e)return o[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,i,r,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)t=e.readInt(2),i=e.readInt(2),r=e.readData(i),this.extraFields[t]={id:t,length:i,value:r};e.setIndex(s)},handleUTF8:function(){var e=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=n.utf8decode(this.fileName),this.fileCommentStr=n.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var f=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:n.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:n.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){"use strict";function r(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var s=e("./stream/StreamHelper"),f=e("./stream/DataWorker"),a=e("./utf8"),n=e("./compressedObject"),o=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var f=!this._dataBinary;f&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!f&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new o("error")).error(e)}return new s(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof n&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new a.Utf8EncodeWorker)),n.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof n?this._data.getContentWorker():this._data instanceof o?this._data:new f(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<d.length;u++)r.prototype[d[u]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var i,r,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var f=0,a=new s(c),n=e.document.createTextNode("");a.observe(n,{characterData:!0}),i=function(){n.data=f=++f%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var o=new e.MessageChannel;o.port1.onmessage=c,i=function(){o.port2.postMessage(0)}}var d=[];function c(){var e,t;r=!0;for(var i=d.length;i;){for(t=d,d=[],e=-1;++e<i;)t[e]();i=d.length}r=!1}t.exports=function(e){1!==d.push(e)||r||i()}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";var r=e("immediate");function s(){}var f={},a=["REJECTED"],n=["FULFILLED"],o=["PENDING"];function d(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,e!==s&&p(this,e)}function c(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function u(e,t,i){r((function(){var r;try{r=t(i)}catch(r){return f.reject(e,r)}r===e?f.reject(e,new TypeError("Cannot resolve promise with itself")):f.resolve(e,r)}))}function l(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var i=!1;function r(t){i||(i=!0,f.reject(e,t))}function s(t){i||(i=!0,f.resolve(e,t))}var a=h((function(){t(s,r)}));"error"===a.status&&r(a.value)}function h(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}(t.exports=d).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},d.prototype.catch=function(e){return this.then(null,e)},d.prototype.then=function(e,t){if("function"!=typeof e&&this.state===n||"function"!=typeof t&&this.state===a)return this;var i=new this.constructor(s);return this.state!==o?u(i,this.state===n?e:t,this.outcome):this.queue.push(new c(i,e,t)),i},c.prototype.callFulfilled=function(e){f.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){f.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},f.resolve=function(e,t){var i=h(l,t);if("error"===i.status)return f.reject(e,i.value);var r=i.value;if(r)p(e,r);else{e.state=n,e.outcome=t;for(var s=-1,a=e.queue.length;++s<a;)e.queue[s].callFulfilled(t)}return e},f.reject=function(e,t){e.state=a,e.outcome=t;for(var i=-1,r=e.queue.length;++i<r;)e.queue[i].callRejected(t);return e},d.resolve=function(e){return e instanceof this?e:f.resolve(new this(s),e)},d.reject=function(e){var t=new this(s);return f.reject(t,e)},d.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,r=!1;if(!i)return this.resolve([]);for(var a=new Array(i),n=0,o=-1,d=new this(s);++o<i;)c(e[o],o);return d;function c(e,s){t.resolve(e).then((function(e){a[s]=e,++n!==i||r||(r=!0,f.resolve(d,a))}),(function(e){r||(r=!0,f.reject(d,e))}))}},d.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,i=!1;if(!t)return this.resolve([]);for(var r,a=-1,n=new this(s);++a<t;)r=e[a],this.resolve(r).then((function(e){i||(i=!0,f.resolve(n,e))}),(function(e){i||(i=!0,f.reject(n,e))}));return n}},{immediate:36}],38:[function(e,t,i){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){"use strict";var r=e("./zlib/deflate"),s=e("./utils/common"),f=e("./utils/strings"),a=e("./zlib/messages"),n=e("./zlib/zstream"),o=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(a[i]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?f.string2buf(t.dictionary):"[object ArrayBuffer]"===o.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=r.deflateSetDictionary(this.strm,c)))throw new Error(a[i]);this._dict_set=!0}}function c(e,t){var i=new d(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}d.prototype.push=function(e,t){var i,a,n=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?n.input=f.string2buf(e):"[object ArrayBuffer]"===o.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new s.Buf8(d),n.next_out=0,n.avail_out=d),1!==(i=r.deflate(n,a))&&0!==i)return this.onEnd(i),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(f.buf2binstring(s.shrinkBuf(n.output,n.next_out))):this.onData(s.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==i);return 4===a?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),!(n.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=d,i.deflate=c,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){"use strict";var r=e("./zlib/inflate"),s=e("./utils/common"),f=e("./utils/strings"),a=e("./zlib/constants"),n=e("./zlib/messages"),o=e("./zlib/zstream"),d=e("./zlib/gzheader"),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(n[i]);this.header=new d,r.inflateGetHeader(this.strm,this.header)}function l(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg||n[i.err];return i.result}u.prototype.push=function(e,t){var i,n,o,d,u,l,p=this.strm,h=this.options.chunkSize,y=this.options.dictionary,m=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=f.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(h),p.next_out=0,p.avail_out=h),(i=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&y&&(l="string"==typeof y?f.string2buf(y):"[object ArrayBuffer]"===c.call(y)?new Uint8Array(y):y,i=r.inflateSetDictionary(this.strm,l)),i===a.Z_BUF_ERROR&&!0===m&&(i=a.Z_OK,m=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&i!==a.Z_STREAM_END&&(0!==p.avail_in||n!==a.Z_FINISH&&n!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(o=f.utf8border(p.output,p.next_out),d=p.next_out-o,u=f.buf2string(p.output,o),p.next_out=d,p.avail_out=h-d,d&&s.arraySet(p.output,p.output,o,d,0),this.onData(u)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(n=a.Z_FINISH),n===a.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):n!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(p.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=u,i.inflate=l,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},i.ungzip=l},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,i,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+r),s);else for(var f=0;f<r;f++)e[s+f]=t[i+f]},flattenChunks:function(e){var t,i,r,s,f,a;for(t=r=0,i=e.length;t<i;t++)r+=e[t].length;for(a=new Uint8Array(r),t=s=0,i=e.length;t<i;t++)f=e[t],a.set(f,s),s+=f.length;return a}},f={arraySet:function(e,t,i,r,s){for(var f=0;f<r;f++)e[s+f]=t[i+f]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,f))},i.setTyped(r)},{}],42:[function(e,t,i){"use strict";var r=e("./common"),s=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){f=!1}for(var a=new r.Buf8(256),n=0;n<256;n++)a[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function o(e,t){if(t<65537&&(e.subarray&&f||!e.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,i.string2buf=function(e){var t,i,s,f,a,n=e.length,o=0;for(f=0;f<n;f++)55296==(64512&(i=e.charCodeAt(f)))&&f+1<n&&56320==(64512&(s=e.charCodeAt(f+1)))&&(i=65536+(i-55296<<10)+(s-56320),f++),o+=i<128?1:i<2048?2:i<65536?3:4;for(t=new r.Buf8(o),f=a=0;a<o;f++)55296==(64512&(i=e.charCodeAt(f)))&&f+1<n&&56320==(64512&(s=e.charCodeAt(f+1)))&&(i=65536+(i-55296<<10)+(s-56320),f++),i<128?t[a++]=i:(i<2048?t[a++]=192|i>>>6:(i<65536?t[a++]=224|i>>>12:(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63),t[a++]=128|i>>>6&63),t[a++]=128|63&i);return t},i.buf2binstring=function(e){return o(e,e.length)},i.binstring2buf=function(e){for(var t=new r.Buf8(e.length),i=0,s=t.length;i<s;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,r,s,f,n=t||e.length,d=new Array(2*n);for(i=r=0;i<n;)if((s=e[i++])<128)d[r++]=s;else if(4<(f=a[s]))d[r++]=65533,i+=f-1;else{for(s&=2===f?31:3===f?15:7;1<f&&i<n;)s=s<<6|63&e[i++],f--;1<f?d[r++]=65533:s<65536?d[r++]=s:(s-=65536,d[r++]=55296|s>>10&1023,d[r++]=56320|1023&s)}return o(d,r)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){"use strict";t.exports=function(e,t,i,r){for(var s=65535&e|0,f=e>>>16&65535|0,a=0;0!==i;){for(i-=a=2e3<i?2e3:i;f=f+(s=s+t[r++]|0)|0,--a;);s%=65521,f%=65521}return s|f<<16|0}},{}],44:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){"use strict";var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,s){var f=r,a=s+i;e^=-1;for(var n=s;n<a;n++)e=e>>>8^f[255&(e^t[n])];return-1^e}},{}],46:[function(e,t,i){"use strict";var r,s=e("../utils/common"),f=e("./trees"),a=e("./adler32"),n=e("./crc32"),o=e("./messages"),d=-2,c=258,u=262,l=113;function p(e,t){return e.msg=o[t],t}function h(e){return(e<<1)-(4<e?9:0)}function y(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(s.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function g(e,t){f._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function _(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function b(e,t){var i,r,s=e.max_chain_length,f=e.strstart,a=e.prev_length,n=e.nice_match,o=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,d=e.window,l=e.w_mask,p=e.prev,h=e.strstart+c,y=d[f+a-1],m=d[f+a];e.prev_length>=e.good_match&&(s>>=2),n>e.lookahead&&(n=e.lookahead);do{if(d[(i=t)+a]===m&&d[i+a-1]===y&&d[i]===d[f]&&d[++i]===d[f+1]){f+=2,i++;do{}while(d[++f]===d[++i]&&d[++f]===d[++i]&&d[++f]===d[++i]&&d[++f]===d[++i]&&d[++f]===d[++i]&&d[++f]===d[++i]&&d[++f]===d[++i]&&d[++f]===d[++i]&&f<h);if(r=c-(h-f),f=h-c,a<r){if(e.match_start=t,n<=(a=r))break;y=d[f+a-1],m=d[f+a]}}}while((t=p[t&l])>o&&0!=--s);return a<=e.lookahead?a:e.lookahead}function T(e){var t,i,r,f,o,d,c,l,p,h,y=e.w_size;do{if(f=e.window_size-e.lookahead-e.strstart,e.strstart>=y+(y-u)){for(s.arraySet(e.window,e.window,y,y,0),e.match_start-=y,e.strstart-=y,e.block_start-=y,t=i=e.hash_size;r=e.head[--t],e.head[t]=y<=r?r-y:0,--i;);for(t=i=y;r=e.prev[--t],e.prev[t]=y<=r?r-y:0,--i;);f+=y}if(0===e.strm.avail_in)break;if(d=e.strm,c=e.window,l=e.strstart+e.lookahead,h=void 0,(p=f)<(h=d.avail_in)&&(h=p),i=0===h?0:(d.avail_in-=h,s.arraySet(c,d.input,d.next_in,h,l),1===d.state.wrap?d.adler=a(d.adler,c,h,l):2===d.state.wrap&&(d.adler=n(d.adler,c,h,l)),d.next_in+=h,d.total_in+=h,h),e.lookahead+=i,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+3-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function w(e,t){for(var i,r;;){if(e.lookahead<u){if(T(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-u&&(e.match_length=b(e,i)),e.match_length>=3)if(r=f._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var i,r,s;;){if(e.lookahead<u){if(T(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-u&&(e.match_length=b(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(s=e.strstart+e.lookahead-3,r=f._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=f._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=f._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,i,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=s}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(1146),this.dyn_dtree=new s.Buf16(122),this.bl_tree=new s.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(16),this.heap=new s.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:l,e.adler=2===t.wrap?0:1,t.last_flush=0,f._tr_init(t),0):p(e,d)}function k(e){var t=R(e);return 0===t&&function(e){e.window_size=2*e.w_size,y(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function C(e,t,i,r,f,a){if(!e)return d;var n=1;if(-1===t&&(t=6),r<0?(n=0,r=-r):15<r&&(n=2,r-=16),f<1||9<f||8!==i||r<8||15<r||t<0||9<t||a<0||4<a)return p(e,d);8===r&&(r=9);var o=new x;return(e.state=o).strm=e,o.wrap=n,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=f+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new s.Buf8(2*o.w_size),o.head=new s.Buf16(o.hash_size),o.prev=new s.Buf16(o.w_size),o.lit_bufsize=1<<f+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new s.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=i,k(e)}r=[new E(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(T(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,g(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(g(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,w),new E(4,5,16,8,w),new E(4,6,32,32,w),new E(4,4,16,16,S),new E(8,16,32,32,S),new E(8,16,128,128,S),new E(8,32,128,256,S),new E(32,128,258,1024,S),new E(32,258,258,4096,S)],i.deflateInit=function(e,t){return C(e,t,8,15,8,0)},i.deflateInit2=C,i.deflateReset=k,i.deflateResetKeep=R,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,0):d},i.deflate=function(e,t){var i,s,a,o;if(!e||!e.state||5<t||t<0)return e?p(e,d):d;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||666===s.status&&4!==t)return p(e,0===e.avail_out?-5:d);if(s.strm=e,i=s.last_flush,s.last_flush=t,42===s.status)if(2===s.wrap)e.adler=0,_(s,31),_(s,139),_(s,8),s.gzhead?(_(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),_(s,255&s.gzhead.time),_(s,s.gzhead.time>>8&255),_(s,s.gzhead.time>>16&255),_(s,s.gzhead.time>>24&255),_(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),_(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(_(s,255&s.gzhead.extra.length),_(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=n(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(_(s,0),_(s,0),_(s,0),_(s,0),_(s,0),_(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),_(s,3),s.status=l);else{var u=8+(s.w_bits-8<<4)<<8;u|=(2<=s.strategy||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(u|=32),u+=31-u%31,s.status=l,v(s,u),0!==s.strstart&&(v(s,e.adler>>>16),v(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(a=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>a&&(e.adler=n(e.adler,s.pending_buf,s.pending-a,a)),m(e),a=s.pending,s.pending!==s.pending_buf_size));)_(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>a&&(e.adler=n(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=n(e.adler,s.pending_buf,s.pending-a,a)),m(e),a=s.pending,s.pending===s.pending_buf_size)){o=1;break}o=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,_(s,o)}while(0!==o);s.gzhead.hcrc&&s.pending>a&&(e.adler=n(e.adler,s.pending_buf,s.pending-a,a)),0===o&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=n(e.adler,s.pending_buf,s.pending-a,a)),m(e),a=s.pending,s.pending===s.pending_buf_size)){o=1;break}o=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,_(s,o)}while(0!==o);s.gzhead.hcrc&&s.pending>a&&(e.adler=n(e.adler,s.pending_buf,s.pending-a,a)),0===o&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&m(e),s.pending+2<=s.pending_buf_size&&(_(s,255&e.adler),_(s,e.adler>>8&255),e.adler=0,s.status=l)):s.status=l),0!==s.pending){if(m(e),0===e.avail_out)return s.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(i)&&4!==t)return p(e,-5);if(666===s.status&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==s.lookahead||0!==t&&666!==s.status){var b=2===s.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(T(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(s,t):3===s.strategy?function(e,t){for(var i,r,s,a,n=e.window;;){if(e.lookahead<=c){if(T(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=n[s=e.strstart-1])===n[++s]&&r===n[++s]&&r===n[++s]){a=e.strstart+c;do{}while(r===n[++s]&&r===n[++s]&&r===n[++s]&&r===n[++s]&&r===n[++s]&&r===n[++s]&&r===n[++s]&&r===n[++s]&&s<a);e.match_length=c-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=f._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(s,t):r[s.level].func(s,t);if(3!==b&&4!==b||(s.status=666),1===b||3===b)return 0===e.avail_out&&(s.last_flush=-1),0;if(2===b&&(1===t?f._tr_align(s):5!==t&&(f._tr_stored_block(s,0,0,!1),3===t&&(y(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),m(e),0===e.avail_out))return s.last_flush=-1,0}return 4!==t?0:s.wrap<=0?1:(2===s.wrap?(_(s,255&e.adler),_(s,e.adler>>8&255),_(s,e.adler>>16&255),_(s,e.adler>>24&255),_(s,255&e.total_in),_(s,e.total_in>>8&255),_(s,e.total_in>>16&255),_(s,e.total_in>>24&255)):(v(s,e.adler>>>16),v(s,65535&e.adler)),m(e),0<s.wrap&&(s.wrap=-s.wrap),0!==s.pending?0:1)},i.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==l&&666!==t?p(e,d):(e.state=null,t===l?p(e,-3):0):d},i.deflateSetDictionary=function(e,t){var i,r,f,n,o,c,u,l,p=t.length;if(!e||!e.state)return d;if(2===(n=(i=e.state).wrap)||1===n&&42!==i.status||i.lookahead)return d;for(1===n&&(e.adler=a(e.adler,t,p,0)),i.wrap=0,p>=i.w_size&&(0===n&&(y(i.head),i.strstart=0,i.block_start=0,i.insert=0),l=new s.Buf8(i.w_size),s.arraySet(l,t,p-i.w_size,i.w_size,0),t=l,p=i.w_size),o=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,T(i);i.lookahead>=3;){for(r=i.strstart,f=i.lookahead-2;i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+3-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,--f;);i.strstart=r,i.lookahead=2,T(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=c,e.input=u,e.avail_in=o,i.wrap=n,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){"use strict";t.exports=function(e,t){var i,r,s,f,a,n,o,d,c,u,l,p,h,y,m,g,_,v,b,T,w,S,E,x,R;i=e.state,r=e.next_in,x=e.input,s=r+(e.avail_in-5),f=e.next_out,R=e.output,a=f-(t-e.avail_out),n=f+(e.avail_out-257),o=i.dmax,d=i.wsize,c=i.whave,u=i.wnext,l=i.window,p=i.hold,h=i.bits,y=i.lencode,m=i.distcode,g=(1<<i.lenbits)-1,_=(1<<i.distbits)-1;e:do{h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),v=y[p&g];t:for(;;){if(p>>>=b=v>>>24,h-=b,0===(b=v>>>16&255))R[f++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=y[(65535&v)+(p&(1<<b)-1)];continue t}if(32&b){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}T=65535&v,(b&=15)&&(h<b&&(p+=x[r++]<<h,h+=8),T+=p&(1<<b)-1,p>>>=b,h-=b),h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),v=m[p&_];i:for(;;){if(p>>>=b=v>>>24,h-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=m[(65535&v)+(p&(1<<b)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&v,h<(b&=15)&&(p+=x[r++]<<h,(h+=8)<b&&(p+=x[r++]<<h,h+=8)),o<(w+=p&(1<<b)-1)){e.msg="invalid distance too far back",i.mode=30;break e}if(p>>>=b,h-=b,(b=f-a)<w){if(c<(b=w-b)&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(E=l,(S=0)===u){if(S+=d-b,b<T){for(T-=b;R[f++]=l[S++],--b;);S=f-w,E=R}}else if(u<b){if(S+=d+u-b,(b-=u)<T){for(T-=b;R[f++]=l[S++],--b;);if(S=0,u<T){for(T-=b=u;R[f++]=l[S++],--b;);S=f-w,E=R}}}else if(S+=u-b,b<T){for(T-=b;R[f++]=l[S++],--b;);S=f-w,E=R}for(;2<T;)R[f++]=E[S++],R[f++]=E[S++],R[f++]=E[S++],T-=3;T&&(R[f++]=E[S++],1<T&&(R[f++]=E[S++]))}else{for(S=f-w;R[f++]=R[S++],R[f++]=R[S++],R[f++]=R[S++],2<(T-=3););T&&(R[f++]=R[S++],1<T&&(R[f++]=R[S++]))}break}}break}}while(r<s&&f<n);r-=T=h>>3,p&=(1<<(h-=T<<3))-1,e.next_in=r,e.next_out=f,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=f<n?n-f+257:257-(f-n),i.hold=p,i.bits=h}},{}],49:[function(e,t,i){"use strict";var r=e("../utils/common"),s=e("./adler32"),f=e("./crc32"),a=e("./inffast"),n=e("./inftrees"),o=-2;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):o}function l(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):o}function p(e,t){var i,r;return e&&e.state?(r=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?o:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,l(e))):o}function h(e,t){var i,r;return e?(r=new c,(e.state=r).window=null,0!==(i=p(e,t))&&(e.state=null),i):o}var y,m,g=!0;function _(e){if(g){var t;for(y=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(n(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;n(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=y,e.lenbits=9,e.distcode=m,e.distbits=5}function v(e,t,i,s){var f,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),s>=a.wsize?(r.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(s<(f=a.wsize-a.wnext)&&(f=s),r.arraySet(a.window,t,i-s,f,a.wnext),(s-=f)?(r.arraySet(a.window,t,i-s,s,0),a.wnext=s,a.whave=a.wsize):(a.wnext+=f,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=f))),0}i.inflateReset=l,i.inflateReset2=p,i.inflateResetKeep=u,i.inflateInit=function(e){return h(e,15)},i.inflateInit2=h,i.inflate=function(e,t){var i,c,u,l,p,h,y,m,g,b,T,w,S,E,x,R,k,C,A,I,M,O,D,P,q=0,B=new r.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return o;12===(i=e.state).mode&&(i.mode=13),p=e.next_out,u=e.output,y=e.avail_out,l=e.next_in,c=e.input,h=e.avail_in,m=i.hold,g=i.bits,b=h,T=y,O=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;g<16;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(2&i.wrap&&35615===m){B[i.check=0]=255&m,B[1]=m>>>8&255,i.check=f(i.check,B,2,0),g=m=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",i.mode=30;break}if(g-=4,M=8+(15&(m>>>=4)),0===i.wbits)i.wbits=M;else if(M>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<M,e.adler=i.check=1,i.mode=512&m?10:12,g=m=0;break;case 2:for(;g<16;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(i.flags=m,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=m>>8&1),512&i.flags&&(B[0]=255&m,B[1]=m>>>8&255,i.check=f(i.check,B,2,0)),g=m=0,i.mode=3;case 3:for(;g<32;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}i.head&&(i.head.time=m),512&i.flags&&(B[0]=255&m,B[1]=m>>>8&255,B[2]=m>>>16&255,B[3]=m>>>24&255,i.check=f(i.check,B,4,0)),g=m=0,i.mode=4;case 4:for(;g<16;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}i.head&&(i.head.xflags=255&m,i.head.os=m>>8),512&i.flags&&(B[0]=255&m,B[1]=m>>>8&255,i.check=f(i.check,B,2,0)),g=m=0,i.mode=5;case 5:if(1024&i.flags){for(;g<16;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}i.length=m,i.head&&(i.head.extra_len=m),512&i.flags&&(B[0]=255&m,B[1]=m>>>8&255,i.check=f(i.check,B,2,0)),g=m=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(h<(w=i.length)&&(w=h),w&&(i.head&&(M=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,c,l,w,M)),512&i.flags&&(i.check=f(i.check,c,w,l)),h-=w,l+=w,i.length-=w),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===h)break e;for(w=0;M=c[l+w++],i.head&&M&&i.length<65536&&(i.head.name+=String.fromCharCode(M)),M&&w<h;);if(512&i.flags&&(i.check=f(i.check,c,w,l)),h-=w,l+=w,M)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===h)break e;for(w=0;M=c[l+w++],i.head&&M&&i.length<65536&&(i.head.comment+=String.fromCharCode(M)),M&&w<h;);if(512&i.flags&&(i.check=f(i.check,c,w,l)),h-=w,l+=w,M)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;g<16;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(m!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}g=m=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;g<32;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}e.adler=i.check=d(m),g=m=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=p,e.avail_out=y,e.next_in=l,e.avail_in=h,i.hold=m,i.bits=g,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){m>>>=7&g,g-=7&g,i.mode=27;break}for(;g<3;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}switch(i.last=1&m,g-=1,3&(m>>>=1)){case 0:i.mode=14;break;case 1:if(_(i),i.mode=20,6!==t)break;m>>>=2,g-=2;break e;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&m,g=m=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(w=i.length){if(h<w&&(w=h),y<w&&(w=y),0===w)break e;r.arraySet(u,c,l,w,p),h-=w,l+=w,y-=w,p+=w,i.length-=w;break}i.mode=12;break;case 17:for(;g<14;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(i.nlen=257+(31&m),m>>>=5,g-=5,i.ndist=1+(31&m),m>>>=5,g-=5,i.ncode=4+(15&m),m>>>=4,g-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;g<3;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}i.lens[N[i.have++]]=7&m,m>>>=3,g-=3}for(;i.have<19;)i.lens[N[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,D={bits:i.lenbits},O=n(0,i.lens,0,19,i.lencode,0,i.work,D),i.lenbits=D.bits,O){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;R=(q=i.lencode[m&(1<<i.lenbits)-1])>>>16&255,k=65535&q,!((x=q>>>24)<=g);){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(k<16)m>>>=x,g-=x,i.lens[i.have++]=k;else{if(16===k){for(P=x+2;g<P;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(m>>>=x,g-=x,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}M=i.lens[i.have-1],w=3+(3&m),m>>>=2,g-=2}else if(17===k){for(P=x+3;g<P;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}g-=x,M=0,w=3+(7&(m>>>=x)),m>>>=3,g-=3}else{for(P=x+7;g<P;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}g-=x,M=0,w=11+(127&(m>>>=x)),m>>>=7,g-=7}if(i.have+w>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;w--;)i.lens[i.have++]=M}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,D={bits:i.lenbits},O=n(1,i.lens,0,i.nlen,i.lencode,0,i.work,D),i.lenbits=D.bits,O){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,D={bits:i.distbits},O=n(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,D),i.distbits=D.bits,O){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=h&&258<=y){e.next_out=p,e.avail_out=y,e.next_in=l,e.avail_in=h,i.hold=m,i.bits=g,a(e,T),p=e.next_out,u=e.output,y=e.avail_out,l=e.next_in,c=e.input,h=e.avail_in,m=i.hold,g=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;R=(q=i.lencode[m&(1<<i.lenbits)-1])>>>16&255,k=65535&q,!((x=q>>>24)<=g);){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(R&&0==(240&R)){for(C=x,A=R,I=k;R=(q=i.lencode[I+((m&(1<<C+A)-1)>>C)])>>>16&255,k=65535&q,!(C+(x=q>>>24)<=g);){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}m>>>=C,g-=C,i.back+=C}if(m>>>=x,g-=x,i.back+=x,i.length=k,0===R){i.mode=26;break}if(32&R){i.back=-1,i.mode=12;break}if(64&R){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&R,i.mode=22;case 22:if(i.extra){for(P=i.extra;g<P;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}i.length+=m&(1<<i.extra)-1,m>>>=i.extra,g-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;R=(q=i.distcode[m&(1<<i.distbits)-1])>>>16&255,k=65535&q,!((x=q>>>24)<=g);){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(0==(240&R)){for(C=x,A=R,I=k;R=(q=i.distcode[I+((m&(1<<C+A)-1)>>C)])>>>16&255,k=65535&q,!(C+(x=q>>>24)<=g);){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}m>>>=C,g-=C,i.back+=C}if(m>>>=x,g-=x,i.back+=x,64&R){e.msg="invalid distance code",i.mode=30;break}i.offset=k,i.extra=15&R,i.mode=24;case 24:if(i.extra){for(P=i.extra;g<P;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}i.offset+=m&(1<<i.extra)-1,m>>>=i.extra,g-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===y)break e;if(w=T-y,i.offset>w){if((w=i.offset-w)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}S=w>i.wnext?(w-=i.wnext,i.wsize-w):i.wnext-w,w>i.length&&(w=i.length),E=i.window}else E=u,S=p-i.offset,w=i.length;for(y<w&&(w=y),y-=w,i.length-=w;u[p++]=E[S++],--w;);0===i.length&&(i.mode=21);break;case 26:if(0===y)break e;u[p++]=i.length,y--,i.mode=21;break;case 27:if(i.wrap){for(;g<32;){if(0===h)break e;h--,m|=c[l++]<<g,g+=8}if(T-=y,e.total_out+=T,i.total+=T,T&&(e.adler=i.check=i.flags?f(i.check,u,T,p-T):s(i.check,u,T,p-T)),T=y,(i.flags?m:d(m))!==i.check){e.msg="incorrect data check",i.mode=30;break}g=m=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;g<32;){if(0===h)break e;h--,m+=c[l++]<<g,g+=8}if(m!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}g=m=0}i.mode=29;case 29:O=1;break e;case 30:O=-3;break e;case 31:return-4;case 32:default:return o}return e.next_out=p,e.avail_out=y,e.next_in=l,e.avail_in=h,i.hold=m,i.bits=g,(i.wsize||T!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&v(e,e.output,e.next_out,T-e.avail_out)?(i.mode=31,-4):(b-=e.avail_in,T-=e.avail_out,e.total_in+=b,e.total_out+=T,i.total+=T,i.wrap&&T&&(e.adler=i.check=i.flags?f(i.check,u,T,e.next_out-T):s(i.check,u,T,e.next_out-T)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==b&&0===T||4===t)&&0===O&&(O=-5),O)},i.inflateEnd=function(e){if(!e||!e.state)return o;var t=e.state;return t.window&&(t.window=null),e.state=null,0},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?o:((i.head=t).done=!1,0):o},i.inflateSetDictionary=function(e,t){var i,r=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?o:11===i.mode&&s(1,t,r,0)!==i.check?-3:v(e,t,r,r)?(i.mode=31,-4):(i.havedict=1,0):o},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){"use strict";var r=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,o,d,c,u,l){var p,h,y,m,g,_,v,b,T,w=l.bits,S=0,E=0,x=0,R=0,k=0,C=0,A=0,I=0,M=0,O=0,D=null,P=0,q=new r.Buf16(16),B=new r.Buf16(16),N=null,L=0;for(S=0;S<=15;S++)q[S]=0;for(E=0;E<o;E++)q[t[i+E]]++;for(k=w,R=15;1<=R&&0===q[R];R--);if(R<k&&(k=R),0===R)return d[c++]=20971520,d[c++]=20971520,l.bits=1,0;for(x=1;x<R&&0===q[x];x++);for(k<x&&(k=x),S=I=1;S<=15;S++)if(I<<=1,(I-=q[S])<0)return-1;if(0<I&&(0===e||1!==R))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+q[S];for(E=0;E<o;E++)0!==t[i+E]&&(u[B[t[i+E]]++]=E);if(_=0===e?(D=N=u,19):1===e?(D=s,P-=257,N=f,L-=257,256):(D=a,N=n,-1),S=x,g=c,A=E=O=0,y=-1,m=(M=1<<(C=k))-1,1===e&&852<M||2===e&&592<M)return 1;for(;;){for(v=S-A,T=u[E]<_?(b=0,u[E]):u[E]>_?(b=N[L+u[E]],D[P+u[E]]):(b=96,0),p=1<<S-A,x=h=1<<C;d[g+(O>>A)+(h-=p)]=v<<24|b<<16|T|0,0!==h;);for(p=1<<S-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,E++,0==--q[S]){if(S===R)break;S=t[i+u[E]]}if(k<S&&(O&m)!==y){for(0===A&&(A=k),g+=x,I=1<<(C=S-A);C+A<R&&!((I-=q[C+A])<=0);)C++,I<<=1;if(M+=1<<C,1===e&&852<M||2===e&&592<M)return 1;d[y=O&m]=k<<24|C<<16|g-c|0}}return 0!==O&&(d[g+O]=S-A<<24|64<<16|0),l.bits=k,0}},{"../utils/common":41}],51:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){"use strict";var r=e("../utils/common");function s(e){for(var t=e.length;0<=--t;)e[t]=0}var f=256,a=286,n=30,o=15,d=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);s(p);var h=new Array(60);s(h);var y=new Array(512);s(y);var m=new Array(256);s(m);var g=new Array(29);s(g);var _,v,b,T=new Array(n);function w(e,t,i,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function E(e){return e<256?y[e]:y[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function R(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function k(e,t,i){R(e,i[2*t],i[2*t+1])}function C(e,t){for(var i=0;i|=1&e,e>>>=1,i<<=1,0<--t;);return i>>>1}function A(e,t,i){var r,s,f=new Array(16),a=0;for(r=1;r<=o;r++)f[r]=a=a+i[r-1]<<1;for(s=0;s<=t;s++){var n=e[2*s+1];0!==n&&(e[2*s]=C(f[n]++,n))}}function I(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<n;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?x(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function O(e,t,i,r){var s=2*t,f=2*i;return e[s]<e[f]||e[s]===e[f]&&r[t]<=r[i]}function D(e,t,i){for(var r=e.heap[i],s=i<<1;s<=e.heap_len&&(s<e.heap_len&&O(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!O(t,r,e.heap[s],e.depth));)e.heap[i]=e.heap[s],i=s,s<<=1;e.heap[i]=r}function P(e,t,i){var r,s,a,n,o=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],s=e.pending_buf[e.l_buf+o],o++,0===r?k(e,s,t):(k(e,(a=m[s])+f+1,t),0!==(n=d[a])&&R(e,s-=g[a],n),k(e,a=E(--r),i),0!==(n=c[a])&&R(e,r-=T[a],n)),o<e.last_lit;);k(e,256,t)}function q(e,t){var i,r,s,f=t.dyn_tree,a=t.stat_desc.static_tree,n=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<d;i++)0!==f[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):f[2*i+1]=0;for(;e.heap_len<2;)f[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,n&&(e.static_len-=a[2*s+1]);for(t.max_code=c,i=e.heap_len>>1;1<=i;i--)D(e,f,i);for(s=d;i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,f,1),r=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=r,f[2*s]=f[2*i]+f[2*r],e.depth[s]=(e.depth[i]>=e.depth[r]?e.depth[i]:e.depth[r])+1,f[2*i+1]=f[2*r+1]=s,e.heap[1]=s++,D(e,f,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,r,s,f,a,n,d=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,l=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,y=t.stat_desc.max_length,m=0;for(f=0;f<=o;f++)e.bl_count[f]=0;for(d[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)y<(f=d[2*d[2*(r=e.heap[i])+1]+1]+1)&&(f=y,m++),d[2*r+1]=f,c<r||(e.bl_count[f]++,a=0,h<=r&&(a=p[r-h]),n=d[2*r],e.opt_len+=n*(f+a),l&&(e.static_len+=n*(u[2*r+1]+a)));if(0!==m){do{for(f=y-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[y]--,m-=2}while(0<m);for(f=y;0!==f;f--)for(r=e.bl_count[f];0!==r;)c<(s=e.heap[--i])||(d[2*s+1]!==f&&(e.opt_len+=(f-d[2*s+1])*d[2*s],d[2*s+1]=f),r--)}}(e,t),A(f,c,e.bl_count)}function B(e,t,i){var r,s,f=-1,a=t[1],n=0,o=7,d=4;for(0===a&&(o=138,d=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)s=a,a=t[2*(r+1)+1],++n<o&&s===a||(n<d?e.bl_tree[2*s]+=n:0!==s?(s!==f&&e.bl_tree[2*s]++,e.bl_tree[32]++):n<=10?e.bl_tree[34]++:e.bl_tree[36]++,f=s,d=(n=0)===a?(o=138,3):s===a?(o=6,3):(o=7,4))}function N(e,t,i){var r,s,f=-1,a=t[1],n=0,o=7,d=4;for(0===a&&(o=138,d=3),r=0;r<=i;r++)if(s=a,a=t[2*(r+1)+1],!(++n<o&&s===a)){if(n<d)for(;k(e,s,e.bl_tree),0!=--n;);else 0!==s?(s!==f&&(k(e,s,e.bl_tree),n--),k(e,16,e.bl_tree),R(e,n-3,2)):n<=10?(k(e,17,e.bl_tree),R(e,n-3,3)):(k(e,18,e.bl_tree),R(e,n-11,7));f=s,d=(n=0)===a?(o=138,3):s===a?(o=6,3):(o=7,4)}}s(T);var L=!1;function j(e,t,i,s){R(e,0+(s?1:0),3),function(e,t,i,s){M(e),x(e,i),x(e,~i),r.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}i._tr_init=function(e){L||(function(){var e,t,i,r,s,f=new Array(16);for(r=i=0;r<28;r++)for(g[r]=i,e=0;e<1<<d[r];e++)m[i++]=r;for(m[i-1]=r,r=s=0;r<16;r++)for(T[r]=s,e=0;e<1<<c[r];e++)y[s++]=r;for(s>>=7;r<n;r++)for(T[r]=s<<7,e=0;e<1<<c[r]-7;e++)y[256+s++]=r;for(t=0;t<=o;t++)f[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,f[8]++;for(;e<=255;)p[2*e+1]=9,e++,f[9]++;for(;e<=279;)p[2*e+1]=7,e++,f[7]++;for(;e<=287;)p[2*e+1]=8,e++,f[8]++;for(A(p,287,f),e=0;e<n;e++)h[2*e+1]=5,h[2*e]=C(e,5);_=new w(p,d,257,a,o),v=new w(h,c,0,n,o),b=new w(new Array(0),u,0,19,7)}(),L=!0),e.l_desc=new S(e.dyn_ltree,_),e.d_desc=new S(e.dyn_dtree,v),e.bl_desc=new S(e.bl_tree,b),e.bi_buf=0,e.bi_valid=0,I(e)},i._tr_stored_block=j,i._tr_flush_block=function(e,t,i,r){var s,a,n=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),q(e,e.l_desc),q(e,e.d_desc),n=function(e){var t;for(B(e,e.dyn_ltree,e.l_desc.max_code),B(e,e.dyn_dtree,e.d_desc.max_code),q(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=i+5,i+4<=s&&-1!==t?j(e,t,i,r):4===e.strategy||a===s?(R(e,2+(r?1:0),3),P(e,p,h)):(R(e,4+(r?1:0),3),function(e,t,i,r){var s;for(R(e,t-257,5),R(e,i-1,5),R(e,r-4,4),s=0;s<r;s++)R(e,e.bl_tree[2*l[s]+1],3);N(e,e.dyn_ltree,t-1),N(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,n+1),P(e,e.dyn_ltree,e.dyn_dtree)),I(e),r&&M(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(m[i]+f+1)]++,e.dyn_dtree[2*E(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){R(e,2,3),k(e,256,p),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var i,r,f,a,n=1,o={},d=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,i="[object process]"==={}.toString.call(e.process)?function(e){s.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((f=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){f.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(p,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return o[n]=s,i(n),n++},u.clearImmediate=l}function l(e){delete o[e]}function p(e){if(d)setTimeout(p,0,e);else{var t=o[e];if(t){d=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{l(e),d=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,i(26).Buffer,i(952).setImmediate,i(58),i(127))},4562:function(e){e.exports=JSON.parse('{"name":"@onekeyfe/hd-core","version":"0.3.15","description":"> TODO: description","author":"OneKey","homepage":"https://github.com/OneKeyHQ/hardware-js-sdk#readme","license":"ISC","main":"dist/index.js","types":"dist/index.d.ts","repository":{"type":"git","url":"git+https://github.com/OneKeyHQ/hardware-js-sdk.git"},"publishConfig":{"access":"public"},"scripts":{"dev":"rimraf dist && rollup -c ../../build/rollup.config.js -w","build":"rimraf dist && rollup -c ../../build/rollup.config.js","lint":"eslint .","lint:fix":"eslint . --fix","test":"jest"},"bugs":{"url":"https://github.com/OneKeyHQ/hardware-js-sdk/issues"},"dependencies":{"@onekeyfe/hd-shared":"^0.3.15","@onekeyfe/hd-transport":"^0.3.15","axios":"^0.27.2","bignumber.js":"^9.0.2","bytebuffer":"^5.0.1","jszip":"^3.10.1","parse-uri":"^1.0.7","semver":"^7.3.7"},"peerDependencies":{"@noble/hashes":"^1.1.3","ripple-keypairs":"^1.1.4"},"devDependencies":{"@noble/hashes":"^1.1.3","@types/parse-uri":"^1.0.0","@types/semver":"^7.3.9","ripple-keypairs":"^1.1.4"},"gitHead":"3c2dd011378ec987f6a9ab900d72a83bc6811608"}')},6076:function(e,t,i){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var s=i(309),f=i(70),a=i(107),n=i(2765),o=i(21),d=i(73),c=i(4555),u=i(1663),l=i(300),p=i(4556),h=i(630),y=i(3987),m=i(566),g=i(26);function _(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var v=_(s),b=_(a),T=_(n),w=_(o),S=_(p);const E=e=>({getLogs:()=>e({method:"getLogs"}),searchDevices:()=>e({method:"searchDevices"}),getFeatures:t=>e({connectId:t,method:"getFeatures"}),checkFirmwareRelease:t=>e({connectId:t,method:"checkFirmwareRelease"}),checkBLEFirmwareRelease:t=>e({connectId:t,method:"checkBLEFirmwareRelease"}),checkTransportRelease:()=>e({method:"checkTransportRelease"}),checkBridgeStatus:()=>e({method:"checkBridgeStatus"}),checkBridgeRelease:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"checkBridgeRelease"})),checkBootloaderRelease:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"checkBootloaderRelease"})),cipherKeyValue:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cipherKeyValue"})),deviceBackup:t=>e({connectId:t,method:"deviceBackup"}),deviceChangePin:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"deviceChangePin"})),deviceFlags:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"deviceFlags"})),deviceRebootToBoardloader:t=>e({connectId:t,method:"deviceRebootToBoardloader"}),deviceRebootToBootloader:t=>e({connectId:t,method:"deviceRebootToBootloader"}),deviceRecovery:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"deviceRecovery"})),deviceReset:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"deviceReset"})),deviceSettings:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"deviceSettings"})),deviceUpdateReboot:t=>e({connectId:t,method:"deviceUpdateReboot"}),deviceUploadResource:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"deviceUploadResource"})),deviceSupportFeatures:t=>e({connectId:t,method:"deviceSupportFeatures"}),deviceVerify:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"deviceVerify"})),deviceWipe:t=>e({connectId:t,method:"deviceWipe"}),deviceFullyUploadResource:t=>e({connectId:t,method:"deviceFullyUploadResource"}),deviceUpdateBootloader:t=>e({connectId:t,method:"deviceUpdateBootloader"}),getPassphraseState:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"getPassphraseState"})),evmGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"evmGetAddress"})),evmGetPublicKey:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"evmGetPublicKey"})),evmSignMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"evmSignMessage"})),evmSignMessageEIP712:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"evmSignMessageEIP712"})),evmSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"evmSignTransaction"})),evmSignTypedData:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"evmSignTypedData"})),evmVerifyMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"evmVerifyMessage"})),btcGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"btcGetAddress"})),btcGetPublicKey:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"btcGetPublicKey"})),btcSignMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"btcSignMessage"})),btcSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"btcSignTransaction"})),btcVerifyMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"btcVerifyMessage"})),starcoinGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"starcoinGetAddress"})),starcoinGetPublicKey:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"starcoinGetPublicKey"})),starcoinSignMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"starcoinSignMessage"})),starcoinSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"starcoinSignTransaction"})),starcoinVerifyMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"starcoinVerifyMessage"})),nemGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"nemGetAddress"})),nemSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"nemSignTransaction"})),solGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"solGetAddress"})),solSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"solSignTransaction"})),stellarGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"stellarGetAddress"})),stellarSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"stellarSignTransaction"})),firmwareUpdate:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"firmwareUpdate"})),firmwareUpdateV2:(t,i)=>e(Object.assign(Object.assign({},i),{connectId:t,method:"firmwareUpdateV2"})),requestWebUsbDevice:()=>e({method:"requestWebUsbDevice"}),tronGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"tronGetAddress"})),tronSignMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"tronSignMessage"})),tronSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"tronSignTransaction"})),confluxGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"confluxGetAddress"})),confluxSignMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"confluxSignMessage"})),confluxSignMessageCIP23:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"confluxSignMessageCIP23"})),confluxSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"confluxSignTransaction"})),nearGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"nearGetAddress"})),nearSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"nearSignTransaction"})),aptosGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"aptosGetAddress"})),aptosGetPublicKey:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"aptosGetPublicKey"})),aptosSignMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"aptosSignMessage"})),aptosSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"aptosSignTransaction"})),algoGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"algoGetAddress"})),algoSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"algoSignTransaction"})),cosmosGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cosmosGetAddress"})),cosmosGetPublicKey:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cosmosGetPublicKey"})),cosmosSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cosmosSignTransaction"})),xrpGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"xrpGetAddress"})),xrpSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"xrpSignTransaction"})),suiGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"suiGetAddress"})),suiGetPublicKey:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"suiGetPublicKey"})),suiSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"suiSignTransaction"})),cardanoGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cardanoGetAddress"})),cardanoGetPublicKey:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cardanoGetPublicKey"})),cardanoSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cardanoSignTransaction"})),cardanoSignMessage:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"cardanoSignMessage"})),filecoinGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"filecoinGetAddress"})),filecoinSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"filecoinSignTransaction"})),polkadotGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"polkadotGetAddress"})),polkadotSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"polkadotSignTransaction"})),kaspaGetAddress:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"kaspaGetAddress"})),kaspaSignTransaction:(t,i,r)=>e(Object.assign(Object.assign({},r),{connectId:t,deviceId:i,method:"kaspaSignTransaction"}))});var x,R={exports:{}},k="object"===typeof Reflect?Reflect:null,C=k&&"function"===typeof k.apply?k.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};x=k&&"function"===typeof k.ownKeys?k.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var A=Number.isNaN||function(e){return e!==e};function I(){I.init.call(this)}R.exports=I,R.exports.once=function(e,t){return new Promise((function(i,r){function s(i){e.removeListener(t,f),r(i)}function f(){"function"===typeof e.removeListener&&e.removeListener("error",s),i([].slice.call(arguments))}F(e,t,f,{once:!0}),"error"!==t&&function(e,t,i){"function"===typeof e.on&&F(e,"error",t,i)}(e,s,{once:!0})}))},I.EventEmitter=I,I.prototype._events=void 0,I.prototype._eventsCount=0,I.prototype._maxListeners=void 0;var M=10;function O(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function D(e){return void 0===e._maxListeners?I.defaultMaxListeners:e._maxListeners}function P(e,t,i,r){var s,f,a;if(O(i),void 0===(f=e._events)?(f=e._events=Object.create(null),e._eventsCount=0):(void 0!==f.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),f=e._events),a=f[t]),void 0===a)a=f[t]=i,++e._eventsCount;else if("function"===typeof a?a=f[t]=r?[i,a]:[a,i]:r?a.unshift(i):a.push(i),(s=D(e))>0&&a.length>s&&!a.warned){a.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=a.length,console&&console.warn}return e}function q(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function B(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},s=q.bind(r);return s.listener=i,r.wrapFn=s,s}function N(e,t,i){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"===typeof s?i?[s.listener||s]:[s]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(s):j(s,s.length)}function L(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function j(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function F(e,t,i,r){if("function"===typeof e.on)r.once?e.once(t,i):e.on(t,i);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(f){r.once&&e.removeEventListener(t,s),i(f)}))}}Object.defineProperty(I,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(e){if("number"!==typeof e||e<0||A(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");M=e}}),I.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},I.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||A(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},I.prototype.getMaxListeners=function(){return D(this)},I.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var f;if(t.length>0&&(f=t[0]),f instanceof Error)throw f;var a=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw a.context=f,a}var n=s[e];if(void 0===n)return!1;if("function"===typeof n)C(n,this,t);else{var o=n.length,d=j(n,o);for(i=0;i<o;++i)C(d[i],this,t)}return!0},I.prototype.addListener=function(e,t){return P(this,e,t,!1)},I.prototype.on=I.prototype.addListener,I.prototype.prependListener=function(e,t){return P(this,e,t,!0)},I.prototype.once=function(e,t){return O(t),this.on(e,B(this,e,t)),this},I.prototype.prependOnceListener=function(e,t){return O(t),this.prependListener(e,B(this,e,t)),this},I.prototype.removeListener=function(e,t){var i,r,s,f,a;if(O(t),void 0===(r=this._events))return this;if(void 0===(i=r[e]))return this;if(i===t||i.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!==typeof i){for(s=-1,f=i.length-1;f>=0;f--)if(i[f]===t||i[f].listener===t){a=i[f].listener,s=f;break}if(s<0)return this;0===s?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,s),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},I.prototype.off=I.prototype.removeListener,I.prototype.removeAllListeners=function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var s,f=Object.keys(i);for(r=0;r<f.length;++r)"removeListener"!==(s=f[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},I.prototype.listeners=function(e){return N(this,e,!0)},I.prototype.rawListeners=function(e){return N(this,e,!1)},I.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):L.call(e,t)},I.prototype.listenerCount=L,I.prototype.eventNames=function(){return this._eventsCount>0?x(this._events):[]};const U=new R.exports;function H(e,t,i,r){return new(i||(i=Promise))((function(s,f){function a(e){try{o(r.next(e))}catch(t){f(t)}}function n(e){try{o(r.throw(e))}catch(t){f(t)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,n)}o((r=r.apply(e,t||[])).next())}))}function z(e){var t="function"===typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=z(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(t){return new Promise((function(r,s){(function(e,t,i,r){Promise.resolve(r).then((function(t){e({value:t,done:i})}),t)})(r,s,(t=e[i](t)).done,t.value)}))}}}const K=e=>(2147483648|e)>>>0,V=e=>(2147483647&e)>>>0,W=f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Not a valid path"),Y=f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Path cannot contain negative values"),Z=e=>{const t=e.toLowerCase().split("/");if("m"!==t[0])throw W;return t.filter(e=>"m"!==e&&""!==e).map(e=>{let t=!1;"'"===e.substr(e.length-1)&&(t=!0,e=e.substr(0,e.length-1));let i=parseInt(e);if(Number.isNaN(i))throw W;if(i<0)throw Y;return t&&(i=K(i)),i})},X=e=>{if(!Array.isArray(e)||e.length<1)return"SPENDADDRESS";switch(V(e[0])){case 48:return"SPENDMULTISIG";case 49:return"SPENDP2SHWITNESS";case 84:return"SPENDWITNESS";case 86:case 10025:return"SPENDTAPROOT";default:return"SPENDADDRESS"}},$=e=>{if(!Array.isArray(e)||e.length<1)return"PAYTOADDRESS";if(49===e[0])return"PAYTOP2SHWITNESS";switch(V(e[0])){case 48:return"PAYTOMULTISIG";case 49:return"PAYTOP2SHWITNESS";case 84:return"PAYTOWITNESS";case 86:case 10025:return"PAYTOTAPROOT";default:return"PAYTOADDRESS"}},J=e=>"m/"+e.map(e=>2147483648&e?(2147483647&e)+"'":e).join("/"),Q=(e,t=0,i=!1)=>{let r;if(r="string"===typeof e?Z(e):Array.isArray(e)?e.map(e=>{const t=parseInt(e);if(Number.isNaN(t))throw W;if(t<0)throw Y;return t}):void 0,!r)throw W;if(t>0&&r.length<t)throw W;return i?r.splice(0,3):r},ee=e=>e&&"object"===typeof e&&e.model?"1"===e.model?"model_mini":"model_touch":"model_mini",te=e=>{if(!e||"object"!==typeof e||!e.serial_no)return"classic";const t=e.serial_no.slice(0,2);return"mi"===t.toLowerCase()?"mini":"tc"===t.toLowerCase()?"touch":"classic"},ie=e=>e?e.startsWith("MI")?"mini":e.startsWith("T")?"touch":"classic":"classic",re=e=>{var t,i;return"classic"===te(e)?null!==(t=e.onekey_serial)&&void 0!==t?t:"":null!==(i=e.serial_no)&&void 0!==i?i:""},se=e=>{const t=te(e);return"string"===typeof e.label?e.label:"My OneKey "+(t.charAt(0).toUpperCase()+t.slice(1))},fe=e=>e?e.onekey_version?e.onekey_version.split("."):[e.major_version,e.minor_version,e.patch_version]:[0,0,0],ae=e=>e.ble_ver&&v.default.valid(e.ble_ver)?e.ble_ver.split("."):null,ne=e=>e.bootloader_version?v.default.valid(e.bootloader_version)?e.bootloader_version.split("."):[0,0,0]:e.bootloader_mode?[e.major_version,e.minor_version,e.patch_version]:[0,0,0],oe=e=>{if(!e)return{support:!1};if("touch"===te(e))return{support:!1};const t=fe(e).join(".");return{support:v.default.gte(t,"2.3.0"),require:"2.3.0"}},de=(e,t)=>H(void 0,void 0,void 0,(function*(){if(!e)return!1;const{message:i,type:r}=yield t.typedCall("GetAddress","Address",{address_n:[K(44),K(1),K(0),0,0],coin_name:"Testnet",script_type:"SPENDADDRESS",show_display:!1});if("CallMethodError"===r)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Get the passphrase state error");return i.address})),ce=e=>{if(!e)return!1;const t=fe(e).join("."),i=te(e);return"touch"===i||"pro"===i?v.default.gte(t,"3.1.0"):v.default.gte(t,"2.6.0")},ue=e=>{if(!e)return{support:!1};const t=fe(e).join("."),i=te(e);return"classic"===i||"mini"===i?{support:!0}:{support:v.default.gte(t,"3.4.0")}},le=(e,t)=>{const i=te(e),r=fe(e);return"ble"===t?"ble":"classic"===i||"mini"===i?"firmware-v3":"touch"===i?v.default.lt(r.join("."),"3.4.0")?"firmware":"firmware-v3":"firmware"};var pe={nested:{AlgorandGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:3}}},AlgorandAddress:{fields:{address:{type:"string",id:1}}},AlgorandSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AlgorandSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},AptosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},AptosAddress:{fields:{address:{type:"string",id:1}}},AptosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AptosSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AptosSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},payload:{rule:"required",type:"AptosMessagePayload",id:2}},nested:{AptosMessagePayload:{fields:{address:{type:"string",id:2},chain_id:{type:"string",id:3},application:{type:"string",id:4},nonce:{rule:"required",type:"string",id:5},message:{rule:"required",type:"string",id:6}}}}},AptosMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},BinanceGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinanceAddress:{fields:{address:{rule:"required",type:"string",id:1}}},BinanceGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinancePublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},BinanceSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},msg_count:{type:"uint32",id:2},account_number:{type:"sint64",id:3},chain_id:{type:"string",id:4},memo:{type:"string",id:5},sequence:{type:"sint64",id:6},source:{type:"sint64",id:7}}},BinanceTxRequest:{fields:{}},BinanceTransferMsg:{fields:{inputs:{rule:"repeated",type:"BinanceInputOutput",id:1},outputs:{rule:"repeated",type:"BinanceInputOutput",id:2}},nested:{BinanceInputOutput:{fields:{address:{type:"string",id:1},coins:{rule:"repeated",type:"BinanceCoin",id:2}}},BinanceCoin:{fields:{amount:{type:"sint64",id:1},denom:{type:"string",id:2}}}}},BinanceOrderMsg:{fields:{id:{type:"string",id:1},ordertype:{type:"BinanceOrderType",id:2},price:{type:"sint64",id:3},quantity:{type:"sint64",id:4},sender:{type:"string",id:5},side:{type:"BinanceOrderSide",id:6},symbol:{type:"string",id:7},timeinforce:{type:"BinanceTimeInForce",id:8}},nested:{BinanceOrderType:{values:{OT_UNKNOWN:0,MARKET:1,LIMIT:2,OT_RESERVED:3}},BinanceOrderSide:{values:{SIDE_UNKNOWN:0,BUY:1,SELL:2}},BinanceTimeInForce:{values:{TIF_UNKNOWN:0,GTE:1,TIF_RESERVED:2,IOC:3}}}},BinanceCancelMsg:{fields:{refid:{type:"string",id:1},sender:{type:"string",id:2},symbol:{type:"string",id:3}}},BinanceSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},public_key:{rule:"required",type:"bytes",id:2}}},InputScriptType:{values:{SPENDADDRESS:0,SPENDMULTISIG:1,EXTERNAL:2,SPENDWITNESS:3,SPENDP2SHWITNESS:4,SPENDTAPROOT:5}},OutputScriptType:{values:{PAYTOADDRESS:0,PAYTOSCRIPTHASH:1,PAYTOMULTISIG:2,PAYTOOPRETURN:3,PAYTOWITNESS:4,PAYTOP2SHWITNESS:5,PAYTOTAPROOT:6}},DecredStakingSpendType:{values:{SSGen:0,SSRTX:1}},AmountUnit:{values:{BITCOIN:0,MILLIBITCOIN:1,MICROBITCOIN:2,SATOSHI:3}},MultisigRedeemScriptType:{fields:{pubkeys:{rule:"repeated",type:"HDNodePathType",id:1},signatures:{rule:"repeated",type:"bytes",id:2},m:{rule:"required",type:"uint32",id:3},nodes:{rule:"repeated",type:"HDNodeType",id:4},address_n:{rule:"repeated",type:"uint32",id:5,options:{packed:!1}}},nested:{HDNodePathType:{fields:{node:{rule:"required",type:"HDNodeType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},GetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},PublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2},root_fingerprint:{type:"uint32",id:3}}},GetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},show_display:{type:"bool",id:3},multisig:{type:"MultisigRedeemScriptType",id:4},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},Address:{fields:{address:{rule:"required",type:"string",id:1}}},GetOwnershipId:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},multisig:{type:"MultisigRedeemScriptType",id:3},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}}}},OwnershipId:{fields:{ownership_id:{rule:"required",type:"bytes",id:1}}},SignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}},no_script_type:{type:"bool",id:5}}},MessageSignature:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2}}},VerifyMessage:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}}}},SignTx:{fields:{outputs_count:{rule:"required",type:"uint32",id:1},inputs_count:{rule:"required",type:"uint32",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},version:{type:"uint32",id:4,options:{default:1}},lock_time:{type:"uint32",id:5,options:{default:0}},expiry:{type:"uint32",id:6},overwintered:{type:"bool",id:7,options:{deprecated:!0}},version_group_id:{type:"uint32",id:8},timestamp:{type:"uint32",id:9},branch_id:{type:"uint32",id:10},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}},decred_staking_ticket:{type:"bool",id:12,options:{default:!1}}}},TxRequest:{fields:{request_type:{type:"RequestType",id:1},details:{type:"TxRequestDetailsType",id:2},serialized:{type:"TxRequestSerializedType",id:3}},nested:{RequestType:{values:{TXINPUT:0,TXOUTPUT:1,TXMETA:2,TXFINISHED:3,TXEXTRADATA:4,TXORIGINPUT:5,TXORIGOUTPUT:6}},TxRequestDetailsType:{fields:{request_index:{type:"uint32",id:1},tx_hash:{type:"bytes",id:2},extra_data_len:{type:"uint32",id:3},extra_data_offset:{type:"uint32",id:4}}},TxRequestSerializedType:{fields:{signature_index:{type:"uint32",id:1},signature:{type:"bytes",id:2},serialized_tx:{type:"bytes",id:3}}}}},TxAck:{options:{deprecated:!0},fields:{tx:{type:"TransactionType",id:1}},nested:{TransactionType:{fields:{version:{type:"uint32",id:1},inputs:{rule:"repeated",type:"TxInputType",id:2},bin_outputs:{rule:"repeated",type:"TxOutputBinType",id:3},lock_time:{type:"uint32",id:4},outputs:{rule:"repeated",type:"TxOutputType",id:5},inputs_cnt:{type:"uint32",id:6},outputs_cnt:{type:"uint32",id:7},extra_data:{type:"bytes",id:8},extra_data_len:{type:"uint32",id:9},expiry:{type:"uint32",id:10},overwintered:{type:"bool",id:11,options:{deprecated:!0}},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}},nested:{TxInputType:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutputBinType:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxOutputType:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}}}}}},TxInput:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{rule:"required",type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutput:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}},PrevTx:{fields:{version:{rule:"required",type:"uint32",id:1},lock_time:{rule:"required",type:"uint32",id:4},inputs_count:{rule:"required",type:"uint32",id:6},outputs_count:{rule:"required",type:"uint32",id:7},extra_data_len:{type:"uint32",id:9,options:{default:0}},expiry:{type:"uint32",id:10},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}}},PrevInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{rule:"required",type:"bytes",id:4},sequence:{rule:"required",type:"uint32",id:5},decred_tree:{type:"uint32",id:9}}},PrevOutput:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxAckInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckInputWrapper",id:1}},nested:{TxAckInputWrapper:{fields:{input:{rule:"required",type:"TxInput",id:2}}}}},TxAckOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckOutputWrapper",id:1}},nested:{TxAckOutputWrapper:{fields:{output:{rule:"required",type:"TxOutput",id:5}}}}},TxAckPrevMeta:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"PrevTx",id:1}}},TxAckPrevInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevInputWrapper",id:1}},nested:{TxAckPrevInputWrapper:{fields:{input:{rule:"required",type:"PrevInput",id:2}}}}},TxAckPrevOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevOutputWrapper",id:1}},nested:{TxAckPrevOutputWrapper:{fields:{output:{rule:"required",type:"PrevOutput",id:3}}}}},TxAckPrevExtraData:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevExtraDataWrapper",id:1}},nested:{TxAckPrevExtraDataWrapper:{fields:{extra_data_chunk:{rule:"required",type:"bytes",id:8}}}}},GetOwnershipProof:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:3,options:{default:"SPENDWITNESS"}},multisig:{type:"MultisigRedeemScriptType",id:4},user_confirmation:{type:"bool",id:5,options:{default:!1}},ownership_ids:{rule:"repeated",type:"bytes",id:6},commitment_data:{type:"bytes",id:7,options:{default:""}}}},OwnershipProof:{fields:{ownership_proof:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AuthorizeCoinJoin:{options:{"(unstable)":!0},fields:{coordinator:{rule:"required",type:"string",id:1},max_total_fee:{rule:"required",type:"uint64",id:2},fee_per_anonymity:{type:"uint32",id:3,options:{default:0}},address_n:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},coin_name:{type:"string",id:5,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}}}},GetPublicKeyMultiple:{fields:{addresses:{rule:"repeated",type:"BIP32Address",id:1},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}},nested:{BIP32Address:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},PublicKeyMultiple:{fields:{xpubs:{rule:"repeated",type:"string",id:1}}},FirmwareErase:{fields:{length:{type:"uint32",id:1}}},FirmwareRequest:{fields:{offset:{type:"uint32",id:1},length:{type:"uint32",id:2}}},FirmwareUpload:{fields:{payload:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},SelfTest:{fields:{payload:{type:"bytes",id:1}}},FirmwareErase_ex:{fields:{length:{type:"uint32",id:1}}},RebootType:{values:{Normal:0,Boardloader:1,BootLoader:2}},Reboot:{fields:{reboot_type:{rule:"required",type:"RebootType",id:1}}},FirmwareUpdateEmmc:{fields:{path:{rule:"required",type:"string",id:1},reboot_on_success:{type:"bool",id:2}}},CardanoDerivationType:{values:{LEDGER:0,ICARUS:1,ICARUS_TREZOR:2}},CardanoAddressType:{values:{BASE:0,BASE_SCRIPT_KEY:1,BASE_KEY_SCRIPT:2,BASE_SCRIPT_SCRIPT:3,POINTER:4,POINTER_SCRIPT:5,ENTERPRISE:6,ENTERPRISE_SCRIPT:7,BYRON:8,REWARD:14,REWARD_SCRIPT:15}},CardanoNativeScriptType:{values:{PUB_KEY:0,ALL:1,ANY:2,N_OF_K:3,INVALID_BEFORE:4,INVALID_HEREAFTER:5}},CardanoNativeScriptHashDisplayFormat:{values:{HIDE:0,BECH32:1,POLICY_ID:2}},CardanoTxOutputSerializationFormat:{values:{ARRAY_LEGACY:0,MAP_BABBAGE:1}},CardanoCertificateType:{values:{STAKE_REGISTRATION:0,STAKE_DEREGISTRATION:1,STAKE_DELEGATION:2,STAKE_POOL_REGISTRATION:3}},CardanoPoolRelayType:{values:{SINGLE_HOST_IP:0,SINGLE_HOST_NAME:1,MULTIPLE_HOST_NAME:2}},CardanoTxAuxiliaryDataSupplementType:{values:{NONE:0,GOVERNANCE_REGISTRATION_SIGNATURE:1}},CardanoGovernanceRegistrationFormat:{values:{CIP15:0,CIP36:1}},CardanoTxSigningMode:{values:{ORDINARY_TRANSACTION:0,POOL_REGISTRATION_AS_OWNER:1,MULTISIG_TRANSACTION:2,PLUTUS_TRANSACTION:3}},CardanoTxWitnessType:{values:{BYRON_WITNESS:0,SHELLEY_WITNESS:1}},CardanoBlockchainPointerType:{fields:{block_index:{rule:"required",type:"uint32",id:1},tx_index:{rule:"required",type:"uint32",id:2},certificate_index:{rule:"required",type:"uint32",id:3}}},CardanoNativeScript:{fields:{type:{rule:"required",type:"CardanoNativeScriptType",id:1},scripts:{rule:"repeated",type:"CardanoNativeScript",id:2},key_hash:{type:"bytes",id:3},key_path:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},required_signatures_count:{type:"uint32",id:5},invalid_before:{type:"uint64",id:6},invalid_hereafter:{type:"uint64",id:7}}},CardanoGetNativeScriptHash:{fields:{script:{rule:"required",type:"CardanoNativeScript",id:1},display_format:{rule:"required",type:"CardanoNativeScriptHashDisplayFormat",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoNativeScriptHash:{fields:{script_hash:{rule:"required",type:"bytes",id:1}}},CardanoAddressParametersType:{fields:{address_type:{rule:"required",type:"CardanoAddressType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},address_n_staking:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},staking_key_hash:{type:"bytes",id:4},certificate_pointer:{type:"CardanoBlockchainPointerType",id:5},script_payment_hash:{type:"bytes",id:6},script_staking_hash:{type:"bytes",id:7}}},CardanoGetAddress:{fields:{show_display:{type:"bool",id:2,options:{default:!1}},protocol_magic:{rule:"required",type:"uint32",id:3},network_id:{rule:"required",type:"uint32",id:4},address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:5},derivation_type:{rule:"required",type:"CardanoDerivationType",id:6}}},CardanoAddress:{fields:{address:{rule:"required",type:"string",id:1}}},CardanoGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoPublicKey:{fields:{xpub:{rule:"required",type:"string",id:1},node:{rule:"required",type:"HDNodeType",id:2}}},CardanoSignTxInit:{fields:{signing_mode:{rule:"required",type:"CardanoTxSigningMode",id:1},protocol_magic:{rule:"required",type:"uint32",id:2},network_id:{rule:"required",type:"uint32",id:3},inputs_count:{rule:"required",type:"uint32",id:4},outputs_count:{rule:"required",type:"uint32",id:5},fee:{rule:"required",type:"uint64",id:6},ttl:{type:"uint64",id:7},certificates_count:{rule:"required",type:"uint32",id:8},withdrawals_count:{rule:"required",type:"uint32",id:9},has_auxiliary_data:{rule:"required",type:"bool",id:10},validity_interval_start:{type:"uint64",id:11},witness_requests_count:{rule:"required",type:"uint32",id:12},minting_asset_groups_count:{rule:"required",type:"uint32",id:13},derivation_type:{rule:"required",type:"CardanoDerivationType",id:14},include_network_id:{type:"bool",id:15,options:{default:!1}},script_data_hash:{type:"bytes",id:16},collateral_inputs_count:{rule:"required",type:"uint32",id:17},required_signers_count:{rule:"required",type:"uint32",id:18},has_collateral_return:{type:"bool",id:19,options:{default:!1}},total_collateral:{type:"uint64",id:20},reference_inputs_count:{type:"uint32",id:21,options:{default:0}}}},CardanoTxInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxOutput:{fields:{address:{type:"string",id:1},address_parameters:{type:"CardanoAddressParametersType",id:2},amount:{rule:"required",type:"uint64",id:3},asset_groups_count:{rule:"required",type:"uint32",id:4},datum_hash:{type:"bytes",id:5},format:{type:"CardanoTxOutputSerializationFormat",id:6,options:{default:"ARRAY_LEGACY"}},inline_datum_size:{type:"uint32",id:7,options:{default:0}},reference_script_size:{type:"uint32",id:8,options:{default:0}}}},CardanoAssetGroup:{fields:{policy_id:{rule:"required",type:"bytes",id:1},tokens_count:{rule:"required",type:"uint32",id:2}}},CardanoToken:{fields:{asset_name_bytes:{rule:"required",type:"bytes",id:1},amount:{type:"uint64",id:2},mint_amount:{type:"sint64",id:3}}},CardanoTxInlineDatumChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoTxReferenceScriptChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoPoolOwner:{fields:{staking_key_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},staking_key_hash:{type:"bytes",id:2}}},CardanoPoolRelayParameters:{fields:{type:{rule:"required",type:"CardanoPoolRelayType",id:1},ipv4_address:{type:"bytes",id:2},ipv6_address:{type:"bytes",id:3},host_name:{type:"string",id:4},port:{type:"uint32",id:5}}},CardanoPoolMetadataType:{fields:{url:{rule:"required",type:"string",id:1},hash:{rule:"required",type:"bytes",id:2}}},CardanoPoolParametersType:{fields:{pool_id:{rule:"required",type:"bytes",id:1},vrf_key_hash:{rule:"required",type:"bytes",id:2},pledge:{rule:"required",type:"uint64",id:3},cost:{rule:"required",type:"uint64",id:4},margin_numerator:{rule:"required",type:"uint64",id:5},margin_denominator:{rule:"required",type:"uint64",id:6},reward_account:{rule:"required",type:"string",id:7},metadata:{type:"CardanoPoolMetadataType",id:10},owners_count:{rule:"required",type:"uint32",id:11},relays_count:{rule:"required",type:"uint32",id:12}}},CardanoTxCertificate:{fields:{type:{rule:"required",type:"CardanoCertificateType",id:1},path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},pool:{type:"bytes",id:3},pool_parameters:{type:"CardanoPoolParametersType",id:4},script_hash:{type:"bytes",id:5},key_hash:{type:"bytes",id:6}}},CardanoTxWithdrawal:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:2},script_hash:{type:"bytes",id:3},key_hash:{type:"bytes",id:4}}},CardanoGovernanceRegistrationDelegation:{fields:{voting_public_key:{rule:"required",type:"bytes",id:1},weight:{rule:"required",type:"uint32",id:2}}},CardanoGovernanceRegistrationParametersType:{fields:{voting_public_key:{type:"bytes",id:1},staking_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},reward_address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:3},nonce:{rule:"required",type:"uint64",id:4},format:{type:"CardanoGovernanceRegistrationFormat",id:5,options:{default:"CIP15"}},delegations:{rule:"repeated",type:"CardanoGovernanceRegistrationDelegation",id:6},voting_purpose:{type:"uint64",id:7}}},CardanoTxAuxiliaryData:{fields:{governance_registration_parameters:{type:"CardanoGovernanceRegistrationParametersType",id:1},hash:{type:"bytes",id:2}}},CardanoTxMint:{fields:{asset_groups_count:{rule:"required",type:"uint32",id:1}}},CardanoTxCollateralInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxRequiredSigner:{fields:{key_hash:{type:"bytes",id:1},key_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}},CardanoTxReferenceInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxItemAck:{fields:{}},CardanoTxAuxiliaryDataSupplement:{fields:{type:{rule:"required",type:"CardanoTxAuxiliaryDataSupplementType",id:1},auxiliary_data_hash:{type:"bytes",id:2},governance_signature:{type:"bytes",id:3}}},CardanoTxWitnessRequest:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},CardanoTxWitnessResponse:{fields:{type:{rule:"required",type:"CardanoTxWitnessType",id:1},pub_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3},chain_code:{type:"bytes",id:4}}},CardanoTxHostAck:{fields:{}},CardanoTxBodyHash:{fields:{tx_hash:{rule:"required",type:"bytes",id:1}}},CardanoSignTxFinished:{fields:{}},CardanoSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3},network_id:{rule:"required",type:"uint32",id:4}}},CardanoMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},key:{rule:"required",type:"bytes",id:2}}},Success:{fields:{message:{type:"string",id:1,options:{default:""}}}},Failure:{fields:{code:{type:"FailureType",id:1},message:{type:"string",id:2}},nested:{FailureType:{values:{Failure_UnexpectedMessage:1,Failure_ButtonExpected:2,Failure_DataError:3,Failure_ActionCancelled:4,Failure_PinExpected:5,Failure_PinCancelled:6,Failure_PinInvalid:7,Failure_InvalidSignature:8,Failure_ProcessError:9,Failure_NotEnoughFunds:10,Failure_NotInitialized:11,Failure_PinMismatch:12,Failure_WipeCodeMismatch:13,Failure_InvalidSession:14,Failure_FirmwareError:99}}}},ButtonRequest:{fields:{code:{type:"ButtonRequestType",id:1},pages:{type:"uint32",id:2}},nested:{ButtonRequestType:{values:{ButtonRequest_Other:1,ButtonRequest_FeeOverThreshold:2,ButtonRequest_ConfirmOutput:3,ButtonRequest_ResetDevice:4,ButtonRequest_ConfirmWord:5,ButtonRequest_WipeDevice:6,ButtonRequest_ProtectCall:7,ButtonRequest_SignTx:8,ButtonRequest_FirmwareCheck:9,ButtonRequest_Address:10,ButtonRequest_PublicKey:11,ButtonRequest_MnemonicWordCount:12,ButtonRequest_MnemonicInput:13,_Deprecated_ButtonRequest_PassphraseType:14,ButtonRequest_UnknownDerivationPath:15,ButtonRequest_RecoveryHomepage:16,ButtonRequest_Success:17,ButtonRequest_Warning:18,ButtonRequest_PassphraseEntry:19,ButtonRequest_PinEntry:20}}}},ButtonAck:{fields:{}},PinMatrixRequest:{fields:{type:{type:"PinMatrixRequestType",id:1}},nested:{PinMatrixRequestType:{values:{PinMatrixRequestType_Current:1,PinMatrixRequestType_NewFirst:2,PinMatrixRequestType_NewSecond:3,PinMatrixRequestType_WipeCodeFirst:4,PinMatrixRequestType_WipeCodeSecond:5,PinMatrixRequestType_BackupFirst:6,PinMatrixRequestType_BackupSecond:7}}}},PinMatrixAck:{fields:{pin:{rule:"required",type:"string",id:1},new_pin:{type:"string",id:2}}},PassphraseRequest:{fields:{_on_device:{type:"bool",id:1,options:{deprecated:!0}}}},PassphraseAck:{fields:{passphrase:{type:"string",id:1},_state:{type:"bytes",id:2,options:{deprecated:!0}},on_device:{type:"bool",id:3}}},Deprecated_PassphraseStateRequest:{options:{deprecated:!0},fields:{state:{type:"bytes",id:1}}},Deprecated_PassphraseStateAck:{options:{deprecated:!0},fields:{}},HDNodeType:{fields:{depth:{rule:"required",type:"uint32",id:1},fingerprint:{rule:"required",type:"uint32",id:2},child_num:{rule:"required",type:"uint32",id:3},chain_code:{rule:"required",type:"bytes",id:4},private_key:{type:"bytes",id:5},public_key:{rule:"required",type:"bytes",id:6}}},BixinPinInputOnDevice:{fields:{}},ConfluxGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint32",id:3}}},ConfluxAddress:{fields:{address:{type:"string",id:1}}},ConfluxSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2},gas_price:{type:"bytes",id:3},gas_limit:{type:"bytes",id:4},to:{type:"string",id:5},value:{type:"bytes",id:6},epoch_height:{type:"bytes",id:7},storage_limit:{type:"bytes",id:8},data_initial_chunk:{type:"bytes",id:9},data_length:{type:"uint32",id:10},chain_id:{type:"uint32",id:11}}},ConfluxTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},ConfluxTxAck:{fields:{data_chunk:{type:"bytes",id:1}}},ConfluxSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},ConfluxMessageSignature:{fields:{signature:{type:"bytes",id:2},address:{type:"string",id:3}}},ConfluxSignMessageCIP23:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},CosmosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},hrp:{type:"string",id:2},show_display:{type:"bool",id:3}}},CosmosAddress:{fields:{address:{type:"string",id:1}}},CosmosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},CosmosSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},CipherKeyValue:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"bytes",id:3},encrypt:{type:"bool",id:4},ask_on_encrypt:{type:"bool",id:5},ask_on_decrypt:{type:"bool",id:6},iv:{type:"bytes",id:7}}},CipheredKeyValue:{fields:{value:{rule:"required",type:"bytes",id:1}}},IdentityType:{fields:{proto:{type:"string",id:1},user:{type:"string",id:2},host:{type:"string",id:3},port:{type:"string",id:4},path:{type:"string",id:5},index:{type:"uint32",id:6,options:{default:0}}}},SignIdentity:{fields:{identity:{rule:"required",type:"IdentityType",id:1},challenge_hidden:{type:"bytes",id:2,options:{default:""}},challenge_visual:{type:"string",id:3,options:{default:""}},ecdsa_curve_name:{type:"string",id:4}}},SignedIdentity:{fields:{address:{type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3}}},GetECDHSessionKey:{fields:{identity:{rule:"required",type:"IdentityType",id:1},peer_public_key:{rule:"required",type:"bytes",id:2},ecdsa_curve_name:{type:"string",id:3}}},ECDHSessionKey:{fields:{session_key:{rule:"required",type:"bytes",id:1},public_key:{type:"bytes",id:2}}},CosiCommit:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2}}},CosiCommitment:{fields:{commitment:{type:"bytes",id:1},pubkey:{type:"bytes",id:2}}},CosiSign:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2},global_commitment:{type:"bytes",id:3},global_pubkey:{type:"bytes",id:4}}},CosiSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},BatchGetPublickeys:{fields:{ecdsa_curve_name:{type:"string",id:1,options:{default:"ed25519"}},paths:{rule:"repeated",type:"Path",id:2}},nested:{Path:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},EcdsaPublicKeys:{fields:{public_keys:{rule:"repeated",type:"bytes",id:1}}},DebugLinkDecision:{fields:{yes_no:{type:"bool",id:1},swipe:{type:"DebugSwipeDirection",id:2},input:{type:"string",id:3},x:{type:"uint32",id:4},y:{type:"uint32",id:5},wait:{type:"bool",id:6},hold_ms:{type:"uint32",id:7}},nested:{DebugSwipeDirection:{values:{UP:0,DOWN:1,LEFT:2,RIGHT:3}}}},DebugLinkLayout:{fields:{lines:{rule:"repeated",type:"string",id:1}}},DebugLinkReseedRandom:{fields:{value:{type:"uint32",id:1}}},DebugLinkRecordScreen:{fields:{target_directory:{type:"string",id:1}}},DebugLinkGetState:{fields:{wait_word_list:{type:"bool",id:1},wait_word_pos:{type:"bool",id:2},wait_layout:{type:"bool",id:3}}},DebugLinkState:{fields:{layout:{type:"bytes",id:1},pin:{type:"string",id:2},matrix:{type:"string",id:3},mnemonic_secret:{type:"bytes",id:4},node:{type:"HDNodeType",id:5},passphrase_protection:{type:"bool",id:6},reset_word:{type:"string",id:7},reset_entropy:{type:"bytes",id:8},recovery_fake_word:{type:"string",id:9},recovery_word_pos:{type:"uint32",id:10},reset_word_pos:{type:"uint32",id:11},mnemonic_type:{type:"BackupType",id:12},layout_lines:{rule:"repeated",type:"string",id:13}}},DebugLinkStop:{fields:{}},DebugLinkLog:{fields:{level:{type:"uint32",id:1},bucket:{type:"string",id:2},text:{type:"string",id:3}}},DebugLinkMemoryRead:{fields:{address:{type:"uint32",id:1},length:{type:"uint32",id:2}}},DebugLinkMemory:{fields:{memory:{type:"bytes",id:1}}},DebugLinkMemoryWrite:{fields:{address:{type:"uint32",id:1},memory:{type:"bytes",id:2},flash:{type:"bool",id:3}}},DebugLinkFlashErase:{fields:{sector:{type:"uint32",id:1}}},DebugLinkEraseSdCard:{fields:{format:{type:"bool",id:1}}},DebugLinkWatchLayout:{fields:{watch:{type:"bool",id:1}}},EmmcFixPermission:{fields:{}},EmmcPath:{fields:{exist:{rule:"required",type:"bool",id:1},size:{rule:"required",type:"uint64",id:2},year:{rule:"required",type:"uint32",id:3},month:{rule:"required",type:"uint32",id:4},day:{rule:"required",type:"uint32",id:5},hour:{rule:"required",type:"uint32",id:6},minute:{rule:"required",type:"uint32",id:7},second:{rule:"required",type:"uint32",id:8},readonly:{rule:"required",type:"bool",id:9},hidden:{rule:"required",type:"bool",id:10},system:{rule:"required",type:"bool",id:11},archive:{rule:"required",type:"bool",id:12},directory:{rule:"required",type:"bool",id:13}}},EmmcPathInfo:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcFile:{fields:{path:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"uint32",id:2},len:{rule:"required",type:"uint32",id:3},data:{type:"bytes",id:4},data_hash:{type:"uint32",id:5},processed_byte:{type:"uint32",id:6}}},EmmcFileRead:{fields:{file:{rule:"required",type:"EmmcFile",id:1},ui_percentage:{type:"uint32",id:2}}},EmmcFileWrite:{fields:{file:{rule:"required",type:"EmmcFile",id:1},overwrite:{rule:"required",type:"bool",id:2},append:{rule:"required",type:"bool",id:3},ui_percentage:{type:"uint32",id:4}}},EmmcFileDelete:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDir:{fields:{path:{rule:"required",type:"string",id:1},child_dirs:{type:"string",id:2},child_files:{type:"string",id:3}}},EmmcDirList:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirMake:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirRemove:{fields:{path:{rule:"required",type:"string",id:1}}},EosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},EosPublicKey:{fields:{wif_public_key:{rule:"required",type:"string",id:1},raw_public_key:{rule:"required",type:"bytes",id:2}}},EosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},chain_id:{type:"bytes",id:2},header:{type:"EosTxHeader",id:3},num_actions:{type:"uint32",id:4}},nested:{EosTxHeader:{fields:{expiration:{rule:"required",type:"uint32",id:1},ref_block_num:{rule:"required",type:"uint32",id:2},ref_block_prefix:{rule:"required",type:"uint32",id:3},max_net_usage_words:{rule:"required",type:"uint32",id:4},max_cpu_usage_ms:{rule:"required",type:"uint32",id:5},delay_sec:{rule:"required",type:"uint32",id:6}}}}},EosTxActionRequest:{fields:{data_size:{type:"uint32",id:1}}},EosTxActionAck:{fields:{common:{type:"EosActionCommon",id:1},transfer:{type:"EosActionTransfer",id:2},delegate:{type:"EosActionDelegate",id:3},undelegate:{type:"EosActionUndelegate",id:4},refund:{type:"EosActionRefund",id:5},buy_ram:{type:"EosActionBuyRam",id:6},buy_ram_bytes:{type:"EosActionBuyRamBytes",id:7},sell_ram:{type:"EosActionSellRam",id:8},vote_producer:{type:"EosActionVoteProducer",id:9},update_auth:{type:"EosActionUpdateAuth",id:10},delete_auth:{type:"EosActionDeleteAuth",id:11},link_auth:{type:"EosActionLinkAuth",id:12},unlink_auth:{type:"EosActionUnlinkAuth",id:13},new_account:{type:"EosActionNewAccount",id:14},unknown:{type:"EosActionUnknown",id:15}},nested:{EosAsset:{fields:{amount:{type:"sint64",id:1},symbol:{type:"uint64",id:2}}},EosPermissionLevel:{fields:{actor:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosAuthorizationKey:{fields:{type:{rule:"required",type:"uint32",id:1},key:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},weight:{rule:"required",type:"uint32",id:4}}},EosAuthorizationAccount:{fields:{account:{type:"EosPermissionLevel",id:1},weight:{type:"uint32",id:2}}},EosAuthorizationWait:{fields:{wait_sec:{type:"uint32",id:1},weight:{type:"uint32",id:2}}},EosAuthorization:{fields:{threshold:{type:"uint32",id:1},keys:{rule:"repeated",type:"EosAuthorizationKey",id:2},accounts:{rule:"repeated",type:"EosAuthorizationAccount",id:3},waits:{rule:"repeated",type:"EosAuthorizationWait",id:4}}},EosActionCommon:{fields:{account:{type:"uint64",id:1},name:{type:"uint64",id:2},authorization:{rule:"repeated",type:"EosPermissionLevel",id:3}}},EosActionTransfer:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3},memo:{type:"string",id:4}}},EosActionDelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4},transfer:{type:"bool",id:5}}},EosActionUndelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4}}},EosActionRefund:{fields:{owner:{type:"uint64",id:1}}},EosActionBuyRam:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3}}},EosActionBuyRamBytes:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},bytes:{type:"uint32",id:3}}},EosActionSellRam:{fields:{account:{type:"uint64",id:1},bytes:{type:"uint64",id:2}}},EosActionVoteProducer:{fields:{voter:{type:"uint64",id:1},proxy:{type:"uint64",id:2},producers:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}}}},EosActionUpdateAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2},parent:{type:"uint64",id:3},auth:{type:"EosAuthorization",id:4}}},EosActionDeleteAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosActionLinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3},requirement:{type:"uint64",id:4}}},EosActionUnlinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3}}},EosActionNewAccount:{fields:{creator:{type:"uint64",id:1},name:{type:"uint64",id:2},owner:{type:"EosAuthorization",id:3},active:{type:"EosAuthorization",id:4}}},EosActionUnknown:{fields:{data_size:{rule:"required",type:"uint32",id:1},data_chunk:{type:"bytes",id:2}}}}},EosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1}}},EthereumSignTypedData:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},primary_type:{rule:"required",type:"string",id:2},metamask_v4_compat:{type:"bool",id:3,options:{default:!0}},chain_id:{type:"uint64",id:4}}},EthereumTypedDataStructRequest:{fields:{name:{rule:"required",type:"string",id:1}}},EthereumTypedDataStructAck:{fields:{members:{rule:"repeated",type:"EthereumStructMember",id:1}},nested:{EthereumStructMember:{fields:{type:{rule:"required",type:"EthereumFieldType",id:1},name:{rule:"required",type:"string",id:2}}},EthereumFieldType:{fields:{data_type:{rule:"required",type:"EthereumDataType",id:1},size:{type:"uint32",id:2},entry_type:{type:"EthereumFieldType",id:3},struct_name:{type:"string",id:4}}},EthereumDataType:{values:{UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}}}},EthereumTypedDataValueRequest:{fields:{member_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},EthereumTypedDataValueAck:{fields:{value:{rule:"required",type:"bytes",id:1}}},EthereumGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumPublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2}}},EthereumGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumAddress:{fields:{_old_address:{type:"bytes",id:1,options:{deprecated:!0}},address:{type:"string",id:2}}},EthereumSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2,options:{default:""}},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{type:"string",id:11,options:{default:""}},value:{type:"bytes",id:6,options:{default:""}},data_initial_chunk:{type:"bytes",id:7,options:{default:""}},data_length:{type:"uint32",id:8,options:{default:0}},chain_id:{rule:"required",type:"uint64",id:9},tx_type:{type:"uint32",id:10}}},EthereumSignTxEIP1559:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{type:"string",id:6,options:{default:""}},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessList",id:11}},nested:{EthereumAccessList:{fields:{address:{rule:"required",type:"string",id:1},storage_keys:{rule:"repeated",type:"bytes",id:2}}}}},EthereumTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},EthereumTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},EthereumSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},chain_id:{type:"uint64",id:3}}},EthereumMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:2},address:{rule:"required",type:"string",id:3}}},EthereumVerifyMessage:{fields:{signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},address:{rule:"required",type:"string",id:4},chain_id:{type:"uint64",id:5}}},EthereumSignMessageEIP712:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},EthereumSignTypedHash:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_separator_hash:{rule:"required",type:"bytes",id:2},message_hash:{type:"bytes",id:3},chain_id:{type:"uint64",id:4}}},EthereumTypedDataSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},FilecoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},testnet:{type:"bool",id:3}}},FilecoinAddress:{fields:{address:{type:"string",id:1}}},FilecoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},testnet:{type:"bool",id:3}}},FilecoinSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},KaspaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"kaspa"}},scheme:{type:"string",id:4,options:{default:"schnorr"}}}},KaspaAddress:{fields:{address:{rule:"required",type:"string",id:1}}},KaspaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},scheme:{type:"string",id:3,options:{default:"schnorr"}},prefix:{type:"string",id:4,options:{default:"kaspa"}},input_count:{type:"uint32",id:5,options:{default:1}}}},KaspaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},KaspaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},KaspaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:2}}},BackupType:{values:{Bip39:0,Slip39_Basic:1,Slip39_Advanced:2}},SafetyCheckLevel:{values:{Strict:0,PromptAlways:1,PromptTemporarily:2}},Initialize:{fields:{session_id:{type:"bytes",id:1},_skip_passphrase:{type:"bool",id:2,options:{deprecated:!0}},derive_cardano:{type:"bool",id:3}}},GetFeatures:{fields:{}},Features:{fields:{vendor:{type:"string",id:1},major_version:{rule:"required",type:"uint32",id:2},minor_version:{rule:"required",type:"uint32",id:3},patch_version:{rule:"required",type:"uint32",id:4},bootloader_mode:{type:"bool",id:5},device_id:{type:"string",id:6},pin_protection:{type:"bool",id:7},passphrase_protection:{type:"bool",id:8},language:{type:"string",id:9},label:{type:"string",id:10},initialized:{type:"bool",id:12},revision:{type:"bytes",id:13},bootloader_hash:{type:"bytes",id:14},imported:{type:"bool",id:15},unlocked:{type:"bool",id:16},_passphrase_cached:{type:"bool",id:17,options:{deprecated:!0}},firmware_present:{type:"bool",id:18},needs_backup:{type:"bool",id:19},flags:{type:"uint32",id:20},model:{type:"string",id:21},fw_major:{type:"uint32",id:22},fw_minor:{type:"uint32",id:23},fw_patch:{type:"uint32",id:24},fw_vendor:{type:"string",id:25},fw_vendor_keys:{type:"bytes",id:26},unfinished_backup:{type:"bool",id:27},no_backup:{type:"bool",id:28},recovery_mode:{type:"bool",id:29},capabilities:{rule:"repeated",type:"Capability",id:30,options:{packed:!1}},backup_type:{type:"BackupType",id:31},sd_card_present:{type:"bool",id:32},sd_protection:{type:"bool",id:33},wipe_code_protection:{type:"bool",id:34},session_id:{type:"bytes",id:35},passphrase_always_on_device:{type:"bool",id:36},safety_checks:{type:"SafetyCheckLevel",id:37},auto_lock_delay_ms:{type:"uint32",id:38},display_rotation:{type:"uint32",id:39},experimental_features:{type:"bool",id:40},offset:{type:"uint32",id:500},ble_name:{type:"string",id:501},ble_ver:{type:"string",id:502},ble_enable:{type:"bool",id:503},se_enable:{type:"bool",id:504},se_ver:{type:"string",id:506},backup_only:{type:"bool",id:507},onekey_version:{type:"string",id:508},onekey_serial:{type:"string",id:509},bootloader_version:{type:"string",id:510},serial_no:{type:"string",id:511},spi_flash:{type:"string",id:512},initstates:{type:"uint32",id:513},NFT_voucher:{type:"bytes",id:514},cpu_info:{type:"string",id:515},pre_firmware:{type:"string",id:516},coin_switch:{type:"uint32",id:517},build_id:{type:"string",id:518},battery_level:{type:"uint32",id:520}},nested:{Capability:{options:{"(has_bitcoin_only_values)":!0},values:{Capability_Bitcoin:1,Capability_Bitcoin_like:2,Capability_Binance:3,Capability_Cardano:4,Capability_Crypto:5,Capability_EOS:6,Capability_Ethereum:7,Capability_Lisk:8,Capability_Monero:9,Capability_NEM:10,Capability_Ripple:11,Capability_Stellar:12,Capability_Tezos:13,Capability_U2F:14,Capability_Shamir:15,Capability_ShamirGroups:16,Capability_PassphraseEntry:17}}}},LockDevice:{fields:{}},EndSession:{fields:{}},ApplySettings:{fields:{language:{type:"string",id:1},label:{type:"string",id:2},use_passphrase:{type:"bool",id:3},homescreen:{type:"bytes",id:4},_passphrase_source:{type:"uint32",id:5,options:{deprecated:!0}},auto_lock_delay_ms:{type:"uint32",id:6},display_rotation:{type:"uint32",id:7},passphrase_always_on_device:{type:"bool",id:8},safety_checks:{type:"SafetyCheckLevel",id:9},experimental_features:{type:"bool",id:10},use_ble:{type:"bool",id:100},use_se:{type:"bool",id:101},is_bixinapp:{type:"bool",id:102},fastpay_pin:{type:"bool",id:103},fastpay_confirm:{type:"bool",id:104},fastpay_money_limit:{type:"uint64",id:105},fastpay_times:{type:"uint32",id:106}},nested:{ExportType:{values:{SeedEncExportType_NO:0,SeedEncExportType_YES:1,MnemonicPlainExportType_YES:2}}}},ApplyFlags:{fields:{flags:{rule:"required",type:"uint32",id:1}}},ChangePin:{fields:{remove:{type:"bool",id:1}}},ChangeWipeCode:{fields:{remove:{type:"bool",id:1}}},SdProtect:{fields:{operation:{rule:"required",type:"SdProtectOperationType",id:1}},nested:{SdProtectOperationType:{values:{DISABLE:0,ENABLE:1,REFRESH:2}}}},Ping:{fields:{message:{type:"string",id:1,options:{default:""}},button_protection:{type:"bool",id:2}}},Cancel:{fields:{}},GetEntropy:{fields:{size:{rule:"required",type:"uint32",id:1}}},Entropy:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},WipeDevice:{fields:{}},LoadDevice:{fields:{mnemonics:{rule:"repeated",type:"string",id:1},pin:{type:"string",id:3},passphrase_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7},u2f_counter:{type:"uint32",id:8},needs_backup:{type:"bool",id:9},no_backup:{type:"bool",id:10}}},ResetDevice:{fields:{display_random:{type:"bool",id:1},strength:{type:"uint32",id:2,options:{default:256}},passphrase_protection:{type:"bool",id:3},pin_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},u2f_counter:{type:"uint32",id:7},skip_backup:{type:"bool",id:8},no_backup:{type:"bool",id:9},backup_type:{type:"BackupType",id:10,options:{default:"Bip39"}}}},BackupDevice:{fields:{}},EntropyRequest:{fields:{}},EntropyAck:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},RecoveryDevice:{fields:{word_count:{type:"uint32",id:1},passphrase_protection:{type:"bool",id:2},pin_protection:{type:"bool",id:3},language:{type:"string",id:4},label:{type:"string",id:5},enforce_wordlist:{type:"bool",id:6},type:{type:"RecoveryDeviceType",id:8},u2f_counter:{type:"uint32",id:9},dry_run:{type:"bool",id:10}},nested:{RecoveryDeviceType:{values:{RecoveryDeviceType_ScrambledWords:0,RecoveryDeviceType_Matrix:1}}}},WordRequest:{fields:{type:{rule:"required",type:"WordRequestType",id:1}},nested:{WordRequestType:{values:{WordRequestType_Plain:0,WordRequestType_Matrix9:1,WordRequestType_Matrix6:2}}}},WordAck:{fields:{word:{rule:"required",type:"string",id:1}}},SetU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},GetNextU2FCounter:{fields:{}},NextU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},DoPreauthorized:{fields:{}},PreauthorizedRequest:{fields:{}},CancelAuthorization:{fields:{}},BixinSeedOperate:{fields:{type:{rule:"required",type:"SeedRequestType",id:1},seed_importData:{type:"bytes",id:2}},nested:{SeedRequestType:{values:{SeedRequestType_Gen:0,SeedRequestType_EncExport:1,SeedRequestType_EncImport:2}}}},BixinMessageSE:{fields:{inputmessage:{rule:"required",type:"bytes",id:1}}},BixinOutMessageSE:{fields:{outmessage:{type:"bytes",id:1}}},DeviceBackToBoot:{fields:{}},BixinBackupRequest:{fields:{}},BixinBackupAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinRestoreRequest:{fields:{data:{rule:"required",type:"bytes",id:1},language:{type:"string",id:2},label:{type:"string",id:3},passphrase_protection:{type:"bool",id:4}}},BixinRestoreAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceRequest:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceAck:{fields:{cert:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},BixinWhiteListRequest:{fields:{type:{rule:"required",type:"WL_OperationType",id:1},addr_in:{type:"string",id:2}},nested:{WL_OperationType:{values:{WL_OperationType_Add:0,WL_OperationType_Delete:1,WL_OperationType_Inquire:2}}}},BixinWhiteListAck:{fields:{address:{rule:"repeated",type:"string",id:1}}},BixinLoadDevice:{fields:{mnemonics:{rule:"required",type:"string",id:1},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7}}},BixinBackupDevice:{fields:{}},BixinBackupDeviceAck:{fields:{mnemonics:{rule:"required",type:"string",id:1}}},DeviceInfoSettings:{fields:{serial_no:{type:"string",id:1},cpu_info:{type:"string",id:2},pre_firmware:{type:"string",id:3}}},GetDeviceInfo:{fields:{}},DeviceInfo:{fields:{serial_no:{type:"string",id:1},spiFlash_info:{type:"string",id:2},SE_info:{type:"string",id:3},NFT_voucher:{type:"bytes",id:4},cpu_info:{type:"string",id:5},pre_firmware:{type:"string",id:6}}},ReadSEPublicKey:{fields:{}},SEPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},WriteSEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},ReadSEPublicCert:{fields:{}},SEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},SpiFlashWrite:{fields:{address:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2}}},SpiFlashRead:{fields:{address:{rule:"required",type:"uint32",id:1},len:{rule:"required",type:"uint32",id:2}}},SpiFlashData:{fields:{data:{rule:"required",type:"bytes",id:1}}},SESignMessage:{fields:{message:{rule:"required",type:"bytes",id:1}}},SEMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},ResourceUpload:{fields:{extension:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},res_type:{rule:"required",type:"ResourceType",id:3},nft_meta_data:{type:"bytes",id:4},zoom_data_length:{rule:"required",type:"uint32",id:5},file_name_no_ext:{type:"string",id:6}},nested:{ResourceType:{values:{WallPaper:0,Nft:1}}}},ZoomRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},ResourceUpdate:{fields:{file_name:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},initial_data_chunk:{rule:"required",type:"bytes",id:3},hash:{type:"bytes",id:4}}},NFTWriteInfo:{fields:{index:{rule:"required",type:"uint32",id:1},width:{rule:"required",type:"uint32",id:2},height:{rule:"required",type:"uint32",id:3},name_zh:{type:"string",id:4},name_en:{type:"string",id:5}}},NFTWriteData:{fields:{index:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2},offset:{rule:"required",type:"uint32",id:3}}},RebootToBootloader:{fields:{}},RebootToBoardloader:{fields:{}},ListResDir:{fields:{path:{rule:"required",type:"string",id:1}}},FileInfoList:{fields:{files:{rule:"repeated",type:"FileInfo",id:1}},nested:{FileInfo:{fields:{name:{rule:"required",type:"string",id:1},size:{rule:"required",type:"uint64",id:2}}}}},DeviceEraseSector:{fields:{sector:{rule:"required",type:"uint32",id:1}}},MoneroTransactionSourceEntry:{fields:{outputs:{rule:"repeated",type:"MoneroOutputEntry",id:1},real_output:{type:"uint64",id:2},real_out_tx_key:{type:"bytes",id:3},real_out_additional_tx_keys:{rule:"repeated",type:"bytes",id:4},real_output_in_tx_index:{type:"uint64",id:5},amount:{type:"uint64",id:6},rct:{type:"bool",id:7},mask:{type:"bytes",id:8},multisig_kLRki:{type:"MoneroMultisigKLRki",id:9},subaddr_minor:{type:"uint32",id:10}},nested:{MoneroOutputEntry:{fields:{idx:{type:"uint64",id:1},key:{type:"MoneroRctKeyPublic",id:2}},nested:{MoneroRctKeyPublic:{fields:{dest:{type:"bytes",id:1},commitment:{type:"bytes",id:2}}}}},MoneroMultisigKLRki:{fields:{K:{type:"bytes",id:1},L:{type:"bytes",id:2},R:{type:"bytes",id:3},ki:{type:"bytes",id:4}}}}},MoneroTransactionDestinationEntry:{fields:{amount:{type:"uint64",id:1},addr:{type:"MoneroAccountPublicAddress",id:2},is_subaddress:{type:"bool",id:3},original:{type:"bytes",id:4},is_integrated:{type:"bool",id:5}},nested:{MoneroAccountPublicAddress:{fields:{spend_public_key:{type:"bytes",id:1},view_public_key:{type:"bytes",id:2}}}}},MoneroTransactionRsigData:{fields:{rsig_type:{type:"uint32",id:1},offload_type:{type:"uint32",id:2},grouping:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}},mask:{type:"bytes",id:4},rsig:{type:"bytes",id:5},rsig_parts:{rule:"repeated",type:"bytes",id:6},bp_version:{type:"uint32",id:7}}},MoneroGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},network_type:{type:"uint32",id:3},account:{type:"uint32",id:4},minor:{type:"uint32",id:5},payment_id:{type:"bytes",id:6}}},MoneroAddress:{fields:{address:{type:"bytes",id:1}}},MoneroGetWatchKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroWatchKey:{fields:{watch_key:{type:"bytes",id:1},address:{type:"bytes",id:2}}},MoneroTransactionInitRequest:{fields:{version:{type:"uint32",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_type:{type:"uint32",id:3},tsx_data:{type:"MoneroTransactionData",id:4}},nested:{MoneroTransactionData:{fields:{version:{type:"uint32",id:1},payment_id:{type:"bytes",id:2},unlock_time:{type:"uint64",id:3},outputs:{rule:"repeated",type:"MoneroTransactionDestinationEntry",id:4},change_dts:{type:"MoneroTransactionDestinationEntry",id:5},num_inputs:{type:"uint32",id:6},mixin:{type:"uint32",id:7},fee:{type:"uint64",id:8},account:{type:"uint32",id:9},minor_indices:{rule:"repeated",type:"uint32",id:10,options:{packed:!1}},rsig_data:{type:"MoneroTransactionRsigData",id:11},integrated_indices:{rule:"repeated",type:"uint32",id:12,options:{packed:!1}},client_version:{type:"uint32",id:13},hard_fork:{type:"uint32",id:14},monero_version:{type:"bytes",id:15}}}}},MoneroTransactionInitAck:{fields:{hmacs:{rule:"repeated",type:"bytes",id:1},rsig_data:{type:"MoneroTransactionRsigData",id:2}}},MoneroTransactionSetInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1}}},MoneroTransactionSetInputAck:{fields:{vini:{type:"bytes",id:1},vini_hmac:{type:"bytes",id:2},pseudo_out:{type:"bytes",id:3},pseudo_out_hmac:{type:"bytes",id:4},pseudo_out_alpha:{type:"bytes",id:5},spend_key:{type:"bytes",id:6}}},MoneroTransactionInputsPermutationRequest:{fields:{perm:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},MoneroTransactionInputsPermutationAck:{fields:{}},MoneroTransactionInputViniRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},orig_idx:{type:"uint32",id:6}}},MoneroTransactionInputViniAck:{fields:{}},MoneroTransactionAllInputsSetRequest:{fields:{}},MoneroTransactionAllInputsSetAck:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionSetOutputRequest:{fields:{dst_entr:{type:"MoneroTransactionDestinationEntry",id:1},dst_entr_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},is_offloaded_bp:{type:"bool",id:4}}},MoneroTransactionSetOutputAck:{fields:{tx_out:{type:"bytes",id:1},vouti_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},out_pk:{type:"bytes",id:4},ecdh_info:{type:"bytes",id:5}}},MoneroTransactionAllOutSetRequest:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionAllOutSetAck:{fields:{extra:{type:"bytes",id:1},tx_prefix_hash:{type:"bytes",id:2},rv:{type:"MoneroRingCtSig",id:4},full_message_hash:{type:"bytes",id:5}},nested:{MoneroRingCtSig:{fields:{txn_fee:{type:"uint64",id:1},message:{type:"bytes",id:2},rv_type:{type:"uint32",id:3}}}}},MoneroTransactionSignInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},pseudo_out_alpha:{type:"bytes",id:6},spend_key:{type:"bytes",id:7},orig_idx:{type:"uint32",id:8}}},MoneroTransactionSignInputAck:{fields:{signature:{type:"bytes",id:1},pseudo_out:{type:"bytes",id:2}}},MoneroTransactionFinalRequest:{fields:{}},MoneroTransactionFinalAck:{fields:{cout_key:{type:"bytes",id:1},salt:{type:"bytes",id:2},rand_mult:{type:"bytes",id:3},tx_enc_keys:{type:"bytes",id:4},opening_key:{type:"bytes",id:5}}},MoneroKeyImageExportInitRequest:{fields:{num:{type:"uint64",id:1},hash:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},network_type:{type:"uint32",id:4},subs:{rule:"repeated",type:"MoneroSubAddressIndicesList",id:5}},nested:{MoneroSubAddressIndicesList:{fields:{account:{type:"uint32",id:1},minor_indices:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},MoneroKeyImageExportInitAck:{fields:{}},MoneroKeyImageSyncStepRequest:{fields:{tdis:{rule:"repeated",type:"MoneroTransferDetails",id:1}},nested:{MoneroTransferDetails:{fields:{out_key:{type:"bytes",id:1},tx_pub_key:{type:"bytes",id:2},additional_tx_pub_keys:{rule:"repeated",type:"bytes",id:3},internal_output_index:{type:"uint64",id:4},sub_addr_major:{type:"uint32",id:5},sub_addr_minor:{type:"uint32",id:6}}}}},MoneroKeyImageSyncStepAck:{fields:{kis:{rule:"repeated",type:"MoneroExportedKeyImage",id:1}},nested:{MoneroExportedKeyImage:{fields:{iv:{type:"bytes",id:1},blob:{type:"bytes",id:3}}}}},MoneroKeyImageSyncFinalRequest:{fields:{}},MoneroKeyImageSyncFinalAck:{fields:{enc_key:{type:"bytes",id:1}}},MoneroGetTxKeyRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2},salt1:{type:"bytes",id:3},salt2:{type:"bytes",id:4},tx_enc_keys:{type:"bytes",id:5},tx_prefix_hash:{type:"bytes",id:6},reason:{type:"uint32",id:7},view_public_key:{type:"bytes",id:8}}},MoneroGetTxKeyAck:{fields:{salt:{type:"bytes",id:1},tx_keys:{type:"bytes",id:2},tx_derivations:{type:"bytes",id:3}}},MoneroLiveRefreshStartRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroLiveRefreshStartAck:{fields:{}},MoneroLiveRefreshStepRequest:{fields:{out_key:{type:"bytes",id:1},recv_deriv:{type:"bytes",id:2},real_out_idx:{type:"uint64",id:3},sub_addr_major:{type:"uint32",id:4},sub_addr_minor:{type:"uint32",id:5}}},MoneroLiveRefreshStepAck:{fields:{salt:{type:"bytes",id:1},key_image:{type:"bytes",id:2}}},MoneroLiveRefreshFinalRequest:{fields:{}},MoneroLiveRefreshFinalAck:{fields:{}},DebugMoneroDiagRequest:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},DebugMoneroDiagAck:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},NearGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NearAddress:{fields:{address:{type:"string",id:1}}},NearSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},NearSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NEMGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},show_display:{type:"bool",id:3}}},NEMAddress:{fields:{address:{rule:"required",type:"string",id:1}}},NEMSignTx:{fields:{transaction:{type:"NEMTransactionCommon",id:1},multisig:{type:"NEMTransactionCommon",id:2},transfer:{type:"NEMTransfer",id:3},cosigning:{type:"bool",id:4},provision_namespace:{type:"NEMProvisionNamespace",id:5},mosaic_creation:{type:"NEMMosaicCreation",id:6},supply_change:{type:"NEMMosaicSupplyChange",id:7},aggregate_modification:{type:"NEMAggregateModification",id:8},importance_transfer:{type:"NEMImportanceTransfer",id:9}},nested:{NEMTransactionCommon:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},timestamp:{type:"uint32",id:3},fee:{type:"uint64",id:4},deadline:{type:"uint32",id:5},signer:{type:"bytes",id:6}}},NEMTransfer:{fields:{recipient:{type:"string",id:1},amount:{type:"uint64",id:2},payload:{type:"bytes",id:3},public_key:{type:"bytes",id:4},mosaics:{rule:"repeated",type:"NEMMosaic",id:5}},nested:{NEMMosaic:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},quantity:{type:"uint64",id:3}}}}},NEMProvisionNamespace:{fields:{namespace:{type:"string",id:1},parent:{type:"string",id:2},sink:{type:"string",id:3},fee:{type:"uint64",id:4}}},NEMMosaicCreation:{fields:{definition:{type:"NEMMosaicDefinition",id:1},sink:{type:"string",id:2},fee:{type:"uint64",id:3}},nested:{NEMMosaicDefinition:{fields:{name:{type:"string",id:1},ticker:{type:"string",id:2},namespace:{type:"string",id:3},mosaic:{type:"string",id:4},divisibility:{type:"uint32",id:5},levy:{type:"NEMMosaicLevy",id:6},fee:{type:"uint64",id:7},levy_address:{type:"string",id:8},levy_namespace:{type:"string",id:9},levy_mosaic:{type:"string",id:10},supply:{type:"uint64",id:11},mutable_supply:{type:"bool",id:12},transferable:{type:"bool",id:13},description:{type:"string",id:14},networks:{rule:"repeated",type:"uint32",id:15,options:{packed:!1}}},nested:{NEMMosaicLevy:{values:{MosaicLevy_Absolute:1,MosaicLevy_Percentile:2}}}}}},NEMMosaicSupplyChange:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},type:{type:"NEMSupplyChangeType",id:3},delta:{type:"uint64",id:4}},nested:{NEMSupplyChangeType:{values:{SupplyChange_Increase:1,SupplyChange_Decrease:2}}}},NEMAggregateModification:{fields:{modifications:{rule:"repeated",type:"NEMCosignatoryModification",id:1},relative_change:{type:"sint32",id:2}},nested:{NEMCosignatoryModification:{fields:{type:{type:"NEMModificationType",id:1},public_key:{type:"bytes",id:2}},nested:{NEMModificationType:{values:{CosignatoryModification_Add:1,CosignatoryModification_Delete:2}}}}}},NEMImportanceTransfer:{fields:{mode:{type:"NEMImportanceTransferMode",id:1},public_key:{type:"bytes",id:2}},nested:{NEMImportanceTransferMode:{values:{ImportanceTransfer_Activate:1,ImportanceTransfer_Deactivate:2}}}}}},NEMSignedTx:{fields:{data:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},NEMDecryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},public_key:{type:"bytes",id:3},payload:{type:"bytes",id:4}}},NEMDecryptedMessage:{fields:{payload:{rule:"required",type:"bytes",id:1}}},PolkadotGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prefix:{rule:"required",type:"uint32",id:2},network:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},PolkadotAddress:{fields:{address:{type:"string",id:1},public_key:{type:"string",id:2}}},PolkadotSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},network:{rule:"required",type:"string",id:3}}},PolkadotSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},RippleGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},RippleAddress:{fields:{address:{rule:"required",type:"string",id:1}}},RippleSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},fee:{type:"uint64",id:2},flags:{type:"uint32",id:3},sequence:{type:"uint32",id:4},last_ledger_sequence:{type:"uint32",id:5},payment:{type:"RipplePayment",id:6}},nested:{RipplePayment:{fields:{amount:{rule:"required",type:"uint64",id:1},destination:{rule:"required",type:"string",id:2},destination_tag:{type:"uint32",id:3}}}}},RippleSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{rule:"required",type:"bytes",id:2}}},SolanaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SolanaAddress:{fields:{address:{type:"string",id:1}}},SolanaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},SolanaSignedTx:{fields:{signature:{type:"bytes",id:1}}},StarcoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinAddress:{fields:{address:{type:"string",id:1}}},StarcoinGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},StarcoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{type:"bytes",id:2}}},StarcoinSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},StarcoinMessageSignature:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinVerifyMessage:{fields:{public_key:{type:"bytes",id:1},signature:{type:"bytes",id:2},message:{type:"bytes",id:3}}},StellarAssetType:{values:{NATIVE:0,ALPHANUM4:1,ALPHANUM12:2}},StellarAsset:{fields:{type:{rule:"required",type:"StellarAssetType",id:1},code:{type:"string",id:2},issuer:{type:"string",id:3}}},StellarGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StellarAddress:{fields:{address:{rule:"required",type:"string",id:1}}},StellarSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_passphrase:{rule:"required",type:"string",id:3},source_account:{rule:"required",type:"string",id:4},fee:{rule:"required",type:"uint32",id:5},sequence_number:{rule:"required",type:"uint64",id:6},timebounds_start:{rule:"required",type:"uint32",id:8},timebounds_end:{rule:"required",type:"uint32",id:9},memo_type:{rule:"required",type:"StellarMemoType",id:10},memo_text:{type:"string",id:11},memo_id:{type:"uint64",id:12},memo_hash:{type:"bytes",id:13},num_operations:{rule:"required",type:"uint32",id:14}},nested:{StellarMemoType:{values:{NONE:0,TEXT:1,ID:2,HASH:3,RETURN:4}}}},StellarTxOpRequest:{fields:{}},StellarPaymentOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2},asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4}}},StellarCreateAccountOp:{fields:{source_account:{type:"string",id:1},new_account:{rule:"required",type:"string",id:2},starting_balance:{rule:"required",type:"sint64",id:3}}},StellarPathPaymentStrictReceiveOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_max:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_amount:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarPathPaymentStrictSendOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_amount:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_min:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarManageSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarManageBuyOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarCreatePassiveSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6}}},StellarSetOptionsOp:{fields:{source_account:{type:"string",id:1},inflation_destination_account:{type:"string",id:2},clear_flags:{type:"uint32",id:3},set_flags:{type:"uint32",id:4},master_weight:{type:"uint32",id:5},low_threshold:{type:"uint32",id:6},medium_threshold:{type:"uint32",id:7},high_threshold:{type:"uint32",id:8},home_domain:{type:"string",id:9},signer_type:{type:"StellarSignerType",id:10},signer_key:{type:"bytes",id:11},signer_weight:{type:"uint32",id:12}},nested:{StellarSignerType:{values:{ACCOUNT:0,PRE_AUTH:1,HASH:2}}}},StellarChangeTrustOp:{fields:{source_account:{type:"string",id:1},asset:{rule:"required",type:"StellarAsset",id:2},limit:{rule:"required",type:"uint64",id:3}}},StellarAllowTrustOp:{fields:{source_account:{type:"string",id:1},trusted_account:{rule:"required",type:"string",id:2},asset_type:{rule:"required",type:"StellarAssetType",id:3},asset_code:{type:"string",id:4},is_authorized:{rule:"required",type:"bool",id:5}}},StellarAccountMergeOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2}}},StellarManageDataOp:{fields:{source_account:{type:"string",id:1},key:{rule:"required",type:"string",id:2},value:{type:"bytes",id:3}}},StellarBumpSequenceOp:{fields:{source_account:{type:"string",id:1},bump_to:{rule:"required",type:"uint64",id:2}}},StellarSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},SuiGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SuiAddress:{fields:{address:{type:"string",id:1}}},SuiSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},SuiSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},TezosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosAddress:{fields:{address:{rule:"required",type:"string",id:1}}},TezosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosPublicKey:{fields:{public_key:{rule:"required",type:"string",id:1}}},TezosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},branch:{rule:"required",type:"bytes",id:2},reveal:{type:"TezosRevealOp",id:3},transaction:{type:"TezosTransactionOp",id:4},origination:{type:"TezosOriginationOp",id:5},delegation:{type:"TezosDelegationOp",id:6},proposal:{type:"TezosProposalOp",id:7},ballot:{type:"TezosBallotOp",id:8}},nested:{TezosContractID:{fields:{tag:{rule:"required",type:"TezosContractType",id:1},hash:{rule:"required",type:"bytes",id:2}},nested:{TezosContractType:{values:{Implicit:0,Originated:1}}}},TezosRevealOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},public_key:{rule:"required",type:"bytes",id:6}}},TezosTransactionOp:{fields:{source:{rule:"required",type:"bytes",id:9},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},amount:{rule:"required",type:"uint64",id:6},destination:{rule:"required",type:"TezosContractID",id:7},parameters:{type:"bytes",id:8},parameters_manager:{type:"TezosParametersManager",id:10}},nested:{TezosParametersManager:{fields:{set_delegate:{type:"bytes",id:1},cancel_delegate:{type:"bool",id:2},transfer:{type:"TezosManagerTransfer",id:3}},nested:{TezosManagerTransfer:{fields:{destination:{type:"TezosContractID",id:1},amount:{type:"uint64",id:2}}}}}}},TezosOriginationOp:{fields:{source:{rule:"required",type:"bytes",id:12},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},manager_pubkey:{type:"bytes",id:6},balance:{rule:"required",type:"uint64",id:7},spendable:{type:"bool",id:8},delegatable:{type:"bool",id:9},delegate:{type:"bytes",id:10},script:{rule:"required",type:"bytes",id:11}}},TezosDelegationOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},delegate:{rule:"required",type:"bytes",id:6}}},TezosProposalOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposals:{rule:"repeated",type:"bytes",id:4}}},TezosBallotOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposal:{type:"bytes",id:3},ballot:{type:"TezosBallotType",id:4}},nested:{TezosBallotType:{values:{Yay:0,Nay:1,Pass:2}}}}}},TezosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1},sig_op_contents:{rule:"required",type:"bytes",id:2},operation_hash:{rule:"required",type:"string",id:3}}},TronGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TronAddress:{fields:{address:{type:"string",id:1}}},TronSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ref_block_bytes:{rule:"required",type:"bytes",id:2},ref_block_hash:{rule:"required",type:"bytes",id:3},expiration:{rule:"required",type:"uint64",id:4},data:{type:"string",id:5},contract:{rule:"required",type:"TronContract",id:6},timestamp:{rule:"required",type:"uint64",id:7},fee_limit:{type:"uint64",id:8}},nested:{TronContract:{fields:{transfer_contract:{type:"TronTransferContract",id:2},freeze_balance_contract:{type:"TronFreezeBalanceContract",id:11},unfreeze_balance_contract:{type:"TronUnfreezeBalanceContract",id:12},withdraw_balance_contract:{type:"TronWithdrawBalanceContract",id:13},trigger_smart_contract:{type:"TronTriggerSmartContract",id:31},freeze_balance_v2_contract:{type:"TronFreezeBalanceV2Contract",id:54},unfreeze_balance_v2_contract:{type:"TronUnfreezeBalanceV2Contract",id:55},withdraw_expire_unfreeze_contract:{type:"TronWithdrawExpireUnfreezeContract",id:56},delegate_resource_contract:{type:"TronDelegateResourceContract",id:57},undelegate_resource_contract:{type:"TronUnDelegateResourceContract",id:58}},nested:{TronTransferContract:{fields:{to_address:{type:"string",id:2},amount:{type:"uint64",id:3}}},TronTriggerSmartContract:{fields:{contract_address:{type:"string",id:2},call_value:{type:"uint64",id:3},data:{type:"bytes",id:4},call_token_value:{type:"uint64",id:5},asset_id:{type:"uint64",id:6}}},TronResourceCode:{values:{BANDWIDTH:0,ENERGY:1}},TronFreezeBalanceContract:{fields:{frozen_balance:{type:"uint64",id:1},frozen_duration:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3},receiver_address:{type:"string",id:4}}},TronUnfreezeBalanceContract:{fields:{resource:{type:"TronResourceCode",id:1},receiver_address:{type:"string",id:2}}},TronWithdrawBalanceContract:{fields:{owner_address:{type:"bytes",id:1}}},TronFreezeBalanceV2Contract:{fields:{frozen_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronUnfreezeBalanceV2Contract:{fields:{unfreeze_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronWithdrawExpireUnfreezeContract:{fields:{}},TronDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4},lock:{type:"bool",id:5}}},TronUnDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4}}}}}}},TronSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{type:"bytes",id:2}}},TronSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},TronMessageSignature:{fields:{address:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},WebAuthnListResidentCredentials:{fields:{}},WebAuthnAddResidentCredential:{fields:{credential_id:{type:"bytes",id:1}}},WebAuthnRemoveResidentCredential:{fields:{index:{type:"uint32",id:1}}},WebAuthnCredentials:{fields:{credentials:{rule:"repeated",type:"WebAuthnCredential",id:1}},nested:{WebAuthnCredential:{fields:{index:{type:"uint32",id:1},id:{type:"bytes",id:2},rp_id:{type:"string",id:3},rp_name:{type:"string",id:4},user_id:{type:"bytes",id:5},user_name:{type:"string",id:6},user_display_name:{type:"string",id:7},creation_time:{type:"uint32",id:8},hmac_secret:{type:"bool",id:9},use_sign_count:{type:"bool",id:10},algorithm:{type:"sint32",id:11},curve:{type:"sint32",id:12}}}}},wire_in:{type:"bool",id:50002,extend:"google.protobuf.EnumValueOptions"},wire_out:{type:"bool",id:50003,extend:"google.protobuf.EnumValueOptions"},wire_debug_in:{type:"bool",id:50004,extend:"google.protobuf.EnumValueOptions"},wire_debug_out:{type:"bool",id:50005,extend:"google.protobuf.EnumValueOptions"},wire_tiny:{type:"bool",id:50006,extend:"google.protobuf.EnumValueOptions"},wire_bootloader:{type:"bool",id:50007,extend:"google.protobuf.EnumValueOptions"},wire_no_fsm:{type:"bool",id:50008,extend:"google.protobuf.EnumValueOptions"},facotry:{type:"bool",id:50501,extend:"google.protobuf.EnumValueOptions"},bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.EnumValueOptions"},has_bitcoin_only_values:{type:"bool",id:51001,extend:"google.protobuf.EnumOptions"},unstable:{type:"bool",id:52001,extend:"google.protobuf.MessageOptions"},wire_type:{type:"uint32",id:52002,extend:"google.protobuf.MessageOptions"},experimental:{type:"bool",id:53001,extend:"google.protobuf.FieldOptions"},include_in_bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.FileOptions"},CommandFlags:{values:{Default:0,Factory_Only:1}},MessageType:{options:{"(has_bitcoin_only_values)":!0},values:{MessageType_Initialize:0,MessageType_Ping:1,MessageType_Success:2,MessageType_Failure:3,MessageType_ChangePin:4,MessageType_WipeDevice:5,MessageType_GetEntropy:9,MessageType_Entropy:10,MessageType_LoadDevice:13,MessageType_ResetDevice:14,MessageType_Features:17,MessageType_PinMatrixRequest:18,MessageType_PinMatrixAck:19,MessageType_Cancel:20,MessageType_LockDevice:24,MessageType_ApplySettings:25,MessageType_ButtonRequest:26,MessageType_ButtonAck:27,MessageType_ApplyFlags:28,MessageType_BackupDevice:34,MessageType_EntropyRequest:35,MessageType_EntropyAck:36,MessageType_PassphraseRequest:41,MessageType_PassphraseAck:42,MessageType_RecoveryDevice:45,MessageType_WordRequest:46,MessageType_WordAck:47,MessageType_GetFeatures:55,MessageType_SdProtect:79,MessageType_ChangeWipeCode:82,MessageType_EndSession:83,MessageType_DoPreauthorized:84,MessageType_PreauthorizedRequest:85,MessageType_CancelAuthorization:86,MessageType_RebootToBootloader:87,MessageType_SetU2FCounter:63,MessageType_GetNextU2FCounter:80,MessageType_NextU2FCounter:81,MessageType_Deprecated_PassphraseStateRequest:77,MessageType_Deprecated_PassphraseStateAck:78,MessageType_FirmwareErase:6,MessageType_FirmwareErase_ex:16,MessageType_FirmwareUpload:7,MessageType_FirmwareRequest:8,MessageType_SelfTest:32,MessageType_Reboot:3e4,MessageType_FirmwareUpdateEmmc:30001,MessageType_GetPublicKey:11,MessageType_PublicKey:12,MessageType_SignTx:15,MessageType_TxRequest:21,MessageType_TxAck:22,MessageType_GetAddress:29,MessageType_Address:30,MessageType_SignMessage:38,MessageType_VerifyMessage:39,MessageType_MessageSignature:40,MessageType_GetOwnershipId:43,MessageType_OwnershipId:44,MessageType_GetOwnershipProof:49,MessageType_OwnershipProof:50,MessageType_AuthorizeCoinJoin:51,MessageType_CipherKeyValue:23,MessageType_CipheredKeyValue:48,MessageType_SignIdentity:53,MessageType_SignedIdentity:54,MessageType_GetECDHSessionKey:61,MessageType_ECDHSessionKey:62,MessageType_CosiCommit:71,MessageType_CosiCommitment:72,MessageType_CosiSign:73,MessageType_CosiSignature:74,MessageType_BatchGetPublickeys:10016,MessageType_EcdsaPublicKeys:10017,MessageType_DebugLinkDecision:100,MessageType_DebugLinkGetState:101,MessageType_DebugLinkState:102,MessageType_DebugLinkStop:103,MessageType_DebugLinkLog:104,MessageType_DebugLinkMemoryRead:110,MessageType_DebugLinkMemory:111,MessageType_DebugLinkMemoryWrite:112,MessageType_DebugLinkFlashErase:113,MessageType_DebugLinkLayout:9001,MessageType_DebugLinkReseedRandom:9002,MessageType_DebugLinkRecordScreen:9003,MessageType_DebugLinkEraseSdCard:9005,MessageType_DebugLinkWatchLayout:9006,MessageType_EmmcFixPermission:30100,MessageType_EmmcPath:30101,MessageType_EmmcPathInfo:30102,MessageType_EmmcFile:30103,MessageType_EmmcFileRead:30104,MessageType_EmmcFileWrite:30105,MessageType_EmmcFileDelete:30106,MessageType_EmmcDir:30107,MessageType_EmmcDirList:30108,MessageType_EmmcDirMake:30109,MessageType_EmmcDirRemove:30110,MessageType_EthereumGetPublicKey:450,MessageType_EthereumPublicKey:451,MessageType_EthereumGetAddress:56,MessageType_EthereumAddress:57,MessageType_EthereumSignTx:58,MessageType_EthereumSignTxEIP1559:452,MessageType_EthereumTxRequest:59,MessageType_EthereumTxAck:60,MessageType_EthereumSignMessage:64,MessageType_EthereumVerifyMessage:65,MessageType_EthereumMessageSignature:66,MessageType_EthereumSignTypedData:464,MessageType_EthereumTypedDataStructRequest:465,MessageType_EthereumTypedDataStructAck:466,MessageType_EthereumTypedDataValueRequest:467,MessageType_EthereumTypedDataValueAck:468,MessageType_EthereumTypedDataSignature:469,MessageType_EthereumSignTypedHash:470,MessageType_NEMGetAddress:67,MessageType_NEMAddress:68,MessageType_NEMSignTx:69,MessageType_NEMSignedTx:70,MessageType_NEMDecryptMessage:75,MessageType_NEMDecryptedMessage:76,MessageType_TezosGetAddress:150,MessageType_TezosAddress:151,MessageType_TezosSignTx:152,MessageType_TezosSignedTx:153,MessageType_TezosGetPublicKey:154,MessageType_TezosPublicKey:155,MessageType_StellarSignTx:202,MessageType_StellarTxOpRequest:203,MessageType_StellarGetAddress:207,MessageType_StellarAddress:208,MessageType_StellarCreateAccountOp:210,MessageType_StellarPaymentOp:211,MessageType_StellarPathPaymentStrictReceiveOp:212,MessageType_StellarManageSellOfferOp:213,MessageType_StellarCreatePassiveSellOfferOp:214,MessageType_StellarSetOptionsOp:215,MessageType_StellarChangeTrustOp:216,MessageType_StellarAllowTrustOp:217,MessageType_StellarAccountMergeOp:218,MessageType_StellarManageDataOp:220,MessageType_StellarBumpSequenceOp:221,MessageType_StellarManageBuyOfferOp:222,MessageType_StellarPathPaymentStrictSendOp:223,MessageType_StellarSignedTx:230,MessageType_CardanoGetPublicKey:305,MessageType_CardanoPublicKey:306,MessageType_CardanoGetAddress:307,MessageType_CardanoAddress:308,MessageType_CardanoTxItemAck:313,MessageType_CardanoTxAuxiliaryDataSupplement:314,MessageType_CardanoTxWitnessRequest:315,MessageType_CardanoTxWitnessResponse:316,MessageType_CardanoTxHostAck:317,MessageType_CardanoTxBodyHash:318,MessageType_CardanoSignTxFinished:319,MessageType_CardanoSignTxInit:320,MessageType_CardanoTxInput:321,MessageType_CardanoTxOutput:322,MessageType_CardanoAssetGroup:323,MessageType_CardanoToken:324,MessageType_CardanoTxCertificate:325,MessageType_CardanoTxWithdrawal:326,MessageType_CardanoTxAuxiliaryData:327,MessageType_CardanoPoolOwner:328,MessageType_CardanoPoolRelayParameters:329,MessageType_CardanoGetNativeScriptHash:330,MessageType_CardanoNativeScriptHash:331,MessageType_CardanoTxMint:332,MessageType_CardanoTxCollateralInput:333,MessageType_CardanoTxRequiredSigner:334,MessageType_CardanoTxInlineDatumChunk:335,MessageType_CardanoTxReferenceScriptChunk:336,MessageType_CardanoTxReferenceInput:337,MessageType_CardanoSignMessage:350,MessageType_CardanoMessageSignature:351,MessageType_RippleGetAddress:400,MessageType_RippleAddress:401,MessageType_RippleSignTx:402,MessageType_RippleSignedTx:403,MessageType_MoneroTransactionInitRequest:501,MessageType_MoneroTransactionInitAck:502,MessageType_MoneroTransactionSetInputRequest:503,MessageType_MoneroTransactionSetInputAck:504,MessageType_MoneroTransactionInputsPermutationRequest:505,MessageType_MoneroTransactionInputsPermutationAck:506,MessageType_MoneroTransactionInputViniRequest:507,MessageType_MoneroTransactionInputViniAck:508,MessageType_MoneroTransactionAllInputsSetRequest:509,MessageType_MoneroTransactionAllInputsSetAck:510,MessageType_MoneroTransactionSetOutputRequest:511,MessageType_MoneroTransactionSetOutputAck:512,MessageType_MoneroTransactionAllOutSetRequest:513,MessageType_MoneroTransactionAllOutSetAck:514,MessageType_MoneroTransactionSignInputRequest:515,MessageType_MoneroTransactionSignInputAck:516,MessageType_MoneroTransactionFinalRequest:517,MessageType_MoneroTransactionFinalAck:518,MessageType_MoneroKeyImageExportInitRequest:530,MessageType_MoneroKeyImageExportInitAck:531,MessageType_MoneroKeyImageSyncStepRequest:532,MessageType_MoneroKeyImageSyncStepAck:533,MessageType_MoneroKeyImageSyncFinalRequest:534,MessageType_MoneroKeyImageSyncFinalAck:535,MessageType_MoneroGetAddress:540,MessageType_MoneroAddress:541,MessageType_MoneroGetWatchKey:542,MessageType_MoneroWatchKey:543,MessageType_DebugMoneroDiagRequest:546,MessageType_DebugMoneroDiagAck:547,MessageType_MoneroGetTxKeyRequest:550,MessageType_MoneroGetTxKeyAck:551,MessageType_MoneroLiveRefreshStartRequest:552,MessageType_MoneroLiveRefreshStartAck:553,MessageType_MoneroLiveRefreshStepRequest:554,MessageType_MoneroLiveRefreshStepAck:555,MessageType_MoneroLiveRefreshFinalRequest:556,MessageType_MoneroLiveRefreshFinalAck:557,MessageType_EosGetPublicKey:600,MessageType_EosPublicKey:601,MessageType_EosSignTx:602,MessageType_EosTxActionRequest:603,MessageType_EosTxActionAck:604,MessageType_EosSignedTx:605,MessageType_BinanceGetAddress:700,MessageType_BinanceAddress:701,MessageType_BinanceGetPublicKey:702,MessageType_BinancePublicKey:703,MessageType_BinanceSignTx:704,MessageType_BinanceTxRequest:705,MessageType_BinanceTransferMsg:706,MessageType_BinanceOrderMsg:707,MessageType_BinanceCancelMsg:708,MessageType_BinanceSignedTx:709,MessageType_SolanaGetAddress:10100,MessageType_SolanaAddress:10101,MessageType_SolanaSignTx:10102,MessageType_SolanaSignedTx:10103,MessageType_StarcoinGetAddress:10300,MessageType_StarcoinAddress:10301,MessageType_StarcoinGetPublicKey:10302,MessageType_StarcoinPublicKey:10303,MessageType_StarcoinSignTx:10304,MessageType_StarcoinSignedTx:10305,MessageType_StarcoinSignMessage:10306,MessageType_StarcoinMessageSignature:10307,MessageType_StarcoinVerifyMessage:10308,MessageType_AptosGetAddress:10600,MessageType_AptosAddress:10601,MessageType_AptosSignTx:10602,MessageType_AptosSignedTx:10603,MessageType_AptosSignMessage:10604,MessageType_AptosMessageSignature:10605,MessageType_WebAuthnListResidentCredentials:800,MessageType_WebAuthnCredentials:801,MessageType_WebAuthnAddResidentCredential:802,MessageType_WebAuthnRemoveResidentCredential:803,MessageType_BixinSeedOperate:901,MessageType_BixinMessageSE:902,MessageType_BixinOutMessageSE:904,MessageType_BixinBackupRequest:905,MessageType_BixinBackupAck:906,MessageType_BixinRestoreRequest:907,MessageType_BixinRestoreAck:908,MessageType_BixinVerifyDeviceRequest:909,MessageType_BixinVerifyDeviceAck:910,MessageType_BixinWhiteListRequest:911,MessageType_BixinWhiteListAck:912,MessageType_BixinLoadDevice:913,MessageType_BixinBackupDevice:914,MessageType_BixinBackupDeviceAck:915,MessageType_BixinPinInputOnDevice:1e4,MessageType_EthereumSignMessageEIP712:10200,MessageType_GetPublicKeyMultiple:10210,MessageType_PublicKeyMultiple:10211,MessageType_ConfluxGetAddress:10112,MessageType_ConfluxAddress:10113,MessageType_ConfluxSignTx:10114,MessageType_ConfluxTxRequest:10115,MessageType_ConfluxTxAck:10116,MessageType_ConfluxSignMessage:10117,MessageType_ConfluxSignMessageCIP23:10118,MessageType_ConfluxMessageSignature:10119,MessageType_TronGetAddress:10501,MessageType_TronAddress:10502,MessageType_TronSignTx:10503,MessageType_TronSignedTx:10504,MessageType_TronSignMessage:10505,MessageType_TronMessageSignature:10506,MessageType_NearGetAddress:10701,MessageType_NearAddress:10702,MessageType_NearSignTx:10703,MessageType_NearSignedTx:10704,MessageType_CosmosGetAddress:10800,MessageType_CosmosAddress:10801,MessageType_CosmosSignTx:10802,MessageType_CosmosSignedTx:10803,MessageType_AlgorandGetAddress:10900,MessageType_AlgorandAddress:10901,MessageType_AlgorandSignTx:10902,MessageType_AlgorandSignedTx:10903,MessageType_PolkadotGetAddress:11e3,MessageType_PolkadotAddress:11001,MessageType_PolkadotSignTx:11002,MessageType_PolkadotSignedTx:11003,MessageType_SuiGetAddress:11100,MessageType_SuiAddress:11101,MessageType_SuiSignTx:11102,MessageType_SuiSignedTx:11103,MessageType_FilecoinGetAddress:11200,MessageType_FilecoinAddress:11201,MessageType_FilecoinSignTx:11202,MessageType_FilecoinSignedTx:11203,MessageType_KaspaGetAddress:11300,MessageType_KaspaAddress:11301,MessageType_KaspaSignTx:11302,MessageType_KaspaSignedTx:11303,MessageType_KaspaTxInputRequest:11304,MessageType_KaspaTxInputAck:11305,MessageType_DeviceBackToBoot:903,MessageType_DeviceInfoSettings:10001,MessageType_GetDeviceInfo:10002,MessageType_DeviceInfo:10003,MessageType_ReadSEPublicKey:10004,MessageType_SEPublicKey:10005,MessageType_WriteSEPublicCert:10006,MessageType_ReadSEPublicCert:10007,MessageType_SEPublicCert:10008,MessageType_SpiFlashWrite:10009,MessageType_SpiFlashRead:10010,MessageType_SpiFlashData:10011,MessageType_SESignMessage:10012,MessageType_SEMessageSignature:10013,MessageType_NFTWriteInfo:10014,MessageType_NFTWriteData:10015,MessageType_ResourceUpload:10018,MessageType_ZoomRequest:10019,MessageType_ResourceRequest:10020,MessageType_ResourceAck:10021,MessageType_ResourceUpdate:10022,MessageType_ListResDir:10023,MessageType_FileInfoList:10024,MessageType_RebootToBoardloader:10025,MessageType_DeviceEraseSector:10026}},google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},public_dependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weak_dependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},message_type:{rule:"repeated",type:"DescriptorProto",id:4},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},source_code_info:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nested_type:{rule:"repeated",type:"DescriptorProto",id:3},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:4},extension_range:{rule:"repeated",type:"ExtensionRange",id:5},oneof_decl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reserved_range:{rule:"repeated",type:"ReservedRange",id:9},reserved_name:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},type_name:{type:"string",id:6},extendee:{type:"string",id:2},default_value:{type:"string",id:7},oneof_index:{type:"int32",id:9},json_name:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},input_type:{type:"string",id:2},output_type:{type:"string",id:3},options:{type:"MethodOptions",id:4},client_streaming:{type:"bool",id:5},server_streaming:{type:"bool",id:6}}},FileOptions:{fields:{java_package:{type:"string",id:1},java_outer_classname:{type:"string",id:8},java_multiple_files:{type:"bool",id:10},java_generate_equals_and_hash:{type:"bool",id:20,options:{deprecated:!0}},java_string_check_utf8:{type:"bool",id:27},optimize_for:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},go_package:{type:"string",id:11},cc_generic_services:{type:"bool",id:16},java_generic_services:{type:"bool",id:17},py_generic_services:{type:"bool",id:18},deprecated:{type:"bool",id:23},cc_enable_arenas:{type:"bool",id:31},objc_class_prefix:{type:"string",id:36},csharp_namespace:{type:"string",id:37},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{message_set_wire_format:{type:"bool",id:1},no_standard_descriptor_accessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},map_entry:{type:"bool",id:7},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allow_alias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifier_value:{type:"string",id:3},positive_int_value:{type:"uint64",id:4},negative_int_value:{type:"int64",id:5},double_value:{type:"double",id:6},string_value:{type:"bytes",id:7},aggregate_value:{type:"string",id:8}},nested:{NamePart:{fields:{name_part:{rule:"required",type:"string",id:1},is_extension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leading_comments:{type:"string",id:3},trailing_comments:{type:"string",id:4},leading_detached_comments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},source_file:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}};const he=(e,t)=>((e,t="text")=>H(void 0,void 0,void 0,(function*(){const i={};e.indexOf("ngrok-free.app")>-1&&(i["ngrok-skip-browser-warning"]=!0);const r=yield b.default.request({url:e,withCredentials:!1,responseType:"binary"===t?"arraybuffer":"json",headers:i});if(200===+r.status)return r.data;throw new Error(`httpRequest error: ${e} ${r.statusText}`)})))(e,t),ye=()=>(new Date).getTime(),me=new RegExp(/^[0-9]{1,3}(\.[0-9]{1,3}){0,2}$/),ge=e=>me.test(e),_e=e=>{if(!Array.isArray(e))return!1;if(0===e.length||e.length>3)return!1;if(0===e[0])return!1;for(let t=0;t<e.length;t++)if("number"!==typeof e[t]||e[t]<0)return!1;return!0},ve=e=>{if(3===e.length)return e;const t=[...e];for(let i=e.length;i<3;i++)t.push(0);return t},be=e=>ge(e)?e.split(".").map(e=>Number(e)):[0,0,0];function Te(e){return"Features"!==e.type||e.message.major_version<1&&(e.message.major_version=1),e}const we=i(4562),Se=()=>we.version,Ee=`https://jssdk.onekey.so/${Se()}/`,xe={configSrc:"./data/config.json",version:"",debug:!1,priority:2,trustedHost:!1,connectSrc:Ee,iframeSrc:Ee+"iframe.html",parentOrigin:"undefined"!==typeof window&&window.location?window.location.origin:"",supportedBrowser:"undefined"===typeof navigator||!/Trident|MSIE|Edge/.test(navigator.userAgent),env:"web",lazyLoad:!1,timestamp:(new Date).getTime()},Re=()=>{if("undefined"!==typeof chrome&&chrome.runtime&&"undefined"!==typeof chrome.runtime.onConnect)return"webextension";if("undefined"!==typeof navigator){if("string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"},ke=e=>{if("string"===typeof e)return e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*onekey\.so\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//),e};function Ce(e){if("touch"!==te(e))return!1;const t=fe(e).join("."),i=ne(e).join("."),r=Ze.getBootloaderTargetVersion(e);return!!r&&(v.default.gte(t,"3.2.0")&&v.default.gte(t,"4.1.0")&&v.default.lte(i,r.join(".")))}function Ae(e,t){const i=te(e);if("classic"!==i&&"mini"!==i)return!1;if(!t)return!1;const r=fe(e).join("."),s=ne(e).join("."),f=Ze.getBootloaderTargetVersion(e);if(f&&v.default.gte(s,f.join(".")))return!1;const a=Ze.getBootloaderRelatedFirmwareVersion(e);return!!a&&function({currentVersion:e,bootloaderVersion:t,willUpdateFirmware:i,targetBootloaderVersion:r,bootloaderRelatedFirmwareVersion:s}){return(!r||!v.default.gte(t,r.join(".")))&&(!!v.default.gte(i,s.join("."))||!!v.default.gte(e,s.join(".")))}({currentVersion:r,bootloaderVersion:s,willUpdateFirmware:t,targetBootloaderVersion:f,bootloaderRelatedFirmwareVersion:a})}const Ie={OUTPUT:"log-output"},Me=(e,t)=>({event:"LOG_EVENT",type:e,payload:t});let Oe;class De{constructor(e,t){this.prefix=e,this.enabled=t,this.messages=[]}addMessage(e,t,...i){this.messages.push({level:e,prefix:t,message:i,timestamp:(new Date).getTime()}),this.messages.length>500&&this.messages.shift()}log(...e){this.addMessage("log",this.prefix,...e),Fe(this.prefix,...e),this.enabled}error(...e){this.addMessage("error",this.prefix,...e),Fe(this.prefix,...e),this.enabled}warn(...e){this.addMessage("warn",this.prefix,...e),Fe(this.prefix,...e),this.enabled}debug(...e){this.addMessage("debug",this.prefix,...e),Fe(this.prefix,...e),this.enabled}}const Pe={},qe=(e,t)=>{const i=new De(e,!!t);return Pe[e]=i,i},Be=e=>{Object.keys(Pe).forEach(t=>{Pe[t].enabled=!!e})},Ne=()=>{let e=[];return Object.keys(Pe).forEach(t=>{e=e.concat(Pe[t].messages)}),e.sort((e,t)=>e.timestamp-t.timestamp),e},Le=e=>{Oe=e},je=()=>{const e=new WeakSet;return(t,i)=>{if("object"===typeof i&&null!==i){if(e.has(i))return;e.add(i)}return i}},Fe=(e,...t)=>{null===Oe||void 0===Oe||Oe(Me(Ie.OUTPUT,((...e)=>e.map(e=>"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"undefined"===typeof e?e:"object"===typeof e?JSON.stringify(e,je()):e))(e,...t)))};var Ue;t.LoggerNames=void 0,(Ue=t.LoggerNames||(t.LoggerNames={})).Core="Core",Ue.Transport="Transport",Ue.Device="Device",Ue.DeviceCommands="DeviceCommands",Ue.DeviceConnector="DeviceConnector",Ue.DeviceList="DeviceList",Ue.DevicePool="DevicePool",Ue.HdCommonConnectSdk="@onekey/common-connect-sdk",Ue.HdBleSdk="@onekey/hd-ble-sdk",Ue.HdTransportHttp="@onekey/hd-transport-http",Ue.HdBleTransport="@onekey/hd-ble-transport",Ue.Connect="@onekey/connect",Ue.Iframe="IFrame",Ue.SendMessage="[SendMessage]",Ue.Method="[Method]";const He={[t.LoggerNames.Core]:qe(t.LoggerNames.Core),[t.LoggerNames.Transport]:qe(t.LoggerNames.Transport),[t.LoggerNames.Device]:qe(t.LoggerNames.Device),[t.LoggerNames.DeviceCommands]:qe(t.LoggerNames.DeviceCommands),[t.LoggerNames.DeviceConnector]:qe(t.LoggerNames.DeviceConnector),[t.LoggerNames.DeviceList]:qe(t.LoggerNames.DeviceList),[t.LoggerNames.DevicePool]:qe(t.LoggerNames.DevicePool),[t.LoggerNames.HdBleSdk]:qe(t.LoggerNames.HdBleSdk),[t.LoggerNames.HdTransportHttp]:qe(t.LoggerNames.HdTransportHttp),[t.LoggerNames.HdBleTransport]:qe(t.LoggerNames.HdBleTransport),[t.LoggerNames.Connect]:qe(t.LoggerNames.Connect),[t.LoggerNames.Iframe]:qe(t.LoggerNames.Iframe),[t.LoggerNames.SendMessage]:qe(t.LoggerNames.SendMessage),[t.LoggerNames.Method]:qe(t.LoggerNames.Method),[t.LoggerNames.HdCommonConnectSdk]:qe(t.LoggerNames.Method)},ze=e=>He[e],Ge=e=>new Promise(t=>{setTimeout(t,e)}),Ke=(e,t)=>{const i=e.filter(e=>v.default.gt(e.version.join("."),t));return 0===i.length?"valid":i.some(e=>e.required)?"required":"outdated"},Ve=(e,t)=>e.filter(e=>v.default.gt(e.version.join("."),t)).map(e=>e.changelog),We=e=>{let t=e[0];return e.forEach(e=>{v.default.gt(e.version.join("."),t.version.join("."))&&(t=e)}),t};var Ye;class Ze{static load(e){return H(this,void 0,void 0,(function*(){this.settings=e;try{const t=e.preRelease?"https://data.onekey.so/pre-config.json":"https://data.onekey.so/config.json",{data:i}=yield b.default.get(`${t}?noCache=${ye()}`,{timeout:7e3});this.deviceMap={classic:i.classic,mini:i.mini,touch:i.touch,pro:i.pro},this.assets={bridge:i.bridge}}catch(t){}}))}static checkAndReloadData(){return H(this,void 0,void 0,(function*(){ye()-this.lastCheckTimestamp>108e5&&(yield this.load(this.settings).then(()=>{this.lastCheckTimestamp=ye()}))}))}static getProtobufMessages(){return this.messages.default}static getSettings(e){return this.settings?"string"===typeof e?this.settings[e]:this.settings:null}}Ye=Ze,Ze.deviceMap={classic:{firmware:[],ble:[]},mini:{firmware:[],ble:[]},touch:{firmware:[],ble:[]},pro:{firmware:[],ble:[]}},Ze.assets=null,Ze.messages={default:pe},Ze.lastCheckTimestamp=0,Ze.getFirmwareStatus=e=>{var t,i;const r=te(e),s=fe(e);if(!1===e.firmware_present)return"none";if("classic"===r&&e.bootloader_mode)return"unknown";const f=le(e,"firmware"),a=null!==(i=null===(t=Ye.deviceMap[r])||void 0===t?void 0:t[f])&&void 0!==i?i:[],n=s.join(".");return Ke(a,n)},Ze.getSysResourcesLatestRelease=(e,t)=>{var i,r,s;const f=te(e),a=fe(e);if("pro"!==f&&"touch"!==f)return;const n=le(e,"firmware"),o=null!==(r=null===(i=Ye.deviceMap[f])||void 0===i?void 0:i[n])&&void 0!==r?r:[],d=a.join("."),c=o.filter(e=>(t||v.default.gt(e.version.join("."),d))&&!!e.resource);return null===(s=We(c))||void 0===s?void 0:s.resource},Ze.getSysFullResource=e=>{var t,i,r;const s=te(e);if("pro"!==s&&"touch"!==s)return;const f=le(e,"firmware"),a=(null!==(i=null===(t=Ye.deviceMap[s])||void 0===t?void 0:t[f])&&void 0!==i?i:[]).filter(e=>!!e.fullResource);return null===(r=We(a))||void 0===r?void 0:r.fullResource},Ze.getBootloaderResource=e=>{var t,i,r;const s=te(e);if("pro"!==s&&"touch"!==s)return;const f=le(e,"firmware"),a=(null!==(i=null===(t=Ye.deviceMap[s])||void 0===t?void 0:t[f])&&void 0!==i?i:[]).filter(e=>!!e.bootloaderResource);return null===(r=We(a))||void 0===r?void 0:r.bootloaderResource},Ze.getBootloaderTargetVersion=e=>{var t,i,r,s;const f=te(e),a=le(e,"firmware"),n=(null!==(i=null===(t=Ye.deviceMap[f])||void 0===t?void 0:t[a])&&void 0!==i?i:[]).filter(e=>!!e.bootloaderResource);return null!==(s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.bootloaderVersion)&&void 0!==s?s:void 0},Ze.getBootloaderRelatedFirmwareVersion=e=>{var t,i,r,s;const f=te(e);if("classic"!==f&&"mini"!==f)return;const a=le(e,"firmware"),n=(null!==(i=null===(t=Ye.deviceMap[f])||void 0===t?void 0:t[a])&&void 0!==i?i:[]).filter(e=>!!e.bootloaderRelatedFirmwareVersion);return null!==(s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.bootloaderRelatedFirmwareVersion)&&void 0!==s?s:void 0},Ze.getFirmwareChangelog=e=>{var t,i;const r=te(e),s=fe(e);if(!1===e.firmware_present||"classic"===r&&e.bootloader_mode)return[];const f=le(e,"firmware"),a=null!==(i=null===(t=Ye.deviceMap[r])||void 0===t?void 0:t[f])&&void 0!==i?i:[],n=s.join(".");return Ve(a,n)},Ze.getFirmwareLatestRelease=e=>{var t,i;const r=te(e),s=le(e,"firmware"),f=null!==(i=null===(t=Ye.deviceMap[r])||void 0===t?void 0:t[s])&&void 0!==i?i:[],a=We(f);if(!a)return a;if(!a.resource){const t=Ye.getSysResourcesLatestRelease(e);return Object.assign(Object.assign({},a),{resource:t})}return a},Ze.getBLEFirmwareStatus=e=>{var t,i;const r=te(e),s=ae(e);if(!s)return"none";const f=null!==(i=null===(t=Ye.deviceMap[r])||void 0===t?void 0:t.ble)&&void 0!==i?i:[],a=s.join(".");return Ke(f,a)},Ze.getBleFirmwareChangelog=e=>{var t,i;const r=te(e),s=ae(e);if(!s)return[];const f=null!==(i=null===(t=Ye.deviceMap[r])||void 0===t?void 0:t.ble)&&void 0!==i?i:[],a=s.join(".");return Ve(f,a)},Ze.getBleFirmwareLatestRelease=e=>{var t,i;const r=te(e),s=null!==(i=null===(t=Ye.deviceMap[r])||void 0===t?void 0:t.ble)&&void 0!==i?i:[];return We(s)},Ze.getTransportStatus=e=>{var t,i;const r=null===(i=null===(t=Ye.assets)||void 0===t?void 0:t.bridge)||void 0===i?void 0:i.version;if(!r)return"valid";return v.default.gte(e,r.join("."))?"valid":"outdated"};const Xe={REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_BUTTON:"ui-button",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",CLOSE_UI_WINDOW:"ui-close_window",BLUETOOTH_PERMISSION:"ui-bluetooth_permission",LOCATION_PERMISSION:"ui-location_permission",LOCATION_SERVICE_PERMISSION:"ui-location_service_permission",FIRMWARE_PROGRESS:"ui-firmware-progress",FIRMWARE_TIP:"ui-firmware-tip",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",PREVIOUS_ADDRESS_RESULT:"ui-previous_address_result"},$e=(e,t)=>({event:"UI_EVENT",type:e,payload:t}),Je={INIT:"iframe-init",INIT_BRIDGE:"iframe-init-bridge",CALL:"iframe-call",CANCEL:"iframe-cancel"},Qe=(e,t,i)=>({event:"RESPONSE_EVENT",type:"RESPONSE_EVENT",id:e,success:t,payload:t?i:f.serializeError(i)}),et={RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase"},tt={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",UNREADABLE:"unreadable-device",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word",SUPPORT_FEATURES:"support_features",FEATURES:"features"},it=(e,t)=>({event:"DEVICE_EVENT",type:e,payload:t}),rt={RELEASE_INFO:"firmware-release-info",BLE_RELEASE_INFO:"ble-firmware-release-info"},st=(e,t)=>({event:"FIRMWARE_EVENT",type:e,payload:t}),ft=ze(t.LoggerNames.DevicePool);class at extends R.exports{static setConnector(e){this.connector=e}static getDevices(e,t,i){var r,s,f,a;return H(this,void 0,void 0,(function*(){const n={},o=[];if(t){const r=this.devicesCache[t];if(r){const s=e.find(e=>e.path===r.originalDescriptor.path);if(s)return r.updateDescriptor(s,!0),n[t]=r,o.push(r),yield this._checkDevicePool(i),{devices:n,deviceList:o};ft.debug("found device in cache, but path is different: ",t)}}try{for(r=G(e);!(s=yield r.next()).done;){const e=s.value,t=yield this._createDevice(e,i);if(t.features){const i=re(t.features);if(this.devicesCache[i]){this.devicesCache[i].updateDescriptor(e,!0)}this.devicesCache[i]=t,n[i]=t}o.push(t)}}catch(d){f={error:d}}finally{try{s&&!s.done&&(a=r.return)&&(yield a.call(r))}finally{if(f)throw f.error}}return yield this._checkDevicePool(i),{devices:n,deviceList:o}}))}static clearDeviceCache(e){e&&delete this.devicesCache[e]}static _createDevice(e,t){return H(this,void 0,void 0,(function*(){let i=this.getDeviceByPath(e.path);return i||(i=Tt.fromDescriptor(e),i.deviceConnector=this.connector,yield i.connect(),yield i.initialize(t),yield i.release()),i}))}static _checkDevicePool(e){return H(this,void 0,void 0,(function*(){yield this._sendConnectMessage(e),this._sendDisconnectMessage()}))}static _sendConnectMessage(e){return H(this,void 0,void 0,(function*(){for(let t=this.connectedPool.length-1;t>=0;t--){const i=this.connectedPool[t],r=yield this._createDevice(i,e);ft.debug("emit DEVICE.CONNECT: ",r),this.emitter.emit(tt.CONNECT,r),this.connectedPool.splice(t,1)}}))}static _sendDisconnectMessage(){for(let e=this.disconnectPool.length-1;e>=0;e--){const t=this.connectedPool[e],i=(null===t||void 0===t?void 0:t.path)?this.getDeviceByPath(t.path):null;i&&this.emitter.emit(tt.DISCONNECT,i),this.disconnectPool.splice(e,1)}}static reportDeviceChange(e){const t=((e,t)=>{const i=t.filter(t=>void 0===e.find(e=>e.path===t.path)),r=e.filter(e=>void 0===t.find(t=>t.path===e.path)),s=t.filter(t=>{const i=e.find(e=>e.path===t.path);return!!i&&i.session!==t.session}),f=s.filter(e=>"string"===typeof e.session),a=s.filter(e=>"string"!==typeof e.session),n=t.filter(t=>{const i=e.find(e=>e.path===t.path);return!!i&&i.debugSession!==t.debugSession}),o=s.filter(e=>"string"===typeof e.debugSession),d=s.filter(e=>"string"!==typeof e.debugSession);return{connected:i,disconnected:r,changedSessions:s,acquired:f,released:a,changedDebugSessions:n,debugAcquired:o,debugReleased:d,didUpdate:i.length+r.length+s.length+n.length>0,descriptors:t}})(this.current||[],e);this.upcoming=e,this.current=this.upcoming,t.didUpdate&&(t.connected.forEach(e=>{const t=this.getDeviceByPath(e.path);t?(ft.debug("emit DEVICE.CONNECT: ",t),this.emitter.emit(tt.CONNECT,t)):this._addConnectedDeviceToPool(e)}),t.disconnected.forEach(e=>{this._removeDeviceFromConnectedPool(e.path);const t=this.getDeviceByPath(e.path);t?(ft.debug("emit DEVICE.DISCONNECT: ",t),this.emitter.emit(tt.DISCONNECT,t)):this._addDisconnectedDeviceToPool(e)}))}static getDeviceByPath(e){return Object.values(this.devicesCache).find(t=>t.originalDescriptor.path===e)}static _addConnectedDeviceToPool(e){const t=this.connectedPool.findIndex(t=>t.path===e.path);t>-1?this.connectedPool.splice(t,1,e):this.connectedPool.push(e)}static _removeDeviceFromConnectedPool(e){const t=this.connectedPool.findIndex(t=>t.path===e);t>-1&&this.connectedPool.splice(t,1)}static _addDisconnectedDeviceToPool(e){const t=this.disconnectPool.findIndex(t=>t.path===e.path);t>-1?this.disconnectPool.splice(t,1,e):this.disconnectPool.push(e)}}at.current=null,at.upcoming=[],at.connectedPool=[],at.disconnectPool=[],at.devicesCache={},at.emitter=new R.exports;const nt=ze(t.LoggerNames.Transport),ot=ze(t.LoggerNames.HdBleTransport),dt=ze(t.LoggerNames.HdTransportHttp);class ct{static load(){nt.debug("transport manager load"),this.defaultMessages=Ze.getProtobufMessages(),this.currentMessages=this.defaultMessages}static configure(){return H(this,void 0,void 0,(function*(){try{const e=Ze.getSettings("env");nt.debug("Initializing transports"),"react-native"===e?this.reactNativeInit?nt.debug("React Native Do Not Initializing transports"):(yield this.transport.init(ot,at.emitter),this.reactNativeInit=!0):yield this.transport.init(dt),nt.debug("Configuring transports"),yield this.transport.configure(JSON.stringify(this.defaultMessages)),nt.debug("Configuring transports done")}catch(e){if(nt.debug("Initializing transports error: ",e),"ECONNABORTED"===e.code)throw f.ERRORS.TypedError(f.HardwareErrorCode.BridgeTimeoutError)}}))}static reconfigure(e){return H(this,void 0,void 0,(function*(){if(Array.isArray(e)&&(e=Ze.getProtobufMessages()),this.currentMessages!==e&&e)try{yield this.transport.configure(JSON.stringify(e)),this.currentMessages=e}catch(t){throw f.ERRORS.TypedError(f.HardwareErrorCode.TransportInvalidProtobuf,"Transport_InvalidProtobuf:  "+t.message)}}))}static setTransport(e){const t=Ze.getSettings("env");this.transport="react-native"===t?new e({scanTimeout:3e3}):new e,nt.debug("set transport: ",this.transport)}static getTransport(){return this.transport}static getDefaultMessages(){return this.defaultMessages}static getCurrentMessages(){return this.currentMessages}}ct.reactNativeInit=!1;const ut=ze(t.LoggerNames.DeviceCommands);class lt{constructor(e,t){this.device=e,this.mainId=t,this.transport=ct.getTransport(),this.disposed=!1}dispose(e){var t,i;return H(this,void 0,void 0,(function*(){this.disposed=!0,e&&this._cancelableRequest&&this._cancelableRequest(),this._cancelableRequest=void 0,yield null===(i=(t=this.transport).cancel)||void 0===i?void 0:i.call(t)}))}call(e,t={}){var i,r,s,a,n,o,d;return H(this,void 0,void 0,(function*(){ut.debug("[DeviceCommands] [call] Sending",e);try{const i=this.transport.call(this.mainId,e,t);this.callPromise=i;const r=yield i;return ut.debug("[DeviceCommands] [call] Received",r.type),r}catch(c){if(ut.debug("[DeviceCommands] [call] Received error",c),c.errorCode===f.HardwareErrorCode.BleDeviceBondError)return{type:"BleDeviceBondError",message:{error:null===c||void 0===c?void 0:c.message}};if((null===(i=c.response)||void 0===i?void 0:i.data)&&ut.debug("error response",null===c||void 0===c?void 0:c.response.data),"device disconnected during action"===(null===(s=null===(r=null===c||void 0===c?void 0:c.response)||void 0===r?void 0:r.data)||void 0===s?void 0:s.error))return{type:"BridgeNetworkError",message:{}};if(-1!==(null===(o=null===(n=null===(a=null===c||void 0===c?void 0:c.response)||void 0===a?void 0:a.data)||void 0===n?void 0:n.error)||void 0===o?void 0:o.indexOf("Request failed with status code")))return{type:"CallMethodError",message:{error:null!==(d=null===c||void 0===c?void 0:c.response.data)&&void 0!==d?d:""}};throw c}}))}typedCall(e,t,i){return H(this,void 0,void 0,(function*(){if(this.disposed)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"typedCall: DeviceCommands already disposed");const r=yield this._commonCall(e,i);try{((e,t)=>{if(!(Array.isArray(t)?t:t.split("|")).includes(e.type))throw f.ERRORS.TypedError(f.HardwareErrorCode.ResponseUnexpectTypeError,`assertType: Response of unexpected type: ${e.type}. Should be ${t}`)})(r,t)}catch(s){if(ut.debug("DeviceCommands typedcall error: ",s),!(s instanceof f.HardwareError))throw s;if(s.errorCode===f.HardwareErrorCode.ResponseUnexpectTypeError){if(s.message.indexOf("BridgeNetworkError")>-1)throw f.ERRORS.TypedError(f.HardwareErrorCode.BridgeNetworkError);if(s.message.indexOf("BleDeviceBondError")>-1)throw f.ERRORS.TypedError(f.HardwareErrorCode.BleDeviceBondError)}}return r}))}_commonCall(e,t){return H(this,void 0,void 0,(function*(){const i=yield this.call(e,t);return this._filterCommonTypes(i,e)}))}_filterCommonTypes(e,t){try{"react-native"===Ze.getSettings("env")?ut.debug("_filterCommonTypes: ",JSON.stringify(e)):ut.debug("_filterCommonTypes: ",e)}catch(r){}if("Failure"===e.type){const{code:i,message:r}=e.message;let s=null;return"Failure_FirmwareError"!==i||r||(s=f.ERRORS.TypedError(f.HardwareErrorCode.FirmwareError)),"Failure_ActionCancelled"===i&&(s=f.ERRORS.TypedError(f.HardwareErrorCode.ActionCancelled)),"Failure_PinInvalid"===i&&(s=f.ERRORS.TypedError(f.HardwareErrorCode.PinInvalid,r)),"Failure_PinCancelled"===i&&(s=f.ERRORS.TypedError(f.HardwareErrorCode.PinCancelled)),"Failure_DataError"===i&&("Please confirm the BlindSign enabled"===r&&(s=f.ERRORS.TypedError(f.HardwareErrorCode.BlindSignDisabled)),"File already exists"===r&&(s=f.ERRORS.TypedError(f.HardwareErrorCode.FileAlreadyExists))),"Failure_UnexpectedMessage"===i&&("PassphraseAck"===t&&(s=f.ERRORS.TypedError(f.HardwareErrorCode.UnexpectPassphrase)),"Not in Signing mode"===r&&(s=f.ERRORS.TypedError(f.HardwareErrorCode.NotInSigningMode))),s?Promise.reject(s):Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,`${i||"Failure_UnknownCode"},${r||"Failure_UnknownMessage"}`))}if("Features"===e.type)return Promise.resolve(Te(e));if("ButtonRequest"===e.type)return"ButtonRequest_PassphraseEntry"===e.message.code?this.device.emit(tt.PASSPHRASE_ON_DEVICE,this.device):this.device.emit(tt.BUTTON,this.device,e.message),this._commonCall("ButtonAck",{});e.type;const i="webusb"===Ze.getSettings("env");return"PinMatrixRequest"===e.type?i?Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Please unlock your device")):this._promptPin(e.message.type).then(e=>"@@ONEKEY_INPUT_PIN_IN_DEVICE"===e?this._commonCall("BixinPinInputOnDevice"):this._commonCall("PinMatrixAck",{pin:e}),()=>this._commonCall("Cancel",{})):"PassphraseRequest"===e.type?this._promptPassphrase().then(e=>{const{passphrase:t,passphraseOnDevice:i}=e;return i?this._commonCall("PassphraseAck",{on_device:!0}):this._commonCall("PassphraseAck",{passphrase:t})}):(e.type,e.type,Promise.resolve(e))}_promptPin(e){return new Promise((t,i)=>{this.device.listenerCount(tt.PIN)>0?(this._cancelableRequest=i,this.device.emit(tt.PIN,this.device,e,(e,r)=>{this._cancelableRequest=void 0,e?i(e):t(r)})):i(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"_promptPin: PIN callback not configured"))})}_promptPassphrase(){return new Promise((e,t)=>{this.device.listenerCount(tt.PASSPHRASE)>0?(this._cancelableRequest=t,this.device.emit(tt.PASSPHRASE,this.device,(i,r)=>{this._cancelableRequest=void 0,r?t(r):e(i)})):(ut.error("[DeviceCommands] [call] Passphrase callback not configured, cancelling request"),t(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"_promptPassphrase: Passphrase callback not configured")))})}}const pt="ui-device_bootloader_mode",ht="ui-device_not_in_bootloader_mode",yt="ui-device_not_initialized",mt="ui-device_seedless",gt="ui-firmware-tip",_t="ui-previous_address_result",vt=ze(t.LoggerNames.Device),bt={};class Tt extends R.exports{constructor(e){super(),this.deviceConnector=null,this.features=void 0,this.featuresNeedsReload=!1,this.externalState=[],this.unavailableCapabilities={},this.instance=0,this.internalState=[],this.needReloadDevice=!1,this.keepSession=!1,this.passphraseState=void 0,this.originalDescriptor=e}static fromDescriptor(e){const t=Object.assign({},e);return new Tt(t)}toMessageObject(){if(this.isUnacquired()||!this.features)return null;return{connectId:"react-native"===Ze.getSettings("env")?this.mainId||null:re(this.features),uuid:re(this.features),deviceType:this.features.bootloader_mode?(e=this.features,te(e)):te(this.features),deviceId:this.features.device_id||null,path:this.originalDescriptor.path,name:this.features.ble_name||this.features.label||"OneKey "+te(this.features).toUpperCase(),label:se(this.features),mode:this.getMode(),features:this.features,firmwareVersion:this.getFirmwareVersion(),bleFirmwareVersion:this.getBLEFirmwareVersion(),unavailableCapabilities:this.unavailableCapabilities};var e}connect(){const e=Ze.getSettings("env");return new Promise(t=>H(this,void 0,void 0,(function*(){if("react-native"!==e)if(!this.mainId||!this.isUsedHere()&&this.originalDescriptor)try{yield this.acquire(),t(!0)}catch(i){t(i)}else this.isUsedHere()?t(!0):t(!1);else try{yield this.acquire(),t(!0)}catch(i){t(i)}})))}acquire(){var e,t,i,r;return H(this,void 0,void 0,(function*(){const s=Ze.getSettings("env"),f="react-native"===s?"id":"session";try{if("react-native"===s){const i=yield null===(e=this.deviceConnector)||void 0===e?void 0:e.acquire(this.originalDescriptor.id);this.mainId=null!==(t=i.uuid)&&void 0!==t?t:"",vt.debug("Expected uuid:",this.mainId)}else this.mainId=yield null===(i=this.deviceConnector)||void 0===i?void 0:i.acquire(this.originalDescriptor.path,this.originalDescriptor.session),vt.debug("Expected session id:",this.mainId);this.updateDescriptor({[f]:this.mainId}),this.commands&&(yield this.commands.dispose(!1)),this.commands=new lt(this,null!==(r=this.mainId)&&void 0!==r?r:"")}catch(a){if(!this.runPromise)throw a;this.runPromise.reject(a),this.runPromise=null}}))}release(){var e;return H(this,void 0,void 0,(function*(){const t=Ze.getSettings("env");if(this.isUsedHere()&&!this.keepSession&&this.mainId||this.mainId&&"react-native"===t){if(this.commands&&(this.commands.dispose(!1),this.commands.callPromise))try{yield this.commands.callPromise}catch(i){this.commands.callPromise=void 0}try{yield null===(e=this.deviceConnector)||void 0===e?void 0:e.release(this.mainId,!1),this.updateDescriptor({session:null})}catch(r){vt.error("[Device] release error: ",r)}finally{this.needReloadDevice=!0}}}))}getCommands(){return this.commands}generateStateKey(e,t){return t?`${e}@${t}`:e}getInternalState(e){var t,i;vt.debug("getInternalState session param: ","device_id: "+e,"features.device_id: "+(null===(t=this.features)||void 0===t?void 0:t.device_id),"passphraseState: "+this.passphraseState),vt.debug("getInternalState session cache: ",bt);const r=e||(null===(i=this.features)||void 0===i?void 0:i.device_id);if(!r)return;if(!this.passphraseState)return;const s=this.generateStateKey(r,this.passphraseState);return bt[s]}tryFixInternalState(e,t,i=null){vt.debug("tryFixInternalState session param: ","device_id: "+t,"passphraseState: "+e,"sessionId: "+i);const r=""+t,s=bt[r];s?(bt[this.generateStateKey(t,e)]=s,delete bt[r]):i&&(bt[this.generateStateKey(t,e)]=i),vt.debug("tryFixInternalState session cache: ",bt)}setInternalState(e,t){var i,r;if(vt.debug("setInternalState session param: ","state: "+e,"initSession: "+t,"device_id: "+(null===(i=this.features)||void 0===i?void 0:i.device_id),"passphraseState: "+this.passphraseState),!this.features)return;if(!this.passphraseState&&!t)return;const s=null===(r=this.features)||void 0===r?void 0:r.device_id;if(!s)return;const f=this.generateStateKey(s,this.passphraseState);e&&(bt[f]=e),vt.debug("setInternalState done session cache: ",bt)}clearInternalState(e){var t;vt.debug("clearInternalState param: ",e);const i=e||(null===(t=this.features)||void 0===t?void 0:t.device_id);if(!i)return;if(delete bt[""+i],this.passphraseState){const e=this.generateStateKey(i,this.passphraseState);delete bt[e]}}initialize(e){return H(this,void 0,void 0,(function*(){vt.debug("initialize param:",e),this.passphraseState=null===e||void 0===e?void 0:e.passphraseState,(null===e||void 0===e?void 0:e.initSession)&&this.clearInternalState(null===e||void 0===e?void 0:e.deviceId);const t=this.getInternalState(null===e||void 0===e?void 0:e.deviceId),i={};t&&(i.session_id=t),(null===e||void 0===e?void 0:e.deriveCardano)&&(i.derive_cardano=!0),vt.debug("initialize payload:",i);const{message:r}=yield this.commands.typedCall("Initialize","Features",i);this._updateFeatures(r,null===e||void 0===e?void 0:e.initSession)}))}getFeatures(){return H(this,void 0,void 0,(function*(){const{message:e}=yield this.commands.typedCall("GetFeatures","Features",{});this._updateFeatures(e)}))}_updateFeatures(e,t){this.features&&this.features.session_id&&!e.session_id&&(e.session_id=this.features.session_id),this.features&&this.features.device_id&&e.session_id&&this.setInternalState(e.session_id,t),e.unlocked=e.unlocked||!0,this.features=e,this.featuresNeedsReload=!1,this.emit(tt.FEATURES,this,e)}updateDescriptor(e,t=!1){if("react-native"===Ze.getSettings("env"))return;const i=this.originalDescriptor.session,r=e.session;i!==r&&(this.originalDescriptor.session=r),t&&(this.originalDescriptor=e)}updateFromCache(e){this.mainId=e.mainId,this.commands=e.commands,this.updateDescriptor(e.originalDescriptor,!0),e.features&&this._updateFeatures(e.features)}run(e,t){return H(this,void 0,void 0,(function*(){return this.runPromise&&(yield this.interruptionFromOutside(),vt.debug("[Device] run error:","Device is running, but will cancel previous operate")),t=(e=>(e||(e={}),e))(t),this.runPromise=f.createDeferred(this._runInner.bind(this,e,t)),this.runPromise.promise}))}_runInner(e,t){return H(this,void 0,void 0,(function*(){if(!this.isUsedHere()||this.commands.disposed){if("react-native"!==Ze.getSettings("env")){yield this.acquire();try{e&&(yield this.initialize(t))}catch(i){return this.runPromise=null,i instanceof f.HardwareError?Promise.reject(i):Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceInitializeFailed,`Initialize failed: ${i.message}, code: ${i.code}`))}}}if(t.keepSession&&(this.keepSession=!0),e)try{yield e()}catch(r){return this.runPromise&&this.runPromise.reject(r),void(this.runPromise=null)}(!this.keepSession&&"boolean"!==typeof t.keepSession||!1===t.keepSession)&&(this.keepSession=!1,yield this.release(),vt.debug("release device, mainId: ",this.mainId)),this.runPromise&&this.runPromise.resolve(),this.runPromise=null}))}interruptionFromOutside(){return H(this,void 0,void 0,(function*(){this.commands&&(yield this.commands.dispose(!1)),this.runPromise&&this.runPromise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceInterruptedFromOutside))}))}interruptionFromUser(){return H(this,void 0,void 0,(function*(){this.commands&&(yield this.commands.dispose(!0)),this.runPromise&&this.runPromise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceInterruptedFromUser))}))}getMode(){var e,t,i;return(null===(e=this.features)||void 0===e?void 0:e.bootloader_mode)?"bootloader":(null===(t=this.features)||void 0===t?void 0:t.initialized)?(null===(i=this.features)||void 0===i?void 0:i.no_backup)?"seedless":"normal":"initialize"}getFirmwareVersion(){return this.features?fe(this.features):null}getBLEFirmwareVersion(){return this.features?ae(this.features):null}isUsed(){return"string"===typeof this.originalDescriptor.session}isUsedHere(){return"react-native"!==Ze.getSettings("env")&&(this.isUsed()&&this.originalDescriptor.session===this.mainId)}isUsedElsewhere(){return this.isUsed()&&!this.isUsedHere()}isBootloader(){return this.features&&!!this.features.bootloader_mode}isInitialized(){return this.features&&!!this.features.initialized}isSeedless(){return this.features&&!!this.features.no_backup}isUnacquired(){return void 0===this.features}hasUnexpectedMode(e,t){if(this.features){if(this.isBootloader()&&!e.includes(pt))return pt;if(!this.isInitialized()&&!e.includes(yt))return yt;if(this.isSeedless()&&!e.includes(mt))return mt;if(!this.isBootloader()&&t.includes(pt))return ht}return null}hasUsePassphrase(){var e;const t=("touch"===te(this.features)||"pro"===te(this.features))&&!0===(null===(e=this.features)||void 0===e?void 0:e.unlocked);return this.features&&(!!this.features.passphrase_protection||t)}checkDeviceId(e){return!!this.features&&this.features.device_id===e}checkPassphraseState(){var e;return H(this,void 0,void 0,(function*(){if(!this.features)return!1;const t=!0===(null===(e=this.features)||void 0===e?void 0:e.unlocked),i="touch"===te(this.features)||"pro"===te(this.features),r=yield de(this.features,this.commands);return i&&t&&(yield this.getFeatures()),this.passphraseState&&this.passphraseState!==r?(this.clearInternalState(),r):void 0}))}}class wt extends R.exports{constructor(){super(...arguments),this.devices={}}getDeviceLists(e,t){var i,r;return H(this,void 0,void 0,(function*(){const s=yield null===(i=this.connector)||void 0===i?void 0:i.enumerate(),f=null!==(r=null===s||void 0===s?void 0:s.descriptors)&&void 0!==r?r:[];this.devices={};const{deviceList:a,devices:n}=yield at.getDevices(f,e,t);return this.devices=n,a}))}allDevices(){return Object.keys(this.devices).map(e=>this.devices[e])}getDevice(e){return this.devices[e]}}const St=e=>({status:Ze.getFirmwareStatus(e),changelog:Ze.getFirmwareChangelog(e),release:Ze.getFirmwareLatestRelease(e)}),Et=e=>({status:Ze.getBLEFirmwareStatus(e),changelog:Ze.getBleFirmwareChangelog(e),release:Ze.getBleFirmwareLatestRelease(e)}),xt=ze(t.LoggerNames.Method);class Rt{constructor(e){this.shouldEnsureConnected=!0,this.checkDeviceId=!1,this.useDevicePassphraseState=!0,this.skipForceUpdateCheck=!1,this.postPreviousAddressMessage=e=>{this.postMessage($e(_t,{device:this.device.toMessageObject(),data:e}))};const{payload:t}=e;this.name=t.method,this.payload=t,this.responseID=e.id||0,this.connectId=t.connectId||"",this.deviceId=t.deviceId||"",this.useDevice=!0,this.notAllowDeviceMode=[yt],this.requireDeviceMode=[]}getVersionRange(){return{}}setDevice(e){this.device=e,this.connectId=e.originalDescriptor.path}checkFirmwareRelease(){if(!this.device||!this.device.features)return;const e=St(this.device.features);this.postMessage(st(rt.RELEASE_INFO,Object.assign(Object.assign({},e),{features:this.device.features})));const t=Et(this.device.features);this.postMessage(st(rt.BLE_RELEASE_INFO,Object.assign(Object.assign({},t),{features:this.device.features})))}checkDeviceSupportFeature(){if(!this.device||!this.device.features)return;const e=oe(this.device.features),t=ue(this.device.features);this.postMessage(it(tt.SUPPORT_FEATURES,{inputPinOnSoftware:e,modifyHomescreen:t,device:this.device.toMessageObject()}))}checkSafetyLevelOnTestNet(){var e,t,i;return H(this,void 0,void 0,(function*(){let r=!1;"evmSignTransaction"===this.name&&[3,4,5,42].includes(Number(null===(t=null===(e=this.payload)||void 0===e?void 0:e.transaction)||void 0===t?void 0:t.chainId))&&(r=!0),r&&"Strict"===(null===(i=this.device.features)||void 0===i?void 0:i.safety_checks)&&(xt.debug("will change safety_checks level"),yield this.device.commands.typedCall("ApplySettings","Success",{safety_checks:"PromptTemporarily"}))}))}dispose(){}}const kt=e=>"0x"===e.slice(0,2).toLowerCase(),Ct=e=>kt(e)?e.slice(2):e,At=e=>{for(;/^00/.test(e);)e=e.slice(2);return e},It=e=>{if("string"===typeof e){let t=Ct(e);return t.length%2!==0&&(t="0"+t),t}return Array.isArray(e)?e.map(It):"object"===typeof e?(t=e,i=e=>It(e),Object.fromEntries(Object.entries(t).map(([e,t])=>[e,i(t,e)]))):e;var t,i},Mt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ot(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let i=0;i<e.length;i++)t+=Mt[e[i]];return t}function Dt(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let i=0;i<t.length;i++){const r=2*i,s=e.slice(r,r+2),f=Number.parseInt(s,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");t[i]=f}return t}const Pt=e=>f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,e),qt=(e,t)=>{t.forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t.name)&&t.required)throw Pt("Missing required parameter: "+t.name);const i=e[t.name];if(i&&t.type)switch(t.type){case"array":if(!Array.isArray(i))throw Pt(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`);if(!t.allowEmpty&&i.length<1)throw Pt(`Parameter "${t.name}" is empty.`);break;case"uint":if("string"!==typeof i&&"number"!==typeof i)throw Pt(`Parameter [${t.name}] has invalid type. "string|number" expected.`);if("number"===typeof i&&!Number.isSafeInteger(i)||!/^(?:[1-9]\d*|\d)$/.test(i.toString().replace(/^-/,t.allowNegative?"":"-")))throw Pt(`Parameter [${t.name}] has invalid value "${i}". Integer representation expected.`);break;case"bigNumber":if("string"!==typeof i)throw Pt(`Parameter [${t.name}] is of type invalid and should be [string].`);try{if(new w.default(i).toFixed(0)!==i)throw new Error("")}catch(s){throw Pt(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`)}break;case"buffer":if("undefined"===typeof i||"function"===typeof i.constructor.isBuffer&&i.constructor.isBuffer(i))throw Pt(`Parameter [${t.name}] is of type invalid and should be [buffer].`);break;case"hexString":if("string"!==typeof i||!((e,t)=>!("string"!==typeof e||!e.match(/^(0x|0X)?[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t))((r=i,kt(r)?r:"0x"+r)))throw Pt(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`);break;default:if(typeof i!==t.type)throw Pt(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`)}var r})};const Bt=e=>{throw e instanceof f.HardwareError?e:"ERR_NETWORK"===e.code?f.ERRORS.TypedError(f.HardwareErrorCode.BridgeNotInstalled):"ECONNABORTED"===e.code?f.ERRORS.TypedError(f.HardwareErrorCode.BridgeTimeoutError):f.ERRORS.TypedError(e)};const Nt=({features:e,updateType:t,version:i,isUpdateBootloader:r})=>H(void 0,void 0,void 0,(function*(){const s=jt({features:e,updateType:t,targetVersion:null===i||void 0===i?void 0:i.join(".")});if(!s)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"no firmware found for this device");if(i&&!v.default.eq(s.version.join("."),i.join("."))){if(!("touch"===te(e)&&!e.onekey_version))throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"firmware version mismatch")}const a="ble"===t?s.webUpdate:r?s.bootloaderResource:s.url;let n;try{n=yield he(a,"binary")}catch(Ye){throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Method_FirmwareUpdate_DownloadFailed")}return Object.assign(Object.assign({},s),{binary:n})})),Lt=e=>H(void 0,void 0,void 0,(function*(){let t;try{t=yield he(e,"binary")}catch(i){throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Method_FirmwareUpdate_DownloadFailed")}return{binary:t}})),jt=({features:e,updateType:t,targetVersion:i})=>{var r,s;const f=te(e),{deviceMap:a}=Ze;let n=le(e,t);"touch"===f&&i&&(v.default.eq(i,"4.0.0")?n="firmware-v2":v.default.gt(i,"4.0.0")&&(n="firmware-v3"));const o=null!==(s=null===(r=null===a||void 0===a?void 0:a[f])||void 0===r?void 0:r[n])&&void 0!==s?s:[];return We(o)},Ft=e=>{var t;(null===(t=e.features)||void 0===t?void 0:t.firmware_present)&&e.emit(tt.BUTTON,e,{code:"ButtonRequest_FirmwareUpdate"})},Ut=(e,t,i)=>{i($e(Xe.FIRMWARE_PROGRESS,{device:e.toMessageObject(),progress:t}))},Ht=(e,t,i)=>{i($e(Xe.FIRMWARE_TIP,{device:e.toMessageObject(),data:{message:t}}))},zt=e=>H(void 0,void 0,void 0,(function*(){"ble"===e&&(yield Ge(1e4))})),Gt=(e,t,i,r,{payload:s})=>H(void 0,void 0,void 0,(function*(){const a=ee(r.features);if("model_mini"===a){Ft(r),Ht(r,"ConfirmOnDevice",i);const a="firmware"===e?"FirmwareErase":"FirmwareErase_ex";if("Success"!==(yield t(a,"Success",{})).type)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"erase firmware error");Ht(r,"FirmwareEraseSuccess",i),Ut(r,0,i);const{message:n,type:o}=yield t("FirmwareUpload","Success",{payload:s});if(Ut(r,100,i),yield zt(e),"Success"!==o)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"install firmware error");return n}if("model_touch"===a){if(r.features){const t=ne(r.features);if(v.default.gte(t.join("."),"2.4.5")){return(yield Kt(e,i,r,{payload:s})).message}}Ft(r),Ht(r,"ConfirmOnDevice",i);const a=s.byteLength;let n=yield t("FirmwareErase",["FirmwareRequest","Success"],{length:a});for(Ht(r,"FirmwareEraseSuccess",i);"Success"!==n.type;){const e=n.message.offset,o=n.message.offset+n.message.length,d=s.slice(e,o);if(e>0&&Ut(r,Math.round(e/a*100),i),n=yield t("FirmwareUpload",["FirmwareRequest","Success"],{payload:d}),"CallMethodError"===n.type)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"upload firmware error")}return Ut(r,100,i),yield zt(e),n.message}throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"uploadFirmware: unknown device model")})),Kt=(e,t,i,{payload:r})=>H(void 0,void 0,void 0,(function*(){let s=i.getCommands().typedCall.bind(i.getCommands());Ht(i,"StartTransferData",t);const f=`0:${"ble"===e?"ble-":""}firmware.bin`,a=1024*("react-native"===Ze.getSettings("env")?16:128),n=Math.ceil(r.byteLength/a);let o=0;for(let e=0;e<n;e++){const s=e*a,d=Math.min(s+a,r.byteLength),c=d-s,u=r.slice(s,d),l=0===e,p=Math.round((e+1)/n*100);o+=(yield Vt(i,f,c,o,u,l,p)).message.processed_byte,Ut(i,p,t)}Ft(i),Ht(i,"ConfirmOnDevice",t),Ht(i,"InstallingFirmware",t),s=i.getCommands().typedCall.bind(i.getCommands());return yield s("FirmwareUpdateEmmc","Success",{path:f,reboot_on_success:!0})})),Vt=(e,t,i,r,s,a,n)=>H(void 0,void 0,void 0,(function*(){var o,d,c,u,l,p;let h=10;for(;h>0;)try{return yield H(void 0,void 0,void 0,(function*(){var o;const d=e.getCommands().typedCall.bind(e.getCommands()),c=yield d("EmmcFileWrite","EmmcFile",{file:{path:t,len:i,offset:r,data:s},overwrite:a,append:0!==r,ui_percentage:n});if("EmmcFile"!==c.type){if("CallMethodError"===c.type&&(null!==(o=c.message.error)&&void 0!==o?o:"").indexOf("session not found")>-1)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"session not found");throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"emmc file write chunk once error")}return c}))}catch(y){if(h--,0===h)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"emmc file write firmware error");if("react-native"===Ze.getSettings("env"))yield Ge(3e3),yield null===(o=e.deviceConnector)||void 0===o?void 0:o.acquire(e.originalDescriptor.id,null,!0),yield e.initialize();else if(y.message.indexOf("session not found")>-1){const t=yield null===(d=e.deviceConnector)||void 0===d?void 0:d.enumerate(),i=null!==(c=null===t||void 0===t?void 0:t.descriptors)&&void 0!==c?c:[],{deviceList:r}=yield at.getDevices(i,void 0);1===r.length&&(null===(l=null===(u=r[0])||void 0===u?void 0:u.features)||void 0===l?void 0:l.bootloader_mode)&&(e.updateFromCache(r[0]),yield e.acquire(),e.getCommands().mainId=null!==(p=e.mainId)&&void 0!==p?p:"")}yield Ge(3e3)}})),Wt=(e,t,i)=>H(void 0,void 0,void 0,(function*(){if("Success"===t.type)return t.message;const{offset:r,data_length:s}=t.message;if(void 0===r)throw new Error("offset is undefined");const f=new Uint8Array(i.slice(r,Math.min(r+s,i.byteLength))),a=c.blake2s(f),n={data_chunk:Ot(f),hash:Ot(a)},o=yield e("ResourceAck",["ResourceRequest","Success"],Object.assign({},n));return Wt(e,o,i)})),Yt=(e,t,i)=>H(void 0,void 0,void 0,(function*(){const r=new Uint8Array(i.slice(0,Math.min(16384,i.byteLength))),s=c.blake2s(r),f=yield e("ResourceUpdate",["ResourceRequest","Success"],{file_name:t,data_length:i.byteLength,initial_data_chunk:Ot(r),hash:Ot(s)});return Wt(e,f,i)})),Zt=(e,t,i,r)=>H(void 0,void 0,void 0,(function*(){Ht(i,"UpdateSysResource",t);const s=yield S.default.loadAsync(r),f=Object.entries(s.files);let a=0;const n=100/f.length;for(const[r,o]of f){const s=r.split("/").pop();if(!o.dir&&-1===r.indexOf("__MACOSX")&&s){const t=yield o.async("arraybuffer");yield Yt(e,s,t)}a+=n,Ut(i,Math.floor(a),t)}return Ut(i,100,t),Ht(i,"UpdateSysResourceSuccess",t),!0}));const Xt=ze(t.LoggerNames.Method);const $t=ze(t.LoggerNames.Method);var Jt=[{name:"Bitcoin",label:"BTC",slip44:0},{name:"Regtest",label:"REGTEST",slip44:1},{name:"Testnet",label:"TEST",slip44:1},{name:"Actinium",label:"ACM",slip44:228},{name:"Axe",label:"AXE",slip44:4242},{name:"Bcash",label:"BCH",slip44:145},{name:"Bitcore",label:"BTX",slip44:160},{name:"Dash",label:"DASH",slip44:5},{name:"Dash Testnet",label:"tDASH",slip44:1},{name:"Decred",label:"DCR",slip44:42},{name:"Decred Testnet",label:"TDCR",slip44:1},{name:"DigiByte",label:"DGB",slip44:20},{name:"Dogecoin",label:"DOGE",slip44:3},{name:"Feathercoin",label:"FTC",slip44:8},{name:"Firo",label:"FIRO",slip44:136},{name:"Firo Testnet",label:"tFIRO",slip44:1},{name:"Fujicoin",label:"FJC",slip44:75},{name:"GameCredits",label:"GAME",slip44:101},{name:"Komodo",label:"KMD",slip44:141},{name:"Koto",label:"KOTO",slip44:510},{name:"Litecoin",label:"LTC",slip44:2},{name:"Litecoin Testnet",label:"tLTC",slip44:1},{name:"Monacoin",label:"MONA",slip44:22},{name:"MonetaryUnit",label:"MUE",slip44:31},{name:"NIX",label:"NIX",slip44:400},{name:"Namecoin",label:"NMC",slip44:7},{name:"Peercoin",label:"PPC",slip44:6},{name:"Peercoin Testnet",label:"tPPC",slip44:1},{name:"Polis",label:"POLIS",slip44:1997},{name:"Primecoin",label:"XPM",slip44:24},{name:"Ravencoin",label:"RVN",slip44:175},{name:"Ritocoin",label:"RITO",slip44:19169},{name:"Stakenet",label:"XSN",slip44:199},{name:"Syscoin",label:"SYS",slip44:57},{name:"Unobtanium",label:"UNO",slip44:92},{name:"Verge",label:"XVG",slip44:77},{name:"Vertcoin",label:"VTC",slip44:28},{name:"Viacoin",label:"VIA",slip44:14},{name:"ZCore",label:"ZCR",slip44:428},{name:"Zcash",label:"ZEC",slip44:133},{name:"Zcash Testnet",label:"TAZ",slip44:1}];const Qt=(e,t)=>{let i;if(t){const e=t.toLowerCase();i=Jt.find(t=>t.name.toLowerCase()===e||t.label.toLowerCase()===e)}else if(e){const t=V(e[1]);i=Jt.find(e=>e.slip44===t)}if(!i)throw t?f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Invalid coin name: "+t):e?f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Invalid path: "+e[0]):f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter);return i},ei=(e,t,i)=>{const r=Qt(e,t).name;let s=i;void 0===s&&(s=(e=>Array.isArray(e)&&e[0]===K(48))(e));let f=X(e);return"SPENDMULTISIG"!==f||s||(f="SPENDADDRESS"),{coinName:r,scriptType:null!==f&&void 0!==f?f:"SPENDADDRESS"}};const ti=e=>{const{tx_hash:t}=e.txRequest.details;return t?(({typedCall:e,txRequest:{request_type:t,details:i},refTxs:r})=>{const{tx_hash:s}=i;if(!s)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: unknown details.tx_hash");const a=r[s.toLowerCase()];if(!a)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Requested unknown tx: "+s);if("TXINPUT"===t){if(!a.bin_outputs)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Requested unknown TXINPUT: "+s);return e("TxAckPrevInput","TxRequest",{tx:{input:a.inputs[i.request_index]}})}if("TXOUTPUT"===t){if(!a.bin_outputs)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Requested unknown TXOUTPUT: "+s);return e("TxAckPrevOutput","TxRequest",{tx:{output:a.bin_outputs[i.request_index]}})}if("TXORIGINPUT"===t){if(!a.outputs)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Requested unknown TXORIGINPUT: "+s);return e("TxAckInput","TxRequest",{tx:{input:a.inputs[i.request_index]}})}if("TXORIGOUTPUT"===t){if(!a.outputs)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Requested unknown TXORIGOUTPUT: "+s);return e("TxAckOutput","TxRequest",{tx:{output:a.outputs[i.request_index]}})}if("TXEXTRADATA"===t){if("number"!==typeof i.extra_data_len)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_len");if("number"!==typeof i.extra_data_offset)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_offset");if("string"!==typeof a.extra_data)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: No extra data for transaction "+a.hash);const t=a.extra_data,r=i.extra_data_len,s=i.extra_data_offset;return e("TxAckPrevExtraData","TxRequest",{tx:{extra_data_chunk:t.substring(2*s,2*(s+r))}})}if("TXMETA"===t){const t=a.extra_data;return e("TxAckPrevMeta","TxRequest",{tx:{version:a.version,lock_time:a.lock_time,inputs_count:a.inputs.length,outputs_count:a.outputs?a.outputs.length:a.bin_outputs.length,timestamp:a.timestamp,version_group_id:a.version_group_id,expiry:a.expiry,branch_id:a.branch_id,extra_data_len:t?t.length/2:void 0}})}throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Unknown request type: "+t)})(e):(({typedCall:e,txRequest:{request_type:t,details:i},inputs:r,outputs:s})=>{if("TXINPUT"===t)return e("TxAckInput","TxRequest",{tx:{input:r[i.request_index]}});if("TXOUTPUT"===t)return e("TxAckOutput","TxRequest",{tx:{output:s[i.request_index]}});if("TXMETA"===t)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXMETA from signed transaction");if("TXEXTRADATA"===t)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXEXTRADATA from signed transaction");throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Unknown request type: "+t)})(e)},ii=e=>H(void 0,void 0,void 0,(function*(){const{typedCall:t,txRequest:i,refTxs:r,inputs:s,outputs:a,serializedTx:n,signatures:o}=e;if(((e,t,i)=>{if(!i)return;const{signature_index:r,signature:s,serialized_tx:a}=i;if(a&&e.push(a),"number"===typeof r){if(!s)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"saveTxSignatures: Unexpected null in trezor:TxRequestSerialized signature.");t[r]=s}})(n,o,i.serialized),"TXFINISHED"===i.request_type)return Promise.resolve({signatures:o,serializedTx:n.join("")});const{message:d}=yield ti(e);return ii({typedCall:t,txRequest:d,refTxs:r,inputs:s,outputs:a,serializedTx:n,signatures:o})}));var ri=(e,t,i,r,s,f)=>H(void 0,void 0,void 0,(function*(){const a={};r.forEach(e=>{a[e.hash.toLowerCase()]=e});const{message:n}=yield e("SignTx","TxRequest",Object.assign(Object.assign({},s),{inputs_count:t.length,outputs_count:i.length,coin_name:f}));return ii({typedCall:e,txRequest:n,refTxs:a,inputs:t,outputs:i,serializedTx:[],signatures:[]})}));const si=e=>{const{tx_hash:t}=e.txRequest.details;return t?(({txRequest:{request_type:e,details:t},refTxs:i})=>{const{tx_hash:r}=t;if(!r)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: unknown details.tx_hash");const s=i[r.toLowerCase()];if(!s)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Requested unknown tx: "+r);if(!s.bin_outputs)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: bin_outputs not set tx: "+r);if("TXINPUT"===e)return{inputs:[s.inputs[t.request_index]]};if("TXOUTPUT"===e)return{bin_outputs:[s.bin_outputs[t.request_index]]};if("TXEXTRADATA"===e){if("number"!==typeof t.extra_data_len)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_len");if("number"!==typeof t.extra_data_offset)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_offset");if("string"!==typeof s.extra_data)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: No extra data for transaction "+s.hash);const e=s.extra_data,i=t.extra_data_len,r=t.extra_data_offset;return{extra_data:e.substring(2*r,2*(r+i))}}if("TXMETA"===e){const e=s.extra_data,t={version:s.version,lock_time:s.lock_time,inputs_cnt:s.inputs.length,outputs_cnt:s.bin_outputs.length,timestamp:s.timestamp,version_group_id:s.version_group_id,expiry:s.expiry,branch_id:s.branch_id};return"string"===typeof e&&0!==e.length?Object.assign(Object.assign({},t),{extra_data_len:e.length/2}):t}throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Unknown request type: "+e)})(e):(({txRequest:{request_type:e,details:t},inputs:i,outputs:r})=>{if("TXINPUT"===e)return{inputs:[i[t.request_index]]};if("TXOUTPUT"===e)return{outputs:[r[t.request_index]]};if("TXMETA"===e)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXMETA from signed transaction");if("TXEXTRADATA"===e)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXEXTRADATA from signed transaction");throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Unknown request type: "+e)})(e)},fi=e=>H(void 0,void 0,void 0,(function*(){const{typedCall:t,txRequest:i,refTxs:r,inputs:s,outputs:a,serializedTx:n,signatures:o}=e;if(((e,t,i)=>{if(!i)return;const{signature_index:r,signature:s,serialized_tx:a}=i;if(a&&e.push(a),"number"===typeof r){if(!s)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"saveTxSignatures: Unexpected null in oneKey:TxRequestSerialized signature.");t[r]=s}})(n,o,i.serialized),"TXFINISHED"===i.request_type)return Promise.resolve({signatures:o,serializedTx:n.join("")});const d=si(e),{message:c}=yield t("TxAck","TxRequest",{tx:d});return fi({typedCall:t,txRequest:c,refTxs:r,inputs:s,outputs:a,serializedTx:n,signatures:o})}));var ai=(e,t,i,r,s,f)=>H(void 0,void 0,void 0,(function*(){const a={};r.forEach(e=>{a[e.hash.toLowerCase()]=e});const{message:n}=yield e("SignTx","TxRequest",Object.assign(Object.assign({},s),{inputs_count:t.length,outputs_count:i.length,coin_name:f}));return fi({typedCall:e,txRequest:n,refTxs:a,inputs:t,outputs:i,serializedTx:[],signatures:[]})}));const ni=(e,t)=>{if(!e)return["",""];return[e.slice(0,t),e.slice(t)]};const oi=(e,t,i)=>{let r=new w.default(e);if(i&&(r=((e,t)=>{if(t<1||t>32)throw f.ERRORS.TypedError("Runtime","Int byte size must be between 1 and 32 (8 and 256 bits)");const i=new w.default(2).exponentiatedBy(8*t-1).negated(),r=i.negated().minus(1),s=new w.default(e);if(s.isGreaterThan(r)||s.isLessThan(i))throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,`Overflow when trying to convert number ${e.toString()} into ${t} bytes`);return s.isPositive()?s:s.minus(i).minus(i)})(r,t)),r.isNegative())throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Cannot convert negative number to unsigned interger: "+e.toString());const s=r.toString(16),a=2*t;if(s.length>a)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,`Overflow when trying to convert number ${e.toString()} into ${t} bytes`);return s.padStart(2*t,"0")},di=new RegExp(/^(.*)\[([0-9]*)\]$/),ci=new RegExp(/^bytes([0-9]*)$/),ui=new RegExp(/^(u?int)([0-9]*)$/),li=e=>{const t=di.exec(e);if(null===t)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,`typename ${e} could not be parsed as an EIP-712 array`);const[i,r,s]=t;return{entryTypeName:r,arraySize:parseInt(s,10)||null}},pi=(e,t)=>{if(ci.test(e)||"address"===e)return It(t);if("string"===e)return r.from(t,"utf-8").toString("hex");const i=ui.exec(e);if(i){const[e,r,s]=i,f=Math.ceil(parseInt(s,10)/8);return oi(t,f,"int"===r)}if("bool"===e)return t?"01":"00";throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Unsupported data type for direct field encoding: "+e)},hi={string:u.EthereumDataType.STRING,bool:u.EthereumDataType.BOOL,address:u.EthereumDataType.ADDRESS},yi=(e,t)=>{const i=di.exec(e);if(i){const[e,r,s]=i,f=yi(r,t);return{data_type:u.EthereumDataType.ARRAY,size:parseInt(s,10)||void 0,entry_type:f}}const r=ui.exec(e);if(r){const[e,t,i]=r;return{data_type:"uint"===t?u.EthereumDataType.UINT:u.EthereumDataType.INT,size:Math.floor(parseInt(i,10)/8)}}const s=ci.exec(e);if(s){const[e,t]=s;return{data_type:u.EthereumDataType.BYTES,size:parseInt(t,10)||void 0}}const a=hi[e];if(a)return{data_type:a};if(e in t)return{data_type:u.EthereumDataType.STRUCT,size:t[e].length,struct_name:e};throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"No type definition specified: "+e)};const mi=0;function gi(e){const t=new Uint8Array(33);return t.set([mi]),t.set(d.hexToBytes(e),1),function(e,t=!1){let i=e.toLowerCase();return!t&&i.startsWith("0x")&&(i=i.slice(2)),("0x"+i.padStart(64,"0")).toLowerCase()}(d.bytesToHex(m.blake2b(t,{dkLen:32})).slice(0,64))}const _i=e=>{qt(e,[{name:"addressType",type:"number",required:!0},{name:"stakingKeyHash",type:"string"},{name:"paymentScriptHash",type:"string"},{name:"stakingScriptHash",type:"string"}]),e.path&&Q(e.path),e.stakingPath&&Q(e.stakingPath),e.certificatePointer&&qt(e.certificatePointer,[{name:"blockIndex",type:"number",required:!0},{name:"txIndex",type:"number",required:!0},{name:"certificateIndex",type:"number",required:!0}])},vi=e=>{let t=[];e.path&&(t=Q(e.path,3));let i,r=[];return e.stakingPath&&(r=Q(e.stakingPath,3)),e.certificatePointer&&(i={block_index:e.certificatePointer.blockIndex,tx_index:e.certificatePointer.txIndex,certificate_index:e.certificatePointer.certificateIndex}),{address_type:e.addressType,address_n:t,address_n_staking:r,staking_key_hash:e.stakingKeyHash,certificate_pointer:i,script_payment_hash:e.paymentScriptHash,script_staking_hash:e.stakingScriptHash}},bi=e=>{let t;return e.certificate_pointer&&(t={blockIndex:e.certificate_pointer.block_index,txIndex:e.certificate_pointer.tx_index,certificateIndex:e.certificate_pointer.certificate_index}),{addressType:e.address_type,path:e.address_n,stakingPath:e.address_n_staking,stakingKeyHash:e.staking_key_hash,certificatePointer:t}};const Ti=e=>(qt(e,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{input:{prev_hash:e.prev_hash,prev_index:e.prev_index},path:e.path?Q(e.path,5):void 0}),wi=e=>(qt(e,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{collateralInput:{prev_hash:e.prev_hash,prev_index:e.prev_index},path:e.path?Q(e.path,5):void 0}),Si=e=>(qt(e,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{prev_hash:e.prev_hash,prev_index:e.prev_index}),Ei=e=>{e.forEach(e=>{qt(e,[{name:"policyId",type:"string",required:!0},{name:"tokenAmounts",type:"array",required:!0}]),e.tokenAmounts.forEach(e=>{qt(e,[{name:"assetNameBytes",type:"string",required:!0},{name:"amount",type:"uint"},{name:"mintAmount",type:"uint",allowNegative:!0}])})})},xi=e=>(Ei(e),e.map(e=>({policyId:e.policyId,tokens:Ri(e.tokenAmounts)}))),Ri=e=>e.map(e=>({asset_name_bytes:e.assetNameBytes,amount:e.amount,mint_amount:e.mintAmount})),ki=e=>e.length/2,Ci=(e,t,i,r)=>H(void 0,void 0,void 0,(function*(){let s=0;for(;s<t.length;){const f=t.slice(s,s+i);yield e(r,"CardanoTxItemAck",{data:f}),s+=i}})),Ai=e=>{qt(e,[{name:"address",type:"string"},{name:"amount",type:"uint",required:!0},{name:"tokenBundle",type:"array",allowEmpty:!0},{name:"datumHash",type:"string"},{name:"format",type:"number"},{name:"inlineDatum",type:"string"},{name:"referenceScript",type:"string"}]);const t={output:{amount:e.amount,asset_groups_count:0,datum_hash:e.datumHash,format:e.format,inline_datum_size:e.inlineDatum?ki(e.inlineDatum):void 0,reference_script_size:e.referenceScript?ki(e.referenceScript):void 0},inlineDatum:e.inlineDatum,referenceScript:e.referenceScript};return e.addressParameters?(_i(e.addressParameters),t.output.address_parameters=vi(e.addressParameters)):t.output.address=e.address,e.tokenBundle?(t.tokenBundle=xi(e.tokenBundle),t.output.asset_groups_count=t.tokenBundle.length):t.output.asset_groups_count=0,t},Ii=(e,t)=>H(void 0,void 0,void 0,(function*(){const{output:i,tokenBundle:r,inlineDatum:s,referenceScript:f}=t;if(yield e("CardanoTxOutput","CardanoTxItemAck",i),r)for(const t of r){yield e("CardanoAssetGroup","CardanoTxItemAck",{policy_id:t.policyId,tokens_count:t.tokens.length});for(const i of t.tokens)yield e("CardanoToken","CardanoTxItemAck",i)}s&&(yield Ci(e,s,2048,"CardanoTxInlineDatumChunk")),f&&(yield Ci(e,f,2048,"CardanoTxReferenceScriptChunk"))})),Mi=e=>{if(qt(e,[{name:"type",type:"number",required:!0}]),e.type===u.Messages.CardanoPoolRelayType.SINGLE_HOST_IP){const t=[{name:"port",type:"number",required:!0}];if(e.ipv4Address&&t.push({name:"ipv4Address",type:"string",required:!1}),e.ipv6Address&&t.push({name:"ipv6Address",type:"string",required:!1}),qt(e,t),!e.ipv4Address&&!e.ipv6Address)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Either ipv4Address or ipv6Address must be supplied")}else e.type===u.Messages.CardanoPoolRelayType.SINGLE_HOST_NAME?qt(e,[{name:"hostName",type:"string",required:!0},{name:"port",type:"number",required:!0}]):e.type===u.Messages.CardanoPoolRelayType.MULTIPLE_HOST_NAME&&qt(e,[{name:"hostName",type:"string",required:!0}])},Oi=e=>{var t,i;qt(e,[{name:"poolId",type:"string",required:!0},{name:"vrfKeyHash",type:"string",required:!0},{name:"pledge",type:"string",required:!0},{name:"cost",type:"string",required:!0},{name:"margin",type:"object",required:!0},{name:"rewardAccount",type:"string",required:!0},{name:"owners",type:"array",required:!0},{name:"relays",type:"array",required:!0,allowEmpty:!0},{name:"metadata",type:"object"}]),t=e.margin,qt(t,[{name:"numerator",type:"string",required:!0},{name:"denominator",type:"string",required:!0}]),(e=>{e.forEach(e=>{if(e.stakingKeyHash&&qt(e,[{name:"stakingKeyHash",type:"string",required:!e.stakingKeyPath}]),e.stakingKeyPath&&Q(e.stakingKeyPath,5),!e.stakingKeyHash&&!e.stakingKeyPath)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Either stakingKeyHash or stakingKeyPath must be supplied")});if(1!==e.filter(e=>!!e.stakingKeyPath).length)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Exactly one pool owner must be given as a path")})(e.owners),e.relays.forEach(Mi),e.metadata&&(i=e.metadata,qt(i,[{name:"url",type:"string",required:!0},{name:"hash",type:"string",required:!0}]))},Di=e=>{const t=[{name:"type",type:"number",required:!0}];e.type!==u.Messages.CardanoCertificateType.STAKE_POOL_REGISTRATION&&(t.push({name:"scriptHash",type:"string"}),t.push({name:"keyHash",type:"string"})),e.type===u.Messages.CardanoCertificateType.STAKE_DELEGATION&&t.push({name:"pool",type:"string",required:!0}),e.type===u.Messages.CardanoCertificateType.STAKE_POOL_REGISTRATION&&t.push({name:"poolParameters",type:"object",required:!0}),qt(e,t);const{poolParameters:i,poolOwners:s,poolRelays:f}=(e=>e?(Oi(e),{poolParameters:{pool_id:e.poolId,vrf_key_hash:e.vrfKeyHash,pledge:e.pledge,cost:e.cost,margin_numerator:e.margin.numerator,margin_denominator:e.margin.denominator,reward_account:e.rewardAccount,metadata:e.metadata,owners_count:e.owners.length,relays_count:e.relays.length},poolOwners:e.owners.map(e=>({staking_key_hash:e.stakingKeyHash,staking_key_path:e.stakingKeyPath?Q(e.stakingKeyPath,5):void 0})),poolRelays:e.relays.map(e=>{return{type:e.type,ipv4_address:e.ipv4Address?(i=e.ipv4Address,r.from(i.split(".").map(e=>parseInt(e,10))).toString("hex")):void 0,ipv6_address:e.ipv6Address?(t=e.ipv6Address,t.split(":").join("")):void 0,host_name:e.hostName,port:e.port};var t,i})}):{poolParameters:void 0,poolOwners:[],poolRelays:[]})(e.poolParameters);return{certificate:{type:e.type,path:e.path?Q(e.path,5):void 0,script_hash:e.scriptHash,key_hash:e.keyHash,pool:e.pool,pool_parameters:i},poolOwners:s,poolRelays:f}},Pi=e=>(qt(e,[{name:"votingPublicKey",type:"string",required:!0},{name:"weight",type:"uint",required:!0}]),{voting_public_key:e.votingPublicKey,weight:e.weight}),qi=e=>{let t;return qt(e,[{name:"hash",type:"string"}]),e.governanceRegistrationParameters&&(t=(e=>{qt(e,[{name:"votingPublicKey",type:"string"},{name:"stakingPath",required:!0},{name:"nonce",type:"uint",required:!0},{name:"format",type:"number"},{name:"delegations",type:"array",allowEmpty:!0},{name:"votingPurpose",type:"uint"}]),_i(e.rewardAddressParameters);const{delegations:t}=e;if(t&&t.length>32)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"At most 32 delegations are allowed in a governance registration");return{voting_public_key:e.votingPublicKey,staking_path:Q(e.stakingPath,3),reward_address_parameters:vi(e.rewardAddressParameters),nonce:e.nonce,format:e.format,delegations:null===t||void 0===t?void 0:t.map(Pi),voting_purpose:e.votingPurpose}})(e.governanceRegistrationParameters)),{hash:e.hash,governance_registration_parameters:t}},Bi=e=>{const{governance_registration_parameters:t}=e;return t?(t.reward_address_parameters=(e=>{if(e.address_type===u.Messages.CardanoAddressType.REWARD){let{address_n:t,address_n_staking:i}=e;if(t.length>0&&i.length>0)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Only stakingPath is allowed for CardanoAddressType.REWARD");return t.length>0&&(i=t,t=[]),Object.assign(Object.assign({},e),{address_n:t,address_n_staking:i})}return e})(t.reward_address_parameters),Object.assign(Object.assign({},e),{governance_registration_parameters:t})):e},Ni=(e,t,i,r,s,f,a)=>{const n=new Map;function o(e){const t=JSON.stringify(e);n.set(t,e)}return a!==u.Messages.CardanoTxSigningMode.MULTISIG_TRANSACTION&&(e.forEach(({path:e})=>{e&&o(e)}),t.forEach(({certificate:e,poolOwners:t})=>{!e.path||e.type!==u.Messages.CardanoCertificateType.STAKE_DELEGATION&&e.type!==u.Messages.CardanoCertificateType.STAKE_DEREGISTRATION||o(e.path),t.forEach(e=>{e.staking_key_path&&o(e.staking_key_path)})}),i.forEach(({path:e})=>{e&&o(e)})),a===u.Messages.CardanoTxSigningMode.PLUTUS_TRANSACTION&&r.forEach(({path:e})=>{e&&o(e)}),s.forEach(({key_path:e})=>{e&&o(e)}),f.forEach(e=>{o(e)}),Array.from(n.values())};var Li;function ji(e){return g.Buffer.isBuffer(e)||e instanceof Uint8Array}function Fi(e,t){const i=e.toString(16).padStart(2*t.size,"0");return g.Buffer.from(i,"hex")}!function(e){e[e.SIGHASH_ALL=1]="SIGHASH_ALL",e[e.SIGHASH_NONE=2]="SIGHASH_NONE",e[e.SIGHASH_SINGLE=3]="SIGHASH_SINGLE",e[e.SIGHASH_FORKID=64]="SIGHASH_FORKID",e[e.SIGHASH_ANYONECANPAY=128]="SIGHASH_ANYONECANPAY"}(Li||(Li={}));class Ui{constructor(e){this.bufLen=0,e?this.set(e):this.bufs=[]}set(e){return this.bufs=e.bufs||this.bufs||[],this.bufLen=this.bufs.reduce((e,t)=>e+t.length,0),this}toBuffer(){return this.concat()}concat(){return g.Buffer.concat(this.bufs,this.bufLen)}write(e){if(!ji(e))throw new Error("BufferWriter.write: Invalid type");return this.bufs.push(e),this.bufLen+=e.length,this}writeReverse(e){if(!ji(e))throw new Error("BufferWriter.write: Invalid type");return this.bufs.push(e.reverse()),this.bufLen+=e.length,this}writeVarBytes(e){if(!ji(e))throw new Error("BufferWriter.write: Invalid type");return this.writeUInt64LE(new w.default(e.length)),this.write(e),this}writeUInt8(e){const t=g.Buffer.alloc(1);return t.writeUInt8(e,0),this.write(t),this}writeUInt16BE(e){const t=g.Buffer.alloc(2);return t.writeUInt16BE(e,0),this.write(t),this}writeUInt16LE(e){const t=g.Buffer.alloc(2);return t.writeUInt16LE(e,0),this.write(t),this}writeUInt32BE(e){const t=g.Buffer.alloc(4);return t.writeUInt32BE(e,0),this.write(t),this}writeInt32LE(e){const t=g.Buffer.alloc(4);return t.writeInt32LE(e,0),this.write(t),this}writeUInt32LE(e){const t=g.Buffer.alloc(4);return t.writeUInt32LE(e,0),this.write(t),this}writeUInt64BEBN(e){const t=Fi(e,{size:8});return this.write(t),this}writeUInt64LE(e){const t=Fi(e,{size:8});return this.writeReverse(t),this}writeVarintNum(e){const t=Ui.varintBufNum(e);return this.write(t),this}writeVarintBN(e){const t=Ui.varintBufBN(e);return this.write(t),this}static varintBufNum(e){let t;return e<253?(t=g.Buffer.alloc(1),t.writeUInt8(e,0)):e<65536?(t=g.Buffer.alloc(3),t.writeUInt8(253,0),t.writeUInt16LE(e,1)):e<4294967296?(t=g.Buffer.alloc(5),t.writeUInt8(254,0),t.writeUInt32LE(e,1)):(t=g.Buffer.alloc(9),t.writeUInt8(255,0),t.writeInt32LE(-1&e,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t}static varintBufBN(e){let t;const i=e.toNumber();if(i<253)t=g.Buffer.alloc(1),t.writeUInt8(i,0);else if(i<65536)t=g.Buffer.alloc(3),t.writeUInt8(253,0),t.writeUInt16LE(i,1);else if(i<4294967296)t=g.Buffer.alloc(5),t.writeUInt8(254,0),t.writeUInt32LE(i,1);else{const i=new Ui;i.writeUInt8(255),i.writeUInt64LE(e),t=i.concat()}return t}}const Hi=r.from("TransactionSigningHash");class zi{constructor(){this.bw=new Ui,this.blake2b=m.blake2b.create({dkLen:32,key:Hi}),this.hash={update:e=>{this.bw.write(e),this.blake2b.update(e)},digest:()=>r.from(this.blake2b.digest())}}writeUInt8(e){const t=new Ui;t.writeUInt8(e),this.hash.update(t.toBuffer())}writeUInt16LE(e){const t=new Ui;t.writeUInt16LE(e),this.hash.update(t.toBuffer())}writeUInt32LE(e){const t=new Ui;t.writeUInt32LE(e),this.hash.update(t.toBuffer())}writeUInt64LE(e){const t=new Ui;t.writeUInt64LE(new w.default(e)),this.hash.update(t.toBuffer())}writeVarBytes(e){this.writeUInt64LE(e.length),this.hash.update(e)}writeHash(e){this.hash.update(e)}finalize(){return this.hash.digest()}toBuffer(){return this.bw.toBuffer()}}function Gi(){return r.alloc(32)}function Ki(){return r.alloc(20)}function Vi(e){return(e&Li.SIGHASH_ANYONECANPAY)===Li.SIGHASH_ANYONECANPAY}function Wi(e){return(31&e)===Li.SIGHASH_SINGLE}function Yi(e){return(31&e)===Li.SIGHASH_NONE}function Zi(e,t){e.writeHash(r.from(t.prevTxId,"hex")),e.writeUInt32LE(t.outputIndex)}function Xi(e,t,i){if(Yi(i))return Gi();if(Wi(i)){if(t>=e.outputs.length)return Gi();return(new zi).finalize()}const s=new zi;return e.outputs.forEach(e=>function(e,t){e.writeUInt64LE(t.satoshis),e.writeUInt16LE(0),e.writeVarBytes(r.from(t.script,"hex"))}(s,e)),s.finalize()}function $i(e,t){var i;const s=new zi;s.writeUInt16LE(e.version),s.writeHash(function(e,t){if(Vi(t))return Gi();const i=new zi;return e.inputs.forEach(e=>Zi(i,e)),i.finalize()}(e,e.sigHashType)),s.writeHash(function(e,t){if(Wi(t)||Vi(t)||Yi(t))return Gi();const i=new zi;return e.inputs.forEach(e=>i.writeUInt64LE(e.sequenceNumber)),i.finalize()}(e,e.sigHashType)),s.writeHash(function(e,t){if(Vi(t))return Gi();const i=new zi;return e.inputs.forEach(e=>i.writeUInt8(e.sigOpCount)),i.finalize()}(e,e.sigHashType));const f=e.inputs[t];return Zi(s,f),s.writeUInt16LE(0),s.writeVarBytes(r.from(f.output.script,"hex")),s.writeUInt64LE(f.output.satoshis),s.writeUInt64LE(f.sequenceNumber),s.writeUInt8(null!==(i=e.sigOpCount)&&void 0!==i?i:1),s.writeHash(Xi(e,t,e.sigHashType)),s.writeUInt64LE(e.lockTime),s.writeHash(Ki()),s.writeUInt64LE(0),s.writeHash(Gi()),s.writeUInt8(e.sigHashType),{hash:s.finalize(),raw:s.toBuffer()}}var Ji=Object.freeze({__proto__:null,searchDevices:class extends Rt{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,t;return H(this,void 0,void 0,(function*(){yield ct.configure();const i=yield null===(e=this.connector)||void 0===e?void 0:e.enumerate(),r=null!==(t=null===i||void 0===i?void 0:i.descriptors)&&void 0!==t?t:[];if("react-native"===Ze.getSettings("env"))return r.map(e=>{var t;return Object.assign(Object.assign({},e),{connectId:e.id,deviceType:ie(null!==(t=e.name)&&void 0!==t?t:"")})});const{deviceList:s}=yield at.getDevices(r);return s.map(e=>e.toMessageObject())}))}},getFeatures:class extends Rt{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt,pt],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return Promise.resolve(this.device.features)}},getPassphraseState:class extends Rt{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.useDevicePassphraseState=!1}run(){var e,t;return H(this,void 0,void 0,(function*(){if(!this.device.features)return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceInitializeFailed));let{features:i}=this.device;const r=!0===(null===(t=null===(e=this.device)||void 0===e?void 0:e.features)||void 0===t?void 0:t.unlocked),s=yield de(this.device.features,this.device.commands);if(("touch"===te(i)||"pro"===te(i))&&r){const{message:e}=yield this.device.commands.typedCall("GetFeatures","Features",{});i=e}return i&&!0===i.passphrase_protection?(s&&i.device_id&&this.device.tryFixInternalState(s,i.device_id,i.session_id),Promise.resolve(s)):Promise.resolve(void 0)}))}},getLogs:class extends Rt{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return H(this,void 0,void 0,(function*(){const e=Ne();return Promise.resolve(e)}))}},checkFirmwareRelease:class extends Rt{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(this.device.features){const e=St(this.device.features);return Promise.resolve(e)}return Promise.resolve(null)}},checkBLEFirmwareRelease:class extends Rt{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,pt],this.checkDeviceId=!0,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(this.device.features){const e=Et(this.device.features);return Promise.resolve(e)}return Promise.resolve(null)}},checkTransportRelease:class extends Rt{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return H(this,void 0,void 0,(function*(){const e=ct.getTransport(),t=yield e.init(),i=Ze.getTransportStatus(t);return Promise.resolve(i)}))}},checkBridgeStatus:class extends Rt{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return H(this,void 0,void 0,(function*(){return new Promise((e,t)=>{b.default.request({url:"http://localhost:21320",method:"POST",withCredentials:!1,timeout:3e3}).then(()=>e(!0)).catch(i=>{"ECONNABORTED"===i.code?t(f.ERRORS.TypedError(f.HardwareErrorCode.BridgeTimeoutError)):e(!1)})})}))}},checkBridgeRelease:class extends Rt{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,pt],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return H(this,void 0,void 0,(function*(){if(!this.device.features)return null;try{const{data:e}=yield b.default.request({url:"http://localhost:21320",method:"POST",withCredentials:!1,timeout:3e3}),{version:t="0.0.0"}=e,{willUpdateFirmwareVersion:i}=this.payload,{features:r}=this.device,s=te(r),f=fe(r).join("."),a=v.default.lt(t,"2.2.0");let n=!1;return"touch"===s&&(v.default.gte(i,"4.3.0")&&a&&(n=!0),v.default.gte(f,"4.3.0")&&a&&(n=!0)),"classic"!==s&&"mini"!==s||(v.default.gte(i,"3.1.0")&&a&&(n=!0),v.default.gte(f,"3.1.0")&&a&&(n=!0)),{shouldUpdate:n,status:n?"outdated":"valid",releaseVersion:"2.2.0"}}catch(e){return"ECONNABORTED"===e.code?Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.BridgeTimeoutError)):Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.BridgeNotInstalled))}}))}},checkBootloaderRelease:class extends Rt{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,pt],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return H(this,void 0,void 0,(function*(){if(!this.device.features)return null;const{features:e}=this.device,t=te(e);let i=!1;"classic"===t||"mini"===t?i=!!Ae(e,this.payload.willUpdateFirmwareVersion):"touch"===t&&(i=Ce(e));const r=Ze.getBootloaderResource(e);return Promise.resolve({shouldUpdate:i,status:i?"outdated":"valid",release:r})}))}},deviceBackup:class extends Rt{init(){this.useDevicePassphraseState=!1}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("BackupDevice","Success");return Promise.resolve(e.message)}))}},deviceChangePin:class extends Rt{init(){this.useDevicePassphraseState=!1,qt(this.payload,[{name:"remove",type:"boolean"}]),this.params={remove:this.payload.remove}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ChangePin","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceFlags:class extends Rt{init(){this.useDevicePassphraseState=!1,qt(this.payload,[{name:"flags",type:"number"}]),this.params={flags:this.payload.flags}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ApplyFlags","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceRebootToBootloader:class extends Rt{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}getVersionRange(){return{classic:{min:"2.1.11"},mini:{min:"2.1.11"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("RebootToBootloader","Success");return Promise.resolve(e.message)}))}},deviceRebootToBoardloader:class extends Rt{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}getVersionRange(){return{classic:{min:"2.1.11"},mini:{min:"2.1.11"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("BixinOutMessageSE","Success");return Promise.resolve(e.message)}))}},deviceRecovery:class extends Rt{init(){this.useDevicePassphraseState=!1,qt(this.payload,[{name:"wordCount",type:"number"},{name:"passphraseProtection",type:"boolean"},{name:"pinProtection",type:"boolean"},{name:"language",type:"string"},{name:"label",type:"string"},{name:"enforceWordlist",type:"boolean"},{name:"type",type:"object"},{name:"u2fCounter",type:"number"},{name:"dryRun",type:"boolean"}]),this.params={word_count:this.payload.wordCount,passphrase_protection:this.payload.passphraseProtection,pin_protection:this.payload.pinProtection,language:this.payload.language,label:this.payload.label,enforce_wordlist:this.payload.enforceWordlist,type:this.payload.type,u2f_counter:this.payload.u2fCounter||Math.floor(Date.now()/1e3),dry_run:this.payload.dryRun}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("RecoveryDevice","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceReset:class extends Rt{init(){this.useDevicePassphraseState=!1,qt(this.payload,[{name:"displayRandom",type:"boolean"},{name:"strength",type:"number"},{name:"passphraseProtection",type:"boolean"},{name:"pinProtection",type:"boolean"},{name:"language",type:"string"},{name:"label",type:"string"},{name:"u2fCounter",type:"number"},{name:"skipBackup",type:"boolean"},{name:"noBackup",type:"boolean"},{name:"backupType"}]),this.params={display_random:this.payload.displayRandom,strength:this.payload.strength||256,passphrase_protection:this.payload.passphraseProtection,pin_protection:this.payload.pinProtection,language:this.payload.language,label:this.payload.label,u2f_counter:this.payload.u2fCounter||Math.floor(Date.now()/1e3),skip_backup:this.payload.skipBackup,no_backup:this.payload.noBackup,backup_type:this.payload.backupType}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ResetDevice","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceSettings:class extends Rt{init(){this.useDevicePassphraseState=!1,qt(this.payload,[{name:"language",type:"string"},{name:"label",type:"string"},{name:"usePassphrase",type:"boolean"},{name:"homescreen",type:"string"},{name:"passphraseSource",type:"number"},{name:"autoLockDelayMs",type:"number"},{name:"displayRotation",type:"number"},{name:"passphraseAlwaysOnDevice",type:"boolean"},{name:"safetyChecks",type:"number"},{name:"experimentalFeatures",type:"boolean"}]),this.params={language:this.payload.language,label:this.payload.label,use_passphrase:this.payload.usePassphrase,homescreen:this.payload.homescreen,_passphrase_source:this.payload.passphraseSource,auto_lock_delay_ms:this.payload.autoLockDelayMs,display_rotation:this.payload.displayRotation,passphrase_always_on_device:this.payload.passphraseAlwaysOnDevice,safety_checks:this.payload.safetyChecks,experimental_features:this.payload.experimentalFeatures}}getVersionRange(){return this.payload.usePassphrase?{model_mini:{min:"2.4.0"}}:{}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ApplySettings","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceUpdateReboot:class extends Rt{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("DeviceBackToBoot","Success");return Promise.resolve(e.message)}))}},deviceUploadResource:class extends Rt{constructor(){super(...arguments),this.paramsData={data:new Uint8Array,thumbnailData:new Uint8Array},this.processResourceRequest=e=>H(this,void 0,void 0,(function*(){if("Success"===e.type)return e.message;const{offset:t,data_length:i}=e.message,{data:r,thumbnailData:s}=this.paramsData;if(void 0===t)throw new Error("offset is undefined");let f;f="ResourceRequest"===e.type?new Uint8Array(r.slice(t,Math.min(t+i,r.byteLength))):new Uint8Array(s.slice(t,Math.min(t+i,s.byteLength)));const a=c.blake2s(f),n={data_chunk:d.bytesToHex(f),hash:d.bytesToHex(a)},o=yield this.device.commands.typedCall("ResourceAck",["ResourceRequest","ZoomRequest","Success"],n);return this.processResourceRequest(o)}))}getVersionRange(){return{model_touch:{min:"3.2.0"}}}checkUploadNFTSupport(){const e=te(this.device.features),t=fe(this.device.features).join(".");if("touch"!==e)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodError,"Device Not Support Upload NFT");if(v.default.lt(t,"4.1.0"))throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodNeedUpgradeFirmware,"Device firmware version is too low, please update to 4.1.0",{current:t,require:"4.1.0"})}init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0,qt(this.payload,[{name:"suffix",type:"string",required:!0},{name:"dataHex",type:"string",required:!0},{name:"thumbnailDataHex",type:"string",required:!0},{name:"resType",type:"number",required:!0},{name:"nftMetaData",type:"string"},{name:"file_name_no_ext",type:"boolean"}]);const{suffix:e,dataHex:t,thumbnailDataHex:i,resType:r,nftMetaData:s}=this.payload;this.paramsData={data:Dt(t),thumbnailData:Dt(i)};const f=`${0===r?"wp":"nft"}-${d.bytesToHex(c.blake2s(this.payload.dataHex)).slice(0,8)}-${Math.floor(Date.now()/1e3)}`;this.params={extension:e,data_length:this.paramsData.data.byteLength,zoom_data_length:this.paramsData.thumbnailData.byteLength,res_type:r,nft_meta_data:s,file_name_no_ext:f}}run(){return H(this,void 0,void 0,(function*(){this.payload.resType===u.Messages.ResourceType.Nft&&this.checkUploadNFTSupport();const e=yield this.device.commands.typedCall("ResourceUpload",["ResourceRequest","ZoomRequest","Success"],this.params);return this.postMessage($e(Xe.CLOSE_UI_WINDOW)),this.processResourceRequest(e)}))}},deviceSupportFeatures:class extends Rt{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(!this.device.features)return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Device not initialized"));const e=oe(this.device.features),t=ue(this.device.features);return Promise.resolve({inputPinOnSoftware:e,modifyHomescreen:t,device:this.device.toMessageObject()})}},deviceVerify:class extends Rt{init(){this.useDevicePassphraseState=!1,qt(this.payload,[{name:"dataHex",type:"hexString"}]),this.params={data:It(this.payload.dataHex)}}run(){return H(this,void 0,void 0,(function*(){let e;if("classic"===te(this.device.features)){e=(yield this.device.commands.typedCall("BixinVerifyDeviceRequest","BixinVerifyDeviceAck",Object.assign(Object.assign({},this.params),{data:d.bytesToHex(l.sha256(this.params.data))}))).message}else{const t=yield this.device.commands.typedCall("SESignMessage","SEMessageSignature",{message:this.params.data});e={cert:(yield this.device.commands.typedCall("ReadSEPublicCert","SEPublicCert")).message.public_cert,signature:t.message.signature}}return e?Promise.resolve(e):Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Device not support verify"))}))}},deviceWipe:class extends Rt{init(){this.useDevicePassphraseState=!1}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("WipeDevice","Success");return Promise.resolve(e.message)}))}},deviceFullyUploadResource:class extends Rt{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage($e(gt,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.notAllowDeviceMode=[pt,yt],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}isSupportResourceUpdate(e,t){if("firmware"!==t)return!1;const i=te(e),r="touch"===i||"pro"===i,s=fe(e).join(".");return r&&v.default.gte(s,"3.4.0")}run(){return H(this,void 0,void 0,(function*(){const{device:e}=this,{features:t}=e;if(!(null===t||void 0===t?void 0:t.bootloader_mode)&&t&&t){this.postTipMessage("CheckLatestUiResource");const i=Ze.getSysFullResource(t);if(i){this.postTipMessage("DownloadLatestUiResource");const t=yield Lt(i);this.postTipMessage("DownloadLatestUiResourceSuccess"),t&&(yield Zt(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,e,t.binary))}}}))}},deviceUpdateBootloader:class extends Rt{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage($e(gt,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.notAllowDeviceMode=[pt,yt],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}updateTouchBootloader(e,t){return H(this,void 0,void 0,(function*(){if(t&&!t.bootloader_mode&&t&&Ce(t)){this.postTipMessage("CheckLatestUiResource");const i=Ze.getBootloaderResource(t);if(i){this.postTipMessage("DownloadLatestBootloaderResource");const t=yield Lt(i);if(this.postTipMessage("DownloadLatestBootloaderResourceSuccess"),t){if(!function(e){const t=new Uint8Array(e.slice(0,Math.min(16384,e.byteLength))),i=T.default.wrap(t,void 0,void 0,!0);i.LE(),i.readByte(),i.readByte(),i.readByte(),i.readByte();const r=i.readUint32();return i.readUint32(),r+i.readUint32()===e.byteLength}(t.binary))throw f.ERRORS.TypedError(f.HardwareErrorCode.CheckDownloadFileError);return yield((e,t,i,r)=>H(void 0,void 0,void 0,(function*(){return Ht(i,"UpdateBootloader",t),Ut(i,Math.floor(0),t),yield Yt(e,"bootloader.bin",r),Ut(i,Math.floor(100),t),Ht(i,"UpdateBootloaderSuccess",t),!0})))(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,e,t.binary),Promise.resolve(!0)}}}return Promise.resolve(!0)}))}run(){return H(this,void 0,void 0,(function*(){const{device:e}=this,{features:t}=e;return"touch"===te(t)?this.updateTouchBootloader(e,t):Promise.resolve(!0)}))}},firmwareUpdate:class extends Rt{init(){this.notAllowDeviceMode=[pt,yt],this.requireDeviceMode=[pt],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0;const{payload:e}=this;if(qt(e,[{name:"version",type:"array"},{name:"binary",type:"buffer"}]),!e.updateType)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"updateType is required");this.params={updateType:e.updateType},"version"in e&&(this.params=Object.assign(Object.assign({},this.params),{version:e.version})),"binary"in e&&(this.params=Object.assign(Object.assign({},this.params),{binary:e.binary}))}run(){var e;return H(this,void 0,void 0,(function*(){const{device:t,params:i}=this;let r;try{if(i.binary)r=this.params.binary;else{if(!t.features)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"no features found for this device");r=(yield Nt({features:t.features,version:i.version,updateType:i.updateType})).binary}}catch(s){throw f.ERRORS.TypedError(f.HardwareErrorCode.FirmwareUpdateDownloadFailed,null!==(e=s.message)&&void 0!==e?e:s)}return Gt(i.updateType,this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,t,{payload:r})}))}},firmwareUpdateV2:class extends Rt{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage($e(gt,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.notAllowDeviceMode=[pt,yt],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0;const{payload:e}=this;if(qt(e,[{name:"version",type:"array"},{name:"binary",type:"buffer"},{name:"forcedUpdateRes",type:"boolean"},{name:"platform",type:"string",required:!0}]),!e.updateType)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"updateType is required");this.params={updateType:e.updateType,forcedUpdateRes:e.forcedUpdateRes,isUpdateBootloader:e.isUpdateBootloader},"version"in e&&(this.params=Object.assign(Object.assign({},this.params),{version:e.version})),"binary"in e&&(this.params=Object.assign(Object.assign({},this.params),{binary:e.binary}))}checkDeviceToBootloader(e){this.checkPromise=f.createDeferred();const t=Ze.getSettings("env"),i=e&&"react-native"===t;Xt.log("FirmwareUpdateV2 [checkDeviceToBootloader] isBleReconnect: ",i);const r=setInterval(()=>H(this,void 0,void 0,(function*(){var t,s,f,a,n,o,d,c;if(i)try{yield null===(t=this.device.deviceConnector)||void 0===t?void 0:t.acquire(this.device.originalDescriptor.id,null,!0),yield this.device.initialize(),(null===(s=this.device.features)||void 0===s?void 0:s.bootloader_mode)&&(clearInterval(r),null===(f=this.checkPromise)||void 0===f||f.resolve(!0))}catch(u){Xt.log("catch Bluetooth error when device is restarting: ",u)}else{const t=yield null===(a=this.device.deviceConnector)||void 0===a?void 0:a.enumerate(),i=null!==(n=null===t||void 0===t?void 0:t.descriptors)&&void 0!==n?n:[],{deviceList:s}=yield at.getDevices(i,e);1===s.length&&(null===(d=null===(o=s[0])||void 0===o?void 0:o.features)||void 0===d?void 0:d.bootloader_mode)&&(this.device.updateFromCache(s[0]),this.device.commands.disposed=!1,clearInterval(r),null===(c=this.checkPromise)||void 0===c||c.resolve(!0))}})),i?3e3:2e3);setTimeout(()=>{this.checkPromise&&(clearInterval(r),this.checkPromise.reject(new Error))},3e4)}isEnteredManuallyBoot(e){const t=te(e),i="mini"===t,r="firmware"===this.params.updateType&&"classic"===t&&"1.8.3"===e.bootloader_version;return i||r}isSupportResourceUpdate(e,t){if("firmware"!==t)return!1;const i=te(e),r="touch"===i||"pro"===i,s=fe(e).join(".");return r&&v.default.gte(s,"3.2.0")}checkVersionForCopyTouchResource(e){var t;if(!e)return;const i=te(e),r=fe(e).join("."),s=null===(t=this.params.version)||void 0===t?void 0:t.join("."),{updateType:a}=this.params,n=jt({features:e,updateType:a});if(!n)return;const{fullResourceRange:o}=n;if(!o)return;const[d,c]=o;if("touch"===i&&"firmware"===a&&s&&v.default.lt(r,d)&&v.default.gte(s,c)&&"desktop"!==this.payload.platform)throw f.ERRORS.TypedError(f.HardwareErrorCode.UseDesktopToUpdateFirmware)}run(){var e,t;return H(this,void 0,void 0,(function*(){const{device:i,params:r}=this,{features:s,commands:a}=i,n=te(s);if(this.checkVersionForCopyTouchResource(s),!(null===s||void 0===s?void 0:s.bootloader_mode)&&s){const t=re(s);if(this.isEnteredManuallyBoot(s))return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot));if(s&&this.isSupportResourceUpdate(s,r.updateType)){this.postTipMessage("CheckLatestUiResource");const e=Ze.getSysResourcesLatestRelease(s,r.forcedUpdateRes);if(e){this.postTipMessage("DownloadLatestUiResource");const t=yield Lt(e);this.postTipMessage("DownloadLatestUiResourceSuccess"),t&&(yield Zt(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,i,t.binary))}}try{this.postTipMessage("AutoRebootToBootloader");if("CallMethodError"===(yield a.typedCall("DeviceBackToBoot","Success")).type)throw f.ERRORS.TypedError(f.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure);this.postTipMessage("GoToBootloaderSuccess"),this.checkDeviceToBootloader(this.payload.connectId),"classic"===n&&at.clearDeviceCache(t),delete at.devicesCache[""],yield null===(e=this.checkPromise)||void 0===e?void 0:e.promise,this.checkPromise=null,yield Ge(1500)}catch(d){return d instanceof f.HardwareError?Promise.reject(d):Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure))}}let o;try{if(r.binary)o=this.params.binary;else{if(!i.features)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"no features found for this device");this.postTipMessage("DownloadFirmware");o=(yield Nt({features:i.features,version:r.version,updateType:r.updateType,isUpdateBootloader:r.isUpdateBootloader})).binary,this.postTipMessage("DownloadFirmwareSuccess")}}catch(c){throw f.ERRORS.TypedError(f.HardwareErrorCode.FirmwareUpdateDownloadFailed,null!==(t=c.message)&&void 0!==t?t:c)}return yield this.device.acquire(),Gt(r.updateType,this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,i,{payload:o})}))}},requestWebUsbDevice:class extends Rt{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,t;return H(this,void 0,void 0,(function*(){yield ct.configure();if("webusb"!==Ze.getSettings("env"))return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Not webusb environment"));try{const i=yield null===(e=this.connector)||void 0===e?void 0:e.enumerate(),r=null!==(t=null===i||void 0===i?void 0:i.descriptors)&&void 0!==t?t:[],{deviceList:s}=yield at.getDevices(r);return s.length>0?{device:s[0].toMessageObject()}:yield Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Please select the device to connect"))}catch(i){return $t.debug(i),Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"Please select the device to connect"))}}))}},cipherKeyValue:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{const t=Q(e.path);qt(e,[{name:"path",required:!0},{name:"key",type:"string"},{name:"value",type:"hexString"},{name:"encrypt",type:"boolean"},{name:"askOnEncrypt",type:"boolean"},{name:"askOnDecrypt",type:"boolean"},{name:"iv",type:"hexString"}]),this.params.push({address_n:t,key:e.key,value:It(e.value),encrypt:e.encrypt,ask_on_encrypt:e.askOnEncrypt,ask_on_decrypt:e.askOnDecrypt,iv:It(e.iv)})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("CipherKeyValue","CipheredKeyValue",Object.assign({},i));e.push(Object.assign({path:J(i.address_n)},r.message))}return Promise.resolve(this.hasBundle?e:e[0])}))}},btcGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};qt(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach(e=>{var t;const i=Q(e.path,1);qt(e,[{name:"path",required:!0},{name:"coin",type:"string"},{name:"showOnOneKey",type:"boolean"},{name:"multisig",type:"object"},{name:"scriptType",type:"string"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t,{multisig:s,coin:f}=e;let{scriptType:a}=e;a||(a=X(i),"SPENDMULTISIG"!==a||s||(a="SPENDADDRESS"));const n=Qt(i,f).name;this.params.push({address_n:i,show_display:r,coin_name:n,multisig:s,script_type:a||"SPENDADDRESS"})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("GetAddress","Address",Object.assign({},i)),s=J(i.address_n);e.push(Object.assign({path:s},r.message)),this.postPreviousAddressMessage({address:r.message.address,path:s})}return Promise.resolve(this.hasBundle?e:e[0])}))}},btcGetPublicKey:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};qt(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach(e=>{var t;const i=Q(e.path,1);qt(e,[{name:"path",required:!0},{name:"coin",type:"string"},{name:"showOnOneKey",type:"boolean"},{name:"scriptType",type:"string"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t,{multisig:s,coin:f}=e;let{scriptType:a}=e;a||(a=X(i),"SPENDMULTISIG"!==a||s||(a="SPENDADDRESS"));const n=Qt(i,f).name;this.params.push({address_n:i,show_display:r,coin_name:n,script_type:a||"SPENDADDRESS"})})}isBtcNetwork(e){return"Testnet"===e.coin_name||"Bitcoin"===e.coin_name}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let i=0;i<this.params.length;i++){const r=this.params[i],s=yield this.device.commands.typedCall("GetPublicKey","PublicKey",Object.assign({},r)),f=Object.assign(Object.assign({path:J(r.address_n)},s.message),{xpubSegwit:s.message.xpub});if(this.isBtcNetwork(r)&&(t=r.address_n,Array.isArray(t)&&(t[0]===K(86)||t[0]===K(10025)))){const e=`${Number(f.root_fingerprint||0).toString(16).padStart(8,"0")}${f.path.substring(1)}`;f.xpubSegwit=`tr([${e}]${f.xpub}/<0;1>/*)`}e.push(f)}var t;return Promise.resolve(this.hasBundle?e:e[0])}))}},btcSignMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"coin",type:"string"}]);const{path:e,messageHex:t,coin:i}=this.payload,r=Q(e),{coinName:s,scriptType:f}=ei(r,i,!1);this.params={address_n:r,message:It(t),coin_name:s,script_type:f}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("SignMessage","MessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},btcSignTransaction:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"coin",type:"string",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0},{name:"refTxs",type:"array",required:!0,allowEmpty:!0},{name:"locktime",type:"number"},{name:"version",type:"number"},{name:"expiry",type:"number"},{name:"overwintered",type:"boolean"},{name:"versionGroupId",type:"number"},{name:"branchId",type:"number"},{name:"timestamp",type:"number"}]),this.payload.refTxs.forEach(e=>{qt(e,[{name:"hash",type:"hexString",required:!0},{name:"inputs",type:"array",required:!0},{name:"bin_outputs",type:"array",required:!Array.isArray(e.outputs)},{name:"outputs",type:"array"},{name:"version",type:"number",required:!0},{name:"lock_time",type:"number",required:!0},{name:"extra_data",type:"string"},{name:"timestamp",type:"number"},{name:"version_group_id",type:"number"}])}),this.payload.inputs.forEach(e=>{Q(e.address_n);const t=(i=e.address_n,Array.isArray(i)&&i[0]===K(49));var i;qt(e,[{name:"prev_hash",type:"hexString",required:!0},{name:"prev_index",type:"number",required:!0},{name:"script_type",type:"string"},{name:"amount",type:"string",required:t},{name:"sequence",type:"number"},{name:"multisig",type:"object"}])}),this.payload.outputs.forEach(e=>{if(qt(e,[{name:"address_n",type:"array"},{name:"address",type:"string"},{name:"amount",type:"string"},{name:"op_return_data",type:"string"},{name:"multisig",type:"object"}]),Object.prototype.hasOwnProperty.call(e,"address_n")&&Object.prototype.hasOwnProperty.call(e,"address"))throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Cannot use address and address_n in one output");if(e.address_n){const t=$(e.address_n);if(e.script_type!==t)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Output change script_type should be set to "+t)}});const{inputs:e,outputs:t,refTxs:i,account:r,coin:s}=this.payload,a=Qt(void 0,s).name;this.params={inputs:e,outputs:t,refTxs:i,addresses:r?r.addresses:void 0,options:{lock_time:this.payload.locktime,timestamp:this.payload.timestamp,version:this.payload.version,expiry:this.payload.expiry,overwintered:this.payload.overwintered,version_group_id:this.payload.versionGroupId,branch_id:this.payload.branchId},coinName:a}}run(){return H(this,void 0,void 0,(function*(){const{device:e,params:t}=this,i=e.unavailableCapabilities.replaceTransaction,{refTxs:r}=t,s=i?ai:ri;return yield s(e.commands.typedCall.bind(e.commands),t.inputs,t.outputs,r,t.options,t.coinName)}))}},btcVerifyMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"address",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0},{name:"coin",type:"string",required:!0}]);const{coin:e}=this.payload,{address:t,messageHex:i,signature:r}=It(this.payload),s=Qt(void 0,e).name;this.params={address:t,message:i,signature:r,coin_name:s}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("VerifyMessage","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},confluxGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"chainId",type:"number"},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,chain_id:e.chainId,show_display:r})})}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("ConfluxGetAddress","ConfluxAddress",Object.assign({},i)),s=J(i.address_n);e.push(Object.assign({path:s},r.message)),this.postPreviousAddressMessage({path:s,address:r.message.address})}return Promise.resolve(this.hasBundle?e:e[0])}))}},confluxSignMessage:class extends Rt{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,i=Q(e,3);this.params={address_n:i,message:It(t)}}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ConfluxSignMessage","ConfluxMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},confluxSignMessageCIP23:class extends Rt{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{path:e,domainHash:t,messageHash:i}=this.payload,r=Q(e,3);this.params={address_n:r,domain_hash:It(t),message_hash:It(i)}}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ConfluxSignMessageCIP23","ConfluxMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},confluxSignTransaction:class extends Rt{constructor(){super(...arguments),this.addressN=[],this.processTxRequest=(e,t)=>H(this,void 0,void 0,(function*(){if(!e.data_length){const t=e.signature_v,i=e.signature_r,r=e.signature_s;if(null==t||null==i||null==r)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodError,"sign transaction failed");return Promise.resolve({v:"0x"+t.toString(16),r:"0x"+i,s:"0x"+r})}const[i,r]=ni(t,2*e.data_length),s=yield this.device.commands.typedCall("ConfluxTxAck","ConfluxTxRequest",{data_chunk:i});return this.processTxRequest(s.message,r)})),this.evmSignTx=(e,t)=>H(this,void 0,void 0,(function*(){const{to:i,value:r,gasPrice:s,gasLimit:f,nonce:a,data:n,chainId:o,epochHeight:d,storageLimit:c}=t,u=null==n?0:n.length/2,[l,p]=ni(n,2048);let h={address_n:e,nonce:At(a),gas_price:At(s),gas_limit:At(f),to:i,value:At(r),epoch_height:At(d),storage_limit:At(c),chain_id:o};0!==u&&(h=Object.assign(Object.assign({},h),{data_length:u,data_initial_chunk:l}));const y=yield this.device.commands.typedCall("ConfluxSignTx","ConfluxTxRequest",h);return this.processTxRequest(y.message,p)}))}init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload;this.addressN=Q(e,3);const i=t;qt(i,[{name:"to",type:"hexString",required:!0},{name:"value",type:"hexString",required:!0},{name:"gasLimit",type:"hexString",required:!0},{name:"gasPrice",type:"hexString",required:!0},{name:"nonce",type:"hexString",required:!0},{name:"epochHeight",type:"hexString",required:!0},{name:"storageLimit",type:"hexString",required:!0},{name:"chainId",type:"number",required:!0},{name:"data",type:"hexString"}]),this.formattedTx=It(i)}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return H(this,void 0,void 0,(function*(){const{addressN:e,formattedTx:t}=this;if(null==t)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"ConfluxSignTransaction: format tx error");const i=yield this.evmSignTx(e,t);return Promise.resolve(i)}))}},evmGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"chainId",type:"number"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r,chain_id:e.chainId})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("EthereumGetAddress","EthereumAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},evmGetPublicKey:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1,this.useBatch=!1}init(){var e,t;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle),this.useBatch=!!(null===(t=this.payload)||void 0===t?void 0:t.useBatch);const i=this.hasBundle?this.payload:{bundle:[this.payload]};qt(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"chainId",type:"number"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r,chain_id:e.chainId})})}run(){var e;return H(this,void 0,void 0,(function*(){const t=[];if(this.useBatch&&this.hasBundle&&ce(null===(e=this.device)||void 0===e?void 0:e.features)){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"secp256k1"})).message.public_keys.map((e,t)=>({path:J(this.params[t].address_n),publicKey:e}));return Promise.resolve(e)}for(let e=0;e<this.params.length;e++){const i=this.params[e],r=yield this.device.commands.typedCall("EthereumGetPublicKey","EthereumPublicKey",Object.assign({},i));t.push(Object.assign({path:J(i.address_n),publicKey:r.message.node.public_key},r.message))}return Promise.resolve(this.hasBundle?t:t[0])}))}},evmSignMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"chainId",type:"number"}]);const{path:e,messageHex:t,chainId:i}=this.payload,r=Q(e,3);this.params={address_n:r,message:It(t),chain_id:i}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("EthereumSignMessage","EthereumMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},evmSignMessageEIP712:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{path:e,domainHash:t,messageHash:i}=this.payload,r=Q(e,3);this.params={address_n:r,domain_hash:It(t),message_hash:It(i)}}getVersionRange(){return{model_mini:{min:"2.1.9"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("EthereumSignMessageEIP712","EthereumMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},evmSignTransaction:class extends Rt{constructor(){super(...arguments),this.addressN=[],this.isEIP1559=!1,this.processTxRequest=(e,t,i)=>H(this,void 0,void 0,(function*(){if(!e.data_length){let t=e.signature_v;const r=e.signature_r,s=e.signature_s;if(null==t||null==r||null==s)throw f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"processTxRequest: Unexpected request");return i&&t<=1&&(t+=2*i+35),Promise.resolve({v:"0x"+t.toString(16),r:"0x"+r,s:"0x"+s})}const[r,s]=ni(t,2*e.data_length),a=yield this.device.commands.typedCall("EthereumTxAck","EthereumTxRequest",{data_chunk:r});return this.processTxRequest(a.message,s,i)})),this.evmSignTx=(e,t)=>H(this,void 0,void 0,(function*(){const{to:i,value:r,gasPrice:s,gasLimit:f,nonce:a,data:n,chainId:o,txType:d}=t,c=null==n?0:n.length/2,[u,l]=ni(n,2048);let p={address_n:e,nonce:At(a),gas_price:At(s),gas_limit:At(f),to:i,value:At(r),chain_id:o};0!==c&&(p=Object.assign(Object.assign({},p),{data_length:c,data_initial_chunk:u})),null!==d&&(p=Object.assign(Object.assign({},p),{tx_type:d}));const h=yield this.device.commands.typedCall("EthereumSignTx","EthereumTxRequest",p);return this.processTxRequest(h.message,l,o)})),this.evmSignTxEip1559=(e,t)=>H(this,void 0,void 0,(function*(){const{to:i,value:r,gasLimit:s,nonce:f,data:a,chainId:n,maxFeePerGas:o,maxPriorityFeePerGas:d,accessList:c}=t,u=null==a?0:a.length/2,[l,p]=ni(a,2048),h={address_n:e,nonce:At(f),max_gas_fee:At(o),max_priority_fee:At(d),gas_limit:At(s),to:i,value:At(r),data_length:u,data_initial_chunk:l,chain_id:n,access_list:(c||[]).map(e=>({address:e.address,storage_keys:e.storageKeys}))},y=yield this.device.commands.typedCall("EthereumSignTxEIP1559","EthereumTxRequest",h);return this.processTxRequest(y.message,p)}))}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload;this.addressN=Q(e,3);const i=t;this.isEIP1559=!!i.maxFeePerGas&&!!i.maxPriorityFeePerGas;const r=[{name:"to",type:"hexString",required:!0},{name:"value",type:"hexString",required:!0},{name:"gasLimit",type:"hexString",required:!0},{name:"nonce",type:"hexString",required:!0},{name:"chainId",type:"number",required:!0},{name:"data",type:"hexString"}];this.isEIP1559?(r.push({name:"maxFeePerGas",type:"hexString",required:!0}),r.push({name:"maxPriorityFeePerGas",type:"hexString",required:!0})):(r.push({name:"gasPrice",type:"hexString",required:!0}),r.push({name:"txType",type:"number"})),qt(i,r),this.formattedTx=It(i)}getVersionRange(){return this.isEIP1559?{model_mini:{min:"2.1.11"}}:{model_mini:{min:"1.0.0"}}}run(){return H(this,void 0,void 0,(function*(){const{addressN:e,isEIP1559:t,formattedTx:i}=this,r=yield t?this.evmSignTxEip1559(e,i):this.evmSignTx(e,i);return Promise.resolve(r)}))}},evmSignTypedData:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"metamaskV4Compat",type:"boolean"},{name:"data",type:"object"},{name:"domainHash",type:"hexString"},{name:"messageHash",type:"hexString"},{name:"chainId",type:"number"}]);const{path:e,data:t,metamaskV4Compat:i,domainHash:r,messageHash:s,chainId:a}=this.payload,n=Q(e,3);if(this.params={addressN:n,metamaskV4Compat:i,data:t,chainId:a},r)if(this.params.domainHash=It(r),s)this.params.messageHash=It(s);else if(t&&(!t.primaryType||"EIP712Domain"!==t.primaryType))throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"message_hash should only be empty when data.primaryType=EIP712Domain")}signTypedData(){return H(this,void 0,void 0,(function*(){const{commands:e}=this.device,{addressN:t,data:i,metamaskV4Compat:r,chainId:s}=this.params,{types:a,primaryType:n,domain:o,message:d}=i;let c=yield e.typedCall("EthereumSignTypedData",["EthereumTypedDataStructRequest","EthereumTypedDataValueRequest","EthereumTypedDataSignature"],{address_n:t,primary_type:n,metamask_v4_compat:r,chain_id:s});for(;"EthereumTypedDataStructRequest"===c.type;){const{name:t}=c.message,i=a[t];if(void 0===i)throw f.ERRORS.TypedError("Runtime",`Type ${t} was not defined in types object`);const r={members:i.map(({name:e,type:t})=>({name:e,type:yi(t,a)}))};c=yield e.typedCall("EthereumTypedDataStructAck",["EthereumTypedDataStructRequest","EthereumTypedDataValueRequest","EthereumTypedDataSignature"],r)}for(;"EthereumTypedDataValueRequest"===c.type;){const{member_path:t}=c.message;let i,r;const[s,...u]=t;switch(s){case 0:i=o,r="EIP712Domain";break;case 1:i=d,r=n;break;default:throw f.ERRORS.TypedError("Runtime","Root index can only be 0 or 1")}for(const e of u)if(Array.isArray(i))r=li(r).entryTypeName,i=i[e];else if("object"===typeof i&&null!==i){const t=a[r][e];r=t.type,i=i[t.name]}let l;l=Array.isArray(i)?pi("uint16",i.length):pi(r,i),c=yield e.typedCall("EthereumTypedDataValueAck",["EthereumTypedDataValueRequest","EthereumTypedDataSignature"],{value:l})}if("EthereumTypedDataSignature"!==c.type)throw f.ERRORS.TypedError("Runtime","Unexpected response type");const{address:u,signature:l}=c.message;return{address:u,signature:l}}))}getVersionRange(){return{model_mini:{min:"2.1.9"}}}hasNestedArrays(e){if(!e)return!1;if(Array.isArray(e))for(const t of e){if(Array.isArray(t))return!0;if("object"===typeof t&&null!==t&&this.hasNestedArrays(t))return!0}else if("object"===typeof e&&null!==e)for(const t in e)if(this.hasNestedArrays(e[t]))return!0;return!1}supportSignTyped(){const e=te(this.device.features);if("classic"===e||"mini"===e){const e=fe(this.device.features).join("."),t="2.2.0";if(v.default.lt(e,t))return!1}return!0}run(){return H(this,void 0,void 0,(function*(){if(!this.device.features)throw f.ERRORS.TypedError("Device_InitializeFailed","Device initialization failed. Please try again.");const{addressN:e,chainId:t}=this.params,i=te(this.device.features);if("classic"===i||"mini"===i){qt(this.params,[{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{domainHash:i,messageHash:r}=this.params;let s;return s=this.supportSignTyped()?yield this.device.commands.typedCall("EthereumSignTypedHash","EthereumTypedDataSignature",{address_n:e,domain_separator_hash:null!==i&&void 0!==i?i:"",message_hash:r,chain_id:t}):yield this.device.commands.typedCall("EthereumSignMessageEIP712","EthereumMessageSignature",{address_n:e,domain_hash:null!==i&&void 0!==i?i:"",message_hash:null!==r&&void 0!==r?r:""}),Promise.resolve(s.message)}const r=fe(this.device.features).join(".");if(this.hasNestedArrays(this.params.data)){const i="4.2.0";if(v.default.gte(r,i)){qt(this.params,[{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{domainHash:i,messageHash:r}=this.params,s=yield this.device.commands.typedCall("EthereumSignTypedHash","EthereumTypedDataSignature",{address_n:e,domain_separator_hash:null!==i&&void 0!==i?i:"",message_hash:r,chain_id:t});return Promise.resolve(s.message)}throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodNeedUpgradeFirmware,"Device firmware version is too low, please update to "+i,{current:r,require:i})}return this.signTypedData()}))}},evmVerifyMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"address",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0},{name:"chainId",type:"number"}]);const{address:e,messageHex:t,signature:i}=It(this.payload);this.params={address:e,message:t,signature:i,chain_id:this.payload.chainId}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("EthereumVerifyMessage","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},starcoinGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("StarcoinGetAddress","StarcoinAddress",Object.assign({},i)),s=J(i.address_n);e.push(Object.assign({path:s},r.message)),this.postPreviousAddressMessage({path:s,address:r.message.address})}return Promise.resolve(this.hasBundle?e:e[0])}))}},starcoinGetPublicKey:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("StarcoinGetPublicKey","StarcoinPublicKey",Object.assign({},i));e.push(Object.assign({path:J(i.address_n)},r.message))}return Promise.resolve(this.hasBundle?e:e[0])}))}},starcoinSignMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,i=Q(e,3);this.params={address_n:i,message:It(t)}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("StarcoinSignMessage","StarcoinMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},starcoinSignTransaction:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,i=Q(e,3);this.params={address_n:i,raw_tx:It(t)}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("StarcoinSignTx","StarcoinSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},starcoinVerifyMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"publicKey",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0}]);const{publicKey:e,messageHex:t,signature:i}=It(this.payload);this.params={public_key:e,message:t,signature:i}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("StarcoinVerifyMessage","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},nemGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"network",type:"number"},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,network:e.network||104,show_display:r})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("NEMGetAddress","NEMAddress",Object.assign({},i)),s=J(i.address_n);e.push(Object.assign({path:s},r.message)),this.postPreviousAddressMessage({path:s,address:r.message.address})}return Promise.resolve(this.hasBundle?e:e[0])}))}},nemSignTransaction:class extends Rt{constructor(){super(...arguments),this.NEM_MOSAIC_LEVY_TYPES={1:"MosaicLevy_Absolute",2:"MosaicLevy_Percentile"},this.NEM_SUPPLY_CHANGE_TYPES={1:"SupplyChange_Increase",2:"SupplyChange_Decrease"},this.NEM_AGGREGATE_MODIFICATION_TYPES={1:"CosignatoryModification_Add",2:"CosignatoryModification_Delete"},this.NEM_IMPORTANCE_TRANSFER_MODES={1:"ImportanceTransfer_Activate",2:"ImportanceTransfer_Deactivate"},this.getCommon=(e,t)=>{var i;return{address_n:t,network:e.version>>24&255,timestamp:e.timeStamp,fee:e.fee,deadline:null!==(i=e.deadline)&&void 0!==i?i:0,signer:t?void 0:e.signer}},this.transferMessage=e=>{const t=e.mosaics?e.mosaics.map(e=>({namespace:e.mosaicId.namespaceId,mosaic:e.mosaicId.name,quantity:e.quantity})):void 0;return{recipient:e.recipient,amount:e.amount,payload:e.message?e.message.payload:void 0,public_key:e.message&&2===e.message.type?e.message.publicKey:void 0,mosaics:t}},this.importanceTransferMessage=e=>({mode:this.NEM_IMPORTANCE_TRANSFER_MODES[e.importanceTransfer.mode],public_key:e.importanceTransfer.publicKey}),this.aggregateModificationMessage=e=>({modifications:e.modifications?e.modifications.map(e=>({type:this.NEM_AGGREGATE_MODIFICATION_TYPES[e.modificationType],public_key:e.cosignatoryAccount})):void 0,relative_change:e.minCosignatories.relativeChange}),this.provisionNamespaceMessage=e=>{var t,i,r;return{namespace:null!==(t=e.newPart)&&void 0!==t?t:"",parent:e.parent||void 0,sink:null!==(i=e.rentalFeeSink)&&void 0!==i?i:"",fee:null!==(r=e.rentalFee)&&void 0!==r?r:0}},this.mosaicCreationMessage=e=>{var t,i;const{levy:r}=e.mosaicDefinition,s={namespace:e.mosaicDefinition.id.namespaceId,mosaic:e.mosaicDefinition.id.name,levy:r&&r.type?this.NEM_MOSAIC_LEVY_TYPES[r.type]:void 0,fee:r&&r.fee,levy_address:r&&r.recipient,levy_namespace:r&&r.mosaicId&&r.mosaicId.namespaceId,levy_mosaic:r&&r.mosaicId&&r.mosaicId.name,description:e.mosaicDefinition.description},{properties:f}=e.mosaicDefinition;return Array.isArray(f)&&f.forEach(e=>{const{name:t,value:i}=e;switch(t){case"divisibility":s.divisibility=parseInt(i);break;case"initialSupply":s.supply=parseInt(i);break;case"supplyMutable":s.mutable_supply="true"===i;break;case"transferable":s.transferable="true"===i}}),{definition:s,sink:null!==(t=e.creationFeeSink)&&void 0!==t?t:"",fee:null!==(i=e.creationFee)&&void 0!==i?i:0}},this.supplyChangeMessage=e=>{var t;return{namespace:e.mosaicId.namespaceId,mosaic:e.mosaicId.name,type:this.NEM_SUPPLY_CHANGE_TYPES[e.supplyType],delta:null!==(t=e.delta)&&void 0!==t?t:0}},this.parseTx=(e,t)=>{let i=e;const r={transaction:this.getCommon(e,t),transfer:void 0,importance_transfer:void 0,aggregate_modification:void 0,provision_namespace:void 0,mosaic_creation:void 0,supply_change:void 0};switch(258!==e.type&&4100!==e.type&&4098!==e.type||(r.cosigning=258===e.type||4098===e.type,i=e.otherTrans,r.multisig=this.getCommon(i)),i.type){case 257:r.transfer=this.transferMessage(i);break;case 2049:r.importance_transfer=this.importanceTransferMessage(i);break;case 4097:r.aggregate_modification=this.aggregateModificationMessage(i);break;case 8193:r.provision_namespace=this.provisionNamespaceMessage(i);break;case 16385:r.mosaic_creation=this.mosaicCreationMessage(i);break;case 16386:r.supply_change=this.supplyChangeMessage(i);break;default:throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Unknown transaction type")}return r}}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload,i=Q(e,3);this.params=this.parseTx(t,i)}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("NEMSignTx","NEMSignedTx",Object.assign({},this.params));return Promise.resolve(e)}))}},solGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("SolanaGetAddress","SolanaAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},solSignTransaction:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{const t=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]),this.params.push({address_n:t,raw_tx:It(e.rawTx)})})}getVersionRange(){return{classic:{min:"2.1.9"},mini:{min:"2.1.9"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("SolanaSignTx","SolanaSignedTx",Object.assign({},i)),{signature:s}=r.message;e.push({path:J(i.address_n),signature:s})}return Promise.resolve(this.hasBundle?e:e[0])}))}},stellarGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("StellarGetAddress","StellarAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},stellarSignTransaction:class extends Rt{constructor(){super(...arguments),this.operations=[],this.parseOperation=e=>{switch(e.type){case"createAccount":return qt(e,[{name:"destination",type:"string",required:!0},{name:"startingBalance",type:"bigNumber",required:!0}]),{type:"StellarCreateAccountOp",source_account:e.source,new_account:e.destination,starting_balance:e.startingBalance};case"payment":return qt(e,[{name:"destination",type:"string",required:!0},{name:"amount",type:"bigNumber",required:!0},{name:"asset",required:!0}]),{type:"StellarPaymentOp",source_account:e.source,destination_account:e.destination,asset:e.asset,amount:e.amount};case"pathPayment":return qt(e,[{name:"destAmount",type:"bigNumber",required:!0}]),{type:"StellarPathPaymentOp",source_account:e.source,send_asset:e.sendAsset,send_max:e.sendMax,destination_account:e.destination,destination_asset:e.destAsset,destination_amount:e.destAmount,paths:e.path};case"createPassiveOffer":return qt(e,[{name:"amount",type:"bigNumber",required:!0}]),{type:"StellarCreatePassiveOfferOp",source_account:e.source,buying_asset:e.buying,selling_asset:e.selling,amount:e.amount,price_n:e.price.n,price_d:e.price.d};case"manageOffer":return qt(e,[{name:"amount",type:"bigNumber",required:!0}]),{type:"StellarManageOfferOp",source_account:e.source,buying_asset:e.buying,selling_asset:e.selling,amount:e.amount,offer_id:e.offerId,price_n:e.price.n,price_d:e.price.d};case"setOptions":{const t=e.signer?{signer_type:e.signer.type,signer_key:e.signer.key,signer_weight:e.signer.weight}:void 0;return Object.assign({type:"StellarSetOptionsOp",source_account:e.source,clear_flags:e.clearFlags,set_flags:e.setFlags,master_weight:e.masterWeight,low_threshold:e.lowThreshold,medium_threshold:e.medThreshold,high_threshold:e.highThreshold,home_domain:e.homeDomain,inflation_destination_account:e.inflationDest},t)}case"changeTrust":return qt(e,[{name:"limit",type:"bigNumber"}]),{type:"StellarChangeTrustOp",source_account:e.source,asset:e.line,limit:e.limit};case"allowTrust":return{type:"StellarAllowTrustOp",source_account:e.source,trusted_account:e.trustor,asset_type:e.assetType,asset_code:e.assetCode,is_authorized:e.authorize?1:0};case"accountMerge":return{type:"StellarAccountMergeOp",source_account:e.source,destination_account:e.destination};case"manageData":return{type:"StellarManageDataOp",source_account:e.source,key:e.name,value:e.value};case"bumpSequence":return{type:"StellarBumpSequenceOp",source_account:e.source,bump_to:e.bumpTo};default:return{}}},this.processTxRequest=(e,t)=>H(this,void 0,void 0,(function*(){const i=t+1>=e.length,r=e[t],{type:s}=r,f=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]])}return i}(r,["type"]);if(i){return(yield this.device.commands.typedCall(s,"StellarSignedTx",f)).message}return yield this.device.commands.typedCall(s,"StellarTxOpRequest",f),this.processTxRequest(e,t+1)}))}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"networkPassphrase",type:"string",required:!0},{name:"transaction",type:"object",required:!0}]);const{transaction:e,networkPassphrase:t}=this.payload;if(!e.timebounds)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"timebounds is required");const i=Q(this.payload.path,3);this.params={address_n:i,network_passphrase:t,source_account:e.source,fee:e.fee,sequence_number:e.sequence,num_operations:e.operations.length,memo_type:u.StellarMemoType.NONE,timebounds_start:e.timebounds.minTime,timebounds_end:e.timebounds.maxTime},e.memo&&(this.params.memo_type=e.memo.type,this.params.memo_text=e.memo.text,this.params.memo_id=e.memo.id,this.params.memo_hash=e.memo.hash),e.operations.forEach(e=>{const t=this.parseOperation(e);t&&this.operations.push(t)})}run(){return H(this,void 0,void 0,(function*(){return yield this.device.commands.typedCall("StellarSignTx","StellarTxOpRequest",Object.assign({},this.params)),this.processTxRequest(this.operations,0)}))}},tronGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("TronGetAddress","TronAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},tronSignMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,i=Q(e,3);this.params={address_n:i,message:Ct(t)}}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("TronSignMessage","TronMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},tronSignTransaction:class extends Rt{parseTx(e,t){const i={address_n:t,data:e.data,timestamp:e.timestamp,fee_limit:e.feeLimit,ref_block_bytes:e.refBlockBytes,ref_block_hash:e.refBlockHash,expiration:e.expiration,contract:{}};return e.contract&&(e.contract.transferContract&&(i.contract={transfer_contract:{to_address:e.contract.transferContract.toAddress,amount:e.contract.transferContract.amount}}),e.contract.triggerSmartContract&&(i.contract={trigger_smart_contract:{contract_address:e.contract.triggerSmartContract.contractAddress,call_value:e.contract.triggerSmartContract.callValue,data:e.contract.triggerSmartContract.data,call_token_value:e.contract.triggerSmartContract.callTokenValue,asset_id:e.contract.triggerSmartContract.assetId}}),e.contract.freezeBalanceV2Contract&&(i.contract={freeze_balance_v2_contract:{frozen_balance:e.contract.freezeBalanceV2Contract.frozenBalance,resource:e.contract.freezeBalanceV2Contract.resource}}),e.contract.unfreezeBalanceV2Contract&&(i.contract={unfreeze_balance_v2_contract:{unfreeze_balance:e.contract.unfreezeBalanceV2Contract.unfreezeBalance,resource:e.contract.unfreezeBalanceV2Contract.resource}}),e.contract.delegateResourceContract&&(i.contract={delegate_resource_contract:{resource:e.contract.delegateResourceContract.resource,balance:e.contract.delegateResourceContract.balance,receiver_address:e.contract.delegateResourceContract.receiverAddress,lock:e.contract.delegateResourceContract.lock}}),e.contract.unDelegateResourceContract&&(i.contract={undelegate_resource_contract:{resource:e.contract.unDelegateResourceContract.resource,balance:e.contract.unDelegateResourceContract.balance,receiver_address:e.contract.unDelegateResourceContract.receiverAddress}}),e.contract.withdrawExpireUnfreezeContract&&(i.contract={withdraw_expire_unfreeze_contract:{}}),e.contract.withdrawBalanceContract&&(i.contract={withdraw_balance_contract:{owner_address:e.contract.withdrawBalanceContract.ownerAddress}})),i}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload,i=Q(e,3);qt(t,[{name:"refBlockBytes",type:"hexString",required:!0},{name:"refBlockHash",type:"hexString",required:!0},{name:"expiration",type:"number",required:!0},{name:"timestamp",type:"number",required:!0},{name:"contract",type:"object",required:!0}]),this.params=this.parseTx(It(t),i)}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("TronSignTx","TronSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},nearGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("NearGetAddress","NearAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},nearSignTransaction:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,i=Q(e,3);this.params={address_n:i,raw_tx:It(t)}}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("NearSignTx","NearSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},aptosGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=!!this.hasBundle&&this.payload.bundle.some(e=>!!e.showOnOneKey),qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}publicKeyToAddress(e){const t=h.sha3_256.create();return t.update(Dt(e)),t.update("\0"),"0x"+d.bytesToHex(t.digest())}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){var e;return H(this,void 0,void 0,(function*(){if(this.hasBundle&&ce(null===(e=this.device)||void 0===e?void 0:e.features)&&!this.shouldConfirm){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map((e,t)=>({path:J(this.params[t].address_n),publicKey:e,address:this.publicKeyToAddress(e)}));return Promise.resolve(e)}const t=[];for(let e=0;e<this.params.length;e++){const i=this.params[e],r=yield this.device.commands.typedCall("AptosGetAddress","AptosAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:null===s||void 0===s?void 0:s.toLowerCase()};t.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?t:t[0])}))}},aptosGetPublicKey:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map((e,t)=>({path:J(this.params[t].address_n),publicKey:e}));return Promise.resolve(this.hasBundle?e:e[0])}))}},aptosSignTransaction:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,i=Q(e,3);this.params={address_n:i,raw_tx:It(t)}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("AptosSignTx","AptosSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},aptosSignMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"payload",type:"object",required:!0}]);const{path:e,payload:t}=this.payload,i=Q(e,3);qt(t,[{name:"address",type:"string"},{name:"chainId",type:"string"},{name:"application",type:"string"},{name:"nonce",type:"string",required:!0},{name:"message",type:"string",required:!0}]),this.params={address_n:i,payload:{address:t.address,chain_id:t.chainId,application:t.application,nonce:t.nonce,message:t.message}}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return H(this,void 0,void 0,(function*(){let e="APTOS\n";this.params.payload.address&&(e+=`address: ${this.params.payload.address}\n`),this.params.payload.application&&(e+=`application: ${this.params.payload.application}\n`),this.params.payload.chain_id&&(e+=`chainId: ${this.params.payload.chain_id}\n`),e+=`message: ${this.params.payload.message}\n`,e+="nonce: "+this.params.payload.nonce;const t=yield this.device.commands.typedCall("AptosSignMessage","AptosMessageSignature",Object.assign({},this.params)),{address:i,signature:r}=t.message;return Promise.resolve({path:J(this.params.address_n),address:i,signature:r,fullMessage:e})}))}},algoGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("AlgorandGetAddress","AlgorandAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},algoSignTransaction:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],qt(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,i=Q(e,3);this.params={address_n:i,raw_tx:It(t)}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("AlgorandSignTx","AlgorandSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:J(this.params.address_n),signature:t}}))}},cosmosGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"hrp",type:"string"},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t,{hrp:s}=e;this.params.push({address_n:i,hrp:s,show_display:r})})}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("CosmosGetAddress","CosmosAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},cosmosGetPublicKey:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};if(qt(t,[{name:"bundle",type:"array"}]),0===t.bundle.length)throw new Error("Bundle is empty");this.params=[],t.bundle.forEach(e=>{var t,i;const r=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"curve",type:"string"},{name:"showOnOneKey",type:"boolean"}]);const s=null===(t=e.showOnOneKey)||void 0===t||t,f=null!==(i=e.curve)&&void 0!==i?i:"secp256k1";if("secp256k1"!==f)throw new Error("Curve name is not supported");this.params.push({address_n:r,curve:f,show_display:s})})}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:this.params[0].curve})).message.public_keys.map((e,t)=>({path:J(this.params[t].address_n),publicKey:e}));return Promise.resolve(this.hasBundle?e:e[0])}))}},cosmosSignTransaction:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],qt(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,i=Q(e,3);this.params={address_n:i,raw_tx:It(t)}}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("CosmosSignTx","CosmosSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:J(this.params.address_n),signature:t}}))}},xrpGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=!!this.hasBundle&&this.payload.bundle.some(e=>!!e.showOnOneKey),qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}getVersionRange(){return{model_mini:{min:"2.9.0"}}}run(){var e,t,i;return H(this,void 0,void 0,(function*(){if(this.hasBundle&&ce(null===(e=this.device)||void 0===e?void 0:e.features)&&!this.shouldConfirm){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"secp256k1"})).message.public_keys.map((e,t)=>({path:J(this.params[t].address_n),publicKey:e,address:y.deriveAddress(e)}));return Promise.resolve(e)}const r=[];for(let e=0;e<this.params.length;e++){const s=this.params[e],f=yield this.device.commands.typedCall("RippleGetAddress","RippleAddress",Object.assign({},s)),a=yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:[{address_n:s.address_n}],ecdsa_curve_name:"secp256k1"}),{address:n}=f.message,o=J(s.address_n);r.push({path:o,address:n,publicKey:null===(i=null===(t=a.message)||void 0===t?void 0:t.public_keys)||void 0===i?void 0:i[0]}),this.postPreviousAddressMessage({path:o,address:n})}return Promise.resolve(this.hasBundle?r:r[0])}))}},xrpSignTransaction:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt];const{payload:e}=this;qt(e,[{name:"path",required:!0},{name:"transaction",required:!0}]);const t=Q(e.path,5),{transaction:i}=e;qt(i,[{name:"fee",type:"string"},{name:"flags",type:"number"},{name:"sequence",type:"number"},{name:"maxLedgerVersion",type:"number"},{name:"payment",type:"object"}]),qt(i.payment,[{name:"amount",type:"number",required:!0},{name:"destination",type:"string",required:!0},{name:"destinationTag",type:"number"}]),this.params={address_n:t,fee:i.fee,flags:i.flags,sequence:i.sequence,last_ledger_sequence:i.maxLedgerVersion,payment:{amount:i.payment.amount,destination:i.payment.destination,destination_tag:i.payment.destinationTag}}}getVersionRange(){return{model_mini:{min:"2.9.0"}}}run(){return H(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("RippleSignTx","RippleSignedTx",this.params);return{serializedTx:e.serialized_tx,signature:e.signature}}))}},suiGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=!!this.hasBundle&&this.payload.bundle.some(e=>!!e.showOnOneKey),qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){var e;return H(this,void 0,void 0,(function*(){if(this.hasBundle&&ce(null===(e=this.device)||void 0===e?void 0:e.features)&&!this.shouldConfirm){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map((e,t)=>({path:J(this.params[t].address_n),publicKey:e,address:gi(e)}));return Promise.resolve(e)}const t=[];for(let e=0;e<this.params.length;e++){const i=this.params[e],r=yield this.device.commands.typedCall("SuiGetAddress","SuiAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:null===s||void 0===s?void 0:s.toLowerCase()};t.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?t:t[0])}))}},suiGetPublicKey:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r})})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map((e,t)=>({path:J(this.params[t].address_n),publicKey:e}));return Promise.resolve(this.hasBundle?e:e[0])}))}},suiSignTransaction:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],qt(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,i=Q(e,3);this.params={address_n:i,raw_tx:It(t)}}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("SuiSignTx","SuiSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},cardanoGetAddress:class extends Rt{init(){var e,t,i;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle),this.isCheck=this.hasBundle?!!(null===(t=this.payload)||void 0===t?void 0:t.bundle.every(e=>!!e.isCheck)):!!(null===(i=this.payload)||void 0===i?void 0:i.isCheck);const r=this.hasBundle?this.payload:{bundle:[this.payload]};this.params=r.bundle.map(e=>(qt(e,[{name:"addressParameters",type:"object",required:!0},{name:"networkId",type:"number",required:!0},{name:"protocolMagic",type:"number",required:!0},{name:"derivationType",type:"number"},{name:"address",type:"string"},{name:"showOnOneKey",type:"boolean"}]),_i(e.addressParameters),{address_parameters:vi(e.addressParameters),address:e.address,protocol_magic:e.protocolMagic,network_id:e.networkId,derivation_type:"undefined"!==typeof e.derivationType?e.derivationType:u.Messages.CardanoDerivationType.ICARUS,show_display:"boolean"!==typeof e.showOnOneKey||!!e.showOnOneKey}))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(const t of this.params){const{address_parameters:i,protocol_magic:r,network_id:s,derivation_type:f,show_display:a}=t,n=yield this.device.commands.typedCall("CardanoGetAddress","CardanoAddress",{address_parameters:i,protocol_magic:r,network_id:s,derivation_type:f,show_display:a});let o,d;if(i.address_type===u.Messages.CardanoAddressType.BASE&&!this.isCheck){o=(yield this.device.commands.typedCall("CardanoGetPublicKey","CardanoPublicKey",{address_n:i.address_n.slice(0,3),derivation_type:f,show_display:!1})).message.xpub;d=(yield this.device.commands.typedCall("CardanoGetAddress","CardanoAddress",{address_parameters:{address_type:u.Messages.CardanoAddressType.REWARD,address_n:[],address_n_staking:i.address_n_staking},protocol_magic:r,network_id:s,derivation_type:f,show_display:!1})).message.address}const c=J(t.address_parameters.address_n);e.push({addressParameters:bi(t.address_parameters),protocolMagic:t.protocol_magic,networkId:t.network_id,serializedPath:c,serializedStakingPath:J(t.address_parameters.address_n_staking),address:n.message.address,xpub:o,stakeAddress:d}),this.postPreviousAddressMessage({path:c,address:n.message.address})}return this.hasBundle?e:e[0]}))}},cardanoGetPublicKey:class extends Rt{init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=t.bundle.map(e=>{qt(e,[{name:"path",required:!0},{name:"derivationType",type:"number"},{name:"showOnOneKey",type:"boolean"}]);return{address_n:Q(e.path,3),derivation_type:"undefined"!==typeof e.derivationType?e.derivationType:u.Messages.CardanoDerivationType.ICARUS,show_display:"boolean"===typeof e.showOnOneKey&&e.showOnOneKey}})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[],t=this.device.getCommands();for(let i=0;i<this.params.length;i++){const r=this.params[i],{message:s}=yield t.typedCall("CardanoGetPublicKey","CardanoPublicKey",r);e.push({path:r.address_n,serializedPath:J(r.address_n),publicKey:s.xpub,node:s.node})}return this.hasBundle?e:e[0]}))}},cardanoSignTransaction:class extends Rt{getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const{payload:t}=this;qt(t,[{name:"signingMode",type:"number",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0,allowEmpty:!0},{name:"fee",type:"uint",required:!0},{name:"ttl",type:"uint"},{name:"certificates",type:"array",allowEmpty:!0},{name:"withdrawals",type:"array",allowEmpty:!0},{name:"mint",type:"array",allowEmpty:!0},{name:"validityIntervalStart",type:"uint"},{name:"scriptDataHash",type:"string"},{name:"collateralInputs",type:"array",allowEmpty:!0},{name:"requiredSigners",type:"array",allowEmpty:!0},{name:"totalCollateral",type:"uint"},{name:"referenceInputs",type:"array",allowEmpty:!0},{name:"protocolMagic",type:"number",required:!0},{name:"networkId",type:"number",required:!0},{name:"additionalWitnessRequests",type:"array",allowEmpty:!0},{name:"derivationType",type:"number"},{name:"includeNetworkId",type:"boolean"}]);const i=t.inputs.map(Ti),r=t.outputs.map(Ai);let s=[];t.certificates&&(s=t.certificates.map(Di));let f=[];t.withdrawals&&(f=t.withdrawals.map(e=>(qt(e,[{name:"amount",type:"uint",required:!0},{name:"scriptHash",type:"string"},{name:"keyHash",type:"string"}]),{path:e.path?Q(e.path,5):void 0,amount:e.amount,script_hash:e.scriptHash,key_hash:e.keyHash})));let a,n=[];t.mint&&(n=xi(t.mint)),t.auxiliaryData&&(a=qi(t.auxiliaryData));let o=[];t.additionalWitnessRequests&&(o=t.additionalWitnessRequests.map(e=>Q(e,3)));let d=[];t.collateralInputs&&(d=t.collateralInputs.map(wi));let c=[];t.requiredSigners&&(c=t.requiredSigners.map(e=>(qt(e,[{name:"keyHash",type:"string"}]),{key_path:e.keyPath?Q(e.keyPath,3):void 0,key_hash:e.keyHash})));const l=t.collateralReturn?Ai(t.collateralReturn):void 0;let p=[];t.referenceInputs&&(p=t.referenceInputs.map(Si)),this.params={signingMode:t.signingMode,inputsWithPath:i,outputsWithData:r,fee:t.fee,ttl:t.ttl,certificatesWithPoolOwnersAndRelays:s,withdrawals:f,mint:n,auxiliaryData:a,validityIntervalStart:t.validityIntervalStart,scriptDataHash:t.scriptDataHash,collateralInputsWithPath:d,requiredSigners:c,collateralReturnWithData:l,totalCollateral:t.totalCollateral,referenceInputs:p,protocolMagic:t.protocolMagic,networkId:t.networkId,witnessPaths:Ni(i,s,f,d,c,o,t.signingMode),additionalWitnessRequests:o,derivationType:"undefined"!==typeof t.derivationType?t.derivationType:u.Messages.CardanoDerivationType.ICARUS,includeNetworkId:t.includeNetworkId}}signTx(){return H(this,void 0,void 0,(function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),t=!!this.params.auxiliaryData,i={signing_mode:this.params.signingMode,protocol_magic:this.params.protocolMagic,network_id:this.params.networkId,inputs_count:this.params.inputsWithPath.length,outputs_count:this.params.outputsWithData.length,fee:this.params.fee,ttl:this.params.ttl,certificates_count:this.params.certificatesWithPoolOwnersAndRelays.length,withdrawals_count:this.params.withdrawals.length,has_auxiliary_data:t,validity_interval_start:this.params.validityIntervalStart,witness_requests_count:this.params.witnessPaths.length,minting_asset_groups_count:this.params.mint.length,script_data_hash:this.params.scriptDataHash,collateral_inputs_count:this.params.collateralInputsWithPath.length,required_signers_count:this.params.requiredSigners.length,has_collateral_return:null!=this.params.collateralReturnWithData,total_collateral:this.params.totalCollateral,reference_inputs_count:this.params.referenceInputs.length,derivation_type:this.params.derivationType,include_network_id:this.params.includeNetworkId};yield e("CardanoSignTxInit","CardanoTxItemAck",i);for(const{input:a}of this.params.inputsWithPath)yield e("CardanoTxInput","CardanoTxItemAck",a);for(const a of this.params.outputsWithData)yield Ii(e,a);for(const{certificate:a,poolOwners:n,poolRelays:o}of this.params.certificatesWithPoolOwnersAndRelays){yield e("CardanoTxCertificate","CardanoTxItemAck",a);for(const t of n)yield e("CardanoPoolOwner","CardanoTxItemAck",t);for(const t of o)yield e("CardanoPoolRelayParameters","CardanoTxItemAck",t)}for(const a of this.params.withdrawals)yield e("CardanoTxWithdrawal","CardanoTxItemAck",a);let r;if(this.params.auxiliaryData){const{catalyst_registration_parameters:t}=this.params.auxiliaryData;t&&(this.params.auxiliaryData=Bi(this.params.auxiliaryData));const{message:i}=yield e("CardanoTxAuxiliaryData","CardanoTxAuxiliaryDataSupplement",this.params.auxiliaryData),s=u.Messages.CardanoTxAuxiliaryDataSupplementType[i.type];s!==u.Messages.CardanoTxAuxiliaryDataSupplementType.NONE&&(r={type:s,auxiliaryDataHash:i.auxiliary_data_hash,governanceSignature:i.governance_signature,catalystSignature:i.governance_signature}),yield e("CardanoTxHostAck","CardanoTxItemAck")}if(this.params.mint.length>0){yield e("CardanoTxMint","CardanoTxItemAck",{asset_groups_count:this.params.mint.length});for(const t of this.params.mint){yield e("CardanoAssetGroup","CardanoTxItemAck",{policy_id:t.policyId,tokens_count:t.tokens.length});for(const i of t.tokens)yield e("CardanoToken","CardanoTxItemAck",i)}}for(const{collateralInput:a}of this.params.collateralInputsWithPath)yield e("CardanoTxCollateralInput","CardanoTxItemAck",a);for(const a of this.params.requiredSigners)yield e("CardanoTxRequiredSigner","CardanoTxItemAck",a);this.params.collateralReturnWithData&&(yield Ii(e,this.params.collateralReturnWithData));for(const a of this.params.referenceInputs)yield e("CardanoTxReferenceInput","CardanoTxItemAck",a);const s=[];for(const a of this.params.witnessPaths){const{message:t}=yield e("CardanoTxWitnessRequest","CardanoTxWitnessResponse",{path:a});s.push({type:u.Messages.CardanoTxWitnessType[t.type],pubKey:t.pub_key,signature:t.signature,chainCode:t.chain_code})}const{message:f}=yield e("CardanoTxHostAck","CardanoTxBodyHash");return yield e("CardanoTxHostAck","CardanoSignTxFinished"),{hash:f.tx_hash,witnesses:s,auxiliaryDataSupplement:r}}))}run(){return this.signTx()}},cardanoSignMessage:class extends Rt{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt];const{payload:e}=this;qt(e,[{name:"path",type:"string",required:!0},{name:"message",type:"string",required:!0},{name:"derivationType",type:"number"},{name:"networkId",type:"number",required:!0}]);const t=Q(e.path,3);this.params={address_n:t,message:e.message,derivation_type:"undefined"!==typeof e.derivationType?e.derivationType:u.Messages.CardanoDerivationType.ICARUS,network_id:e.networkId}}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}run(){return H(this,void 0,void 0,(function*(){return(yield this.device.commands.typedCall("CardanoSignMessage","CardanoMessageSignature",this.params)).message}))}},filecoinGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"isTestnet",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r,testnet:e.isTestnet})})}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"3.5.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("FilecoinGetAddress","FilecoinAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},filecoinSignTransaction:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],qt(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"isTestnet",type:"boolean"}]);const{path:e,rawTx:t,isTestnet:i}=this.payload,r=Q(e,3);this.params={address_n:r,raw_tx:It(t),testnet:i}}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"3.5.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("FilecoinSignTx","FilecoinSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:J(this.params.address_n),signature:t}}))}},polkadotGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"prefix",required:!0},{name:"network",required:!0},{name:"showOnOneKey",type:"boolean"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t,{prefix:s,network:f}=e;this.params.push({address_n:i,prefix:s,network:f,show_display:r})})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("PolkadotGetAddress","PolkadotAddress",Object.assign({},i)),{address:s,public_key:f}=r.message,a=J(i.address_n);e.push({path:a,address:s,publicKey:null!==f&&void 0!==f?f:""}),this.postPreviousAddressMessage({path:a,address:s})}return Promise.resolve(this.hasBundle?e:e[0])}))}},polkadotSignTransaction:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],qt(this.payload,[{name:"path",required:!0},{name:"network",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t,network:i}=this.payload,r=Q(e,3);this.params={address_n:r,network:i,raw_tx:It(t)}}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("PolkadotSignTx","PolkadotSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:J(this.params.address_n),signature:t}}))}},kaspaGetAddress:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};qt(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach(e=>{var t;const i=Q(e.path,3);qt(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"prefix",type:"string"},{name:"scheme",type:"string"}]);const r=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,show_display:r,prefix:e.prefix,scheme:e.scheme})})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return H(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const i=this.params[t],r=yield this.device.commands.typedCall("KaspaGetAddress","KaspaAddress",Object.assign({},i)),{address:s}=r.message,f={path:J(i.address_n),address:s};e.push(f),this.postPreviousAddressMessage(f)}return Promise.resolve(this.hasBundle?e:e[0])}))}},kaspaSignTransaction:class extends Rt{constructor(){super(...arguments),this.hasBundle=!1}init(){var e,t,i,r,s;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,yt];const f=this.payload;qt(f,[{name:"version",type:"number"},{name:"sigHashType",type:"number",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0},{name:"lockTime",required:!0},{name:"sigOpCount",type:"number"},{name:"subNetworkID",type:"string"}]);const a=f.inputs.map(e=>{var t;qt(e,[{name:"path",type:"string",required:!0},{name:"prevTxId",type:"string",required:!0},{name:"outputIndex",type:"number",required:!0},{name:"sequenceNumber",required:!0}]);const i=Q(e.path,3);return Object.assign(Object.assign({},e),{path:i,sigOpCount:null!==(t=e.sigOpCount)&&void 0!==t?t:1})}),n=f.outputs.map(e=>{var t;return qt(e,[{name:"satoshis",required:!0},{name:"script",type:"string",required:!0},{name:"scriptVersion",type:"number"}]),Object.assign(Object.assign({},e),{scriptVersion:null!==(t=e.scriptVersion)&&void 0!==t?t:0})});this.params=Object.assign(Object.assign({},f),{inputs:a,outputs:n,scheme:null!==(e=f.scheme)&&void 0!==e?e:"schnorr",prefix:null!==(t=f.prefix)&&void 0!==t?t:"kaspa",sigHashType:null!==(i=f.sigHashType)&&void 0!==i?i:Li.SIGHASH_ALL|Li.SIGHASH_FORKID,sigOpCount:null!==(r=f.sigOpCount)&&void 0!==r?r:1,subNetworkID:null!==(s=f.subNetworkID)&&void 0!==s?s:d.bytesToHex(Ki())})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}processTxRequest(e,t,i,r){var s;return H(this,void 0,void 0,(function*(){if("KaspaSignedTx"===t.type)return r.push({index:i,signature:t.message.signature}),r;if("KaspaTxInputRequest"===t.type){r.push({index:i,signature:null!==(s=t.message.signature)&&void 0!==s?s:""});const f=t.message.request_index,{raw:a}=$i(this.params,f),n=this.params.inputs[f],o=yield e("KaspaTxInputAck",["KaspaTxInputRequest","KaspaSignedTx"],{address_n:n.path,raw_message:d.bytesToHex(a)});return this.processTxRequest(e,o,f,r)}return r}))}run(){return H(this,void 0,void 0,(function*(){const{raw:e}=$i(this.params,0),t=this.params.inputs[0],{device:i,params:r}=this,s=yield i.commands.typedCall("KaspaSignTx",["KaspaTxInputRequest","KaspaSignedTx"],{address_n:t.path,raw_message:d.bytesToHex(e),scheme:r.scheme,prefix:r.prefix,input_count:r.inputs.length});return this.processTxRequest(i.commands.typedCall.bind(i.commands),s,0,[])}))}}});const Qi=ze(t.LoggerNames.DeviceConnector);class er{constructor(){this.listenTimestamp=0,this.current=null,this.upcoming=[],this.listening=!1,ct.load(),this.transport=ct.getTransport(),at.setConnector(this)}enumerate(){return H(this,void 0,void 0,(function*(){try{const e=yield this.transport.enumerate();return this.upcoming=e,this._reportDevicesChange(),{descriptors:e}}catch(e){Bt(e)}}))}listen(){return H(this,void 0,void 0,(function*(){const e=null!==this.current,t=this.current||[];let i;this.listening=!0;try{if(Qi.debug("Start listening",t),this.listenTimestamp=(new Date).getTime(),i=e?yield this.transport.listen(t):yield this.transport.enumerate(),!this.listening)return;this.upcoming=i,Qi.debug("Listen result",i),this._reportDevicesChange(),this.listening&&this.listen()}catch(f){const e=(new Date).getTime()-this.listenTimestamp;Qi.debug("Listen error","timestamp",e,typeof f),e>1100?(yield(r=1e3,s=null,new Promise(e=>{setTimeout(e,r,s)})),this.listening&&this.listen()):Qi.warn("Transport error")}var r,s}))}stop(){this.listening=!1}acquire(e,t,i){return H(this,void 0,void 0,(function*(){Qi.debug("acquire",e,t);const r=Ze.getSettings("env");try{let s;return s="react-native"===r?yield this.transport.acquire({uuid:e,forceCleanRunPromise:i}):yield this.transport.acquire({path:e,previous:null!==t&&void 0!==t?t:null}),s}catch(s){Qi.debug("acquire error: ",s.message),Bt(s)}}))}release(e,t){return H(this,void 0,void 0,(function*(){try{return yield this.transport.release(e,t)}catch(i){Bt(i)}}))}_reportDevicesChange(){at.reportDeviceChange(this.upcoming)}}const tr=ze(t.LoggerNames.Core),ir=e=>{var t;return{initSession:null===e||void 0===e?void 0:e.payload.initSession,passphraseState:null===e||void 0===e?void 0:e.payload.passphraseState,deviceId:null===e||void 0===e?void 0:e.payload.deviceId,deriveCardano:(null===e||void 0===e?void 0:e.name.startsWith("cardano"))||(null===(t=null===e||void 0===e?void 0:e.payload)||void 0===t?void 0:t.deriveCardano)}};let rr,sr,fr,ar,nr=[];const or=[],dr=new Map;let cr=1;const ur={};let lr={passphraseState:void 0};const pr=e=>H(void 0,void 0,void 0,(function*(){var t;if(!e.id||!e.payload||e.type!==Je.CALL)return Promise.reject(f.ERRORS.TypedError("on call: message.id or message.payload is missing"));let i,r;try{i=function(e){const{method:t}=e.payload;if("string"!==typeof t)throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,"Method is not set");const i=Ji[t];if(i)return new i(e);throw f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodInvalidParameter,`Method ${t} is not set`)}(e),i.connector=fr,i.postMessage=Ir,i.init()}catch(n){return Promise.reject(n)}if(at.emitter.on(tt.CONNECT,wr),!i.useDevice)try{const e=yield i.run();return Qe(i.responseID,!0,e)}catch(n){return Qe(i.responseID,!1,{error:n})}or.push(i),or.length>1&&tr.debug("should cancel the previous method execution: ",or.map(e=>e.name));const s=lr.passphraseState!==i.payload.passphraseState;let a;lr={passphraseState:i.payload.passphraseState},(s||i.payload.initSession)&&(tr.debug("passphrase state change, clear device cache"),at.clearDeviceCache(i.payload.connectId)),ur[cr]&&(ur[cr]=!1),cr+=1;try{a=yield gr(i,cr)}catch(o){return Qe(i.responseID,!1,{error:o})}tr.debug("Call API - setDevice: ",a.mainId),null===(t=i.setDevice)||void 0===t||t.call(i,a),a.on(tt.PIN,Er),a.on(tt.BUTTON,xr),a.on(tt.PASSPHRASE,e.payload.useEmptyPassphrase?Cr:kr),a.on(tt.PASSPHRASE_ON_DEVICE,Ar),a.on(tt.FEATURES,Rr);try{const e=()=>H(void 0,void 0,void 0,(function*(){const e=te(a.features),t=ee(a.features),s=i.getVersionRange()[e],d=i.getVersionRange()[t],c=null!==s&&void 0!==s?s:d;if(a.features){yield Ze.checkAndReloadData();const e=Ze.getFirmwareStatus(a.features),t=Ze.getBLEFirmwareStatus(a.features);if(("required"===e||"required"===t)&&!1===i.skipForceUpdateCheck)throw f.ERRORS.TypedError(f.HardwareErrorCode.NewFirmwareForceUpdate,"Device firmware version is too low, please update to the latest version",{connectId:i.connectId,deviceId:i.deviceId});if(c){const t=fe(a.features).join(".");if(v.default.valid(c.min)&&v.default.lt(t,c.min)){if("none"===e||"valid"===e)throw f.ERRORS.TypedError(f.HardwareErrorCode.NewFirmwareUnRelease);return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodNeedUpgradeFirmware,"Device firmware version is too low, please update to "+c.min,{current:t,require:c.min}))}if(c.max&&v.default.valid(c.max)&&v.default.gte(t,c.max))return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodDeprecated,"Device firmware version is too high, this method has been deprecated in "+c.max,{current:t,deprecated:c.max}))}}const u=a.hasUnexpectedMode(i.notAllowDeviceMode,i.requireDeviceMode);if(u)return u===Xe.NOT_IN_BOOTLOADER?Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceUnexpectedBootloaderMode)):Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceUnexpectedMode,u));if(i.deviceId&&i.checkDeviceId){if(!a.checkDeviceId(i.deviceId))return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceCheckDeviceIdError))}if(i.checkFirmwareRelease(),i.checkDeviceSupportFeature(),sr&&(yield ct.reconfigure(a.getFirmwareVersion())),_r(i,a.features),a.hasUsePassphrase()&&i.useDevicePassphraseState){const e=(e=>{if(!e)return{support:!1};const t=te(e);if("touch"===t||"pro"===t)return{support:!0};const i=fe(e).join(".");return{support:v.default.gte(i,"2.4.0"),require:"2.4.0"}})(a.features);if(!e.support)return Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceNotSupportPassphrase,"Device not support passphrase, please update to "+e.require,{require:e.require}));const t=yield a.checkPassphraseState();if(_r(i,a.features),t)return at.clearDeviceCache(i.payload.connectId),Promise.reject(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceCheckPassphraseStateError))}try{yield i.checkSafetyLevelOnTestNet()}catch(o){const t=o instanceof f.HardwareError?o:f.ERRORS.TypedError(f.HardwareErrorCode.RuntimeError,"open safety check failed.");return r=Qe(i.responseID,!1,{error:t}),void(null===ar||void 0===ar||ar.resolve(r))}try{const e=yield i.run();tr.debug("Call API - Inner Method Run: "),r=Qe(i.responseID,!0,e),null===ar||void 0===ar||ar.resolve(r)}catch(n){tr.debug("Call API - Inner Method Run Error: ",n),r=Qe(i.responseID,!1,{error:n}),null===ar||void 0===ar||ar.resolve(r)}}));tr.debug("Call API - Device Run: ",a.mainId);const t=Object.assign({keepSession:i.payload.keepSession},ir(i)),s=()=>a.run(e,t);ar=f.createDeferred(s);try{return yield ar.promise}catch(o){return tr.debug("Device Run Error: ",o),Qe(i.responseID,!1,{error:o})}}catch(n){r=Qe(i.responseID,!1,{error:n}),null===ar||void 0===ar||ar.reject(f.ERRORS.TypedError(f.HardwareErrorCode.CallMethodError,n.message)),tr.debug("Call API - Run Error: ",n)}finally{r&&i&&i.dispose();const e=i.responseID?or.findIndex(e=>e.responseID===i.responseID):-1;e>-1&&(or.splice(e,1),tr.debug("Remove the finished method from the queue\uff1a ",or.map(e=>e.name))),Tr(),vr(),br(a)}}));function hr(e){if(!sr)throw f.ERRORS.TypedError(f.HardwareErrorCode.DeviceListNotInitialized);let t;const i=sr.allDevices();if(e.connectId)t=sr.getDevice(e.connectId);else if(1===i.length)[t]=i;else if(i.length>1)throw f.ERRORS.TypedError("firmwareUpdateV2"===e.name?f.HardwareErrorCode.FirmwareUpdateLimitOneDevice:f.HardwareErrorCode.SelectDevice);if(!t)throw f.ERRORS.TypedError(f.HardwareErrorCode.DeviceNotFound);return t.deviceConnector=fr,t}function yr(e){if(!e.connectId&&!sr)throw f.ERRORS.TypedError(f.HardwareErrorCode.DeviceListNotInitialized);if(!e.connectId)return hr(e);let t;return dr.has(e.connectId)?t=dr.get(e.connectId):(t=Tt.fromDescriptor({id:e.connectId}),dr.set(e.connectId,t)),t.deviceConnector=fr,t}let mr=0;const gr=(e,t)=>H(void 0,void 0,void 0,(function*(){let i=0;const r=e.payload&&e.payload.retryCount||5,s=e.payload&&e.payload.pollIntervalTime||1e3,a=e.payload&&e.payload.timeout||1e4;let n=null;tr.debug(`EnsureConnected function start, MAX_RETRY_COUNT=${r}, POLL_INTERVAL_TIME=${s}  `);const o=(r=s)=>H(void 0,void 0,void 0,(function*(){return new Promise((s,d)=>H(void 0,void 0,void 0,(function*(){if(!ur[t])return tr.debug("EnsureConnected function stop, polling id: ",t),void d(f.ERRORS.TypedError(f.HardwareErrorCode.PollingStop));n&&clearTimeout(n),n=setTimeout(()=>{d(f.ERRORS.TypedError(f.HardwareErrorCode.PollingTimeout))},a),i+=1,tr.debug("EnsureConnected function try count: ",i," poll interval time: ",r);try{yield function(e){return H(this,void 0,void 0,(function*(){"react-native"===Ze.getSettings("env")&&e.connectId?yield ct.configure():(sr||(sr=new wt,yield ct.configure(),sr.connector=fr),yield sr.getDeviceLists(e.connectId,ir(e)))}))}(e)}catch(l){if(tr.debug("device list error: ",l),[f.HardwareErrorCode.BridgeNotInstalled,f.HardwareErrorCode.BridgeTimeoutError].includes(l.errorCode))return sr=void 0,void d(l);l.errorCode===f.HardwareErrorCode.TransportNotConfigured&&(yield ct.configure())}const c=Ze.getSettings("env");let u;try{if(u="react-native"===c?yr(e):hr(e),u)return n&&clearTimeout(n),"react-native"===c&&(mr=0,yield function e(t,i){return H(this,void 0,void 0,(function*(){try{yield i.acquire(),yield i.initialize(ir(t))}catch(r){if(!(r.errorCode===f.HardwareErrorCode.BleTimeoutError&&mr<=5))throw r;mr+=1,tr.debug("Bletooth connect timeout and will retry, retry count: "+mr),yield Ge(3e3),yield e(t,i)}}))}(e,u)),void s(u)}catch(l){if(tr.debug("device error: ",l),[f.HardwareErrorCode.BlePermissionError,f.HardwareErrorCode.BleLocationError,f.HardwareErrorCode.BleLocationServicesDisabled,f.HardwareErrorCode.BleDeviceNotBonded,f.HardwareErrorCode.BleDeviceBondError,f.HardwareErrorCode.BleCharacteristicNotifyError,f.HardwareErrorCode.BleTimeoutError,f.HardwareErrorCode.BleWriteCharacteristicError,f.HardwareErrorCode.BleAlreadyConnected,f.HardwareErrorCode.FirmwareUpdateLimitOneDevice].includes(l.errorCode))return void d(l)}return i>5?(n&&clearTimeout(n),tr.debug("EnsureConnected get to max try count, will return: ",i),void d(f.ERRORS.TypedError(f.HardwareErrorCode.DeviceNotFound))):setTimeout(()=>s(o(1.5*r)),r)})))}));return ur[t]=!0,o()})),_r=(e,t)=>{if(e.useDevicePassphraseState){if(!0===(null===t||void 0===t?void 0:t.passphrase_protection)&&(null==e.payload.passphraseState||""===e.payload.passphraseState)&&!e.payload.useEmptyPassphrase)throw at.clearDeviceCache(e.payload.connectId),f.ERRORS.TypedError(f.HardwareErrorCode.DeviceOpenedPassphrase);if(!1===(null===t||void 0===t?void 0:t.passphrase_protection)&&e.payload.passphraseState)throw at.clearDeviceCache(e.payload.connectId),f.ERRORS.TypedError(f.HardwareErrorCode.DeviceNotOpenedPassphrase)}},vr=()=>{nr=[],tr.debug("Cleanup...")},br=e=>{e.removeAllListeners(),at.emitter.removeAllListeners(tt.CONNECT)},Tr=()=>{Ir($e(Xe.CLOSE_UI_WINDOW))},wr=e=>{const t="react-native"===Ze.getSettings("env")?e:e.toMessageObject();Ir(it(tt.CONNECT,{device:t}))},Sr=e=>{const t="react-native"===Ze.getSettings("env")?e:e.toMessageObject();Ir(it(tt.DISCONNECT,{device:t}))},Er=(...[e,t,i])=>H(void 0,void 0,void 0,(function*(){tr.debug("onDevicePinHandler");const r=Mr(et.RECEIVE_PIN,e);Ir($e(Xe.REQUEST_PIN,{device:e.toMessageObject(),type:t}));const s=yield r.promise;i(null,s.payload)})),xr=(...[e,t])=>{Ir(it(tt.BUTTON,Object.assign(Object.assign({},t),{device:e.toMessageObject()}))),"ButtonRequest_PinEntry"===t.code?Ir($e(Xe.REQUEST_PIN,{device:e.toMessageObject(),type:"ButtonRequest_PinEntry"})):Ir($e(Xe.REQUEST_BUTTON,{device:e.toMessageObject()}))},Rr=(...[e,t])=>{Ir(it(tt.FEATURES,Object.assign({},t)))},kr=(...[e,t])=>H(void 0,void 0,void 0,(function*(){tr.debug("onDevicePassphraseHandler");const i=Mr(et.RECEIVE_PASSPHRASE,e);Ir($e(Xe.REQUEST_PASSPHRASE,{device:e.toMessageObject(),passphraseState:e.passphraseState}));const r=yield i.promise,{value:s,passphraseOnDevice:f,save:a}=r.payload;t({passphrase:s.normalize("NFKD"),passphraseOnDevice:f,cache:a})})),Cr=(...[e,t])=>{tr.debug("onEmptyPassphraseHandler"),t({passphrase:""})},Ar=(...[e])=>{Ir($e(Xe.REQUEST_PASSPHRASE_ON_DEVICE,{device:e.toMessageObject(),passphraseState:e.passphraseState}))},Ir=e=>{rr.emit("CORE_EVENT",e)},Mr=(e,t)=>{const i=f.createDeferred(e,t);return nr.push(i),i};class Or extends R.exports{handleMessage(e){var t,i,r,s;return H(this,void 0,void 0,(function*(){switch(e.type){case et.RECEIVE_PIN:case et.RECEIVE_PASSPHRASE:{const t=(a=e.type,nr.find(e=>e.id===a));t&&(t.resolve(e),f=t,nr=nr.filter(e=>e!==f));break}case Xe.BLUETOOTH_PERMISSION:case Xe.LOCATION_PERMISSION:case Xe.LOCATION_SERVICE_PERMISSION:Ir(e);break;case Je.CALL:{const f=yield pr(e),{success:a,payload:n}=f;return a?f:Object.assign(Object.assign({},f),{payload:Object.assign(Object.assign({},n),{connectId:null!==(i=null===(t=e.payload)||void 0===t?void 0:t.connectId)&&void 0!==i?i:"",deviceId:null!==(s=null===(r=e.payload)||void 0===r?void 0:r.deviceId)&&void 0!==s?s:""})})}case Je.CANCEL:(e=>{const t=Ze.getSettings("env");try{if(e){let i;i="react-native"===t?yr({connectId:e}):hr({connectId:e}),null===i||void 0===i||i.interruptionFromUser()}}catch(i){tr.error("Cancel API Error: ",i)}vr(),Tr()})(e.payload.connectId)}var f,a;return Promise.resolve(e)}))}dispose(){}}Object.defineProperty(t,"PROTO",{enumerable:!0,get:function(){return u.Messages}}),t.CORE_EVENT="CORE_EVENT",t.Core=Or,t.DEFAULT_PRIORITY=2,t.DEVICE=tt,t.DEVICE_EVENT="DEVICE_EVENT",t.DataManager=Ze,t.FIRMWARE=rt,t.FIRMWARE_EVENT="FIRMWARE_EVENT",t.HardwareSDKLowLevel=({init:e,call:t,dispose:i,eventEmitter:r,addHardwareGlobalEventListener:s,uiResponse:f,cancel:a,updateSettings:n})=>(({call:e,cancel:t,dispose:i,eventEmitter:r,init:s,uiResponse:f,updateSettings:a,addHardwareGlobalEventListener:n})=>Object.assign({addHardwareGlobalEventListener:n,removeAllListeners:e=>{r.removeAllListeners(e)},init:s,call:e,dispose:i,uiResponse:f,cancel:t,updateSettings:a,emit:()=>{}},E(e)))({init:e,call:t,dispose:i,eventEmitter:r,addHardwareGlobalEventListener:s,uiResponse:f,cancel:a,updateSettings:n}),t.HardwareTopLevelSdk=()=>(()=>{let e;const t=t=>e?e.call(t):Promise.resolve(void 0);return Object.assign(Object.assign({on:(e,t)=>{U.on(e,t)},emit:(e,...t)=>{U.emit(e,...t)},off:(e,t)=>{U.emit(e,t)},init:(t,i)=>{var r;return e=i,null!==(r=null===e||void 0===e?void 0:e.init(t))&&void 0!==r?r:Promise.resolve(!1)},call:t},E(t)),{removeAllListeners:t=>{U.removeAllListeners(t),null===e||void 0===e||e.removeAllListeners(t)},dispose:()=>null===e||void 0===e?void 0:e.dispose(),uiResponse:t=>null===e||void 0===e?void 0:e.uiResponse(t),cancel:t=>null===e||void 0===e?void 0:e.cancel(t),updateSettings:t=>{var i;return null!==(i=null===e||void 0===e?void 0:e.updateSettings(t))&&void 0!==i?i:Promise.resolve(!1)}})})(),t.IFRAME=Je,t.LOG=Ie,t.LOG_EVENT="LOG_EVENT",t.RESPONSE_EVENT="RESPONSE_EVENT",t.UI_EVENT="UI_EVENT",t.UI_REQUEST=Xe,t.UI_RESPONSE=et,t.checkNeedUpdateBootForClassicAndMini=Ae,t.checkNeedUpdateBootForTouch=Ce,t.corsValidator=ke,t.createDeviceMessage=it,t.createErrorMessage=e=>{let t={error:e.message,code:e.code};return e instanceof f.HardwareError&&(t={error:e.message,code:e.errorCode}),{success:!1,payload:t}},t.createFirmwareMessage=st,t.createIFrameMessage=(e,t)=>({event:"UI_EVENT",type:e,payload:t}),t.createLogMessage=Me,t.createResponseMessage=Qe,t.createUiMessage=$e,t.createUiResponse=(e,t)=>({event:"UI_EVENT",type:e,payload:t}),t.default=({init:e,call:t,dispose:i,eventEmitter:r,uiResponse:s,cancel:f,updateSettings:a})=>(({call:e,cancel:t,dispose:i,eventEmitter:r,init:s,updateSettings:f,uiResponse:a})=>Object.assign({on:(e,t)=>{r.on(e,t)},emit:()=>{},off:(e,t)=>{r.removeListener(e,t)},removeAllListeners:e=>{r.removeAllListeners(e)},init:s,call:e,dispose:i,uiResponse:a,cancel:t,updateSettings:f},E(e)))({init:e,call:t,dispose:i,eventEmitter:r,uiResponse:s,cancel:f,updateSettings:a}),t.enableLog=Be,t.getDeviceLabel=se,t.getDeviceType=te,t.getDeviceTypeByBleName=ie,t.getDeviceTypeByDeviceId=e=>{if(!e)return"classic";return"mi"===e.slice(0,2).toLowerCase()?"mini":"classic"},t.getDeviceUUID=re,t.getEnv=Re,t.getFirmwareUpdateField=le,t.getHDPath=Z,t.getHomeScreenHex=(e,t)=>{var i,r;return null!==(r=null===(i=("touch"===e?{"wallpaper-1":{name:"wallpaper-1",hex:"77616c6c70617065722d312e706e67"},"wallpaper-2":{name:"wallpaper-2",hex:"77616c6c70617065722d322e706e67"},"wallpaper-3":{name:"wallpaper-3",hex:"77616c6c70617065722d332e706e67"},"wallpaper-4":{name:"wallpaper-4",hex:"77616c6c70617065722d342e706e67"}}:{default:{name:"default",hex:""},original:{name:"original",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000003c000000000000000000000000000003fc000000000000000000000000000003fc000000000000000000000000000003fc000000000000000000000000000003fc0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff000000000000000000000000000000ff000000000000000000000000000003ffc00000000000000000000000000003ffc0000000000000000000000000000f00f0000000000000000000000000000f00f0000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000000f00f0000000000000000000000000000f00f00000000000000000000000000003ffc00000000000000000000000000003ffc00000000000000000000000000000ff000000000000000000000000000000ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},circleweb:{name:"circleweb",hex:"00486003070c08080c01c1c0380000c0007cc003fc04080c08017f801800018000f7c0033806080c08031d80180001000088400218020c0c0802018018000700008040020e0304041806018018003f0001f0400206010404180401803000f9000188e00403018604100c03c06003e180030fe00c01808e3e10080271f01f0180070f383e00c0fe7f3018041fb83c00801e880ff38060e1e3fc10080e0ee000c0f87007c0c020c0c1c610101c0780006078600300703f80c18320201803000070182003001c3b80c1816040100300007f0c6001000660c0e383f08010010007fc0660030001c043ff8319001001007cf00340030000c07f9cfe0e00100307e0c00160030000c07c84fe0e0078033e00c001e003e001c0d8c48e0c03cc0fe0018001f006ffc7f38c448e0c0e07ff00018001b80c03fc3f06669bfe7807fc000180019e3800181f062293e7c0071c00018001ffe0001809831292c1000c060007c001e0c0001808c3929481001c02007fc003806000181071bfa48100780307f0e0030020001c3038ffe8c30ff801fe00600700303ffff00c3ff8eff81801e000300e001fe071fe07381a7f00180100003f1e0010006043e7600c430018030000f9f200100040603ce007c30008060001c0c600100040600cc006c3000c0c00018083003000406007c007e3800f3800030083002001c07ffcc007fffe3ff0000200838060ffe0f1fc40071c0fe07000020047c0ffc03f800cc0061800c0300006003cfff00039c01fe00e1800c010007e00207fc00030c1fe701f38018018ffff002cc06000607f863c71fe01801fe0030033802000403c063ff0c3c0801800038021003003c0300e2311c07880180001802300103e402039e31f700fc0300000c0760013c06060e1e31e1807c0600000f966001c0031ff813ff40c07e1c00003ffc20018001f0e0333e607183fc0000601c20010000e0606222203900ff0000c00c70030007e020c662101f00e7fe00800fd803003ec0218463180600601ff90000780601f0c03f086308060060007f00003e0e0780607f886104fe0060000300001ff9fc0060c0f841079e0040000100000dc060003f807041060600c000018000058060007b807041840301f00001800007003001c1007fc3ec01831c00008000070010070100706c3c01fe07000fc0000600181c018060380c01f001c078e010060018700380c0300c01e00070c03870060018c006e1c010040330001d801fd00e001b001c7ec0100606180007000e001a001c003818c03007fc0c00030006003f003c00701040300ffc0e000300040fc3807f00e02060f0080c07000300040680c1c18180407f98380603800300060300ff00c300405f87fc0301c00300060100ce006600808183c40100e1ff000711008600380100818106018063038009f"},circuit:{name:"circuit",hex:"ffffffc18380002180001c0380f00c0000000041038000608000380701e0180000000063038000608000700e03c030400000003e038000218000e01c078060e000000000038000330001c0380f00c1b0000000000380001e000380701e0183180000001c03800000000700e03c03060c0000003703800000000e01c078060c060000006103800000001c0380f00c1803ffffffc18387ff8000380701e0183001ffffffc18387ff8000700e03c0306000000000610387ff8000e01c078060c000000000330387878001c0380f00c180000000001c038707800380701e0183038000000000038703800700e03c030606c000000000038707800e01c078060c0c6000000000038787801c0380f00c181830ffffffc00387ff80380701e018303018ffffffe00387ff80700e03c03060600c000000600387ff80e01c078060c0c0060000006003800001c0380f00c18180033ffffe600380000380701e01830300013ffffe600380000700e03c03060600003ffffe600380000e01c078060c0c02013ffffe600380001c0380f00c181807013c001e6007c000380701e01830300f813c001e600fe000700e03c03060601fc13c001e601ff000e01c078060c0c03de03c001e601ff001c0380f00c1818078f03c001e601ff00380701e01830300f0783c001e601ff00700e03c03060601e03c3c001e600ff00e01c078060c0c03c01e3c001e600fe01c0380f00c181807800f3c001e600380380701e01830300f00073c001e600000700e03c03060601e00033c001e600000e01c078060c0c03c00013c001e600001c0380f00c181807800003c001e60000380701e01830300f000003ffffe60000700e03c03060601e0c0013ffffe60000e01c078060c0c03c1f0033ffffe60001c0380f00c1818078218073ffffe6000380701e01830300f06080f0000006000700e03c03060601e06081e0000006000e01c078060c0c03c02083cffffffe001c0380f00c1818078133078ffffffc00380701e01830300f07de0f0000000000700e03c03060601e08401e0000000000e01c078060c0c03c18203c0000000001c0380f00c1818078102078100000000380701e01830300f01860f0200000000700e03c03060601e00c41e0400000000e01c078060c0c03c00783c0800078001c0380f00c181807800007810000cc00380701e01830300f00000f0200018600700e03c03060600780001e040fff0200e01c078060c03003c0003c0800018201c0380f00c1801801e00078100000860380701e3f80c00c00f000f0200000fc0700e03c63006006007801e0400000300e01c07841003003003c03c08001c0001c0380f041001801801e078100066000380701e041000c00c00f0f0200043000700e03c0630006006e079e04000c1000e01c07803e0003003b83fc08038"},starweb:{name:"starweb",hex:"01e600002f804210c218803f80001bc01f86000020f04610e31883c10000187ef1890000200e4331a1308e010000042331190ffe2003c1e010e070010ffe2623221108022000e04210c0c001180622112221880223e078040803c0f11004211144218c0222386404080cc31110047108444204022308230004104611100c5088cc46440201081188046246311008188c88844603110890c800c2462010180844888c420311f88830038446e230108c441088e33e10188810030447823e10c4421108a1e0100084180208400203e046221111000008008618060840040000222223111000180002140b104006000222112233180ffe1e830219104f1ff8023111222220f00701c1221120e01807c0111162220780058070a1210180680078111044646e0000403c80e14780c0001d888844446203e23006e0c1990110e01988884447830e201821e0c1e10601fc107888844e010c3106006041c1082104201c8888d8008410030030c1823002086006c448e030c210808030c3024042184301c44880f841e0407818e6048081f087c0443b038c2080203c1dae070180610c70351c0e061000fffe17ba0fffc003081c0e181802180e08038b36380438061006067c30030c300401f937f000070c30030fd2080186c002009daf601000d8600612110403038001004decc0200070300c221182060dffc0c063f980c07fec18186211c18818403ffffb37ffff00860c30e21120f0602000fe0e1c1fe00101834122111060c0180303861870300200c1822211180102060c007e1f800c08106006221116020f813000c738c0062078100e2211130418c0f0031ffe2003c0c608122211118830618f07fbf7f81c608304622211113070c3007f32d33f8030c383a2220191301d8600f026d903c0184603222088914c070c03606edd81b00c380ca26088998300181c4076db808e0400186644888981c010e080e7f9c0418200e0644488890070230181873860607103802444888a100e6c0107061838200d8e001c44888c3c03f0033f06183a3003f00f0c44c0486700b007c6061838f803c03984c0444841c180ec0c04083c0c0060e08488445080610008180c1c06040021804288446180620008321e1e12040011806108442100421810222e1911040610802108624200c43f10424a1490823f08c01091e24600846310838924704231884018913283818842010309243022108c4078530f807908c2220611a01811108427c07c03800708fe240c10c20c091ec43c007081b00010f0283210c2130d07c20003e0c28e00100039c210c210c70002001c504484e010003e0200c2101f000201f848c44437f003f00221211003e0033f98888442233ffe6000221110019fffa110888c2311200060e0261121c1800122310c0a2118c00043a1640923718000c62114"},stars:{name:"stars",hex:"0000000000000000000000000000000007e000000000000000000000000000000ff000000000000000000000000000001ff800000000000000200000000000043ffc00000001000000000000008000007ffe0800000380000000000001c000007ffe00000001000000000000009038007ffe0000000800000000001c00027c007ffe0000002040000000003e0000fe007ffe80000000003ff000003e0000fe007ffe2a00014021fffe00003e0000fe003ffc0080780007ffff80001c00007c001ff80028fc001fffffe00080000038000ff00002fc003ffffff000020000800007e00000fc00fffffffc02000000000000000000fc01ffc63ffe080100010000000800007803ffc63fff000000000000000000000003ffc63fff200080020000000400010007ffc63fff80000000000000000000000fffc63fffc0002008000000020004000fe00007ffc0000000000000000010001fe00000ffe0001020000000010020001fe000007fe0000000000000004000003ffc00003ff0000840000000000080003ffe07c03ff0000000000000002000003ffe07f03ff0000780000000000200007ffe07f83ff8000fc0000000001800007ffe07f83ff8000fc0000000003c00007ffe07f03ff8000fc0000000003c00007ffe07c07ff8000fc0000000001800007ffe0000fff8000780000000000000007ffe00007ff8000000008000001000007ffe00001ff800010001c000000000007ffe07e01ff8000000008000001000007ffe07f80ff8000100020000002000017ffe07fc0ff8000000000000000000043ffe07fc0ff000010004000c002000203ffe07fc0ff500008000000c000000803ffe07f80ff0480000100000004001c01ffe07e01fe0030080000000000000801ffc00001fe0030000400000004000000fe000003fc0000080000000000000000fe00000ffc00000008000000080000007e00003ff800000400000000000000003ffc63fff000000020000000080000003ffc63fff000000780000000000000009ffc63ffe000000fc0000000100000020ffc63ffc000001fe00000000000000003fc63ff0000001fe00000007800000401fffffe0000001fe0000000fc0000e0007ffff84000001fe0000000fd5401f0001fffe00000014fc0000000fc0155f00003ff0010000a0790000000fc0001f0000000000000500000000000780000e000000000040100000400000200000004000000000194000001000000000000010000000003c0000000800008000000004000000003c000000020000000000000000000000180000000080020000000001000000000000000000180800000000006000000000000080003c1c00000000006000000000000000003c0800001000000000000000000000001800000000000000000000000000000000"},bitcoin_b2:{name:"bitcoin_b2",hex:"000000000000000000000000000000000000000000000007800000000000000000000000000000fffc000000000000000000000000000fffffc00000000000000000000000003ffffff0000000000000000000000000fffffffc000000000000000000000003fffffffe000000000000000000000007ffffffff80000000000000000000000fffffffffc0000000000000000000001fffffffffe0000000000000000000007ffffffffff8000000000000000000007ffffffffff800000000000000000000fffffffffffc00000000000000000001fffffc7ffffe00000000000000000003fffff8f3ffff00000000000000000007fffff8f1ffff00000000000000000007fffff8e3ffff8000000000000000000ffffc10e3ffffc000000000000000000ffff800e3ffffc000000000000000001ffffc0003ffffe000000000000000001fffff0001ffffe000000000000000003fffff80007ffff000000000000000003fffff81803ffff000000000000000003fffff83f01ffff000000000000000003fffff03f80ffff000000000000000007fffff03fc0ffff800000000000000007fffff03fc0ffff800000000000000007fffff07fc0ffff800000000000000007ffffe07fc0ffff800000000000000007ffffe03f80ffff80000000000000000fffffe00001ffffc0000000000000000fffffe00003ffffc0000000000000000fffffc00007ffffc0000000000000000fffffc0f807ffffc00000000000000007ffffc0fe03ffff800000000000000007ffffc1ff01ffff800000000000000007ffff81ff81ffff800000000000000007ffff81ff80ffff800000000000000007fff801ff80ffff800000000000000003fff003ff81ffff000000000000000003fff000ff01ffff000000000000000003fffc000001ffff000000000000000003ffff800003ffff000000000000000001ffffc00007fffe000000000000000001ffffc7000ffffe000000000000000000ffffc71ffffffc000000000000000000ffff8f1ffffffc0000000000000000007fff8f1ffffff80000000000000000003fffce3ffffff00000000000000000003ffffe3ffffff00000000000000000001fffffffffffe00000000000000000000fffffffffffc000000000000000000007ffffffffff8000000000000000000007ffffffffff8000000000000000000001fffffffffe0000000000000000000000fffffffffc00000000000000000000007ffffffff800000000000000000000001fffffffe000000000000000000000000fffffffc0000000000000000000000003ffffff00000000000000000000000000fffffc000000000000000000000000000fffc000000000000000000000000000007800000000000000000000000000000000000000000000000"},bitcoin_shade:{name:"bitcoin_shade",hex:"00000000000002aaaa00000000000000000000000000155757600000000000000000000000002aeffef80000000000000000000000015dffffff000000000000000000000003bffbfbab80000000000000000000000ffff7f75540000000000000000000001ffe800aaaa0000000000000000000003fdc00005550000000000000000000007fb000002aa800000000000000000000ffc00000055600000000000000000001ff80007002ae00000000000000000003ff00007801fd00000000000000000007fe00007882fa80000000000000000007fc41c0f1f07f4000000000000000000ff889f8f1e0bea000000000000000001ff113fff1e15fd000000000000000001fe223ffe3c2aff000000000000000003fc440fff3c157f000000000000000003f88883fffc3ebf800000000000000007fd5103fff85f7f800000000000000007faaa23fffe3fbfc00000000000000007f55547f9ff9fdfc0000000000000000feaaa87f07fcfffc0000000000000000ff55547f01fe7dfe0000000000000000feaaa8ff00fe3efe0000000000000001fc5554fe007f5f7e0000000000000001feaaa8fe087f3efe0000000000000001fd7551fc147f1d7f0000000000000001febfe9fc00ff3aff0000000000000001fd77f3ff00ff177f0000000000000001feefebfffffe2eff0000000000000001fd5ff3fffffe1d7f0000000000000001febfe7fbfffc2aff00000000000000017d7fe7f0fff0577f0000000000000000feafeff03fe0eefe0000000000000001dd5d4fe00ff1557d0000000000000000beba0fe207f02a7a00000000000000015555dfe503f854760000000000000000aeabffc283f808ee00000000000000005757ffc143fc11de0000000000000000aaa7ffc2a3fc22be00000000000000005751fff007fc457c00000000000000006ba83ffe0ff889fc00000000000000005d540ffffff801f800000000000000003baa0ffffff003f8000000000000000037d40f7ffff007f000000000000000003fea0f1fffe00fe000000000000000001ff11e3dff800fd000000000000000000ff21e3c08001ba000000000000000000ffc3c3c00001740000000000000000007fc8c7800002ac0000000000000000003ff007800005500000000000000000003ff22780000aa00000000000000000001ffd40000055400000000000000000000ffea88800aa8000000000000000000007ffd11501d50000000000000000000003fff2aa1bfa0000000000000000000000ffffd7fff400000000000000000000007fffffffe800000000000000000000001fffffffd000000000000000000000000fffffffc0000000000000000000000001ffffff000000000000000000000000007ffffc0000000000000000000000000007ffc00000000000000"},bitcoin_b:{name:"bitcoin_b",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000380000000000000000000000000000003e0000000000000000000000000000003e1800000000000000000000000000007c1f00000000000000000000000000007c3e00000000000000000000000001007c3e00000000000000000000000001f07c3e00000000000000000000000003fff83c00000000000000000000000003fffc7c00000000000000000000000003fffffc00000000000000000000000001fffffc000000000000000000000000003ffffe000000000000000000000000001fffff800000000000000000000000001fffffe00000000000000000000000001ff7fff00000000000000000000000001fe07ff80000000000000000000000001fe01ffc0000000000000000000000003fe00ffe0000000000000000000000003fe007fe0000000000000000000000003fe003fe0000000000000000000000003fc003fe0000000000000000000000007fc003fe0000000000000000000000007fc003fe0000000000000000000000007fc007fe0000000000000000000000007ff00ffc000000000000000000000000fffffffc000000000000000000000000fffffff8000000000000000000000000fffffff0000000000000000000000000ffffffc0000000000000000000000001ff0fffc0000000000000000000000001ff01ffe0000000000000000000000001fe007ff0000000000000000000000001fe001ff8000000000000000000000003fe000ff8000000000000000000000003fe000ffc000000000000000000000003fc000ffc0000000000000000000000e7fc0007fc0000000000000000000001fffc000ffc0000000000000000000001fffc000ffc0000000000000000000001fffe001ffc0000000000000000000003ffffc07ff80000000000000000000000fffffffff800000000000000000000000ffffffff0000000000000000000000001fffffff0000000000000000000000001ffffffe0000000000000000000000001f3ffffc0000000000000000000000001e0ffff00000000000000000000000003e0f07800000000000000000000000003e1f00000000000000000000000000003e1f00000000000000000000000000003e1f00000000000000000000000000003c3e0000000000000000000000000000043e0000000000000000000000000000003e0000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},bitcoin_full:{name:"bitcoin_full",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007e000020000000000000000000000003ff8001e000f000000000000f00000007ffe003e001f000000000000f8000000ffff003c001f030000000000f8000001fe7f803c001f1f0000000000f0000003fe5fc03c00041e000000000040000007f01fe07c00001e000000000000000007f01fe07800001e00000000000000000ff807e07fe01e3ff03fc0fe01e0ff800ff8c3f07ff03e3ff0ffc1ff81e1ffc00ff8c3f0fff83c3fe1ffc3ff83e1ffe00ff007f0fcf83c3fe3f087cfc3c3e3e00ff007f0f07c3c3c03e00f87c3c3c1e00ff187f0f03c7c7807c00f03c3c3c1e00fe1c7f0f03c787807801e03c7c3c1e00f81c7f1e03c787807801e03c783c1e00fc007e1e07c78780f801e03c78781e007f00fe1e078f8f00f801e07c78783e007f4ffe1e078f0f00f801e07878783c003f4ffc3c0f0f0f00f801e0f8f0783c001ffff83c1f0f0f807c01f0f0f0f83c000ffff03ffe0f0ffc7fe1fff0f0f07c0007ffe03ffc1e0ffc3fe0ffe0f0f0780003ff807ff81e07fc1ff07fc1f0f07800007c000fc00001f007c01e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},bitcat:{name:"bitcat",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003ff000000000000000000000000001e1ffff1e000000000000000000000007efffffcf80000000000000000000000e3ffffff1c0000000000000000000000c7ffffffce00000000000000000000019fffffffe60000000000000000000001bffffffff600000000000000000000013ffffffffa0000000000000000000000781fffe07c0000000000000000000000e10fffc41c0000000000000000000000e00fffc01e0000000000000000000001f00fcfe03e0000000000000000000001fc3f83f0fe0000000000000000000001ffff83ffff0000000000000000000003ffff87ffff0000000000000000000001ffffefffff0000000000000000000003ffefefefff0000000000000000000001ffefefdfff0000000000000000000001ffefcfdffe0000000000000000000001fff7979ffe0000000000000000000000fff8383ffc00000000000000000000007ffffffff800000000000000000000003ffffffff0000000000000000000000027ffffffc00000000000000000000000783f87fc380000000000000000000000f9c00003fc0000000000000000000000f7f703fffc0000000000000000000001e7f783fffe0000000000000000000001effb87fffe0000000000000000000003effbffffff0000000000000000000003effbffffff0000000000000000000007e7f3ffffff8000000000000000000007c001ffffff800000000000000000000f00007fffffc00000000000000000000e00003fffffc00000000000000000000c01001fffffe00000000000000000001803f00fffffe00000000000000000001803fc0fffffe000000000000000000010030e07fffff000000000000000000030030707fffff000000000000000000020070303fffff000000000000000000020060303fffff000000000000000000020060703fffff80000000000000000006007fe03fffff8000000000000000000600ffc01fffff8000000000000000000600c38037ffff8000000000000000000603c0c037ffff8000000000000000000603f8e037ffff8000000000000000000601f8e037ffffbf8000000000000000060180e037ffffbfe0000000000000000301c0c0760fffbfe0000000000000000301ffc071f3ff7ff00000000000000003807f80f3f9ff7ff00000000000000001c00601f3fdfefff00000000000000000e00003f7fdfdffe00000000000000000300007f7fdf3ffe0000000000000000000000ff3fd8fffc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},nyancat:{name:"nyancat",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000030000000000000000000000000000000cc000000000000000000000000000000cc0000000000000000000000000000003000000000000000000000000000000030000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffe00000000000000000000000fffffffff00000000000000000000003ff9ffffff80000000000000000000003f19bfffff80000000000000000000003f833fffff80000000000000000000003fc03fffff80000000000000000000003fc03fffff80000000000000000000003f861fffff80000000000000000000003f870f8fff80000000000000000000003f8f8f87ff80000000000000000000003f0f0e71ff83800000000000000000003e000e79ff83c00000003fffe000000f3e101e7e7f8fc00000083fffe000000f3e3c3e7e7f8fc000000ffffffffff007303e3e7f001fc000000ffffffe1ff3c3207e1e7f807fc000000ffffffe1fe1e03c1c3e7fb7ffc000000f07fffe4fe0f03c003e7fffffc000000f87fffc4ff0703c803cffffffc000000f33fffc8ff83c399861fffffff000000f33fff9cffc3c3f9ff1ff7ffdf000000e47f0780ffe0f3fbff9fe7ffcf000000c67f87e3fff0e3ffff9fe7ff8f000000e07f33fff87803ffff9f87e20f000000f0ff33fff87c03ffff9f87e20f000000fffe47fffb3f83ffff9fffffff000000fffc67fff13fc3ffff9fffffff000000fffe07fff67ff3ffff9fe78e3f000000ffff0fffc67ff3ffff9fe78e3f000000ffffffffe07ff3ffffe7e0003c000000fffffffff8ffe3ffffe7e00038000000ff134bffffce00fffff9ffffe0000000fc0001ffff0000fffff9ffffe00000000000000000003f0000000000000000000000000000003f0000000000000000000000000000003c010000000c000000000000000000003c01c000780e000000000000600600000000000000000000000000006006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000180000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},coffee:{name:"coffee",hex:"0000000000000000000000000000000000000000000000000001fff8000000000000000000000000001e00bfc0000000000000000000000000e00005f800000000000000000000000180002bff00000000000000000000000600005fffc00000000000000000000008000003fff000000000000000000000100000007ffc00000000000000000000300000000ffe000000000000000000002000000001ff000000000000000000002000000000ff8000000000000000000040000000003fc000000000000000000040000000000fe0000000000000000000400000000007f0000000000000000000400000000003f0000000000000000000600000000001f8000000000000000000600000000000f8000000000000000000600000000000780000000000000000007000000000007c000000000000000001f800000000003c00000000000000000e7c00000000003800000000000000001c7e0000000000380000000000000000707f0000000000380000000000000000c57f80000000003000000000000000018a3fe000000000300000000000000003053ff0000000006000000000000000062abffc000000004000000000000000045dffff8000000180000000000000000c3bbfffe000000600000000000000000865dfff5e00003000000000000000001ac0ffffe1ffff80000000000000000011437fffd000000000000000000000003281afffa00000000000000000000000350047ff400000000c000000000000002080e7ff800000003f00000000000000250077ffd00000017f8000000000000022a83bffa20000003fc0000000000000251003ff400000000f40000000000000209801fe880000000680000000000000314800ff40000000030000000000000032ac00ffa000000001000000000000003546007f40000000011000000000000010eb003e8800000001a00000000000001179c11f50010400008000000000000018bae16b8202080000800000000000000957f0160404480001000000000000000c8ff80be80aac0001000000000000000477ff54fd558f803600000000000000063bfff27bba00fffc000000000000000357ffff3f500007f00000000000000001abffff9aa00000000000000000000000d5ffffc40000000000000000000000406bffffe200000000000000000000000031fffff1d4000000000000000000080818bffff8fea808ab80000000000000040c5ffffc7fd5555f8000000000002010472ffffe1fffbbff000000000000000409d7ffff0ffffffe000000000000080000e3ffff87fffffc00000000000020852139ffff81fffff00000000000000003041e3fffc0ffffe000000000000000501907c7ffe03fff8000000000000000220000fafff01ffe00000000000000000004101fd5f807f80000"},flower:{name:"flower",hex:"e598b7fdffdf7dc00000000000000000fbe46fffffff1d80024000000000000054917defffff77bc0830000000000000ef68b7ffffff7ffe2020000000000000ffb65ffffffffbe641600000000000003fdd97ffffdf7dfcb6a80000000000001ff68affffffffdc2dd600000000000087eb457f7fdffff8fb8600000000000071ffa7bf7ffffef3fe740000000000003cff63ffbfdffff3fdcc000000000000ab37a5ffbfffff7fbb9c0000000000008d9d757fdfa7f0ff7d38000000000000f3e7caffd4e7effefe7007000000000077b7ea55e24bf3fbace078c0000000009c79e83ec220d7f7f9c3e780000000006effd41f388007eff393888000000000b75fed9f20080fbffe1e410000000000ebffbbe700128bfffc714200000000007dfbfef9400003febdcc2c0000000000ff7ff7be7302217efe34180000000000f3fffef80809007ff8c83000000000003dbfd760004020ffe721c000000000000007fbf9000041ff9e33800000000000c373ff408112017ef8de000000000000013c7ffaa400047f2638ff0000000000873700410000987999c3f6c000000000057bf1ac042c04fe7e1fbfc00000000014adfff0026041ffe1ffffe000000000095feff0624008003fffff8000000000133bfffe0c0031fffffff800000000000ffdfffc801981ffffff00000000000007dbfff1080300fffff0000000000000217fedc60100033fff00000000000000189fff8e480001c00000000000000000e80bf81dc00800700050100000000000008009fbd088081f0000ce00000000000410b5ffe2001607c00007000000000020637fffe6800180fe009c0000000000050fbfffef860ff807ffe00000000000885ffdffdf9796ffc00000000000000070ff3fff9fb798bffe0000000000000046fbffffff37edf7ffc0000000000000357dedffff7ff6fffffc0000000000007be7efffbffffbffffff000000000000cfbfcf7fbffbfddff3ffe000000000001c7e0fff7ffbfeefff3ff800000000007ff00ffe3ffbfffbffe37c0000000000fec008a4fffdfffe7fff7e0000000000b5001181bbfdffff8efedf8000000000580042046ffdffdfe1dff58000000000000507807ffcfffffc6ffb800000000004000420bffcfffeff3c3e0000000000120808503ffc7fffffdf00000000000030c018813ffe3ffdf7e7800000000000f7003a211ffc3ffef9f5c00000000000f80030022dfe4efd7f79600000000000000060800ffc0eef9cb5e000000000000000424403dc07f5c7ea0000000000000000d04823ad41ffc3fe0000000000000000909820b9007dc07e000000000000000192200009000f000000000000000000010060201180080000000000000000000148c000040040000000000000000000035380000400001000000000000000"},saturn:{name:"saturn",hex:"00000000000000000000007800a00300000000000000000000000703ffffc0c000000000000000028000707eaaa0f8600000000000000101010307d5011d1c30000000000000000000007aa2aaa3cf1000000000000000000401d54404045708000000000000000888086a0fe80a2b880000000000000019541017f00f059988000000000000023aaaa0000000c24b880000000000004455554000000025458800000000000080aaeae880000010a98800000000000107fd55d5000000080d900000000000023bfbbbaa0000000aab9000000000000577f7ff5540000004432000000000000aaffefeaaa88000080b210000000000555ffdff5550400009564200000000102abfefffbaa0000008b6400000000000557fdfff7750200008ac800000000000aafefffefaa0800010490800000000415dfdfffffd5510001552100000000002abffffffffaa000022a6200000000004777fffffffd50000456440000000020aefffffffffaa88008ac88000000000115fffffffff555000959100000000002abffffffffbbaa0012b22000000004457ffdffffff7f5440256440000000010affeffffffeefea804a980000000026415dfffffffdffd5009530000000008980abffffffefffba032a4400000001138157ffffffdfff7c045c88000000004e82affffffffffff808d900000000009d815dfffffdfffff010e400000000026a82bbfffffbffffc022c88000000044c50557ffffffffff80d5900000000089ca08affffffffffe212e44000000003794115ffffffffffc051c80000000044e2802bffffffffff00a3220000000089d504557ff7fffffe4056440000000112aa000afeaffffff880b910000000002554001555ffffffe010f200000000004aa80002bfffffff882ac880000000009550004577fffffe00573000000000012aa0022afffffff8808cc0000000000255400015ffffffe10159100000000004a280002bffffff882ae4000000000009a4800105fffffc0455904000000000134100000afffff0808e40400000000026910000955fff84515901800000000026a2000022bffc2028e60300000000004d520000457fe04057901c00000000008b42000022fe0008ae406a0000000000995200001fc000157101d400000000001aa200000002022bca07a800000000003642000000000557305d5000000000003a8100000000aab880eaa0000000000036518000000515c403d5c000000000003a2a600000a2af102eab0000000000003b241c007e5578c03d460000000000003a9883ff888bc200ea980000000000001d445101115e100755600000000000001a60aaaa2be1803aa3800000000000008f1604057e0c74c45c0000000000000083eaeaafe0e087ffc00000000000000060ffdffc0e0400000000000000000000"},jupiter:{name:"jupiter",hex:"0000000008907bfdb7bf2b948000000000000000041eaff7a9d5f3fa0080000000000000012cfffefefe755400800000000000080b3fff5ffff7ffbfa0400000000000008644cbddff7ffffb804000000000000000beffffffffdbb880200000000000010aa7fb7ddf5df5de1020000000000004e579eef6fbffff7be6200000000000049bf27fdfbdefffedf0100000000000010500fffffffeffff6410000000000000261fffffffffffffd8100000000000000fd71fbdf7f7fbeebc0000000000000123e72dffecdbb4b500080000000000008040a58a03ef1a76500800000000000000393941ded666b34a08000000000000000047cf35da1d74a08800000000000000000041990af81d6688000000000000800000000000ef80180400000000000000000400100c38ea0204000000000000010d0804838540f82004000000000000003f1f80002eb9fa8004000000000000007c7ffffc17ffe33c0400000000000417707fffb2fffbc66c0400000000000099c3ffffc7ffff23ff04000000000003183cffff3dfffcd0e00400000000000000a27ffefffff9ff080400000000005c095c3ff306ffffd080040000000000001000001e03ffffc000040000000000000000000024f70100000400000000000000000001f7500eff4004000000000000001037ff7f07fedea20400000000000037f7fefffff9bfbb510000000000000001b7ffffffffd642000800000000000018f83d4fd2340000c008000000000000000080005080000c0008000000000000000000000007ffd06088000000000000000003e080fa36214008000000000000000b7e1f7f7cd0b00010000000000000080b4e753fffec18b01000000000000807cc1fa0401c9affc01000000000001012123246fe03ffc40020000000000001450a77bbff800020e02000000000000081056e7f49e00e0008200000000000002079e19fff685000884000000000001008e031388ff1a1cf4040000000000000151ca2e572d6233b80000000000000000aff00ea4280cc40008000000000000002bfd4309d02008241000000000000000bdff017f03ff209c1000000000000000421af0000f276f7020000000000000080080153473ff9e522000000000000000032a6f4cfebf7fa8400000000000000020a990813bdff68040000000000000000106016fc77eb500800000000000000008c04e5fc081930100000000000000000000209f9b7f40010000000000000000000042402a30ac3200000000000000000000a028904510040000000000000000000240137194cc08000000000000000020010680a1a00010000000000000000000000028100000200000000000000000000400800000004000000000000000000000010000102080000000000000000000000010040001000000000"},einstein:{name:"einstein",hex:"fffe812fffffffffffffff8800000000f7d10057fffffffffffffe1000000000fee800a88bfffffffffffd4000000000fdfd0111fffffffffffffda000000000b2fa0003fffffffffffffe9000000000f5f70045ffffffffffffff4000000000eaec000027ffffffffffffe000000000ddf8015001ffffffffffff1080000000b2f20000023fffffffffff9c00000000cdfe0000017ffff7fffffdd800000000cafc0000002fffe07ffffef80000000020f20001101fffe00ffffff900000000e0e8000a0003ffc01fffffae0000000045f400040001ff0007ffffc740000000806800003880fe800fffefe1800000005578000d3cc0fd8733fffd50c000000022e800080420fa8f9bffffa0000000000475400013007501dfff7df12000000000a880100c80f8846bfffea82000000001b000000e41fd0027fffd841000000020b002000ea0fe830bfffe8010000000045007011fc0ffffc7ffffc010000000004008a02388ffcfaffffd8000000000005007880750ff70e7fffdc0010000000020001e1fa03faff3fefec00200000000000617c3f07fdf7ffd7c1000000000000002c80ea03fe3efbefca000000000000000effdc01ffe7dddff400000000000000299ff803fffdbbabb000000000000000175ff007fffff7dfd4000000000000000f7ff803fffffaaeea0000000000000015dff001fffff55fc1c60000000000001bfff203ffffe3abfb8400000000000017f7f405fffff747d6720000000000000dffe803ffffee82e80800000000000004ffd001fdfff951704000000000000002abe003fffffa22b800000000000000095fc0017eff7f67fc0000000008000002bfc000feffe89f2800000000000000005f80005f7fe51fd400000000000000003f00002b3fe09b8220000000000000051f4000039ff85d8500000000000000002e80000fbfc0eea800000000000000103d44001fdfc0dd34000000000000000029a0003fefe0a77800000000000000101400015ff7c0775000000000060000000aaa046afee8cd98000000000800000015545d53fd780e08000000000a000000020008097fe02248000000000400000004001695ff804000000000000c00000000081820ffc00000000000000c00000040000140ff8000000000000008000000000000029f8000000000000008000000000000007f4000000000000000000000000000001f000000000000000000000000000000170000000000000000000000000000022b0000000000000000000000000000051600000000000000000000000000002b8a0000000000000000000000000000551400000000000000000000000000002ba40000000000000000000000000057ff4000000000000000000000000000fffece00000000000000000000000001ffff9fc00000000000000"},piggy:{name:"piggy",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000c001fffe000000000000000000000003e00fffffc00000000000000000000007f03ffffff0000000000000000000000630fffffffc000000000000000000003631ffffffff000000000000000000001ff3ffffffff801000000000000000001fe7fffe7fffc0180000000000000000078fffc66fffc0780000000000000000019fffe0cfff83f8000000000000000001fffff00fff8ff0000000000000000000fffff00fff3ff00000000000000000007fffe187ff3ff00000000000000000007fffe1c3ff7fe00000000000000000007fffe3e3ffffc00000000000000000007fffc3c3fffe000000000000000000007fff8003fffc000000000000000000007fff8407fffe000000000000000000007fff8f0fffff000000000000000000007ffc0f8fffff000000000000000000007ff81f87fff3000000000000000000007fff0707fff3800000000000000000007fff000ffff3f00000000000000000007fff200ffffff80000000000000000007ffe661ffffff80000000000000000007fffe7fffffff00000000000000000003fffeffffffff00000000000000000003ffffffffffff00000000000000000003fffffffffffe00000000000000000003fffffffffff800000000000000000003ffffffffffc000000000000000000003fe3ffffff80000000000000000000001fe00fffe000000000000000000000001fcc0007e000000000000000000000001fc7c007e7c0000000000000000000001f87e003e3c0000000000000000000000f87c003e3c0000000000000000000000f83e001e3c0000000000000000000000781e001e1c0000000000000000000000700e000e1c00000000000000000000003006000e0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000384327c0021938007c2113e0078f800040e3e600061914007c613300030a8000c0b3e600061d16001061e200030200008192a700071d12001071838003020000811227000d15120010d1838003020000c1b226000f13160010f1c2000302000040a22600099314001099320003020000786227c008933c00108913e00fc20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},honeybadger:{name:"honeybadger",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ddda80000000000000000000000000150046f00000000005a80000000000004fffff8c00000000bb4c000000000002beff749b80000001e40300000000000cfa9bc5296000001f4ff080000000000be6f7eb015800f6ea9b3e600000000033bdfdf999eea7dd8ef6cc1000000000fffffff7ca9fd9afb87d2f1800000001fdffffffc4c600eff9fd1164000000017fffff7f7d9b27bfeffd00e400000002ffffffffff6edd7fe7f8022400000004fffffffffe71d7fff7d8400380000005fffff7fffdffffffbf4441408000000bffffffffffffdffffe000092c000003fbbfffffffffffffee900000080000033f7f7ffffffffff1bb210000040000067856bfffffffffc15d4000001800000cb8915fffffffff008e40001470000011ea9317fffffffe0054a0006bc0000023d18a15bffffffc0025400180000000c6a004895957fbf5000ac006000000031e400264a45656900015000c000000181580094a0aa8a521001200700000006094a012a20848a400000000c0000003800a000111040942200009010000000e0350004890009089488004820000003826b041142400080021100041000000248220c00020200011205000a1000000400880e0085008000241c20020800000680203c00088040001020780108000003000078000000082080408e00440000039000e00000111a42fd91858024000001c003800000f237ff4aa100e022000000c00f0000032020000092003051000000783a00015c20200000a20018490000001fc6001ba02030000193000e28800000000402e400101cc00088e003077fe00000080500000c0730008058018a01500000041800000e001800d28800e017e80000081f00000604580064780022aef0000004058000038038003fe000355ed000000400400000ffe0000080000ff7000000040840000020000000000000000000000792400000000000000000000000000002ffc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},dragon:{name:"dragon",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000003f8c000000000000000000000100000007ef0000000000000000008d848300000871f8000000000000001effffc1800007fe3ff02000000000003fff1ffce10001ff3ffee001f8000001f7fdffffe80000381a7f80003f00f9063efffd7ff881001d7eff00000783ff8dfffffdffdec1007f1df1400001effeebfdb801f7bf7080fe0dce000000ffffffff30001efd30807c0ffd0000003fffffff0000037778807c00070000000003fffbde0000edfcc06c000f0000000001fffbc600003b7c607e000800000000007dee7200000fae383b000820000000008fbc3a0000037e1f07c0017c0000000063f230000001ff8f81e002600000000007e0400000005fca81f6074400000000ffc00000000037fa80ff039e00000001ff80000000000ff3805d006200000003fc000000000007fd807f83c20000039f00000000000003ffc07e8fc00000059c00000000000001ffe1ff1f70000001f0000000000000005fffbdfe20000021c00000000000083077dffc380000002f80000000000004185ffbfbf00000001c60000000000003fbe3eff63000000001300000000000003fffbfc0400000001638000000000000503fdc00000000000e40000000000005d83ff000000000000000000000000003901f8000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},narwal:{name:"narwal",hex:"0000000000000000000000000000000000000000000000000000000000000000000000003f000000000000000000000000000000e3000000000000000000000000000003810000000000000000000000000000060180000000000000000000000000000c018000000000000000000000000000180180000000000000000000000000001801800000000000000000000000000010018000000000000000000000000000100180000000000000000000000000001800c0000000000000000000000000001800c0000000000000001e00000000001800e000000000000000fc00000000000c003ffff00000000003f800000000000e000007fe00000000063000000000000300000006000000003ce00000000000038000000c00000000618000000000000e01800038003ffc01cf000000000000180780007007f80fc71c000000000000701e0001c07c00007c78000000000000c073f03f01e0000060c000000000000180c07ff80f000011c380000000000003018000003c00003f078000000000000603800000e000801c0cc000000000000c03000001c001c0381860000000000018030000070001c060f0700000000000180700000c00008060c330000000000030070000380000007f8638000000000030030000700000001e0e18000000000030030000c00000000018180000000000300380018000080000701800000000003001c00700000fc00fe01800000000003000e00c000003ffffc018000000000030003838000001ffffc038000000000030000ff0000000fc07c0300000000000300007c000000070008030000000000018003e00000000300100600000000000180000000000000e0e00e000000000000c00000000000001f000c000000000000c00000000000000000180000000000006000000000000000003000000000000030000000000000000070000000000000180000000000000000e00000000000000c000000000000000180000000000000060000400000000003c0000000000000030000c0010000000e6000000000000001c00180018000001c3000000000000000700180030000007018000000000000001c038003000001c00c000000000000000f030007000007c0060000000000000001e3000600003c780600000000000000007f000e0003e00f0300000000000000000f000c007f0001e3000000000000000003001cffe000003e000000000000000003003ff0000000000000000000000000030060000000000000000000000000000300c000000000000000000000000000030180000000000000000000000000000187000000000000000000000000000001fe0000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},rabbit:{name:"rabbit",hex:"00000000000000000000000000000000000000000000000bf800000000000000000000000000007eaf8000000000000000000000000003e000e00000000000000000000000000e000020000000000000000000000000180000600000000000000000000000003000006000000000000000000000000060000180000000000000000000000000c000038000000000000000000000000180000e0000000000000000000000000b0000380000000000000000000000001f00007e000000000000000000000000e0000003800000000000000000000001c0000000e0000000000000000000000300000000380000000000000000000006000000000c000000000000000000000c00000000060000000000000000000008180000000200000000000000000000183c000000030000000000000000000010180000000600000000000000000000100000a015fc00000000000000000000300000ffff6000000000000000000000100000d54000000000000000000000003000007c0000000000000000000000001000000700000000000000000000000018000001e0000000000000000000000018000000380000000000000000000000080000000e00000000000000000000000c0000000300000000000000000000000700000001800000000000000000000001a0000000c00000000000000000000000e00000007000000000000000000000002000000018000000000000000000000060000000080000000000000000000000400000000c00000000000000000000006000000006000000000000000000000060000000020000000000000000000000c0000000030000000000000000000001800000b8018000000000000000000002000001ee0080000000000000000000060000030000c0000000000000000000060000060000c00000000000000000000400000c00007c0000000000000000000400000800002f0000000000000000000400000800000180000000000000000006000018000000c0000000000000000006030008000000400000000000000000030380180000006000000000000000000186c00800000060000000000000000000fc400c000000200000000000000000002030040000006000000000000000000000185600000040000000000000000000000dfe00000040000000000000000000000700000000c000000000000000000000040000000180000000000000000000000c0000060700000000000000000000000c00003ffc000000000000000000000018000030a00000000000000000000000080000100000000000000000000000000c000060000000000000000000000000070001c000000000000000000000000003fb7f00000000000000000000000000002fe80000000000000000000000000000000000000000000000"},bunny:{name:"bunny",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000002000078000000000000000000000000078000f800000000000000000000000007c000f800000000000000000000000007c001f800000000000000000000000007e0019800000000000000000000000006700318000000000000000000000000063007180000000000000000000000000610061800000000000000000000000006180c1800000000000000000000000004080c18000000000000000000000000040c1c18000000000000000000000000040c1818000000000000000000000000060c1830000000000000000000000000060c1030000000000000000000000000060c1030000000000000000000000000020c1060000000000000000000000000030c1060000000000000000000000000030410e0000000000000000000000000019ffcc000000000000000000000000003ffffc000000000000000000000000007f007e00000000000000000000000001e0000780000000000000000000000007c00001c000000000000000000000000f0000006000000000000000000000001e00000030000000000000000000000038000000180000000000000000000000700000000c000000000000000000000060000000060000000000000000000000c0000000060000000000000000000001c000000003000000000000000000000180000000030000000000000000000003800000000180000000000000000000038000000001800000000000000000000700007f8001c0000000000000000000070001f9c000c000000000000000000007000700e000c00000000000000000000f000e007800c00000000000000000000e001c003800c00000000000000000000e0030001800c00000000000000000000e0030000c00c00000000000000000000e0070000c00c00000000000000000000e0060000c00c00000000000000000000e0040001c00c00000000000000000000e00c0000c00c0000000000000000000070080000401c0000000000000000000070080000c01c00000000000000000000700c0000c01c00000000000000000000380e0000c0380000000000000000000038060000c0380000000000000000000018040000c030030000000000200000001c0400008070038006000000600000004e060000806006fc1e00000070007e1c7e07000180f88cfdfc000000d00067ffdf03800701fbf80f9c0000025801f03083c3800603fe40001fe00003cf0fc00001e1800c0f900000007e003ec7fc0000007fc0383e000000000600f800000000001ff0fbf8000000000000000000000000001fff80000000000000000000000000000000000000000000000000000000000000000000000000000"},rooster:{name:"rooster",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000bc000000000000000000000000000000fc000000000000000000000000000001fc000000000000000000000000000001f8000000000000000000000000000003fc000000000000000000000000000003ff000000000000000000000000000003ff800000000000000000000000000007ffc00000000000000000000000000007ffe00000000000000000000000000000fff00000000030000000000000000000fff800000000fe000000000000000000fff800000003ff000000000000000000fffc00000007fc000000000000000000fffe0000000fe00000000000000000007fff0000001fc00000000000000000003fff8000001ffc0000000000000000003fff800000ffff0000000000000000003fffc00003ffff8000000000000000003fffe00007ffffc000000000000000003ffffe000fffffc000000000000000007fffffc01ffffb0000000000000000007ffffffc3ffff10000000000000000007fffffffffffe18000000000000000003ffffffffffff08000000000000000003ffffffffffff08000000000000000003ffffffffffff08000000000000000001ffffffffffff00000000000000000001fffffffffffe00000000000000000000fffffffffffc00000000000000000000fffffffffffc000000000000000000007fffffffff98000000000000000000003fffffffffb0000000000000000000001ffffffffe00000000000000000000000ffffffffe000000000000000000000007fffffff6000000000000000000000003fffffff0000000000000000000000001fffffff0000000000000000000000000fffffff00000000000000000000000007fffffc00000000000000000000000001fffffc000000000000000000000000007fffec000000000000000000000000001fffc0000000000000000000000000000fffc0000000000000000000000000000ff9800000000000000000000000000007d00000000000000000000000000000078000000000000000000000000000000780000000000000000000000000000007000000000000000000000000000000070000000000000000000000000000000f0000000000000000000000000000000f0000000000000000000000000000000e0000000000000000000000000000000e0000000000000000000000000000017e000000000000000000000000000007ff000000000000000000000000000000ef000000000000000000000000000001fe000000000000000000000000000000fc0000000000000000000000000000038800000000000000000000000000000010000000000000000000000000000000000000000000000000"},genesis:{name:"genesis",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fd8003f600000039e118000bc71c7000318000c00000006c311800086db6d80031e380c6fe38e06c3319cf186db6d80031b6c0c6db6d806ce2186d91cdb6d80031b7c0c6db7de06c3619edb30db6780031b600c6db60606c341b6da30db6180031b3c0c6db3dc039e471eda3e71c700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001ec0000006c00000003006030006000030c0000006c0000000300003000c000030f1cf1ce6ce681cf03cd6f361ce000030d86db1b6db7836d836f6dbc36c000030d9edb1f6db6036d836c6db836c000030db6db186db6036d836c6dbc36c00001ed9ed9cf6ce601cd83cc6db61cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030c00d80030300030000c0000000000030c00180030600030000c0000e71ce78f0f1cd9cdb8739a3c73cd9c018db1b6db0d86db6db066de361b6f3001efb1b6db0d9edb6db066d8367b6e3c006c31b6db0db6db6db066d836db6f0c01c79ce6cf0f1ed9c79863983c7b6db8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003f000000000000000000000000000000ffc03bbbbbbbbb93b3bbb00000000001f3e02aaaaaaaaab2aa22900000000001c0e02aaaaaaaaa93abbb90000000000380702aaaaaaaaa90aaaa90000000000380703bbbbbbbbbbbb3bb97fff000000380700000000000000000140010000003807039bbb9393bbb93bb940010000003fff02a2aa2a32228b22894001000000ffffc3a2bbbb13bbb933b940017f0000ffffc0a2a8aa128a8920894001417c00ffffc39bbbabbbbbbbbbb940014145c0e001c00000000000000001c001c1c76ae001c2bbbbb93ab939399140014145c0e001c2a20a0aa2a28aa2314001417c00e001c3b30bbbb3bbbbba1140017f0000e001c0a20a8aa0aaa2aa114001000000e001c0a20bbab8babab9b94001000000e001c000000000000000014001000000e001c3bb3b933b939bbbb97fff000000e001c08a8a32a2aaa20a210000000000f807c0bb3b133abba33bb10000000000ff3fc0a28a12aaaaa222a100000000007fff80bb3a3b3bab9bbba3000000000007f8000000000000000000000000000001e0000000000000000000000000000000000"},my_bank:{name:"my_bank",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003f000000000000000000000000000000ffc00000000000000000000000000003fff0000000000000000000000000000ffffc000000000000000000000000003fffff00000000000000000000000001ffffffe0000000000000000000000007fffffff800000000000000000000001ffffffffe00000000000000000000007fffffffff8000000000000000000001ffffffffffe000000000000000000007fffffffffff80000000000000000001ffffffffffffe0000000000000000000000000000000000000000000000000000000000000000000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffffffff800000000000000000007fffffffffff800000000000000000007fffffffffff800000000000000000007fffffffffff8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c078781e0007f800780381c070780003c0f87c3e0007fe007803c1c070f80003e0f83c3c0007fe007c03e1c071f00003e1f81e7800071f00fc03e1c073e00003e1f81e7800070f00fe03f1c073c00003f1f80ff000071e01fe03f1c077800003f3f80ff00007fe01ee03f9c07f000003f3f807e00007fe01cf03bdc07f000003fbf807c00007ff03cf039dc07f800003bff803c000070f03ff039fc077c00003bf7803c000070703ff838fc073c000039f7803c000070f07ff838fc071e000039e7803c00007ff0783c387c071f000039e7803c00007fe0f03c383c070f800038e7803c00007fc0f03c383c07078000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},candle:{name:"candle",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000030000000000000000000000000000000380000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003e0000000000000000000000000000003e0000000000000000000000000000007e0000000000000000000000000000007f000000000000000000000000000000ff000000000000000000000000000001ff000000000000000000000000000003ff000000000000000000000000000003ff000000000000000000000000000007ff000000000000000000000000000007ff00000000000000000000000000000ffe00000000000000000000000000000ffe00000000000000000000000000001fbe00000000000000000000000000001fbe00000000000000000000000000001f3e00000000000000000000000000003f3e00000000000000000000000000003e3e00000000000000000000000000003e3f00000000000000000000000000003c3f80000000000000000000000000003c3f80000000000000000000000000003c3fc0000000000000000000000000007c3fc0000000000000000000000000007c3fc0000000000000000000000000007c1fe0000000000000000000000000003c1fe0000000000000000000000000003c0fe0000000000000000000000000003c07e0000000000000000000000000003c07e0000000000000000000000000003c03c0000000000000000000000000001e03c0000000000000000000000000001e01c0000000000000000000000000000e01800000000000000000000000000007018000000000000000000000000000070100000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fe000000000000000000000000000001ff000000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000"},ancap:{name:"ancap",hex:"0000001fffffffffffffffffff8000000000001fffffffffffffffffff0000000000001fffffffffffffffffff0000000000000f0000000ffffffffffe0000000000000780000007fffffffffc0000000000000780000007fffffffffc00000000000003c0000003fffffffff800000000000003e03fffc3fffffffff800000000000001e07fffe1fffffffff000000000000000f07ffff0fff0007ff000000000000000f07800f0ffe0007fe000000000000000787800787fe000ffc000000000000000783c00787fc001ffc0000000000000003c3e003c3fc001ff80000000000000003e1e003e3f8003ff80000000000000001e0f001e1f0003ff00000000000000000f0f000f0f0007ff00000000000000000f07800f0e000ffe0000000000000000078780079e000ffc00000000000000000783c0079e001ffc000000000000000003c3e003fc001ff8000000000000000003e1e003fc003ff8000000000000000001e0f001f8003ff0000000000000000000f0f000f8007ff0000000000000000000f07800f000ffe00000000000000000007878000000ffc0000000000000000000783c000001ffc00000000000000000003c3e000001ff800000000000000000003e1e000003ff800000000000000000001e0f000003ff000000000000000000000f0f000007fe000000000000000000000f0780000ffe00000000000000000000078780000ffc0000000000000000000007c3c0001ffc0000000000000000000003c3e0001ff80000000000000000000001e1e0003ff80000000000000000000001e0f0003ff00000000000000000000000f0f0007fe00000000000000000000000f07800ffe00000000000000000000000787800ffc000000000000000000000007c3c01ffc000000000000000000000003c3e01ff8000000000000000000000001e1e03ff8000000000000000000000001e0f03ff0000000000000000000000000f0f07fe0000000000000000000000000f078ffe00000000000000000000000007878ffc00000000000000000000000007c3dffc00000000000000000000000003c3fff800000000000000000000000001e1fff800000000000000000000000001e0fff000000000000000000000000000f0ffe000000000000000000000000000f0ffe00000000000000000000000000078ffc0000000000000000000000000007cffc0000000000000000000000000003cff80000000000000000000000000001eff80000000000000000000000000001eff00000000000000000000000000000ffe00000000000000000000000000000ffe000000000000000000000000000007fc000000000000000000000000000007fc000000000000000000000000000003f8000000000000000000000000000001f800000000000000"},anonymous:{name:"anonymous",hex:"000000001f0000fffc0003e000000000000000001e30007ff80071e000000000000000001cf0003ff0007ce0000000000000000019fe001fe001fee000000000000000003bff801fc08fffe000000000000000003fffe01fc01fffe000000000000000003ffff11fe03fffe000000000000000003ffff83ff87fffe000000000000000003ffffc3ff0ffffe000000000000000003ffffe3fe1fffff000000000000000003ff07e1fe3f03ff000000000000000003fc01f0fe7c00ff000000000000000003f00070fff8003f000000000000000003e00010ffc0003f000000000000000003800000ffc0000f000000000000000003000000ffc00000000000000000000003800010ffe0007c0000000000000000038007f07fffffff0000000000000000033ffff0ffffffff000000000000000003fffff0ffffffff000000000000000003fffff0ffffffff000000000000000003fffff0ffffffff000000000000000001ffffe0ffffffff000000000000000000fffff0fffffffe000000000000000000fffff0fffffffe0000000000000000007fffe0fffffffe0000000000000000007fffe0fffffffc0000000000000000003fffc0fffffff80000000000000000011fff80ff3ffff000000000000000000187e100ff1fffe0000000000000000000800200ffce000800000000000000000081fe10ffef0008000000000000000000c8fe31ffeff80800000000000000000048ff31fffff888000000000000000000643fa1fffff090000000000000000000241ff1ffffe110000000000000000000320ff9fdffc1200000000000000000001803f8f8ff822000000000000000000019006000fe06600000000000000000000c800000380c400000000000000000000e4000200018c000000000000000000006300070003180000000000000000000031800f8006180000000000000000000038f00f801c3000000000000000000000187fe001fe60000000000000000000001c3ff83ffe60000000000000000000000c07fffffcc0000000000000000000000e03fffff9c00000000000000000000006183ffff98000000000000000000000031f001ff30000000000000000000000031fe01fe60000000000000000000000019fe03fe60000000000000000000000019ff03fcc000000000000000000000000cff07fdc0000000000000000000000004fe07ff80000000000000000000000007fe03ff00000000000000000000000003fc03ff00000000000000000000000001fc01fe00000000000000000000000000fc01fc000000000000000000000000007c03f8000000000000000000000000007e03f8000000000000000000000000003e03f0000000000000000000000000003e07e0000000000000000000000000001e07c00000000000000"},mushroom:{name:"mushroom",hex:"00000000000000000000000000000000000000000000007ff40000000000000000000000000007ffffc00000000000000000000000003ffffff8000000000000000000000000ffffffff000000000000000000000003fffe007fc0000000000000000000000ffff8001ff0000000000000000000001ffff0000ffc000000000000000000003f87f00007fe000000000000000000007f07f00007ff00000000000000000000fe07f8000fff80000000000000000001fe1ffc003fffc0000000000000000003ffbfffabffffe0000000000000000007fffffffffffff000000000000000000ffffe3ffffffff800000000000000001ffff01ffffffffc00000000000000003fffc01ffffffffc00000000000000003fff801fffff07fc00000000000000007fff003fffff01fe00000000000000007fff007fffff00ff0000000000000000ff3f83ffffff807f0000000000000000fc3fffffffffc07f0000000000000000f83ffffffffffaff8000000000000001f03fffffffffffff8000000000000001f03fffffffffffff8000000000000001f07fffffffffffffc000000000000001f0ffffffffffffffc000000000000001f1ffffd557ffffffc000000000000001fffffaaaaabfffff8000000000000000ffffd5555555ffff8000000000000000fffeaa8808aaafff00000000000000007fd550000011555c00000000000000000aaa0000000022a800000000000000000000000000000000000000000000000000000002aa00000000000000000000000000055555500000000000000000000000000aaaaaa8000000000000000000000000055555500000000000000000000000000aaaaaa8000000000000000000000000055555500000000000000000000000000aaaaaa8000000000000000000000000055555500000000000000000000000000aaaaaa80000000000000000000000001ffffffc0000000000000000000000001ffffffc0000000000000000000000001ffffffc0000000000000000000000001ffffffe0000000000000000000000001ffffffe0000000000000000000000003ffffffe0000000000000000000000003ffffffe0000000000000000000000003ffffffe0000000000000000000000003fffffff0000000000000000000000003fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000003ffffffe0000000000000000000000001ffffffc00000000000000000000000007fffff000000000000000000000000001ffffc0000000000000000000000000003fff800000000000000000000000000007f400000000000000"},invader:{name:"invader",hex:"0000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc00000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc00000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc0000000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc000000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc00000000000000000000000000000000000000000000000000000000000000000000000000"},mtgox:{name:"mtgox",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007f800000000000000000000000000003ffc0000000000000000000000000000fffc0000000000000000000000000003c1fe000000000000000000000000000e00fe000000000000000000000000001800fe000000000000000000000000007000fc00000000000000000000000000c000fc000000000000000000000000030001fc000000000000000000000000060001f8000000000000000000000000080001f8000000000000000000000000000003f8000000000000000000000000000003f0000000000000000000000000000007f0000000000000000000000000000007e000000000000000000000000000000fc000000000000000000000000000001fc000000000000000000000000000003f8000000000000000000000000000003f0000000000000000000000000000007f000000000000000000000000000000fe00028000a2aaaa81ffff01fffe0ff1fc0005400155555543ffff87ffff07f9fc0002a002a2aaaa87ffffcfffff87fff8000540055555550fffffcfffffc3fff0000aa00aa002800f00001f0007c1ffe0000550155005000f00001e0007c1ffc0000aa82aa002800f00001e000780ffc0000554154005001f0fffde0007807f80000a2828a00a801e0fffde000780ffc0000514514005001e1fffde000781ffc0000a2aa0a00a001e1fffbe000783ffe0001415414005001e0007bc000787fff0000a0a80a00a001e0007bc000f8ffff0001405414005001f000fbe001f1fe7f8000a0282800a2a1fffff3fffff3fc3f8001405014005141fffff1ffffe7f81fc000a0202800a2a0ffffe0ffffcff01fe0014000140141403fff847fff1fe00fe000000000000000000008000000000000000000000000000000100000000000000000000000000000000000aaaa8000000000000000000000001000555500000000000000000000000020002aaa0000000000000000000000004000155400000000000000000000000000002aa8000000000000000000000000400155500000000000000000000000008002aaa000000000000000000000000140055540000000000000000000000000a02aaa8000000000000000000000000151555100000000000000000000000000aaaa800000000000000000000000000155550000000000000000000000000000aaa8000000000000000000000000000155500000000000000000000000000000aa800000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},electrum:{name:"electrum",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000fe00000000000000000000000000001ffff0000000000000000000000000007ffffc00000000000000000000000003ffffff00000000000000000000000007ffffffc000000000000000000000001ffffffff000000000000000000000003e07ffc0f80000000000000000000000f801ff003e0000000000000000000001f0f07c1e1f0000000000000000000003f3fc38ff9f8000000000000000000007e3ff01ff8fc000000000000000000007e7ffc7ffcfe00000000000000000000fe7ff83ffc7e00000000000000000001fc7ff11ffe7f00000000000000000003fcffe38ffe7f80000000000000000003fcffc7c7fe7f80000000000000000007fcff8fe3fe7fc0000000000000000007fcff8001fe7fc000000000000000000ffc7000000e7fe000000000000000000ffc000fe0007fe000000000000000001ffc067ffc403ff000000000000000001ff07cfffe7c0ff000000000000000001fc078ffff3c87f000000000000000001f8e79f97f1ce1f000000000000000003f1e33f97f98f8f800000000000000003e7f33e01f89fc7800000000000000003c7f27e00fc9fe7800000000000000003cff07f187c1ff38000000000000000039ff8ff1cfe3ff38000000000000000039ff8ff18fe3ff38000000000000000039ff8ff007e3ff38000000000000000039ff8ff1c7e3ff3800000000000000003cff87f1e7c1fe7800000000000000003cff23f1c7c9fe7800000000000000003e7f33e00f89fcf800000000000000003f1f31f97f9cf1f800000000000000001f8e79f97f1ce3f000000000000000001fc278ff7e3c87f000000000000000001ff07c7ffe7c1ff000000000000000001ffc067ffc407ff000000000000000000ffe000fe0007fe000000000000000000ffe7800003e7fe0000000000000000007fcff8ee1fe7fc0000000000000000007fcffcfe3fe7fc0000000000000000003feffc7c7fe7f80000000000000000003feffe38ffe7f80000000000000000001fe7ff11ffe7f00000000000000000000fe7ff83ffefe00000000000000000000fe7ffc3ffcfe000000000000000000007f3ff01ffcfc000000000000000000003f3fe387f9f8000000000000000000001f8f07e0e3f0000000000000000000000fc01ff007e00000000000000000000003f0fffe1fc00000000000000000000001ffffffff000000000000000000000000fffffffe0000000000000000000000003ffffff800000000000000000000000007ffffc000000000000000000000000001ffff00000000000000000000000000000fe0000000000000000000000000000000000000000000000000000000000000000000000000000000"},mycelium:{name:"mycelium",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000fffe0000000000000000000000000003f7df800000000000000000000000001f07c1f00000000000000000000000007807c03c000000000000000000000001c007c0070000000000000000000000030007c00180000000000000000000000e0007c000e0000000000000000000001c0007c0007000000000000000000000300007c0001800000000000000000000600007c0000c00000000000000000000c0000fe000060000000000000000000180000fe000030000000000000000000180003ff800030000000000000000000300007ffc0001800000000000000000060001ffff0000c00000000000000000040007ffffc0004000000000000000000c000ff01fe0006000000000000000000807ffc007ffc0200000000000000000180fff8003ffe0300000000000000000181ffe0000fff0300000000000000000101cf800003e70100000000000000000301c7800003c70180000000000000000201ffc00007ff0180000000000000000200fff0001fff00c0000000000000000600fff8003ffe00c00000000000000006007ffe00fffc00c00000000000000006003cff83fe7c00c00000000000000004003c3ffff87c00400000000000000004003c0fffe07c00400000000000000004003c07ffc07c00400000000000000004003c01ff007c00400000000000000004003c00fe007c00400000000000000004003c007e007c00400000000000000004003c007c007c00400000000000000006003c007c007c00c00000000000000006003c007c007c00c00000000000000006007c007c007c00c00000000000000002007c007c007c00c0000000000000000200fe007c00fe0180000000000000000300fe007c01ff0180000000000000000103ff807c03ff8180000000000000000107ffe07c0fffe30000000000000000019ffff07c3ffffb000000000000000000ff83fc7c7fc7fe000000000000000000fe00ff7dff01fe0000000000000000007c007ffffc007e00000000000000000070001ffff0001c000000000000000000300007ffe00018000000000000000000100001e7800030000000000000000000180001e70000300000000000000000000c0001ff000060000000000000000000060000fe0000c0000000000000000000030000fe0001800000000000000000000180003800070000000000000000000000e00000000e0000000000000000000000300000001800000000000000000000001c00000070000000000000000000000007800003e0000000000000000000000001e0001f000000000000000000000000003f01fc000000000000000000000000000fffe0000000000000000000000000000000000000000000000"},ethereum:{name:"ethereum",hex:"0000000000000000000000000000000000000000000000030000000000000000000000000000000280000000000000000000000000000007000000000000000000000000000000068000000000000000000000000000000f4000000000000000000000000000001ea000000000000000000000000000001f5000000000000000000000000000003ea000000000000000000000000000003f5000000000000000000000000000007ea80000000000000000000000000000ff540000000000000000000000000000feaa0000000000000000000000000001ff540000000000000000000000000001feaa0000000000000000000000000003ff550000000000000000000000000007feaa8000000000000000000000000007ff55400000000000000000000000000ffeaa800000000000000000000000000fff55400000000000000000000000001ffeaaa00000000000000000000000003fff55500000000000000000000000003ffeaaa80000000000000000000000007ffc55500000000000000000000000007ffa2aa8000000000000000000000000ffd40554000000000000000000000001ffaa00aa000000000000000000000001fd540055000000000000000000000003eaaa000a000000000000000000000003d5540005000000000000000000000006aaaa000080000000000000000000000d55540000000000000000000000000002aaaa0000000000000000000000000001555400000000000000000000000000002aaa0000000000000000000000000000155400000000000000000000000000040aaa00008000000000000000000000030154000100000000000000000000000380aa0002000000000000000000000001e0540015000000000000000000000000f80a002a000000000000000000000000fe0400540000000000000000000000007f0202a80000000000000000000000003fc005500000000000000000000000001ff00aa00000000000000000000000001ff855400000000000000000000000000ffeaaa000000000000000000000000007ff554000000000000000000000000007feaa8000000000000000000000000003ff550000000000000000000000000001feaa0000000000000000000000000000ff540000000000000000000000000000fea800000000000000000000000000007f5400000000000000000000000000003ea800000000000000000000000000003f5000000000000000000000000000001ea000000000000000000000000000000f4000000000000000000000000000000680000000000000000000000000000007000000000000000000000000000000028000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000"},litecoin:{name:"litecoin",hex:"00000000000000aaaa00000000000000000000000000057fff400000000000000000000000000fffffe80000000000000000000000005ffffff4000000000000000000000000fffffffa000000000000000000000005ff8001ff40000000000000000000000bfc00003fa00000000000000000000017f000011fd0000000000000000000003fc0000aa3f8000000000000000000007f00000171fc00000000000000000000fe000000fcfe000000000000000000017c001ff9707d00000000000000000002f8222aa8803e80000000000000000001f5403558001f40000000000000000003e2882ab8000f80000000000000000007c51075500007c000000000000000000fc8206ab00033a00000000000000000079040557001fbd000000000000000000f80806ee002f9e000000000000000001f0100dfe015fdf000000000000000002f0200ffe0abfef800000000000000001e0404ffe1557cf400000000000000003e0808ffc0aae0f800000000000000001e0151ffc055807400000000000000003e02a1ffcc2a007800000000000000007c5541fffc50007c00000000000000003caaa3fffc80007800000000000000007dd553fff800007c00000000000000003daaa3fff00000ba00000000000000007dd503ffc000073c00000000000000003ce80fff00002fba00000000000000007dd03fff0000573c00000000000000003d807fff0002abba00000000000000007c007ffe0005577c00000000000000003c007ffe008aaafa00000000000000007c008ffe0115547c00000000000000003e000ffe0222a07800000000000000005e010ffc0000007400000000000000003e0a9ffc000000f800000000000000001e151fffffff00f000000000000000002f7a9fffffff00f800000000000000001f7d1fffff5601f000000000000000000fbebfffeaaa01e80000000000000000179d3ffdd55603d000000000000000000bda3fffaaaa3be0000000000000000007c03ffffffc77c0000000000000000003e000000000ef80000000000000000001f0000000005f40000000000000000002f800a22022be800000000000000000017c055440457f00000000000000000000be3eaa8088fe000000000000000000005f3d550111fc000000000000000000002f8aa80003f80000000000000000000017e540000ff0000000000000000000000bf800003fa00000000000000000000005ff0001ff400000000000000000000002bff83ffe8000000000000000000000005ffffff40000000000000000000000002fffffe8000000000000000000000000057ffd5000000000000000000000000000aaaa00000000000000000000000000000550000000000000000000000000000000000000000000000000000000000000000000000000000000"},myetherwallet:{name:"myetherwallet",hex:"000000000000007ffe0000000000000000000000000007d555e00000000000000000000000001aaaaab800000000000000000000000075455556000000000000000000000001aab2aaab800000000000000000000006557d555540000000000000000000000eaa7aaaaab0000000000000000000001f557d555558000000000000000000003b2abcaaaaac000000000000000000007354cd55555600000000000000000000f2a9ceaaaaab0000000000000000000175958001555580000000000000000002ebcb3ffcaaaac0000000000000000002e4d2ffff155540000000000000000006caeaffffcaaaa000000000000000000dd4f77ffff55550000000000000000009aa66bffffaaab0000000000000000013957e3ffffd555800000000000000001aaabc9ffffeaaa8000000000000000035553d5fffff55540000000000000000272abcafffffaaac0000000000000000365535501fff955400000000000000006eaa7eaaa7ffcaaa00000000000000004e55665541ffd55600000000000000005ca8672abaffeaaa0000000000000000dd572755797fe5560000000000000000baa7caaa9c7feaaa0000000000000000b94ff3955d3ff5550000000000000000baaffdaaaebff2ab0000000000000000f54ffdd0003ff5550000000000000000f2aff9c7fffff2ab0000000000000000e54ff8e1fffff55100000000000000008aaffaa83ffff2a70000000000000000d54ff9744ffff54f0000000000000000aaaffc7283fff2af0000000000000000d54ffd75507ff55d0000000000000000aaaffebaaa9fea9f0000000000000000d557fe395507e55a00000000000000006aa7ff1caac8eaaa00000000000000005557ff9d54f1153a00000000000000006aabffccaa6e2a7200000000000000005553fff0157e557400000000000000002aa9ffffeabcaaec00000000000000003154ffffe53d54e40000000000000000122afffff2bcaac8000000000000000014547ffff57555d800000000000000000aaa3ffffa7ea9d0000000000000000009110ffff96653900000000000000000062287fffca6aba00000000000000000045541fffed7534000000000000000000288a87ffecb2740000000000000000001151407e1939780000000000000000000a2228001a9ab000000000000000000004445500795ce0000000000000000000068aaaa7329cc000000000000000000001111153f54d8000000000000000000000a222abeaab0000000000000000000000445555e55600000000000000000000003888a9caa800000000000000000000000d1554d57000000000000000000000000322222bc0000000000000000000000000e4455e000000000000000000000000001fabf000000000000000000000000000007e000000000000000"},zcash:{name:"zcash",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007f80000000000000000000000000000ffffc000000000000000000000000003fffff80000000000000000000000000ffffffe0000000000000000000000003fffffff800000000000000000000000ffffffffc00000000000000000000001fffffffff00000000000000000000003ffe001fff80000000000000000000007ff00003ffc000000000000000000000ffc00000ffe000000000000000000001ff803f003ff000000000000000000003fe003f001ff000000000000000000007fc003f000ff800000000000000000007f8003f0007fc0000000000000000000ff0003f0003fc0000000000000000000fe01fffff01fe0000000000000000001fe01fffff00ff0000000000000000001fc01fffff007f0000000000000000003f881fffff007f0000000000000000003f801fffff003f8000000000000000003f201ffffe003f801f800e001f80e01c7f401ffffe003f807fe00f007fe0e01c7f008003fc001fc0fff01f00fff0e01c7f010007f8001fc1e0f01f00f070e01c7e02000ff8001fc1e0703f81e078e01cfe04001ff0001fc1c0703b81e078e01cfe88083fe0001fc3c0783b80f000e01cfe10103fc0000fc3c00079c0fc00e01cfe20207fc0000fc3c00071c07f00fffcfe4040ff80000fc3c00071e03fc0fffcfe8880ff00001fc3c000f0e007e0fffcfe1101fe00001fc3c000e0e001f0e01cfe2223fe00001fc3c078fff00078e01c7e4407fc00001fc1c071fff1c078e01c7f0887f800001fc1e071c071c078e01c7f510ff777003f81e0f3c079e070e01c7f2a1fffff003f80ffe38038fff0e01c3f943fffff003f807fc380387fe0e01c3faabfffff007f001f87803c1f80e01c1fd53fffff007f0000000000000000001fcabfffff00ff0000000000000000000fe53fffff01fe0000000000000000000ff2803f0081fe00000000000000000007f9553f1003fc00000000000000000003fcaa3f2007fc00000000000000000003fe443f400ff800000000000000000001ff2abf003ff000000000000000000000ffc100007fe0000000000000000000007ff2a221ffc0000000000000000000003ffc000fff80000000000000000000001fffe1ffff00000000000000000000000ffffffffe000000000000000000000003fffffff8000000000000000000000001fffffff00000000000000000000000003fffffc00000000000000000000000000fffff0000000000000000000000000000fff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},dash:{name:"dash",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffc03fffff00ffffff8fe000fe007fffffe07fffff81ffffff8fe000fe00ffffffe1ffffff83ffffff1fc001fc00ffffffe1ffffff87ffffff1fc001fc00ffffffe3ffffff8fffffff1fc001fc0000000fe3f8003f8fe000003f8003f80000001fc7f8003f8fe000003f8003f80fff001fc7f0007f1fffffe03ffffff81ffe001fc7f0007f1ffffff07ffffff81ffe003f87f1ffff1ffffff87ffffff01ffe003f8fe1fffe0ffffff87ffffff03ffe003f8fe1fffe07fffff8fffffff00000007f0fe3fffe000003f8fe000fe00000007f1fc3fffc000007f8fe000fe007ffffff1fc001fc7ffffff1fc001fe00ffffffe1fc001fc7ffffff1fc001fc00ffffffe3f8003f8ffffffe1fc001fc00ffffffc3f8003f8ffffffc3fc003fc01ffffff03f8003f8ffffff83f8003f800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},bitcoin_cash:{name:"bitcoin_cash",hex:"00003ffff00ffffffffff00ffffc000000003ffff01ffffffffff80ffffc000000003fffe03ffffffffffc07fffc000000003fffc03ffff1fffffc03fffc000000003fffc07ffe30fffffe03fffc000000003fff80fffe38ffffff01fffc000000003fff80fffe38ffffff01fffc000000003fff01fffe3803ffff80fffc000000003fff03ffff0000ffffc0fffc000000003fff03ffff0000ffffc0fffc000000003ffe03fff000007fffc07ffc000000003ffe07ffc003c07fffe07ffc000000003ffe07ffc00fe03fffe07ffc000000003ffc07ffc00ff07fffe03ffc000000003ffc0ffffe0ff07ffff03ffc000000003ffc0ffffe07e07ffff03ffc000000003ffc0ffffe07c0fffff03ffc000000003ffc0ffffe07801ffff03ffc000000003ffc0fffff00000ffff03ffc000000003ffc0fffff000007fff03ffc000000003ffc0fffff003c07fff03ffc000000003ffc0fffff03fe03fff03ffc000000003ffc0fffff83ff03fff03ffc000000003ffc0fffff81ff03fff03ffc000000003ffc0fffff81fe03fff03ffc000000003ffc0fffff81fe07fff03ffc000000003ffc0fffffc1f807fff03ffc000000003ffc07ffffc0e00fffe03ffc000000003ffe07ffffc0001fffe07ffc000000003ffe07ffffc0007fffe07ffc000000003ffe03fffe0003ffffc07ffc000000003fff03fffe0023ffffc0fffc000000003fff03fffe0061ffffc0fffc000000003fff01fffe3c71ffff80fffc000000003fff80fffffc71ffff01fffc000000003fff80fffffc71ffff01fffc000000003fffc07ffffe3ffffe03fffc000000003fffc07ffffffffffc03fffc000000003fffe03ffffffffffc07fffc000000003fffe01ffffffffff807fffc000000003ffff00ffffffffff00ffffc000000003ffff807ffffffffe01ffffc000000003ffffc03ffffffffc03ffffc000000003ffffe00ffffffff007ffffc000000003fffff007ffffffe00fffffc000000003fffff801ffffff801fffffc000000003fffffc007ffffe003fffffc000000003fffffe000ffff0007fffffc000000003ffffff0000ff0000ffffffc00000000000000000000000000000000000000000000000000000000000000000000000000038000001c000000000e00000000001fe39800001c001fe0000e00000000001ff198000018003fc0000e00000000001c7818000000007840000e00000000001c3b9f1f3f1dfc700fc7eff0000000001c739f3f7f9dfe700fe7eff0000000001ff39878739dcee000ee0e78000000001ffb9870e1ddc6e0036f0e38000000001c3b9870e1ddc6700fe7ce38000000001c3b9870e1ddc6701c61ee38000000001c3b987071ddc6781c606e38000000001ffb9fff7f9dc63fffefee38000000001ff39fbf3f1dc61fefefee380000"},bitcoin_gold:{name:"bitcoin_gold",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fc000000000000000000000000000000ff80000000000000000000000000000007e00000000000000000000000000000fcf80000000000000000000000000000ff1e0000000000000000000000000000ffe78000000000000000000000000000fff9c000000000000000000000000000fffce000000000000000000000000000ffff7000000000000000000000000000ffffb800000000000000000000000000ffffdc00000000000000000000000000ffffee00000000000000000000000000c7fff700000000000000000000000000fdfffb00000000000000000000000000ff7ffb80000000000000000000000000f7bffd80000000000000000000000000f1dffec0000000000000000000000000f0fffec0000000000000000000000000fe37ffe0000000000000000000000000ffbbff60000000000000000000000000ffddff60000000000000000000000000ffcdfff00000000000000000000000001fceffb00000000000000000000000000fc6ffb3f1ffe7e1f8770e1f81f8f1fc0fc3ffb3f9ffeff3fc778e3fc7fcf1ff0fc37ff3f9fffff7fe77ce7fe7fef1ff7fc37ff3b9c71e3f0f77cef0cf1ef1e7ff837fd3f9c73c0e0f77eee00e0ef1e3ffc37fd3f9c73c0e0777fee7fe0ff1e3ffe37fd3fdc73c0e07777ee7ee0ff1e3fff37fd39dc73c0e0f777ee7ee0ef1e307f37ff39dc71e3f0f773ef0ef1ef1e707f37ff3fdc71ff7fe771e7fe7feffff07f3ffb3fdc70ff3fc771e7fc7fcffff07f6ffb3f9c707e1f8770e1f01f0fffc1ffeffb0000000000000000000000000ffedfff0000000000000000000000000fffdff60000000000000000000000000ffbbff60000000000000000000000000fe77ffe0000000000000000000000000f0effec0000000000000000000000000f1dfffc0000000000000000000000000e7bffd80000000000000000000000000ff7ffb80000000000000000000000000f9fffb0000000000000000000000000087fff600000000000000000000000000ffffee00000000000000000000000000ffffdc00000000000000000000000000ffffb800000000000000000000000000ffff7000000000000000000000000000fffce000000000000000000000000000fffbc000000000000000000000000000ffe78000000000000000000000000000ff1e0000000000000000000000000000f878000000000000000000000000000003e00000000000000000000000000000ff800000000000000000000000000000fc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},vertcoin:{name:"vertcoin",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003ff00000000000000000000000000003ffff000000000000000000000000001fffffc00000000000000000000000003ffffff0000000000000000000000000fffffff8000000000000000000000003fffffffe000000000000000000000007ffffffff00000000000000000000000fffffffff80000000000000000000001fffffffff00000000000000000000003fffffffff00000000000000000000007ffffffffe00000000000000000000007ffffffffc0000000000000000000000fffffffffc0000000000000000000001fffffffff80000000000000000000001fffffffff00000000000000000000003ffffffffe00200000000000000000003ffffffffe00200000000000000000007ffffffffc00700000000000000000007ffffffff800f00000000000000000007ffffffff801f80000000000006000007ffffffff001f8000000000000600000ffffffffe003f8000004000000000000ffffffffe007f8000004000000000000ffffffffc007f81e049f83c1e0613c00ffffffff800ff83f05df8fc3f0e1fe00fe000fff001ffc61860408061821c200fc0007ff003ffc40840418040c218200f80003fe003ffc40840410040c218300ffe001fc007ffcff840410040c218300fff001fc00fff8c0040410040c218300fff800f800fff840040418040c218300fff8007001fff8600404180608218300fffc003003fff83084040c03182183007ffe002007fff81f840787e1f02183007fff000007fff80000000000000000007fff00000ffff00000000000000000003fff80001ffff00000000000000000003fffc0001fffe00000000000000000003fffe0003fffe00000000000000000001fffe0007fffc00000000000000000000ffff0007fffc00000000000000000000ffff800ffff8000000000000000000007fffc01ffff8000000000000000000003fffc03ffff0000000000000000000003fffe03fffe0000000000000000000001ffff07fffc0000000000000000000000ffff8ffff800000000000000000000007fffdffff000000000000000000000001fffffffe000000000000000000000000fffffff80000000000000000000000003fffffe00000000000000000000000000fffff8000000000000000000000000001fffe00000000000000000000000000001fe0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},namecoin:{name:"namecoin",hex:"00000000000000000000000000000000000000000000000ff00000000000000000000000000000ffff0000000000000000000000000003ffffc00000000000000000000000000ffffff00000000000000000000000001ffffff80000000000000000000000007ffffffe000000000000000000000000ffffffff000000000000000000000001ffffffff800000000000000000000003ffffffffc00000000000000000000007ffffffffe00000000000000000000007ffffffffe0000000000000000000000fff87fff1f0000000000000000000000fff07ffc3f0000000000000000000001ffe03ffc3f8000000000000000000001ffe01ff83f8000000000000000000003ffe11ff87fc000000000000000000003ffc18ff87fc000000000000000000003ffc187f07fc000000000000000000007ffc1c3f07fe000000000000000000007ffc0e3f0ffe000000000000000000007ff8061f0ffe000000000000000000007ff8070e0ffe000000000000000000007ff843860ffe000000000000000000007ff061c61ffe000000000000000000007ff071c21ffe000000000000000000007ff0f8e01ffe000000000000000000007ff0f8701ffe000000000000000000007fe0fc383ffe000000000000000000003fe0fe383ffc000000000000000000003fe1fe183ffc000000000000000000003fe1ff087ffc000000000000000000003fc1ff807ffc000000000000000000001fc1ffc07ff8000000000000000000001fc3ffc0fff8000000000000000000000f87ffe1fff0000000000000000000000fffffffffe00000000000000000000007ffffffffe00000000000000000000003ffffffffc00000000000000000000001ffffffff800000000000000000000000ffffffff0000000000000000000000007ffffffe0000000000000000000000003ffffffc0000000000000000000000001ffffff800000000000000000000000007ffffe000000000000000000000000001ffff80000000000000000000000000003ffc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000001c0000000000000000000000000000001800000000000000000000000000000000000000000000000fc1fcfff0f87e7e39fc0000000000001fe3f8fff1fcfefe39fc0000000000001ce739ce738de1e7399c0000000000001cee39ce731dc1c7738c00000000000018ee39ce77f9c1c7739c00000000000038ee31ce77f1c187739c00000000000039ce738e7701c18e731c00000000000039cff39c63f1f9fe671c00000000000039c7f39ce3f1f9fce73800000000000031c3e39ce1f07870e73800000000000000000000000000000000000000"},monacoin:{name:"monacoin",hex:"00000000002000000000040000000000000000000030000000000c0000000000000000000030000000000c0000000000000000000038000000001c000000000000000000003c000000003c000000000000000000007c000000003e000000000000000000007e000000007e000000000000000000007f00000000fe000000000000000000007f00000000fe00000000000000000000ff80000001ff00000000000000000000ff80000001ff00000000000000000000ffc0000003ff00000000000000000000ffe0000007ff00000000000000000001ffe0000007ff80000000000000000001fff07ffe0fff80000000000000000001ffffffffffff80000000000000000001ffffffffffff80000000000000000001ffffffffffff80000000000000000003ffffffffffffc0000000000000000003ffffffffffffc0000000000000000003ffffffffffffc0000000000000000003ffffffffffffc0000000000000000007ffffffffffffe000000000000000000ffffffffffffff000000000000000001ffffffffffffff800000000000000003ffffffffffffffc00000000000000007fff1ffffff8fffe00000000000000007ffe3ffffffc7ffe0000000000000000fffc7ffffffe3fff0000000000000001fff8ffffffff1fff8000000000000001fff1ffffffff8fff8000000000000003fff3fe7ffe7fc7ffc000000000000003ffe7fe3ffc7fe7ffc000000000000003fffffe3ffc7fffffc000000000000007ffffff0000ffffffe000000000000007ffffff0001ffffffe000000000000007ffffff8001ffffffe000000000000007ffffffcfe3ffffffe000000000000007ffffffc7e3ffffffe000000000000007ffffffe3c7ffffffe000000000000007ffffffe3cfffffffe000000000000007fffffff18fffffffe000000000000007fffffff91fffffffe000000000000003fffffff81fffffffc000000000000003fffffffc3fffffffc000000000000003fffffffc3fffffffc000000000000001fffffffe7fffffff8000000000000001fffffffeffffffff8000000000000000ffffffffffffffff00000000000000007fffffffffffffff00000000000000007ffffffffffffffe00000000000000003ffffffffffffffc00000000000000001ffffffffffffff800000000000000000ffffffffffffff0000000000000000007ffffffffffffe0000000000000000001ffffffffffff80000000000000000000ffffffffffff000000000000000000003ffffffffffc000000000000000000000ffffffffff00000000000000000000003ffffffffc00000000000000000000000ffffffff0000000000000000000000000ffffff000000000000000000000000000ffff0000000000000000000000000000000000000000000000"},doge:{name:"doge",hex:"000000000000023c0000000000000000000000000000027c0000000000000000000000000000023a0000000000000000000000000000031a0000000000000000000000000000023e0000000000000000000000000000020d00000000000000000000000000000204800000000000000000000000000002168000000000000000000000000000020b40000000000000000000000000000405800000000000000000000000000004c8d000000000000000000000000000057f25580000000000000000000000001afbcfe200000000000000001600000075757ffd000000000000000021800001aaefaffe400000000000000041e0001d5557f7ff2000000000000000027c01ceaabffaffd000000000000000411a0e755577ff7fe8000000000000004288d8aa889befffe80000000000000041552555415fdffdf40000000000000042a286aaba15ff1bfa00000000000000401541555c45f86ff5200000000000004002808aae2a6cf6fd200000000000004010815ddd9559177e40000000000000200080abbb83ac17ff40000000000000200045455f44f217ffc010000000000020062aeafee0ff8fffe0f0000000000010050555fdfc7ffffff1c00000000000100302aaabfbbbffffff0000000000001000c55557ffdfffbffc00000000000008002aaaafeebfeffffc000000000000040013d558e1fffe07fcfc000000000004202baab20bbffc07ffa000000000000244475567c17ff003ff000000000000020a4eaac8e4bfe001fefe000000000001441dd580e0ffc001ff80000000000002a0bbaa80ecffc000ff7e0000000000037577778097ffc0007f8700000000000286eeebe06fffc0007ff8000000000003015ddddfddffe4003f8c000000000002823bbeaaabffe2003f800000000000036374ff554dfffc007fc000000000000282ebffeabffffc007fc0000000000003655fffffffffd6007fc0000000000002a27ffffffffbfe007fc0000000000002547fffffffcfd6003fc0000000000001aaffffffffcdfa087fc000000000000111ffffffffd576107fc00000000000012a7fffffffeaba00ffc0000000000000557fffffffe55c00ffc0000000000000e8ffffffffeaba01ffc0000000000000d57fffffffffc401ffc0000000000000aa3ffffffff00083ffe0000000000000d43fffffffe000d7ff60000000000000aa7ffffffff00bafff70000000000000943ffffffff0157fff78000000000000aa3ffffffffc2affff7c000000000000b45ffffffffffffffd78000000000000aa9ffffffffffefffafc000000000000150ffffffffffffffd7c000000000000aaa7fffffffffffff3fe0000000000007543fffffffffffff77f0000000000006a89fffffffffffffaff0000000000005140fffffffffffff5ff000000"},digibyte:{name:"digibyte",hex:"0000000000000003c000000000000000000000000000007ffe0000000000000000000000000001ffff8000000000000000000000000007ffffe00000000000000000000000001fc003f80000000000000000000000003f0000fc0000000000000000000000007c00003e000000000000000000000000f800001f000000000000000000000001f000000f800000000000000000000003e0000007c00000000000000000000003c0000003c000000000000000000000078000cc01e0000000000000000000000f00009800f0000000000000000000000f01fffc00f0000000000000000000000e01ffff8070000000000000000000001e03ffffc078000000000000000000001c00000fe038000000000000000000001c000003e038000000000000000000001c000003e038000000000000000000003c003e03e03c000000000000000000003c003c03e03c000000000000000000003c003c03c03c000000000000000000003c007807c03c000000000000000000003c007807803c000000000000000000003c00f80f003c000000000000000000001c00f01f0038000000000000000000001c00f03e0038000000000000000000001c01f1f80038000000000000000000001e01fff00078000000000000000000000e03ff800070000000000000000000000f03fc0000f0000000000000000000000700cc0000e0000000000000000000000780000001e00000000000000000000003c0000003c00000000000000000000003e0000007c00000000000000000000001f000000f800000000000000000000000f800001f0000000000000000000000007c00003e0000000000000000000000003f0000fc0000000000000000000000001fe007f800000000000000000000000007ffffe000000000000000000000000001ffff80000000000000000000000000003ffc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000180060000000000000000000000001fc3000c7f000000000000000000000019e0000063000600000000000000000038e00600c3000e06000000000000000030c63f98c6719f1f800000000000000030c66318fc330c31800000000000000061cc63318c3618730000000000000000618cc6318c34187f00000000000000006318c6330c3c30600000000000000000fe18ee63983838600000000000000000fc18ec63f0303c7c000000000000000000000c00006000000000000000000000000018000060000000000000000000000003f00003c0000000000000000000000001c0000300000000000000"},decred:{name:"decred",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001fffc0007ffffe0000000000000000000fffe0003fffffc0000000000000000007fff0001ffffff0000000000000000003fffc000ffffff8000000000000000001fffe0007fffffc0000000000000000007fff0001ffffff0000000000000000003fff8000ffffff0000000000000000001fffc0007fffff8000000000000000000fffe0003fffffc0000000000000000007fff8001fffffe0000000000000000003fffc000007ffe0000000000000000003fffe000001fff000000000000000000fffff000000fff000000000000000001fffff8000007ff800000000000000003fffffc000003ff80000000000000000ffffffe000001ff80000000000000001fffffff800001ffc0000000000000001fffffffc00000ffc0000000000000003fffffffe00000ffc0000000000000007ffffffff00000ffc0000000000000007ffe0000000000ffc000000000000000fff80000000000ffc000000000000000fff00000000000ffc000000000000001ffe00000000000ffc000000000000001ffc00000000000ffc000000000000001ff800000000001ffc000000000000003ff800000000001ff8000000000000003ff000000000003ff8000000000000003ff000000000007ff8000000000000003ff00000000000fff0000000000000003ff00000000001fff0000000000000003ff00000000007ffe0000000000000003ff00000ffffffffe0000000000000003ff000007fffffffc0000000000000003ff000003fffffff80000000000000003ff800001fffffff80000000000000001ff8000007ffffff00000000000000001ffc000003fffffc00000000000000001ffe000001fffff800000000000000000fff000000fffff000000000000000000fff8000007fffc0000000000000000007ffe000003fffc0000000000000000007fffff8001fffe0000000000000000003fffffc0007fff0000000000000000001fffffe0003fff8000000000000000000ffffff0001fffc000000000000000000ffffff8000fffe0000000000000000003fffffe0007fff8000000000000000001ffffff0003fffc000000000000000000ffffff8000fffe0000000000000000003fffffc0007fff00000000000000000007ffffe0003fff80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},multibit:{name:"multibit",hex:"0ffc07f8e01c7ffe07ff0000000000001ff80ff9e03c7fff83ff8000000000003ff03ff9e03c7fffc0ffc000000000007fe07ff9e03c7fffe0ffc000000000007fc0fff9e03c7ffff07fe00000000000ffc1fff9e03c7ffff83ff00000000000ff83ff81e03c7ffffc1ff00000000000ff07e001e03c17fffe0ff80000000000fe0f0001e03c03ffff0ffc0000000000fe1f0001e03c00ffff87fc0000000000fc1f1fffffff803fff83fe0000000000f83f1ffffffffc0fffc3fe0000000000f87f1fffffffff07ffe1fe0000000000f07f1fffffffffc3ffe1ff0000000000f0ff00fff87fffe3fff0ff0000000000e0ff003fe001fff1fff0ff8000000000e0ff801fe0007ff1fff87f8000000000e1fffe1fe0003ff9fff87f8000000000c3ffff1fe0f81ff8fff87f8000000000c3ffff1fe1fc0ff8fffc3fc000000000c3ffff1fe1fe0ff8fffc3fc00000000087ffff1fe1fe0ff8fffc1fc00000000087ffff1fe1ff0ff8fffe1fc00000000087ffff1fe1fe0ff8fffe1fe00000000087ffff1fe0fc0ff1fffe1fe0000000008fffff1fe0f01ff1fffe1fe0000000000fffff1fe0003fe3fffe1fe0000000000fffff1fe0007fc3ffff0fe0000000000fffff1fe001ff87ffff0fe0000000000fffff1ffffffe07ffff0fe0000000000fffff1ffffffe03ffff0fe0000000000fffff1fffffffe0ffff0fe0000000000fffff1ffffffff87fff0fe0000000000fffff1e3f8c03fc7fff0fe0000000000fffff1e3f0c00fe3fff0fe0000000000fffff1e3f8c007f3fff0fe0000000000fffff1e3f8c003f1fff0fe0000000000fffff1e3f8c7c3f1fff0fe0000000000fffff1e3f8c7e1f9ffe1fe00000000087ffff1e000c7e1f9ffe1fe00000000087ffff1e000c7e1f9ffe1fe00000000087ffff1e000c7e1f9ffe1fc00000000087ffff1e1f0c7e1f9ffe1fc000000000c3ffff1e3f8c7e1f1ffc3fc000000000c3ffff1e3f8c7e1f1ffc3fc000000000c3ffff1e3f8c7c3f1ff83fc000000000e1ffe01e3f8c003f3ff87f8000000000e1ffc01e3f08007e3ff07f8000000000e0ffc03e3f0801fc7ff07f8000000000f0ff8ffffffffffc7ff0ff0000000000f0ff8ffffffffff0ffe0ff0000000000f87f8fffffffffe1ffe1ff0000000000f83f8fffffffff83ffc3fe0000000000fc3f8fffffffe007ff83fe0000000000fe1f8001e03c001fff87fc0000000000fe0f8001e03c007fff07fc0000000000ff07c001e03c07fffe0ff80000000000ff83fff9e03c7ffffc1ff80000000000ff83fff9e03c7ffff83ff000000000007fc1fff9e03c7ffff03fe000000000007fe07ff9e03c7fffe07fe000000000003ff03ff9e03c7fffc0ffc000000000001ff81ff9e03c7fff81ff8000000000000ffc0ff9e03c7ffe03ff000000000000"},reddit:{name:"reddit",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007c000000000000000000000000000f80fe000000000000000000000000000ff9c7000000000000000000000000001cff8300000000000000000000000000180f830000000000000000000000000018038300000000000000000000000000380183000000000000000000000000003001cf000000000000000000000000003000fe0000000000000000000000000070007c000000000000000000000000006000000000000000000000000000000060000000000000000000000000000003f00000000000000000000000000000ffffc000000000000000000000000007fffff800000000000000000000001c1fc000fe0e000000000000000000007ffc00000fbf80000000000000000000fff0000003ffc0000000000000000001c3c0000000f0e0000000000000000001878000000078600000000000000000018e000000001c600000000000000000018c000000000c600000000000000000019c01f001e006600000000000000000019803f803f00760000000000000000001f003f807f803e0000000000000000000f003f807f803c00000000000000000007003f807f803800000000000000000007003f803f001800000000000000000007001f001f0018000000000000000000070000000000380000000000000000000700000000003800000000000000000003000000000030000000000000000000030000000000300000000000000000000180000000007000000000000000000001c00c000c00e000000000000000000000e00f003c00c0000000000000000000007007fff803c0000000000000000000007801ffe00780000000000000000000001c001e000e00000000000000000000000f0000003c000000000000000000000007e00001f8000000000000000000000001fc000fe00000000000000000000000003fffff0000000000000000000000000007fff8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hacker:{name:"hacker",hex:"00000000000000000000000000000000000000007ffffffffffffffe00000000000000004000040000200002000000000000000040000403c020000200000000000000004000041ff820000200000000000000004000043ffc20000200000000000000004000047ffe20000200000000000000004000047ffe2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff20000200000000000000004000047ffe20000200000000000000004000047ffe20000200000000000000004000043ffc20000200000000000000004000040ff0200002000000000000000040000403c02000020000000000000000400004000020000200000000000000007ffffffffffffffe000000000000000040000400002000020000000000000000400004000020000200000000000000004000040000207f020000000000000000400004000021ffc20000000000000000400004000023ffe20000000000000000400004000023fff20000000000000000400004000027fff20000000000000000400004000027fff2000000000000000040000400002ffffa000000000000000040000400002ffffa000000000000000040000400002ffffa000000000000000040000400002ffffa0000000000000000400004000027fff20000000000000000400004000027fff20000000000000000400004000023fff20000000000000000400004000023ffe20000000000000000400004000021ffc200000000000000004000040000207f02000000000000000040000400002000020000000000000000400004000020000200000000000000007ffffffffffffffe00000000000000004000040000200002000000000000000040780403c0201e02000000000000000041ff040ff020ff82000000000000000043ff843ffc21ffc2000000000000000047ffc47ffe23ffe200000000000000004fffe47ffe27fff200000000000000004fffe4ffff27fff200000000000000005fffe4ffff27fffa00000000000000005ffff4ffff2ffffa00000000000000005ffff4ffff2ffffa00000000000000005ffff4ffff2ffffa00000000000000005ffff4ffff2ffffa00000000000000004fffe4ffff27fff200000000000000004fffe47ffe27fff2000000000000000047ffc47ffe23ffe2000000000000000043ff843ffc21ffc2000000000000000041ff041ff820ff820000000000000000407c0403c0203e020000000000000000400004000020000200000000000000007ffffffffffffffe0000000000000000000000000000000000000000"},polis:{name:"polis",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e000000000007fe00000000e00070001c000000000007ff00000000e0007000180000080000070f00000000e00070000000000c0000070780000000e00070000000001c000007038fc733f8e1f873be3c00003e00000707bfe7f7fce3fc73ff3c00003f00000707bcf7f71ee79e73ef3c00007f000007ff3877871ee70e7387bc00007f800007ff01f7803eefff7387bc0000ff800007fe1ff783feefff7387bc0000ffc00007003e7787deeffe7387bc0001ffc000070078778e1eef007387bc0003f7e000070070f78e1ee70e7387bc0003f3f000070079f78f3ee7fe7387bc0007e3f00007003ff787fee3fc7387bc0007c1f80007001e7783cee1f87387bc000fc0f8000000000000000000000000000f80fc000000000000000000000000001f807e000000000000000000000000003f007e0007fe0003ce000000000000003f003f0007ff0003ce000000000000007e001f00070f0003c0000000000000007c001f8007078003c000000000000000fc000f8007038fe3ce3f800000000001f8000fc007079ff3ce7fc00000000001f80007e00707befbcef1c00000000003f00007e007ff387bcef1c00000000003f00003f007ff783bcefc000000000007e00001f007fe783bce7f800000000007c00001f80700783bce1fc0000000000fc00000f80700783bce03e0000000001f83fffffc0700383bcee0e0000000001f87fffffe07003cfbcef9e0000000003f07fffffe07001ff3ce7fc0000000003e0fffffff07000fe3ce3f80000000007e0fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},carlos:{name:"carlos",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000007f80000007f000000000000000000000ffc00000fffc00000000000000000000fee00000fffc00000000000000000001fe300380fffa00000000000000000000f8180f807ff800000000000000000003ff0806f87ff000000000000000000007f88002807fd000000000000000000007ffc4000070300000000000000000000f4fe0000180000000000000000000000e0fe0000000000000000000000000001e7ff0000000000000000000000000001e7ff0000000000000000000000000001c7bf0000000000000000000000000001c09f0000000000000000000000000001d05f0000000000000000000000000001c01f1800000000000000000000000001c01e1800000000000000000000000000e01e3800000000000000000000000000cffc300000000000000000000000000047fc000000000000000000000000000007f400000000000000000000000000000fe000000000000000000000000000000fc800000000000000000000000000000fc800000000000000000000000000000781e0000000000000000000000000000007e000000000000000000000000000000fe000000000000000000000000000003fc00000000000000000000000000000ff800000000000000000000000000008ff0000000000000000000000000000107e0000000000000000000000000000003e0000000000000000000000000000007c000000000000000000000000000000fc000000000000000000000000000001f8000000000000000000000000000003f0000000000000000000000000000183f0000000000000000000000000000103f0000000000000000000000000000407f000000000000000000000000000040ee000000000000000000000000000040e00000000000000000000000000000c1c60000000000000000000000000000c39c0000000000000000000000000000e73c0000000000000000000000000000e73c0000000000000000000000000000e6780000000000000000000000000000ee780000000000000000000000000000ec780000000000000000000000000001fc780000000000000000000000000003f8700000000000000000000000000003f8700000000000000000000000000002f8700000000000000000000000000003f8700000000000000000000000000001f0200000000000000000000000000001f0000000000000000000000000000001d0000000000000000000000000000001f0000000000000000000"},xrc:{name:"xrc",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fc000000000000000000000000000003ff00000000000000000000000000000fff80000000000000000000000000001fff80000000000000000000000000007f8fc038000000000000000000000000fe07c0fe000000000000000000000001fc03c3ff800000000000000000000001f803cfffc00000000000000000000003f003ff83c00000000000000000000003e007fe01e00000000000000000000007c007fc00f0000000000000000000000f800ff800f0000000000000000000000f801ff080e0000000000000000000000f001ff3c3e0000000000000000000001f003fffffe0000000000000000000001f043fffffc0000000000000000000007f0e7fffff8000000000000000000000ff1fffffff0000000000000000000003fffffffffe0000000000000000000007fffffffffe000000000000000000000fffffffffff000000000000000000001fffffffffff800000000000000000001fffffffffffc00000000000000000003f83fffe0fffe00000000000000000003f00fffc03fff00000000000000000007e007ff801fff00000000000000000007c703ff180fff8000000000000000000fcf83ff3e0fff8000000000000000000f9cc1fe6307ffc000000000000000000f9861fec107ffc000000000000000001f9861fec107ffc000000000000000001f98c1fe6307ffc000000000000000001f8fc3fe7e0fffe000000000000000001fc783073c0fffe000000000000000001fe00603001fffe000000000000000001ff00e03803fffe000000000000000001ff81f03e0ffffe000000000000000001fe7ff87ff3fffe000000000000000000fc0ffcffc1fffe000000000000000000fcc3ffff18fffc000000000000000000fcf87fc07cfffc0000000000000000007e78000439fff80000000000000000007f223c7c91fff80000000000000000003f0e793dc3fff00000000000000000001fff3399fffff00000000000000000001fff87c3ffffe00000000000000000000fffffffffffc000000000000000000007ffffffffff8000000000000000000001ffffffffff0000000000000000000000fffffffffc00000000000000000000003ffffffff0000000000000000000000007ffffff800000000000000000000000003ffff80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}})[t])||void 0===i?void 0:i.hex)&&void 0!==r?r:""},t.getLog=Ne,t.getLogger=ze,t.getOutputScriptType=$,t.getSDKVersion=Se,t.getScriptType=X,t.getTimeStamp=ye,t.httpRequest=he,t.initCore=(e,t)=>H(void 0,void 0,void 0,(function*(){try{try{yield Ze.load(e),(e=>{ct.setTransport(e)})(t)}catch(i){tr.error("DataManager.load error")}return Be(Ze.getSettings("debug")),"react-native"!==Ze.getSettings("env")&&Le(Ir),rr=new Or,fr=new er,at.emitter.on(tt.DISCONNECT,Sr),rr}catch(r){tr.error("core init",r)}})),t.isValidVersionArray=_e,t.isValidVersionString=ge,t.normalizeVersionArray=ve,t.parseConnectSettings=(t={})=>{const i=Object.assign({},xe);let r;Object.prototype.hasOwnProperty.call(t,"debug")&&(i.debug=t.debug),t.isFrame&&(i.parentOrigin=t.parentOrigin),"string"===typeof t.connectSrc&&(i.connectSrc=t.connectSrc),"undefined"!==typeof window?r=window.ONEKEY_CONNECT_SRC:"undefined"!==typeof e&&(r=e.ONEKEY_CONNECT_SRC),"string"===typeof r&&(i.connectSrc=ke(r),i.debug=!0);const s=i.connectSrc||Ee;return i.iframeSrc=s+"iframe.html",t.transportReconnect&&(i.transportReconnect=t.transportReconnect),t.lazyLoad&&(i.lazyLoad=t.lazyLoad),"string"===typeof t.env?i.env=t.env:i.env=Re(),t.timestamp&&(i.timestamp=t.timestamp),t.preRelease&&(i.preRelease=t.preRelease),i},t.parseMessage=e=>{const{data:t}=e,i={event:t.event,type:t.type,payload:t.payload};return"number"===typeof e.id&&(i.id=e.id),"boolean"===typeof i.success&&(i.success=t.success),i},t.patchFeatures=Te,t.safeThrowError=Bt,t.setLoggerPostMessage=Le,t.supportInputPinOnSoftware=oe,t.versionCompare=(e,t)=>{if("string"===typeof e&&"string"===typeof t&&e===t)return 0;const i="string"===typeof e?be(e):e,r="string"===typeof t?be(t):t,s=_e(i),f=_e(r);if(!s&&!f)return 0;if(!s&&f)return-1;if(s&&!f)return 1;const a=ve(i),n=ve(r);for(let o=0;o<3;o++){if(a[o]>n[o])return 1;if(n[o]>a[o])return-1}return 0},t.versionSplit=be,t.wait=Ge}).call(this,i(58),i(26).Buffer)}}]);