(this.webpackJsonp=this.webpackJsonp||[]).push([[56,100,103],{3983:function(e,t,n){"use strict";n.r(t),n.d(t,"ensureModuleIsLoaded",(function(){return M})),n.d(t,"captureRef",(function(){return P})),n.d(t,"releaseCapture",(function(){return R})),n.d(t,"captureScreen",(function(){return T})),n.d(t,"default",(function(){return B}));var r=n(6),o=n.n(r),a=n(18),c=n.n(a),l=n(9),s=n.n(l),i=n(14),u=n.n(i),d=n(7),f=n.n(d),j=n(3),b=n.n(j),O=n(1),p=n(38),m=n(250),h=n(28),x=n(184),v=n(0);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=m.default.RNViewShot,_=new Promise((function(){})),I=["png","jpg"].concat("android"===h.default.OS?["webm","raw"]:[]),S=["tmpfile","base64","data-uri"].concat("android"===h.default.OS?["zip-base64"]:[]),C={format:"png",quality:1,result:"tmpfile",snapshotContentContainer:!1,handleGLSurfaceViewOnAndroid:!1};function A(e){var t=k(k({},C),e),n=[];return"width"in t&&("number"!==typeof t.width||t.width<=0)&&(n.push("option width should be a positive number"),delete t.width),"height"in t&&("number"!==typeof t.height||t.height<=0)&&(n.push("option height should be a positive number"),delete t.height),("number"!==typeof t.quality||t.quality<0||t.quality>1)&&(n.push("option quality should be a number between 0.0 and 1.0"),t.quality=C.quality),"boolean"!==typeof t.snapshotContentContainer&&n.push("option snapshotContentContainer should be a boolean"),"boolean"!==typeof t.handleGLSurfaceViewOnAndroid&&n.push("option handleGLSurfaceViewOnAndroid should be a boolean"),-1===I.indexOf(t.format)&&(t.format=C.format,n.push("option format '"+t.format+"' is not in valid formats: "+I.join(" | "))),-1===S.indexOf(t.result)&&(t.result=C.result,n.push("option result '"+t.result+"' is not in valid formats: "+S.join(" | "))),{options:t,errors:n}}function M(){if(!y)throw new Error("react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.")}function P(e,t){if(M(),e&&"object"===typeof e&&"current"in e&&e.current&&!(e=e.current))return Promise.reject(new Error("ref.current is null"));if("number"!==typeof e){var n=Object(x.default)(e);if(!n)return Promise.reject(new Error("findNodeHandle failed to resolve view="+String(e)));e=n}var r=A(t),o=r.options;r.errors;return y.captureRef(e,o)}function R(e){"string"!==typeof e||y.releaseCapture(e)}function T(e){M();var t=A(e),n=t.options;t.errors;return y.captureScreen(n)}var B=function(e){s()(n,e);var t=g(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).firstLayoutPromise=new Promise((function(t){e.resolveFirstLayout=t})),e.capture=function(){return e.firstLayoutPromise.then((function(){var t=c()(e).root;return t?P(t,e.props.options):_})).then((function(t){return e.onCapture(t),t}),(function(t){throw e.onCaptureFailure(t),t}))},e.onCapture=function(t){if(e.root){e.lastCapturedURI&&setTimeout(R,500,e.lastCapturedURI),e.lastCapturedURI=t;var n=e.props.onCapture;n&&n(t)}},e.onCaptureFailure=function(t){if(e.root){var n=e.props.onCaptureFailure;n&&n(t)}},e.syncCaptureLoop=function(t){if(cancelAnimationFrame(e._raf),"continuous"===t){var n="-";e._raf=requestAnimationFrame((function t(){e._raf=requestAnimationFrame(t),n!==e.lastCapturedURI&&(n=e.lastCapturedURI,e.capture())}))}},e.onRef=function(t){e.root=t},e.onLayout=function(t){var n=e.props.onLayout;e.resolveFirstLayout(t.nativeEvent.layout),n&&n(t)},e}var r=n.prototype;return r.componentDidMount=function(){"mount"===this.props.captureMode?this.capture():this.syncCaptureLoop(this.props.captureMode)},r.componentDidUpdate=function(e){void 0!==this.props.captureMode&&this.props.captureMode!==e.captureMode&&this.syncCaptureLoop(this.props.captureMode),"update"===this.props.captureMode&&this.capture()},r.componentWillUnmount=function(){this.syncCaptureLoop(null)},r.render=function(){var e=this.props.children;return Object(v.jsx)(p.default,{ref:this.onRef,collapsable:!1,onLayout:this.onLayout,style:this.props.style,children:e})},o()(n)}(O.Component);B.captureRef=P,B.releaseCapture=R},4081:function(e,t,n){"use strict";n.r(t),n.d(t,"WebView",(function(){return c}));n(1);var r=n(333),o=n(38),a=n(0),c=function(){return Object(a.jsx)(o.default,{style:{alignSelf:"flex-start"},children:Object(a.jsx)(r.default,{style:{color:"red"},children:"React Native WebView does not support this platform."})})};t.default=c},4083:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(5),c=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){return Object(c.jsxs)(a.default,s(s({viewBox:"0 0 82 25",fill:"none",accessibilityRole:"image"},e),{},{children:[Object(c.jsx)(a.Path,{d:"M32.835 18.409c-.967 0-1.855-.23-2.665-.69a5.133 5.133 0 0 1-1.924-1.906c-.473-.82-.71-1.745-.71-2.775 0-1.02.237-1.935.71-2.745a5.1 5.1 0 0 1 1.925-1.92c.809-.46 1.697-.69 2.664-.69.977 0 1.865.23 2.664.69.809.46 1.445 1.1 1.91 1.92.473.81.71 1.725.71 2.745 0 1.03-.237 1.955-.71 2.775a5.025 5.025 0 0 1-1.91 1.905c-.81.46-1.697.69-2.664.69Zm0-1.876c.621 0 1.169-.14 1.643-.42.473-.29.843-.7 1.11-1.23.266-.53.4-1.145.4-1.845s-.134-1.31-.4-1.83a2.866 2.866 0 0 0-1.11-1.216c-.474-.28-1.022-.42-1.643-.42-.622 0-1.175.14-1.658.42-.474.28-.844.685-1.11 1.216-.267.52-.4 1.13-.4 1.83 0 .7.133 1.315.4 1.845.266.53.636.94 1.11 1.23.483.28 1.036.42 1.658.42ZM43.464 9.872c.977 0 1.767.315 2.368.946.602.62.903 1.49.903 2.61v4.875h-2.072v-4.59c0-.66-.163-1.165-.488-1.515-.326-.36-.77-.54-1.332-.54-.573 0-1.027.18-1.362.54-.326.35-.489.855-.489 1.515v4.59H38.92v-8.31h2.072v1.035c.277-.36.627-.64 1.051-.84a3.22 3.22 0 0 1 1.421-.316ZM55.736 13.968c0 .3-.02.57-.059.81h-5.994c.049.6.256 1.07.621 1.41.365.34.814.51 1.347.51.77 0 1.318-.335 1.643-1.005h2.235c-.237.8-.69 1.46-1.362 1.98-.67.51-1.495.766-2.471.766-.79 0-1.5-.175-2.132-.526a3.84 3.84 0 0 1-1.465-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.622-.35 1.337-.526 2.147-.526.78 0 1.475.17 2.087.51.621.34 1.1.826 1.435 1.456.346.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.202-.97-.577-1.29-.375-.33-.834-.495-1.377-.495-.513 0-.947.16-1.302.48-.345.31-.558.745-.637 1.305h3.893ZM62.636 18.303l-3.759-4.665v4.665h-2.072V7.833h2.072v4.695l3.76-4.696h2.5l-4.262 5.19 4.381 5.281h-2.62Z",fill:"#33C641"}),Object(c.jsx)(a.Path,{d:"M72.614 13.968c0 .3-.02.57-.06.81H66.56c.05.6.257 1.07.622 1.41.365.34.814.51 1.347.51.77 0 1.317-.335 1.643-1.005h2.234c-.236.8-.69 1.46-1.361 1.98-.671.51-1.495.766-2.472.766-.79 0-1.5-.175-2.131-.526a3.84 3.84 0 0 1-1.466-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.623-.35 1.338-.526 2.147-.526.78 0 1.475.17 2.087.51.622.34 1.1.826 1.436 1.456.345.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.203-.97-.578-1.29-.375-.33-.834-.495-1.376-.495-.513 0-.947.16-1.303.48-.345.31-.557.745-.636 1.305h3.893ZM81.23 9.992l-5.076 12.242h-2.205l1.776-4.14-3.286-8.102h2.324l2.116 5.806 2.146-5.806h2.206Z",fill:"#33C641"}),Object(c.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.801 24.755c8.147 0 11.801-3.678 11.801-11.88 0-8.2-3.654-11.878-11.8-11.878C3.653.997 0 4.675 0 12.876c0 8.2 3.654 11.879 11.801 11.879ZM9.584 6.036h3.283v5.446h-2.035V7.79H9.008l.576-1.753Zm2.217 13.684c2.068 0 3.744-1.687 3.744-3.769 0-2.081-1.676-3.769-3.744-3.769-2.068 0-3.744 1.688-3.744 3.77 0 2.08 1.676 3.768 3.744 3.768Zm0-1.71c1.13 0 2.044-.922 2.044-2.059a2.051 2.051 0 0 0-2.044-2.058 2.051 2.051 0 0 0-2.044 2.058c0 1.137.915 2.058 2.044 2.058Z",fill:"#33C641"})]}))}},4138:function(e,t,n){"use strict";n.r(t),n.d(t,"AddCustomToken",(function(){return v}));var r=n(57),o=n(225),a=n(47),c=n(48),l=n(2),s=n.n(l),i=n(126),u=n(50),d=n(4),f=n.n(d),j=n(1),b=n(44),O=n(88),p=n(17),m=n(25),h=n(16),x=n(0),v=function(e){var t,n,l=e.route,d=null==(t=l.params)?void 0:t.address,v=null==(n=l.params)?void 0:n.networkId,g=Object(O.default)(),w=Object(b.useNavigation)(),k=Object(j.useState)(!1),y=f()(k,2),_=y[0],I=y[1],S=Object(j.useState)(!1),C=f()(S,2),A=C[0],M=C[1],P=Object(j.useState)(!1),R=f()(P,2),T=R[0],B=R[1],D=Object(m.useActiveWalletAccount)(),N=D.walletId,E=D.account,L=D.network,U=Object(m.useNetworkSimple)(null!=v?v:null,L),W=Object(u.default)(),H=Object(m.useAccountTokensOnChain)(null==U?void 0:U.id,null==E?void 0:E.id),z=g.formatMessage({id:"form__searching_token"}),V=Object(i.default)({defaultValues:{address:"",symbol:"",decimal:""},mode:"onChange"}),q=V.control,F=V.handleSubmit,Z=V.setValue,Q=V.formState.isValid,K=V.trigger,G=V.setError,J=V.watch;Object(j.useEffect)((function(){d&&Z("address",d)}),[d,Z]);var X=J("address"),Y=Object(m.useDebounce)(X,1e3),$=Object(j.useCallback)(function(){var e=s()((function*(e,t,n){(yield p.default.serviceToken.addAccountToken(t,e,n))&&(c.default.show({title:g.formatMessage({id:"msg__token_added",defaultMessage:"Token Added"})}),yield p.default.serviceToken.fetchAccountTokens({accountId:e,networkId:t}),null!=w&&null!=w.canGoBack&&w.canGoBack()&&w.goBack())}));return function(t,n,r){return e.apply(this,arguments)}}(),[g,w]),ee=Object(j.useCallback)(function(){var e=s()((function*(e){if(U&&E){I(!0);var t=E.id,n=U.id,r=e.address,o=yield p.default.engine.getVaultSettings(U.id);null!=o&&o.activateTokenRequired?w.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.ManageToken,params:{screen:h.ManageTokenModalRoutes.ActivateToken,params:{walletId:N,accountId:t,networkId:n,tokenId:r,onSuccess:function(){$(t,n,r).finally((function(){I(!1)}))}}}}):$(t,n,r).finally((function(){I(!1)}))}}));return function(t){return e.apply(this,arguments)}}(),[U,E,w,N,$]),te=Object(j.useCallback)((function(e){e?(Z("decimal",String(e.decimals)),Z("symbol",e.symbol),B(!0),K("address")):(G("address",{message:g.formatMessage({id:"msg__wrong_address_format"})}),B(!1),Z("decimal",""),Z("symbol",""))}),[Z,K,G,g]);return Object(j.useEffect)((function(){function e(){return(e=s()((function*(){if(U){var e=yield p.default.validator.normalizeTokenAddress(null==U?void 0:U.id,Y);if(!H.some((function(t){return t.tokenIdOnNetwork===e}))&&E&&e){var t;M(!0);try{var n,r;if(null!=(n=t=yield p.default.engine.preAddToken(E.id,U.id,e))&&n[1])te(null==(r=t)?void 0:r[1]);else te(void 0)}catch(o){te(void 0)}finally{M(!1)}}}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d,E,U,te,Y]),Object(x.jsx)(r.default,{header:g.formatMessage({id:"action__add_custom_tokens",defaultMessage:"Add Custom Token"}),hideSecondaryAction:!0,primaryActionTranslationId:"action__add",primaryActionProps:{type:"primary",isDisabled:!Q&&!A,isLoading:_},onPrimaryActionPress:function(){return F(ee)()},children:Object(x.jsx)(o.default,{children:Object(x.jsxs)(a.default,{children:[Object(x.jsx)(a.default.Item,{name:"address",label:g.formatMessage({id:"transaction__contract_address",defaultMessage:"Contract Address"}),control:q,defaultValue:"",labelAddon:["paste"],helpText:A?z:void 0,rules:{required:g.formatMessage({id:"form__field_is_required"}),validate:function(){var e=s()((function*(e){if(U){var t=yield p.default.validator.normalizeTokenAddress(null==U?void 0:U.id,e);return H.some((function(e){return e.tokenIdOnNetwork===t}))?g.formatMessage({id:"msg__token_already_existed"}):void 0}}));return function(t){return e.apply(this,arguments)}}()},children:Object(x.jsx)(a.default.Textarea,{trimValue:!0,placeholder:g.formatMessage({id:"form__enter_or_paste_contract_address",defaultMessage:"Enter or paste contract address"})})}),Object(x.jsx)(a.default.Item,{name:"symbol",label:g.formatMessage({id:"form__token_symbol",defaultMessage:"Token Symbol"}),rules:{required:g.formatMessage({id:"form__field_is_required"})},defaultValue:"",control:q,children:Object(x.jsx)(a.default.Input,{size:W?"xl":"default",isDisabled:T})}),Object(x.jsx)(a.default.Item,{name:"decimal",label:g.formatMessage({id:"form__decimal",defaultMessage:"Decimal"}),control:q,defaultValue:"",rules:{required:g.formatMessage({id:"form__field_is_required"})},children:Object(x.jsx)(a.default.Input,{size:W?"xl":"default",isDisabled:T})})]})})})};t.default=v},4194:function(e,t,n){"use strict";t.decode=t.parse=n(4195),t.encode=t.stringify=n(4196)},4195:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var c={};if("string"!==typeof e||0===e.length)return c;var l=/\+/g;e=e.split(t);var s=1e3;a&&"number"===typeof a.maxKeys&&(s=a.maxKeys);var i=e.length;s>0&&i>s&&(i=s);for(var u=0;u<i;++u){var d,f,j,b,O=e[u].replace(l,"%20"),p=O.indexOf(n);p>=0?(d=O.substr(0,p),f=O.substr(p+1)):(d=O,f=""),j=decodeURIComponent(d),b=decodeURIComponent(f),r(c,j)?o(c[j])?c[j].push(b):c[j]=[c[j],b]:c[j]=b}return c};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},4196:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,l){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?a(c(e),(function(c){var l=encodeURIComponent(r(c))+n;return o(e[c])?a(e[c],(function(e){return l+encodeURIComponent(r(e))})).join(t):l+encodeURIComponent(r(e[c]))})).join(t):l?encodeURIComponent(r(l))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var c=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},4331:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(5),c=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){return Object(c.jsxs)(a.default,s(s({viewBox:"0 0 82 25",fill:"none",accessibilityRole:"image"},e),{},{children:[Object(c.jsx)(a.Path,{d:"M32.835 18.409c-.967 0-1.855-.23-2.665-.69a5.132 5.132 0 0 1-1.924-1.906c-.473-.82-.71-1.745-.71-2.775 0-1.02.237-1.935.71-2.745a5.1 5.1 0 0 1 1.924-1.92c.81-.46 1.698-.69 2.665-.69.977 0 1.865.23 2.664.69.809.46 1.445 1.1 1.91 1.92.473.81.71 1.725.71 2.745 0 1.03-.237 1.955-.71 2.775a5.025 5.025 0 0 1-1.91 1.905c-.81.46-1.697.69-2.664.69Zm0-1.876c.621 0 1.169-.14 1.643-.42.473-.29.843-.7 1.11-1.23.266-.53.4-1.145.4-1.845s-.134-1.31-.4-1.83a2.867 2.867 0 0 0-1.11-1.216c-.474-.28-1.022-.42-1.643-.42-.622 0-1.175.14-1.658.42-.474.28-.844.685-1.11 1.216-.267.52-.4 1.13-.4 1.83 0 .7.133 1.315.4 1.845.266.53.636.94 1.11 1.23.483.28 1.036.42 1.658.42ZM43.464 9.872c.977 0 1.767.315 2.368.946.602.62.903 1.49.903 2.61v4.875h-2.072v-4.59c0-.66-.163-1.165-.488-1.515-.326-.36-.77-.54-1.332-.54-.573 0-1.027.18-1.362.54-.326.35-.489.855-.489 1.515v4.59H38.92v-8.31h2.072v1.035c.277-.36.627-.64 1.051-.84a3.22 3.22 0 0 1 1.421-.316ZM55.736 13.968c0 .3-.02.57-.059.81h-5.994c.049.6.256 1.07.621 1.41.365.34.814.51 1.347.51.77 0 1.317-.335 1.643-1.005h2.235c-.237.8-.69 1.46-1.362 1.98-.67.51-1.495.766-2.471.766-.79 0-1.5-.175-2.132-.526a3.84 3.84 0 0 1-1.465-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265.345-.65.829-1.15 1.45-1.5.622-.35 1.337-.526 2.147-.526.78 0 1.475.17 2.087.51.621.34 1.1.826 1.435 1.456.346.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.202-.97-.577-1.29-.375-.33-.834-.495-1.377-.495-.513 0-.947.16-1.302.48-.346.31-.558.745-.637 1.305h3.893ZM62.636 18.303l-3.76-4.665v4.665h-2.071V7.833h2.072v4.695l3.76-4.696h2.5l-4.262 5.19 4.381 5.281h-2.62Z",fill:"#8C8CA1"}),Object(c.jsx)(a.Path,{d:"M72.614 13.968c0 .3-.02.57-.06.81H66.56c.05.6.257 1.07.622 1.41.365.34.814.51 1.347.51.77 0 1.317-.335 1.642-1.005h2.235c-.236.8-.69 1.46-1.361 1.98-.671.51-1.495.766-2.472.766-.79 0-1.5-.175-2.131-.526a3.84 3.84 0 0 1-1.466-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265.346-.65.83-1.15 1.45-1.5.623-.35 1.338-.526 2.147-.526.78 0 1.475.17 2.087.51.622.34 1.1.826 1.436 1.456.345.62.518 1.335.518 2.145Zm-2.147-.6c-.01-.54-.202-.97-.577-1.29-.375-.33-.834-.495-1.376-.495-.513 0-.947.16-1.303.48-.345.31-.557.745-.636 1.305h3.892ZM81.23 9.992l-5.076 12.242h-2.205l1.776-4.14-3.286-8.102h2.324l2.116 5.806 2.146-5.806h2.206Z",fill:"#8C8CA1"}),Object(c.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.801 24.755c8.147 0 11.801-3.678 11.801-11.88 0-8.2-3.654-11.878-11.8-11.878C3.653.997 0 4.675 0 12.876c0 8.2 3.654 11.879 11.801 11.879ZM9.584 6.036h3.283v5.446h-2.035V7.79H9.008l.576-1.753Zm2.217 13.684c2.068 0 3.744-1.687 3.744-3.769 0-2.081-1.676-3.769-3.744-3.769-2.068 0-3.744 1.688-3.744 3.77 0 2.08 1.676 3.768 3.744 3.768Zm0-1.71c1.13 0 2.044-.922 2.044-2.059a2.051 2.051 0 0 0-2.044-2.058 2.051 2.051 0 0 0-2.044 2.058c0 1.137.915 2.058 2.044 2.058Z",fill:"#8C8CA1"})]}))}},4550:function(e,t,n){"use strict";n.r(t);var r=n(63),o=n(100),a=n(48),c=n(331),l=n(3),s=n.n(l),i=n(15),u=n.n(i),d=n(64),f=n(106),j=n(121),b=n(4),O=n.n(b),p=n(54),m=n(12),h=n(27),x=n(51),v=n(40),g=n(1),w=n(44),k=n(88),y=n(4331),_=n(108),I=n(235),S=n(17),C=n(25),A=n(819),M=n(369),P=n(302),R=n(4020),T=n(946),B=n(188),D=n(4519),N=n(4146),E=n(4520),L=n(4145),U=n(578),W=n(415),H=n(190),z=n(0),V=["tx"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F=function(e){var t=e.tx,n=u()(e,V),r=t.networkId,o=t.hash,a=Object(U.useClipboard)().copyText,c=Object(W.useNetwork)({networkId:r}).network,l=Object(M.default)(c),i=Object(g.useMemo)((function(){return[{id:"action_copy_hash",onPress:function(){return a(o)},icon:"Square2StackOutline"},l.hasAvailable&&{id:"action__view_in_browser",onPress:function(){return l.openTransactionDetails(o)},icon:"ArrowTopRightOnSquareOutline"}]}),[a,o,l]);return Object(z.jsx)(H.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:i},n))},Z=["accountId","networkId"],Q=["accountId","address","networkId"];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){var t=e.accountId,n=e.networkId,r=u()(e,Z),o=Object(U.useClipboard)().copyText,a=Object(W.useNetwork)({networkId:n}).network,c=Object(C.useAccount)({accountId:null!=t?t:"",networkId:null!=n?n:""}).account,l=Object(M.default)(a),s=Object(C.useNavigationActions)().openRootHome,i=Object(g.useCallback)((function(){c&&n&&(S.default.serviceAccount.changeCurrrentAccount({accountId:c.id,networkId:n}),s())}),[s,c,n]),d=Object(g.useMemo)((function(){return[Boolean(c)&&{id:"action__view_account",onPress:function(){return i()},icon:"UserOutline"},{id:"action__copy_address",onPress:function(){var e;return o(null!=(e=null==c?void 0:c.address)?e:"")},icon:"Square2StackOutline"},l.hasAvailable&&{id:"action__view_in_browser",onPress:function(){return l.openAddressDetails(null==c?void 0:c.address)},icon:"ArrowTopRightOnSquareOutline"}]}),[o,l,i,c]);return Object(z.jsx)(H.default,G({options:d},r))},X=function(e){var t=e.accountId,n=e.address,r=e.networkId,o=u()(e,Q),a=Object(U.useClipboard)().copyText,c=Object(W.useNetwork)({networkId:r}).network,l=Object(C.useAccount)({accountId:null!=t?t:"",networkId:null!=r?r:""}).account,s=Object(M.default)(c),i=Object(C.useNavigationActions)().openRootHome,d=Object(g.useCallback)((function(){l&&r&&(S.default.serviceAccount.changeCurrrentAccount({accountId:l.id,networkId:r}),i())}),[i,l,r]),f=Object(g.useMemo)((function(){return[Boolean(l)&&{id:"action__view_account",onPress:function(){return d()},icon:"UserOutline"},{id:"action__copy_address",onPress:function(){return a(null!=n?n:"")},icon:"Square2StackOutline"},s.hasAvailable&&{id:"action__view_in_browser",onPress:function(){return s.openAddressDetails(n)},icon:"ArrowTopRightOnSquareOutline"}]}),[a,s,d,n,l]);return Object(z.jsx)(H.default,G({options:f},o))},Y=["label","children"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){var t=e.status;return"sucesss"===t?Object(z.jsx)(x.default,{w:"4",h:"4",borderRadius:"full",bg:"action-primary-default",children:Object(z.jsx)(v.default,{name:"CheckMini",size:12,color:"icon-on-primary"})}):"pending"===t?Object(z.jsx)(x.default,{w:"4",h:"4",borderRadius:"full",style:{backgroundColor:"#008CB8"},children:Object(z.jsx)(v.default,{name:"ClockMini",size:12,color:"icon-on-primary"})}):Object(z.jsx)(x.default,{w:"4",h:"4",borderRadius:"full",bg:"action-critical-default",children:Object(z.jsx)(v.default,{name:"XMarkMini",size:12,color:"icon-on-primary"})})},ne=function(e){var t=e.status,n=Object(k.default)();return"sucesss"===t?Object(z.jsx)(h.default.Body1Strong,{children:n.formatMessage({id:"form__swap_success"})}):"pending"===t?Object(z.jsx)(h.default.Body1Strong,{children:n.formatMessage({id:"form__swap_pending"})}):Object(z.jsx)(h.default.Body1Strong,{children:n.formatMessage({id:"form__swap_failed"})})},re=function(e){var t,n=e.tx,r=e.onPress,o=Object(k.default)(),a=Object(g.useCallback)((function(e){var t=Math.max(Math.ceil(e/1e3),1);return t>=60?o.formatMessage({id:"content__str_mins"},{content__str_mins:Math.ceil(t/60)}):o.formatMessage({id:"content__str_seconds"},{content__str_seconds:t})}),[o]);return Object(z.jsxs)(m.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(z.jsxs)(m.default,{flexDirection:"row",children:[Object(z.jsxs)(x.default,{w:"10",h:"10",bg:"surface-neutral-default",borderRadius:"full",position:"relative",mr:"3",children:[Object(z.jsx)(v.default,{name:"ArrowsRightLeftMini",size:25,color:"text-on-primary"}),Object(z.jsx)(m.default,{position:"absolute",bottom:"0",right:"0",children:Object(z.jsx)(te,{status:n.status})})]}),Object(z.jsxs)(m.default,{children:[Object(z.jsx)(ne,{status:n.status}),n.confirmedTime?Object(z.jsx)(h.default.Caption,{color:"text-subdued",children:o.formatMessage({id:"form__str_used"},{0:a(n.confirmedTime-n.addedTime)})}):Object(z.jsx)(h.default.Caption,{color:"text-subdued",children:o.formatMessage({id:"form__estimate_str"},{0:a(1e3*(null!=(t=n.arrivalTime)?t:1))})})]})]}),"sucesss"===n.status?Object(z.jsx)(p.default,{size:"xs",onPress:r,children:o.formatMessage({id:"action__swap_again"})}):null]})},oe=function(e){var t=e.children,n=Object(g.useState)(""),r=O()(n,2),o=r[0],a=r[1],c=Object(g.useCallback)((function(e){var t=e.nativeEvent.layout.width,n=Math.floor(.9*t)+"px";a(n)}),[]);return Object(z.jsx)(m.default,{flex:"1",onLayout:c,children:o?Object(z.jsx)(m.default,{width:o,children:t}):null})},ae=function(e){var t,n,r,o,a,c,l,s,i,u,b,O,p=e.tx,x=Object(C.useNetworkSimple)(null==(t=p.tokens)?void 0:t.from.networkId),g=Object(C.useNetworkSimple)(null==(n=p.tokens)?void 0:n.to.networkId),w=Object(R.useTransactionsAccount)(p.receivingAccountId,null==(r=p.tokens)?void 0:r.to.networkId),k=Object(R.useTransactionsAccount)(p.accountId,null==(o=p.tokens)?void 0:o.from.networkId),y=Object(C.useAddressName)({address:p.receivingAddress});return Object(z.jsxs)(m.default,{my:"0",px:"0",children:[Object(z.jsxs)(m.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(z.jsxs)(m.default,{flex:1,flexDirection:"row",alignItems:"center",children:[Object(z.jsx)(j.default,{size:"8",token:null==(a=p.tokens)?void 0:a.from.token}),Object(z.jsxs)(m.default,{ml:"3",flex:1,children:[Object(z.jsx)(m.default,{flexDirection:"row",alignItems:"center",children:Object(z.jsx)(oe,{children:Object(z.jsxs)(h.default.Body1,{numberOfLines:2,isTruncated:!0,children:[Object(B.formatAmount)(null==(c=p.tokens)?void 0:c.from.amount,4),null==(l=p.tokens)||null==(s=l.from.token)?void 0:s.symbol.toString()]})})}),Object(z.jsx)(h.default.Body2,{color:"text-subdued",children:null==x?void 0:x.name})]})]}),Object(z.jsx)(J,{networkId:p.networkId,accountId:p.accountId,children:Object(z.jsx)(d.default,{children:Object(z.jsxs)(m.default,{bg:"action-secondary-default",borderWidth:"1px",py:"1",pl:"1",pr:"2",borderRadius:"full",borderColor:"border-default",flexDirection:"row",alignItems:"center",children:[Object(z.jsx)(f.default,{w:"4",h:"4",mr:"1",src:null==x?void 0:x.logoURI}),Object(z.jsx)(h.default.Body2Strong,{selectable:!1,children:null==k?void 0:k.name})]})})})]}),Object(z.jsx)(m.default,{h:"8",w:"full",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:Object(z.jsx)(m.default,{mr:"4",width:"8",flexDirection:"row",justifyContent:"center",children:Object(z.jsx)(v.default,{name:"ArrowDownMini",size:16})})}),Object(z.jsxs)(m.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(z.jsxs)(m.default,{flex:1,flexDirection:"row",alignItems:"center",children:[Object(z.jsx)(j.default,{size:"8",token:null==(i=p.tokens)?void 0:i.to.token}),Object(z.jsxs)(m.default,{ml:"3",flex:1,children:[Object(z.jsxs)(m.default,{flexDirection:"row",alignItems:"center",children:[p.actualReceived?null:Object(z.jsx)(h.default.Caption,{mr:"1",children:"~"}),Object(z.jsx)(oe,{children:Object(z.jsxs)(h.default.Body1,{numberOfLines:2,isTruncated:!0,children:[Object(B.formatAmount)(null==(u=p.tokens)?void 0:u.to.amount,4),null==(b=p.tokens)?void 0:b.to.token.symbol.toUpperCase()]})})]}),Object(z.jsx)(h.default.Body2,{color:"text-subdued",children:null==g?void 0:g.name})]})]}),Object(z.jsx)(X,{address:p.receivingAddress,networkId:null==(O=p.tokens)?void 0:O.to.networkId,accountId:p.receivingAccountId,children:Object(z.jsx)(d.default,{children:Object(z.jsxs)(m.default,{bg:"action-secondary-default",borderWidth:"1px",py:"1",pl:"1",pr:"2",borderRadius:"full",borderColor:"border-default",flexDirection:"row",alignItems:"center",children:[Object(z.jsx)(f.default,{w:"4",h:"4",mr:"1",src:null==g?void 0:g.logoURI}),Object(z.jsx)(h.default.Body2Strong,{selectable:!1,children:(null==w?void 0:w.name)||y||Object(_.shortenAddress)(p.receivingAddress||"")})]})})})]})]})},ce=function(e){var t=e.label,n=e.children,r=u()(e,Y);return Object(z.jsxs)(m.default,ee(ee({position:"relative",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},r),{},{children:[Object(z.jsx)(h.default.Body2,{color:"text-disabled",children:t}),Object(z.jsx)(m.default,{children:n})]}))},le=function(e){var t,n,r=e.tx,o=Object(k.default)(),a=Object(C.useNetworkSimple)(null==(t=r.tokens)?void 0:t.from.networkId),l=Object(C.useNetworkSimple)(null==(n=r.tokens)?void 0:n.to.networkId),s=Object(g.useMemo)((function(){var e,t,n,c,s,i,u=[{header:o.formatMessage({id:"form__from_uppercase"}),label:null!=(e=null==a?void 0:a.shortName)?e:"",logoURI:null!=(t=null==a?void 0:a.logoURI)?t:"",value:null!=(n=r.hash)?n:"",url:Object(M.buildTransactionDetailsUrl)(a,r.hash)},{header:o.formatMessage({id:"form__to_uppercase"}),label:null!=(c=null==l?void 0:l.shortName)?c:"",logoURI:null!=(s=null==l?void 0:l.logoURI)?s:"",value:null!=(i=r.destinationTransactionHash)?i:"",url:Object(M.buildTransactionDetailsUrl)(l,r.destinationTransactionHash)}];"socket"===r.quoterType&&(u=[{header:o.formatMessage({id:"form__provider_uppercase"}),label:"Socketscan",logoURI:"https://common.onekey-asset.com/logo/SocketBridge.png",value:"Socketscan",url:"https://socketscan.io/tx/"+r.hash}].concat(u));return u}),[r,a,l,o]),i=Object(g.useCallback)((function(e,t){t.url&&Object(P.openUrlExternal)(t.url)}),[]);return Object(g.useEffect)((function(){"pending"===r.status||r.destinationTransactionHash||new D.Scheduler(r).runTask()}),[]),Object(z.jsx)(c.default,{footer:null,title:o.formatMessage({id:"action__view_in_browser"}),isTriggerPlain:!0,options:s,headerShown:!1,dropdownProps:{width:"64"},dropdownPosition:"right",onChange:i,renderItem:function(e,t,n){var r=e;return Object(z.jsxs)(d.default,{py:"2",px:"3",onPress:function(){return null==n?void 0:n("",e)},children:[Object(z.jsx)(h.default.Subheading,{mb:"3",children:r.header}),Object(z.jsxs)(m.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(z.jsxs)(m.default,{flexDirection:"row",alignItems:"center",children:[Object(z.jsx)(j.default,{size:"8",token:r}),Object(z.jsx)(h.default.Body1Strong,{ml:3,children:r.label})]}),r.value?Object(z.jsx)(x.default,{w:"5",h:"5",children:Object(z.jsx)(v.default,{name:"ChevronRightMini",size:16})}):Object(z.jsx)(h.default.Body1,{color:"text-disabled",children:o.formatMessage({id:"transaction__swap_status_waiting"})})]})]},e.value)},renderTrigger:function(){return Object(z.jsxs)(m.default,{flexDirection:"row",alignItems:"center",children:[Object(z.jsx)(h.default.Body2Strong,{mr:"1",children:o.formatMessage({id:"action__view_in_browser"})}),Object(z.jsx)(v.default,{name:"ArrowTopRightOnSquareOutline",size:16})]})}})},se=function(e){var t=e.tx,n=Object(k.default)(),r=Object(C.useNetworkSimple)(t.networkId),o=Object(g.useCallback)((function(){var e=Object(M.buildTransactionDetailsUrl)(r,t.hash);Object(P.openUrlExternal)(e)}),[r,t.hash]);return Object(z.jsxs)(d.default,{flexDirection:"row",onPress:o,alignItems:"center",children:[Object(z.jsx)(h.default.Body2Strong,{mr:"1",children:n.formatMessage({id:"action__view_in_browser"})}),Object(z.jsx)(v.default,{name:"ArrowTopRightOnSquareOutline",size:16})]})},ie=function(e){var t,n=e.tx,r=null!=(t=n.tokens)?t:{},o=r.from,a=r.to;return(null==o?void 0:o.networkId)!==(null==a?void 0:a.networkId)?Object(z.jsx)(le,{tx:n}):Object(z.jsx)(se,{tx:n})},ue=function(e){var t,n,r=e.tx,o=null==(t=r.tokens)?void 0:t.from,a=null==(n=r.tokens)?void 0:n.to,c="";return r.percentageFee&&(r.quoterType===T.QuoterType.jupiter&&a?c=""+Object(B.formatAmount)(Object(B.multiply)(r.percentageFee,a.amount),8)+a.token.symbol.toUpperCase():o&&(c=""+Object(B.formatAmount)(Object(B.multiply)(r.percentageFee,o.amount),8)+o.token.symbol.toUpperCase())),Object(z.jsxs)(m.default,{flexDirection:"row",alignItems:"center",children:[Object(z.jsx)(E.default,{type:r.quoterType,percentageFee:r.percentageFee,typography:"Body2Strong",color:"text-default"}),c?Object(z.jsxs)(h.default.Body2Strong,{children:["(",c,")"]}):null]})},de=function(e){var t=e.tx,n=Object(k.default)();if(t.protocalFees){var r=Object(B.calculateProtocalsFee)(t.protocalFees);if(Number(r.value)>0)return Object(z.jsx)(ce,{label:n.formatMessage({id:"form__bridge_fee"}),children:Object(z.jsx)(h.default.Body2Strong,{children:Object(B.formatAmount)(r.value)+" "+r.symbol.toUpperCase()})})}return null};t.default=function(e){var t,n,c,l,s,i,u,j,b,O,p,x,_,M,P=e.tx,T=e.showViewInBrowser,D=Object(k.default)(),E=Object(w.useRoute)(),U=Object(w.useNavigation)(),W=Object(R.useTransactionsAccount)(P.accountId,null==(t=P.tokens)?void 0:t.from.networkId),H=Object(C.useNetworkSimple)(P.networkId),V=Object(C.useNetworkSimple)(null==(n=P.tokens)?void 0:n.from.networkId),q=Object(C.useNetworkSimple)(null==(c=P.tokens)?void 0:c.to.networkId),Z=Object(A.default)().formatDate,Q=null!=(l=P.tokens)?l:{},K=Q.from,G=Q.to,J=null!=(s=null==(i=P.attachment)?void 0:i.swftcOrderId)?s:P.thirdPartyOrderId,X=Object(g.useCallback)((function(e){e&&(Object(I.copyToClipboard)(e),a.default.show({title:D.formatMessage({id:"msg__copied"})}))}),[D]),Y=Object(g.useCallback)((function(){var e;K&&G&&V&&q&&(S.default.serviceSwap.setInputToken(K.token),S.default.serviceSwap.setOutputToken(G.token),(null!=(e=U.getParent())?e:U).goBack(),setTimeout((function(){null==E.params.goBack||E.params.goBack()}),100))}),[K,G,V,q,U,E.params]);return W&&H?Object(z.jsxs)(m.default,{children:[Object(z.jsx)(re,{tx:P,onPress:Y}),Object(z.jsx)(o.default,{my:"6"}),Object(z.jsx)(ae,{tx:P}),Object(z.jsx)(o.default,{my:"6"}),Object(z.jsxs)(m.default,{children:[Object(z.jsx)(h.default.Subheading,{color:"text-subdued",mb:"4",children:D.formatMessage({id:"form__on_chain_info_uppercase"})}),Object(z.jsxs)(r.default,{space:4,children:[P.actualReceived?Object(z.jsx)(ce,{label:D.formatMessage({id:"form__actual_received"}),children:Object(z.jsx)(h.default.Body2Strong,{children:Object(B.formatAmount)(P.actualReceived,6)+" "+(null!=(u=null==G?void 0:G.token.symbol.toUpperCase())?u:"")})}):null,P.networkFee?Object(z.jsx)(ce,{label:D.formatMessage({id:"form__network_fee"}),children:Object(z.jsx)(h.default.Body2Strong,{children:Object(B.formatAmount)(P.networkFee,8)+" "+(null!=(j=H.symbol.toUpperCase())?j:"")})}):null,Object(z.jsx)(ce,{label:D.formatMessage({id:"content__hash"}),children:Object(z.jsx)(F,{tx:P,children:Object(z.jsx)(d.default,{mr:"1",maxW:"56",children:Object(z.jsx)(h.default.Body2Strong,{textAlign:"right",children:P.hash})})})})]})]}),Object(z.jsx)(o.default,{my:"6"}),Object(z.jsxs)(m.default,{children:[Object(z.jsx)(h.default.Subheading,{color:"text-subdued",mb:"4",children:D.formatMessage({id:"form__swap_info_uppercase"})}),Object(z.jsxs)(r.default,{space:4,children:[Object(z.jsx)(ce,{label:D.formatMessage({id:"Rate"}),children:Object(z.jsx)(L.default,{tokenA:null==(b=P.tokens)?void 0:b.from.token,tokenB:null==(O=P.tokens)?void 0:O.to.token,rate:null==(p=P.tokens)?void 0:p.rate,typography:"Body2Strong",color:"text-default"})}),P.quoterType?Object(z.jsx)(ce,{label:D.formatMessage({id:"form__provided_by"}),children:Object(z.jsxs)(m.default,{flexDirection:"row",alignItems:"center",children:[P.quoterLogo?Object(z.jsx)(f.default,{borderRadius:"full",overflow:"hidden",src:P.quoterLogo,w:"4",h:"4",mr:"2"}):null,Object(z.jsx)(h.default.Body2Strong,{children:Object(B.normalizeProviderName)(P.quoterType)})]})}):null,Object(z.jsx)(ce,{label:D.formatMessage({id:"form__swapping_via"}),children:Object(z.jsx)(N.default,{providers:P.providers,typography:"Body2Strong",color:"text-default"})}),Object(B.gt)(null!=(x=null==(_=P.protocalFees)?void 0:_.amount)?x:"0",0)?Object(z.jsx)(de,{tx:P}):null,P.percentageFee?Object(z.jsx)(ce,{label:D.formatMessage({id:"form__included_onekey_fee"}),children:Object(z.jsx)(ue,{tx:P})}):null,J?Object(z.jsx)(ce,{label:D.formatMessage({id:"form__order_no"}),children:Object(z.jsxs)(d.default,{flexDirection:"row",alignItems:"center",onPress:function(){return X(null!=J?J:"")},children:[Object(z.jsx)(m.default,{maxW:"56",mr:"1",children:Object(z.jsx)(h.default.Body2Strong,{textAlign:"right",children:J})}),Object(z.jsx)(v.default,{name:"Square2StackOutline",size:16})]})}):null]})]}),Object(z.jsx)(o.default,{my:"6"}),Object(z.jsxs)(m.default,{children:[Object(z.jsx)(h.default.Subheading,{color:"text-subdued",mb:"4",children:D.formatMessage({id:"form__time_uppercase"})}),Object(z.jsxs)(r.default,{space:4,children:[Object(z.jsx)(ce,{label:D.formatMessage({id:"form__created"}),children:Object(z.jsx)(h.default.Body2Strong,{color:"text-default",children:Z(new Date(P.addedTime))})}),Object(z.jsx)(ce,{label:D.formatMessage({id:"form__updated"}),children:Object(z.jsx)(h.default.Body2Strong,{color:"text-default",children:Z(new Date(null!=(M=P.confirmedTime)?M:P.addedTime))})})]})]}),Object(z.jsx)(o.default,{my:"7"}),T?Object(z.jsxs)(m.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(z.jsx)(y.default,{width:82,height:25}),Object(z.jsx)(ie,{tx:P})]}):null]}):null}},5232:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"SUPPORTED_IMAGE_EXTENSIONS",(function(){return l})),n.d(t,"SUPPORTED_AUDIO_EXTENSIONS",(function(){return s})),n.d(t,"SUPPORTED_VIDEO_EXTENSIONS",(function(){return i})),n.d(t,"SUPPORTED_SVG_EXTENSIONS",(function(){return u})),n.d(t,"parseUri",(function(){return d})),n.d(t,"parseQuerystring",(function(){return f})),n.d(t,"parseUrlObject",(function(){return j})),n.d(t,"default",(function(){return b})),n.d(t,"isImage",(function(){return O})),n.d(t,"isAudio",(function(){return p})),n.d(t,"isVideo",(function(){return m})),n.d(t,"isSVG",(function(){return h})),n.d(t,"getSvgContent",(function(){return x})),n.d(t,"checkGoogleOauthUrl",(function(){return v}));var r=n(4194),o=n.n(r),a=n(601),c=n.n(a),l=[".png",".jpg",".jpeg",".svg",".gif"],s=[".mp3",".wav"],i=[".mp4"],u=[".svg"];function d(e){return c()(e)}function f(e){return o.a.parse(e)}function j(e){return new URL(e)}function b(e,t){if("string"!==typeof t||!Array.isArray(e))return!1;try{var n=c()(t||""),r=n.href,o=n.pathname,a=n.protocol,l=e.reduce((function(e,t){return e||"string"===typeof t&&o.toLowerCase().endsWith(t.toLowerCase())}),!1);return r===t&&l&&"https:"===a}catch(s){return!1}}var O=function(e){return b(l,e)},p=function(e){return b(s,e)},m=function(e){return b(i,e)},h=function(e){return b(u,e)};function x(t){if(t.startsWith("data:image/svg+xml;base64,")){var n=t.replace("data:image/svg+xml;base64,","");return e.from(n,"base64").toString("utf-8")}return t.startsWith("data:image/svg+xml;utf8,")?t.replace("data:image/svg+xml;utf8,",""):t}function v(e){return"https://accounts.google.com"===function(e){var t=e.url;try{return new URL(t).origin||""}catch(n){}return""}({url:e.url})}}.call(this,n(26).Buffer)},5233:function(e,t,n){"use strict";n.r(t),function(e){var r=n(57),o=n(48),a=n(27),c=n(12),l=n(40),s=n(106),i=n(1),u=n(44),d=n(88),f=n(235),j=(n(24),n(5234)),b=n.n(j),O=n(16),p=n(4033),m=n(4550),h=n(568),x=n(4020),v=n(946),g=n(0);t.default=function(){var t=Object(u.useRoute)(),n=Object(u.useNavigation)(),j=Object(d.default)(),w=Object(x.useWalletsSwapTransactions)(),k=t.params.txid,y=w.filter((function(e){return e.hash===k}))[0],_=Object(i.useCallback)((function(){"swftc"===y.quoterType?e.open(h.swftcCustomerSupportUrl,"_blank"):n.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.HistoryRequest,params:{screen:p.HistoryRequestRoutes.SubmitRequestModal}})}),[n,y]),I=Object(i.useCallback)((function(){n.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Swap,params:{screen:v.SwapRoutes.Share,params:{txid:k}}})}),[n,k]),S=Object(i.useMemo)((function(){return"swftc"!==y.quoterType?{leftIconName:"ChatBubbleLeftEllipsisMini",onPress:_}:{onPress:_,children:Object(g.jsxs)(c.default,{flexDirection:"row",alignItems:"center",children:[Object(g.jsxs)(c.default,{w:"5",h:"5",children:[Object(g.jsx)(s.default,{w:"5",h:"5",source:b.a}),Object(g.jsx)(c.default,{position:"absolute",bg:"surface-neutral-default",bottom:-4,right:-4,borderRadius:"full",children:Object(g.jsx)(l.default,{name:"ChatBubbleLeftEllipsisMini",size:14})})]}),Object(g.jsx)(a.default.Button1,{ml:"2",children:j.formatMessage({id:"action__support"})})]})}}),[y,j,_]),C=Object(i.useCallback)((function(){var e=function(e){var t,n,r=["accountId: "+e.accountId,"txhash: "+e.hash];if(null!=(t=e.tokens)&&t.from){var o=e.tokens.from;r=r.concat(["fromAmount: "+o.amount,"fromTokenSymbol: "+o.token.symbol,"fromNetworkId: "+o.networkId,"fromTokenIdOnNetwork: "+o.token.tokenIdOnNetwork])}if(null!=(n=e.tokens)&&n.to){var a=e.tokens.to;r=r.concat(["toAmount: "+a.amount,"toTokenSymbol: "+a.token.symbol,"toNetworkId: "+a.networkId,"toTokenIdOnNetwork: "+a.token.tokenIdOnNetwork])}return e.destinationTransactionHash&&r.push("destinationTransactionHash: "+e.destinationTransactionHash),e.actualReceived&&r.push("actualReceived: "+e.actualReceived),r.join("\n")}(y);Object(f.copyToClipboard)(e),o.default.show({title:j.formatMessage({id:"msg__copied"})})}),[y,j]);return Object(g.jsx)(r.default,{hidePrimaryAction:!0,scrollViewProps:{children:Object(g.jsx)(m.default,{tx:y,showViewInBrowser:!0})},primaryActionTranslationId:"action__share",primaryActionProps:{leftIconName:"ShareMini",type:"basic",onPress:I,onLongPress:C},secondaryActionTranslationId:"action__support",secondaryActionProps:S})}}.call(this,n(58))},5234:function(e,t,n){e.exports=n.p+"static/media/swft_logo.ca134069.png"},5288:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(4138),a=n(57),c=n(64),l=n(27),s=n(106),i=n(4),u=n.n(i),d=n(12),f=n(662),j=n(1),b=n(44),O=n(88),p=n(25),m=n(0),h=function(e){var t=e.searchContent,n=e.setSearchContext,r=Object(O.default)();return Object(m.jsx)(d.default,{children:Object(m.jsx)(f.default,{w:"full",placeholder:r.formatMessage({id:"form__search"}),mb:"4",value:t,onClear:function(){return n("")},onChangeText:n})})},x=function(){var e=Object(O.default)(),t=Object(b.useRoute)(),n=Object(p.useNavigation)(),r=Object(j.useState)(""),o=u()(r,2),i=o[0],f=o[1],x=Object(p.useAppSelector)((function(e){return e.swapTransactions.tokenList})),v=Object(j.useMemo)((function(){if(!t.params.networkIds)return x;var e=new Set(t.params.networkIds);return null==x?void 0:x.filter((function(t){return e.has(t.networkId)}))}),[x,t.params.networkIds]),g=Object(j.useMemo)((function(){if(!v)return[];var e=v.map((function(e){return{name:e.name,networkId:e.networkId,logoURI:e.logoURI,fullname:e.fullname}})).filter((function(e){return e.logoURI&&e.networkId&&e.name&&"All"!==e.name})),t=i.trim();return t&&(e=e.filter((function(e){return(e.fullname?e.fullname:e.name).toLowerCase().includes(t.toLowerCase())}))),e}),[v,i]);return Object(m.jsx)(a.default,{height:"560px",footer:null,header:e.formatMessage({id:"network__networks"}),flatListProps:{data:g,renderItem:function(e){var r=e.item;return Object(m.jsx)(c.default,{onPress:function(){null==t.params.onSelect||t.params.onSelect(r.networkId),n.goBack()},children:function(e){var t=e.isHovered,n=e.isPressed;return Object(m.jsxs)(d.default,{p:"2",alignItems:"center",borderRadius:12,flexDirection:"row",bg:n?"surface-pressed":t?"surface-hovered":"transparent",children:[Object(m.jsx)(s.default,{borderRadius:"full",overflow:"hidden",src:r.logoURI,w:"10",h:"10",mr:"2"}),Object(m.jsx)(l.default.Body1Strong,{children:r.fullname?r.fullname:r.name})]})}})},ListHeaderComponent:Object(m.jsx)(h,{searchContent:i,setSearchContext:f})}})},v=n(47),g=n(48),w=n(2),k=n.n(w),y=n(126),_=n(794),I=n(17),S=n(1088),C=function(){var e,t=Object(O.default)(),n=Object(b.useNavigation)(),r=null!=(e=Object(b.useRoute)().params)?e:{},o=r.onSelected,c=r.networkId,l=r.contactExcludeWalletAccount,s=Object(y.default)({defaultValues:{address:""},mode:"onChange"}),i=s.control,u=s.watch,d=s.trigger,f=s.setError,h=s.setValue,x=s.handleSubmit,w=s.formState.isValid,C=Object(_.useNameServiceStatus)(),A=C.onChange,M=C.disableSubmitBtn,P=C.address,R=Object(p.useDebounce)(u("address"),300),T=P||R;Object(j.useEffect)((function(){function e(){return(e=k()((function*(){if(T&&c){if(M)return void d("address");try{yield I.default.validator.validateAddress(c,T.trim()),d("address")}catch(e){f("address",{message:t.formatMessage({id:"form__address_invalid"})})}}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T,c,d,f,t,M]);var B=Object(j.useCallback)(function(){var e=k()((function*(e){if(c)try{yield I.default.validator.validateAddress(c,e.address.trim())}catch(a){return void g.default.show({title:t.formatMessage({id:"form__address_invalid"})},{type:"error"})}null==o||o({address:e.address,name:e.name});var r=n.getParent();null!=r&&r.canGoBack()?r.goBack():n.goBack()}));return function(t){return e.apply(this,arguments)}}(),[n,o,c,t]),D=Object(j.useCallback)((function(e){A(e)}),[A]),N=Object(j.useCallback)((function(e){return Object(m.jsx)(_.default,{name:e,onChange:D,networkId:c})}),[c,D]);return Object(m.jsx)(a.default,{header:t.formatMessage({id:"form__enter_address"}),hideSecondaryAction:!0,primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:!w||M,onPress:function(){return x((function(e){!M&&P&&(e.address=P),B(e)}))()}},children:Object(m.jsx)(v.default.Item,{control:i,name:"address",rules:{required:{value:!0,message:t.formatMessage({id:"form__field_is_required"})}},helpText:N,children:Object(m.jsx)(S.default,{networkId:c,onChangeAddressName:function(e){return h("name",e)},contactExcludeWalletAccount:l,plugins:["paste","scan","contact"]})})})},A=n(63),M=n(76),P=n(51),R=n(40),T=n(20),B=n(336),D=n(204),N=n(151),E=function(){var e=Object(O.default)(),t=Object(D.default)();return Object(j.useEffect)((function(){return N.appUIEventBus.on(N.AppUIEventBusNames.LimitOrderError,t),N.appUIEventBus.on(N.AppUIEventBusNames.LimitOrderCompleted,t),function(){N.appUIEventBus.off(N.AppUIEventBusNames.LimitOrderError,t),N.appUIEventBus.off(N.AppUIEventBusNames.LimitOrderCompleted,t)}}),[]),Object(m.jsx)(a.default,{children:Object(m.jsxs)(A.default,{alignItems:"center",justifyContent:"center",flex:1,children:[Object(m.jsx)(d.default,{w:"200px",h:"200px",children:Object(m.jsx)(B.default,{width:200,source:n(1607),autoPlay:!0,loop:!1})}),Object(m.jsx)(T.default,{typography:"DisplayMedium",children:e.formatMessage({id:"title__swap_processing_1_2"})}),Object(m.jsx)(d.default,{h:8}),Object(m.jsxs)(d.default,{position:"relative",children:[Object(m.jsxs)(d.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(P.default,{w:"8",h:"8",backgroundColor:"interactive-default",borderRadius:"full",mr:"6",children:Object(m.jsx)(R.default,{name:"CheckMini",size:20,color:"text-on-primary"})}),Object(m.jsxs)(d.default,{children:[Object(m.jsx)(l.default.Body1Strong,{children:e.formatMessage({id:"title__approved"})}),Object(m.jsx)(l.default.Body1Strong,{children:e.formatMessage({id:"transaction__swap_status_completed"})})]})]}),Object(m.jsx)(d.default,{h:"6"}),Object(m.jsxs)(d.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(P.default,{w:"8",h:"8",backgroundColor:"surface-subdued",borderRadius:"full",borderWidth:"2",borderColor:"interactive-default",mr:"6",children:Object(m.jsx)(d.default,{w:"2",h:"2",borderRadius:"full",backgroundColor:"interactive-default"})}),Object(m.jsxs)(d.default,{children:[Object(m.jsx)(l.default.Body1Strong,{children:e.formatMessage({id:"action__sign"})}),Object(m.jsxs)(d.default,{flexDirection:"row",children:[Object(m.jsx)(M.default,{size:"sm"}),Object(m.jsx)(l.default.Body1Strong,{ml:"2",children:e.formatMessage({id:"form__please_confirm_on_device"})})]})]})]}),Object(m.jsx)(d.default,{w:"8",h:"full",position:"absolute",top:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",zIndex:-1,children:Object(m.jsx)(d.default,{w:"1",height:"80%",bg:"interactive-default"})})]})]})})},L=n(121),U=n(201),W=n(41),H=n(747),z=n(108),V=n(16),q=n(1616),F=n(3943),Z=n(946),Q=n(82),K=n(3),G=n.n(K),J=n(15),X=n.n(J),Y=n(235),$=n(130),ee=n(190),te=n(125),ne=n(369),re=n(697),oe=n(188),ae=["token"];function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var le=function(e){var t=e.token,n=X()(e,ae),r=Object(O.default)(),o=Object(p.useNavigation)(),a=Object(p.useNetworkSimple)(null==t?void 0:t.networkId),c=Object(ne.default)(a).openAddressDetails,l=Object(j.useCallback)((function(){var e;Object(Y.copyToClipboard)(null!=(e=null==t?void 0:t.address)?e:""),g.default.show({title:r.formatMessage({id:"msg__copied"})})}),[r,null==t?void 0:t.address]),s=Object(j.useCallback)((function(){var e;o.navigate(V.RootRoutes.Modal,{screen:V.ModalRoutes.ScanQrcode,params:{screen:re.ScanQrcodeRoutes.ScanQrcodeResult,params:{type:re.ScanSubResultCategory.TEXT,data:null!=(e=null==t?void 0:t.address)?e:"",hideMoreMenu:!0}}})}),[o,null==t?void 0:t.address]),i=Object(j.useCallback)((function(){var e;c(null!=(e=null==t?void 0:t.tokenIdOnNetwork)?e:"")}),[c,t]),u=Object(j.useMemo)((function(){var e=[{id:"action__copy_address",onPress:l,icon:"Square2StackOutline"},{id:"action__show_full_address",onPress:s,icon:"MagnifyingGlassPlusOutline"}];return null!=a&&a.settings.hiddenBlockBrowserTokenDetailLink||e.push({id:"action__view_in_browser",onPress:i,icon:"ArrowTopRightOnSquareOutline"}),e}),[null==a?void 0:a.settings.hiddenBlockBrowserTokenDetailLink,l,s,i]);return Object(m.jsx)(ee.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:u},n))},se=function(e){var t,n=e.accountId,r=e.token,o=Object(p.useTokenBalance)({networkId:null!=(t=null==r?void 0:r.networkId)?t:"",accountId:null!=n?n:"",token:r}),a=Object(F.useTokenPrice)(r),c=Object(oe.formatAmount)(o,6);return Object(oe.lte)(c,0)?null:Object(m.jsxs)(d.default,{alignItems:"flex-end",children:[Object(m.jsx)(l.default.Heading,{fontSize:16,lineHeight:24,children:c}),Object(m.jsx)(l.default.Caption,{color:"text-subdued",numberOfLines:2,children:Object(m.jsx)(te.FormatCurrency,{numbers:[null!=a?a:0,null!=o?o:0],render:function(e){return Object(m.jsx)(l.default.Caption,{ml:3,color:"text-subdued",children:a?e:"-"})}})})]})},ie=function(e){var t,n=e.accountId,r=e.token,o=Object($.isAccountCompatibleWithNetwork)(null!=n?n:"",null!=(t=null==r?void 0:r.networkId)?t:"");return Object(m.jsxs)(d.default,{flexDirection:"row",children:[o?Object(m.jsx)(se,{accountId:n,token:r}):null,Object(m.jsx)(le,{token:r,children:Object(m.jsx)(Q.default,{w:"10",h:"10",name:"EllipsisVerticalMini",type:"plain",ml:"1",circle:!0,hitSlop:8,isDisabled:!(null!=r&&r.tokenIdOnNetwork)})})]})},ue=n(471),de=n(818),fe=function(){return Object(m.jsx)(d.default,{h:"4"})},je=function(){return Object(m.jsx)(W.default,{mb:"4",space:1,children:[1,2,3,4].map((function(e){return Object(m.jsx)(d.default,{h:"7",w:"12",borderRadius:12,overflow:"hidden",children:Object(m.jsx)(de.default,{})},e)}))})},be=function(){return Object(m.jsx)(ue.default,{data:[1,2,3],ListHeaderComponent:je,renderItem:function(){return Object(m.jsxs)(d.default,{w:"full",flexDirection:"row",children:[Object(m.jsx)(d.default,{w:"10",h:"10",borderRadius:"full",overflow:"hidden",mr:"3",children:Object(m.jsx)(de.default,{})}),Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsx)(d.default,{h:"4",borderRadius:8,w:"40%",mb:"2",overflow:"hidden",children:Object(m.jsx)(de.default,{})}),Object(m.jsx)(d.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:Object(m.jsx)(de.default,{})})]})]})},keyExtractor:function(e){return String(e)},ItemSeparatorComponent:fe,showsVerticalScrollIndicator:!1})},Oe=function(){return Object(m.jsx)(ue.default,{data:[1,2,3],renderItem:function(){return Object(m.jsxs)(d.default,{w:"full",flexDirection:"row",children:[Object(m.jsx)(d.default,{w:"10",h:"10",borderRadius:"full",overflow:"hidden",mr:"3",children:Object(m.jsx)(de.default,{})}),Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsx)(d.default,{h:"4",borderRadius:8,w:"40%",mb:"2",overflow:"hidden",children:Object(m.jsx)(de.default,{})}),Object(m.jsx)(d.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:Object(m.jsx)(de.default,{})})]})]})},keyExtractor:function(e){return String(e)},ItemSeparatorComponent:fe,showsVerticalScrollIndicator:!1})},pe=Object(j.createContext)({networkId:""}),me=n(316),he=n.n(me),xe=n(13),ve=n.n(xe),ge=n(21),we=n.n(ge),ke=n(136);function ye(e,t){var n=function(e){var t=Object(j.useContext)(pe).tokenList;return Object(j.useMemo)((function(){var n;if(!t)return[];var r=e;r||(r="All");var o=t.find((function(e){return e.networkId===r}));return null!=(n=null==o?void 0:o.tokens)?n:[]}),[t,e])}(e),r=Object(p.useAccountTokensOnChain)(e,t),o=Object(F.useCachedBalances)(e,t),a=Object(p.useAppSelector)((function(e){return e.tokens.tokenPriceMap})),c=Object(p.useAppSelector)((function(e){return e.settings.selectedFiatMoneySymbol})),l=Object(j.useCallback)((function(e){var t,n,r=a[e.networkId+(e.address?"-":"")+(null!=(t=e.tokenIdOnNetwork)?t:"")];return null!=(n=null==r?void 0:r[c])?n:0}),[a,c]);return Object(j.useMemo)((function(){var e=[].concat(ve()(n),ve()(r)),t=new Set,a=function(e){return""+e.networkId+e.tokenIdOnNetwork},c=e.filter((function(e){return!t.has(a(e))&&(t.add(a(e)),!0)})),s=function(e){var t,n,r=Object(ke.getBalanceKey)(e);return Boolean(o[r]&&Number(Object(oe.formatAmount)(null!=(t=null==(n=o[r])?void 0:n.balance)?t:"0",6))>0)};if(he()(o))return c;var i=c.filter((function(e){return s(e)}));i.sort((function(e,t){var n,r,a=Object(ke.getBalanceKey)(e),c=Object(ke.getBalanceKey)(t),s=o[a],i=o[c],u=new we.a(null!=(n=null==s?void 0:s.balance)?n:"0").multipliedBy(l(e)),d=new we.a(null!=(r=null==i?void 0:i.balance)?r:"0").multipliedBy(l(t));return u.isLessThan(d)?1:-1}));var u=c.filter((function(e){return!s(e)}));return i.concat(u)}),[n,r,o,l])}var _e=function(){var e=Object(j.useContext)(pe),t=e.networkId,n=e.accountId,r=ye(t,n);return Object(j.useEffect)((function(){t&&n&&I.default.servicePrice.fetchSimpleTokenPrice({accountId:n,networkId:t,tokenIds:r.map((function(e){return e.tokenIdOnNetwork}))})}),[r,t,n]),null},Ie=function(){var e=Object(O.default)(),t=Object(p.useNavigation)(),n=Object(j.useContext)(pe),r=n.networkId,o=n.setNetworkId,a=n.networkOptions,s=n.otherNetworkOptions;return a&&0!==a.length?Object(m.jsx)(d.default,{mb:"4",children:Object(m.jsxs)(W.default,{space:"2",children:[a.map((function(e){return Object(m.jsx)(c.default,{onPress:function(){return null==o?void 0:o(e.networkId)},children:Object(m.jsxs)(d.default,{px:"2",py:"1.5",flexDirection:"row",alignItems:"center",bg:"surface-neutral-subdued",borderRadius:"12",borderWidth:1,borderColor:e.networkId===r?"interactive-default":"border-default",children:[e.logoURI?Object(m.jsx)(d.default,{w:"5",h:"5",borderRadius:"full",overflow:"hidden",mr:"1",children:Object(m.jsx)(H.default,{width:"20px",height:"20px",src:e.logoURI})}):null,Object(m.jsx)(l.default.Body2Strong,{children:e.name})]})},e.name)})),s&&s.length?Object(m.jsx)(c.default,{onPress:function(){return t.navigate(V.RootRoutes.Modal,{screen:V.ModalRoutes.Swap,params:{screen:Z.SwapRoutes.ChainSelector,params:{networkIds:s?null==s?void 0:s.map((function(e){return e.networkId})).filter((function(e){return Boolean(e)})):void 0,onSelect:function(e){null==o||o(e)}}}})},children:Object(m.jsxs)(d.default,{px:"2",py:"1.5",flexDirection:"row",alignItems:"center",bg:"surface-neutral-subdued",borderRadius:"12",borderWidth:1,borderColor:"border-default",children:[Object(m.jsx)(l.default.Body2Strong,{children:s.length+" "+e.formatMessage({id:"action__more"})}),Object(m.jsx)(d.default,{ml:"1",children:Object(m.jsx)(R.default,{size:12,name:"ChevronDownSolid"})})]})},"more"):null]})}):null},Se=function(e){var t=e.keyword,n=e.onChange,r=Object(O.default)();return Object(m.jsxs)(d.default,{px:"8px",children:[Object(m.jsx)(f.default,{w:"full",placeholder:r.formatMessage({id:"content__search_token_or_contract_address",defaultMessage:"Search Tokens"}),mb:"16px",value:t,onClear:function(){return n("")},onChangeText:function(e){return n(e)}}),Object(m.jsx)(Ie,{})]})},Ce=function(e){var t=e.isLoading,n=e.terms,r=Object(O.default)();return t?Object(m.jsx)(d.default,{px:"2",children:Object(m.jsx)(Oe,{})}):n.length>0?Object(m.jsx)(U.default,{emoji:"\ud83d\udd50",title:r.formatMessage({id:"content__no_results",defaultMessage:"No Result"}),subTitle:r.formatMessage({id:"content__no_results_desc",defaultMessage:"The token you searched for was not found"})}):null},Ae=function(e){var t=e.token,n=e.onSelect,r=e.isSearchMode,o=Object(j.useContext)(pe),a=o.selectedToken,l=o.accountId,s=Object(p.useNetworkSimple)(t.networkId),i=Object(j.useCallback)((function(){null==n||n(t),Object(q.notifyIfRiskToken)(t)}),[n,t]),u=t.networkId===(null==a?void 0:a.networkId)&&t.tokenIdOnNetwork===(null==a?void 0:a.tokenIdOnNetwork),d=t.name;return t.tokenIdOnNetwork?(d=Object(z.shortenAddress)(t.tokenIdOnNetwork),r&&null!=s&&s.name&&(d=s.name+" \xb7 "+d)):s&&(d=null==s?void 0:s.name),Object(m.jsxs)(c.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:"8px",borderRadius:"12px",overflow:"hidden",onPress:i,width:"full",opacity:u?60:1e3,_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[Object(m.jsx)(L.default,{token:t,showInfo:!0,showNetworkIcon:!0,showTokenVerifiedIcon:!0,name:t.symbol,description:d,nameProps:{numberOfLines:2,maxW:"24"}}),Object(m.jsx)(ie,{token:t,accountId:l,isSearchMode:r})]},t.tokenIdOnNetwork)},Me=function(e){var t=e.onSelect,n=e.excluded,r=Object(O.default)(),o=Object(j.useState)(""),c=u()(o,2),l=c[0],s=c[1],i=Object(j.useContext)(pe),d=i.networkId,f=ye(d,i.accountId),b=Object(p.useDebounce)(l.trim(),300),h=Object(F.useTokenSearch)(b,d),x=h.loading,v=h.result,g=x||l!==b,w=Object(j.useMemo)((function(){return{dataSources:(null!=v?v:f).filter((function(e){return!(null!=n&&n.includes(e.tokenIdOnNetwork))})),renderItem:function(e){var n=e.item;return Object(m.jsx)(Ae,{token:n,onSelect:t,isSearchMode:!!v})}}}),[v,f,t,n]),k=w.dataSources,y=w.renderItem;return f&&0!==f.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(a.default,{header:r.formatMessage({id:"title__select_a_token"}),height:"560px",footer:null,hidePrimaryAction:!0,flatListProps:{data:k,renderItem:y,keyExtractor:function(e){return(null==e?void 0:e.tokenIdOnNetwork)+":"+(null==e?void 0:e.networkId)},showsVerticalScrollIndicator:!1,ListEmptyComponent:Object(m.jsx)(Ce,{isLoading:g,terms:b}),ListHeaderComponent:Object(m.jsx)(Se,{keyword:l,onChange:s}),mx:"-8px"}}),Object(m.jsx)(_e,{})]}):Object(m.jsx)(a.default,{header:r.formatMessage({id:"title__select_a_token"}),height:"560px",footer:null,hidePrimaryAction:!0,children:Object(m.jsx)(be,{})})},Pe=function(){var e=Object(O.default)(),t=Object(p.useNavigation)(),n=Object(p.useActiveWalletAccount)().network,r=Object(p.useAppSelector)((function(e){return e.swap.outputToken})),o=Object(p.useAppSelector)((function(e){return e.swap.inputToken})),a=Object(p.useAppSelector)((function(e){return e.swapTransactions.tokenList})),c=Object(p.useAppSelector)((function(e){return e.swap.sendingAccount})),l=Object(j.useState)((function(){var e=(null!=a?a:[]).map((function(e){return e.networkId}));if(o&&e.includes(o.networkId))return o.networkId})),s=u()(l,2),i=s[0],d=s[1],f=Object(p.usePrevious)(i),b=Object(j.useCallback)((function(e){I.default.serviceSwap.setInputToken(e),t.goBack()}),[t]),h=Object(j.useMemo)((function(){if(!a)return{actives:[],inactives:[]};for(var t=a.filter((function(e){return e.name&&e.networkId})).map((function(t){return{name:"all"===t.name.toLowerCase()?e.formatMessage({id:"option__all"}):t.name,networkId:"all"===t.name.toLowerCase()?void 0:t.networkId,logoURI:t.logoURI}})),n=[],r=[],o=0;o<t.length;o+=1){var c=t[o],l=i||f;c.networkId&&c.networkId!==l?r.push(c):n.push(c)}return{actives:n,inactives:r}}),[a,e,i,f]),x=Object(j.useMemo)((function(){return{impl:null==n?void 0:n.impl,networkId:i,setNetworkId:d,selectedToken:r,accountId:null==c?void 0:c.id,tokenList:a,networkOptions:h.actives,otherNetworkOptions:h.inactives}}),[r,i,d,null==n?void 0:n.impl,null==c?void 0:c.id,a,h]);return Object(j.useEffect)((function(){I.default.serviceSwap.fetchSwapTokenBalance({accountId:null==c?void 0:c.id,networkId:i})}),[i,null==c?void 0:c.id]),Object(m.jsx)(pe.Provider,{value:x,children:Object(m.jsx)(Me,{onSelect:b})})},Re=n(236),Te=n(100),Be=n(819),De=n(4145),Ne=n(4078),Ee=["label","children"];function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(e){var t,n=e.limitOrder,r=Object(p.useNetwork)({networkId:n.networkId}).network,o=Object(oe.formatAmountExact)(Object(oe.getTokenAmountValue)(n.tokenIn,n.tokenInValue)),a=Object(oe.formatAmountExact)(Object(oe.getTokenAmountValue)(n.tokenOut,n.tokenOutValue));return Object(m.jsxs)(d.default,{my:"0",px:"0",children:[Object(m.jsx)(d.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:Object(m.jsxs)(d.default,{flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(L.default,{size:"8",token:n.tokenIn}),Object(m.jsxs)(d.default,{ml:"3",children:[Object(m.jsxs)(l.default.Body1,{children:[o,null==(t=n.tokenIn)?void 0:t.symbol.toString()]}),Object(m.jsx)(l.default.Body2,{color:"text-subdued",children:null==r?void 0:r.name})]})]})}),Object(m.jsx)(d.default,{h:"8",w:"full",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:Object(m.jsx)(d.default,{mr:"4",width:"8",flexDirection:"row",justifyContent:"center",children:Object(m.jsx)(R.default,{name:"ArrowDownMini",size:16})})}),Object(m.jsx)(d.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:Object(m.jsxs)(d.default,{flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(L.default,{size:"8",token:n.tokenOut}),Object(m.jsxs)(d.default,{ml:"3",children:[Object(m.jsxs)(d.default,{flexDirection:"row",alignItems:"center",children:[Object(m.jsx)(l.default.Caption,{mr:"1",children:"~"}),Object(m.jsxs)(l.default.Body1,{children:[a,n.tokenOut.symbol.toUpperCase()]})]}),Object(m.jsx)(l.default.Body2,{color:"text-subdued",children:null==r?void 0:r.name})]})]})})]})},He=function(e){var t=e.label,n=e.children,r=X()(e,Ee);return Object(m.jsxs)(d.default,Ue(Ue({position:"relative",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},r),{},{children:[Object(m.jsx)(l.default.Body2,{color:"text-disabled",children:t}),Object(m.jsx)(d.default,{children:n})]}))};var ze=function(){var e,t,n=Object(b.useRoute)(),r=Object(O.default)(),o=Object(Ne.useAllLimitOrders)(),s=Object(Be.default)().formatDate,i=Object(j.useState)(!1),f=u()(i,2),h=f[0],x=f[1],v=Object(Ne.useCancelLimitOrderCallback)(),w=n.params.orderHash,y=function(e){var t=Object(j.useState)(e),n=u()(t,2),r=n[0],o=n[1];return Object(j.useEffect)((function(){e&&o(e)}),[e]),r}(o.find((function(e){return e.orderHash===w}))),_=Object(p.useAccount)({accountId:null!=(e=null==y?void 0:y.accountId)?e:"",networkId:null!=(t=null==y?void 0:y.networkId)?t:""}).account,I=Object(j.useCallback)((function(){y&&(Object(Y.copyToClipboard)(y.orderHash),g.default.show({title:r.formatMessage({id:"msg__copied"})}))}),[y,r]),S=Object(j.useCallback)(k()((function*(){if(_&&y){x(!0);try{yield v({activeAccount:_,details:y})}finally{x(!1)}}})),[v,y,_]);if(!y)return null;var C=0===Number(y.remainingFillable)?r.formatMessage({id:"form_opened"}):Math.floor(Number(Object(oe.getLimitOrderPercent)(y)))+"%";return Object(m.jsx)(a.default,{header:r.formatMessage({id:"title__order_details"}),hideSecondaryAction:!0,primaryActionTranslationId:"action__cancel",onPrimaryActionPress:S,footer:y.canceled?null:void 0,primaryActionProps:{leftIconName:"XMarkOutline",type:"plain",width:"full",isLoading:h},children:Object(m.jsxs)(d.default,{children:[Object(m.jsx)(We,{limitOrder:y}),Object(m.jsx)(Te.default,{my:"4"}),Object(m.jsxs)(A.default,{space:"4",children:[Object(m.jsx)(He,{label:r.formatMessage({id:"Rate"}),children:Object(m.jsx)(De.default,{tokenA:y.tokenIn,tokenB:y.tokenOut,rate:y.rate})}),Object(m.jsx)(He,{label:r.formatMessage({id:"form__order_hash"}),children:Object(m.jsxs)(c.default,{flexDirection:"row",alignItems:"center",mr:"1",onPress:I,children:[Object(m.jsx)(l.default.Body2Strong,{mr:"1",children:Object(z.shortenAddress)(y.orderHash)}),Object(m.jsx)(R.default,{size:16,name:"Square2StackOutline"})]})}),Object(m.jsx)(He,{label:r.formatMessage({id:"content__created"}),children:Object(m.jsx)(l.default.Body2Strong,{children:s(new Date(1e3*y.createdAt))})}),Object(m.jsx)(He,{label:r.formatMessage({id:"form__expiration"}),children:Object(m.jsx)(l.default.Body2Strong,{children:s(new Date(1e3*y.expiredIn))})}),Object(m.jsx)(He,{label:r.formatMessage({id:"form__status"}),children:y.canceled?Object(m.jsx)(Re.default,{type:"warning",size:"sm",title:r.formatMessage({id:"badge__cancelling"})}):Object(m.jsx)(Re.default,{type:"info",size:"sm",title:C})})]})]})})},Ve=n(4023),qe=Object(j.createContext)({networkId:""});function Fe(e,t){var n=function(e){var t=Object(j.useContext)(qe).tokenList;return Object(j.useMemo)((function(){var n;if(!t)return[];var r=e;r||(r="All");var o=t.find((function(e){return e.networkId===r}));return null!=(n=null==o?void 0:o.tokens)?n:[]}),[t,e])}(e),r=Object(p.useAccountTokensOnChain)(e,t),o=Object(F.useCachedBalances)(e,t),a=Object(p.useAppSelector)((function(e){return e.tokens.tokenPriceMap})),c=Object(p.useAppSelector)((function(e){return e.settings.selectedFiatMoneySymbol})),l=Object(j.useCallback)((function(e){var t,n,r=a[e.networkId+(e.address?"-":"")+(null!=(t=e.tokenIdOnNetwork)?t:"")];return null!=(n=null==r?void 0:r[c])?n:0}),[a,c]);return Object(j.useMemo)((function(){var e=[].concat(ve()(n),ve()(r)),t=new Set,a=function(e){return""+e.networkId+e.tokenIdOnNetwork},c=e.filter((function(e){return!t.has(a(e))&&(t.add(a(e)),!0)})),s=function(e){var t,n,r=Object(ke.getBalanceKey)(e);return Boolean(o[r]&&Number(Object(oe.formatAmount)(null!=(t=null==(n=o[r])?void 0:n.balance)?t:"0",6))>0)};if(he()(o))return c;var i=c.filter((function(e){return s(e)}));i.sort((function(e,t){var n,r,a=Object(ke.getBalanceKey)(e),c=Object(ke.getBalanceKey)(t),s=o[a],i=o[c],u=new we.a(null!=(n=null==s?void 0:s.balance)?n:"0").multipliedBy(l(e)),d=new we.a(null!=(r=null==i?void 0:i.balance)?r:"0").multipliedBy(l(t));return u.isLessThan(d)?1:-1}));var u=c.filter((function(e){return!s(e)}));return i.concat(u)}),[n,r,o,l])}var Ze=function(){var e=Object(j.useContext)(qe),t=e.networkId,n=e.accountId,r=Fe(t,n);return Object(j.useEffect)((function(){t&&n&&I.default.servicePrice.fetchSimpleTokenPrice({accountId:n,networkId:t,tokenIds:r.map((function(e){return e.tokenIdOnNetwork}))})}),[r,t,n]),null},Qe=function(){var e=Object(j.useContext)(qe),t=e.networkId,n=e.setNetworkId,r=e.networkOptions,o=Object(j.useMemo)((function(){return r?r.map((function(e){return{text:e.name,networkId:e.networkId,leftComponentRender:function(){return Object(m.jsx)(d.default,{mr:"1",children:Object(m.jsx)(s.default,{size:5,src:e.logoURI})})}}})):[]}),[r]),a=Object(j.useCallback)((function(e){var t=o[e];null==n||n(t.networkId)}),[o,n]),c=Object(j.useMemo)((function(){return o.findIndex((function(e){return e.networkId===t}))}),[o,t]);return 0===o.length?null:Object(m.jsx)(d.default,{mb:"4",children:Object(m.jsx)(Ve.default,{buttons:o,selectedIndex:c,onButtonPress:a,bg:"background-default"})})},Ke=function(e){var t=e.keyword,n=e.onChange,r=Object(O.default)();return Object(m.jsxs)(d.default,{px:"8px",children:[Object(m.jsx)(Qe,{}),Object(m.jsx)(f.default,{w:"full",placeholder:r.formatMessage({id:"content__search_token_or_contract_address",defaultMessage:"Search Tokens"}),mb:"16px",value:t,onClear:function(){return n("")},onChangeText:function(e){return n(e)}})]})},Ge=function(e){var t=e.isLoading,n=e.terms,r=Object(O.default)();return t?Object(m.jsx)(d.default,{px:"2",children:Object(m.jsx)(Oe,{})}):n.length>0?Object(m.jsx)(U.default,{emoji:"\ud83d\udd50",title:r.formatMessage({id:"content__no_results",defaultMessage:"No Result"}),subTitle:r.formatMessage({id:"content__no_results_desc",defaultMessage:"The token you searched for was not found"})}):null},Je=function(e){var t,n,r=e.token,o=e.isSearchMode,a=Object(j.useContext)(qe).accountId,c=Object($.isAccountCompatibleWithNetwork)(null!=a?a:"",null!=(t=null==r?void 0:r.networkId)?t:""),s=Object(p.useTokenBalance)({networkId:null!=(n=null==r?void 0:r.networkId)?n:"",accountId:null!=a?a:"",token:r}),i=Object(F.useTokenPrice)(r);return!o&&c&&Object(oe.gt)(s,0)?Object(m.jsxs)(d.default,{alignItems:"flex-end",children:[Object(m.jsx)(l.default.Heading,{fontSize:16,lineHeight:24,children:Object(oe.formatAmount)(s,6)}),Object(m.jsx)(l.default.Caption,{color:"text-subdued",numberOfLines:2,children:Object(m.jsx)(te.FormatCurrency,{numbers:[null!=i?i:0,null!=s?s:0],render:function(e){return Object(m.jsx)(l.default.Caption,{ml:3,color:"text-subdued",children:i?e:"-"})}})})]}):Object(m.jsx)(R.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})},Xe=function(e){var t=e.token,n=e.onSelect,r=e.isSearchMode,o=Object(j.useContext)(qe).selectedToken,a=Object(p.useNetworkSimple)(t.networkId),l=Object(j.useCallback)((function(){null==n||n(t),Object(q.notifyIfRiskToken)(t)}),[n,t]),s=t.networkId===(null==o?void 0:o.networkId)&&t.tokenIdOnNetwork===(null==o?void 0:o.tokenIdOnNetwork),i=t.name;return t.tokenIdOnNetwork?(i=Object(z.shortenAddress)(t.tokenIdOnNetwork),r&&null!=a&&a.name&&(i=a.name+" \xb7 "+i)):a&&(i=null==a?void 0:a.name),Object(m.jsxs)(c.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:"8px",borderRadius:"12px",overflow:"hidden",onPress:l,width:"full",opacity:s?60:1e3,_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[Object(m.jsx)(L.default,{token:t,showInfo:!0,showNetworkIcon:!0,showTokenVerifiedIcon:!0,name:t.symbol,description:i,nameProps:{numberOfLines:2}}),Object(m.jsx)(Je,{token:t,isSearchMode:r})]},t.tokenIdOnNetwork)},Ye=function(e){var t=e.onSelect,n=e.excluded,r=Object(O.default)(),o=Object(j.useState)(""),c=u()(o,2),l=c[0],s=c[1],i=Object(j.useContext)(qe),d=i.networkId,f=Fe(d,i.accountId),b=Object(p.useDebounce)(l.trim(),300),h=Object(F.useTokenSearch)(b,d),x=h.loading,v=h.result,g=x||l!==b,w=Object(j.useMemo)((function(){return{dataSources:(null!=v?v:f).filter((function(e){return!(null!=n&&n.includes(e.tokenIdOnNetwork))})),renderItem:function(e){var n=e.item;return Object(m.jsx)(Xe,{token:n,onSelect:t,isSearchMode:!!v})}}}),[v,f,t,n]),k=w.dataSources,y=w.renderItem;return f&&0!==f.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(a.default,{header:r.formatMessage({id:"title__select_a_token"}),height:"560px",footer:null,hidePrimaryAction:!0,flatListProps:{data:k,renderItem:y,keyExtractor:function(e){return(null==e?void 0:e.tokenIdOnNetwork)+":"+(null==e?void 0:e.networkId)},showsVerticalScrollIndicator:!1,ListEmptyComponent:Object(m.jsx)(Ge,{isLoading:g,terms:b}),ListHeaderComponent:Object(m.jsx)(Ke,{keyword:l,onChange:s}),mx:"-8px"}}),Object(m.jsx)(Ze,{})]}):Object(m.jsx)(a.default,{header:r.formatMessage({id:"title__select_a_token"}),height:"560px",footer:null,hidePrimaryAction:!0,children:Object(m.jsx)(be,{})})},$e=n(568),et=function(){var e=Object(O.default)(),t=Object(p.useNavigation)(),n=Object(p.useActiveWalletAccount)().network,r=Object(p.useAppSelector)((function(e){return e.limitOrder.tokenIn})),o=Object(p.useAppSelector)((function(e){return e.limitOrder.tokenOut})),a=Object(p.useAppSelector)((function(e){return e.limitOrder.activeAccount})),c=Object(p.useAppSelector)((function(e){return e.swapTransactions.tokenList})),l=Object(j.useState)((function(){var e=(null!=c?c:[]).map((function(e){return e.networkId}));if(r&&e.includes(r.networkId))return r.networkId})),s=u()(l,2),i=s[0],d=s[1],f=Object(j.useCallback)((function(e){I.default.serviceLimitOrder.setInputToken(e),t.goBack()}),[t]),b=Object(j.useMemo)((function(){return c?c.filter((function(e){return $e.limitOrderNetworkIds.includes(e.networkId)})):[]}),[c]),h=Object(j.useMemo)((function(){return b?b.map((function(t){return{name:"all"===t.name.toLowerCase()?e.formatMessage({id:"option__all"}):t.name,networkId:"all"===t.name.toLowerCase()?void 0:t.networkId,logoURI:t.logoURI}})):[]}),[b,e]),x=Object(j.useMemo)((function(){return{impl:null==n?void 0:n.impl,networkId:i,setNetworkId:d,selectedToken:o,accountId:null==a?void 0:a.id,networkOptions:h,tokenList:b}}),[o,i,d,null==n?void 0:n.impl,null==a?void 0:a.id,h,b]);Object(j.useEffect)((function(){I.default.serviceSwap.fetchSwapTokenBalance({accountId:null==a?void 0:a.id,networkId:i})}),[i,null==a?void 0:a.id]);var v=Object(j.useMemo)((function(){return[""]}),[]);return Object(m.jsx)(qe.Provider,{value:x,children:Object(m.jsx)(Ye,{onSelect:f,excluded:v})})},tt=function(){var e=Object(p.useNavigation)(),t=Object(p.useAppSelector)((function(e){return e.limitOrder.tokenIn})),n=Object(p.useAppSelector)((function(e){return e.limitOrder.tokenOut})),r=Object(p.useAppSelector)((function(e){return e.swapTransactions.tokenList})),o=Object(p.useAppSelector)((function(e){return e.limitOrder.activeAccount})),a=null==n?void 0:n.networkId,c=Object(j.useCallback)((function(t){I.default.serviceLimitOrder.setOutputToken(t),e.goBack()}),[e]),l=Object(j.useMemo)((function(){return r?r.filter((function(e){return $e.limitOrderNetworkIds.includes(e.networkId)})):[]}),[r]),s=Object(j.useMemo)((function(){return{networkId:null==t?void 0:t.networkId,selectedToken:t,accountId:null==o?void 0:o.id,tokenList:l}}),[t,l,null==o?void 0:o.id]);Object(j.useEffect)((function(){I.default.serviceSwap.fetchSwapTokenBalance({accountId:null==o?void 0:o.id,networkId:a})}),[a,null==o?void 0:o.id]);var i=Object(j.useMemo)((function(){return[""]}),[]);return Object(m.jsx)(qe.Provider,{value:s,children:Object(m.jsx)(Ye,{onSelect:c,excluded:i})})},nt=n(3984),rt=function(){var e=Object(O.default)(),t=Object(p.useNavigation)(),n=Object(p.useAppSelector)((function(e){return e.swap.inputToken})),r=Object(p.useAppSelector)((function(e){return e.swap.outputToken})),o=Object(p.useAppSelector)((function(e){return e.swapTransactions.tokenList})),a=Object(nt.useSwapRecipient)(),c=Object(j.useState)((function(){var e=(null!=o?o:[]).map((function(e){return e.networkId}));if(r&&e.includes(r.networkId))return r.networkId})),l=u()(c,2),s=l[0],i=l[1],d=Object(j.useState)((null==n?void 0:n.networkId)===(null==r?void 0:r.networkId)||null==r?void 0:r.networkId),f=u()(d,2),b=f[0],h=f[1];Object(j.useEffect)((function(){s&&s!==(null==n?void 0:n.networkId)&&h(s)}),[s,n]);var x=Object(j.useMemo)((function(){if(!o)return{actives:[],inactives:[]};var t=o.filter((function(e){return e.name&&e.networkId})).map((function(t){return{name:"all"===t.name.toLowerCase()?e.formatMessage({id:"option__all"}):t.name,networkId:"all"===t.name.toLowerCase()?void 0:t.networkId,logoURI:t.logoURI}})),r=function(e){return e.networkId?e.networkId===(null==n?void 0:n.networkId)?-9:b&&e.networkId===b?-8:0:-10};t=t.sort((function(e,t){return r(e)-r(t)}));var a=b?3:2;return{actives:t.slice(0,a),inactives:t.slice(a)}}),[o,e,n,b]),v=Object(j.useCallback)((function(e){I.default.serviceSwap.setOutputToken(e),t.goBack()}),[t]),g=Object(j.useMemo)((function(){return{networkId:s,setNetworkId:i,selectedToken:n,accountId:null==a?void 0:a.accountId,tokenList:o,networkOptions:x.actives,more:x.inactives.length}}),[s,i,n,null==a?void 0:a.accountId,o,x]);return Object(j.useEffect)((function(){I.default.serviceSwap.fetchSwapTokenBalance({accountId:null==a?void 0:a.accountId,networkId:s})}),[s,null==a?void 0:a.accountId]),Object(m.jsx)(pe.Provider,{value:g,children:Object(m.jsx)(Me,{onSelect:v})})},ot=Object(j.createContext)({networkId:""});function at(e,t){var n=function(e){var t=Object(j.useContext)(ot).tokenList;return Object(j.useMemo)((function(){var n;if(!t)return[];var r=e;r||(r="All");var o=t.find((function(e){return e.networkId===r}));return null!=(n=null==o?void 0:o.tokens)?n:[]}),[t,e])}(e),r=Object(p.useAccountTokensOnChain)(e,t),o=Object(F.useCachedBalances)(e,t),a=Object(p.useAppSelector)((function(e){return e.tokens.tokenPriceMap})),c=Object(p.useAppSelector)((function(e){return e.settings.selectedFiatMoneySymbol})),l=Object(j.useCallback)((function(e){var t,n,r=a[e.networkId+(e.address?"-":"")+(null!=(t=e.tokenIdOnNetwork)?t:"")];return null!=(n=null==r?void 0:r[c])?n:0}),[a,c]);return Object(j.useMemo)((function(){var e=[].concat(ve()(n),ve()(r)),t=new Set,a=function(e){return""+e.networkId+e.tokenIdOnNetwork},c=e.filter((function(e){return!t.has(a(e))&&(t.add(a(e)),!0)})),s=function(e){var t,n,r=Object(ke.getBalanceKey)(e);return Boolean(o[r]&&Number(Object(oe.formatAmount)(null!=(t=null==(n=o[r])?void 0:n.balance)?t:"0",6))>0)};if(he()(o))return c;var i=c.filter((function(e){return s(e)}));i.sort((function(e,t){var n,r,a=Object(ke.getBalanceKey)(e),c=Object(ke.getBalanceKey)(t),s=o[a],i=o[c],u=new we.a(null!=(n=null==s?void 0:s.balance)?n:"0").multipliedBy(l(e)),d=new we.a(null!=(r=null==i?void 0:i.balance)?r:"0").multipliedBy(l(t));return u.isLessThan(d)?1:-1}));var u=c.filter((function(e){return!s(e)}));return i.concat(u)}),[n,r,o,l])}var ct=function(){var e=Object(j.useContext)(ot),t=e.networkId,n=e.accountId,r=at(t,n);return Object(j.useEffect)((function(){t&&n&&I.default.servicePrice.fetchSimpleTokenPrice({accountId:n,networkId:t,tokenIds:r.map((function(e){return e.tokenIdOnNetwork}))})}),[r,t,n]),null},lt=function(){var e=Object(p.useNavigation)(),t=Object(j.useContext)(ot),n=t.networkId,r=t.setNetworkId,o=t.networkOptions,a=t.crosschainOptions;return o&&0!==o.length?Object(m.jsx)(d.default,{mb:"4",children:Object(m.jsx)(W.default,{space:"2",children:o.map((function(t){return Object(m.jsx)(c.default,{onPress:function(){t.isCrosschain?e.navigate(V.RootRoutes.Modal,{screen:V.ModalRoutes.Swap,params:{screen:Z.SwapRoutes.ChainSelector,params:{networkIds:a?a.map((function(e){return e.networkId})).filter((function(e){return Boolean(e)})):void 0,onSelect:function(e){null==r||r(e)}}}}):null==r||r(t.networkId)},children:Object(m.jsxs)(d.default,{px:"2",py:"1.5",flexDirection:"row",alignItems:"center",bg:"surface-neutral-subdued",borderRadius:"12",borderWidth:1,borderColor:t.networkId===n?"interactive-default":"border-default",children:[t.logoURI?Object(m.jsx)(d.default,{w:"5",h:"5",borderRadius:"full",overflow:"hidden",mr:"1",children:Object(m.jsx)(H.default,{width:"20px",height:"20px",src:t.logoURI})}):null,Object(m.jsx)(l.default.Body2Strong,{children:t.name}),t.isCrosschain?Object(m.jsx)(d.default,{ml:"1",children:Object(m.jsx)(R.default,{size:12,name:"ChevronDownSolid"})}):null]})},t.networkId)}))})}):null},st=function(e){var t=e.keyword,n=e.onChange,r=Object(O.default)();return Object(m.jsxs)(d.default,{px:"8px",children:[Object(m.jsx)(f.default,{w:"full",placeholder:r.formatMessage({id:"content__search_token_or_contract_address",defaultMessage:"Search Tokens"}),mb:"16px",value:t,onClear:function(){return n("")},onChangeText:function(e){return n(e)}}),Object(m.jsx)(lt,{})]})},it=function(e){var t=e.isLoading,n=e.terms,r=Object(O.default)();return t?Object(m.jsx)(d.default,{px:"2",children:Object(m.jsx)(Oe,{})}):n.length>0?Object(m.jsx)(U.default,{emoji:"\ud83d\udd50",title:r.formatMessage({id:"content__no_results",defaultMessage:"No Result"}),subTitle:r.formatMessage({id:"content__no_results_desc",defaultMessage:"The token you searched for was not found"})}):null},ut=function(e){var t=e.token,n=e.onSelect,r=e.isSearchMode,o=Object(j.useContext)(ot),a=o.selectedToken,l=o.accountId,s=Object(p.useNetworkSimple)(t.networkId),i=Object(j.useCallback)((function(){null==n||n(t),Object(q.notifyIfRiskToken)(t)}),[n,t]),u=t.networkId===(null==a?void 0:a.networkId)&&t.tokenIdOnNetwork===(null==a?void 0:a.tokenIdOnNetwork),d=t.name;return t.tokenIdOnNetwork?(d=Object(z.shortenAddress)(t.tokenIdOnNetwork),r&&null!=s&&s.name&&(d=s.name+" \xb7 "+d)):s&&(d=null==s?void 0:s.name),Object(m.jsxs)(c.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:"8px",borderRadius:"12px",overflow:"hidden",onPress:i,width:"full",opacity:u?60:1e3,_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[Object(m.jsx)(L.default,{token:t,showInfo:!0,showNetworkIcon:!0,showTokenVerifiedIcon:!0,name:t.symbol,description:d,nameProps:{numberOfLines:2,maxW:"24"}}),Object(m.jsx)(ie,{token:t,isSearchMode:r,accountId:l})]},t.tokenIdOnNetwork)},dt=function(e){var t=e.onSelect,n=e.excluded,r=Object(O.default)(),o=Object(j.useState)(""),c=u()(o,2),l=c[0],s=c[1],i=Object(j.useContext)(ot),d=i.networkId,f=at(d,i.accountId),b=Object(p.useDebounce)(l.trim(),300),h=Object(F.useTokenSearch)(b,d),x=h.loading,v=h.result,g=x||l!==b,w=Object(j.useMemo)((function(){return{dataSources:(null!=v?v:f).filter((function(e){return!(null!=n&&n.includes(e.tokenIdOnNetwork))})),renderItem:function(e){var n=e.item;return Object(m.jsx)(ut,{token:n,onSelect:t,isSearchMode:!!v})}}}),[v,f,t,n]),k=w.dataSources,y=w.renderItem;return f&&0!==f.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(a.default,{header:r.formatMessage({id:"title__select_a_token"}),height:"560px",footer:null,hidePrimaryAction:!0,flatListProps:{data:k,renderItem:y,keyExtractor:function(e){return(null==e?void 0:e.tokenIdOnNetwork)+":"+(null==e?void 0:e.networkId)},showsVerticalScrollIndicator:!1,ListEmptyComponent:Object(m.jsx)(it,{isLoading:g,terms:b}),ListHeaderComponent:Object(m.jsx)(st,{keyword:l,onChange:s}),mx:"-8px"}}),Object(m.jsx)(ct,{})]}):Object(m.jsx)(a.default,{header:r.formatMessage({id:"title__select_a_token"}),height:"560px",footer:null,hidePrimaryAction:!0,children:Object(m.jsx)(be,{})})},ft=function(){var e=Object(O.default)(),t=Object(p.useNavigation)(),n=Object(p.useAppSelector)((function(e){return e.swap.inputToken})),r=Object(p.useAppSelector)((function(e){return e.swap.outputToken})),o=Object(p.useAppSelector)((function(e){return e.swapTransactions.tokenList})),a=Object(nt.useSwapRecipient)(),c=Object(j.useState)((function(){var e=(null!=o?o:[]).map((function(e){return e.networkId}));if(r&&e.includes(r.networkId))return r.networkId})),l=u()(c,2),s=l[0],i=l[1],d=Object(j.useMemo)((function(){if(!o)return{actives:[],inactives:[]};var t=o.filter((function(e){return e.name&&e.networkId})).map((function(t){return{name:"all"===t.name.toLowerCase()?e.formatMessage({id:"option__all"}):t.name,networkId:"all"===t.name.toLowerCase()?void 0:t.networkId,logoURI:t.logoURI}})),r=function(e){return e.networkId?e.networkId===(null==n?void 0:n.networkId)?-9:0:-10},a=(t=t.sort((function(e,t){return r(e)-r(t)}))).slice(0,2),c=t.slice(2);if(s&&s!==(null==n?void 0:n.networkId)){var l=c.findIndex((function(e){return e.networkId===s}));if(l>=0){var i=c.splice(l,1)[0];i&&(i.name=e.formatMessage({id:"form__cross_chain_str"},{0:i.name}),i.isCrosschain=!0,a.push(i))}}else{var u={name:e.formatMessage({id:"form__cross_chain_desc"}),isCrosschain:!0,networkId:"cross-chain"};a.push(u)}return{actives:a,inactives:c}}),[o,e,n,s]),f=Object(j.useCallback)((function(e){I.default.serviceSwap.setOutputToken(e),t.goBack()}),[t]),b=Object(j.useMemo)((function(){return{networkId:s,setNetworkId:i,selectedToken:n,accountId:null==a?void 0:a.accountId,tokenList:o,networkOptions:d.actives,crosschainOptions:d.inactives}}),[s,i,n,null==a?void 0:a.accountId,o,d]);return Object(j.useEffect)((function(){I.default.serviceSwap.fetchSwapTokenBalance({accountId:null==a?void 0:a.accountId,networkId:s})}),[s,null==a?void 0:a.accountId]),Object(m.jsx)(ot.Provider,{value:b,children:Object(m.jsx)(dt,{onSelect:f})})},jt=n(567),bt=n(80),Ot=n(473),pt=n(45),mt=function(){var e,t=Object(pt.useRuntime)().wallets,n=Object(b.useNavigation)(),r=null!=(e=Object(b.useRoute)().params)?e:{},o=r.networkId,a=r.onSelected,s=Object(j.useState)([]),i=u()(s,2),f=i[0],O=i[1];Object(j.useEffect)((function(){function e(){return(e=k()((function*(){for(var e=function*(){var e=t[n];if("watching"!==e.type){var r=yield I.default.engine.getAccounts(e.accounts,o);r&&r.length>0&&O((function(t){return[].concat(ve()(t),[{wallet:e,data:r,key:e.id}])}))}},n=0;n<t.length;n+=1)yield*e()}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=Object(j.useCallback)((function(e){null==a||a(e),n.goBack()}),[a,n]);return Object(m.jsx)(jt.default,{stickySectionHeadersEnabled:!1,sections:f,keyExtractor:function(e,t){return""+e.address+t},renderItem:function(e){var t=e.item,n=e.section,r=e.index;return Object(m.jsxs)(c.default,{flexDirection:"row",p:"4",mx:{base:4,md:6},borderTopLeftRadius:0===r?"12":void 0,borderTopRightRadius:0===r?"12":void 0,borderBottomLeftRadius:r===n.data.length-1?"12":void 0,borderBottomRightRadius:r===n.data.length-1?"12":void 0,borderBottomWidth:r===n.data.length-1?1:0,borderWidth:1,borderColor:"divider",onPress:function(){return p(t)},alignItems:"center",children:[Object(m.jsx)(d.default,{mr:"3",children:Object(m.jsx)(Ot.default,{avatar:n.wallet.avatar,walletImage:n.wallet.type,hwWalletType:n.wallet.deviceType||Object(bt.getDeviceTypeByDeviceId)(n.wallet.associatedDevice),size:"sm"})},t.address),Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsx)(l.default.Body1Strong,{color:"text-default",numberOfLines:1,children:t.name}),Object(m.jsx)(l.default.Body2,{color:"text-subdued",children:Object(z.shortenAddress)(t.address)})]})]})},renderSectionHeader:function(e){var t=e.section;return Object(m.jsx)(l.default.Subheading,{my:"2",mx:{base:4,md:6},color:"text-subdued",children:t.wallet.name})}})},ht=function(){var e=Object(O.default)();return Object(m.jsx)(a.default,{header:e.formatMessage({id:"title__choose_an_account"}),footer:null,primaryActionTranslationId:"form__enter_address",hideSecondaryAction:!0,hidePrimaryAction:!0,maxHeight:"560px",staticChildrenProps:{flex:1,py:6},children:Object(m.jsx)(mt,{})})},xt=n(411),vt=function(){var e,t=Object(O.default)(),n=Object(b.useNavigation)(),r=null!=(e=Object(b.useRoute)().params)?e:{},o=r.networkId,a=r.onSelected,s=Object(p.useAppSelector)((function(e){return e.contacts.contacts})),i=Object(j.useMemo)((function(){var e=Object.values(s);if(e=e.sort((function(e,t){return e.createAt,t.createAt,-1})),o){var t=o.split("--")[0];e=e.filter((function(e){return e.badge.toUpperCase()===t.toUpperCase()}))}return e}),[s,o]),u=Object(j.useCallback)((function(e){null==a||a({address:e.address,name:e.name}),n.goBack()}),[a,n]),f=Object(j.useCallback)((function(e){var t=e.item,n=e.index;return Object(m.jsxs)(c.default,{py:"4",px:"4",mx:{base:4,md:6},flexDirection:"row",alignItems:"center",bg:"surface-default",borderTopRadius:0===n?"12":void 0,borderBottomRadius:n===i.length-1?"12":void 0,borderBottomWidth:n===i.length-1?1:0,borderWidth:1,borderColor:"divider",onPress:function(){return u(t)},children:[Object(m.jsx)(d.default,{w:"8",h:"8",borderRadius:"full",bg:"decorative-surface-one",justifyContent:"center",alignItems:"center",children:Object(m.jsx)(l.default.DisplaySmall,{color:"decorative-icon-one",children:t.name.toUpperCase()[0]})}),Object(m.jsxs)(d.default,{flex:"1",ml:"4",children:[Object(m.jsxs)(d.default,{flexDirection:"row",children:[Object(m.jsx)(l.default.Body1Strong,{mr:"2",numberOfLines:1,maxWidth:"80%",children:t.name}),Object(m.jsx)(Re.default,{size:"sm",title:t.badge.toUpperCase()})]}),Object(m.jsx)(d.default,{children:Object(m.jsx)(l.default.Body2,{color:"text-subdued",numberOfLines:2,children:t.address})})]})]})}),[i,u]),h=Object(j.useMemo)((function(){return Object(m.jsx)(P.default,{w:"full",h:"full",children:Object(m.jsx)(U.default,{title:t.formatMessage({id:"title__no_cantact"}),subTitle:t.formatMessage({id:"title__no_cantact_desc"}),emoji:"\ud83d\udcc7"})})}),[t]);return Object(m.jsx)(ue.default,{ListEmptyComponent:h,data:i,renderItem:f,keyExtractor:function(e){return e.address}})},gt=function(){var e,t=Object(pt.useRuntime)().wallets,n=Object(b.useNavigation)(),r=null!=(e=Object(b.useRoute)().params)?e:{},o=r.networkId,a=r.onSelected,s=Object(j.useState)([]),i=u()(s,2),f=i[0],O=i[1];Object(j.useEffect)((function(){function e(){return(e=k()((function*(){for(var e=function*(){var e=t[n],r=yield I.default.engine.getAccounts(e.accounts,o);r&&r.length>0&&O((function(t){return[].concat(ve()(t),[{wallet:e,data:r,key:e.id}])}))},n=0;n<t.length;n+=1)yield*e()}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=Object(j.useCallback)((function(e){null==a||a({address:e.address,name:e.name,accountId:e.accountId}),n.goBack()}),[a,n]);return Object(m.jsx)(jt.default,{sections:f,keyExtractor:function(e,t){return""+e.address+t},renderItem:function(e){var t=e.item,n=e.section,r=e.index;return Object(m.jsxs)(c.default,{flexDirection:"row",p:"4",bg:"surface-default",mx:{base:4,md:6},borderTopLeftRadius:0===r?"12":void 0,borderTopRightRadius:0===r?"12":void 0,borderBottomLeftRadius:r===n.data.length-1?"12":void 0,borderBottomRightRadius:r===n.data.length-1?"12":void 0,borderBottomWidth:r===n.data.length-1?1:0,borderWidth:1,borderColor:"divider",onPress:function(){return p({address:t.address,name:t.name,accountId:t.id})},alignItems:"center",children:[Object(m.jsx)(d.default,{mr:"3",children:Object(m.jsx)(Ot.default,{avatar:n.wallet.avatar,walletImage:n.wallet.type,hwWalletType:n.wallet.deviceType||Object(bt.getDeviceTypeByDeviceId)(n.wallet.associatedDevice),size:"sm"})},t.address),Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsx)(l.default.Body1Strong,{color:"text-default",numberOfLines:1,children:t.name}),Object(m.jsx)(l.default.Body2,{color:"text-subdued",children:Object(z.shortenAddress)(t.address)})]})]})},stickySectionHeadersEnabled:!1,renderSectionHeader:function(e){var t=e.section;return Object(m.jsx)(l.default.Subheading,{my:"2",mx:{base:4,md:6},color:"text-subdued",children:t.wallet.name})}})},wt=function(){var e,t=Object(O.default)(),n=Object(j.useState)(0),r=u()(n,2),o=r[0],c=r[1],l=Object(b.useNavigation)(),s=null!=(e=Object(b.useRoute)().params)?e:{},i=s.networkId,f=s.onSelected,p=Object(j.useCallback)((function(){l.navigate(Z.SwapRoutes.EnterAddress,{networkId:i,onSelected:f})}),[l,i,f]),h=Object(j.useMemo)((function(){return Object(m.jsx)(gt,{})}),[]),x=Object(j.useMemo)((function(){return Object(m.jsx)(vt,{})}),[]);return Object(m.jsxs)(a.default,{header:t.formatMessage({id:"title__choose_an_account"}),hideSecondaryAction:!0,footer:0===o?void 0:null,primaryActionTranslationId:"form__enter_address",primaryActionProps:{leftIconName:"PencilMini",type:"basic",onPress:p},maxHeight:"560",hidePrimaryAction:0!==o,staticChildrenProps:{flex:1,py:6},children:[Object(m.jsx)(d.default,{mb:"6",px:{base:4,md:6},children:Object(m.jsx)(xt.default,{values:[t.formatMessage({id:"form__my_wallet"}),t.formatMessage({id:"title__address_book"})],selectedIndex:o,onChange:c})}),Object(m.jsx)(d.default,{flex:"1",children:0===o?h:x})]})},kt=n(314),yt=n(175),_t=n(331),It=n(625),St=n(626),Ct=n(699),At=["networkId","accountId","onSelect"];function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=function(e){var t=e.wallet,n=e.setWalletId,o=Object(O.default)(),a=Object(r.default)(),l=Object(pt.useRuntime)().wallets,s=Object(j.useMemo)((function(){return l.filter((function(e){return"watching"!==e.type})).map((function(e){return{label:Object(St.getWalletName)({wallet:e,intl:o})||"-",value:e.id,wallet:e}}))}),[l,o]);return Object(m.jsx)(d.default,{pb:2,children:Object(m.jsx)(d.default,{flexDirection:"row",alignItems:"center",children:Object(m.jsx)(_t.default,{title:o.formatMessage({id:"title__wallets"}),footer:null,value:null==t?void 0:t.id,activatable:!1,containerProps:{flex:1,alignItems:"flex-start"},options:s,renderTrigger:function(e){var n=e.visible,r=e.onPress;return Object(m.jsx)(c.default,{onPress:r,children:function(e){var r=e.isHovered,a=e.isPressed;return Object(m.jsxs)(d.default,{flexDirection:"row",alignItems:"center",maxW:"240px",p:2,rounded:"xl",bgColor:n?"surface-selected":a?"surface-pressed":r?"surface-hovered":void 0,children:[t?Object(m.jsx)(Ot.WalletAvatarPro,{wallet:t,size:"xs",devicesStatus:void 0}):null,Object(m.jsx)(T.default,{typography:"Body2Strong",ml:2,mr:1,color:"text-subdued",isTruncated:!0,children:Object(St.getWalletName)({wallet:t,intl:o})}),Object(m.jsx)(d.default,{children:Object(m.jsx)(R.default,{name:"ChevronUpDownMini",color:"icon-subdued",size:20})})]})}})},renderItem:function(e,t,r){return Object(m.jsx)(c.default,{onPress:function(){null==r||r(e.value,e),null==n||n(e.value)},children:function(n){var r=n.isHovered,o=n.isPressed;return Object(m.jsxs)(d.default,{p:2,pr:{base:3,md:2},flexDirection:"row",alignItems:"center",bgColor:o?"surface-pressed":r?"surface-hovered":void 0,rounded:"xl",children:[e.wallet?Object(m.jsx)(Ot.WalletAvatarPro,{wallet:e.wallet,devicesStatus:void 0,size:a?"lg":"xs"}):null,Object(m.jsx)(T.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.label}),t?Object(m.jsx)(R.default,{name:a?"CheckOutline":"CheckMini",size:a?24:20,color:"interactive-default"}):null]})}},e.value)}})})})},Tt=function(e){var t=e.networkId,n=Object(p.useNetworkSimple)(t);return Object(m.jsxs)(d.default,{flexDirection:"row",children:[null!=n&&n.logoURI?Object(m.jsx)(s.default,{source:{uri:null==n?void 0:n.logoURI},size:4,borderRadius:"full",mr:2}):null,Object(m.jsx)(l.default.Caption,{color:"text-subdued",children:(null==n?void 0:n.name)||"-"})]})},Bt=function(e){var t=e.account,n=e.networkId,r=e.onSelect,o=e.isActive,a=Object(p.useNetworkSimple)(n),l=Object(p.useNativeTokenBalance)(null==a?void 0:a.id,t.id),s=Object(pt.useAppSelector)((function(e){return e.general.activeExternalWalletName})),i=Object(j.useCallback)((function(){null==r||r(t)}),[t,r]);return Object(m.jsx)(c.default,{onPress:i,children:function(e){var n=e.isHovered,r=e.isPressed;return Object(m.jsxs)(d.default,{flexDirection:"row",alignItems:"center",p:2,pr:1.5,rounded:"xl",bgColor:o?"surface-selected":r?"surface-pressed":n?"surface-hovered":"transparent",children:[Object(m.jsx)(Ct.default,{mr:3,accountId:null==t?void 0:t.id,walletName:o?s:null}),Object(m.jsxs)(d.default,{flex:1,mr:3,children:[Object(m.jsx)(T.default,{typography:"Body2Strong",isTruncated:!0,numberOfLines:1,children:t.name}),Object(m.jsxs)(d.default,{flexDirection:"row",children:[Object(m.jsx)(T.default,{typography:"Body2",color:"text-subdued",children:Object(z.shortenAddress)(t.displayAddress||t.address)}),Object(m.jsx)(d.default,{w:1,h:1,m:2,bgColor:"icon-disabled",rounded:"full"}),l?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T.default,{typography:"Body2",color:"text-subdued",isTruncated:!0,children:Object(oe.formatAmount)(l,6)}),Object(m.jsx)(T.default,{typography:"Body2",color:"text-subdued",ml:"2px",children:null==a?void 0:a.symbol.toUpperCase()})]}):Object(m.jsx)(yt.default,{shape:"Body2"})]})]})]})}})},Dt=function(e){var t=e.activeAccountId,n=e.accounts,r=e.networkId,o=e.searchValue,a=e.onSelect,c=Object(p.useDebounce)(o,500),l=Object(j.useMemo)((function(){if(n){var e=c.toLowerCase();return null==n?void 0:n.filter((function(t){var n=t.name,r=t.address;return n.toLowerCase().includes(e)||r.toLowerCase().includes(e)}))}}),[n,c]);return Object(m.jsx)(kt.default,{children:Object(m.jsx)(A.default,{space:"1",children:null==l?void 0:l.map((function(e){return Object(m.jsx)(Bt,{account:e,isActive:e.id===t,networkId:r,onSelect:a},e.id)}))})})},Nt=function(e){var t=e.walletId,n=e.networkId,r=Object(O.default)(),o=Object(It.useCreateAccountInWallet)({walletId:t,networkId:n}),a=o.createAccount,c=o.isCreateAccountSupported,l=Object(p.useNetwork)({networkId:n}).network;return Object(m.jsx)(U.default,{emoji:"\ud83d\udcb3",title:r.formatMessage({id:"empty__no_account_title"}),subTitle:r.formatMessage({id:"empty__no_account_desc"}),handleAction:function(){c?a():g.default.show({title:r.formatMessage({id:It.NETWORK_NOT_SUPPORT_CREATE_ACCOUNT_I18N_KEY},{0:null==l?void 0:l.shortName})})},actionTitle:r.formatMessage({id:"action__create_account"}),actionProps:{leftIconName:"PlusOutline"},flex:1,mt:8})},Et=function(e){var t=e.networkId,n=e.accountId,r=e.onSelect,o=X()(e,At),c=Object(O.default)(),l=Object(j.useState)(""),s=u()(l,2),i=s[0],b=s[1],p=Object(j.useState)(),h=u()(p,2),x=h[0],v=h[1],g=Object(pt.useAppSelector)((function(e){return e.runtime.wallets})),w=Object(j.useState)((function(){var e;if(n)for(var t=0;t<g.length;t+=1){var r=g[t];if(r.accounts.includes(n))return r.id}return null==(e=g[0])?void 0:e.id})),y=u()(w,2),_=y[0],S=y[1],C=Object(j.useMemo)((function(){return g.find((function(e){return e.id===_}))}),[g,_]);return Object(j.useEffect)((function(){function e(){return(e=k()((function*(){var e,n=yield I.default.engine.getAccounts(null!=(e=null==C?void 0:C.accounts)?e:[],t);v(n)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[C,t,g]),Object(m.jsx)(a.default,Pt(Pt({height:"560px",header:c.formatMessage({id:"title__accounts"}),headerDescription:Object(m.jsx)(Tt,{networkId:t})},o),{},{children:Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsxs)(d.default,{children:[Object(m.jsx)(Rt,{wallet:C,setWalletId:S}),Object(m.jsx)(f.default,{w:"full",value:i,placeholder:c.formatMessage({id:"form__search"}),onChangeText:b,onClear:function(){return b("")}})]}),Object(m.jsx)(d.default,{flex:"1",mt:"2",children:x&&(null==x?void 0:x.length)>0?Object(m.jsx)(Dt,{accounts:x,networkId:t,searchValue:i,onSelect:r,activeAccountId:n}):Object(m.jsx)(Nt,{walletId:_,networkId:null!=t?t:""})})]})}))},Lt=function(){var e,t,n=Object(b.useRoute)(),r=Object(b.useNavigation)(),o=Object(nt.useSwapRecipient)(),a=Object(j.useCallback)((function(e){var t;null==(t=n.params)||null==t.onSelected||t.onSelected({address:e.address,name:e.name,accountId:e.id}),r.goBack()}),[n,r]),c=null==(e=n.params)?void 0:e.networkId,l=Object(j.useCallback)((function(){r.navigate(V.RootRoutes.Modal,{screen:V.ModalRoutes.Swap,params:{screen:Z.SwapRoutes.EnterAddress,params:{networkId:c,contactExcludeWalletAccount:!0,onSelected:function(e){var t;null==(t=n.params)||null==t.onSelected||t.onSelected({address:e.address,name:null==e?void 0:e.name})}}}})}),[r,c,n.params]);return Object(m.jsx)(Et,{accountId:null==o?void 0:o.accountId,networkId:null==(t=n.params)?void 0:t.networkId,onSelect:a,hideSecondaryAction:!0,primaryActionTranslationId:"form__enter_address",primaryActionProps:{onPress:l,type:"basic",leftIconName:"PencilSolid"}})},Ut=n(195),Wt=n.n(Ut),Ht=(n(24),n(4518)),zt=function(e){var t,n,r=e.response,o=e.token,a=null==r?void 0:r.limited,c=Object(nt.useTokenAmount)(o,null==a?void 0:a.max),s=Object(nt.useTokenAmount)(o,null==a?void 0:a.min),i=Object(O.default)();return o?(a&&a.max?n=Object(m.jsxs)(l.default.Caption,{color:"text-subdued",children:[i.formatMessage({id:"form__max_amount"})," ",null==c?void 0:c.typedValue,null==o?void 0:o.symbol]}):a&&a.min?n=Object(m.jsxs)(l.default.Caption,{color:"text-subdued",children:[i.formatMessage({id:"form__min_amount"}),null==s?void 0:s.typedValue,null==o?void 0:o.symbol]}):"swftc"===(null==r||null==(t=r.data)?void 0:t.type)&&(n=Object(m.jsx)(l.default.Caption,{color:"text-subdued",children:i.formatMessage({id:"form__cap_str_day_rates_may_change_due_to_market"},{0:"200,000 USDT"})})),n?Object(m.jsxs)(d.default,{children:[Object(m.jsx)(Te.default,{my:"3"}),n]}):null):null},Vt=n(4146),qt=function(e){var t,n=e.providers,o=e.isDisabled,a=Object(r.default)(),c=null!=(t=null==n?void 0:n.map((function(e){return e.logoUrl})).filter(Boolean))?t:[],s="OneKey Swap";return 1===(null==n?void 0:n.length)?s=n[0].name:null!=n&&n.length&&(null==n?void 0:n.length)>=2&&(s=n.length+" Exchanges"),a?Object(m.jsx)(Vt.SwappingViaLogos,{size:6,sources:c}):Object(m.jsxs)(d.default,{flexDirection:"row",alignItems:"center",bg:"surface-neutral-subdued",borderRadius:12,py:"1",px:"2",children:[Object(m.jsx)(Vt.SwappingViaLogos,{sources:c}),Object(m.jsx)(l.default.Caption,{ml:"1",color:o?"text-disabled":"text-default",children:s})]})};function Ft(e){var t=e.token,n=e.amount,r="";return t&&n&&(r=Object(oe.formatAmount)(Object(oe.getTokenAmountValue)(t,n),4)),r}var Zt=function(e){var t=e.token,n=e.amount,o=e.rightAlign,a=e.isDisabled,c=Object(r.default)(),i=Object(p.useNetwork)({networkId:null==t?void 0:t.networkId}).network,u=Ft({token:t,amount:n});return t?Object(m.jsxs)(d.default,{flexDirection:o?"row-reverse":"row",alignItems:"center",maxW:"full",children:[Object(m.jsxs)(d.default,{position:"relative",children:[Object(m.jsx)(L.default,{size:6,borderRadius:"full",token:t}),i?Object(m.jsx)(d.default,{position:"absolute",top:-4,right:-4,children:Object(m.jsx)(P.default,{w:"4",h:"4",borderRadius:"full",bg:"background-default",children:Object(m.jsx)(s.default,{src:i.logoURI,w:"3",h:"3"})})}):null]}),Object(m.jsx)(d.default,{w:"2"}),c?Object(m.jsx)(d.default,{maxW:"24",children:Object(m.jsx)(l.default.Body2,{numberOfLines:2,lineHeight:"xs",color:a?"text-disabled":"text-default",children:u})}):Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsxs)(d.default,{flex:"1",flexDirection:"row",children:[Object(m.jsx)(l.default.Body2Strong,{isTruncated:!0,color:a?"text-disabled":"text-default",children:u}),Object(m.jsx)(l.default.Body2Strong,{color:a?"text-disabled":"text-default",children:t.symbol.toUpperCase()})]}),Object(m.jsx)(l.default.Caption,{isTruncated:!0,color:a?"text-disabled":"text-subdued",textAlign:o?"right":"left",children:null==i?void 0:i.name})]})]}):null};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=Object(j.createContext)({selectedIndex:0,onSelect:function(e){}}),Jt=function(){return Object(m.jsxs)(d.default,{children:[Object(m.jsx)(d.default,{w:"full",h:"20",borderRadius:12,overflow:"hidden",children:Object(m.jsx)(de.default,{})}),Object(m.jsx)(d.default,{h:"3"}),Object(m.jsx)(d.default,{w:"full",h:"20",borderRadius:12,overflow:"hidden",children:Object(m.jsx)(de.default,{})})]})},Xt=function(e){var t=Object.assign({},(Wt()(e),e));return Object(m.jsx)(d.default,Kt(Kt({flex:"1",flexDirection:"row",alignItems:"center"},t),{},{children:Object(m.jsx)(d.default,{borderTopColor:"border-default",w:"full",h:"1",borderStyle:"dashed",borderTopWidth:1})}))},Yt=function(e){var t,n=e.response,r=e.index,o=Object(O.default)(),a=Object(p.useAppSelector)((function(e){return e.swap})),s=a.inputToken,i=a.outputToken,u=Object(j.useContext)(Gt),f=u.selectedIndex,b=u.onSelect,h=n.data,x=n.limited,v=null!=(t=null==h?void 0:h.estimatedBuyAmount)?t:null==h?void 0:h.buyAmount,g=!!x,w=Ft({token:i,amount:null==h?void 0:h.buyAmount});return Object(m.jsxs)(c.default,{borderColor:f!==r?"border-default":"text-success",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderWidth:1.5,p:"4",borderRadius:12,onPress:function(){return b(r)},isDisabled:g,mb:"3",children:[Object(m.jsxs)(d.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",w:"full",children:[Object(m.jsxs)(d.default,{flex:"1",flexDirection:"row",children:[Object(m.jsx)(Zt,{token:s,amount:null==h?void 0:h.sellAmount,isDisabled:g}),Object(m.jsx)(d.default,{flex:"1",children:Object(m.jsx)(Xt,{minW:1,ml:2})})]}),Object(m.jsx)(d.default,{justifyContent:"center",flexDirection:"row",px:"1",children:Object(m.jsx)(qt,{providers:null==h?void 0:h.providers,isDisabled:g})}),Object(m.jsxs)(d.default,{flex:"1",flexDirection:"row",children:[Object(m.jsx)(Xt,{minW:1,mr:2}),Object(m.jsx)(Zt,{token:i,amount:v,rightAlign:!0,isDisabled:g})]})]}),Object(m.jsxs)(d.default,{mt:"3",flexDirection:"row",justifyContent:"space-between",children:[Object(m.jsx)(d.default,{children:Object(m.jsx)(Ht.ArrivalTime,{value:null==h?void 0:h.arrivalTime})}),Object(m.jsx)(d.default,{children:Object(m.jsxs)(l.default.Caption,{color:"text-subdued",children:[o.formatMessage({id:"form__no_fee_price"}),w]})})]}),Object(m.jsx)(zt,{response:n,token:s})]})},$t=function(e){var t=e.responses,n=Object(O.default)(),r=t.map((function(e,t){return Kt(Kt({},e),{},{index:t})})),o=r.filter((function(e){return e.limited})),a=r.filter((function(e){return!e.limited}));return Object(m.jsx)(kt.default,{children:Object(m.jsxs)(d.default,{children:[Object(m.jsx)(d.default,{children:a.map((function(e){var t,n;return Object(m.jsx)(Yt,{response:e,index:e.index},null!=(t=null==(n=e.data)?void 0:n.type)?t:"")}))}),o.length?Object(m.jsxs)(d.default,{children:[Object(m.jsx)(l.default.Subheading,{mb:"3",color:"text-subdued",children:n.formatMessage({id:"form__unavailable_uppercase"})}),Object(m.jsx)(d.default,{children:o.map((function(e){var t,n;return Object(m.jsx)(Yt,{response:e,index:e.index},null!=(t=null==(n=e.data)?void 0:n.type)?t:"")}))})]}):null]})})},en=function(){var e=Object(O.default)(),t=Object(p.useNavigation)(),n=Object(j.useState)(-1),r=u()(n,2),o=r[0],c=r[1],l=Object(p.useAppSelector)((function(e){return e.swap.inputToken})),s=Object(p.useAppSelector)((function(e){return e.swap.outputToken})),i=Object(p.useAppSelector)((function(e){return e.swap.quote})),d=Object(p.useAppSelector)((function(e){return e.swap.responses})),f=Object(j.useMemo)((function(){return null!=d?d:[]}),[d]);Object(j.useEffect)((function(){!function(){var e=f.findIndex((function(e){var t;return(null==(t=e.data)?void 0:t.type)===(null==i?void 0:i.type)}));-1!==e&&c(e)}()}),[f,i]);var b=Object(j.useCallback)((function(){var e=f[o];if(e){if(e.data){I.default.serviceSwap.setQuote(e.data);var n=Object(oe.stringifyTokens)(l,s);I.default.serviceSwap.setUserSelectedQuoter(n,e.data.type)}I.default.serviceSwap.setQuoteLimited(e.limited)}t.goBack()}),[o,f,t,l,s]),h=Object(j.useMemo)((function(){return{selectedIndex:o,onSelect:c}}),[o]);return Object(m.jsx)(Gt.Provider,{value:h,children:Object(m.jsx)(a.default,{size:"lg",header:e.formatMessage({id:"title__select_route"}),hideSecondaryAction:!0,primaryActionTranslationId:"action__confirm",onPrimaryActionPress:b,children:0===f.length?Object(m.jsx)(Jt,{}):Object(m.jsx)($t,{responses:f})})})},tn=function(){var e,t=Object(b.useRoute)(),n=Object(b.useNavigation)(),r=Object(p.useAppSelector)((function(e){return e.swap.sendingAccount})),o=Object(j.useCallback)((function(e){var r;null==(r=t.params)||null==r.onSelected||r.onSelected(e),n.goBack()}),[t,n]);return Object(m.jsx)(Et,{accountId:null==r?void 0:r.id,networkId:null==(e=t.params)?void 0:e.networkId,onSelect:o,footer:null})},nn=n(1063),rn=n(402),on=n(86),an=function(){var e=Object(O.default)(),t=Object(pt.useSettings)().swapSlippagePercent,n=Object(j.useState)(t||"3"),r=u()(n,2),o=r[0],s=r[1],i=Object(j.useCallback)((function(e){s(e.trim())}),[]);Object(j.useEffect)((function(){return function(){var e=new we.a(o);e.gt(0)&&e.lt(50)?I.default.dispatch(Object(on.setSwapSlippagePercent)(o)):e.gte(50)&&I.default.dispatch(Object(on.setSwapSlippagePercent)("3"))}}),[o]);var f=Object(j.useMemo)((function(){var t=new we.a(o);return!o||t.gte(50)||t.eq(0)?e.formatMessage({id:"msg__enter_a_valid_slippage_percentage"}):t.lt(.1)?e.formatMessage({id:"msg__your_transaction_may_fail"}):t.gte(5)&&t.lt(50)?e.formatMessage({id:"msg__your_transaction_may_be_frontrun"}):void 0}),[o,e]);return Object(m.jsx)(a.default,{header:e.formatMessage({id:"title__settings"}),footer:null,children:Object(m.jsxs)(d.default,{children:[Object(m.jsx)(l.default.Body2,{children:e.formatMessage({id:"form__slippage_tolerance"})}),Object(m.jsx)(nn.default,{w:"full",size:"xl",mt:"1",mb:"2",rightText:"%",value:o,onChangeText:i}),Object(m.jsxs)(W.default,{space:"2",children:[Object(m.jsx)(c.default,{alignItems:"center",justifyContent:"center",px:3.5,py:1.5,bg:"surface-neutral-subdued",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:"full",onPress:function(){i("1")},children:Object(m.jsx)(l.default.Body2Strong,{children:"1%"})}),Object(m.jsx)(c.default,{alignItems:"center",justifyContent:"center",px:3.5,py:1.5,bg:"surface-neutral-subdued",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:"full",onPress:function(){i("2")},children:Object(m.jsx)(l.default.Body2Strong,{children:"2%"})}),Object(m.jsx)(c.default,{alignItems:"center",justifyContent:"center",px:3.5,py:1.5,bg:"surface-neutral-subdued",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:"full",onPress:function(){i("3")},children:Object(m.jsx)(l.default.Body2Strong,{children:"3%"})})]}),f?Object(m.jsx)(rn.FormErrorMessage,{message:f}):null]})})},cn=n(1065),ln=n(28),sn=n(3983),un=n(4083),dn=n(4550),fn=n(4020),jn=function(){var e=k()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),bn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJwAAACcCAMAAAC9ZjJ/AAAAllBMVEUAAAAAuBIAtxAAuBMAtxIAuRIAtxMAuRIAtxIAtxIAuBIAuBMAuBEAsxAAtxIAtxIAuBIAuRIAuBIAuBL///8AtRIAtxIAsxKA2ojf9uG/7cRg0WsgvzCg5Kbv+/BAyk2v6LUQvSFw13pAxk0wxT/P8dMQuiEQtyHv+vBw1HpQzFyQ3Zcwwj6Q4JiQ35fP8tOQ35iP35ce/Hr/AAAAE3RSTlMA3yC/QO9gsJCAz1AwENCgn39wIDfjZgAABGxJREFUeNrtnNlS4zAQReV4zcYALcmWF7ITwjDb///c2BCQwImdcTt2ZyqH5SGVh1NXaklxSs3qmE68wB9ZLrSJZfvBvcNwOHe2C+fDHjrNzVw4O9btoImaDR1he+zf8CzoEMsjmdqH3pidxtSHHjht7o0RZXDusQ2gN+5YNYMb6JHRoNLNgl6xKuwmCLdz2w1c6B13QnNM37Oj63bE7gaIMGIl7oAMQWmnB0KMaU64N9wpM/kGpPCZwRiI4TANqUEtsIlWwxse3eAALMLB6VlnA0Hs/RoHJHEornHvDKmWQ4HLchwgSjGuQyDKkGqtvtcrUMWd0p1yABN2D2TxWABkCZgPOBQvE0Er+NhinfFDcgLaYITdH7LDchJawGKAQ51RzkXKzfgZ5QApl1GWU4flQgpyM044uYyynOJ0h3Uda+glJ4UQYYEIySX3aielKKCXnEYSTE5DOTm4JncyV7mmXOWacrFy16WkimtyTbnKNeVi5xxpOdLDepX7BxKDF2pyIEUocsL8P9atfTmQbwDkf+1A92uIduUW61nyPFsvAEnrcovlXPE9v+ZJCghalpvF/AvZDHDg5bRamTiVgAQvl8b8CH8WOD283OyBH0WlgAAvt+RVPD0jskPLRbyGBGGHlFvyWl4Qdii5Na/nKRXQALRcqvgJxIhTAEIu4594yHbP6ctqN8d/KYGXSz+r7bZhKF5JI/VpYB97kIu5wfdtYSYl5D+53hwRHVKuXA1Rnpo+xUkpok/RCWgARi776gYGUvxGRIeXM7atLCwfzEWMKFis3MzcQvPcKoe9wVqHkvthDqqQ1eOeNIgOIxcbuYSyJtusYzk95WId3LG3bMJu5YwlLhRwEL3YqVDAyeDlUmNCHYvlJ/+gRzk4TERBTki6cjsh61abp27lwNwfZN1qszEKuh68nKotxYX2jztOzjgUrQQcIjFWm47llrX7uuIfPHe8Q6y5ZiWrg+PbjuXMYNSBg3hqHKnmYddyEddsHmXVJ7Mk7PjIBIsH0y6VJTfEzoqWkxE3UIk09JamOE+6ltPRab3F/vWl4iYq7EGu/KQknmdZpvgX0rDbj4Z6Ia4nauSGl1soXkt8wqBi5DCPctQW4YaSq7dTiAmHlpPVdvEW4YaWA/n4s6oWcG7AXEAhRaKOxLbCugH6Spo8rKeSXE0ACouNAI0QSfzlIeeqUJOAw8Zdc9HpPa6i+UblbLLdavuamgQkfjsXhGSuJ0S4Z/+QE03APMCi4yvQYmju2QTaQxa/7eGwKYE+IEegfhGS9BVSsjchHZZDdNJZjNEd11tG+FL1gH6TAZrReZfQ2IJiZ4siOKqtLV6DozrrxszAB1LcMgNiZ5Oi4xbZ/kIeoXaC5eNIiREQ4ebSWrwRsTPdTCYEStYdUG0WCWBNLrOVZW7Xa83eVLj1fWgPqLUS1rhjdgKDb9AD/pSdxrjz8Gzn/2gTXeDZgACdWv3c6yA+F9E6fXjO/Fw7N8Ph3Ae+bbVrZY38wJvU1udfiwGx6zsgLxcAAAAASUVORK5CYII=",On=function(){var e=Object(j.useRef)(null),t=Object(b.useRoute)(),n=Object(p.useNavigation)(),r=Object(fn.useWalletsSwapTransactions)().find((function(e){return e.hash===t.params.txid}));return Object(j.useEffect)((function(){function t(){return(t=k()((function*(){var t,r=yield null==(t=e.current)||null==t.capture?void 0:t.capture();if(r){var o=yield jn(),a=ln.default.select({ios:{activityItemSources:[{placeholderItem:{type:"url",content:bn},item:{default:{type:"url",content:"file://"+r}},linkMetadata:{title:"Share"}}],failOnCancel:!0},default:{url:"file://"+r,title:"Share",filename:"onekey_share.png",failOnCancel:!0}});if(!o)return;yield o.open(a).catch((function(){})),n.goBack()}}))).apply(this,arguments)}var r=setTimeout((function(){return t.apply(this,arguments)}),1e3);return function(){clearTimeout(r)}}),[]),r?Object(m.jsx)(a.default,{footer:null,staticChildrenProps:{},children:Object(m.jsxs)(d.default,{w:"full",h:"full",position:"relative",children:[Object(m.jsx)(sn.default,{ref:e,children:Object(m.jsxs)(d.default,{px:{base:4,md:6},py:"6",bg:"surface-subdued",children:[Object(m.jsx)(dn.default,{tx:r}),Object(m.jsxs)(d.default,{mt:"8",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(m.jsxs)(d.default,{children:[Object(m.jsx)(un.default,{width:82,height:25}),Object(m.jsx)(l.default.Caption,{mt:"2",color:"text-subdued",children:"All-in-one crypto wallet"})]}),Object(m.jsx)(d.default,{bg:"white",p:"1",borderRadius:4,shadow:"depth.4",children:Object(m.jsx)(cn.default,{value:"https://onekey.so/download",size:64,logoSize:0,logoMargin:0,logoBackgroundColor:"white"})})]})]})}),Object(m.jsx)(d.default,{position:"absolute",top:"0",left:"0",w:"full",h:"full"})]})}):null},pn=n(54),mn=n(259),hn=n(4019);function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gn=function(e){var t=e.message,n=e.type;return Object(m.jsxs)(d.default,{display:"flex",flexDirection:"row",mt:"2",children:[Object(m.jsx)(d.default,{mr:"2",children:Object(m.jsx)(R.default,{size:20,name:"ExclamationTriangleMini",color:"error"===n?"icon-critical":"icon-warning"})}),Object(m.jsx)(l.default.Body2,{color:"error"===n?"text-critical":"text-warning",children:t})]})},wn=function(e){return Object(m.jsx)(l.default.Body1,{children:e})},kn=function(){var e=Object(O.default)(),t=Object(hn.useSwapSlippageAuto)();if(t&&t.value){if("stable"===(null==t?void 0:t.type))return Object(m.jsx)(l.default.Body1,{color:"text-subdued",my:"4",children:e.formatMessage({id:"content__default_slippage_of_str_set_for_current_token_type_mainstream_asset_pairs"},{1:t.value+"%",2:e.formatMessage({id:"content__stablecoin_pairs"}),a:wn})});if("popular"===(null==t?void 0:t.type))return Object(m.jsx)(l.default.Body1,{color:"text-subdued",my:"4",children:e.formatMessage({id:"content__default_slippage_of_str_set_for_current_token_type_mainstream_asset_pairs"},{1:t.value+"%",2:e.formatMessage({id:"content__mainstream_asset_pairs"}),a:wn})});if("others"===(null==t?void 0:t.type))return Object(m.jsx)(l.default.Body1,{color:"text-subdued",my:"4",children:e.formatMessage({id:"content__default_slippage_of_str_set_for_current_token_type_mainstream_asset_pairs"},{1:t.value+"%",2:e.formatMessage({id:"content__altcoin_pairs"}),a:wn})})}return null},yn=function(){var e=Object(O.default)(),t=Object(p.useNavigation)(),n=Object(hn.useSlippageLevels)(),r=Object(pt.useAppSelector)((function(e){return e.swapTransactions.slippage})),o=Object(j.useState)((function(){return r||{mode:"auto"}})),c=u()(o,2),s=c[0],i=c[1],f=Object(j.useCallback)((function(e){i({mode:"custom",value:e.trim()})}),[]),b=Object(j.useCallback)((function(){return i({mode:"auto"})}),[]),h=Object(j.useCallback)((function(e){return i({mode:"preset",value:e})}),[]),x=Object(j.useCallback)((function(e){return"preset"===s.mode&&s.value===e?"primary":"basic"}),[s]),v=Object(j.useMemo)((function(){if(s&&"custom"===s.mode){var t=s.value?s.value.trim():"";if(!t)return{type:"error",message:e.formatMessage({id:"msg__enter_a_valid_slippage_percentage"})};var n=new we.a(t);if(n.gte(50)||n.eq(0))return{type:"error",message:e.formatMessage({id:"msg__enter_a_value_50_to_save_the_slippage"})};if(n.lt(.1))return{type:"warn",message:e.formatMessage({id:"msg__your_transaction_may_fail"})};if(n.gte(5)&&n.lt(50))return{type:"warn",message:e.formatMessage({id:"msg__your_transaction_may_be_frontrun"})}}}),[s,e]),g=Object(j.useCallback)((function(){"auto"===(null==r?void 0:r.mode)&&"auto"!==s.mode?t.navigate(V.RootRoutes.Modal,{screen:V.ModalRoutes.Swap,params:{screen:Z.SwapRoutes.SlippageCheck,params:s}}):(I.default.dispatch(Object(mn.setSlippage)(s)),t.goBack())}),[r,s,t]);return Object(m.jsxs)(a.default,{header:e.formatMessage({id:"form__slippage_tolerance"}),footer:null,children:[Object(m.jsxs)(d.default,{flexDirection:"row",justifyContent:"space-between",children:[Object(m.jsx)(d.default,{w:"22%",children:Object(m.jsx)(pn.default,{w:"full",type:"auto"===s.mode?"primary":"basic",onPress:b,children:e.formatMessage({id:"form__auto"})})}),Object(m.jsx)(d.default,{w:"22%",children:Object(m.jsx)(pn.default,{w:"full",type:x(n.stable),onPress:function(){return h(n.stable)},children:n.stable+"%"})}),Object(m.jsx)(d.default,{w:"22%",children:Object(m.jsx)(pn.default,{w:"full",type:x(n.popular),onPress:function(){return h(n.popular)},children:n.popular+"%"})}),Object(m.jsx)(d.default,{w:"22%",children:Object(m.jsx)(pn.default,{w:"full",type:x(n.others),onPress:function(){return h(n.others)},children:n.others+"%"})})]}),Object(m.jsxs)(d.default,{mt:"3",children:[Object(m.jsx)(nn.default,{w:"full",size:"xl",mt:"1",mb:"2",rightText:"%",value:"custom"===s.mode?s.value:"",placeholder:e.formatMessage({id:"content__custom"}),onChangeText:f}),v?Object(m.jsx)(gn,vn({},v)):null]}),"auto"===s.mode?Object(m.jsx)(kn,{}):null,"preset"===s.mode&&s.value===n.stable?Object(m.jsx)(l.default.Body1,{color:"text-subdued",my:"4",children:e.formatMessage({id:"content__str_is_recommended_as_the_default_slippage_for_stablecoin_pairs"},{0:n.stable+"%",a:wn})}):null,"preset"===s.mode&&s.value===n.popular?Object(m.jsx)(l.default.Body1,{color:"text-subdued",my:"4",children:e.formatMessage({id:"content__str_is_recommended_as_the_default_slippage_for_mainstream_asset_pairs"},{0:n.popular+"%",a:wn})}):null,"preset"===s.mode&&s.value===n.others?Object(m.jsx)(l.default.Body1,{color:"text-subdued",my:"4",children:e.formatMessage({id:"content__str_is_recommended_as_the_default_slippage_for_altcoin_pairs"},{0:n.others+"%",a:wn})}):null,Object(m.jsxs)(d.default,{children:[Object(m.jsx)(l.default.Body1Strong,{my:"4",children:e.formatMessage({id:"content__what_is_slippage"})}),Object(m.jsx)(l.default.Body1,{color:"text-subdued",children:e.formatMessage({id:"content__what_is_slippage_desc"})})]}),Object(m.jsx)(d.default,{mt:"4",children:Object(m.jsx)(pn.default,{isDisabled:!("error"!==(null==v?void 0:v.type)),onPress:g,w:"full",size:"lg",type:"primary",children:e.formatMessage({id:"action__save"})})})]})};function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=function(){var e,t=Object(O.default)(),n=Object(b.useRoute)(),r=Object(b.useNavigation)(),o=Object(j.useCallback)((function(){I.default.dispatch(Object(mn.setSlippage)(n.params)),(r.getParent()||r).goBack()}),[r,n.params]),c=Object(j.useCallback)((function(){I.default.dispatch(Object(mn.setSlippage)(In(In({},n.params),{},{autoReset:!0}))),(r.getParent()||r).goBack()}),[n.params,r]);return Object(m.jsx)(a.default,{footer:null,children:Object(m.jsxs)(d.default,{children:[Object(m.jsx)(P.default,{py:"8",children:Object(m.jsx)(l.default.Heading,{fontSize:"56px",lineHeight:"70px",children:"\ud83d\udd04"})}),Object(m.jsx)(P.default,{py:"3",children:Object(m.jsx)(l.default.DisplayMedium,{children:t.formatMessage({id:"modal__slippage_changed"})})}),Object(m.jsx)(l.default.Body1,{color:"text-subdued",children:t.formatMessage({id:"modal__slippage_changed_desc"})}),Object(m.jsxs)(d.default,{mt:"5",children:[Object(m.jsx)(pn.default,{size:"xl",onPress:o,children:t.formatMessage({id:"action__keep_this_settings_str"},{0:(null!=(e=n.params.value)?e:"")+"%"})}),Object(m.jsx)(pn.default,{mt:"3",size:"xl",type:"primary",onPress:c,children:t.formatMessage({id:"action__reset_for_me_in_the_next_swap"})})]})]})})},Cn=n(689);Cn.JsBridgeBase;class An extends Cn.JsBridgeBase{constructor(e){super(e),this.sendAsString=!0,this.webviewRef=e.webviewRef}sendPayload(e){var t,n;if(this.webviewRef&&this.webviewRef.current){const r=e,o=Cn.injectedFactory.createCodeJsBridgeReceive(r);null===(n=null===(t=this.webviewRef.current)||void 0===t?void 0:t.injectJavaScript)||void 0===n||n.call(t,o)}}}var Mn=n(29),Pn=n(4081),Rn=n(19),Tn=n(302),Bn=n(5232),Dn=function(e){var t=e.onRefresh,n=Object(O.default)();return Object(m.jsxs)(P.default,{w:"full",h:"full",bg:"background-default",children:[Object(m.jsx)(U.default,{emoji:"\ud83c\udf10",title:n.formatMessage({id:"title__no_connection"}),subTitle:n.formatMessage({id:"title__no_connection_desc"}),mb:3}),Object(m.jsx)(pn.default,{mt:6,size:"lg",type:"primary",leftIconName:"ArrowPathOutline",onPress:t,children:n.formatMessage({id:"action__refresh"})})]})},Nn=["style","src","receiveHandler","onSrcChange","onLoadProgress","injectedJavaScriptBeforeContentLoaded","onMessage"];function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ln=Mn.default.create({container:{backgroundColor:"transparent",flex:1}}),Un=Object(j.forwardRef)((function(e,t){e.style;var n=e.src,r=e.receiveHandler,o=(e.onSrcChange,e.onLoadProgress),a=e.injectedJavaScriptBeforeContentLoaded,c=e.onMessage,l=X()(e,Nn),s=Object(j.useRef)(),i=Object(j.useMemo)((function(){return new An({webviewRef:s,receiveHandler:r})}),[r]),u=Object(j.useCallback)((function(e){var t=e.nativeEvent.data;try{var n=new URL(e.nativeEvent.url),r=(null==n?void 0:n.origin)||"";Rn.default.webview.info("onMessage",r,t),i.receive(t,{origin:r})}catch(o){}null==c||c(e)}),[i,c]);Object(j.useImperativeHandle)(t,(function(){var e={innerRef:s.current,jsBridge:i,reload:function(){var e;return null==(e=s.current)?void 0:e.reload()},loadURL:function(e){var t;return null==(t=s.current)?void 0:t.loadUrl(e)}};return i.webviewWrapper=e,e}));var d=Object(j.useCallback)((function(e){var t=(null==e?void 0:e.nativeEvent).url;try{var n;if(Object(Bn.checkGoogleOauthUrl)({url:t}))Object(Tn.openUrlExternal)(t),null==(n=s.current)||n.stopLoading()}catch(r){Rn.default.webview.error("onLoadStart",r)}}),[]);return Object(m.jsx)(Pn.WebView,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:Ln.container,originWhitelist:["*"],allowFileAccess:!0,allowFileAccessFromFileURLs:!0,allowUniversalAccessFromFileURLs:!0,allowsBackForwardNavigationGestures:!0,fraudulentWebsiteWarningEnabled:!1,onLoadProgress:o,ref:s,injectedJavaScriptBeforeContentLoaded:a||"",allowsInlineMediaPlayback:!0,mediaPlaybackRequiresUserAction:!0,source:{uri:n},onMessage:u,onLoadStart:d,renderError:function(e,t,r){return Rn.default.webview.error({errorDomain:e,errorCode:t,errorDesc:r,src:n}),Object(m.jsx)(Dn,{onRefresh:function(){var e;return null==(e=s.current)?void 0:e.reload()}})}},l))}));Un.displayName="NativeWebView";var Wn=function(){return Object(m.jsx)(a.default,{footer:null,children:Object(m.jsx)(Un,{src:$e.swftcCustomerSupportUrl,injectedJavaScript:"(function(){\n    var style = document.createElement('style');\n    style.textContent = '#bw8_while_container { height: 100%!important; width: 100%; }'\n    document.head.append(style);\n  })()"})})},Hn=n(5233),zn=function(){var e=Object(O.default)(),t=Object(b.useRoute)(),r=Object(b.useNavigation)(),o=Object(j.useCallback)((function(){r.navigate(V.RootRoutes.Modal,{screen:V.ModalRoutes.Swap,params:{screen:Z.SwapRoutes.LimitOrderDetails,params:{orderHash:t.params.orderHash}}})}),[r,t.params.orderHash]);return Object(m.jsx)(a.default,{header:e.formatMessage({id:"modal__transaction_submitted"}),primaryActionTranslationId:"action__close",secondaryActionTranslationId:"action__view_details",onPrimaryActionPress:function(e){var t=e.close;return null==t?void 0:t()},onSecondaryActionPress:o,children:Object(m.jsxs)(A.default,{alignItems:"center",justifyContent:"center",flex:1,children:[Object(m.jsx)(d.default,{w:"200px",h:"200px",children:Object(m.jsx)(B.default,{width:200,source:n(1607),autoPlay:!0,loop:!1})}),Object(m.jsx)(T.default,{typography:"DisplayMedium",children:e.formatMessage({id:"action__submit"})}),Object(m.jsx)(d.default,{h:8})]})})},Vn=n(3986),qn=function(){var e=Object(b.useRoute)().params.url;return Object(m.jsx)(a.default,{footer:null,children:Object(m.jsx)(Vn.default,{src:e})})},Fn=function(){var e=Object(O.default)();return Object(j.useEffect)((function(){I.default.serviceSwap.setSwapWelcomeShown(!0)}),[]),Object(m.jsxs)(d.default,{children:[Object(m.jsxs)(P.default,{mt:"8",mb:"10",children:[Object(m.jsx)(l.default.DisplayLarge,{children:e.formatMessage({id:"title__welcome_to_onekey_swap"})}),Object(m.jsx)(l.default.Body2,{color:"text-subdued",mt:"2",children:e.formatMessage({id:"title__welcome_to_onekey_swap_desc"})})]}),Object(m.jsxs)(d.default,{children:[Object(m.jsxs)(d.default,{flexDirection:"row",mb:"8",children:[Object(m.jsx)(l.default.DisplayXLarge,{mr:"4",children:"\ud83c\udf08"}),Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsx)(l.default.DisplayMedium,{children:e.formatMessage({id:"form__cross_chain_swap"})}),Object(m.jsx)(l.default.Body1,{color:"text-subdued",children:e.formatMessage({id:"form__cross_chain_swap_desc"},{0:"25"})})]})]}),Object(m.jsxs)(d.default,{flexDirection:"row",mb:"8",children:[Object(m.jsx)(l.default.DisplayXLarge,{mr:"4",children:"\ud83d\udee1\ufe0f"}),Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsx)(l.default.DisplayMedium,{children:e.formatMessage({id:"form__exact_amount_allowance"})}),Object(m.jsx)(l.default.Body1,{color:"text-subdued",children:e.formatMessage({id:"form__exact_amount_allowance_significantly_reduces_risk_exposure"})})]})]}),Object(m.jsxs)(d.default,{flexDirection:"row",mb:"8",children:[Object(m.jsx)(l.default.DisplayXLarge,{mr:"4",children:"\ud83d\udc65"}),Object(m.jsxs)(d.default,{flex:"1",children:[Object(m.jsx)(l.default.DisplayMedium,{children:e.formatMessage({id:"form__designated_recipient"})}),Object(m.jsx)(l.default.Body1,{color:"text-subdued",children:e.formatMessage({id:"form__designated_recipient_desc"})})]})]})]})]})},Zn=function(){var e=Object(p.useNavigation)();return Object(m.jsx)(a.default,{hideSecondaryAction:!0,primaryActionTranslationId:"action__i_got_it",primaryActionProps:{size:"xl",type:"primary"},onPrimaryActionPress:function(){return e.goBack()},scrollViewProps:{children:Object(m.jsx)(Fn,{})}})},Qn=n(234),Kn=Object(Qn.default)(),Gn=[{name:Z.SwapRoutes.Input,component:Pe},{name:Z.SwapRoutes.Output,component:rt},{name:Z.SwapRoutes.Settings,component:an},{name:Z.SwapRoutes.CustomToken,component:o.default},{name:Z.SwapRoutes.Transaction,component:Hn.default},{name:Z.SwapRoutes.Webview,component:qn},{name:Z.SwapRoutes.SwftcHelp,component:Wn},{name:Z.SwapRoutes.Share,component:On},{name:Z.SwapRoutes.PickRecipient,component:wt},{name:Z.SwapRoutes.PickAccount,component:ht},{name:Z.SwapRoutes.EnterAddress,component:C},{name:Z.SwapRoutes.Welcome,component:Zn},{name:Z.SwapRoutes.SelectRoutes,component:en},{name:Z.SwapRoutes.Slippage,component:yn},{name:Z.SwapRoutes.SlippageCheck,component:Sn},{name:Z.SwapRoutes.LimitOrderInput,component:et},{name:Z.SwapRoutes.LimitOrderOutput,component:tt},{name:Z.SwapRoutes.LimitOrderDetails,component:ze},{name:Z.SwapRoutes.TransactionSubmitted,component:zn},{name:Z.SwapRoutes.HardwareContinue,component:E},{name:Z.SwapRoutes.ChainSelector,component:x},{name:Z.SwapRoutes.OutputCrosschain,component:ft},{name:Z.SwapRoutes.SelectSendingAccount,component:tn},{name:Z.SwapRoutes.SelectRecipient,component:Lt}];t.default=function(){var e=Object(r.default)();return Object(m.jsx)(Kn.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:Gn.map((function(e){return Object(m.jsx)(Kn.Screen,{name:e.name,component:e.component},e.name)}))})}}}]);