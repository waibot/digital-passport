(this.webpackJsonp=this.webpackJsonp||[]).push([[820],{5321:function(e,t,a){"use strict";a.r(t);var s=a(50),o=a(57),n=a(225),r=a(54),c=a(47),d=a(27),l=a(12),u=a(40),i=a(2),m=a.n(i),f=a(126),b=a(4),j=a.n(b),p=a(1),g=a(44),O=a(88),x=a(112),_=a(25),h=a(1085),w=a(17),v=a(0),S=function(){var e=Object(O.default)(),t=Object(g.useRoute)().params,a=t.withPassword,s=t.onSuccess,i=t.onError,b=t.onCancel,S=Object(p.useState)(""),k=j()(S,2),M=k[0],y=k[1],R=Object(f.default)({mode:"onChange",defaultValues:{password:""}}),C=R.control,P=R.handleSubmit,E=R.formState.isValid,I=R.watch,B=Object(_.useDebounce)(I("password"),200);Object(p.useEffect)((function(){y("")}),[B]);var D=Object(p.useCallback)(function(){var t=m()((function*(t){var o=yield w.default.servicePassword.getBgSensitiveTextEncodeKey(),n=Object(x.encodeSensitiveText)({text:t.password,key:o}),r=yield a(n);r===h.RestoreResult.SUCCESS?s():r===h.RestoreResult.WRONG_PASSWORD?y(e.formatMessage({id:"msg__wrong_password"})):i()}));return function(e){return t.apply(this,arguments)}}(),[e,a,s,i]);return Object(v.jsx)(o.default,{footer:null,onModalClose:function(){null==b||b()},children:Object(v.jsxs)(n.default,{px:{base:4,md:0},alignItems:"center",children:[Object(v.jsx)(l.default,{mb:"16px",p:"12px",borderRadius:"full",bgColor:"decorative-surface-one",children:Object(v.jsx)(u.default,{name:"LockClosedOutline",color:"decorative-icon-one"})}),Object(v.jsx)(d.default.DisplayLarge,{textAlign:"center",mb:2,children:e.formatMessage({id:"modal__import_backup"})}),Object(v.jsx)(d.default.Body1,{textAlign:"center",color:"text-subdued",children:e.formatMessage({id:"modal__import_backup_desc"})}),Object(v.jsxs)(c.default,{mt:"8",children:[Object(v.jsx)(c.default.Item,{name:"password",defaultValue:"",control:C,rules:{required:e.formatMessage({id:"form__field_is_required"}),minLength:{value:8,message:e.formatMessage({id:"msg__password_validation"})},maxLength:{value:128,message:e.formatMessage({id:"msg__password_validation"})}},children:Object(v.jsx)(c.default.PasswordInput,{autoFocus:!0})}),M?Object(v.jsx)(c.default.FormErrorMessage,{message:M}):null,Object(v.jsx)(r.default,{type:"primary",size:"xl",onPromise:P(D),isDisabled:!E,children:e.formatMessage({id:"action__unlock",defaultMessage:"Unlock"})})]})]})})},k=a(16),M=a(234),y=Object(M.default)(),R=[{name:k.ImportBackupPasswordModalRoutes.ImportBackupPassword,component:S}];t.default=function(){var e=Object(s.default)();return Object(v.jsx)(y.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:R.map((function(e){return Object(v.jsx)(y.Screen,{name:e.name,component:e.component},e.name)}))})}}}]);