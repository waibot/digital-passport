(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{1004:function(e,t,n){"use strict";n.r(t),n.d(t,"emojiList",(function(){return r})),n.d(t,"colors",(function(){return a})),n.d(t,"defaultAvatar",(function(){return i})),n.d(t,"randomAvatar",(function(){return s}));var r=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83e\udd23","\ud83d\ude02","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude07","\ud83e\udd70","\ud83d\ude0d","\ud83e\udd29","\ud83d\ude18","\ud83d\ude17","\u263a\ufe0f","\ud83d\ude1a","\ud83d\ude19","\ud83e\udd72","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1c","\ud83e\udd2a","\ud83d\ude1d","\ud83e\udd11","\ud83e\udd17","\ud83e\udd2d","\ud83e\udd2b","\ud83e\udd14","\ud83e\udd10","\ud83e\udd28","\ud83d\ude10","\ud83d\ude11","\ud83d\ude36","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude44","\ud83d\ude2c","\ud83e\udd25","\ud83d\ude0c","\ud83d\ude14","\ud83d\ude2a","\ud83e\udd24","\ud83d\ude34","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd22","\ud83e\udd2e","\ud83e\udd27","\ud83e\udd75","\ud83e\udd76","\ud83e\udd74","\ud83d\ude35","\ud83e\udd2f","\ud83e\udd20","\ud83e\udd73","\ud83e\udd78","\ud83d\ude0e","\ud83e\udd13","\ud83e\uddd0","\ud83d\ude15","\ud83d\ude1f","\ud83d\ude41","\u2639\ufe0f","\ud83d\ude2e","\ud83d\ude2f","\ud83d\ude32","\ud83d\ude33","\ud83e\udd7a","\ud83d\ude26","\ud83d\ude27","\ud83d\ude28","\ud83d\ude30","\ud83d\ude25","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude31","\ud83d\ude16","\ud83d\ude23","\ud83d\ude1e","\ud83d\ude13","\ud83d\ude29","\ud83d\ude2b","\ud83e\udd71","\ud83d\ude24","\ud83d\ude21","\ud83d\ude20","\ud83e\udd2c","\ud83d\ude08","\ud83d\udc7f","\ud83d\udc80","\u2620\ufe0f","\ud83d\udca9","\ud83e\udd21","\ud83d\udc79","\ud83d\udc7a","\ud83d\udc7b","\ud83d\udc7d","\ud83d\udc7e","\ud83e\udd16","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude40","\ud83d\ude3f","\ud83d\ude3e","\ud83d\udc8b","\ud83d\udc4b","\ud83e\udd1a","\ud83d\udd90\ufe0f","\u270b","\ud83d\udd96","\ud83d\udc4c","\ud83e\udd0c","\ud83e\udd0f","\u270c\ufe0f","\ud83e\udd1e","\ud83e\udd1f","\ud83e\udd18","\ud83e\udd19","\ud83d\udc48","\ud83d\udc49","\ud83d\udc46","\ud83d\udd95","\ud83d\udc47","\u261d\ufe0f","\ud83d\udc4d","\ud83d\udc4e","\u270a","\ud83d\udc4a","\ud83e\udd1b","\ud83e\udd1c","\ud83d\udc4f","\ud83d\ude4c","\ud83d\udc50","\ud83e\udd32","\ud83e\udd1d","\ud83d\ude4f","\u270d\ufe0f","\ud83d\udc85","\ud83e\udd33","\ud83d\udcaa","\ud83e\uddbe","\ud83e\uddbf","\ud83e\uddb5","\ud83e\uddb6","\ud83d\udc42","\ud83e\uddbb","\ud83d\udc43","\ud83e\udde0","\ud83e\udec0","\ud83e\udec1","\ud83e\uddb7","\ud83e\uddb4","\ud83d\udc40","\ud83d\udc41\ufe0f","\ud83d\udc45","\ud83d\udc44","\ud83d\udc76","\ud83e\uddd2","\ud83d\udc66","\ud83d\udc67","\ud83e\uddd1","\ud83d\udc71","\ud83d\udc68","\ud83e\uddd4","\ud83d\udc68\u200d\ud83e\uddb0","\ud83d\udc68\u200d\ud83e\uddb1","\ud83d\udc68\u200d\ud83e\uddb3","\ud83d\udc68\u200d\ud83e\uddb2","\ud83d\udc69","\ud83d\udc69\u200d\ud83e\uddb0","\ud83e\uddd1\u200d\ud83e\uddb0","\ud83d\udc69\u200d\ud83e\uddb1","\ud83e\uddd1\u200d\ud83e\uddb1","\ud83d\udc69\u200d\ud83e\uddb3","\ud83e\uddd1\u200d\ud83e\uddb3","\ud83d\udc69\u200d\ud83e\uddb2","\ud83e\uddd1\u200d\ud83e\uddb2","\ud83d\udc71\u200d\u2640\ufe0f","\ud83d\udc71\u200d\u2642\ufe0f","\ud83e\uddd3","\ud83d\udc74","\ud83d\udc75","\ud83d\ude4d","\ud83d\ude4d\u200d\u2642\ufe0f","\ud83d\ude4d\u200d\u2640\ufe0f","\ud83d\ude4e","\ud83d\ude4e\u200d\u2642\ufe0f","\ud83d\ude4e\u200d\u2640\ufe0f","\ud83d\ude45","\ud83d\ude45\u200d\u2642\ufe0f","\ud83d\ude45\u200d\u2640\ufe0f","\ud83d\ude46","\ud83d\ude46\u200d\u2642\ufe0f","\ud83d\ude46\u200d\u2640\ufe0f","\ud83d\udc81","\ud83d\udc81\u200d\u2642\ufe0f","\ud83d\udc81\u200d\u2640\ufe0f","\ud83d\ude4b","\ud83d\ude4b\u200d\u2642\ufe0f","\ud83d\ude4b\u200d\u2640\ufe0f","\ud83e\uddcf","\ud83e\uddcf\u200d\u2642\ufe0f","\ud83e\uddcf\u200d\u2640\ufe0f","\ud83d\ude47","\ud83d\ude47\u200d\u2642\ufe0f","\ud83d\ude47\u200d\u2640\ufe0f","\ud83e\udd26","\ud83e\udd26\u200d\u2642\ufe0f","\ud83e\udd26\u200d\u2640\ufe0f","\ud83e\udd37","\ud83e\udd37\u200d\u2642\ufe0f","\ud83e\udd37\u200d\u2640\ufe0f","\ud83e\uddd1\u200d\u2695\ufe0f","\ud83d\udc68\u200d\u2695\ufe0f","\ud83d\udc69\u200d\u2695\ufe0f","\ud83e\uddd1\u200d\ud83c\udf93","\ud83d\udc68\u200d\ud83c\udf93","\ud83d\udc69\u200d\ud83c\udf93","\ud83e\uddd1\u200d\ud83c\udfeb","\ud83d\udc68\u200d\ud83c\udfeb","\ud83d\udc69\u200d\ud83c\udfeb","\ud83e\uddd1\u200d\u2696\ufe0f","\ud83d\udc68\u200d\u2696\ufe0f","\ud83d\udc69\u200d\u2696\ufe0f","\ud83e\uddd1\u200d\ud83c\udf3e","\ud83d\udc68\u200d\ud83c\udf3e","\ud83d\udc69\u200d\ud83c\udf3e","\ud83e\uddd1\u200d\ud83c\udf73","\ud83d\udc68\u200d\ud83c\udf73","\ud83d\udc69\u200d\ud83c\udf73","\ud83e\uddd1\u200d\ud83d\udd27","\ud83d\udc68\u200d\ud83d\udd27","\ud83d\udc69\u200d\ud83d\udd27","\ud83e\uddd1\u200d\ud83c\udfed","\ud83d\udc68\u200d\ud83c\udfed","\ud83d\udc69\u200d\ud83c\udfed","\ud83e\uddd1\u200d\ud83d\udcbc","\ud83d\udc68\u200d\ud83d\udcbc","\ud83d\udc69\u200d\ud83d\udcbc","\ud83e\uddd1\u200d\ud83d\udd2c","\ud83d\udc68\u200d\ud83d\udd2c","\ud83d\udc69\u200d\ud83d\udd2c","\ud83e\uddd1\u200d\ud83d\udcbb","\ud83d\udc68\u200d\ud83d\udcbb","\ud83d\udc69\u200d\ud83d\udcbb","\ud83e\uddd1\u200d\ud83c\udfa4","\ud83d\udc68\u200d\ud83c\udfa4","\ud83d\udc69\u200d\ud83c\udfa4","\ud83e\uddd1\u200d\ud83c\udfa8","\ud83d\udc68\u200d\ud83c\udfa8","\ud83d\udc69\u200d\ud83c\udfa8","\ud83e\uddd1\u200d\u2708\ufe0f","\ud83d\udc68\u200d\u2708\ufe0f","\ud83d\udc69\u200d\u2708\ufe0f","\ud83e\uddd1\u200d\ud83d\ude80","\ud83d\udc68\u200d\ud83d\ude80","\ud83d\udc69\u200d\ud83d\ude80","\ud83d\udc68\ud83c\udffd\u200d\ud83d\ude80","\ud83e\uddd1\u200d\ud83d\ude92","\ud83d\udc68\u200d\ud83d\ude92","\ud83d\udc69\u200d\ud83d\ude92","\ud83d\udc6e","\ud83d\udc6e\u200d\u2642\ufe0f","\ud83d\udc6e\u200d\u2640\ufe0f","\ud83d\udd75\ufe0f","\ud83d\udd75\ufe0f\u200d\u2642\ufe0f","\ud83d\udd75\ufe0f\u200d\u2640\ufe0f","\ud83d\udc82","\ud83d\udc82\u200d\u2642\ufe0f","\ud83d\udc82\u200d\u2640\ufe0f","\ud83e\udd77","\ud83d\udc77","\ud83d\udc77\u200d\u2642\ufe0f","\ud83d\udc77\u200d\u2640\ufe0f","\ud83e\udd34","\ud83d\udc78","\ud83d\udc73","\ud83d\udc73\u200d\u2642\ufe0f","\ud83d\udc73\u200d\u2640\ufe0f","\ud83d\udc72","\ud83e\uddd5","\ud83e\udd35","\ud83e\udd35\u200d\u2642\ufe0f","\ud83e\udd35\u200d\u2640\ufe0f","\ud83d\udc70","\ud83d\udc70\u200d\u2642\ufe0f","\ud83d\udc70\u200d\u2640\ufe0f","\ud83e\udd30","\ud83e\udd31","\ud83d\udc69\u200d\ud83c\udf7c","\ud83d\udc68\u200d\ud83c\udf7c","\ud83e\uddd1\u200d\ud83c\udf7c","\ud83d\udc7c","\ud83c\udf85","\ud83e\udd36","\ud83e\uddd1\u200d\ud83c\udf84","\ud83e\uddb8","\ud83e\uddb8\u200d\u2642\ufe0f","\ud83e\uddb8\u200d\u2640\ufe0f","\ud83e\uddb9","\ud83e\uddb9\u200d\u2642\ufe0f","\ud83e\uddb9\u200d\u2640\ufe0f","\ud83e\uddd9","\ud83e\uddd9\u200d\u2642\ufe0f","\ud83e\uddd9\ud83c\udffc\u200d\u2642\ufe0f","\ud83e\uddd9\u200d\u2640\ufe0f","\ud83e\uddda","\ud83e\uddda\u200d\u2642\ufe0f","\ud83e\uddda\u200d\u2640\ufe0f","\ud83e\udddb","\ud83e\udddb\u200d\u2642\ufe0f","\ud83e\udddb\u200d\u2640\ufe0f","\ud83e\udddc","\ud83e\udddc\u200d\u2642\ufe0f","\ud83e\udddc\u200d\u2640\ufe0f","\ud83e\udddd","\ud83e\udddd\u200d\u2642\ufe0f","\ud83e\udddd\u200d\u2640\ufe0f","\ud83e\uddde","\ud83e\uddde\u200d\u2642\ufe0f","\ud83e\uddde\u200d\u2640\ufe0f","\ud83e\udddf","\ud83e\udddf\u200d\u2642\ufe0f","\ud83e\udddf\u200d\u2640\ufe0f","\ud83d\udc86","\ud83d\udc86\u200d\u2642\ufe0f","\ud83d\udc86\u200d\u2640\ufe0f","\ud83d\udc87","\ud83d\udc87\u200d\u2642\ufe0f","\ud83d\udc87\u200d\u2640\ufe0f","\ud83d\udeb6","\ud83d\udeb6\u200d\u2642\ufe0f","\ud83d\udeb6\u200d\u2640\ufe0f","\ud83e\uddcd","\ud83e\uddcd\u200d\u2642\ufe0f","\ud83e\uddcd\u200d\u2640\ufe0f","\ud83e\uddce","\ud83e\uddce\u200d\u2642\ufe0f","\ud83e\uddce\u200d\u2640\ufe0f","\ud83e\uddd1\u200d\ud83e\uddaf","\ud83d\udc68\u200d\ud83e\uddaf","\ud83d\udc69\u200d\ud83e\uddaf","\ud83e\uddd1\u200d\ud83e\uddbc","\ud83d\udc68\u200d\ud83e\uddbc","\ud83d\udc69\u200d\ud83e\uddbc","\ud83e\uddd1\u200d\ud83e\uddbd","\ud83d\udc68\u200d\ud83e\uddbd","\ud83d\udc69\u200d\ud83e\uddbd","\ud83c\udfc3","\ud83c\udfc3\u200d\u2642\ufe0f","\ud83c\udfc3\u200d\u2640\ufe0f","\ud83d\udc83","\ud83d\udd7a","\ud83d\udd74\ufe0f","\ud83d\udc6f","\ud83d\udc6f\u200d\u2642\ufe0f","\ud83d\udc6f\u200d\u2640\ufe0f","\ud83e\uddd6","\ud83e\uddd6\u200d\u2642\ufe0f","\ud83e\uddd6\u200d\u2640\ufe0f","\ud83e\uddd8","\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1","\ud83d\udc6d","\ud83d\udc6b","\ud83d\udc6c","\ud83d\udc8f","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68","\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69","\ud83d\udc91","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc68","\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69","\ud83d\udc6a","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udde3\ufe0f","\ud83d\udc64","\ud83d\udc65","\ud83e\udec2","\ud83d\udc63","\ud83e\uddf3","\ud83c\udf02","\u2602\ufe0f","\ud83c\udf83","\ud83e\uddf5","\ud83e\uddf6","\ud83d\udc53","\ud83d\udd76\ufe0f","\ud83e\udd7d","\ud83e\udd7c","\ud83e\uddba","\ud83d\udc54","\ud83d\udc55","\ud83d\udc56","\ud83e\udde3","\ud83e\udde4","\ud83e\udde5","\ud83e\udde6","\ud83d\udc57","\ud83d\udc58","\ud83e\udd7b","\ud83e\ude71","\ud83e\ude72","\ud83e\ude73","\ud83d\udc59","\ud83d\udc5a","\ud83d\udc5b","\ud83d\udc5c","\ud83d\udc5d","\ud83c\udf92","\ud83e\ude74","\ud83d\udc5e","\ud83d\udc5f","\ud83e\udd7e","\ud83e\udd7f","\ud83d\udc60","\ud83d\udc61","\ud83e\ude70","\ud83d\udc62","\ud83d\udc51","\ud83d\udc52","\ud83c\udfa9","\ud83c\udf93","\ud83e\udde2","\ud83e\ude96","\u26d1\ufe0f","\ud83d\udc84","\ud83d\udc8d","\ud83d\udcbc","\ud83e\ude78","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udca5","\ud83d\udcab","\ud83d\udca6","\ud83d\udca8","\ud83d\udc35","\ud83d\udc12","\ud83e\udd8d","\ud83e\udda7","\ud83d\udc36","\ud83d\udc15","\ud83e\uddae","\ud83d\udc15\u200d\ud83e\uddba","\ud83d\udc29","\ud83d\udc3a","\ud83e\udd8a","\ud83e\udd9d","\ud83d\udc31","\ud83d\udc08","\ud83d\udc08\u200d\u2b1b","\ud83e\udd81","\ud83d\udc2f","\ud83d\udc05","\ud83d\udc06","\ud83d\udc34","\ud83d\udc0e","\ud83e\udd84","\ud83e\udd93","\ud83e\udd8c","\ud83e\uddac","\ud83d\udc2e","\ud83d\udc02","\ud83d\udc03","\ud83d\udc04","\ud83d\udc37","\ud83d\udc16","\ud83d\udc17","\ud83d\udc3d","\ud83d\udc0f","\ud83d\udc11","\ud83d\udc10","\ud83d\udc2a","\ud83d\udc2b","\ud83e\udd99","\ud83e\udd92","\ud83d\udc18","\ud83e\udda3","\ud83e\udd8f","\ud83e\udd9b","\ud83d\udc2d","\ud83d\udc01","\ud83d\udc00","\ud83d\udc39","\ud83d\udc30","\ud83d\udc07","\ud83d\udc3f\ufe0f","\ud83e\uddab","\ud83e\udd94","\ud83e\udd87","\ud83d\udc3b","\ud83d\udc3b\u200d\u2744\ufe0f","\ud83d\udc28","\ud83d\udc3c","\ud83e\udda5","\ud83e\udda6","\ud83e\udda8","\ud83e\udd98","\ud83e\udda1","\ud83d\udc3e","\ud83e\udd83","\ud83d\udc14","\ud83d\udc13","\ud83d\udc23","\ud83d\udc24","\ud83d\udc25","\ud83d\udc26","\ud83d\udc27","\ud83d\udd4a\ufe0f","\ud83e\udd85","\ud83e\udd86","\ud83e\udda2","\ud83e\udd89","\ud83e\udda4","\ud83e\udeb6","\ud83e\udda9","\ud83e\udd9a","\ud83e\udd9c","\ud83d\udc38","\ud83d\udc0a","\ud83d\udc22","\ud83e\udd8e","\ud83d\udc0d","\ud83d\udc32","\ud83d\udc09","\ud83e\udd95","\ud83e\udd96","\ud83d\udc33","\ud83d\udc0b","\ud83d\udc2c","\ud83e\uddad","\ud83d\udc1f","\ud83d\udc20","\ud83d\udc21","\ud83e\udd88","\ud83d\udc19","\ud83d\udc1a","\ud83d\udc0c","\ud83e\udd8b","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83e\udeb2","\ud83d\udc1e","\ud83e\udd97","\ud83e\udeb3","\ud83d\udd77\ufe0f","\ud83d\udd78\ufe0f","\ud83e\udd82","\ud83e\udd9f","\ud83e\udeb0","\ud83e\udeb1","\ud83e\udda0","\ud83d\udc90","\ud83c\udf38","\ud83d\udcae","\ud83c\udff5\ufe0f","\ud83c\udf39","\ud83e\udd40","\ud83c\udf3a","\ud83c\udf3b","\ud83c\udf3c","\ud83c\udf37","\ud83c\udf31","\ud83e\udeb4","\ud83c\udf32","\ud83c\udf33","\ud83c\udf34","\ud83c\udf35","\ud83c\udf3e","\ud83c\udf3f","\u2618\ufe0f","\ud83c\udf40","\ud83c\udf41","\ud83c\udf42","\ud83c\udf43","\ud83c\udf44","\ud83c\udf30","\ud83e\udd80","\ud83e\udd9e","\ud83e\udd90","\ud83e\udd91","\ud83c\udf0d","\ud83c\udf0e","\ud83c\udf0f","\ud83c\udf10","\ud83e\udea8","\ud83c\udf11","\ud83c\udf12","\ud83c\udf13","\ud83c\udf14","\ud83c\udf15","\ud83c\udf16","\ud83c\udf17","\ud83c\udf18","\ud83c\udf19","\ud83c\udf1a","\ud83c\udf1b","\ud83c\udf1c","\u2600\ufe0f","\ud83c\udf1d","\ud83c\udf1e","\u2b50","\ud83c\udf1f","\ud83c\udf20","\u2601\ufe0f","\u26c5","\u26c8\ufe0f","\ud83c\udf24\ufe0f","\ud83c\udf25\ufe0f","\ud83c\udf26\ufe0f","\ud83c\udf27\ufe0f","\ud83c\udf28\ufe0f","\ud83c\udf29\ufe0f","\ud83c\udf2a\ufe0f","\ud83c\udf2b\ufe0f","\ud83c\udf2c\ufe0f","\ud83c\udf08","\u2602\ufe0f","\u2614","\u26a1","\u2744\ufe0f","\u2603\ufe0f","\u26c4","\u2604\ufe0f","\ud83d\udd25","\ud83d\udca7","\ud83c\udf0a","\ud83c\udf84","\u2728","\ud83c\udf8b","\ud83c\udf8d","\ud83c\udf47","\ud83c\udf48","\ud83c\udf49","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf4d","\ud83e\udd6d","\ud83c\udf4e","\ud83c\udf4f","\ud83c\udf50","\ud83c\udf51","\ud83c\udf52","\ud83c\udf53","\ud83e\uded0","\ud83e\udd5d","\ud83c\udf45","\ud83e\uded2","\ud83e\udd65","\ud83e\udd51","\ud83c\udf46","\ud83e\udd54","\ud83e\udd55","\ud83c\udf3d","\ud83c\udf36\ufe0f","\ud83e\uded1","\ud83e\udd52","\ud83e\udd6c","\ud83e\udd66","\ud83e\uddc4","\ud83e\uddc5","\ud83c\udf44","\ud83e\udd5c","\ud83c\udf30","\ud83c\udf5e","\ud83e\udd50","\ud83e\udd56","\ud83e\uded3","\ud83e\udd68","\ud83e\udd6f","\ud83e\udd5e","\ud83e\uddc7","\ud83e\uddc0","\ud83c\udf56","\ud83c\udf57","\ud83e\udd69","\ud83e\udd53","\ud83c\udf54","\ud83c\udf5f","\ud83c\udf55","\ud83c\udf2d","\ud83e\udd6a","\ud83c\udf2e","\ud83c\udf2f","\ud83e\uded4","\ud83e\udd59","\ud83e\uddc6","\ud83e\udd5a","\ud83c\udf73","\ud83e\udd58","\ud83c\udf72","\ud83e\uded5","\ud83e\udd63","\ud83e\udd57","\ud83c\udf7f","\ud83e\uddc8","\ud83e\uddc2","\ud83e\udd6b","\ud83c\udf71","\ud83c\udf58","\ud83c\udf59","\ud83c\udf5a","\ud83c\udf5b","\ud83c\udf5c","\ud83c\udf5d","\ud83c\udf60","\ud83c\udf62","\ud83c\udf63","\ud83c\udf64","\ud83c\udf65","\ud83e\udd6e","\ud83c\udf61","\ud83e\udd5f","\ud83e\udd60","\ud83e\udd61","\ud83e\uddaa","\ud83c\udf66","\ud83c\udf67","\ud83c\udf68","\ud83c\udf69","\ud83c\udf6a","\ud83c\udf82","\ud83c\udf70","\ud83e\uddc1","\ud83e\udd67","\ud83c\udf6b","\ud83c\udf6c","\ud83c\udf6d","\ud83c\udf6e","\ud83c\udf6f","\ud83c\udf7c","\ud83e\udd5b","\u2615","\ud83e\uded6","\ud83c\udf75","\ud83c\udf76","\ud83c\udf7e","\ud83c\udf77","\ud83c\udf78","\ud83c\udf79","\ud83c\udf7a","\ud83c\udf7b","\ud83e\udd42","\ud83e\udd43","\ud83e\udd64","\ud83e\uddcb","\ud83e\uddc3","\ud83e\uddc9","\ud83e\uddca","\ud83e\udd62","\ud83c\udf7d\ufe0f","\ud83c\udf74","\ud83e\udd44","\ud83d\udd74\ufe0f","\ud83e\uddd7","\ud83e\uddd7\u200d\u2642\ufe0f","\ud83e\uddd7\u200d\u2640\ufe0f","\ud83e\udd3a","\ud83c\udfc7","\u26f7\ufe0f","\ud83c\udfc2","\ud83c\udfcc\ufe0f","\ud83c\udfcc\ufe0f\u200d\u2642\ufe0f","\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f","\ud83c\udfc4","\ud83c\udfc4\u200d\u2642\ufe0f","\ud83c\udfc4\u200d\u2640\ufe0f","\ud83d\udea3","\ud83d\udea3\u200d\u2642\ufe0f","\ud83d\udea3\u200d\u2640\ufe0f","\ud83c\udfca","\ud83c\udfca\u200d\u2642\ufe0f","\ud83c\udfca\u200d\u2640\ufe0f","\u26f9\ufe0f","\u26f9\ufe0f\u200d\u2642\ufe0f","\u26f9\ufe0f\u200d\u2640\ufe0f","\ud83c\udfcb\ufe0f","\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f","\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f","\ud83d\udeb4","\ud83d\udeb4\u200d\u2642\ufe0f","\ud83d\udeb4\u200d\u2640\ufe0f","\ud83d\udeb5","\ud83d\udeb5\u200d\u2642\ufe0f","\ud83d\udeb5\u200d\u2640\ufe0f","\ud83e\udd38","\ud83e\udd38\u200d\u2642\ufe0f","\ud83e\udd38\u200d\u2640\ufe0f","\ud83e\udd3c","\ud83e\udd3c\u200d\u2642\ufe0f","\ud83e\udd3c\u200d\u2640\ufe0f","\ud83e\udd3d","\ud83e\udd3d\u200d\u2642\ufe0f","\ud83e\udd3d\u200d\u2640\ufe0f","\ud83e\udd3e","\ud83e\udd3e\u200d\u2642\ufe0f","\ud83e\udd3e\u200d\u2640\ufe0f","\ud83e\udd39","\ud83e\udd39\u200d\u2642\ufe0f","\ud83e\udd39\u200d\u2640\ufe0f","\ud83e\uddd8","\ud83e\uddd8\u200d\u2642\ufe0f","\ud83e\uddd8\u200d\u2640\ufe0f","\ud83c\udfaa","\ud83d\udef9","\ud83d\udefc","\ud83d\udef6","\ud83c\udf97\ufe0f","\ud83c\udf9f\ufe0f","\ud83c\udfab","\ud83c\udf96\ufe0f","\ud83c\udfc6","\ud83c\udfc5","\u26bd","\u26be","\ud83e\udd4e","\ud83c\udfc0","\ud83c\udfd0","\ud83c\udfc8","\ud83c\udfc9","\ud83c\udfbe","\ud83e\udd4f","\ud83c\udfb3","\ud83c\udfcf","\ud83c\udfd1","\ud83c\udfd2","\ud83e\udd4d","\ud83c\udfd3","\ud83c\udff8","\ud83e\udd4a","\ud83e\udd4b","\ud83e\udd45","\u26f3","\u26f8\ufe0f","\ud83c\udfa3","\ud83c\udfbd","\ud83c\udfbf","\ud83d\udef7","\ud83e\udd4c","\ud83c\udfaf","\ud83c\udfb1","\ud83c\udfae","\ud83c\udfb0","\ud83c\udfb2","\ud83e\udde9","\u265f\ufe0f","\ud83c\udfad","\ud83c\udfa8","\ud83e\uddf5","\ud83e\uddf6","\ud83c\udfbc","\ud83c\udfa4","\ud83c\udfa7","\ud83c\udfb7","\ud83e\ude97","\ud83c\udfb8","\ud83c\udfb9","\ud83c\udfba","\ud83c\udfbb","\ud83e\udd41","\ud83e\ude98","\ud83c\udfac","\ud83c\udff9","\ud83d\udea3","\ud83d\uddfe","\ud83c\udfd4\ufe0f","\u26f0\ufe0f","\ud83c\udf0b","\ud83d\uddfb","\ud83c\udfd5\ufe0f","\ud83c\udfd6\ufe0f","\ud83c\udfdc\ufe0f","\ud83c\udfdd\ufe0f","\ud83c\udfde\ufe0f","\ud83c\udfdf\ufe0f","\ud83c\udfdb\ufe0f","\ud83c\udfd7\ufe0f","\ud83d\uded6","\ud83c\udfd8\ufe0f","\ud83c\udfda\ufe0f","\ud83c\udfe0","\ud83c\udfe1","\ud83c\udfe2","\ud83c\udfe3","\ud83c\udfe4","\ud83c\udfe5","\ud83c\udfe6","\ud83c\udfe8","\ud83c\udfe9","\ud83c\udfea","\ud83c\udfeb","\ud83c\udfec","\ud83c\udfed","\ud83c\udfef","\ud83c\udff0","\ud83d\udc92","\ud83d\uddfc","\ud83d\uddfd","\u26ea","\ud83d\udd4c","\ud83d\uded5","\ud83d\udd4d","\u26e9\ufe0f","\ud83d\udd4b","\u26f2","\u26fa","\ud83c\udf01","\ud83c\udf03","\ud83c\udfd9\ufe0f","\ud83c\udf04","\ud83c\udf05","\ud83c\udf06","\ud83c\udf07","\ud83c\udf09","\ud83c\udfa0","\ud83c\udfa1","\ud83c\udfa2","\ud83d\ude82","\ud83d\ude83","\ud83d\ude84","\ud83d\ude85","\ud83d\ude86","\ud83d\ude87","\ud83d\ude88","\ud83d\ude89","\ud83d\ude8a","\ud83d\ude9d","\ud83d\ude9e","\ud83d\ude8b","\ud83d\ude8c","\ud83d\ude8d","\ud83d\ude8e","\ud83d\ude90","\ud83d\ude91","\ud83d\ude92","\ud83d\ude93","\ud83d\ude94","\ud83d\ude95","\ud83d\ude96","\ud83d\ude97","\ud83d\ude98","\ud83d\ude99","\ud83d\udefb","\ud83d\ude9a","\ud83d\ude9b","\ud83d\ude9c","\ud83c\udfce\ufe0f","\ud83c\udfcd\ufe0f","\ud83d\udef5","\ud83d\udefa","\ud83d\udeb2","\ud83d\udef4","\ud83d\ude8f","\ud83d\udee3\ufe0f","\ud83d\udee4\ufe0f","\u26fd","\ud83d\udea8","\ud83d\udea5","\ud83d\udea6","\ud83d\udea7","\u2693","\u26f5","\ud83d\udea4","\ud83d\udef3\ufe0f","\u26f4\ufe0f","\ud83d\udee5\ufe0f","\ud83d\udea2","\u2708\ufe0f","\ud83d\udee9\ufe0f","\ud83d\udeeb","\ud83d\udeec","\ud83e\ude82","\ud83d\udcba","\ud83d\ude81","\ud83d\ude9f","\ud83d\udea0","\ud83d\udea1","\ud83d\udef0\ufe0f","\ud83d\ude80","\ud83d\udef8","\ud83e\ude90","\ud83c\udf20","\ud83c\udf0c","\u26f1\ufe0f","\ud83c\udf86","\ud83c\udf87","\ud83c\udf91","\ud83d\udcb4","\ud83d\udcb5","\ud83d\udcb6","\ud83d\udcb7","\ud83d\uddff","\ud83d\udec2","\ud83d\udec3","\ud83d\udec4","\ud83d\udec5","\ud83d\udc8c","\ud83d\udd73\ufe0f","\ud83d\udca3","\ud83d\udec0","\ud83d\udecc","\ud83d\udd2a","\ud83c\udffa","\ud83d\uddfa\ufe0f","\ud83e\udded","\ud83e\uddf1","\ud83d\udc88","\ud83e\uddbd","\ud83e\uddbc","\ud83d\udee2\ufe0f","\ud83d\udece\ufe0f","\ud83e\uddf3","\u231b","\u23f3","\u231a","\u23f0","\u23f1\ufe0f","\u23f2\ufe0f","\ud83d\udd70\ufe0f","\ud83c\udf21\ufe0f","\u26f1\ufe0f","\ud83e\udde8","\ud83c\udf88","\ud83c\udf89","\ud83c\udf8a","\ud83c\udf8e","\ud83c\udf8f","\ud83c\udf90","\ud83e\udde7","\ud83c\udf80","\ud83c\udf81","\ud83e\udd3f","\ud83e\ude80","\ud83e\ude81","\ud83d\udd2e","\ud83e\ude84","\ud83e\uddff","\ud83d\udd79\ufe0f","\ud83e\uddf8","\ud83e\ude85","\ud83e\ude86","\ud83d\uddbc\ufe0f","\ud83e\uddf5","\ud83e\udea1","\ud83e\uddf6","\ud83e\udea2","\ud83d\udecd\ufe0f","\ud83d\udcff","\ud83d\udc8e","\ud83d\udcef","\ud83c\udf99\ufe0f","\ud83c\udf9a\ufe0f","\ud83c\udf9b\ufe0f","\ud83d\udcfb","\ud83e\ude95","\ud83d\udcf1","\ud83d\udcf2","\u260e\ufe0f","\ud83d\udcde","\ud83d\udcdf","\ud83d\udce0","\ud83d\udd0b","\ud83d\udd0c","\ud83d\udcbb","\ud83d\udda5\ufe0f","\ud83d\udda8\ufe0f","\u2328\ufe0f","\ud83d\uddb1\ufe0f","\ud83d\uddb2\ufe0f","\ud83d\udcbd","\ud83d\udcbe","\ud83d\udcbf","\ud83d\udcc0","\ud83e\uddee","\ud83c\udfa5","\ud83c\udf9e\ufe0f","\ud83d\udcfd\ufe0f","\ud83d\udcfa","\ud83d\udcf7","\ud83d\udcf8","\ud83d\udcf9","\ud83d\udcfc","\ud83d\udd0d","\ud83d\udd0e","\ud83d\udd6f\ufe0f","\ud83d\udca1","\ud83d\udd26","\ud83c\udfee","\ud83e\ude94","\ud83d\udcd4","\ud83d\udcd5","\ud83d\udcd6","\ud83d\udcd7","\ud83d\udcd8","\ud83d\udcd9","\ud83d\udcda","\ud83d\udcd3","\ud83d\udcd2","\ud83d\udcc3","\ud83d\udcdc","\ud83d\udcc4","\ud83d\udcf0","\ud83d\uddde\ufe0f","\ud83d\udcd1","\ud83d\udd16","\ud83c\udff7\ufe0f","\ud83d\udcb0","\ud83e\ude99","\ud83d\udcb4","\ud83d\udcb5","\ud83d\udcb6","\ud83d\udcb7","\ud83d\udcb8","\ud83d\udcb3","\ud83e\uddfe","\u2709\ufe0f","\ud83d\udce7","\ud83d\udce8","\ud83d\udce9","\ud83d\udce4","\ud83d\udce5","\ud83d\udce6","\ud83d\udceb","\ud83d\udcea","\ud83d\udcec","\ud83d\udced","\ud83d\udcee","\ud83d\uddf3\ufe0f","\u270f\ufe0f","\u2712\ufe0f","\ud83d\udd8b\ufe0f","\ud83d\udd8a\ufe0f","\ud83d\udd8c\ufe0f","\ud83d\udd8d\ufe0f","\ud83d\udcdd","\ud83d\udcc1","\ud83d\udcc2","\ud83d\uddc2\ufe0f","\ud83d\udcc5","\ud83d\udcc6","\ud83d\uddd2\ufe0f","\ud83d\uddd3\ufe0f","\ud83d\udcc7","\ud83d\udcc8","\ud83d\udcc9","\ud83d\udcca","\ud83d\udccb","\ud83d\udccc","\ud83d\udccd","\ud83d\udcce","\ud83d\udd87\ufe0f","\ud83d\udccf","\ud83d\udcd0","\u2702\ufe0f","\ud83d\uddc3\ufe0f","\ud83d\uddc4\ufe0f","\ud83d\uddd1\ufe0f","\ud83d\udd12","\ud83d\udd13","\ud83d\udd0f","\ud83d\udd10","\ud83d\udd11","\ud83d\udddd\ufe0f","\ud83d\udd28","\ud83e\ude93","\u26cf\ufe0f","\u2692\ufe0f","\ud83d\udee0\ufe0f","\ud83d\udde1\ufe0f","\u2694\ufe0f","\ud83d\udd2b","\ud83e\ude83","\ud83d\udee1\ufe0f","\ud83e\ude9a","\ud83d\udd27","\ud83e\ude9b","\ud83d\udd29","\u2699\ufe0f","\ud83d\udddc\ufe0f","\u2696\ufe0f","\ud83e\uddaf","\ud83d\udd17","\u26d3\ufe0f","\ud83e\ude9d","\ud83e\uddf0","\ud83e\uddf2","\ud83e\ude9c","\u2697\ufe0f","\ud83e\uddea","\ud83e\uddeb","\ud83e\uddec","\ud83d\udd2c","\ud83d\udd2d","\ud83d\udce1","\ud83d\udc89","\ud83e\ude78","\ud83d\udc8a","\ud83e\ude79","\ud83e\ude7a","\ud83d\udeaa","\ud83e\ude9e","\ud83e\ude9f","\ud83d\udecf\ufe0f","\ud83d\udecb\ufe0f","\ud83e\ude91","\ud83d\udebd","\ud83e\udea0","\ud83d\udebf","\ud83d\udec1","\ud83e\udea4","\ud83e\ude92","\ud83e\uddf4","\ud83e\uddf7","\ud83e\uddf9","\ud83e\uddfa","\ud83e\uddfb","\ud83e\udea3","\ud83e\uddfc","\ud83e\udea5","\ud83e\uddfd","\ud83e\uddef","\ud83d\uded2","\ud83d\udeac","\u26b0\ufe0f","\ud83e\udea6","\u26b1\ufe0f","\ud83d\uddff","\ud83e\udea7","\ud83d\udeb0","\ud83d\udc98","\ud83d\udc9d","\ud83d\udc96","\ud83d\udc97","\ud83d\udc93","\ud83d\udc9e","\ud83d\udc95","\ud83d\udc9f","\u2763\ufe0f","\ud83d\udc94","\u2764\ufe0f","\ud83e\udde1","\ud83d\udc9b","\ud83d\udc9a","\ud83d\udc99","\ud83d\udc9c","\ud83e\udd0e","\ud83d\udda4","\ud83e\udd0d","\ud83d\udcaf","\ud83d\udca2","\ud83d\udcac","\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","\ud83d\udde8\ufe0f","\ud83d\uddef\ufe0f","\ud83d\udcad","\ud83d\udca4","\ud83d\udcae","\u2668\ufe0f","\ud83d\udc88","\ud83d\uded1","\ud83d\udd5b","\ud83d\udd67","\ud83d\udd50","\ud83d\udd5c","\ud83d\udd51","\ud83d\udd5d","\ud83d\udd52","\ud83d\udd5e","\ud83d\udd53","\ud83d\udd5f","\ud83d\udd54","\ud83d\udd60","\ud83d\udd55","\ud83d\udd61","\ud83d\udd56","\ud83d\udd62","\ud83d\udd57","\ud83d\udd63","\ud83d\udd58","\ud83d\udd64","\ud83d\udd59","\ud83d\udd65","\ud83d\udd5a","\ud83d\udd66","\ud83c\udf00","\u2660\ufe0f","\u2665\ufe0f","\u2666\ufe0f","\u2663\ufe0f","\ud83c\udccf","\ud83c\udc04","\ud83c\udfb4","\ud83d\udd07","\ud83d\udd08","\ud83d\udd09","\ud83d\udd0a","\ud83d\udce2","\ud83d\udce3","\ud83d\udcef","\ud83d\udd14","\ud83d\udd15","\ud83c\udfb5","\ud83c\udfb6","\ud83d\udcb9","\ud83d\uded7","\ud83c\udfe7","\ud83d\udeae","\ud83d\udeb0","\u267f","\ud83d\udeb9","\ud83d\udeba","\ud83d\udebb","\ud83d\udebc","\ud83d\udebe","\u26a0\ufe0f","\ud83d\udeb8","\u26d4","\ud83d\udeab","\ud83d\udeb3","\ud83d\udead","\ud83d\udeaf","\ud83d\udeb1","\ud83d\udeb7","\ud83d\udcf5","\ud83d\udd1e","\u2622\ufe0f","\u2623\ufe0f","\u2b06\ufe0f","\u2197\ufe0f","\u27a1\ufe0f","\u2198\ufe0f","\u2b07\ufe0f","\u2199\ufe0f","\u2b05\ufe0f","\u2196\ufe0f","\u2195\ufe0f","\u2194\ufe0f","\u21a9\ufe0f","\u21aa\ufe0f","\u2934\ufe0f","\u2935\ufe0f","\ud83d\udd03","\ud83d\udd04","\ud83d\udd19","\ud83d\udd1a","\ud83d\udd1b","\ud83d\udd1c","\ud83d\udd1d","\ud83d\uded0","\u269b\ufe0f","\ud83d\udd49\ufe0f","\u2721\ufe0f","\u2638\ufe0f","\u262f\ufe0f","\u271d\ufe0f","\u2626\ufe0f","\u262a\ufe0f","\u262e\ufe0f","\ud83d\udd4e","\ud83d\udd2f","\u2648","\u2649","\u264a","\u264b","\u264c","\u264d","\u264e","\u264f","\u2650","\u2651","\u2652","\u2653","\u26ce","\ud83d\udd00","\ud83d\udd01","\ud83d\udd02","\u25b6\ufe0f","\u23e9","\u23ed\ufe0f","\u23ef\ufe0f","\u25c0\ufe0f","\u23ea","\u23ee\ufe0f","\ud83d\udd3c","\u23eb","\ud83d\udd3d","\u23ec","\u23f8\ufe0f","\u23f9\ufe0f","\u23fa\ufe0f","\u23cf\ufe0f","\ud83c\udfa6","\ud83d\udd05","\ud83d\udd06","\ud83d\udcf6","\ud83d\udcf3","\ud83d\udcf4","\u2640\ufe0f","\u2642\ufe0f","\u2716\ufe0f","\u2795","\u2796","\u2797","\u267e\ufe0f","\u203c\ufe0f","\u2049\ufe0f","\u2753","\u2754","\u2755","\u2757","\u3030\ufe0f","\ud83d\udcb1","\ud83d\udcb2","\u2695\ufe0f","\u267b\ufe0f","\u269c\ufe0f","\ud83d\udd31","\ud83d\udcdb","\ud83d\udd30","\u2b55","\u2705","\u2611\ufe0f","\u2714\ufe0f","\u274c","\u274e","\u27b0","\u27bf","\u303d\ufe0f","\u2733\ufe0f","\u2734\ufe0f","\u2747\ufe0f","\xa9\ufe0f","\xae\ufe0f","\u2122\ufe0f","#\ufe0f\u20e3","*\ufe0f\u20e3","0\ufe0f\u20e3","1\ufe0f\u20e3","2\ufe0f\u20e3","3\ufe0f\u20e3","4\ufe0f\u20e3","5\ufe0f\u20e3","6\ufe0f\u20e3","7\ufe0f\u20e3","8\ufe0f\u20e3","9\ufe0f\u20e3","\ud83d\udd1f","\ud83d\udd20","\ud83d\udd21","\ud83d\udd22","\ud83d\udd23","\ud83d\udd24","\ud83c\udd70\ufe0f","\ud83c\udd8e","\ud83c\udd71\ufe0f","\ud83c\udd91","\ud83c\udd92","\ud83c\udd93","\u2139\ufe0f","\ud83c\udd94","\u24c2\ufe0f","\ud83c\udd95","\ud83c\udd96","\ud83c\udd7e\ufe0f","\ud83c\udd97","\ud83c\udd7f\ufe0f","\ud83c\udd98","\ud83c\udd99","\ud83c\udd9a","\ud83c\ude01","\ud83c\ude02\ufe0f","\ud83c\ude37\ufe0f","\ud83c\ude36","\ud83c\ude2f","\ud83c\ude50","\ud83c\ude39","\ud83c\ude1a","\ud83c\ude32","\ud83c\ude51","\ud83c\ude38","\ud83c\ude34","\ud83c\ude33","\u3297\ufe0f","\u3299\ufe0f","\ud83c\ude3a","\ud83c\ude35","\ud83d\udd34","\ud83d\udfe0","\ud83d\udfe1","\ud83d\udfe2","\ud83d\udd35","\ud83d\udfe3","\ud83d\udfe4","\u26ab","\u26aa","\ud83d\udfe5","\ud83d\udfe7","\ud83d\udfe8","\ud83d\udfe9","\ud83d\udfe6","\ud83d\udfea","\ud83d\udfeb","\u2b1b","\u2b1c","\u25fc\ufe0f","\u25fb\ufe0f","\u25fe","\u25fd","\u25aa\ufe0f","\u25ab\ufe0f","\ud83d\udd36","\ud83d\udd37","\ud83d\udd38","\ud83d\udd39","\ud83d\udd3a","\ud83d\udd3b","\ud83d\udca0","\ud83d\udd18","\ud83d\udd33","\ud83d\udd32","\ud83c\udfc1","\ud83d\udea9","\ud83c\udf8c","\ud83c\udff4","\ud83c\udff3\ufe0f","\ud83c\udff3\ufe0f\u200d\ud83c\udf08","\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff4\u200d\u2620\ufe0f","\ud83c\udde6\ud83c\udde8","\ud83c\udde6\ud83c\udde9","\ud83c\udde6\ud83c\uddea","\ud83c\udde6\ud83c\uddeb","\ud83c\udde6\ud83c\uddec","\ud83c\udde6\ud83c\uddee","\ud83c\udde6\ud83c\uddf1","\ud83c\udde6\ud83c\uddf2","\ud83c\udde6\ud83c\uddf4","\ud83c\udde6\ud83c\uddf6","\ud83c\udde6\ud83c\uddf7","\ud83c\udde6\ud83c\uddf8","\ud83c\udde6\ud83c\uddf9","\ud83c\udde6\ud83c\uddfa","\ud83c\udde6\ud83c\uddfc","\ud83c\udde6\ud83c\uddfd","\ud83c\udde6\ud83c\uddff","\ud83c\udde7\ud83c\udde6","\ud83c\udde7\ud83c\udde7","\ud83c\udde7\ud83c\udde9","\ud83c\udde7\ud83c\uddea","\ud83c\udde7\ud83c\uddeb","\ud83c\udde7\ud83c\uddec","\ud83c\udde7\ud83c\udded","\ud83c\udde7\ud83c\uddee","\ud83c\udde7\ud83c\uddef","\ud83c\udde7\ud83c\uddf1","\ud83c\udde7\ud83c\uddf2","\ud83c\udde7\ud83c\uddf3","\ud83c\udde7\ud83c\uddf4","\ud83c\udde7\ud83c\uddf6","\ud83c\udde7\ud83c\uddf7","\ud83c\udde7\ud83c\uddf8","\ud83c\udde7\ud83c\uddf9","\ud83c\udde7\ud83c\uddfb","\ud83c\udde7\ud83c\uddfc","\ud83c\udde7\ud83c\uddfe","\ud83c\udde7\ud83c\uddff","\ud83c\udde8\ud83c\udde6","\ud83c\udde8\ud83c\udde8","\ud83c\udde8\ud83c\udde9","\ud83c\udde8\ud83c\uddeb","\ud83c\udde8\ud83c\uddec","\ud83c\udde8\ud83c\udded","\ud83c\udde8\ud83c\uddee","\ud83c\udde8\ud83c\uddf0","\ud83c\udde8\ud83c\uddf1","\ud83c\udde8\ud83c\uddf2","\ud83c\udde8\ud83c\uddf3","\ud83c\udde8\ud83c\uddf4","\ud83c\udde8\ud83c\uddf5","\ud83c\udde8\ud83c\uddf7","\ud83c\udde8\ud83c\uddfa","\ud83c\udde8\ud83c\uddfb","\ud83c\udde8\ud83c\uddfc","\ud83c\udde8\ud83c\uddfd","\ud83c\udde8\ud83c\uddfe","\ud83c\udde8\ud83c\uddff","\ud83c\udde9\ud83c\uddea","\ud83c\udde9\ud83c\uddec","\ud83c\udde9\ud83c\uddef","\ud83c\udde9\ud83c\uddf0","\ud83c\udde9\ud83c\uddf2","\ud83c\udde9\ud83c\uddf4","\ud83c\udde9\ud83c\uddff","\ud83c\uddea\ud83c\udde6","\ud83c\uddea\ud83c\udde8","\ud83c\uddea\ud83c\uddea","\ud83c\uddea\ud83c\uddec","\ud83c\uddea\ud83c\udded","\ud83c\uddea\ud83c\uddf7","\ud83c\uddea\ud83c\uddf8","\ud83c\uddea\ud83c\uddf9","\ud83c\uddea\ud83c\uddfa","\ud83c\uddeb\ud83c\uddee","\ud83c\uddeb\ud83c\uddef","\ud83c\uddeb\ud83c\uddf0","\ud83c\uddeb\ud83c\uddf2","\ud83c\uddeb\ud83c\uddf4","\ud83c\uddeb\ud83c\uddf7","\ud83c\uddec\ud83c\udde6","\ud83c\uddec\ud83c\udde7","\ud83c\uddec\ud83c\udde9","\ud83c\uddec\ud83c\uddea","\ud83c\uddec\ud83c\uddeb","\ud83c\uddec\ud83c\uddec","\ud83c\uddec\ud83c\udded","\ud83c\uddec\ud83c\uddee","\ud83c\uddec\ud83c\uddf1","\ud83c\uddec\ud83c\uddf2","\ud83c\uddec\ud83c\uddf3","\ud83c\uddec\ud83c\uddf5","\ud83c\uddec\ud83c\uddf6","\ud83c\uddec\ud83c\uddf7","\ud83c\uddec\ud83c\uddf8","\ud83c\uddec\ud83c\uddf9","\ud83c\uddec\ud83c\uddfa","\ud83c\uddec\ud83c\uddfc","\ud83c\uddec\ud83c\uddfe","\ud83c\udded\ud83c\uddf0","\ud83c\udded\ud83c\uddf2","\ud83c\udded\ud83c\uddf3","\ud83c\udded\ud83c\uddf7","\ud83c\udded\ud83c\uddf9","\ud83c\udded\ud83c\uddfa","\ud83c\uddee\ud83c\udde8","\ud83c\uddee\ud83c\udde9","\ud83c\uddee\ud83c\uddea","\ud83c\uddee\ud83c\uddf1","\ud83c\uddee\ud83c\uddf2","\ud83c\uddee\ud83c\uddf3","\ud83c\uddee\ud83c\uddf4","\ud83c\uddee\ud83c\uddf6","\ud83c\uddee\ud83c\uddf7","\ud83c\uddee\ud83c\uddf8","\ud83c\uddee\ud83c\uddf9","\ud83c\uddef\ud83c\uddea","\ud83c\uddef\ud83c\uddf2","\ud83c\uddef\ud83c\uddf4","\ud83c\uddef\ud83c\uddf5","\ud83c\uddf0\ud83c\uddea","\ud83c\uddf0\ud83c\uddec","\ud83c\uddf0\ud83c\udded","\ud83c\uddf0\ud83c\uddee","\ud83c\uddf0\ud83c\uddf2","\ud83c\uddf0\ud83c\uddf3","\ud83c\uddf0\ud83c\uddf5","\ud83c\uddf0\ud83c\uddf7","\ud83c\uddf0\ud83c\uddfc","\ud83c\uddf0\ud83c\uddfe","\ud83c\uddf0\ud83c\uddff","\ud83c\uddf1\ud83c\udde6","\ud83c\uddf1\ud83c\udde7","\ud83c\uddf1\ud83c\udde8","\ud83c\uddf1\ud83c\uddee","\ud83c\uddf1\ud83c\uddf0","\ud83c\uddf1\ud83c\uddf7","\ud83c\uddf1\ud83c\uddf8","\ud83c\uddf1\ud83c\uddf9","\ud83c\uddf1\ud83c\uddfa","\ud83c\uddf1\ud83c\uddfb","\ud83c\uddf1\ud83c\uddfe","\ud83c\uddf2\ud83c\udde6","\ud83c\uddf2\ud83c\udde8","\ud83c\uddf2\ud83c\udde9","\ud83c\uddf2\ud83c\uddea","\ud83c\uddf2\ud83c\uddeb","\ud83c\uddf2\ud83c\uddec","\ud83c\uddf2\ud83c\udded","\ud83c\uddf2\ud83c\uddf0","\ud83c\uddf2\ud83c\uddf1","\ud83c\uddf2\ud83c\uddf2","\ud83c\uddf2\ud83c\uddf3","\ud83c\uddf2\ud83c\uddf4","\ud83c\uddf2\ud83c\uddf5","\ud83c\uddf2\ud83c\uddf6","\ud83c\uddf2\ud83c\uddf7","\ud83c\uddf2\ud83c\uddf8","\ud83c\uddf2\ud83c\uddf9","\ud83c\uddf2\ud83c\uddfa","\ud83c\uddf2\ud83c\uddfb","\ud83c\uddf2\ud83c\uddfc","\ud83c\uddf2\ud83c\uddfd","\ud83c\uddf2\ud83c\uddfe","\ud83c\uddf2\ud83c\uddff","\ud83c\uddf3\ud83c\udde6","\ud83c\uddf3\ud83c\udde8","\ud83c\uddf3\ud83c\uddea","\ud83c\uddf3\ud83c\uddeb","\ud83c\uddf3\ud83c\uddec","\ud83c\uddf3\ud83c\uddee","\ud83c\uddf3\ud83c\uddf1","\ud83c\uddf3\ud83c\uddf4","\ud83c\uddf3\ud83c\uddf5","\ud83c\uddf3\ud83c\uddf7","\ud83c\uddf3\ud83c\uddfa","\ud83c\uddf3\ud83c\uddff","\ud83c\uddf4\ud83c\uddf2","\ud83c\uddf5\ud83c\udde6","\ud83c\uddf5\ud83c\uddea","\ud83c\uddf5\ud83c\uddeb","\ud83c\uddf5\ud83c\uddec","\ud83c\uddf5\ud83c\udded","\ud83c\uddf5\ud83c\uddf0","\ud83c\uddf5\ud83c\uddf1","\ud83c\uddf5\ud83c\uddf2","\ud83c\uddf5\ud83c\uddf3","\ud83c\uddf5\ud83c\uddf7","\ud83c\uddf5\ud83c\uddf8","\ud83c\uddf5\ud83c\uddf9","\ud83c\uddf5\ud83c\uddfc","\ud83c\uddf5\ud83c\uddfe","\ud83c\uddf6\ud83c\udde6","\ud83c\uddf7\ud83c\uddea","\ud83c\uddf7\ud83c\uddf4","\ud83c\uddf7\ud83c\uddf8","\ud83c\uddf7\ud83c\uddfa","\ud83c\uddf7\ud83c\uddfc","\ud83c\uddf8\ud83c\udde6","\ud83c\uddf8\ud83c\udde7","\ud83c\uddf8\ud83c\udde8","\ud83c\uddf8\ud83c\udde9","\ud83c\uddf8\ud83c\uddea","\ud83c\uddf8\ud83c\uddec","\ud83c\uddf8\ud83c\udded","\ud83c\uddf8\ud83c\uddee","\ud83c\uddf8\ud83c\uddef","\ud83c\uddf8\ud83c\uddf0","\ud83c\uddf8\ud83c\uddf1","\ud83c\uddf8\ud83c\uddf2","\ud83c\uddf8\ud83c\uddf3","\ud83c\uddf8\ud83c\uddf4","\ud83c\uddf8\ud83c\uddf7","\ud83c\uddf8\ud83c\uddf8","\ud83c\uddf8\ud83c\uddf9","\ud83c\uddf8\ud83c\uddfb","\ud83c\uddf8\ud83c\uddfd","\ud83c\uddf8\ud83c\uddfe","\ud83c\uddf8\ud83c\uddff","\ud83c\uddf9\ud83c\udde6","\ud83c\uddf9\ud83c\udde8","\ud83c\uddf9\ud83c\udde9","\ud83c\uddf9\ud83c\uddeb","\ud83c\uddf9\ud83c\uddec","\ud83c\uddf9\ud83c\udded","\ud83c\uddf9\ud83c\uddef","\ud83c\uddf9\ud83c\uddf0","\ud83c\uddf9\ud83c\uddf1","\ud83c\uddf9\ud83c\uddf2","\ud83c\uddf9\ud83c\uddf3","\ud83c\uddf9\ud83c\uddf4","\ud83c\uddf9\ud83c\uddf7","\ud83c\uddf9\ud83c\uddf9","\ud83c\uddf9\ud83c\uddfb","\ud83c\uddf9\ud83c\uddff","\ud83c\uddfa\ud83c\udde6","\ud83c\uddfa\ud83c\uddec","\ud83c\uddfa\ud83c\uddf2","\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\ud83c\uddf8","\ud83c\uddfa\ud83c\uddfe","\ud83c\uddfa\ud83c\uddff","\ud83c\uddfb\ud83c\udde6","\ud83c\uddfb\ud83c\udde8","\ud83c\uddfb\ud83c\uddea","\ud83c\uddfb\ud83c\uddec","\ud83c\uddfb\ud83c\uddee","\ud83c\uddfb\ud83c\uddf3","\ud83c\uddfb\ud83c\uddfa","\ud83c\uddfc\ud83c\uddeb","\ud83c\uddfc\ud83c\uddf8","\ud83c\uddfd\ud83c\uddf0","\ud83c\uddfe\ud83c\uddea","\ud83c\uddfe\ud83c\uddf9","\ud83c\uddff\ud83c\udde6","\ud83c\uddff\ud83c\uddf2","\ud83c\uddff\ud83c\uddfc","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f"],o=["\ud83d\udc2f","\ud83e\udd81","\ud83d\udc36","\ud83d\udc3c","\ud83d\udc35","\ud83e\udd8a","\ud83d\udc2d","\ud83d\udc3b","\ud83d\udc39","\ud83d\udc28","\ud83d\udc37","\ud83d\udc2e","\ud83d\udc30","\ud83d\udc38","\ud83d\udc31","\ud83d\udc14","\ud83d\udc27","\ud83d\udc23","\ud83e\udd84","\ud83d\udc3a","\ud83d\udc34","\ud83d\udc33","\ud83e\udd8b","\ud83d\udc19","\ud83e\udd96","\ud83e\udd91","\ud83d\udc21","\ud83d\udc20","\ud83d\udc2c","\ud83d\udc32","\ud83e\udd11","\ud83e\udd20","\ud83d\ude0e","\ud83e\udd29","\ud83e\udd2f","\ud83d\ude0b","\ud83d\ude1b","\ud83e\udd2a","\ud83d\ude00","\ud83d\ude37","\ud83d\udca9","\ud83d\udc7d","\ud83e\udd16","\ud83d\udc7b","\ud83e\uddb8\u200d\u2640\ufe0f","\ud83e\uddb8\u200d\u2642\ufe0f","\ud83e\uddb8","\ud83e\uddd9\ud83c\udffc\u200d\u2642\ufe0f","\ud83d\udc69\u200d\ud83d\ude80","\ud83d\udc68\ud83c\udffd\u200d\ud83d\ude80","\ud83d\udc68\u200d\ud83d\ude80","\ud83c\udf08"],a=["surface-neutral-default","#E49090","#E3B167","#91BC76","#67BEA9","#55A9D9","#AB7DCF","#DF9BD0"],i={emoji:"\ud83e\udd11",bgColor:"#55A9D9"};function c(e){return Math.floor(Math.random()*e)}function s(){return{emoji:o[c(o.length)],bgColor:a[c(a.length)]}}},1006:function(e,t,n){"use strict";n.r(t),n.d(t,"serverPresetNetworks",(function(){return o})),n.d(t,"OnekeyNetworkUpdatedAt",(function(){return a}));var r=n(1217),o=[{balance2FeeDecimals:6,chainId:"0",code:"ada",decimals:6,id:"ada--0",impl:"ada",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/ada/ada.png",name:"Cardano",rpcURLs:[{url:"https://node.onekey.so/ada"}],shortcode:"ada",shortname:"Cardano",symbol:"ADA",feeMeta:{code:"ada",decimals:6,symbol:"ada"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"cardano",platform:"cardano"}],explorers:[{address:"https://cardanoscan.io/address/{address}",block:"https://cardanoscan.io/block/{block}",name:"https://cardanoscan.io/",transaction:"https://cardanoscan.io/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"4160",code:"algo",decimals:6,extensions:{position:15},id:"algo--4160",impl:"algo",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/algo/algo.png",name:"Algorand",rpcURLs:[{indexer:"https://algosigner.api.purestake.io/mainnet/indexer",url:"https://algosigner.api.purestake.io/mainnet/algod"},{indexer:"https://algosigner.api.purestake.io/mainnet/indexer",url:"https://node.onekey.so/algo"}],shortcode:"algo",shortname:"ALGO",symbol:"ALGO",feeMeta:{code:"algo",decimals:6,symbol:"ALGO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"algorand",platform:"algorand"},{channel:"yahoo",native:"ALGO"}],explorers:[{address:"https://algoexplorer.io/address/{address}",block:"https://algoexplorer.io/block/{block}",name:"https://algoexplorer.io/",transaction:"https://algoexplorer.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"talgo",decimals:6,id:"algo--1",impl:"algo",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/talgo/talgo.png",name:"Algorand Testnet",rpcURLs:[{indexer:"https://algosigner.api.purestake.io/testnet/indexer",url:"https://algosigner.api.purestake.io/testnet/algod"}],shortcode:"talgo",shortname:"TALGO",symbol:"TALGO",feeMeta:{code:"talgo",decimals:6,symbol:"TALGO"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.algoexplorer.io/address/{address}",block:"https://testnet.algoexplorer.io/block/{block}",name:"https://testnet.algoexplorer.io/",transaction:"https://testnet.algoexplorer.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"apt",decimals:8,id:"aptos--1",impl:"aptos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/apt/apt.png",name:"Aptos",rpcURLs:[{url:"https://fullnode.mainnet.aptoslabs.com"},{url:"https://mainnet.aptoslabs.com"},{url:"https://fullnode.mainnet.martianwallet.xyz"},{url:"https://rpc.mainnet.aptos.fernlabs.xyz"},{url:"https://node.onekey.so/apt"}],shortcode:"apt",shortname:"APT",symbol:"APT",feeMeta:{code:"apt",decimals:8,symbol:"APT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"aptos"}],explorers:[{address:"https://explorer.aptoslabs.com/account/{address}/?network=mainnet",block:"https://explorer.aptoslabs.com/txn/{block}/?network=mainnet",name:"https://explorer.aptoslabs.com/?network=mainnet",transaction:"https://explorer.aptoslabs.com/txn/{transaction}/?network=mainnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"2",code:"tapt",decimals:8,id:"aptos--2",impl:"aptos",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tapt/tapt.png",name:"Aptos Testnet",rpcURLs:[{url:"https://testnet.aptoslabs.com"}],shortcode:"tapt",shortname:"TAPT",symbol:"TAPT",feeMeta:{code:"tapt",decimals:8,symbol:"TAPT"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.aptoslabs.com/account/{address}/?network=testnet",block:"https://explorer.aptoslabs.com/txn/{block}/?network=testnet",name:"https://explorer.aptoslabs.com/?network=testnet",transaction:"https://explorer.aptoslabs.com/txn/{transaction}/?network=testnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"bch",decimals:8,id:"bch--0",impl:"bch",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/bch.png",name:"Bitcoin Cash",rpcURLs:[{url:"https://fiat.onekeycn.com/book/bch"},{url:"https://node.onekey.so/bch"}],shortcode:"bch",shortname:"BCH",symbol:"BCH",feeMeta:{code:"bch",decimals:8,symbol:"BCH"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"bitcoin-cash"}],explorers:[{address:"https://bchblockexplorer.com/address/{address}",block:"https://bchblockexplorer.com/block/{block}",name:"https://bchblockexplorer.com/",transaction:"https://bchblockexplorer.com/tx/{transaction}"},{address:"https://blockexplorer.one/bitcoin-cash/mainnet/address/{address}",block:"https://blockexplorer.one/bitcoin-cash/mainnet/blockHash/{block}",name:"https://blockexplorer.one/bitcoin-cash/mainnet",transaction:"https://blockexplorer.one/bitcoin-cash/mainnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"btc",decimals:8,extensions:{position:2,providerOptions:{hardwareCoinName:"btc"}},id:"btc--0",impl:"btc",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/btc/btc.png",name:"Bitcoin",rpcURLs:[{url:"https://node.onekey.so/btc"},{url:"https://1rpc.io/btc"}],shortcode:"btc",shortname:"BTC",symbol:"BTC",feeMeta:{code:"btc",decimals:8,symbol:"BTC"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"bitcoin",platform:"ordinals"}],explorers:[{address:"https://mempool.space/address/{address}",block:"https://mempool.space/block/{block}",name:"https://mempool.space/",transaction:"https://mempool.space/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1029",code:"cfx",decimals:18,extensions:{position:14},id:"cfx--1029",impl:"cfx",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cfx/cfx.png",name:"Conflux",rpcURLs:[{url:"https://main.confluxrpc.com"},{url:"https://node.onekey.so/cfx"}],shortcode:"cfx",shortname:"CFX",symbol:"CFX",feeMeta:{code:"cfx",decimals:18,symbol:"CFX"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"conflux"}],explorers:[{address:"https://confluxscan.io/address/{address}",block:"https://confluxscan.io/block/{block}",name:"https://confluxscan.io/",transaction:"https://confluxscan.io/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"tcfx",decimals:18,id:"cfx--1",impl:"cfx",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tcfx/tcfx.png",name:"Conflux Testnet",rpcURLs:[{url:"https://test.confluxrpc.com"}],shortcode:"tcfx",shortname:"TCFX",symbol:"TCFX",feeMeta:{code:"tcfx",decimals:18,symbol:"TCFX"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.confluxscan.io/address/{address}",block:"https://testnet.confluxscan.io/block/{block}",name:"https://testnet.confluxscan.io/",transaction:"https://testnet.confluxscan.io/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"akashnet-2",code:"akash",decimals:6,extensions:{providerOptions:{addressPrefix:"akash",curve:"secp256k1",gasPriceStep:{min:"0"},mainCoinDenom:"uakt"}},id:"cosmos--akashnet-2",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/akash/akash.png",name:"Akash",rpcURLs:[{url:"https://lcd-akash.keplr.app/"},{url:"https://api.akash.forbole.com"},{url:"https://rest-akash.ecostake.com"},{url:"https://node.onekey.so/akash"}],shortcode:"akash",shortname:"Akash",symbol:"AKT",feeMeta:{code:"akash",decimals:6,symbol:"AKT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"akash-network"},{channel:"yahoo",native:"AKT"}],explorers:[{address:"https://www.mintscan.io/akash/account/{address}",block:"https://www.mintscan.io/akash/blocks/{block}",name:"https://www.mintscan.io/akash/",transaction:"https://www.mintscan.io/akash/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"cosmoshub-4",code:"cosmoshub",decimals:6,extensions:{providerOptions:{addressPrefix:"cosmos",curve:"secp256k1",gasPriceStep:{min:"0"},mainCoinDenom:"uatom"}},id:"cosmos--cosmoshub-4",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cosmos/cosmos.png",name:"Cosmos",rpcURLs:[{url:"https://lcd-cosmoshub.keplr.app"},{url:"https://cosmos-lcd.quickapi.com"},{url:"https://lcd-cosmoshub.blockapsis.com"},{url:"https://node.onekey.so/cosmos"}],shortcode:"cosmoshub",shortname:"Cosmos",symbol:"ATOM",feeMeta:{code:"cosmoshub",decimals:6,symbol:"ATOM"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"cosmos"},{channel:"yahoo",native:"ATOM"}],explorers:[{address:"https://www.mintscan.io/cosmos/account/{address}",block:"https://www.mintscan.io/cosmos/blocks/{block}",name:"https://www.mintscan.io/cosmos/",transaction:"https://www.mintscan.io/cosmos/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"crypto-org-chain-mainnet-1",code:"cryptoorgchain",decimals:8,extensions:{providerOptions:{addressPrefix:"cro",curve:"secp256k1",mainCoinDenom:"basecro",gasPriceStep:{high:"0.04",low:"0.025",normal:"0.03"}}},id:"cosmos--crypto-org-chain-mainnet-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cryptoorg/cryptoorg.png",name:"Crypto.org",rpcURLs:[{url:"https://api-cryptoorgchain-ia.cosmosia.notional.ventures"},{url:"https://rest-cryptoorgchain.ecostake.com/"},{url:"https://lcd-crypto-org.keplr.app/"},{url:"https://rest-cryptoorgchain.ecostake.com"},{url:"https://node.onekey.so/crypto"}],shortcode:"cryptoorgchain",shortname:"Crypto.org",symbol:"CRO",feeMeta:{code:"cryptoorgchain",decimals:8,symbol:"CRO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"crypto-com-chain"},{channel:"yahoo",native:"CRO"}],explorers:[{address:"https://www.mintscan.io/crypto-org/account/{address}",block:"https://www.mintscan.io/crypto-org/blocks/{block}",name:"https://www.mintscan.io/crypto-org/",transaction:"https://www.mintscan.io/crypto-org/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"fetchhub-4",code:"fetch",decimals:18,extensions:{providerOptions:{addressPrefix:"fetch",curve:"secp256k1",gasPriceStep:{high:"0.035",low:"0.025",normal:"0.025"},mainCoinDenom:"afet"}},id:"cosmos--fetchhub-4",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fetch/fetch.png",name:"Fetch.ai",rpcURLs:[{url:"https://lcd-fetchhub.keplr.app"},{url:"https://rest-fetchhub.fetch.ai"},{url:"https://api-fetchhub-ia.cosmosia.notional.ventures"},{url:"https://fetch-api.polkachu.com"},{url:"https://node.onekey.so/fetch"}],shortcode:"fetch",shortname:"Fetch.ai",symbol:"FET",feeMeta:{code:"fetch",decimals:18,symbol:"FET"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"fetch-ai"}],explorers:[{address:"https://www.mintscan.io/fetchai/account/{address}",block:"https://www.mintscan.io/fetchai/blocks/{block}",name:"https://www.mintscan.io/fetchai/",transaction:"https://www.mintscan.io/fetchai/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"juno-1",code:"juno",decimals:6,extensions:{providerOptions:{addressPrefix:"juno",curve:"secp256k1",gasPriceStep:{high:"0.125",low:"0.075",min:"0.075",normal:"0.1"},mainCoinDenom:"ujuno"}},id:"cosmos--juno-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/juno/juno.png",name:"Juno",rpcURLs:[{url:"https://lcd-juno.keplr.app"},{url:"https://lcd-juno.itastakers.com"},{url:"https://api.juno.chaintools.tech"},{url:"https://api.juno.silknodes.io"},{url:"https://node.onekey.so/juno"}],shortcode:"juno",shortname:"Juno",symbol:"JUNO",feeMeta:{code:"juno",decimals:6,symbol:"JUNO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"juno-network"}],explorers:[{address:"https://www.mintscan.io/juno/account/{address}",block:"https://www.mintscan.io/juno/blocks/{block}",name:"https://www.mintscan.io/juno/",transaction:"https://www.mintscan.io/juno/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"osmosis-1",code:"osmosis",decimals:6,extensions:{providerOptions:{addressPrefix:"osmo",curve:"secp256k1",gasPriceStep:{high:"0.04",low:"0.0025",min:"0.0025",normal:"0.025"},mainCoinDenom:"uosmo"}},id:"cosmos--osmosis-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/osmosis/osmosis.png",name:"Osmosis",rpcURLs:[{url:"https://lcd-osmosis.keplr.app/"},{url:"https://lcd-osmosis.blockapsis.com/"},{url:"https://lcd.osmosis.zone"},{url:"https://osmosis-lcd.quickapi.com"},{url:"https://node.onekey.so/osmosis"}],shortcode:"osmosis",shortname:"Osmosis",symbol:"OSMO",feeMeta:{code:"osmosis",decimals:6,symbol:"OSMO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"osmosis"},{channel:"yahoo",native:"OSMO"}],explorers:[{address:"https://www.mintscan.io/osmosis/account/{address}",block:"https://www.mintscan.io/osmosis/blocks/{block}",name:"https://www.mintscan.io/osmosis/",transaction:"https://www.mintscan.io/osmosis/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"phoenix-1",code:"terra",decimals:6,extensions:{providerOptions:{addressPrefix:"terra",curve:"secp256k1",gasPriceStep:{high:"0.15",low:"0.0125",normal:"0.015"},mainCoinDenom:"uluna"}},id:"cosmos--phoenix-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/terra2/terra2.png",name:"Terra",rpcURLs:[{url:"https://phoenix-lcd.terra.dev"}],shortcode:"terra",shortname:"Terra",symbol:"LUNA",feeMeta:{code:"luna",decimals:6,symbol:"LUNA"},defaultEnabled:!1,priceConfigs:[{channel:"coingecko",native:"terra-luna-2"}],explorers:[{address:"https://finder.terra.money/mainnet/address/{address}",block:"https://finder.terra.money/mainnet/blocks/{block}",name:"http://finder.terra.money/",transaction:"https://finder.terra.money/mainnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"secret-4",code:"secretnetwork",decimals:6,extensions:{providerOptions:{addressPrefix:"secret",curve:"secp256k1",gasPriceStep:{min:"0.0125",high:"0.25",low:"0.0125",normal:"0.1"},mainCoinDenom:"uscrt"}},id:"cosmos--secret-4",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/secret/secret.png",name:"Secret Network",rpcURLs:[{url:"https://lcd-secret.keplr.app/"},{url:"https://api.scrt.network/"},{url:"https://secret-api.lavenderfive.com/"},{url:"https://api.secret.forbole.com/"},{url:"https://node.onekey.so/secret"}],shortcode:"secretnetwork",shortname:"Secret Network",symbol:"SCRT",feeMeta:{code:"secretnetwork",decimals:6,symbol:"SCRT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"secret"},{channel:"yahoo",native:"SCRT"}],explorers:[{address:"https://www.mintscan.io/secret/account/{address}",block:"https://www.mintscan.io/secret/blocks/{block}",name:"https://www.mintscan.io/secret/",transaction:"https://www.mintscan.io/secret/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"theta-testnet-001",code:"tatom",decimals:6,extensions:{providerOptions:{addressPrefix:"cosmos",curve:"secp256k1",gasPriceStep:{min:"0"},mainCoinDenom:"uatom"}},id:"cosmos--theta-testnet-001",impl:"cosmos",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/cosmos/cosmos.png",name:"Cosmos Testnet",rpcURLs:[{url:"https://rest.sentry-01.theta-testnet.polypore.xyz"},{url:"https://rest.sentry-02.theta-testnet.polypore.xyz"}],shortcode:"tatom",shortname:"TCosmos",symbol:"TATOM",feeMeta:{code:"tatom",decimals:6,symbol:"TATOM"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.theta-testnet.polypore.xyz/accounts/{address}",block:"https://explorer.theta-testnet.polypore.xyz/blocks/{block}",name:"https://explorer.theta-testnet.polypore.xyz/",transaction:"https://explorer.theta-testnet.polypore.xyz/transactions/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"doge",decimals:8,id:"doge--0",impl:"doge",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/doge/doge.png",name:"Dogecoin",rpcURLs:[{url:"https://fiat.onekeycn.com/book/doge"},{url:"https://node.onekey.so/doge"}],shortcode:"doge",shortname:"DOGE",symbol:"DOGE",feeMeta:{code:"doge",decimals:8,symbol:"DOGE"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"dogecoin"}],explorers:[{address:"https://dogeblocks.com/address/{address}",block:"https://dogeblocks.com/block/{block}",name:"https://dogeblocks.com/",transaction:"https://dogeblocks.com/tx/{transaction}"},{address:"https://dogechain.info/address/{address}",block:"https://dogechain.info/block/{block}",name:"https://dogechain.info/",transaction:"https://dogechain.info/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:18,chainId:"astar",code:"astar",decimals:18,extensions:{providerOptions:{addressPrefix:5,addressRegex:"^[a-bV-Z][a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--astar",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/astar/astar.png",name:"Astar",rpcURLs:[{url:"wss://rpc.astar.network"},{url:"wss://1rpc.io/astr"},{url:"https://1rpc.io/astr"},{url:"wss://astar.api.onfinality.io/public-ws"},{url:"https://astar.api.onfinality.io/public"},{url:"wss://astar-rpc.dwellir.com"}],shortcode:"astar",shortname:"ASTR",symbol:"ASTR",feeMeta:{code:"astar",decimals:18,symbol:"18"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"astar"}],explorers:[{address:"https://astar.subscan.io/account/{address}",block:"https://astar.subscan.io/block/{block}",name:"https://astar.subscan.io/",transaction:"https://astar.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:12,chainId:"kusama",code:"ksm",decimals:12,extensions:{providerOptions:{addressPrefix:2,addressRegex:"^[C-HJ][a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--kusama",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/kusama/kusama.png",name:"Kusama",rpcURLs:[{url:"wss://kusama-rpc.polkadot.io"},{url:"wss://1rpc.io/ksm"},{url:"wss://rpc.dotters.network/kusama"},{url:"wss://kusama.api.onfinality.io/public-ws"},{url:"https://kusama-rpc.polkadot.io"},{url:"https://kusama-node.prod.gke.papers.tech"}],shortcode:"ksm",shortname:"KSM",symbol:"KSM",feeMeta:{code:"dot",decimals:12,symbol:"KSM"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"kusama"}],explorers:[{address:"https://kusama.subscan.io/account/{address}",block:"https://kusama.subscan.io/block/{block}",name:"https://kusama.subscan.io/",transaction:"https://kusama.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:10,chainId:"polkadot",code:"dot",decimals:10,extensions:{providerOptions:{addressPrefix:0,addressRegex:"^1[a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--polkadot",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/polkadot/polkadot.png",name:"Polkadot",rpcURLs:[{url:"wss://rpc.polkadot.io"},{url:"wss://1rpc.io/dot"},{url:"wss://rpc.dotters.network/polkadot"},{url:"wss://polkadot.api.onfinality.io/public-ws"},{url:"https://rpc.polkadot.io"}],shortcode:"dot",shortname:"DOT",symbol:"DOT",feeMeta:{code:"dot",decimals:10,symbol:"DOT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"polkadot"}],explorers:[{address:"https://polkadot.subscan.io/account/{address}",block:"https://polkadot.subscan.io/block/{block}",name:"https://polkadot.subscan.io/",transaction:"https://polkadot.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:12,chainId:"westend",code:"wnd",decimals:12,extensions:{providerOptions:{addressPrefix:42,addressRegex:"^5[a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--westend",impl:"dot",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/polkadot/polkadot.png",name:"Polkadot Westend",rpcURLs:[{url:"wss://westend-rpc.polkadot.io"},{url:"wss://rpc.dotters.network/westend"},{url:"https://westend-rpc.polkadot.io"}],shortcode:"wnd",shortname:"WND",symbol:"WND",feeMeta:{code:"wnd",decimals:12,symbol:"WND"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://westend.subscan.io/account/{address}",block:"https://westend.subscan.io/block/{block}",name:"https://westend.subscan.io/",transaction:"https://westend.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"1",code:"eth",decimals:18,extensions:{defaultStableTokens:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","0x4fabb145d64652a948d72533023f6e7a623c7c53","0x6b175474e89094c44da98b954eedeac495271d0f"],position:1,providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--1",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/eth/eth.png",name:"Ethereum",rpcURLs:[{url:"https://node.onekey.so/eth"},{url:"https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},{url:"https://cloudflare-eth.com"},{url:"https://rpc.ankr.com/eth"},{url:"https://rpc.flashbots.net"},{url:"https://eth-mainnet.alchemyapi.io/v2/QKMdAyFAARxN-dEm_USOu8-u0klcBuTO"},{url:"https://eth-mainnet.gateway.pokt.network/v1/lb/611156b4a585a20035148406"},{url:"https://api.mycryptoapi.com/eth"},{url:"https://eth-mainnet.gateway.pokt.network/v1/5f3453978e354ab992c4da79"},{url:"https://eth.public-rpc.com"},{url:"https://main-light.eth.linkpool.io"},{url:"https://mainnet-eth.compound.finance"},{url:"https://eth626892d.jccdex.cn"},{url:"https://1rpc.io/eth"}],shortcode:"eth",shortname:"ETH",symbol:"ETH",feeMeta:{code:"eth",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"ethereum"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://cn.etherscan.com/address/{address}",block:"https://cn.etherscan.com/block/{block}",name:"https://cn.etherscan.com/",transaction:"https://cn.etherscan.com/tx/{transaction}"},{address:"https://etherscan.io/address/{address}",block:"https://etherscan.io/block/{block}",name:"https://etherscan.io/",transaction:"https://etherscan.io/tx/{transaction}"},{address:"https://www.oklink.com/eth/address/{address}",block:"https://www.oklink.com/eth/block/{block}",name:"https://www.oklink.com/eth/",transaction:"https://www.oklink.com/eth/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"10",code:"optimism",decimals:18,extensions:{defaultStableTokens:["0x94b008aa00579c1307b0ef2c499ad98a8ce58e58","0x7f5c764cbc14f9669b88837ca1490cca17c31607","0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"],position:11,providerOptions:{contract_gaslimit_multiplier:1}},id:"evm--10",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/optimism/optimism.png",name:"Optimism",rpcURLs:[{url:"https://mainnet.optimism.io"},{url:"https://node.onekey.so/optimism"},{url:"https://1rpc.io/op"}],shortcode:"optimism",shortname:"Optimism",symbol:"ETH",feeMeta:{code:"optimism",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"optimistic-ethereum"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://optimistic.etherscan.io/address/{address}",block:"https://optimistic.etherscan.io/tx/{block}",name:"https://optimistic.etherscan.io/",transaction:"https://optimistic.etherscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"100",code:"xdai",decimals:18,extensions:{defaultStableTokens:["0xddafbb505ad214d7b80b1f830fccc89b60fb7a83","0x3f56e0c36d275367b8c502090edf38289b3dea0d"],position:12},id:"evm--100",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/xdai/gno.png",name:"Gnosis Chain",rpcURLs:[{url:"https://rpc.gnosischain.com"},{url:"https://gnosis-mainnet.public.blastapi.io"},{url:"https://rpc.ankr.com/gnosis"},{url:"https://xdai-rpc.gateway.pokt.network"},{url:"https://gnosischain-rpc.gateway.pokt.network"},{url:"https://node.onekey.so/xdai"}],shortcode:"xdai",shortname:"GNO",symbol:"xDAI",feeMeta:{code:"xdai",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"xdai",platform:"xdai"},{channel:"yahoo",native:"DAI1"}],explorers:[{address:"https://gnosisscan.io/address/{address}",block:"https://gnosisscan.io/block/{block}",name:"https://gnosisscan.io/",transaction:"https://gnosisscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"10001",code:"ethw",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0}},id:"evm--10001",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/ethw/ethw.png",name:"EthereumPoW",rpcURLs:[{url:"https://mainnet.ethereumpow.org"},{url:"https://node.onekey.so/ethw"}],shortcode:"ethw",shortname:"ETHW",symbol:"ETHW",feeMeta:{code:"ethw",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum-pow-iou"}],explorers:[{address:"https://www.oklink.com/ethw/address/{address}",block:"https://www.oklink.com/ethw/block/{block}",name:"https://www.oklink.com/ethw/",transaction:"https://www.oklink.com/ethw/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"1030",code:"cfxespace",decimals:18,id:"evm--1030",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cfx/cfx.png",name:"Conflux eSpace",rpcURLs:[{url:"https://evm.confluxrpc.com"},{url:"https://conflux-espace-public.unifra.io"}],shortcode:"cfxespace",shortname:"CFXESPACE",symbol:"CFX",feeMeta:{code:"cfxespace",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://evm.confluxscan.net/address/{address}",block:"https://evm.confluxscan.net/block/{block}",name:"https://evm.confluxscan.net/",transaction:"https://evm.confluxscan.net/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"128",code:"heco",decimals:18,extensions:{defaultStableTokens:["0xa71edc38d189767582c38a3145b5873052c3e47a","0x0298c2b32eae4da002a15f36fdf7615bea3da047"],position:9},id:"evm--128",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/heco/heco.png",name:"Huobi ECO Chain",rpcURLs:[{url:"https://http-mainnet.hecochain.com"},{url:"https://http-mainnet-node.defibox.com"},{url:"https://node.onekey.so/heco"}],shortcode:"heco",shortname:"HECO",symbol:"HT",feeMeta:{code:"heco",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"huobi-token",platform:"huobi-token"}],explorers:[{address:"https://hecoinfo.com/address/{address}",block:"https://hecoinfo.com/block/{block}",name:"https://hecoinfo.com/",transaction:"https://hecoinfo.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"1313161554",code:"aurora",decimals:18,id:"evm--1313161554",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/aurora/aurora.png",name:"Aurora",rpcURLs:[{url:"https://mainnet.aurora.dev"},{url:"https://node.onekey.so/aurora"},{url:"https://1rpc.io/aurora"}],shortcode:"aurora",shortname:"Aurora",symbol:"ETH",feeMeta:{code:"aurora",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"aurora"}],explorers:[{address:"https://aurorascan.dev/address/{address}",block:"https://aurorascan.dev/block/{block}",name:"https://aurorascan.dev/",transaction:"https://aurorascan.dev/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"137",code:"polygon",decimals:18,extensions:{defaultStableTokens:["0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x2791bca1f2de4661ed88a30c99a7a9449aa84174","0x9fb83c0635de2e815fd1c21b3a292277540c2e8d","0x8f3cf7ad23cd3cadbd9735aff958023239c6a063"],position:5,providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--137",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/polygon/polygon.png",name:"Polygon",rpcURLs:[{url:"https://polygon-rpc.com"},{url:"https://rpc-mainnet.matic.network"},{url:"https://rpc-mainnet.maticvigil.com"},{url:"https://rpc-mainnet.matic.quiknode.pro"},{url:"https://matic-mainnet.chainstacklabs.com"},{url:"https://matic-mainnet-full-rpc.bwarelabs.com"},{url:"https://matic-mainnet-archive-rpc.bwarelabs.com"},{url:"https://node.onekey.so/polygon"},{url:"https://1rpc.io/matic"}],shortcode:"polygon",shortname:"Polygon",symbol:"MATIC",feeMeta:{code:"polygon",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"matic-network",platform:"polygon-pos"},{channel:"yahoo",native:"MATIC"}],explorers:[{address:"https://polygonscan.com/address/{address}",block:"https://polygonscan.com/block/{block}",name:"https://polygonscan.com/",transaction:"https://polygonscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"25",code:"cronos",decimals:18,extensions:{defaultStableTokens:["0x66e428c3f67a68878562e79a0234c1f83c208770","0xc21223249ca28397b4b6541dffaecc539bff0c59","0x6ab6d61428fde76768d7b45d8bfeec19c6ef91a8","0xf2001b145b43032aaf5ee2884e456ccd805f677d","0x2ae35c8e3d4bd57e8898ff7cd2bbff87166ef8cb"]},id:"evm--25",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cronos/cronos.png",name:"Cronos",rpcURLs:[{url:"https://mmf-rpc.xstaking.sg"},{url:"https://cronosrpc-1.xstaking.sg"},{url:"https://cronosrpc-2.xstaking.sg"},{url:"https://gateway.nebkas.ro/"},{url:"https://rpc.nebkas.ro/"},{url:"https://rpc.vvs.finance"},{url:"https://node.onekey.so/cronos"}],shortcode:"cronos",shortname:"CRO",symbol:"CRO",feeMeta:{code:"cronos",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"crypto-com-chain",platform:"cronos"},{channel:"yahoo",native:"CRO"}],explorers:[{address:"https://cronos.crypto.org/explorer/address/{address}",block:"https://cronos.crypto.org/explorer/block/{block}",name:"https://cronos.crypto.org/explorer/",transaction:"https://cronos.crypto.org/explorer/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"250",code:"fantom",decimals:18,extensions:{defaultStableTokens:["0x049d68029688eabf473097a2fc38ef61633a3c7a","0x04068da6c83afcfa0e13ba15a6696662335d5b75","0x8d11ec38a3eb5e956b052f67da8bdc9bef8abf3e"],position:6},id:"evm--250",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fantom/fantom.png",name:"Fantom",rpcURLs:[{url:"https://rpc.ftm.tools"},{url:"https://rpc.fantom.network"},{url:"https://rpcapi.fantom.network"},{url:"https://rpc2.fantom.network"},{url:"https://rpc3.fantom.network"},{url:"https://rpc.ankr.com/fantom"},{url:"https://node.onekey.so/fantom"},{url:"https://1rpc.io/ftm"}],shortcode:"fantom",shortname:"FTM",symbol:"FTM",feeMeta:{code:"fantom",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"fantom",platform:"fantom"},{channel:"yahoo",native:"FTM"}],explorers:[{address:"https://ftmscan.com/address/{address}",block:"https://ftmscan.com/block/{block}",name:"https://ftmscan.com/",transaction:"https://ftmscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"288",code:"boba",decimals:18,id:"evm--288",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/boba/boba_1.png",name:"Boba Network",rpcURLs:[{url:"https://mainnet.boba.network"},{url:"https://lightning-replica.boba.network"},{url:"https://boba-mainnet.gateway.pokt.network/v1/lb/623ad21b20354900396fed7f"},{url:"https://node.onekey.so/boba"}],shortcode:"boba",shortname:"Boba",symbol:"ETH",feeMeta:{code:"boba",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"boba"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://blockexplorer.boba.network/address/{address}",block:"https://blockexplorer.boba.network/block/{block}",name:"https://blockexplorer.boba.network/",transaction:"https://blockexplorer.boba.network/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"314",code:"fevm",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--314",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fil/fil.png",name:"Filecoin FEVM",rpcURLs:[{url:"https://node.onekey.so/fevm"},{url:"https://rpc.ankr.com/filecoin"},{url:"https://api.node.glif.io"}],shortcode:"fevm",shortname:"FEVM",symbol:"FIL",feeMeta:{code:"fevm",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"filecoin"}],explorers:[{address:"https://filfox.info/en/address/{address}",block:"https://filfox.info/en/block/{block}",name:"https://filfox.info/en/",transaction:"https://filfox.info/en/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"324",code:"zksyncera",decimals:18,id:"evm--324",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/zksyncera/zksyncera.png",name:"zkSync Era Mainnet",rpcURLs:[{url:"https://zksync2-mainnet.zksync.io"}],shortcode:"zksyncera",shortname:"ZKSYNCERA",symbol:"ETH",feeMeta:{code:"zksyncera",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://explorer.zksync.io/address/{address}",block:"https://explorer.zksync.io/block/{block}",name:"https://explorer.zksync.io/",transaction:"https://explorer.zksync.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"42161",code:"arbitrum",decimals:18,extensions:{defaultStableTokens:["0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9","0xff970a61a04b1ca14834a43f5de4533ebddb5cc8","0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"],position:7},id:"evm--42161",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/arbitrum/arbitrum.png",name:"Arbitrum",rpcURLs:[{url:"https://arb1.arbitrum.io/rpc"},{url:"https://rpc.ankr.com/arbitrum"},{url:"https://node.onekey.so/arbitrum"},{url:"https://1rpc.io/arb"}],shortcode:"arbitrum",shortname:"Arbitrum",symbol:"ETH",feeMeta:{code:"arbitrum",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"arbitrum-one"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://arbiscan.io/address/{address}",block:"https://arbiscan.io/block/{block}",name:"https://arbiscan.io/",transaction:"https://arbiscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"42220",code:"celo",decimals:18,extensions:{defaultStableTokens:["0xb9c8f0d3254007ee4b98970b94544e473cd610ec"],position:16},id:"evm--42220",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/celo/celo.png",name:"Celo",rpcURLs:[{url:"https://rpc.ankr.com/celo"},{url:"https://forno.celo.org"},{url:"https://node.onekey.so/celo"},{url:"https://1rpc.io/celo"}],shortcode:"celo",shortname:"CELO",symbol:"CELO",feeMeta:{code:"celo",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"celo",platform:"celo"},{channel:"yahoo",native:"CELO"}],explorers:[{address:"https://explorer.celo.org/address/{address}",block:"https://explorer.celo.org/blocks/{block}",name:"https://explorer.celo.org/",transaction:"https://explorer.celo.org/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"43114",code:"avalanche",decimals:18,extensions:{defaultStableTokens:["0xc7198437980c041c805a1edcba50c1ce5db95118","0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e","0x19860ccb0a68fd4213ab9d8266f7bbf05a8dde98","0xd586e7f844cea2f87f50152665bcbc2c279d8d70"],position:8},id:"evm--43114",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/avalanche/avalanche.png",name:"Avalanche",rpcURLs:[{url:"https://api.avax.network/ext/bc/C/rpc"},{url:"https://rpc.ankr.com/avalanche"},{url:"https://node.onekey.so/avalanche"},{url:"https://1rpc.io/avax/c"}],shortcode:"avalanche",shortname:"Avalanche",symbol:"AVAX",feeMeta:{code:"avalanche",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"avalanche-2",platform:"avalanche"},{channel:"yahoo",native:"AVAX"}],explorers:[{address:"https://cchain.explorer.avax.network/address/{address}",block:"https://cchain.explorer.avax.network/blocks/{block}",name:"https://cchain.explorer.avax.network/",transaction:"https://cchain.explorer.avax.network/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"513100",code:"etf",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0}},id:"evm--513100",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/etf/etf.png",name:"Ethereum Fair",rpcURLs:[{url:"https://rpc.etherfair.org"},{url:"https://node.onekey.so/etf"}],shortcode:"etf",shortname:"ETHF",symbol:"ETHF",feeMeta:{code:"etf",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereumfair"}],explorers:[{address:"https://explorer.etherfair.org/address/{address}",block:"https://explorer.etherfair.org/block/{block}",name:"https://explorer.etherfair.org",transaction:"https://explorer.etherfair.org/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"56",code:"bsc",decimals:18,extensions:{defaultStableTokens:["0x55d398326f99059ff775485246999027b3197955","0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d","0xe9e7cea3dedca5984780bafc599bd69add087d56","0x1af3f329e8be154074d8769d1ffa4ee058b1dbc3"],position:3},id:"evm--56",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/bsc/bsc.png",name:"BNB Smart Chain",rpcURLs:[{url:"https://bsc-dataseed1.ninicoin.io"},{url:"https://bsc-dataseed2.ninicoin.io"},{url:"https://bsc-dataseed3.ninicoin.io"},{url:"https://bsc-dataseed4.ninicoin.io"},{url:"https://bsc-dataseed.binance.org"},{url:"https://bsc-dataseed1.binance.org"},{url:"https://bsc-dataseed2.binance.org"},{url:"https://bsc-dataseed3.binance.org"},{url:"https://bsc-dataseed4.binance.org"},{url:"https://bsc-dataseed1.defibit.io"},{url:"https://bsc-dataseed2.defibit.io"},{url:"https://bsc-dataseed3.defibit.io"},{url:"https://bsc-dataseed4.defibit.io"},{url:"https://binance.ankr.com"},{url:"https://binance.nodereal.io"},{url:"https://rpc-bsc.bnb48.club/"},{url:"https://bscrpc.com"},{url:"https://node.onekey.so/bsc"},{url:"https://1rpc.io/bnb"}],shortcode:"bsc",shortname:"BSC",symbol:"BNB",feeMeta:{code:"bsc",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"binancecoin",platform:"binance-smart-chain"},{channel:"yahoo",native:"BNB"}],explorers:[{address:"https://bscscan.com/address/{address}",block:"https://bscscan.com/block/{block}",name:"https://bscscan.com/",transaction:"https://bscscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"61",code:"etc",decimals:18,id:"evm--61",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/etc/etc.png",name:"Ethereum Classic",rpcURLs:[{url:"https://www.ethercluster.com/etc"},{url:"https://node.onekey.so/etc"}],shortcode:"etc",shortname:"ETC",symbol:"ETC",feeMeta:{code:"etc",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum-classic "}],explorers:[{address:"https://blockscout.com/etc/mainnet/address/{address}",block:"https://blockscout.com/etc/mainnet/block/{block}",name:"https://blockscout.com/etc/mainnet/",transaction:"https://blockscout.com/etc/mainnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"66",code:"okt",decimals:18,extensions:{defaultStableTokens:["0x382bb369d343125bfb2117af9c149795c6c65c50","0xc946daf81b08146b1c7a8da2a851ddf2b3eaaf85","0x332730a4f6e03d9c55829435f10360e13cfa41ff"],position:10},id:"evm--66",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/okt/okt.png",name:"OKX Chain",rpcURLs:[{url:"https://exchainrpc.okex.org"},{url:"https://node.onekey.so/okt"}],shortcode:"okt",shortname:"OKC",symbol:"OKT",feeMeta:{code:"okt",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"oec-token",platform:"okex-chain"}],explorers:[{address:"https://www.oklink.com/okexchain/address/{address}",block:"https://www.oklink.com/okexchain/block/{block}",name:"https://www.oklink.com/okexchain/",transaction:"https://www.oklink.com/okexchain/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"73927",code:"mvm",decimals:18,id:"evm--73927",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/mvn/mvm.png",name:"Mixin Virtual Machine",rpcURLs:[{url:"https://geth.mvm.dev"},{url:"https://node.onekey.so/mvm"}],shortcode:"mvm",shortname:"MVM",symbol:"ETH",feeMeta:{code:"mvm",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://scan.mvm.dev/address/{address}",block:"https://scan.mvm.dev/block/{block}",name:"https://scan.mvm.dev",transaction:"https://scan.mvm.dev/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"256",code:"theco",decimals:18,id:"evm--256",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/theco/theco.png",name:"Huobi ECO Chain Testnet",rpcURLs:[{url:"https://http-testnet.hecochain.com"}],shortcode:"theco",shortname:"THECO",symbol:"THT",feeMeta:{code:"theco",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.hecoinfo.com/address/{address}",block:"https://testnet.hecoinfo.com/block/{block}",name:"https://testnet.hecoinfo.com/",transaction:"https://testnet.hecoinfo.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"28",code:"tboba",decimals:18,id:"evm--28",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/boba/boba.png",name:"Boba Network Rinkeby Testnet",rpcURLs:[{url:"https://rinkeby.boba.network"}],shortcode:"tboba",shortname:"TBoba",symbol:"ETH",feeMeta:{code:"tboba",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://blockexplorer.rinkeby.boba.network/address/{address}",block:"https://blockexplorer.rinkeby.boba.network/block/{block}",name:"https://blockexplorer.rinkeby.boba.network/",transaction:"https://blockexplorer.rinkeby.boba.network/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"421611",code:"tarbitrum",decimals:18,id:"evm--421611",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tarbitrum/tarbitrum.png",name:"Arbitrum Rinkeby",rpcURLs:[{url:"https://rinkeby.arbitrum.io/rpc"}],shortcode:"tarbitrum",shortname:"TArbitrum",symbol:"TETH",feeMeta:{code:"tarbitrum",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://rinkeby-explorer.arbitrum.io/address/{address}",block:"https://rinkeby-explorer.arbitrum.io/block/{block}",name:"https://rinkeby-explorer.arbitrum.io/",transaction:"https://rinkeby-explorer.arbitrum.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"421613",code:"tarbitrum-goerli",decimals:18,id:"evm--421613",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tarbitrum/tarbitrum.png",name:"Arbitrum Goerli",rpcURLs:[{url:"https://goerli-rollup.arbitrum.io/rpc"},{url:"https://endpoints.omniatech.io/v1/arbitrum/goerli/public"},{url:"https://arbitrum-goerli.public.blastapi.io"}],shortcode:"tarbitrum-goerli",shortname:"TArbitrumGoerli",symbol:"TETH",feeMeta:{code:"tarbitrum-goerli",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://goerli.arbiscan.io/address/{address}",block:"https://goerli.arbiscan.io/block/{block}",name:"https://goerli.arbiscan.io/",transaction:"https://goerli.arbiscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"5",code:"goerli",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--5",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/teth/teth.png",name:"Ethereum G\xf6rli (Goerli) Testnet",rpcURLs:[{url:"https://rpc.ankr.com/eth_goerli"},{url:"https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},{url:"https://eth-goerli.public.blastapi.io"}],shortcode:"goerli",shortname:"G\xf6rli",symbol:"TETH",feeMeta:{code:"goerli",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://goerli.etherscan.io/address/{address}",block:"https://goerli.etherscan.io/block/{block}",name:"https://goerli.etherscan.io/",transaction:"https://goerli.etherscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"534353",code:"tscroll",decimals:18,id:"evm--534353",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tscroll/tscroll.png",name:"Scroll Alpha Testnet",rpcURLs:[{url:"https://alpha-rpc.scroll.io/l2"}],shortcode:"tscroll",shortname:"TSCROLL",symbol:"ETH",feeMeta:{code:"tscroll",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://blockscout.scroll.io/address/{address}",block:"https://blockscout.scroll.io/block/{block}",name:"https://blockscout.scroll.io/",transaction:"https://blockscout.scroll.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"65",code:"tokt",decimals:18,id:"evm--65",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tokt/tokt.png",name:"OKX Chain Testnet",rpcURLs:[{url:"https://exchaintestrpc.okex.org"}],shortcode:"tokt",shortname:"TOKC",symbol:"TOKT",feeMeta:{code:"tokt",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://www.oklink.com/okexchain-test/address/{address}",block:"https://www.oklink.com/okexchain-test/block/{block}",name:"https://www.oklink.com/okexchain-test/",transaction:"https://www.oklink.com/okexchain-test/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"69",code:"toptimism",decimals:18,extensions:{providerOptions:{contract_gaslimit_multiplier:1}},id:"evm--69",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/toptimism/toptimism.png",name:"Optimistic Kovan Testnet",rpcURLs:[{url:"https://kovan.optimism.io"}],shortcode:"toptimism",shortname:"TOptimism",symbol:"TETH",feeMeta:{code:"toptimism",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://kovan-optimistic.etherscan.io/address/{address}",block:"https://kovan-optimistic.etherscan.io/tx/{block}",name:"https://kovan-optimistic.etherscan.io/",transaction:"https://kovan-optimistic.etherscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"80001",code:"tpolygon",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--80001",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tpolygon/tpolygon.png",name:"Polygon Mumbai Testnet",rpcURLs:[{url:"https://rpc-mumbai.matic.today"},{url:"https://rpc-mumbai.maticvigil.com"},{url:"https://matic-mumbai.chainstacklabs.com"},{url:"https://matic-testnet-archive-rpc.bwarelabs.com"}],shortcode:"tpolygon",shortname:"TPolygon",symbol:"tMATIC",feeMeta:{code:"tpolygon",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://mumbai.polygonscan.com/address/{address}",block:"https://mumbai.polygonscan.com/block/{block}",name:"https://mumbai.polygonscan.com/",transaction:"https://mumbai.polygonscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"97",code:"tbsc",decimals:18,id:"evm--97",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tbsc/tbsc.png",name:"Binance Smart Chain Testnet",rpcURLs:[{url:"https://data-seed-prebsc-1-s1.binance.org:8545"}],shortcode:"tbsc",shortname:"TBSC",symbol:"TBNB",feeMeta:{code:"tbsc",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.bscscan.com/address/{address}",block:"https://testnet.bscscan.com/block/{block}",name:"https://testnet.bscscan.com/",transaction:"https://testnet.bscscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"314",code:"fil",decimals:18,id:"fil--314",impl:"fil",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fil/fil.png",name:"Filecoin",rpcURLs:[{url:"https://node.onekey.so/fil"},{url:"https://api.node.glif.io/rpc/v0"}],shortcode:"fil",shortname:"FIL",symbol:"FIL",feeMeta:{code:"fil",decimals:18,symbol:"FIL"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"filecoin"}],explorers:[{address:"https://filscan.io/address/general?address={address}",block:"https://filscan.io/tipset/chain?hash={block}",name:"https://filscan.io/",transaction:"https://filscan.io/tipset/message-detail?cid={transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"314159",code:"tfil",decimals:18,id:"fil--314159",impl:"fil",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/fil/fil.png",name:"Filecoin Calibration Testnet",rpcURLs:[{url:"https://api.calibration.node.glif.io/rpc/v0"}],shortcode:"tfil",shortname:"TFIL",symbol:"TFIL",feeMeta:{code:"tfil",decimals:18,symbol:"TFIL"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://calibration.filscan.io/address/general?address={address}",block:"https://calibration.filscan.io/tipset/chain?hash={block}",name:"https://calibration.filscan.io/",transaction:"https://calibration.filscan.io/tipset/message-detail?cid={transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"kaspa",code:"kaspa",decimals:8,id:"kaspa--kaspa",impl:"kaspa",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/kaspa/kas.png",name:"Kaspa",rpcURLs:[{url:"https://api.kaspa.org"}],shortcode:"kaspa",shortname:"KAS",symbol:"KAS",feeMeta:{code:"kaspa",decimals:8,symbol:"KAS"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"kaspa"}],explorers:[{address:"https://explorer.kaspa.org/addresses/{address}",block:"https://explorer.kaspa.org/blocks/{block}",name:"https://explorer.kaspa.org",transaction:"https://explorer.kaspa.org/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"ltc",decimals:8,id:"ltc--0",impl:"ltc",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/ltc.png",name:"Litecoin",rpcURLs:[{url:"https://fiat.onekeycn.com/book/ltc"},{url:"https://node.onekey.so/ltc"}],shortcode:"ltc",shortname:"LTC",symbol:"LTC",feeMeta:{code:"ltc",decimals:8,symbol:"LTC"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"litecoin"}],explorers:[{address:"https://litecoinblockexplorer.net/address/{address}",block:"https://litecoinblockexplorer.net/block/{block}",name:"https://litecoinblockexplorer.net/",transaction:"https://litecoinblockexplorer.net/tx/{transaction}"},{address:"https://blockexplorer.one/litecoin/mainnet/address/{address}",block:"https://blockexplorer.one/litecoin/mainnet/blockHash/{block}",name:"https://blockexplorer.one/litecoin/mainnet",transaction:"https://blockexplorer.one/litecoin/mainnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"near",decimals:24,id:"near--0",impl:"near",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/near/near.png",name:"Near",rpcURLs:[{indexer:"https://helper.mainnet.near.org",url:"https://rpc.mainnet.near.org"},{indexer:"https://helper.mainnet.near.org",url:"https://node.onekey.so/near"},{indexer:"https://helper.mainnet.near.org",url:"https://1rpc.io/near"}],shortcode:"near",shortname:"Near",symbol:"NEAR",feeMeta:{code:"near",decimals:24,symbol:"NEAR"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"near"},{channel:"yahoo",native:"NEAR"}],explorers:[{address:"https://explorer.mainnet.near.org/accounts/{address}",block:"https://explorer.mainnet.near.org/blocks/{block}",name:"https://explorer.mainnet.near.org/",transaction:"https://explorer.mainnet.near.org/transactions/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"tnear",decimals:24,id:"near--1",impl:"near",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/near/near.png",name:"Near Testnet",rpcURLs:[{indexer:"https://helper.testnet.near.org",url:"https://rpc.testnet.near.org"}],shortcode:"tnear",shortname:"Near Testnet",symbol:"TNEAR",feeMeta:{code:"tnear",decimals:24,symbol:"TNEAR"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://explorer.testnet.near.org/accounts/{address}",block:"https://explorer.testnet.near.org/blocks/{block}",name:"https://explorer.testnet.near.org/",transaction:"https://explorer.testnet.near.org/transactions/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"101",code:"sol",decimals:9,extensions:{defaultStableTokens:["Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","FR87nWEUxVgerFGhZM8Y4AggKGLnaXswr1Pd8wZ4kZcp","9mWRABuz2x6koTPCWiCPM49WUbcrNqGTHBV9T9k7y1o7"],position:4},id:"sol--101",impl:"sol",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/sol/sol.png",name:"Solana",rpcURLs:[{url:"https://solana-mainnet.phantom.tech/"},{url:"https://solana-api.projectserum.com/"},{url:"https://node.onekey.so/sol"}],shortcode:"sol",shortname:"SOL",symbol:"SOL",feeMeta:{code:"sol",decimals:9,symbol:"SOL"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"solana",platform:"solana"},{channel:"yahoo",native:"SOL1"}],explorers:[{address:"https://explorer.solana.com/address/{address}",block:"https://explorer.solana.com/block/{block}",name:"https://explorer.solana.com/",transaction:"https://explorer.solana.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"103",code:"tsol",decimals:9,id:"sol--103",impl:"sol",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tsol/tsol.png",name:"Solana Devnet",rpcURLs:[{url:"https://api.devnet.solana.com"}],shortcode:"tsol",shortname:"TSOL",symbol:"TSOL",feeMeta:{code:"tsol",decimals:9,symbol:"TSOL"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.solana.com/address/{address}?cluster=devnet",block:"https://explorer.solana.com/block/{block}?cluster=devnet",name:"https://explorer.solana.com/",transaction:"https://explorer.solana.com/tx/{transaction}?cluster=devnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"stc",decimals:9,extensions:{position:13},id:"stc--1",impl:"stc",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/stc/stc.png",name:"Starcoin",rpcURLs:[{url:"https://main-seed.starcoin.org"},{url:"https://node.onekey.so/stc"}],shortcode:"stc",shortname:"STC",symbol:"STC",feeMeta:{code:"stc",decimals:9,symbol:"STC"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"starcoin"}],explorers:[{address:"https://stcscan.io/main/address/{address}",block:"https://stcscan.io/main/blocks/height/{block}",name:"https://stcscan.io/",transaction:"https://stcscan.io/main/transactions/detail/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"251",code:"tstc",decimals:9,id:"stc--251",impl:"stc",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tstc/tstc.png",name:"Starcoin barnard",rpcURLs:[{url:"https://barnard-seed.starcoin.org"}],shortcode:"tstc",shortname:"TSTC",symbol:"TSTC",feeMeta:{code:"tstc",decimals:9,symbol:"TSTC"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://stcscan.io/barnard/address/{address}",block:"https://stcscan.io/barnard/blocks/height/{block}",name:"https://stcscan.io/",transaction:"https://stcscan.io/barnard/transactions/detail/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"mainnet",code:"sui",decimals:9,id:"sui--mainnet",impl:"sui",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/sui/sui.png",name:"SUI",rpcURLs:[{url:"https://node.onekey.so/sui"},{url:"https://wallet-rpc.mainnet.sui.io/"},{url:"https://fullnode.mainnet.sui.io"}],shortcode:"sui",shortname:"SUI",symbol:"SUI",feeMeta:{code:"sui",decimals:9,symbol:"SUI"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://explorer.sui.io/addresses/{address}/?network=mainnet",block:"https://explorer.sui.io/objects/{block}/?network=mainnet",name:"https://explorer.sui.io?network=mainnet",transaction:"https://explorer.sui.io/transactions/{transaction}/?network=mainnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"8888883",code:"tsui",decimals:9,id:"sui--8888883",impl:"sui",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/sui/sui.png",name:"SUI TestNet",rpcURLs:[{url:"https://wallet-rpc.testnet.sui.io"},{url:"https://fullnode.testnet.sui.io"}],shortcode:"tsui",shortname:"TSUI",symbol:"TSUI",feeMeta:{code:"tsui",decimals:9,symbol:"TSUI"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.sui.io/addresses/{address}/?network=testnet",block:"https://explorer.sui.io/objects/{block}/?network=testnet",name:"https://explorer.sui.io?network=testnet",transaction:"https://explorer.sui.io/transactions/{transaction}/?network=testnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"tbtc",decimals:8,id:"tbtc--0",impl:"tbtc",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tbtc/tbtc.png",name:"Bitcoin Testnet",rpcURLs:[{url:"https://node.onekey.so/tbtc"}],shortcode:"tbtc",shortname:"TBTC",symbol:"TBTC",feeMeta:{code:"tbtc",decimals:8,symbol:"TBTC"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://mempool.space/testnet/address/{address}",block:"https://mempool.space/testnet/block/{block}",name:"https://mempool.space/testnet/",transaction:"https://mempool.space/testnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0x2b6653dc",clientApi:{tronscan:"https://apilist.tronscanapi.com"},code:"trx",decimals:6,id:"tron--0x2b6653dc",impl:"tron",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/trx/trx.png",name:"Tron",rpcURLs:[{url:"https://tron-mainnet.token.im"},{url:"https://node.onekey.so/trx"}],shortcode:"trx",shortname:"TRX",symbol:"TRX",feeMeta:{code:"trx",decimals:6,symbol:"TRX"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"tron",platform:"tron"}],explorers:[{address:"https://tronscan.org/#/address/{address}",block:"https://tronscan.org/#/block/{block}",name:"https://tronscan.org/",transaction:"https://tronscan.org/#/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0x94a9059e",clientApi:{tronscan:"https://shastapi.tronscan.org"},code:"ttrx",decimals:6,id:"tron--0x94a9059e",impl:"tron",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/ttrx/ttrx.png",name:"Tron Shasta Testnet",rpcURLs:[{url:"https://api.shasta.trongrid.io"}],shortcode:"ttrx",shortname:"TTRX",symbol:"TTRX",feeMeta:{code:"ttrx",decimals:6,symbol:"TTRX"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://shasta.tronscan.org/#/address/{address}",block:"https://shasta.tronscan.org/#/block/{block}",name:"https://shasta.tronscan.org/",transaction:"https://shasta.tronscan.org/#/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:12,chainId:"0",clientApi:{mymonero:"https://node.onekey.so/mymonero"},code:"xmr",decimals:12,id:"xmr--0",impl:"xmr",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/monero.png",name:"Monero",rpcURLs:[{url:"https://node.onekey.so/xmr"}],shortcode:"xmr",shortname:"XMR",symbol:"XMR",feeMeta:{code:"xmr",decimals:12,symbol:"xmr"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"monero"}],explorers:[{address:"https://www.exploremonero.com/",block:"https://www.exploremonero.com/block/{block}",name:"https://www.exploremonero.com/",transaction:"https://www.exploremonero.com/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:6,chainId:"0",code:"xrp",decimals:6,id:"xrp--0",impl:"xrp",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/xrp.png",name:"Ripple",rpcURLs:[{url:"wss://s1.ripple.com"},{url:"wss://s2.ripple.com"},{url:"wss://s-east.ripple.com"},{url:"wss://xrplcluster.com"},{url:"wss://xrpl.ws"}],shortcode:"xrp",shortname:"Ripple",symbol:"XRP",feeMeta:{code:"xrp",decimals:6,symbol:"xrp"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ripple"}],explorers:[{address:"https://xrpscan.com/account/{address}",block:"https://xrpscan.com/ledger/{block}",name:"https://xrpscan.com/",transaction:"https://xrpscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"lightning",decimals:0,extensions:{position:2},id:"lightning--0",impl:"lightning",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/lnd/lnd.png",name:"Lightning Network",rpcURLs:[{url:"https://node.onekey.so/btc"},{url:"https://1rpc.io/btc"}],shortcode:"lightning",shortname:"Lightning",symbol:"sats",feeMeta:{code:"lightning",decimals:0,symbol:"sats"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"bitcoin",platform:"ordinals"}],explorers:[],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"tlightning",decimals:0,id:"tlightning--0",impl:"tlightning",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/lnd/lnd.png",name:"Lightning Network Testnet",rpcURLs:[],shortcode:"tlightning",shortname:"LightningTestnet",symbol:"sats",feeMeta:{code:"lightning",decimals:0,symbol:"sats"},defaultEnabled:!1,priceConfigs:[{channel:"coingecko",native:"bitcoin"}],explorers:[],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"51178",code:"topsideprealpha",decimals:18,id:"evm--51178",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/topsideprealpha/topsideprealpha.png",name:"Opside Testnet Pre-Alpha Network",rpcURLs:[{url:"https://pre-alpha-us-http-geth.opside.network"}],shortcode:"topsideprealpha",shortname:"TOpsidePreAlpha",symbol:"IDE",feeMeta:{code:"topsideprealpha",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://pre-alpha.opside.info/address/{address}",block:"https://pre-alpha.opside.info/block/{block}",name:"https://pre-alpha.opside.info/",transaction:"https://pre-alpha.opside.info/tx/{transaction}"}],status:"LISTED",createdAt:"2023-06-14T00:29:24.951Z",updatedAt:"2023-06-14T00:29:24.951Z"}];o.unshift(r.FAKE_ALL_NETWORK);var a=1685492989977},1018:function(e,t,n){"use strict";n.r(t),n.d(t,"FeeSpeedTime",(function(){return s})),n.d(t,"CustomFeeSpeedTime",(function(){return l}));var r=n(20),o=n(88),a=n(1309),i=n(0);function c(e){return e<15||e<=30?"text-success":"text-warning"}function s(e){var t=e.index,n=e.waitingSeconds,a=e.withColor,s=e.prices,l=e.typography,u=Object(o.default)(),d=parseInt(t,10),f="< "+u.formatMessage({id:"content__str_seconds_plural"},{0:"15"}),p=n;if(s&&1===s.length&&(d=1),n){var b=n>60?Math.ceil(n/60):n;f="~ "+u.formatMessage({id:n>60?"content__str_minutes_plural":"content__str_seconds_plural"},{0:b})}else 0===d&&(f="> "+u.formatMessage({id:"content__str_seconds_plural"},{0:"30"}),p=31),1===d&&(f="~ "+u.formatMessage({id:"content__str_seconds_plural"},{0:"30"}),p=30),2===d&&(f="< "+u.formatMessage({id:"content__str_seconds_plural"},{0:"15"}),p=14);return a?Object(i.jsx)(r.default,{typography:l,color:c(p),children:f}):Object(i.jsx)(r.default,{typography:l,color:"text-subdued",children:f})}function l(e){var t=e.custom,n=e.prices,r=e.isEIP1559Fee,o=e.waitingSeconds,c=e.withColor;if(!t)return null;var l=Object(a.getCustomFeeSpeedInfo)({custom:t,prices:n,isEIP1559Fee:r,waitingSeconds:o}),u=l.customSimilarToPreset,d=l.customWaitingSeconds;return Object(i.jsx)(s,{withColor:c,index:u,waitingSeconds:d})}},1021:function(e,t,n){"use strict";n.r(t),function(e){function n(t,n){var r=e[t];e[t]=function(t,o){return r((function(){if(!e[n])return t()}),o)}}t.default={interceptTimerWithDisable:function(){try{n("setTimeout","$$onekeyDisabledSetTimeout")}catch(e){}try{n("setInterval","$$onekeyDisabledSetInterval")}catch(e){}},enableSetTimeout:function(){e.$$onekeyDisabledSetTimeout=void 0},disableSetTimeout:function(){e.$$onekeyDisabledSetTimeout=!0},enableSetInterval:function(){e.$$onekeyDisabledSetInterval=void 0},disableSetInterval:function(){e.$$onekeyDisabledSetInterval=!0}}}.call(this,n(58))},1023:function(e,t,n){"use strict";n.r(t),n.d(t,"dappSlicer",(function(){return u})),n.d(t,"dappSaveSiteConnection",(function(){return f})),n.d(t,"dappClearSiteConnection",(function(){return p})),n.d(t,"dappRemoveSiteConnections",(function(){return b}));var r=n(3),o=n.n(r),a=n(13),i=n.n(a),c=n(128);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(c.createSlice)({name:"dapp",initialState:{connections:[]},reducers:{dappClearSiteConnection:function(e){e.connections=[]},dappRemoveSiteConnections:function(e,t){var n=i()(e.connections),r=t.payload;n=n.filter((function(e){return!(r.origin===e.site.origin&&r.networkImpl===e.networkImpl)})),e.connections=n},dappSaveSiteConnection:function(e,t){var n=t.payload,r=i()(e.connections),o=r.find((function(e){return e.site.origin===n.site.origin&&e.networkImpl===n.networkImpl&&e.address===n.address}));o||(o=l(l({},n),{},{created:Date.now(),lastTime:Date.now()}),r.push(o)),o.lastTime=Date.now(),e.connections=r}}}),d=u.actions,f=d.dappSaveSiteConnection,p=d.dappClearSiteConnection,b=d.dappRemoveSiteConnections;t.default=u.reducer},1024:function(e,t,n){"use strict";n.r(t),n.d(t,"startTrace",(function(){return o})),n.d(t,"stopTrace",(function(){return a}));var r=function(e){},o=r,a=r},104:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ETimelinePerfNames",(function(){return r}));var r,o=n(6),a=n.n(o);!function(e){e.createHDWallet="createHDWallet",e.removeWallet="removeWallet",e.postWalletRemoved="postWalletRemoved"}(r||(r={}));var i=function(){function t(){this.timelineData={}}var n=t.prototype;return n.getTimelineData=function(){return this.timelineData},n.clear=function(e){this.timelineData[e]=[]},n.mark=function(t){var n=t.name,r=t.title,o=t.payload,a=this.timelineData[n]||[],i=a[a.length-1],c=e.performance.now(),s=(new Date).toLocaleString();a.push({lag:parseInt(String(i?c-i.elapsed:0),10),title:r,time:s,elapsed:Math.round(c),payload:o}),a=a.slice(-100),this.timelineData[n]=a},a()(t)}();t.default=new i}.call(this,n(58))},1050:function(e,t,n){"use strict";n.r(t),n.d(t,"TxActionElementIcon",(function(){return d})),n.d(t,"TxActionElementIconNormal",(function(){return f})),n.d(t,"TxActionElementIconLarge",(function(){return p})),n.d(t,"TxActionElementIconXLarge",(function(){return b}));var r=n(3),o=n.n(r),a=n(51),i=n(40),c=n(121),s=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){var t,n=e.iconInfo,r=e.size,o=void 0===r?16:r,l=e.name,d=o+"px",f={width:d,height:d,borderRadius:"full",bg:"background-selected",nativeID:"TxActionElementIcon-Center-Container"},p=null!=(t=null==n?void 0:n.icon)?t:{},b=Object(s.jsx)(c.default,{showIconBorder:!0,size:d,token:{name:l,logoURI:p.url}});return null!=p&&p.name?Object(s.jsx)(a.default,u(u({},f),{},{children:Object(s.jsx)(i.default,{name:p.name})})):b}function f(e){return Object(s.jsx)(d,u({size:28},e))}function p(e){return Object(s.jsx)(d,u({size:32},e))}function b(e){return Object(s.jsx)(d,u({size:40},e))}},1058:function(e,t,n){"use strict";n.r(t);t.default={breakpointCovalentTx:function(e){e.txHash}}},1062:function(e,t,n){"use strict";var r,o;n.r(t),n.d(t,"RevokeRoutes",(function(){return r})),n.d(t,"AssetType",(function(){return o})),function(e){e.ShareModal="ShareModal",e.ChangeAllowance="ChangeAllowance"}(r||(r={})),function(e){e[e.tokens=0]="tokens",e[e.nfts=1]="nfts"}(o||(o={}))},1066:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"AddressBookRoutes",(function(){return r})),function(e){e.NewAddressRoute="NewAddressRoute",e.EditAddressRoute="EditAddressRoute",e.PickAddressRoute="PickAddressRoute",e.EnterAddressRoute="EnterAddressRoute",e.NewPickAddressRoute="NewPickAddressRoute"}(r||(r={}))},1067:function(e,t,n){"use strict";n.r(t),n.d(t,"handleScanResult",(function(){return s})),n.d(t,"gotoScanQrcode",(function(){return l}));var r=n(323),o=n(111),a=n(16),i=n(393),c=n(697),s=function(e){var t={type:c.ScanSubResultCategory.TEXT,data:e};if(e.startsWith("https://")||e.startsWith("http://"))t.type=c.ScanSubResultCategory.URL;else if(e.startsWith(i.OneKeyMigrateQRCodePrefix))t.type=c.ScanSubResultCategory.MIGRATE;else if(/^wc:.+@.+\?.+/.test(e))return void r.default.openConnectToDappModal({uri:e});return t},l=function(e){Object(o.getAppNavigation)().navigate(a.RootRoutes.Modal,{screen:a.ModalRoutes.ScanQrcode,params:{screen:c.ScanQrcodeRoutes.ScanQrcode,params:e?{onScanCompleted:e}:void 0}})}},1068:function(e,t,n){"use strict";n.r(t),n.d(t,"JsonRPCRequest",(function(){return g}));var r=n(3),o=n.n(r),a=n(4),i=n.n(a),c=n(2),s=n.n(c),l=n(6),u=n.n(l),d=n(532),f=n.n(d),p=n(1040),b=n(68),m=n(556);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{jsonrpc:"2.0",id:n,method:e,params:t}}var g=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;this.url=e,this.timeout=n,this.headers={"Content-Type":"application/json"},t&&Object.assign(this.headers,t)}var t=e.prototype;return t.getIsRpcBatchDisabled=function(){var e=s()((function*(e){return!!(yield b.default.setting.getRpcBatchFallbackWhitelistHosts()).find((function(t){return e.includes(t.url)}))}));return function(t){return e.apply(this,arguments)}}(),e.parseRPCResponse=function(e){if("object"!==typeof e)throw new m.ResponseError("Invalid JSON RPC response, typeof response should be an object",e);if(e.error){var t="Error JSON PRC response",n=e.error;throw null!=n&&n.message&&"string"===typeof(null==n?void 0:n.message)&&(t="Error JSON PRC response: "+(null==n?void 0:n.message)),new m.JsonPRCResponseError(t,e)}if(!("result"in e))throw new m.ResponseError("Invalid JSON RPC response, result not found",e);return Promise.resolve(e.result)},t.call=function(){var t=s()((function*(t,n,r,o){var a=Object(p.default)(o||this.timeout),i=yield f()(this.url,{headers:this.assembleHeaders(r),method:"POST",body:JSON.stringify(O(t,n)),signal:a});if(!i.ok)throw new m.ResponseError("Wrong response<"+i.status+">",i);var c=yield i.json();return e.parseRPCResponse(c)}));return function(e,n,r,o){return t.apply(this,arguments)}}(),t.batchCall=function(){var t=s()((function*(t,n,r){var o=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=[],u=!c||!(yield this.getIsRpcBatchDisabled(this.url));if(u){var d=t.map((function(e,t){var n=i()(e,2);return O(n[0],n[1],t)})),b=yield f()(this.url,{headers:this.assembleHeaders(n),method:"POST",body:JSON.stringify(d),signal:Object(p.default)(r||this.timeout)});if(!b.ok)throw new m.ResponseError("Wrong response<"+b.status+">",b);if(l=yield b.json(),!Array.isArray(l))throw new m.ResponseError("Invalid JSON Batch RPC response, response should be an array",b);if(t.length!==l.length)throw new m.ResponseError("Invalid JSON Batch RPC response, batch with "+t.length+" calls, but got "+l.length+" responses",b)}else l=yield Promise.all(t.map(function(){var e=s()((function*(e){try{return{result:yield o.call(e[0],e[1],n,r)}}catch(t){}}));return function(t){return e.apply(this,arguments)}}()));return Promise.all(l.sort((function(e,t){return e.id-t.id})).map((function(t){return e.parseRPCResponse(t).catch((function(e){if(!(e instanceof m.JsonPRCResponseError&&a))throw e}))})))}));return function(e,n,r){return t.apply(this,arguments)}}(),t.assembleHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j(j({},this.headers),e)},u()(e)}()},1074:function(e,t,n){"use strict";n.r(t),n.d(t,"contactsSlice",(function(){return s})),n.d(t,"create",(function(){return u})),n.d(t,"update",(function(){return d})),n.d(t,"remove",(function(){return f}));var r=n(3),o=n.n(r),a=n(128);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=Object(a.createSlice)({name:"contacts",initialState:{uuid:0,contacts:{}},reducers:{create:function(e,t){var n=e.uuid+1,r=t.payload,o=Date.now();e.uuid=n,e.contacts[n]=c({id:n,createAt:o},r)},update:function(e,t){var n=t.payload.uuid,r=t.payload.contact,o=e.contacts[n];o&&(e.contacts[n]=c(c({},o),r))},remove:function(e,t){var n=t.payload.uuid;delete e.contacts[n]}}}),l=s.actions,u=l.create,d=l.update,f=l.remove;t.default=s.reducer},1079:function(e,t,n){"use strict";n.r(t),t.default=!1},1085:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"RestoreResult",(function(){return r})),function(e){e.SUCCESS="success",e.WRONG_PASSWORD="wrong_password",e.UNKNOWN_ERROR="unknown_error"}(r||(r={}))},1086:function(e,t,n){"use strict";n.r(t),n.d(t,"useAddExternalAccount",(function(){return l}));var r=n(2),o=n.n(r),a=n(1),i=n(11),c=n(19),s=n(17);function l(){var e=s.default.serviceAccount,t=s.default.serviceExternalAccount;return{addExternalAccount:Object(a.useCallback)(function(){var n=o()((function*(n){var r,o,a,s,l,u=n.status,d=n.session,f=n.client,p=n.walletService,b=n.injectedProviderState,m=n.externalAccountInfo;c.default.walletConnect.info("Connect NewSession",{status:u,peerMeta:null==d?void 0:d.peerMeta,walletServiceUrl:null==f||null==(r=f.walletService)?void 0:r.homepage});var h=null!=(o=null!=(a=null==b?void 0:b.chainId)?a:null==u?void 0:u.chainId)?o:1,j=(null==b||null==(s=b.accounts)?void 0:s[0])||(null==u||null==(l=u.accounts)?void 0:l[0])||"";j=j.toLowerCase();var O=yield e.addExternalAccount({impl:i.IMPL_EVM,chainId:h,address:j}),g=O.account.id;f&&(f.watchAccountSessionChanged({accountId:g}),d&&(yield f.saveAccountSession({accountId:g,session:d})));var v=m;return!v&&p&&(v=yield t.generateExternalAccountInfoFromWalletService({externalAccountType:"injectedProvider",walletService:p})),b&&v&&(yield t.saveExternalAccountInfo({accountId:g,accountInfo:v})),yield e.changeActiveExternalWalletName(g),O}));return function(e){return n.apply(this,arguments)}}(),[e,t])}}},1089:function(e,t,n){"use strict";n.r(t),n.d(t,"OverviewBadge",(function(){return l}));var r=n(412),o=n(12),a=n(236),i=n(50),c=n(88),s=n(0),l=function(e){var t=e.rate,n=Object(c.default)();return Object(i.default)()?Object(s.jsx)(a.default,{ml:"2",size:"lg",title:t.toFixed(2)+"%"}):Object(s.jsx)(r.default,{hasArrow:!0,_text:{maxW:"80"},label:n.formatMessage({id:"msg__portfolio_share"}),placement:"top",children:Object(s.jsx)(o.default,{children:Object(s.jsx)(a.default,{ml:"2",size:"lg",title:t.toFixed(2)+"%"})})})}},11:function(e,t,n){"use strict";n.r(t),n.d(t,"HISTORY_CONSTS",(function(){return ae})),n.d(t,"SocketEvents",(function(){return o})),n.d(t,"enabledAccountDynamicNetworkIds",(function(){return ie})),n.d(t,"SEPERATOR",(function(){return c})),n.d(t,"INDEX_PLACEHOLDER",(function(){return s})),n.d(t,"IMPL_EVM",(function(){return l})),n.d(t,"COINTYPE_ETH",(function(){return u})),n.d(t,"COINTYPE_ETC",(function(){return d})),n.d(t,"IMPL_SOL",(function(){return f})),n.d(t,"COINTYPE_SOL",(function(){return p})),n.d(t,"IMPL_ALGO",(function(){return b})),n.d(t,"COINTYPE_ALGO",(function(){return m})),n.d(t,"IMPL_NEAR",(function(){return h})),n.d(t,"COINTYPE_NEAR",(function(){return j})),n.d(t,"IMPL_STC",(function(){return O})),n.d(t,"COINTYPE_STC",(function(){return g})),n.d(t,"IMPL_CFX",(function(){return v})),n.d(t,"COINTYPE_CFX",(function(){return y})),n.d(t,"IMPL_BTC",(function(){return x})),n.d(t,"COINTYPE_BTC",(function(){return w})),n.d(t,"IMPL_TBTC",(function(){return _})),n.d(t,"COINTYPE_TBTC",(function(){return k})),n.d(t,"IMPL_TRON",(function(){return I})),n.d(t,"COINTYPE_TRON",(function(){return S})),n.d(t,"IMPL_APTOS",(function(){return T})),n.d(t,"COINTYPE_APTOS",(function(){return P})),n.d(t,"IMPL_DOGE",(function(){return C})),n.d(t,"COINTYPE_DOGE",(function(){return M})),n.d(t,"IMPL_LTC",(function(){return A})),n.d(t,"COINTYPE_LTC",(function(){return E})),n.d(t,"IMPL_BCH",(function(){return D})),n.d(t,"COINTYPE_BCH",(function(){return R})),n.d(t,"IMPL_XRP",(function(){return N})),n.d(t,"COINTYPE_XRP",(function(){return L})),n.d(t,"IMPL_COSMOS",(function(){return B})),n.d(t,"COINTYPE_COSMOS",(function(){return F})),n.d(t,"IMPL_ADA",(function(){return U})),n.d(t,"COINTYPE_ADA",(function(){return H})),n.d(t,"IMPL_SUI",(function(){return W})),n.d(t,"COINTYPE_SUI",(function(){return V})),n.d(t,"IMPL_FIL",(function(){return z})),n.d(t,"COINTYPE_FIL",(function(){return G})),n.d(t,"IMPL_DOT",(function(){return K})),n.d(t,"COINTYPE_DOT",(function(){return q})),n.d(t,"IMPL_XMR",(function(){return Z})),n.d(t,"COINTYPE_XMR",(function(){return X})),n.d(t,"IMPL_KASPA",(function(){return Y})),n.d(t,"COINTYPE_KASPA",(function(){return Q})),n.d(t,"IMPL_LIGHTNING",(function(){return $})),n.d(t,"COINTYPE_LIGHTNING",(function(){return J})),n.d(t,"IMPL_LIGHTNING_TESTNET",(function(){return ee})),n.d(t,"COINTYPE_LIGHTNING_TESTNET",(function(){return te})),n.d(t,"IMPL_ALLNETWORKS",(function(){return ne})),n.d(t,"COINTYPE_ALLNETWORKS",(function(){return re})),n.d(t,"getSupportedImpls",(function(){return ce})),n.d(t,"AUTO_SWITCH_DEFAULT_RPC_AT_VERSION",(function(){return se})),n.d(t,"PRICE_EXPIRED_TIME",(function(){return le})),n.d(t,"ACCOUNT_DERIVATION_DB_MIGRATION_VERSION",(function(){return ue})),n.d(t,"FIX_COSMOS_TEMPLATE_DB_MIGRATION_VERSION",(function(){return de})),n.d(t,"CHAINS_DISPLAYED_IN_DEV",(function(){return fe})),n.d(t,"UNIQUE_TOKEN_SYMBOLS",(function(){return pe})),n.d(t,"isLightningNetwork",(function(){return be})),n.d(t,"isLightningNetworkByImpl",(function(){return me})),n.d(t,"isLightningNetworkByNetworkId",(function(){return he}));var r,o,a=n(46),i=n(36),c="--",s="$$INDEX$$",l="evm",u="60",d="61",f="sol",p="501",b="algo",m="283",h="near",j="397",O="stc",g="101010",v="cfx",y="503",x="btc",w="0",_="tbtc",k="1",I="tron",S="195",T="aptos",P="637",C="doge",M="3",A="ltc",E="2",D="bch",R="145",N="xrp",L="144",B="cosmos",F="118",U="ada",H="1815",W="sui",V="784",z="fil",G="461",K="dot",q="354",Z="xmr",X="128",Y="kaspa",Q="111111",$="lightning",J="81297820149147",ee="tlightning",te="81297820149140",ne="all",re="0000",oe=(new Set([l,h,v,x,_,f,O,I,T,C,A,D,b,N,B,U,W,z,K,Z,Y,$,ee,ne]),new Set([l,h,v,x,_,f,O,I,T,C,A,D,b,N,B,U,W,z,K,Z,Y,$,ee,ne])),ae={GET_LOCAL_LIMIT:100,FETCH_ON_CHAIN_LIMIT:50,DISPLAY_TX_LIMIT:50,REFRESH_DROPPED_TX_IN:3e5,SET_IS_FINAL_EXPIRED_IN:864e5,PENDING_QUEUE_MAX_LENGTH:10};!function(e){e.Notification="notification"}(o||(o={}));var ie=[i.OnekeyNetwork.eth,i.OnekeyNetwork.polygon,i.OnekeyNetwork.arbitrum,i.OnekeyNetwork.optimism];function ce(){return oe}var se="3.21.0",le=Object(a.getTimeDurationMs)({minute:15}),ue="4.0.0",de="4.2.0",fe=[],pe=((r={})[l]=["USDC","USDT"],r),be=function(e){return e===J||e===te},me=function(e){return e===$||e===ee},he=function(e){return e===i.OnekeyNetwork.lightning||e===i.OnekeyNetwork.tlightning}},1131:function(e,t,n){"use strict";n.r(t),n.d(t,"getDeviceTypeByDeviceId",(function(){return r})),n.d(t,"getDeviceFirmwareVersion",(function(){return o}));var r=function(e){if(!e)return"classic";var t=e.slice(0,2);return"mi"===t.toLowerCase()?"mini":"tc"===t.toLowerCase()?"touch":"classic"},o=function(e){return e?e.onekey_version?e.onekey_version.split("."):[e.major_version,e.minor_version,e.patch_version]:[0,0,0]}},1155:function(e,t,n){"use strict";n.r(t),n.d(t,"listUri",(function(){return s})),n.d(t,"ticketDetailUri",(function(){return l})),n.d(t,"commentsUri",(function(){return u})),n.d(t,"uploadUri",(function(){return d})),n.d(t,"submitUri",(function(){return f})),n.d(t,"updateTicketUri",(function(){return p})),n.d(t,"attachmentUri",(function(){return b})),n.d(t,"uploadImage",(function(){return m})),n.d(t,"requestTicketDetail",(function(){return h})),n.d(t,"requestAttachmentUri",(function(){return j}));var r=n(2),o=n.n(r),a=n(107),i=n.n(a),c="https://ticket.onekey.so",s=function(e,t){return c+"/api/tickets?instanceId="+e+"&updatedAt="+(null!=t?t:"")},l=function(e,t){return c+"/api/ticket/"+e+"?instanceId="+t},u=function(e,t){return c+"/api/ticket/"+e+"/comments?instanceId="+t},d=function(e){return c+"/api/attachments?instanceId="+e},f=function(e){return c+"/api/ticket?instanceId="+e},p=function(e,t){return c+"/api/ticket/"+e+"?instanceId="+t},b=function(e,t){return c+"/api/attachments/"+e+"?instanceId="+t},m=function(e,t,n){i.a.post(d(t),e).then((function(e){n&&n(null,e.data)})).catch((function(e){n&&n(e,null)}))},h=function(e,t,n){i.a.get(l(e,t)).then((function(e){n&&n(null,e.data)})).catch((function(e){n&&n(e,null)}))},j=function(){var e=o()((function*(e,t){return i.a.get(b(e,t))}));return function(t,n){return e.apply(this,arguments)}}()},1174:function(e,t,n){"use strict";function r(e){return"tab-"+e}n.r(t),n.d(t,"buildAppRootTabName",(function(){return r}))},1200:function(e,t,n){"use strict";n.r(t),n.d(t,"TxActionElementTime",(function(){return b}));var r=n(3),o=n.n(r),a=n(20),i=n(15),c=n.n(i),s=n(1),l=n(819),u=n(0),d=["timestamp","isShort"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=e.timestamp,n=e.isShort,r=c()(e,d),o=Object(l.default)(),i=Object(s.useMemo)((function(){if(!t)return"";var e=new Date(t);return n?o.formatDate(e,{hideTheYear:!0,hideTheMonth:!0}):e.toLocaleString()}),[o,n,t]);return Object(u.jsx)(a.default,p(p({},r),{},{children:i}))}},1204:function(e,t,n){"use strict";n.r(t),n.d(t,"closeHardwarePopup",(function(){return He})),n.d(t,"default",(function(){return ze}));var r=n(569),o=n(3),a=n.n(o),i=n(2),c=n.n(i),s=n(1244),l=n(463),u=n(28),d=n(1165),f=n(331),p=n(17),b=n(789),m=n(846),h=n(431),j=n(24),O=n(99),g=n(20),v=n(40),y=n(12),x=n(215),w=n(4),_=n.n(w),k=n(15),I=n.n(k),S=n(54),T=n(47),P=n(126),C=n(1),M=n(871),A=n(88),E=n(29),D=n(305),R=n(288),N=n(51),L=n(76),B=n(82),F=n(299),U=n(0),H=["children","mobileFillWidth","loading","closeWay","onCancel","onClose"];function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){var t=e.children,n=e.mobileFillWidth,r=e.loading,o=e.closeWay,a=e.onCancel,i=e.onClose,c=I()(e,H),s=Object(C.useState)(!1),l=_()(s,2),u=l[0],d=l[1],f=Object(F.default)().bottom,p=Object(C.useMemo)((function(){return!1}),[n]);return Object(C.useEffect)((function(){if("never"!==o){if("now"===o)return d(!0);var e=setTimeout((function(){d(!0)}),3e4);return function(){e&&clearTimeout(e)}}}),[o]),Object(U.jsx)(y.default,{px:p?0:6,w:"full",maxW:p?"full":"374",children:Object(U.jsxs)(y.default,V(V(V({w:"full",mx:"auto",p:4},f&&{pb:f+"px"}),{},{rounded:"xl",bgColor:"surface-default",borderWidth:1,borderColor:"border-subdued",shadow:"depth.4"},c),{},{children:[t,!!u&&Object(U.jsx)(B.default,{onPress:function(){null==a||a(),null==i||i()},position:"absolute",top:1,right:1,type:"plain",circle:!0,name:"XMarkMini"}),!!r&&Object(U.jsx)(N.default,{w:"full",h:"full",top:0,right:0,position:"absolute",children:Object(U.jsx)(L.default,{size:"lg"})})]}))})};z.defaultProps={mobileFillWidth:!1,popupType:"normal",closeWay:"delay"};var G=z,K=["connectId","onConfirm","onDeviceInput","passphraseState"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){var t=e.onConfirm,n=Object(A.default)(),r=Object(P.default)({mode:"onChange",defaultValues:{passphrase:"",confirmPassphrase:""}}),o=r.control,a=r.handleSubmit,i=r.setError,c=a((function(e){var r=e.passphrase;r===e.confirmPassphrase?t(r):i("confirmPassphrase",{message:n.formatMessage({id:"msg__passphrase_needs_to_be_the_same"})})}));return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(T.default,{mt:4,space:2,children:[Object(U.jsx)(T.default.Item,{control:o,name:"passphrase",label:"",rules:{maxLength:{value:50,message:n.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){return!e.length||(new RegExp("^[a-zA-Z0-9-><_.:@\\|*!()+%&-\\[\\]?{},#'`;\"~$\\^=]+$","i").test(e)?void 0:n.formatMessage({id:"form__add_exsting_wallet_invalid"}))}},children:Object(U.jsx)(T.default.Input,{clearTextOnFocus:!1,type:"password",autoFocus:!0,size:"xl",placeholder:"Passphrase",onKeyPress:function(e){"Enter"===e.nativeEvent.key&&c()},onSubmitEditing:function(){return c()},returnKeyType:"done"})}),Object(U.jsx)(T.default.Item,{control:o,name:"confirmPassphrase",label:"",rules:{maxLength:{value:50,message:n.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){return!e.length||(new RegExp("^[a-zA-Z0-9-><_.:@\\|*!()+%&-\\[\\]?{},#'`;\"~$\\^=]+$","i").test(e)?void 0:n.formatMessage({id:"form__add_exsting_wallet_invalid"}))}},children:Object(U.jsx)(T.default.Input,{clearTextOnFocus:!1,type:"password",size:"xl",placeholder:n.formatMessage({id:"form__passphrase_confirm_placeholder"}),onKeyPress:function(e){"Enter"===e.nativeEvent.key&&c()},onSubmitEditing:function(){return c()},returnKeyType:"done"})})]}),Object(U.jsx)(S.default,{type:"primary",size:"lg",mt:3,onPress:function(){return c()},children:n.formatMessage({id:"action__confirm"})})]})},Y=function(e){var t=e.onConfirm,n=Object(A.default)(),r=Object(P.default)({mode:"onChange",defaultValues:{passphrase:""}}),o=r.control,a=(0,r.handleSubmit)((function(e){var n=e.passphrase;t(n)}));return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(T.default,{mt:4,children:Object(U.jsx)(T.default.Item,{control:o,name:"passphrase",label:"",rules:{maxLength:{value:50,message:n.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){return!e.length||(new RegExp("^[a-zA-Z0-9-><_.:@\\|*!()+%&-\\[\\]?{},#'`;\"~$\\^=]+$","i").test(e)?void 0:n.formatMessage({id:"form__add_exsting_wallet_invalid"}))}},children:Object(U.jsx)(T.default.Input,{clearTextOnFocus:!1,type:"password",autoFocus:!0,size:"lg",placeholder:n.formatMessage({id:"form__passphrase_placeholder"}),onKeyPress:function(e){"Enter"===e.nativeEvent.key&&a()},onSubmitEditing:function(){return a()},returnKeyType:"done"})})}),Object(U.jsx)(S.default,{type:"primary",size:"lg",mt:3,onPress:function(){return a()},children:n.formatMessage({id:"action__confirm"})})]})},Q=function(e){var t=e.connectId,n=e.onConfirm,r=e.onDeviceInput,o=e.passphraseState,a=I()(e,K),i=Object(A.default)(),c=p.default.dispatch,s=Object(C.useState)(!0),l=_()(s,2),u=l[0],d=l[1];return Object(M.useKeepAwake)(),Object(U.jsxs)(G,Z(Z({},a),{},{closeWay:"now",children:[Object(U.jsx)(D.SkipAppLock,{}),o?Object(U.jsx)(Y,{onConfirm:n}):Object(U.jsx)(X,{onConfirm:function(e){c(Object(R.setPendingRememberWalletConnectId)(u?void 0:t)),n(e)}}),o?null:Object(U.jsxs)(y.default,{mt:"24px",children:[Object(U.jsx)(y.default,{flexDirection:"row",children:Object(U.jsx)(x.default,{flex:1,isChecked:u,onChange:d,title:i.formatMessage({id:"action__remove_when_exit"}),description:i.formatMessage({id:"action__remove_when_exit_desc"})})}),Object(U.jsxs)(y.default,{flexDirection:"row",mt:4,children:[Object(U.jsx)(y.default,{children:Object(U.jsx)(v.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})}),Object(U.jsxs)(y.default,{flex:1,ml:3,children:[Object(U.jsx)(g.default,{typography:"Body2Strong",color:"text-default",children:i.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget"})}),Object(U.jsx)(g.default,{typography:"Body2",color:"text-subdued",children:i.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget_dsc"})})]})]})]}),Object(U.jsx)(y.default,{mt:"24px",pt:"8px",borderTopWidth:E.default.hairlineWidth,borderTopColor:"border-subdued",children:Object(U.jsx)(S.default,{type:"plain",size:"base",onPress:function(){return r()},children:i.formatMessage({id:"msg__enter_passphrase_on_device"})})})]}))},$=n(109),J=n(80),ee=n(716),te=function(e){var t=e.deviceConnectId,n=e.onClose,r=Object(A.default)(),o=p.default.serviceHardware,a=Object(C.useCallback)((function(){setTimeout((function(){return Object(O.showDialog)(Object(U.jsx)(ee.default,{onHandler:function(){return o.applySettings(t,{usePassphrase:!1}).catch((function(e){J.deviceUtils.showErrorToast(e)}))}}))}),100)}),[t,o]);return Object(U.jsx)($.default,{visible:!0,onClose:n,contentProps:{title:r.formatMessage({id:"dialog__device_has_enabled_passphrase"}),content:r.formatMessage({id:"dialog__device_has_enabled_passphrase_desc"}),iconName:"LockClosedMini",iconType:"success"},footerButtonProps:{primaryActionTranslationId:"action__disable",onSecondaryActionPress:function(){return null==n?void 0:n()},onPrimaryActionPress:function(){null==n||n(),a()}}})},ne=n(111),re=n(16),oe=function(e){var t=e.connectId,n=e.content,r=e.onClose,o=Object(ne.default)();return Object(U.jsx)($.default,{visible:!0,onClose:r,contentProps:{title:n,iconName:"UploadOutline",iconType:"warning"},footerButtonProps:{primaryActionTranslationId:"action__update_now",onSecondaryActionPress:function(){return null==r?void 0:r()},onPrimaryActionPress:function(){null==r||r(),o.navigate(re.RootRoutes.Modal,{screen:re.ModalRoutes.HardwareUpdate,params:{screen:re.HardwareUpdateModalRoutes.HardwareUpdateInfoModel,params:{connectId:t,recheckFirmwareUpdate:!0}}})}}})},ae=n(1254),ie=function(e){var t=e.deviceConnectId,n=e.onClose;return Object(U.jsx)(ae.default,{deviceConnectId:t,onClose:n,onSuccess:n,onError:function(e){J.deviceUtils.showErrorToast(e),null==n||n()}})},ce=n(336),se=n(1255),le=n(1256),ue=n(2511),de=n(1257),fe=["deviceType","bootLoader"];function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){switch(e){case"classic":return se;case"mini":return le;case"touch":return de;case"pro":return ue;default:}},he=function(e){var t=e.deviceType,n=e.bootLoader,r=I()(e,fe),o=Object(A.default)();return Object(U.jsxs)(G,be(be({},r),{},{children:[Object(U.jsx)(ce.default,{source:me(t),autoPlay:!0,loop:!0,style:{width:"100%"}}),Object(U.jsx)(g.default,{typography:"DisplayMedium",mt:6,textAlign:"center",color:"text-default",children:n?o.formatMessage({id:"msg__firmware_is_being_upgraded"}):o.formatMessage({id:"modal__confirm_on_device"})})]}))},je=n(2512),Oe=n(2513),ge=n(2514),ve=n(2515),ye=["connectId","deviceType","passphraseState"];function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=function(e){switch(e){case"classic":return je;case"mini":return Oe;case"touch":return ve;case"pro":return ge;default:}},ke=function(e){var t=e.connectId,n=e.deviceType,r=e.passphraseState,o=I()(e,ye),a=Object(A.default)(),i=p.default.dispatch;Object(M.useKeepAwake)();var c=Object(C.useState)(!0),s=_()(c,2),l=s[0],u=s[1];return Object(C.useEffect)((function(){i(Object(R.setPendingRememberWalletConnectId)(l?void 0:t))}),[t,i,l]),Object(U.jsxs)(G,we(we({},o),{},{children:[Object(U.jsx)(D.SkipAppLock,{}),Object(U.jsx)(ce.default,{source:_e(n),autoPlay:!0,loop:!0,style:{width:"100%"}}),Object(U.jsx)(g.default,{typography:"DisplayMedium",mt:6,textAlign:"center",color:"text-default",children:a.formatMessage({id:"msg__enter_passphrase_on_device"})}),r?null:Object(U.jsxs)(y.default,{mt:6,children:[Object(U.jsxs)(y.default,{flexDirection:"row",children:[Object(U.jsx)(y.default,{children:Object(U.jsx)(x.default,{isChecked:l,onChange:u})}),Object(U.jsxs)(y.default,{flex:1,children:[Object(U.jsx)(g.default,{typography:"Body2Strong",color:"text-default",children:a.formatMessage({id:"action__remove_when_exit"})}),Object(U.jsx)(g.default,{typography:"Body2",color:"text-subdued",children:a.formatMessage({id:"action__remove_when_exit_desc"})})]})]}),Object(U.jsxs)(y.default,{flexDirection:"row",mt:4,children:[Object(U.jsx)(y.default,{children:Object(U.jsx)(v.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})}),Object(U.jsxs)(y.default,{flex:1,ml:3,children:[Object(U.jsx)(g.default,{typography:"Body2Strong",color:"text-default",children:a.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget"})}),Object(U.jsx)(g.default,{typography:"Body2",color:"text-subdued",children:a.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget_dsc"})})]})]})]})]}))},Ie=n(1348),Se=n(368),Te=n(27),Pe=n(1258),Ce=n(1259),Me=n(2516),Ae=n(1260),Ee=n(151),De=function(e){switch(e){case"classic":return Pe;case"mini":return Ce;case"touch":return Ae;case"pro":return Me;default:}},Re=function(e){var t=e.onConfirm,n=e.onDeviceInput,r=Object(A.default)(),o=Object(C.useState)(""),a=_()(o,2),i=a[0],c=a[1],s=Object(C.useState)(""),l=_()(s,2),u=l[0],d=l[1];return Object(C.useEffect)((function(){d(i.replace(/\d/g,"\u25cf"))}),[i]),Object(U.jsxs)(y.default,{width:"full",height:"auto",style:{userSelect:"none"},children:[Object(U.jsx)(Te.default.Heading,{children:r.formatMessage({id:"modal__enter_pin"})}),Object(U.jsx)(Te.default.Body2,{color:"text-subdued",mt:"4px",children:r.formatMessage({id:"modal__enter_pin_desc"})}),Object(U.jsx)(y.default,{w:"full",my:6,children:Object(U.jsx)(Se.default,{isReadOnly:!0,size:"xl",maxLength:9,type:"text",w:"100%",value:u,rightElement:Object(U.jsx)(B.default,{onPress:function(){return c(i.slice(0,-1))},size:"xl",type:"plain",name:"BackspaceOutline"})})}),Object(U.jsx)(Ie.default,{keys:["7","8","9","4","5","6","1","2","3"],secure:!0,pattern:/^[1-9]{1,9}$/,text:i,onTextChange:function(e){c((function(){return e}))}}),Object(U.jsx)(S.default,{mt:6,size:"xl",type:"primary",isDisabled:0===i.length,onPress:function(){null==t||t(i)},children:r.formatMessage({id:"action__ok"})}),Object(U.jsx)(S.default,{type:"plain",size:"base",mt:3,onPress:function(){return n()},children:r.formatMessage({id:"msg__enter_pin_on_device"})})]})},Ne=function(e){var t=e.deviceType,n=e.onDeviceInput,r=e.onCancel,o=e.onConfirm,a=e.onDeviceInputChange,i=Object(A.default)(),c=Object(C.useState)(n),s=_()(c,2),l=s[0],u=s[1];Object(C.useEffect)((function(){null==a||a(l)}),[l,a]);var d=Object(C.useMemo)((function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce.default,{source:De(t),autoPlay:!0,loop:!0,style:{width:"100%"}}),Object(U.jsx)(g.default,{typography:"DisplayMedium",mt:6,textAlign:"center",color:"text-default",children:i.formatMessage({id:"modal__input_pin_code"})})]})}),[t,i]);return Object(U.jsx)(G,{onCancel:function(){null==r||r(),l||Ee.appUIEventBus.emit(Ee.AppUIEventBusNames.HardwareCancel)},mobileFillWidth:!l,closeWay:l?"delay":"now",borderBottomRadius:j.default.isNativeAndroid&&!l?"0px":"12px",children:l?d:Object(U.jsx)(Re,{onConfirm:function(e){null==o||o(e)},onDeviceInput:function(){null==u||u(!0)}})})},Le=n(277);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=null;function He(){Ue&&(Ue.destroy(),Ue=null)}var We="",Ve=0;function ze(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=c()((function*(e){var t=e.uiRequest,n=e.payload,o=e.content;if(t){var a=Date.now(),i=JSON.stringify({uiRequest:t,payload:n});if(!(a-Ve<1e3&&We===i)){Ve=a,We=i;var g,v,y,x,w="normal",_=p.default.engine,k=p.default.serviceHardware,I=function(){He(),c()((function*(){try{var e,t=null!=(e=null==n?void 0:n.deviceConnectId)?e:"";yield k.cancel(t),yield k.getFeatures(t)}catch(r){}}))()},S=(yield Object(h.CoreSDKLoader)()).UI_RESPONSE;if(t===Le.CUSTOM_UI_RESPONSE.CUSTOM_REQUEST_PIN_ON_DEVICE){var T,P=null!=(T=null==n?void 0:n.deviceType)?T:"classic";k.sendUiResponse({type:S.RECEIVE_PIN,payload:"@@ONEKEY_INPUT_PIN_IN_DEVICE"}),g=Object(U.jsx)(Ne,{deviceType:P,onDeviceInput:!0,onCancel:function(){I()},onConfirm:function(e){null==k||k.sendUiResponse({type:S.RECEIVE_PIN,payload:e}),He()},onDeviceInputChange:function(){}})}if(t===Le.UI_REQUEST.REQUEST_PIN){var C,M=null!=(C=null==n?void 0:n.deviceType)?C:"classic",A=!0;if(null!=n&&n.deviceId)try{var E,D,R=yield _.getHWDeviceByDeviceId(null==n?void 0:n.deviceId);A=null!=(E=null==R||null==(D=R.payload)?void 0:D.onDeviceInputPin)?E:!n.supportInputPinOnSoftware}catch(Z){A=!n.supportInputPinOnSoftware}if(A)return void setTimeout((function(){ze({uiRequest:Le.CUSTOM_UI_RESPONSE.CUSTOM_REQUEST_PIN_ON_DEVICE,payload:n,content:o})}));w="inputPin",g=Object(U.jsx)(Ne,{deviceType:M,onDeviceInput:A,onCancel:function(){I()},onConfirm:function(e){null==k||k.sendUiResponse({type:S.RECEIVE_PIN,payload:e}),He()},onDeviceInputChange:function(e){w=A?"normal":"inputPin",e&&(He(),setTimeout((function(){ze({uiRequest:Le.CUSTOM_UI_RESPONSE.CUSTOM_REQUEST_PIN_ON_DEVICE,payload:n,content:o})})))}})}if(t===Le.UI_REQUEST.REQUEST_BUTTON){var N,L=null!=(N=null==n?void 0:n.deviceType)?N:"classic";g=Object(U.jsx)(he,{deviceType:L,bootLoader:null==n?void 0:n.deviceBootLoaderMode,onCancel:function(){I()}})}if(t===Le.UI_REQUEST.REQUEST_PASSPHRASE_ON_DEVICE){var B,F,H=null!=(B=null==n?void 0:n.deviceType)?B:"classic";w="inputPassphrase",g=Object(U.jsx)(ke,{connectId:null!=(F=null==n?void 0:n.deviceConnectId)?F:"",deviceType:H,passphraseState:null==n?void 0:n.passphraseState,onCancel:function(){I()}})}if(t===Le.UI_REQUEST.REQUEST_PASSPHRASE){var W,V=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==k||k.sendUiResponse({type:S.RECEIVE_PASSPHRASE,payload:{value:t?"":e,passphraseOnDevice:t,save:!1}}),He()};g=Object(U.jsx)(Q,{connectId:null!=(W=null==n?void 0:n.deviceConnectId)?W:"",passphraseState:null==n?void 0:n.passphraseState,onConfirm:function(e){return V(e)},onDeviceInput:function(){return V("",!0)},onCancel:function(){I()}})}if(t!==Le.CUSTOM_UI_RESPONSE.CUSTOM_NEED_UPGRADE_FIRMWARE)if(t!==Le.CUSTOM_UI_RESPONSE.CUSTOM_NEED_CLOSE_PASSPHRASE)if(t!==Le.CUSTOM_UI_RESPONSE.CUSTOM_NEED_OPEN_PASSPHRASE)if(t!==Le.CUSTOM_UI_RESPONSE.CUSTOM_NEED_ONEKEY_BRIDGE)if(t!==Le.CUSTOM_UI_RESPONSE.CUSTOM_FORCE_UPGRADE_FIRMWARE){if(t!==Le.UI_REQUEST.LOCATION_PERMISSION&&t!==Le.UI_REQUEST.BLUETOOTH_PERMISSION){if(t===Le.UI_REQUEST.LOCATION_SERVICE_PERMISSION&&Object(O.showDialog)(Object(U.jsx)(m.default,{type:"locationService",onClose:function(){He()}})),!g)return setTimeout((function(){He()}));var z=j.default.isNativeIOS?42:10,G=function(){var e="center",t=0;return"inputPin"===w?(e="center",t=0):(e="flex-start",t=z),{justifyContent:e,marginTop:t}};return setTimeout((function(){var e=Object(U.jsx)(r.default,{style:{zIndex:9999,flex:1},children:Object(U.jsxs)(s.View,{from:{opacity:0},animate:{opacity:1},style:Fe({flex:1,alignItems:"center",top:0,padding:0,margin:0},G()),children:[Object(U.jsx)(f.CloseBackDrop,{backgroundColor:"#00000066"}),g]})});Ue?Ue.update(e):Ue=new d.default(e)})),Ue}if((yield u.default.Version>=31?l.default.check(l.default.PERMISSIONS.BLUETOOTH_SCAN):l.default.check(l.default.PERMISSIONS.ACCESS_FINE_LOCATION))||j.default.isNativeIOS)return void Object(O.showDialog)(Object(U.jsx)(m.default,{type:"bluetooth",onClose:function(){He()}}));var K=yield u.default.Version>=31?l.default.request(l.default.PERMISSIONS.BLUETOOTH_SCAN):l.default.request(l.default.PERMISSIONS.ACCESS_FINE_LOCATION);K===l.default.RESULTS.NEVER_ASK_AGAIN||K===l.default.RESULTS.DENIED?Object(O.showDialog)(Object(U.jsx)(m.default,{type:u.default.Version>=31?"bluetooth":"location",onClose:function(){He()}})):He()}else{var q;Object(O.showDialog)(Object(U.jsx)(oe,{connectId:null!=(q=null==n?void 0:n.deviceConnectId)?q:"",content:null!=o?o:"",onClose:function(){He()}}))}else Object(O.showDialog)(Object(U.jsx)(b.default,{}));else Object(O.showDialog)(Object(U.jsx)(ie,{deviceConnectId:null!=(v=null==n?void 0:n.deviceConnectId)?v:"",onClose:function(){He()}}));else Object(O.showDialog)(Object(U.jsx)(te,{deviceConnectId:null!=(y=null==n?void 0:n.deviceConnectId)?y:"",onClose:function(){He()}}));else Object(O.showDialog)(Object(U.jsx)(oe,{connectId:null!=(x=null==n?void 0:n.deviceConnectId)?x:"",content:null!=o?o:"",onClose:function(){He()}}))}}}))).apply(this,arguments)}},1217:function(e,t,n){"use strict";n.r(t),n.d(t,"FAKE_ALL_NETWORK",(function(){return r}));var r={id:"all--0",impl:"all",chainId:"0",code:"allnetworks",defaultEnabled:!0,isTestnet:!1,priceConfigs:[],explorers:[],rpcURLs:[],feeMeta:{symbol:"allnetwork",decimals:0,code:"allnetwork"},balance2FeeDecimals:0,decimals:0,status:"LISTED",name:"All Networks",symbol:"All Networks",shortname:"All Networks",shortcode:"allnetworks",extensions:{},clientApi:{},logoURI:"https://common.onekey-asset.com/chain/all.png"}},1218:function(e,t,n){"use strict";n.r(t),n.d(t,"fiatMoneySlice",(function(){return l})),n.d(t,"updateFiatMoneyMap",(function(){return u}));var r=n(3),o=n.n(r),a=n(1007),i=n.n(a),c=n(128);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=Object(c.createSlice)({name:"fiatMoney",initialState:{symbolList:[],map:{}},reducers:{updateFiatMoneyMap:function(e,t){var n=Object.keys(t.payload);i()(e.symbolList,n)||(e.symbolList=n);var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.payload);i()(e.map,r)||(e.map=r)}}}),u=l.actions.updateFiatMoneyMap;t.default=l.reducer},1242:function(e,t,n){"use strict";n.r(t),n.d(t,"TransactionSendContextProvider",(function(){return s})),n.d(t,"useTransactionSendContext",(function(){return l}));var r=n(4),o=n.n(r),a=n(1),i=n(0),c=Object(a.createContext)(null);function s(e){var t=e.children,n=Object(a.useState)({}),r=o()(n,2),s=r[0],l=r[1],u=Object(a.useMemo)((function(){return{isTransactionSendFlow:!0,context:s,setContext:l}}),[s]);return Object(i.jsx)(c.Provider,{value:u,children:t})}function l(){return Object(a.useContext)(c)}},1254:function(e,t,n){"use strict";n.r(t);var r=n(109),o=n(215),a=n(4),i=n.n(a),c=n(1),s=n(88),l=n(17),u=n(80),d=n(99),f=n(716),p=n(0);t.default=function(e){var t=e.deviceConnectId,n=e.onClose,a=e.onSuccess,b=e.onError,m=Object(s.default)(),h=l.default.serviceHardware,j=Object(c.useState)(!1),O=i()(j,2),g=O[0],v=O[1],y=Object(c.useCallback)((function(){setTimeout((function(){return Object(d.showDialog)(Object(p.jsx)(f.default,{onHandler:function(){return h.applySettings(t,{usePassphrase:!0}).then((function(){null==a||a()})).catch((function(e){null==b||b(e),setTimeout((function(){u.deviceUtils.showErrorToast(e)}),500)}))}}))}),100)}),[t,b,a,h]);return Object(p.jsx)(r.default,{visible:!0,onClose:n,contentProps:{title:m.formatMessage({id:"dialog__device_has_disabled_passphrase"}),content:m.formatMessage({id:"dialog__device_has_disabled_passphrase_desc"}),iconType:"warning",input:Object(p.jsx)(o.default,{w:"full",mt:"4",isChecked:g,defaultIsChecked:!1,onChange:function(e){v(e)},title:m.formatMessage({id:"dialog__device_has_desabled_passphrase_double_check"})})},footerButtonProps:{primaryActionTranslationId:"action__enable",onSecondaryActionPress:function(){return null==n?void 0:n()},primaryActionProps:{disabled:!g,isDisabled:!g},onPrimaryActionPress:function(){y()}}})}},1285:function(e,t,n){"use strict";n.r(t),n.d(t,"normalRouteWhiteList",(function(){return g}));var r=n(3),o=n.n(r),a=n(698),i=n.n(a),c=n(44),s=n(276),l=(n(24),n(101)),u=n(998),d=n(334),f=n(297),p=n(16),b=n(1174);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=s.createURL("/");function O(e){return p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+e+"/"+Object(b.buildAppRootTabName)(e)}var g=[{screen:p.RootRoutes.Onboarding+"/"+d.EOnboardingRoutes.Welcome},{screen:""+p.RootRoutes.Onboarding},{screen:""+p.RootRoutes.OnLanding,path:f.linkingPathMap.onLanding},{screen:""+p.RootRoutes.OnLandingWalletConnect,path:f.linkingPathMap.walletConnectUniversalLink,exact:!0},{screen:""+p.RootRoutes.Account,path:f.linkingPathMap.watchingAccountAdding,exact:!0},{screen:O(p.TabRoutes.Home),path:f.linkingPathMap.tabHome,exact:!0},{screen:O(p.TabRoutes.NFT),path:f.linkingPathMap.tabNFT,exact:!0},{screen:O(p.TabRoutes.Market),path:f.linkingPathMap.tabMarket,exact:!0},{screen:O(p.TabRoutes.Swap),path:f.linkingPathMap.tabSwap,exact:!0},{screen:O(p.TabRoutes.Me),path:f.linkingPathMap.tabMe,exact:!0},{screen:O(p.TabRoutes.Discover),path:f.linkingPathMap.tabDiscover,exact:!0},{screen:O(p.TabRoutes.Developer),path:f.linkingPathMap.tabDeveloper,exact:!0},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.SubmitRequest+"/"+p.SubmitRequestModalRoutes.SubmitRequestModal},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.DappConnectionModal+"/"+p.DappConnectionModalRoutes.ConnectionModal},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.DappConnectionModal+"/"+p.DappConnectionModalRoutes.NetworkNotMatchModal},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.ManageNetwork+"/"+p.ManageNetworkModalRoutes.AddNetworkConfirm},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.ManageNetwork+"/"+p.ManageNetworkModalRoutes.SwitchNetwork},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.ManageNetwork+"/"+p.ManageNetworkModalRoutes.SwitchRpc},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.ManageToken+"/"+p.ManageTokenModalRoutes.AddToken},{screen:p.RootRoutes.Modal+"/"+p.ModalRoutes.Send+"/"+p.SendModalRoutes.SendConfirmFromDapp},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.Home+"/"+p.HomeRoutes.RevokeRedirect,path:f.legacyLinkingPathMap.revokeMobile,exact:!0},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.Home+"/"+p.HomeRoutes.RevokeRedirect2,path:f.legacyLinkingPathMap.revokeDesktop,exact:!0},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.Home+"/"+p.HomeRoutes.ScreenTokenDetail,path:f.linkingPathMap.tokenDetail,exact:!0},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.Home+"/"+p.HomeRoutes.Revoke,path:f.linkingPathMap.revoke,exact:!0},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.Market+"/"+p.HomeRoutes.MarketDetail,path:f.linkingPathMap.marketDetail,exact:!0},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.Home+"/"+p.HomeRoutes.NFTPNLScreen,path:f.linkingPathMap.pnlAtHome,exact:!0},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.NFT+"/"+p.HomeRoutes.NFTPNLScreen,path:f.linkingPathMap.pnlAtNFT,exact:!0},{screen:p.RootRoutes.Main+"/"+p.MainRoutes.Tab+"/"+p.TabRoutes.Home+"/"+p.HomeRoutes.BulkSender,path:f.linkingPathMap.bulkSender,exact:!0},{screen:""+p.RootRoutes.Main,path:"/",exact:!0}];function v(e){return"/"+e}var y=function(e){return e.reduce((function(e,t){return i()(e,function e(t){var n,r=t.screenListStr,o=t.path,a=t.exact,i=t.fullPath,c=r.split("/").filter(Boolean),s=o;!s&&r&&(s=v(r));var l=(s||"").split("/").filter(Boolean);if(!c.length||!l.length&&!a)return{};var u=c[0],d=l[0]||u,f=1===c.length,p=Boolean(f&&a);return(n={})[u]={path:p?i:"/"+d,exact:p,screens:e({screenListStr:c.slice(1).join("/"),path:l.slice(1).join("/"),fullPath:i,exact:a})},n}({screenListStr:t.screen,path:t.path,exact:t.exact,fullPath:t.path}))}),{})};var x=function(){var e=[].concat(g);return e.forEach((function(e){e.path=e.path||v(e.screen)})),e}();t.default=function(){var e=y(g);return{enabled:!0,prefixes:[j,l.ONEKEY_APP_DEEP_LINK,l.WALLET_CONNECT_DEEP_LINK],getPathFromState:function(e,t){Object(u.getExtensionIndexHtml)();var n="/",r=Object(c.getPathFromState)(e,t),o=r.split("?")[0]||"";return x.some((function(e){return o&&e.path===o}))&&(n=r),n},config:{initialRouteName:p.RootRoutes.Main,screens:h(h({},e),{},{NotFound:"*"})}}}},1291:function(e,t,n){"use strict";n.r(t);var r=n(474),o=n(54),a=n(47),i=n(183),c=n(4),s=n.n(c),l=n(126),u=n(50),d=n(1),f=n(21),p=n.n(f),b=n(88),m=n(341),h=n(285),j=n(593),O=n(19),g=n(24),v=n(17),y=n(594),x=n(80),w=n(99),_=n(553),k=n(0),I=function(e){var t=e.walletId,n=e.networkId,r=e.accountId,c=e.template,f=e.onConfirm,h=Object(b.default)(),x=Object(u.default)(),w=Object(l.default)({defaultValues:{derivationType:"",accountIndex:"",addressIndex:""},mode:"onChange"}),I=w.control,S=w.handleSubmit,T=w.setValue,P=Object(d.useState)(null),C=s()(P,2),M=C[0],A=C[1];Object(d.useEffect)((function(){r&&n&&v.default.engine.getAccount(r,n).then((function(e){A(e)}))}),[r,n]);var E=Object(d.useMemo)((function(){return!!r&&!!M}),[r,M]);Object(d.useEffect)((function(){if(M){var e=M.path.split("/")[3].slice(0,-1);T("accountIndex",null!=e?e:"")}}),[M,T]);var D=Object(y.useDerivationPath)(t,n).derivationOptions,R=Object(d.useState)(null),N=s()(R,2),L=N[0],B=N[1];Object(d.useEffect)((function(){if(!L){var e=D.find((function(e){return e.template===(null==M?void 0:M.template)||e.template===c}));e&&B(e)}}),[D,null==M?void 0:M.template,L,c]),Object(d.useEffect)((function(){L&&"string"===typeof L.label&&T("derivationType",L.label)}),[L,T]);var F=Object(d.useCallback)((function(){E||Object(j.default)({type:"search",walletId:t,networkId:n,onSelect:function(e){return B(e)}})}),[n,t,E]),U=Object(d.useCallback)((function(e){if(L){var r=L.category,o=t+"--m/"+r+"/"+e.accountIndex+"'";v.default.engine.getAccount(o,n).then((function(t){f({error:null,data:{derivationOption:L,addressIndex:e.addressIndex,accountIndex:e.accountIndex,account:t}})})).catch((function(t){O.default.common.debug("can not find account, will create one: ",t),f({error:null,data:{derivationOption:L,addressIndex:e.addressIndex,accountIndex:e.accountIndex,account:null}})}))}}),[L,n,t,f]),H=function(e){var t=0;if("string"===typeof e)try{t=parseInt(e)}catch(n){return!1}return"number"===typeof t&&Number.isFinite(t)&&Math.floor(t)===t},W=Object(d.useCallback)((function(e){if(H(e))return{max:_.FROM_INDEX_MAX,error:new p.a(e).isGreaterThan(_.FROM_INDEX_MAX)}}),[]),V=Object(d.useMemo)((function(){return{required:{value:!0,message:h.formatMessage({id:"form__field_is_required"})},min:{value:0,message:h.formatMessage({id:"form__field_too_small"},{0:0})},pattern:{value:/^[0-9]*$/,message:h.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!H(e))return h.formatMessage({id:"form__field_is_required"});if("boolean"!==typeof e){var t=W(e);if(null!=t&&t.error)return h.formatMessage({id:"form__field_too_large"},{0:null==t?void 0:t.max})}}}}),[W,h]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(i.default,{title:h.formatMessage({id:"msg__remember_your_path_settings"}),description:h.formatMessage({id:"msg__remember_your_path_settings_desc"}),dismiss:!1,alertType:"info",customIconName:"InformationCircleMini"}),Object(k.jsxs)(a.default,{my:6,children:[Object(k.jsx)(m.default,{onPress:F,isDisabled:E,children:Object(k.jsx)(a.default.Item,{name:"derivationType",control:I,children:Object(k.jsx)(a.default.Input,{size:x?"xl":"default",rightIconName:"ChevronDownMini",isReadOnly:!0,isDisabled:E,onPressRightIcon:F,onPressIn:g.default.isNativeIOS?F:void 0})})}),Object(k.jsx)(a.default.Item,{name:"accountIndex",control:I,label:h.formatMessage({id:"form__account"}),rules:V,children:Object(k.jsx)(a.default.Input,{type:"number",keyboardType:"number-pad",size:x?"xl":"default",isReadOnly:E,isDisabled:E})}),Object(k.jsx)(a.default.Item,{name:"addressIndex",control:I,label:"Address_index",rules:V,children:Object(k.jsx)(a.default.Input,{type:"number",keyboardType:"number-pad",size:x?"xl":"default"})})]}),Object(k.jsx)(o.default,{type:"primary",size:x?"xl":"base",onPress:S(U),children:h.formatMessage({id:"action__add"})})]})};t.default=function(e){var t=e.walletId,n=e.networkId,o=e.accountId,a=e.template,i=e.onConfirm;Object(w.showOverlay)((function(e){return Object(k.jsx)(r.default,{title:Object(h.formatMessage)({id:"action__find_address_by_path"}),closeOverlay:e,modalLizeProps:{avoidKeyboardLikeIOS:!1},children:Object(k.jsx)(I,{walletId:t,networkId:n,accountId:o,template:a,onConfirm:function(t){var n=t.error,r=t.data;null==e||e(),n?x.deviceUtils.showErrorToast(n):i({error:n,data:r})}})})}))}},1292:function(e,t,n){"use strict";n.r(t),n.d(t,"useCreateBtcCustomAccount",(function(){return s}));var r=n(2),o=n.n(r),a=n(1),i=n(17),c=n(80);function s(e){var t=e.walletId,n=e.networkId;return{onCreateAccountByAddressIndex:Object(a.useCallback)(function(){var e=o()((function*(e){var r=e.password,o=e.derivationOption,a=e.accountIndex,s=e.addressIndex,l=e.account,u=e.onAddedCustomAddressCallback;try{var d,f=l;if(!l&&a){var p,b,m,h=parseInt(null!=(p=null==o||null==(b=o.category)||null==(m=b.split("'/"))?void 0:m[0])?p:"44"),j=yield i.default.serviceAccount.addHDAccounts(r,t,n,[Number(a)],void 0,h,!0,null==o?void 0:o.template,!0);f=null==j?void 0:j[0]}if(f)yield i.default.serviceDerivationPath.createAccountByCustomAddressIndex({accountId:f.id,networkId:n,password:r,addressIndex:null!=s?s:"",account:f,template:null!=(d=null==o?void 0:o.template)?d:""}),null==u||u(f.id)}catch(O){c.deviceUtils.showErrorToast(O)}}));return function(t){return e.apply(this,arguments)}}(),[t,n])}}},1296:function(e,t,n){"use strict";n.r(t),n.d(t,"showAllNetworksAccountDerivationsSelector",(function(){return v}));var r=n(3),o=n.n(r),a=n(262),i=n(89),c=n(63),s=n(27),l=n(12),u=n(1),d=n(88),f=n(108),p=n(99),b=n(771),m=n(0);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(){return Object(m.jsx)(l.default,{h:"2"})},g=function(e){var t=e.accounts,n=e.onConfirm,r=e.onClose,o=e.network,l=Object(d.default)(),p=Object(u.useCallback)((function(e){var t,a,u,d,p=e.item,b=null==(t=Object.values(null!=(u=null==o||null==(d=o.settings)?void 0:d.accountNameInfo)?u:{}))||null==t.find||null==(a=t.find((function(e){return e.template===p.template})))?void 0:a.label;return"object"===typeof b&&b.id&&(b=l.formatMessage({id:b.id})),Object(m.jsx)(i.default,{onPress:function(){n(p),null==r||r()},children:Object(m.jsx)(i.default.Column,{children:Object(m.jsxs)(c.default,{children:[Object(m.jsx)(s.default.Body1Strong,{mb:"1",children:Object(f.shortenAddress)(p.address)}),Object(m.jsx)(s.default.Body2,{children:b})]})},p.id)})}),[l,o.settings,n,r]);return Object(m.jsx)(a.default,{data:t,renderItem:p,ItemSeparatorComponent:O,keyExtractor:function(e){return e.id}})},v=function(e){return Object(p.showOverlay)((function(t){return Object(m.jsx)(b.BottomSheetSettings,{titleI18nKey:"form__select_address",closeOverlay:t,children:Object(m.jsx)(g,j(j({},e),{},{onClose:t}))})}))}},1298:function(e,t,n){"use strict";n.r(t),n.d(t,"AllNetworksEmpty",(function(){return m})),n.d(t,"EmptyListOfAccount",(function(){return h}));var r=n(51),o=n(54),a=n(27),i=n(12),c=n(40),s=n(201),l=n(1600),u=n(88),d=n(69),f=n(25),p=n(16),b=n(0),m=function(){var e=Object(u.default)(),t=Object(f.useNavigationActions)().openAccountSelector;return Object(b.jsx)(s.default,{emoji:"\ud83d\udcb3",title:e.formatMessage({id:"empty__no_included_network"}),subTitle:e.formatMessage({id:"empty__no_included_network_desc"}),flex:1,actionTitle:e.formatMessage({id:"action__switch_account"}),handleAction:function(){t({})},mt:8})};function h(e){var t=e.network,n=e.accountId,s=Object(u.default)(),h=Object(f.useNavigation)();return Object(d.isAllNetworks)(null==t?void 0:t.id)?Object(b.jsx)(m,{}):Object(b.jsxs)(i.default,{flexDirection:"row",justifyContent:"space-between",children:[Object(b.jsx)(o.default,{flex:1,mr:"16px",alignItems:"flex-start",onPress:function(){var e;h.navigate(p.RootRoutes.Modal,{screen:p.ModalRoutes.FiatPay,params:{screen:p.FiatPayModalRoutes.SupportTokenListModal,params:{networkId:null!=(e=null==t?void 0:t.id)?e:"",accountId:n}}})},children:Object(b.jsxs)(i.default,{py:"24px",flexDirection:"column",alignItems:"center",children:[Object(b.jsx)(i.default,{w:"48px",h:"48px",borderRadius:"24px",bg:"surface-neutral-default",mb:"24px",overflow:"hidden",children:Object(b.jsx)(l.LinearGradient,{colors:["#64D36F","#33C641"],style:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},start:{x:0,y:0},end:{x:1,y:1},children:Object(b.jsx)(c.default,{name:"PlusOutline",color:"icon-on-primary"})})}),Object(b.jsx)(a.default.DisplayMedium,{mb:"4px",textAlign:"center",children:s.formatMessage({id:"action__buy_crypto"})}),Object(b.jsx)(a.default.Body2,{mb:"4px",color:"text-subdued",textAlign:"center",children:s.formatMessage({id:"action__buy_crypto_desc"})})]})}),Object(b.jsx)(o.default,{flex:1,alignItems:"flex-start",onPress:function(){h.navigate(p.RootRoutes.Modal,{screen:p.ModalRoutes.ManageToken,params:{screen:p.ManageTokenModalRoutes.Listing}})},children:Object(b.jsxs)(i.default,{py:"24px",flexDirection:"column",alignItems:"center",children:[Object(b.jsx)(r.default,{w:"48px",h:"48px",borderRadius:"24px",bg:"surface-neutral-default",mb:"24px",children:Object(b.jsx)(c.default,{name:"ViewGridAddMini"})}),Object(b.jsx)(a.default.DisplayMedium,{mb:"4px",textAlign:"center",children:s.formatMessage({id:"action__add_tokens"})}),Object(b.jsx)(a.default.Body2,{mb:"4px",color:"text-subdued",textAlign:"center",children:s.formatMessage({id:"action__add_tokens_desc"})})]})})]})}},1300:function(e,t,n){"use strict";n.r(t),n.d(t,"TxActionElementDetailCellTitleText",(function(){return f})),n.d(t,"TxActionElementDetailCellContentText",(function(){return p})),n.d(t,"TxActionElementDetailCell",(function(){return b}));var r=n(41),o=n(12),a=n(3),i=n.n(a),c=n(20),s=n(381),l=n(0);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return Object(l.jsx)(c.default,d({typography:"Body2Strong",color:"text-subdued"},e))}function p(e){return Object(l.jsx)(c.default,d({typography:"Body2Strong"},e))}function b(e){var t=e.title,n=e.content,a=e.extra,i=Object(s.fallbackTextComponent)(t,f),c=Object(s.fallbackTextComponent)(n,p);return a?Object(l.jsx)(o.default,{children:Object(l.jsxs)(r.default,{justifyContent:"space-between",alignItems:"center",children:[Object(l.jsxs)(o.default,{flex:1,children:[i,c]}),Object(l.jsx)(o.default,{children:a})]})}):Object(l.jsxs)(o.default,{children:[i,c]})}},1302:function(e,t,n){"use strict";n.r(t),n.d(t,"DappSecurityView",(function(){return m}));var r=n(12),o=n(41),a=n(63),i=n(27),c=n(40),s=n(4),l=n.n(s),u=n(1),d=n(88),f=n(17),p=n(0),b={is_open_source:"badge__not_open_source",malicious_contract:"badge__malicious_contract",malicious_creator:"badge__malicious_contract_creator",phishing_site:"badge__phishing_site"},m=function(e){var t,n,s,m=e.hostname,h=e.origin,j=e.networkId,O=Object(d.default)(),g=Object(u.useState)(),v=l()(g,2),y=v[0],x=v[1],w=Object(u.useCallback)((function(){f.default.serviceToken.getSiteSecurityInfo(h,j).then((function(e){return x(e)}))}),[h,j]);Object(u.useEffect)((function(){w()}),[w]);var _=Object(u.useMemo)((function(){return"undefined"===typeof y?Object(p.jsx)(c.default,{name:"QuestionMarkCircleMini",size:32}):0===(null==y?void 0:y.length)?Object(p.jsx)(c.default,{name:"BadgeCheckMini",size:32,color:"icon-success"}):Object(p.jsx)(c.default,{name:"ShieldExclamationMini",size:32,color:"icon-critical"})}),[y]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(o.default,{alignItems:"center",mt:"-2",w:"full",children:[_,Object(p.jsxs)(a.default,{ml:"3",flex:"1",children:[Object(p.jsx)(i.default.Body1Strong,{textTransform:"capitalize",children:null!=(t=null==m||null==(n=m.split("."))||null==n.reverse||null==(s=n.reverse())?void 0:s[1])?t:"N/A"}),Object(p.jsx)(i.default.Body2,{isTruncated:!0,maxW:"300px",children:m})]})]}),y&&(null==y?void 0:y.length)>0?Object(p.jsx)(o.default,{borderTopWidth:"1px",borderTopColor:"divider",alignItems:"center",flexWrap:"wrap",pt:"4",children:null==y?void 0:y.map((function(e){var t;return Object(p.jsx)(r.default,{bg:"surface-critical-subdued",py:"2px",px:"2",mr:"2",mb:"2",borderRadius:"6px",children:Object(p.jsx)(i.default.Body2Strong,{color:"text-critical",children:O.formatMessage({id:null!=(t=b[e])?t:""})})})}))}):null]})}},1303:function(e,t,n){"use strict";n.r(t),n.d(t,"getReplacedTxTextKey",(function(){return p})),n.d(t,"getReplacedTxAlertTextKeys",(function(){return b})),n.d(t,"TxActionElementReplacedTxText",(function(){return m}));var r=n(3),o=n.n(r),a=n(20),i=n(15),c=n.n(i),s=n(88),l=n(0),u=["historyTx"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t,n=e.historyTx;return"cancel"===(null==n?void 0:n.replacedType)&&(t="form__cancelled_transaction"),"speedUp"===(null==n?void 0:n.replacedType)&&(t="form__accelerated_transaction"),t}function b(e){var t=e.historyTx,n=[];return"cancel"===(null==t?void 0:t.replacedType)&&(n=["msg__this_is_a_transaction_for_cancellation","msg__this_is_a_transaction_for_cancellation_desc"]),"speedUp"===(null==t?void 0:t.replacedType)&&(n=["msg__this_is_an_accelerated_transaction","msg__this_is_an_accelerated_transaction_desc"]),n}function m(e){var t=e.historyTx,n=c()(e,u),r=Object(s.default)(),o=p({historyTx:t}),i=o?r.formatMessage({id:o}):"";return Object(l.jsx)(a.default,f(f({typography:"Body2",color:"text-subdued"},n),{},{children:i}))}},1309:function(e,t,n){"use strict";n.r(t),n.d(t,"getCustomFeeSpeedInfo",(function(){return a}));var r=n(21),o=n.n(r);function a(e){var t=e.custom,n=e.prices,r=e.isEIP1559Fee,a=e.waitingSeconds,i=0,c="0",s={price:n[0],waitingSeconds:a[0]},l={price:n[1],waitingSeconds:a[1]},u={price:n[2],waitingSeconds:a[2]};if(r){var d,f,p,b,m=new o.a(null!=(d=null==t||null==(f=t.price1559)?void 0:f.maxPriorityFeePerGas)?d:0);if(m.isGreaterThanOrEqualTo(null==(p=l.price)?void 0:p.maxPriorityFeePerGas))m.isLessThan(null==(b=u.price)?void 0:b.maxPriorityFeePerGas)?(i=l.waitingSeconds,c="1"):(i=u.waitingSeconds,c="2");else i=s.waitingSeconds,c="0"}else{var h,j,O=null!=t&&t.feeRate?new o.a(null!=(h=null==t?void 0:t.feeRate)?h:0).shiftedBy(-8):new o.a(null!=(j=null==t?void 0:t.price)?j:0);1===n.length?O.isGreaterThan(s.price)?(i=s.waitingSeconds-1,c="2"):O.isEqualTo(s.price)?(i=s.waitingSeconds,c="1"):(i=s.waitingSeconds+1,c="0"):O.isGreaterThanOrEqualTo(l.price)?O.isLessThan(u.price)?(i=l.waitingSeconds,c="1"):(i=u.waitingSeconds,c="2"):(i=s.waitingSeconds,c="0")}return{customSimilarToPreset:c,customWaitingSeconds:i}}},1311:function(e,t,n){"use strict";n.r(t),n.d(t,"UNKNOWN_ACTION_ICON_NAME",(function(){return Ye})),n.d(t,"getTxActionMeta",(function(){return Qe}));var r=n(52),o=n(12),a=n(20),i=n(88),c=n(3),s=n.n(c),l=n(15),u=n.n(l),d=n(63),f=n(60),p=n.n(f),b=n(1),m=n(21),h=n.n(m),j=n(125),O=n(64),g=n(40),v=n(0);function y(e){var t=e.children,n=e.flex,r=e.icon;return Object(v.jsxs)(o.default,{flexDirection:"row",alignItems:"center",testID:"TxActionElementWithIcon",children:[Object(v.jsx)(o.default,{flex:n,maxW:"full",children:t}),!!r&&Object(v.jsx)(o.default,{ml:1,children:r})]})}function x(e){var t=e.flex,n=e.onPress,r=e.children,o=e.icon,a=void 0===o?Object(v.jsx)(g.default,{name:"ChevronRightMini",color:"icon-subdued",size:20}):o,i=Object(v.jsx)(y,{flex:t,icon:n?a:void 0,children:r});return n?Object(v.jsx)(O.default,{onPress:n,children:i}):i}var w=["direction","amount","symbol","onPress","decimals","subText"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t="",n="text-default";return e!==r.IDecodedTxDirection.SELF&&e!==r.IDecodedTxDirection.OUT||(t="-",n="text-default"),e===r.IDecodedTxDirection.IN&&(t="+",n="text-success"),{sign:t,color:n}}function S(e){var t=e.direction,n=e.amount,r=e.symbol,o=e.onPress,i=e.decimals,c=e.subText,s=u()(e,w),l=Object(b.useMemo)((function(){return I(t)}),[t]),f=Object(b.useMemo)((function(){if(n)return new h.a(n)}),[n]),m=Object(b.useMemo)((function(){return f&&n?p()(i)||f.isNaN()?n:(null==(e=Object(j.formatBalanceDisplay)(n,"",{fixed:i}))?void 0:e.amount)||n:"";var e}),[n,f,i]),O=Object(v.jsxs)(d.default,{flex:"1",children:[Object(v.jsxs)(a.default,k(k({testID:"TxActionElementAmount",numberOfLines:2,isTruncated:!0,color:l.color},s),{},{children:[l.sign,m," ",r]})),c]});return o?Object(v.jsx)(x,{onPress:o,flex:1,children:O}):O}function T(e){return Object(v.jsx)(S,k({typography:"Body2"},e))}function P(e){return Object(v.jsx)(S,k({typography:"Body1Strong"},e))}function C(e){return Object(v.jsx)(S,k({typography:"DisplayXLarge"},e))}var M=n(1050),A=n(643),E=n(723),D=n(496),R=n(41),N=n(1303),L=n(381),B=["decodedTx"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=e.decodedTx,n=u()(e,B),r=Object(i.default)(),o=Object(L.getTxStatusInfo)({decodedTx:t});return Object(v.jsx)(a.default,U(U({typography:"Body2",color:o.textColor},n),{},{children:r.formatMessage({id:o.text})}))}var W=n(1200);function V(e){var t=e.decodedTx;return t.status!==r.IDecodedTxStatus.Confirmed?Object(v.jsx)(H,{decodedTx:t}):void 0}function z(e){var t=e.decodedTx,n=V({decodedTx:t}),r=Object(v.jsx)(W.TxActionElementTime,{typography:"Body2",color:"text-subdued",timestamp:t.updatedAt||t.createdAt||0});return Object(v.jsxs)(R.default,{space:2,children:[n,r]})}function G(e){var t=e.historyTx,n=V({decodedTx:e.decodedTx}),r=null;null!=t&&t.replacedType&&(r=Object(v.jsx)(N.TxActionElementReplacedTxText,{historyTx:t}));var o=n||r?Object(v.jsxs)(R.default,{space:2,children:[n,r]}):void 0;return null!=o?o:null}var K=["amountInfo","decodedTx","content","icon","iconInfo","title","titleInfo","desc"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t,n,r,a=e.amountInfo,i=e.decodedTx,c=e.content,s=e.icon,l=e.iconInfo,d=e.title,f=e.titleInfo,p=e.desc,b=u()(e,K),m=Object(E.useTxDetailContext)(),h=null==m||null==(t=m.context)?void 0:t.isMultipleActions,j=null==m||null==(n=m.context)?void 0:n.isHistoryDetail,O=!h,g=p;a&&(r=Object(v.jsx)(C,{direction:a.direction,amount:a.amount,symbol:a.symbol,mb:4}),g=Object(v.jsx)(T,{direction:a.direction,amount:a.amount,symbol:a.symbol,decimals:8,color:"text-subdued",typography:"Body2Strong"}));var y,x,w=s;w||(w=Object(v.jsx)(M.TxActionElementIconLarge,{iconInfo:l,name:null!=(y=null==a?void 0:a.symbol)?y:""}),O&&(w=Object(v.jsx)(o.default,{py:"6px",children:Object(v.jsx)(M.TxActionElementIconXLarge,{iconInfo:l,name:null!=(x=null==a?void 0:a.symbol)?x:""})})));var _,k=d;return k||(k=Object(v.jsx)(A.TxActionElementTitleNormal,{titleInfo:f}),O&&(k=Object(v.jsx)(A.TxActionElementTitleHeading,{titleInfo:f}))),O&&j&&(_=Object(v.jsx)(z,{decodedTx:i})),Object(v.jsx)(D.TxDetailActionBox,Z(Z({},b),{},{content:r||c,icon:w,title:k,subTitle:_,desc:g,isSingleTransformMode:O,showTitleDivider:!O}))}var Y=n(260),Q=n(212);function $(e){var t,n,o,a,i,c,s,l,u,d,f=e.action,p="",b="",m="",h="",j=[];f.type===r.IDecodedTxActionType.FUNCTION_CALL&&(p=null!=(t=null==(n=f.functionCall)?void 0:n.target)?t:"",b=null!=(o=null==(a=f.functionCall)?void 0:a.functionName)?o:"",m=null!=(i=null==(c=f.functionCall)?void 0:c.functionHash)?i:"",h=null!=(s=null==(l=f.functionCall)?void 0:l.functionSignature)?s:"",j=null!=(u=null==(d=f.functionCall)?void 0:d.args)?u:[]);return{titleInfo:{titleKey:"form__contract_data"},target:p,functionName:b,functionHash:m,functionSignature:h,args:j}}function J(e){var t=e.meta,n=e.decodedTx,r=Object(i.default)(),c=$(e),s=c.target,l=c.args,u=c.functionName,d=[{title:r.formatMessage({id:"content__token_approve_owner"}),content:Object(v.jsx)(Q.TxActionElementAddressNormal,{isShorten:!1,address:s})},{title:r.formatMessage({id:"form__contract"}),content:Object(v.jsx)(a.default,{typography:{sm:"Caption",md:"Caption"},flex:1,overflowWrap:"anywhere",children:u})},{title:r.formatMessage({id:"form__contract_data"}),content:Object(v.jsx)(o.default,{children:l.map((function(e){return Object(v.jsx)(a.default,{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",flex:1,overflowWrap:"anywhere",children:e})}))})}];return Object(v.jsx)(X,{decodedTx:n,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,details:d})}function ee(e){var t=e.meta,n=e.decodedTx,r=e.historyTx,o=Object(i.default)(),a=$(e),c=a.target,s=a.functionName,l=Object(v.jsx)(G,{decodedTx:n,historyTx:r});return Object(v.jsx)(Y.TxListActionBox,{footer:l,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,content:Object(v.jsx)(Q.TxActionElementAddressNormal,{isShorten:!1,address:c,isCopy:!1}),subTitle:o.formatMessage({id:"form__contract"}),extra:Object(v.jsx)(Q.TxActionElementAddressNormal,{isShorten:!1,address:s,isCopy:!1})})}var te=n(89),ne=n(44),re=n(108),oe=n(16),ae=n(106),ie=n(1307),ce=n.n(ie),se=n(36),le=n(1498),ue=["direction","title","onPress","subText"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e){var t=e.asset;if(null!=t&&t.content_type.startsWith(le.InscriptionContentType.Text)||t.networkId===se.OnekeyNetwork.tbtc)return Object(v.jsx)(ae.default,{source:ce.a,size:"40px"});var n=Object(le.getBTCListComponent)({data:t,isList:!0}).Component;return Object(v.jsx)(n,{asset:t,borderRadius:"8px",size:"32px"})}function be(e){var t=e.direction,n=e.title,r=e.onPress,o=e.subText,i=u()(e,ue),c=I(t).color,s=Object(v.jsxs)(d.default,{flex:"1",children:[Object(v.jsx)(a.default,fe(fe({testID:"TxActionElementInscriptionContent",numberOfLines:2,isTruncated:!0,color:c},i),{},{children:n})),o]});return r?Object(v.jsx)(x,{onPress:r,flex:1,children:s}):s}function me(e){var t,n,o=e.action,a=e.decodedTx,i=o.inscriptionInfo,c=o.direction,s=a.owner,l=null!=(t=null==i?void 0:i.send)?t:"",u=null!=(n=null==i?void 0:i.receive)?n:"";o.direction=c;var d=c===r.IDecodedTxDirection.OUT||c===r.IDecodedTxDirection.SELF||c===r.IDecodedTxDirection.OTHER;return{titleInfo:function(e){var t=e.type,n=e.send,o=e.receive,a=e.account;if(t===r.IDecodedTxActionType.NFT_INSCRIPTION)return{titleKey:"form_receive_nft"};if(t===r.IDecodedTxActionType.NFT_TRANSFER_BTC){if(n===a)return{titleKey:"form_send_nft"};if(o===a)return{titleKey:"form_receive_nft"}}}({type:o.type,send:l,receive:u,account:s}),iconInfo:void 0,displayDecimals:100,send:l,receive:u,isOut:d,action:o,asset:null==i?void 0:i.asset}}function he(e){var t=e.action,n=e.meta,r=e.network,o=e.isShortenAddress,a=void 0!==o&&o,c=Object(i.default)(),s=me(e),l=s.send,u=s.receive,d=s.isOut,f=s.asset,p=Object(ne.useNavigation)(),b=[{title:c.formatMessage({id:"content__from"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:l,networkId:null==r?void 0:r.id,withSecurityInfo:!d,isShorten:a})},{title:c.formatMessage({id:"content__to"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:u,networkId:null==r?void 0:r.id,withSecurityInfo:d,isShorten:a})}],m=Object(v.jsx)(A.TxActionElementTitleHeading,{titleInfo:null==n?void 0:n.titleInfo});return Object(v.jsx)(D.TxDetailActionBox,{icon:Object(v.jsx)(pe,{asset:f}),title:m,content:Object(v.jsxs)(te.default,{px:0,py:"12px",onPress:function(){r&&f&&p.navigate(oe.RootRoutes.Modal,{screen:oe.ModalRoutes.Collectibles,params:{screen:oe.CollectiblesModalRoutes.NFTDetailModal,params:{asset:f,network:r,isOwner:!1}}})},children:[Object(v.jsx)(be,{typography:"DisplayXLarge",direction:t.direction,title:"Inscription #"+(null==f?void 0:f.inscription_number)}),Object(v.jsx)(g.default,{name:"ChevronRightSolid",size:20})]}),showTitleDivider:!0,details:b})}function je(e){var t=e.action,n=e.meta,r=me(e),o=r.send,a=r.receive,i=r.isOut,c=r.asset;return Object(v.jsx)(Y.TxListActionBox,{symbol:"symbol",icon:Object(v.jsx)(pe,{asset:c}),titleInfo:null==n?void 0:n.titleInfo,content:Object(v.jsx)(be,{direction:t.direction,title:"Inscription #"+(null==c?void 0:c.inscription_number),typography:"Body1Strong",textAlign:"right",justifyContent:"flex-end"}),subTitle:i?Object(re.shortenAddress)(a):Object(re.shortenAddress)(o)})}var Oe=n(203),ge=n(612);function ve(e){var t,n,o,a,i,c,s=e.action,l=e.decodedTx,u=function(e){var t=e.nftTransfer,n=e.nftTrade;return e.type===r.IDecodedTxActionType.NFT_SALE&&n?n:t}(s),d=l.owner,f=null!=(t=null==u?void 0:u.amount)?t:"0",p=null!=(n=null!=(o=null==u?void 0:u.asset.name)?o:null==u?void 0:u.asset.contractName)?n:"",b=null!=(a=null==u?void 0:u.send)?a:"",m=null!=(i=null==u?void 0:u.receive)?i:"",h=null!=(c=null==u?void 0:u.from)?c:"",j=null==u?void 0:u.asset.collection.logoUrl,O=r.IDecodedTxDirection.OTHER;b===m&&b===d&&(O=r.IDecodedTxDirection.SELF),b&&b===d&&(O=r.IDecodedTxDirection.OUT),m&&m===d&&(O=r.IDecodedTxDirection.IN),s.direction=O;var g,v=O===r.IDecodedTxDirection.OUT||O===r.IDecodedTxDirection.SELF||O===r.IDecodedTxDirection.OTHER;return j&&(g={icon:{url:j}}),{titleInfo:function(e){var t=e.type,n=e.send,o=e.receive,a=e.account,i=e.from;if(n===a&&"0x0000000000000000000000000000000000000000"===o||t===r.IDecodedTxActionType.NFT_BURN)return{titleKey:"form_burn_nft"};if(t===r.IDecodedTxActionType.NFT_MINT)return i.toLowerCase()!==o.toLowerCase()?{titleKey:"form_receive_airdrop_nft"}:{titleKey:"form_mint_nft"};if(t===r.IDecodedTxActionType.NFT_SALE)return{titleKey:"form_trade_nft"};if(t===r.IDecodedTxActionType.NFT_TRANSFER){if(n===a)return{titleKey:"form_send_nft"};if(o===a)return{titleKey:"form_receive_nft"}}}({type:s.type,send:b,receive:m,account:d,from:h}),iconInfo:g,amount:f,symbol:p,displayDecimals:100,send:b,receive:m,isOut:v,action:s,asset:null==u?void 0:u.asset}}function ye(e){var t=e.meta,n=e.network,r=e.isShortenAddress,o=void 0!==r&&r,c=Object(i.default)(),s=ve(e),l=s.symbol,u=s.send,d=s.receive,f=s.isOut,p=s.asset,b=Object(ne.useNavigation)(),m=[{title:c.formatMessage({id:"content__from"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:u,networkId:null==n?void 0:n.id,withSecurityInfo:!f,isShorten:o})},{title:c.formatMessage({id:"content__to"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:d,networkId:null==n?void 0:n.id,withSecurityInfo:f,isShorten:o})}],h=Object(v.jsx)(A.TxActionElementTitleHeading,{titleInfo:null==t?void 0:t.titleInfo}),j=Object(v.jsx)(a.default,{typography:"Body2Strong",color:"text-subdued",flexWrap:"nowrap",ellipsizeMode:"middle",numberOfLines:1,children:l});return Object(v.jsx)(D.TxDetailActionBox,{icon:p?Object(v.jsx)(ge.default,{asset:p,borderRadius:"6px",size:32}):void 0,title:h,desc:j,content:Object(v.jsxs)(te.default,{px:0,py:"12px",onPress:function(){n&&p&&b.navigate(oe.RootRoutes.Modal,{screen:oe.ModalRoutes.Collectibles,params:{screen:oe.CollectiblesModalRoutes.NFTDetailModal,params:{asset:p,network:n,isOwner:!1}}})},children:[Object(v.jsx)(a.default,{numberOfLines:1,typography:"DisplayXLarge",children:l}),Object(v.jsx)(g.default,{name:"ChevronRightSolid",size:20})]}),showTitleDivider:!0,details:m})}function xe(e){var t=e.action,n=e.meta,r=ve(e),o=r.amount,a=r.symbol,i=r.send,c=r.receive,s=r.isOut,l=r.asset,u=I(t.direction).color,d=Object(b.useMemo)((function(){return new h.a(o)}),[o]);return Object(v.jsx)(Y.TxListActionBox,{symbol:a,icon:l?Object(v.jsx)(ge.default,{asset:l,borderRadius:"6px",size:32}):void 0,titleInfo:null==n?void 0:n.titleInfo,content:Object(v.jsx)(P,{textAlign:"right",justifyContent:"flex-end",amount:d.gt(1)?o:void 0,symbol:a,color:u,direction:d.gt(1)?t.direction:void 0}),subTitle:s?Object(re.shortenAddress)(c):Object(re.shortenAddress)(i)})}function we(e){return ye(e)}function _e(e){var t,n,r=e.action,o=e.meta,a=e.decodedTx,i=ve(e),c=i.amount,s=i.symbol,l=i.send,u=i.receive,d=i.isOut,f=i.asset,p=I(r.direction).color,m=Object(b.useMemo)((function(){return new h.a(c)}),[c]),O=r.nftTrade,g=a.networkId,y=null!=(t=null==O?void 0:O.tradeSymbolAddress)?t:"",x=null!=(n=null==O?void 0:O.value)?n:"0",w=Object(Oe.useSimpleTokenPriceValue)({networkId:g,contractAdress:y}),_=Object(b.useMemo)((function(){if(x&&w)return new h.a(x).multipliedBy(w)}),[w,x]);return Object(v.jsx)(Y.TxListActionBox,{symbol:s,icon:f?Object(v.jsx)(ge.default,{asset:f,borderRadius:"6px",size:32}):void 0,titleInfo:null==o?void 0:o.titleInfo,content:Object(v.jsx)(P,{textAlign:"right",justifyContent:"flex-end",amount:m.gt(1)?c:void 0,symbol:s,color:p,direction:m.gt(1)?r.direction:void 0}),subTitle:d?Object(re.shortenAddress)(u):Object(re.shortenAddress)(l),extra:Object(v.jsx)(Y.TxListActionBoxExtraText,{children:Object(v.jsx)(j.FormatCurrencyNumber,{value:0,decimals:2,convertValue:_})})})}function ke(e){var t,n,r=e.action;if(!r.internalStake)throw new Error("internalStake is missing in txAction");var o,a=null==(t=r.internalStake)||null==(n=t.tokenInfo)?void 0:n.logoURI;return a&&(o={icon:{url:a}}),{titleInfo:{titleKey:"action__stake"},iconInfo:o,stakeInfo:r.internalStake}}function Ie(e){var t=e.meta,n=e.decodedTx,r=ke(e).stakeInfo,o=r.tokenInfo,a=r.amount,c=r.accountAddress,s=Object(i.default)(),l=[{title:"",content:Object(v.jsx)(C,{amount:a,symbol:o.symbol,mb:4})},{title:s.formatMessage({id:"form__account"}),content:Object(v.jsx)(Q.TxActionElementAddressNormal,{address:c})}];return Object(v.jsx)(X,{decodedTx:n,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,details:l})}function Se(e){var t=e.meta,n=e.decodedTx,o=e.historyTx,a=ke(e).stakeInfo,i=a.accountAddress,c=Object(v.jsx)(G,{decodedTx:n,historyTx:o});return Object(v.jsx)(Y.TxListActionBox,{symbol:a.tokenInfo.symbol,footer:c,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,content:Object(v.jsx)(P,{textAlign:"right",amount:a.amount,symbol:a.tokenInfo.symbol,direction:r.IDecodedTxDirection.OUT}),subTitle:Object(re.shortenAddress)(i)})}var Te=n(415);function Pe(e){var t=e.action;if(!t.internalSwap)throw new Error("internalSwap is missing in txAction");return{titleInfo:{titleKey:"title__swap"},iconInfo:{icon:{name:"ArrowsRightLeftMini"}},swapInfo:t.internalSwap}}function Ce(e){var t=e.meta,n=e.decodedTx,o=e.network,a=e.isShortenAddress,c=void 0!==a&&a,s=Object(i.default)(),l=Pe(e).swapInfo,u=l.send,d=l.receive,f=l.accountAddress,p=l.receivingAddress,m=Object(Te.useNetwork)({networkId:u.networkId}).network,h=Object(Te.useNetwork)({networkId:d.networkId}).network,j=Object(b.useMemo)((function(){return m&&h&&m.id!==h.id?s.formatMessage({id:"action__send"}).toUpperCase()+"  ("+m.shortName+")":s.formatMessage({id:"action__send"}).toUpperCase()}),[m,h,s]),O=Object(b.useMemo)((function(){return m&&h&&m.id!==h.id?s.formatMessage({id:"action__receive"}).toUpperCase()+"  ("+h.shortName+")":s.formatMessage({id:"action__receive"}).toUpperCase()}),[m,h,s]),g=[{title:j,content:Object(v.jsx)(C,{direction:r.IDecodedTxDirection.OUT,amount:u.amount,symbol:u.tokenInfo.symbol,mb:4})},{title:O,content:Object(v.jsx)(C,{direction:r.IDecodedTxDirection.IN,amount:d.amount,symbol:d.tokenInfo.symbol,mb:4})}];return p&&f!==p?(g.push({title:s.formatMessage({id:"content__from"}),content:Object(v.jsx)(Q.TxActionElementAddressNormal,{address:f,isShorten:c})}),g.push({title:s.formatMessage({id:"content__to"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:p||"",networkId:null==o?void 0:o.id,withSecurityInfo:!0,isShorten:c})})):g.push({title:s.formatMessage({id:"form__account"}),content:Object(v.jsx)(Q.TxActionElementAddressNormal,{address:f})}),Object(v.jsx)(X,{decodedTx:n,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,details:g})}function Me(e){var t=e.meta,n=e.decodedTx,o=e.historyTx,a=Pe(e).swapInfo,i=a.accountAddress,c=Object(Te.useNetwork)({networkId:n.networkId}).network,s=Object(v.jsx)(G,{decodedTx:n,historyTx:o});return Object(v.jsx)(Y.TxListActionBox,{footer:s,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,symbol:a.send.tokenInfo.symbol,content:Object(v.jsx)(P,{textAlign:"right",amount:a.send.amount,symbol:a.send.tokenInfo.symbol,direction:r.IDecodedTxDirection.OUT}),subTitle:Object(re.shortenAddress)(i),extra:Object(v.jsx)(T,{textAlign:"right",amount:a.receive.amount,symbol:a.receive.tokenInfo.symbol,direction:r.IDecodedTxDirection.IN,decimals:null==c?void 0:c.tokenDisplayDecimals})})}var Ae=n(27);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){var t,n,r,o,a,i,c=e.action.tokenActivate,s=null!=(t=null==c?void 0:c.tokenAddress)?t:"",l=null!=(n=null==c?void 0:c.symbol)?n:"",u=null!=(r=null==c?void 0:c.name)?r:"",d=null!=(o=null==c?void 0:c.decimals)?o:0,f=null!=(a=null==c?void 0:c.logoURI)?a:"";return f&&(i={icon:{url:f}}),{displayDecimals:d,tokenAddress:s,symbol:l,name:u,titleInfo:{titleKey:"title__add_token"},iconInfo:i}}function Ne(e){var t=e.meta,n=e.decodedTx,r=Re(e),o=r.name,a=r.tokenAddress,c=Object(i.default)(),s=[{title:c.formatMessage({id:"form__token_symbol"}),content:Object(v.jsx)(Ae.default.Body1Strong,{children:o})},{title:c.formatMessage({id:"transaction__contract_address"}),content:Object(v.jsx)(Ae.default.Body1Strong,{children:a})}];return Object(v.jsx)(X,{decodedTx:n,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,details:s})}function Le(e){var t=e.meta,n=e.decodedTx,r=e.historyTx,o=Object(i.default)(),a=Re(De(De({},e),{},{intl:o})).name,c=Object(v.jsx)(G,{decodedTx:n,historyTx:r});return Object(v.jsx)(Y.TxListActionBox,{footer:c,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,subTitle:a})}var Be=n(95),Fe=n(268);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t,n,r,o,a=e.action,i=e.intl,c=e.network,s=a.tokenApprove,l=(null==s?void 0:s.spender)||"",u=null!=s&&s.isMax?i.formatMessage({id:"form__unlimited"}):null!=(t=null==s?void 0:s.amount)?t:"0",d=null!=(n=null==s?void 0:s.tokenInfo.symbol)?n:"",f=null==c?void 0:c.tokenDisplayDecimals,p=null==(r=a.tokenApprove)?void 0:r.tokenInfo.logoURI;return p&&(o={icon:{url:p}}),{displayDecimals:f,amount:u,symbol:d,spender:l,titleInfo:{titleKey:"title__approve"},iconInfo:o}}function Ve(e){var t,n,r,o,a=e.action,c=e.decodedTx,s=e.meta,l=e.network,u=e.isShortenAddress,d=void 0!==u&&u,f=c.accountId,p=c.networkId,b=Object(ne.useNavigation)(),m=Object(i.default)(),h=We(He(He({},e),{},{intl:m})),j=h.amount,O=h.symbol,g=Object(E.useTxDetailContext)(),y=null==g||null==(t=g.context)?void 0:t.isSendConfirm,x=null==g||null==(n=g.context)?void 0:n.isCollapse,w=null==g||null==(r=g.context)?void 0:r.sendConfirmParamsParsed,_=null==w?void 0:w.sourceInfo,k=a.tokenApprove,I=Object(v.jsx)(P,{testID:"TxActionTokenApprove-AllowanceAmount",amount:j,symbol:O,onPress:y&&!x?function(){var e,t,n=Be.SendModalRoutes.TokenApproveAmountEdit;if(null!=w&&w.routeParams){var r={accountId:f,networkId:p,sendConfirmParams:null==w?void 0:w.routeParams,tokenApproveAmount:null!=(e=null==k?void 0:k.amount)?e:"0",isMaxAmount:null==(t=null==k?void 0:k.isMax)||t,sourceInfo:_,encodedTx:c.encodedTx,decodedTx:c};return Fe.IS_REPLACE_ROUTE_TO_FEE_EDIT?b.replace(n,r):b.navigate(n,r)}}:void 0,subText:null!=k&&k.isMax?Object(v.jsx)(Ae.default.Body2Strong,{color:"text-warning",mt:"1",children:m.formatMessage({id:"content__unlimited_authorization_puts_all_approved_tokens_at_risk"})}):void 0}),S=Object(v.jsx)(T,{amount:j,symbol:O,color:"text-subdued",typography:"Body2Strong"}),C=[{title:m.formatMessage({id:"content__spend_limit_amount"}),content:I},{title:m.formatMessage({id:"content__token_approve_owner"}),content:Object(v.jsx)(Q.TxActionElementAddressNormal,{address:null!=(o=null==k?void 0:k.owner)?o:"",isShorten:d})},{title:m.formatMessage({id:"content__token_approve_spender"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:(null==k?void 0:k.spender)||"",networkId:null==l?void 0:l.id,withSecurityInfo:!0,isShorten:d})}].filter(Boolean);return Object(v.jsx)(X,{decodedTx:c,iconInfo:null==s?void 0:s.iconInfo,titleInfo:null==s?void 0:s.titleInfo,desc:S,details:C})}function ze(e){var t=e.meta,n=e.decodedTx,r=e.historyTx,o=Object(i.default)(),a=We(He(He({},e),{},{intl:o})),c=a.amount,s=a.symbol,l=a.spender,u=a.displayDecimals,d=Object(v.jsx)(G,{decodedTx:n,historyTx:r}),f=Object(b.useMemo)((function(){var e,t=new h.a(c);return t&&c?p()(u)||t.isNaN()?c:(null==(e=Object(j.formatBalanceDisplay)(c,"",{fixed:u}))?void 0:e.amount)||c:""}),[c,u]);return Object(v.jsx)(Y.TxListActionBox,{symbol:s,footer:d,iconInfo:null==t?void 0:t.iconInfo,titleInfo:{title:o.formatMessage({id:"form__approve_str"},{0:f+" "+s})},subTitle:Object(re.shortenAddress)(l)})}function Ge(e){var t,n=e.decodedTx,r=e.action,o=e.meta,a=e.network,c=e.isShortenAddress,s=void 0!==c&&c,l=n.encodedTx||r.evmInfo,u=Object(i.default)(),d=[null!=l&&l.from?{title:u.formatMessage({id:"content__from"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:l.from||"",networkId:null==a?void 0:a.id,withSecurityInfo:!1,isShorten:s})}:null,null!=l&&l.to?{title:u.formatMessage({id:"content__to"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:l.to||"",networkId:null==a?void 0:a.id,withSecurityInfo:!0,isShorten:s})}:null,null!=l&&l.data?{title:u.formatMessage({id:"form__data"}),content:Object(v.jsx)(Q.TxActionElementAddressNormal,{address:null!=(t=l.data)?t:"",numberOfLines:1,isShorten:!1,flex:1,isCopy:!1})}:null];return Object(v.jsx)(X,{decodedTx:n,iconInfo:null==o?void 0:o.iconInfo,titleInfo:null==o?void 0:o.titleInfo,details:d})}function Ke(e){var t,n=e.decodedTx,r=e.meta,o=e.historyTx,a=Object(v.jsx)(G,{decodedTx:n,historyTx:o});return Object(v.jsx)(Y.TxListActionBox,{footer:a,iconInfo:null==r?void 0:r.iconInfo,titleInfo:null==r?void 0:r.titleInfo,subTitle:Object(re.shortenAddress)(null!=(t=null==n?void 0:n.txid)?t:""),content:"",extra:""})}function qe(e){var t,n,o,a,i,c,s,l,u,d,f,p,b,m,h,j,O,g,v,y,x,w=e.action,_=e.meta,k=e.network,I="0",S="",T="",P="";w.type===r.IDecodedTxActionType.NATIVE_TRANSFER&&(I=null!=(i=null!=(c=null==_?void 0:_.transferAmount)?c:null==(s=w.nativeTransfer)?void 0:s.amount)?i:"0",S=null!=(l=null==(u=w.nativeTransfer)?void 0:u.tokenInfo.symbol)?l:"",T=null!=(d=null==(f=w.nativeTransfer)?void 0:f.from)?d:"",P=null!=(p=null==(b=w.nativeTransfer)?void 0:b.to)?p:"",a=null==k?void 0:k.nativeDisplayDecimals);w.type===r.IDecodedTxActionType.TOKEN_TRANSFER&&(I=null!=(m=null==(h=w.tokenTransfer)?void 0:h.amount)?m:"0",S=null!=(j=null==(O=w.tokenTransfer)?void 0:O.tokenInfo.symbol)?j:"",T=null!=(g=null==(v=w.tokenTransfer)?void 0:v.from)?g:"",P=null!=(y=null==(x=w.tokenTransfer)?void 0:x.to)?y:"",a=null==k?void 0:k.tokenDisplayDecimals);var C,M=w.direction===r.IDecodedTxDirection.OUT||w.direction===r.IDecodedTxDirection.SELF||w.direction===r.IDecodedTxDirection.OTHER,A={titleKey:M?"action__send":"action__receive"},E=null!=(t=null==(n=w.nativeTransfer)?void 0:n.tokenInfo.logoURI)?t:null==(o=w.tokenTransfer)?void 0:o.tokenInfo.logoURI;return E&&(C={icon:{url:E}}),{titleInfo:A,iconInfo:C,amount:I,symbol:S,displayDecimals:a,from:T,to:P,isOut:M}}function Ze(e){var t=Object(i.default)(),n=e.action,r=e.meta,o=e.decodedTx,a=e.network,c=e.isShortenAddress,s=void 0!==c&&c,l=qe(e),u=l.amount,d=l.symbol,f=l.from,p=l.to,m=l.isOut,h=Object(b.useMemo)((function(){return!!(null==a||!a.settings.hideFromToFieldIfValueEmpty||f&&f.length)}),[f,null==a?void 0:a.settings.hideFromToFieldIfValueEmpty]),j=Object(b.useMemo)((function(){return!!(null==a||!a.settings.hideFromToFieldIfValueEmpty||p&&p.length)}),[p,null==a?void 0:a.settings.hideFromToFieldIfValueEmpty]),O=[h?{title:t.formatMessage({id:"content__from"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:"unknown"===f?t.formatMessage({id:"form__unknown"}):f,networkId:null==a?void 0:a.id,withSecurityInfo:!m,amount:u,isCopy:"unknown"!==f,isShorten:s})}:null,j?{title:t.formatMessage({id:"content__to"}),content:Object(Q.getTxActionElementAddressWithSecurityInfo)({address:"unknown"===p?t.formatMessage({id:"form__unknown"}):p,networkId:null==a?void 0:a.id,withSecurityInfo:m,amount:u,isCopy:"unknown"!==p,isShorten:s})}:null];return Object(v.jsx)(X,{decodedTx:o,iconInfo:null==r?void 0:r.iconInfo,titleInfo:null==r?void 0:r.titleInfo,amountInfo:{direction:n.direction,amount:u,symbol:d},details:O})}function Xe(e){var t,n,r,o=Object(i.default)(),a=e.action,c=e.meta,s=e.decodedTx,l=e.historyTx,u=e.network,d=s.accountId,f=s.networkId,p=qe(e),b=p.amount,m=p.symbol,h=p.from,O=p.to,g=p.isOut,y=p.displayDecimals,x=Object(v.jsx)(G,{decodedTx:s,historyTx:l}),w=g?O:h,_="unknown"===w?o.formatMessage({id:"form__unknown"}):Object(re.shortenAddress)(w);return Object(v.jsx)(Y.TxListActionBox,{network:u,footer:x,symbol:m,iconInfo:null==c?void 0:c.iconInfo,titleInfo:null==c?void 0:c.titleInfo,content:Object(v.jsx)(P,{textAlign:"right",justifyContent:"flex-end",amount:b,symbol:m,decimals:y,direction:a.direction}),subTitle:_,extra:Object(v.jsx)(j.FormatCurrencyTokenOfAccount,{accountId:d,networkId:f,token:null!=(t=null==(n=a.nativeTransfer)?void 0:n.tokenInfo)?t:null==(r=a.tokenTransfer)?void 0:r.tokenInfo,value:b,render:function(e){return Object(v.jsx)(Y.TxListActionBoxExtraText,{children:e})}})})}var Ye="ClipboardListOutline";function Qe(e){var t=e.action,n={titleKey:"transaction__contract_interaction"},o={icon:{name:Ye}},a={T0:Ke,T1:Ge,T2:Ge};if(t.type===r.IDecodedTxActionType.NATIVE_TRANSFER||t.type===r.IDecodedTxActionType.TOKEN_TRANSFER){var i=qe(e);n=i.titleInfo,o=i.iconInfo,a={T0:Xe,T1:Ze,T2:Ze}}if(t.type===r.IDecodedTxActionType.TOKEN_APPROVE){var c=We(e);n=c.titleInfo,o=c.iconInfo,a={T0:ze,T1:Ve,T2:Ve}}if(t.type===r.IDecodedTxActionType.TOKEN_ACTIVATE){var s=Re(e);n=s.titleInfo,o=s.iconInfo,a={T0:Le,T1:Ne,T2:Ne}}if(t.type===r.IDecodedTxActionType.INTERNAL_SWAP){var l=Pe(e);n=l.titleInfo,o=l.iconInfo,a={T0:Me,T1:Ce,T2:Ce}}if(t.type===r.IDecodedTxActionType.INTERNAL_STAKE){var u=ke(e);n=u.titleInfo,o=u.iconInfo,a={T0:Se,T1:Ie,T2:Ie}}if(t.type===r.IDecodedTxActionType.NFT_TRANSFER||t.type===r.IDecodedTxActionType.NFT_MINT||t.type===r.IDecodedTxActionType.NFT_BURN){var d=ve(e);n=d.titleInfo,o=d.iconInfo,a={T0:xe,T1:ye,T2:ye}}if(t.type===r.IDecodedTxActionType.NFT_SALE){var f=ve(e);n=f.titleInfo,o=f.iconInfo,a={T0:_e,T1:we,T2:we}}t.type===r.IDecodedTxActionType.FUNCTION_CALL&&(n=$(e).titleInfo,a={T0:ee,T1:J,T2:J});t.type!==r.IDecodedTxActionType.NFT_TRANSFER_BTC&&t.type!==r.IDecodedTxActionType.NFT_INSCRIPTION||(n=me(e).titleInfo,a={T0:je,T1:he,T2:he});return{meta:{titleInfo:n,iconInfo:o},props:e,components:a}}},1319:function(e,t,n){"use strict";n.r(t),n.d(t,"InjectedConnectorInfo",(function(){return d})),n.d(t,"getInjectedConnector",(function(){return p}));var r=n(6),o=n.n(r),a=n(101),i=n(4),c=n.n(i),s=n(2584),l=n(2585);var u={createConnector:function(){var e=Object(s.initializeConnector)((function(e){return new l.MetaMask({actions:e})})),t=c()(e,3);return{connector:t[0],hooks:t[1],store:t[2]}}},d=function(){function e(e){var t=e.connector,n=e.hooks,r=e.store;this.connector=t,this.hooks=n,this.store=r}return o()(e,[{key:"isActivating",get:function(){var e=this.store.getState(),t=e.activating;e.chainId,e.accounts;return Boolean(t)}},{key:"isActive",get:function(){var e=this.store.getState(),t=e.chainId,n=e.activating,r=e.accounts;return Boolean(t&&r&&!n)}},{key:"isConnected",get:function(){var e=this.store.getState(),t=e.chainId,n=e.accounts;e.activating;return Boolean(t&&n&&n.length)}},{key:"connectedAccount",get:function(){var e=this.store.getState(),t=(e.chainId,e.accounts);e.activating;return null==t?void 0:t[0]}}]),e}(),f={};function p(e){var t=e.name;return f[t]||(f[t]=function(e){var t=e.name;if(t===a.WALLET_CONNECT_WALLET_NAMES.MetaMask)return new d(u.createConnector());throw new Error("createInjectedConnectorByName ERROR: wallet name not supported. name="+t)}({name:t})),f[t]}},1351:function(e,t,n){"use strict";n.r(t);n(48);var r=n(2),o=n.n(r),a=n(6),i=n.n(a),c=n(2568),s=n(276),l=n(309),u=n.n(l),d=(n(285),n(17)),f=n(185),p=n(499),b=n(86),m=n(46),h=n(19),j=n(24),O=n(533),g=n(107),v=n.n(g);function y(e){var t=e.miniVersion,n=e.minVersion;return t?t.join("."):n?n.join("."):void 0}function x(e){var t=[],n=[],r=[],o=[],a=[];if(null!=e&&e.ios){var i=y(e.ios),c=e.ios,s=c.url,l=c.version;o.push({os:"ios",channel:"AppStore",download:s,version:l.join("."),forceUpdateVersion:i})}if(null!=e&&e.android){var u=y(e.android);if(e.android.google){var d=e.android.google,f=d.url,p=d.version;t.push({os:"android",channel:"GooglePlay",download:f,version:p.join("."),forceUpdateVersion:u})}if(e.android.huawei){var b=e.android.huawei,m=b.url,h=b.version;t.push({os:"android",channel:"HuaweiAppGallery",download:m,version:h.join("."),forceUpdateVersion:u})}if(e.android.url){var j=e.android,O=j.url,g=j.version;t.push({os:"android",channel:"Direct",download:O,version:g.join("."),forceUpdateVersion:u})}}if(null!=e&&e.desktop){var v=y(e.desktop);if(e.desktop.linux&&r.push({os:"linux",channel:"Direct",download:e.desktop.linux,version:e.desktop.version.join("."),forceUpdateVersion:v}),e.desktop.snapStore){var x=e.desktop.snapStore,w=x.url,_=x.version;r.push({os:"linux",channel:"LinuxSnap",download:w,version:_.join("."),forceUpdateVersion:v})}if(e.desktop.macX64&&r.push({os:"macos-x64",channel:"Direct",download:e.desktop.macX64,version:e.desktop.version.join("."),forceUpdateVersion:v}),e.desktop.macARM&&r.push({os:"macos-arm64",channel:"Direct",download:e.desktop.macARM,version:e.desktop.version.join("."),forceUpdateVersion:v}),e.desktop.win&&r.push({os:"win",channel:"Direct",download:e.desktop.win,version:e.desktop.version.join("."),forceUpdateVersion:v}),e.desktop.msStore){var k=e.desktop.msStore,I=k.url,S=k.version;r.push({os:"win",channel:"MsWindowsStore",download:I,version:S.join("."),forceUpdateVersion:v})}if(e.desktop.mas){var T=e.desktop.mas,P=T.url,C=T.version;r.push({os:"mas",channel:"AppStore",download:P,version:C.join("."),forceUpdateVersion:v})}}if(null!=e&&e.ext){var M=y(e.ext);e.ext.chrome&&n.push({os:"chrome",channel:"ChromeWebStore",download:e.ext.chrome,version:null!=M?M:"0.0.0",forceUpdateVersion:M}),e.ext.firefox&&n.push({os:"firefox",channel:"MozillaAddOns",download:e.ext.firefox,version:null!=M?M:"0.0.0",forceUpdateVersion:M}),e.ext.edge&&n.push({os:"edge",channel:"EdgeWebStore",download:e.ext.edge,version:null!=M?M:"0.0.0",forceUpdateVersion:M})}if(null!=e&&e.web){var A=y(e.web);a.push({os:"website",channel:"Direct",download:"https://app.onekey.so",version:null!=A?A:"0.0.0",forceUpdateVersion:A})}return{ios:o,android:t,extension:n,desktop:r,web:a}}function w(){return(w=o()((function*(){var e=Math.random().toString();return v.a.get("https://dp-data.wai.chat/config.json?nocache="+e).then((function(e){return x(e.data)}))}))).apply(this,arguments)}function _(){return(_=o()((function*(){var e=Math.random().toString();return v.a.get("https://dp-data.wai.chat/pre-config.json?nocache="+e).then((function(e){return x(e.data)}))}))).apply(this,arguments)}function k(){return(k=o()((function*(e,t,n){var r=Math.random().toString(),o="https://dp-data.wai.chat/config.json";return n&&(o="https://dp-data.wai.chat/pre-config.json"),v.a.get(o+"?nocache="+r).then((function(e){var n,r;return null!=(n=null==(r=e.data.changelog.find((function(e){return e.version===t})))?void 0:r.locale)?n:void 0})).catch((function(){}))}))).apply(this,arguments)}var I=new(function(){function e(){this.addedListener=!1}var t=e.prototype;return t.checkUpdate=function(){var e=d.default.dispatch;return this.checkAppUpdate().then((function(t){var n=[Object(p.setLastCheckTimestamp)(Object(m.getTimeStamp)())];return t&&(n.push(Object(p.enable)()),n.push(Object(p.available)(t))),null!=t&&t.forceUpdate?n.push(Object(b.setForceUpdateVersionInfo)(t)):n.push(Object(b.setForceUpdateVersionInfo)(void 0)),e.apply(void 0,n),t}))},t.checkAppUpdate=function(){var e=o()((function*(){var e=yield this.getPackageInfo().catch((function(){var e,t,n;return null==(e=f.default.getState().settings)||null==(t=e.softwareUpdate)||null==(n=t.forceUpdateVersionInfo)?void 0:n.package}));if(e){var t,n;if(!e)return;var r=null!=(t=f.default.getState().settings.version)?t:"0.0.0",o=u.a.gt(e.version,r),a=u.a.gt(null!=(n=e.forceUpdateVersion)?n:"0.0.0",r);return o||a?{package:e,forceUpdate:a}:void 0}}));return function(){return e.apply(this,arguments)}}(),t.getPackageInfo=function(){var e=o()((function*(){var e,t,n,r,o,a=f.default.getState().settings.devMode||{},i=a.enable,c=a.preReleaseUpdate;if(e=i&&c?yield function(){return _.apply(this,arguments)}():yield function(){return w.apply(this,arguments)}(),j.default.isNativeAndroid){var s,l,u="Direct";j.default.isNativeAndroidHuawei?u="HuaweiAppGallery":j.default.isNativeAndroidGooglePlay&&(u="GooglePlay"),null==(s=e)||null==(l=s.android)?void 0:l.find((function(e){return"android"===e.os&&e.channel===u}))}j.default.isNativeIOS&&(null==(t=e)||null==(n=t.ios)||n.find((function(e){return"ios"===e.os})));return null==(r=e)||null==(o=r.web)?void 0:o.find((function(e){return"website"===e.os}))}));return function(){return e.apply(this,arguments)}}(),t.checkDesktopUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h.default.autoUpdate.debug("check desktop update"),window.desktopApi.checkForUpdates(e)},t.openAppUpdate=function(e){var t=this;switch(e.package.channel){case"AppStore":Object(s.canOpenURL)("itms-apps://").then((function(n){n?Object(s.openURL)("itms-apps://itunes.apple.com/app/id1609559473"):t._openUrl(e.package.download)}));break;case"GooglePlay":Object(s.canOpenURL)("market://details?id=com.github.digitalpassport.app").then((function(t){t?Object(s.openURL)("market://details?id=com.github.digitalpassport.app"):Object(s.openURL)(e.package.download)}));break;case"HuaweiAppGallery":Object(s.canOpenURL)("hiapplink://com.huawei.appmarket?appId=C107439249").then((function(e){return e?(Object(s.openURL)("hiapplink://com.huawei.appmarket?appId=C107439249"),null):Object(s.canOpenURL)("market://details?id=com.github.digitalpassport.app")})).then((function(t){if(!t)return null;t?Object(s.openURL)("market://details?id=com.github.digitalpassport.app"):Object(s.openURL)(e.package.download)}));break;case"MsWindowsStore":Object(s.canOpenURL)("ms-windows-store://pdp/?productid=XPFMHZDDF91TNL").then((function(t){return t?Object(s.openURL)("ms-windows-store://pdp/?productid=XPFMHZDDF91TNL"):Object(s.openURL)(e.package.download)}));break;default:this._openUrl(e.package.download)}},t.getChangeLog=function(){var e=o()((function*(e,t){var n,r=f.default.getState().settings.devMode||{},o=r.enable,a=r.preReleaseUpdate,i=o&&a,c=yield function(e,t,n){return k.apply(this,arguments)}(e,t,i);if(c){var s=null!=(n=f.default.getState().settings.locale)?n:"en-US";return"system"===s&&(s=Object(O.getDefaultLocale)()),c[s]}}));return function(t,n){return e.apply(this,arguments)}}(),t._openUrl=function(e){window.open(e,"_blank")},t.skipVersionCheck=function(e){var t,n=null!=(t=f.default.getState().settings.updateSetting)?t:{},r=n.updateLatestVersion,o=void 0===r?null:r,a=n.updateLatestTimeStamp,i=void 0===a?null:a;return h.default.autoUpdate.debug("skipVersionCheck params updateLatestVersion: ",o," , updateLatestTimeStamp: ",i," , version: ",e),o&&u.a.valid(o)&&u.a.valid(e)&&u.a.eq(o,e)&&i&&Object(c.default)(Object(m.getTimeStamp)(),i)<7?(h.default.autoUpdate.debug("Last operation within 7 days, skip check"),!0):(h.default.autoUpdate.debug("should not skip check version"),!1)},t.addUpdaterListener=function(){if(!this.addedListener);},i()(e)}());t.default=I},1359:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"getCurrentModalRouteData",(function(){return d})),n.d(t,"isModalRouteExisting",(function(){return f})),n.d(t,"isSendModalRouteExisting",(function(){return p})),n.d(t,"getRootRoute",(function(){return b})),n.d(t,"getRootTabRoute",(function(){return m})),n.d(t,"getRootTabRouteState",(function(){return h})),n.d(t,"getAppRootTabInfoOfTab",(function(){return j})),n.d(t,"getCurrentAppRootTabStackRoutes",(function(){return O})),n.d(t,"isAtAppRootTab",(function(){return g})),n.d(t,"useIsAtHomeTab",(function(){return v}));var r=n(3),o=n.n(r),a=n(25),i=n(16);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(){var t,n,r,o,a,i,c,s,l;return null==(t=e)||null==(n=t.$navigationRef)||null==(r=n.current)||null==r.getRootState||null==(o=r.getRootState())||null==(a=o.routes)||null==(i=a[0])||null==(c=i.state)||null==(s=c.routes)||null==(l=s[0])?void 0:l.state}function u(){var e=l();if(e&&void 0!==e.index)return e.routes[e.index]}function d(){var t,n,r,o,a,c=null==(t=e)||null==(n=t.$navigationRef)||null==(r=n.current)||null==(o=r.getRootState())||null==(a=o.routes)?void 0:a.find((function(e){return(null==e?void 0:e.name)===i.RootRoutes.Modal}));if(c){var l=null==c?void 0:c.params;return s(s({},c),{},{params:l})}}function f(){var e;return Boolean(null==(e=d())?void 0:e.key)}function p(){var e,t=d();return(null==t||null==(e=t.params)?void 0:e.screen)===i.ModalRoutes.Send}function b(){var t,n,r,o,a;return null==(t=e)||null==(n=t.$navigationRef)||null==(r=n.current)||null==r.getState||null==(o=r.getState())||null==(a=o.routes)?void 0:a[0]}function m(){var e,t,n;return null==(e=b())||null==(t=e.state)||null==(n=t.routes)?void 0:n[0]}function h(){var e;return null==(e=m())?void 0:e.state}function j(e){var t=l();if(t&&t.routes)return t.routes.find((function(t){return t.name===e}))}function O(){var e,t=u();return null==t||null==(e=t.state)?void 0:e.routes}function g(e){var t=u();return!!(t&&t.name&&e)&&t.name===e}function v(e){return Object(a.useAppSelector)((function(e){return e.status.homeTabName}))===e}e.$$isAtAppRootTab=g,e.$$getCurrentAppRootTabStackRoutes=O,e.$$getCurrentModalRouteData=d,e.$$getAppRootTabInfoOfTab=j}.call(this,n(58))},1451:function(e,t,n){"use strict";n.r(t),n.d(t,"WalletConnectUniversalLinkPath",(function(){return f})),n.d(t,"WalletConnectUniversalLinkPathSchema",(function(){return p})),n.d(t,"handleDeepLinkUrl",(function(){return m}));n(2);var r=n(154),o=n.n(r),a=n(13),i=n.n(a),c=n(276),s=n(19),l=(n(24),n(150)),u=n(323),d=n(101),f="wc/connect/wc",p="/wc/connect/wc",b=Object(l.memoizee)((function(e){try{if(!e)return;s.default.deepLink.info("connectToWalletConnectByDeepLink: ",e.slice(0,50));var t=c.parse(e),n=t.hostname,r=t.path,o=t.queryParams,a=t.scheme;0;var i="";if("app.onekey.so"===n&&r===f&&null!=o&&o.uri&&(i=o.uri),a!==d.ONEKEY_APP_DEEP_LINK&&a!==d.ONEKEY_APP_DEEP_LINK_NAME||(r===d.WALLET_CONNECT_DEEP_LINK_NAME&&!n||n===d.WALLET_CONNECT_DEEP_LINK_NAME&&!r)&&null!=o&&o.uri&&(i=o.uri),a!==d.WALLET_CONNECT_DEEP_LINK&&a!==d.WALLET_CONNECT_DEEP_LINK_NAME||(null!=o&&o.bridge&&null!=o&&o.key&&(i=e),null!=o&&o["relay-protocol"]&&null!=o&&o.symKey&&(i=e)),i)return s.default.deepLink.info("Create walletConnect connection by DeepLink: ",i.slice(0,50)),u.default.openConnectToDappModal({uri:i,isDeepLink:!0}),{type:"walletConnect",url:e,urlExtracted:i}}catch(l){s.default.deepLink.error("connectToWalletConnectByDeepLink ERROR: ",l)}}),{primitive:!0,max:20,maxAge:600}),m=function(e){var t;[e.url].concat(i()(null!=(t=e.argv)?t:[])).filter((function(e){return!!e&&o()(e)})).forEach((function(e){return b(e)}))}},1452:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"encode",(function(){return f})),n.d(t,"decode",(function(){return p})),n.d(t,"isSupportedPlatform",(function(){return b})),n.d(t,"isMac",(function(){return m})),n.d(t,"isContextSupportWebAuthn",(function(){return h})),n.d(t,"isUserVerifyingPlatformAuthenticatorAvailable",(function(){return j})),n.d(t,"enableWebAuthn",(function(){return v})),n.d(t,"disableWebAuthn",(function(){return y})),n.d(t,"webAuthenticate",(function(){return x}));for(var r,o,a=n(2),i=n.n(a),c=(n(24),n(17)),s=n(86),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",u=new Uint8Array(256),d=0;d<l.length;d++)u[l.charCodeAt(d)]=d;var f=function(e){for(var t=new Uint8Array(e),n=t.length,r="",o=0;o<n;o+=3)r+=l[t[o]>>2],r+=l[(3&t[o])<<4|t[o+1]>>4],r+=l[(15&t[o+1])<<2|t[o+2]>>6],r+=l[63&t[o+2]];return n%3===2?r=r.substring(0,r.length-1):n%3===1&&(r=r.substring(0,r.length-2)),r},p=function(e){for(var t=e.length,n=.75*e.length,r=new ArrayBuffer(n),o=new Uint8Array(r),a=0,i=0;i<t;i+=4){var c=u[e.charCodeAt(i)],s=u[e.charCodeAt(i+1)],l=u[e.charCodeAt(i+2)],d=u[e.charCodeAt(i+3)];o[a++]=c<<2|s>>4,o[a++]=(15&s)<<4|l>>2,o[a++]=(3&l)<<6|63&d}return r},b=!1,m=function(){return navigator.platform.toUpperCase().indexOf("MAC")>=0},h=Boolean(b&&(null==(r=e)||null==(o=r.navigator)?void 0:o.credentials)),j=function(){var t=i()((function*(){var t=!1;try{var n;t=yield null==(n=e.PublicKeyCredential)||null==n.isUserVerifyingPlatformAuthenticatorAvailable?void 0:n.isUserVerifyingPlatformAuthenticatorAvailable()}catch(r){}return t}));return function(){return t.apply(this,arguments)}}(),O=function(){var t=i()((function*(t){if(!b)throw new Error("Web Auth only supports web platforms");if(!navigator.credentials)throw new Error("navigator.credentials API is not available");var n=e.crypto.getRandomValues(new Uint8Array(32)),r=yield c.default.serviceSetting.getWebAuthnCredentialID();if(r){var o=yield navigator.credentials.get({publicKey:{timeout:6e4,challenge:n.buffer,allowCredentials:[{type:"public-key",id:p(r)}]}});if(o&&o.id===r)return o}n=e.crypto.getRandomValues(new Uint8Array(32));var a={publicKey:{rp:{name:"onekey.so"},user:{id:new Uint8Array(16),name:t.userName,displayName:t.userDisplayName},pubKeyCredParams:[{type:"public-key",alg:-7}],timeout:6e4,attestation:"direct",challenge:n.buffer,authenticatorSelection:{authenticatorAttachment:"platform"}}},i=yield navigator.credentials.create(a);return i&&(yield c.default.serviceSetting.setWebAuthnCredentialID(i.id)),i}));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=i()((function*(){if(!b)throw new Error("Web Auth only supports web platforms");if(!navigator.credentials)throw new Error("navigator.credentials API is not available");var t=yield c.default.serviceSetting.getWebAuthnCredentialID();if(!t)return null;var n={publicKey:{timeout:6e4,challenge:e.crypto.getRandomValues(new Uint8Array(32)).buffer,allowCredentials:[{type:"public-key",id:p(t)}]}};return yield navigator.credentials.get(n)}));return function(){return t.apply(this,arguments)}}(),v=function(){var e=i()((function*(){(yield g())||(yield O({userName:"OneKey Extension",userDisplayName:"OneKey Extension"}),c.default.dispatch(Object(s.setEnableWebAuthn)(!0))),c.default.dispatch(Object(s.setEnableWebAuthn)(!0))}));return function(){return e.apply(this,arguments)}}(),y=function(){c.default.dispatch(Object(s.setEnableWebAuthn)(!1))},x=function(){var e=i()((function*(){return!!(yield g())}));return function(){return e.apply(this,arguments)}}()}.call(this,n(58))},1498:function(e,t,n){"use strict";n.r(t),n.d(t,"InscriptionContentType",(function(){return C})),n.d(t,"getBTCListComponent",(function(){return E}));var r=n(36),o=(n(24),n(3)),a=n.n(o),i=n(12),c=n(747),s=n(106),l=n(15),u=n.n(l),d=n(0),f=["size","asset"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t,n=e.size,r=e.asset,o=u()(e,f);return Object(d.jsx)(i.default,b(b({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",size:n},o),{},{children:null!=r&&r.content&&(null==r||null==(t=r.content)?void 0:t.length)>0?Object(d.jsx)(s.default,{size:n,source:{uri:r.content}}):Object(d.jsx)(c.default,{width:Number(n)+"px",height:Number(n)+"px",resizeMode:"contain",skeleton:!0,src:r.contentUrl})}))},h=["size","asset"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.size,n=e.asset,r=u()(e,h);return Object(d.jsx)(i.default,O(O({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",size:t},r),{},{children:Object(d.jsx)("iframe",{title:"iframe-web",src:n.contentUrl,frameBorder:"0",style:{height:"100%",width:"100%"}})}))},v=n(20),y=["asset"],x=["asset"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=e.asset,n=u()(e,y);return Object(d.jsx)(i.default,_(_({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",bgColor:"background-default",paddingX:"4px"},n),{},{children:Object(d.jsx)(v.default,{numberOfLines:8,width:Number(n.size)-8,typography:"CaptionMono",color:"text-subdued",textAlign:"center",children:t.content})}))}function I(e){var t=e.asset,n=u()(e,x);return Object(d.jsx)(i.default,_(_({flexDirection:"column",justifyContent:"center",alignItems:"center"},n),{},{children:Object(d.jsx)(v.default,{numberOfLines:10,width:180,typography:"CaptionMono",children:t.content})}))}var S=["size","asset"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C,M=function(e){var t=e.size,n=e.asset,r=u()(e,S);return Object(d.jsx)(i.default,P(P({size:t,flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",bgColor:"background-default"},r),{},{children:Object(d.jsx)(v.default,{textAlign:"center",width:t,typography:"Body1Mono",numberOfLines:0,color:"text-subdued",children:n.content_type.toUpperCase()})}))};function A(e){var t=e.contentType,n=e.isList,o=e.networkId;return t.startsWith(C.ImagePNG)||t.startsWith(C.ImageJEPG)||t.startsWith(C.ImageWEBP)?m:t.startsWith(C.ImageSVG)?g:t===C.Text?o===r.OnekeyNetwork.tbtc?M:n?k:I:M}function E(e){var t=e.data,n=e.isList;return{Component:A({contentType:t.content_type,isList:n,networkId:t.networkId})}}!function(e){e.Text="text/plain;charset=utf-8",e.ImagePNG="image/png",e.ImageJEPG="image/jpeg",e.ImageWEBP="image/webp",e.ImageSVG="image/svg+xml",e.ImageGIF="image/gif",e.HTML="text/html"}(C||(C={}))},150:function(e,t,n){"use strict";n.r(t),n.d(t,"memoizee",(function(){return d}));var r=n(3),o=n.n(r),a=n(997),i=n.n(a),c=n(2243),s=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n=(null!=t?t:{}).normalizer;return n||(n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=i()(t);return r}),s()(e,u(u({},t),{},{normalizer:n}))}},1503:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"normalizeCrossFetch",(function(){return y}));var r=n(4),o=n.n(r),a=n(60),i=n.n(a),c=n(154),s=n.n(c),l=n(6),u=n.n(l),d=n(9),f=n.n(d),p=n(14),b=n.n(p),m=n(7),h=n.n(m),j=(n(24),n(646));function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var g=function(e){f()(n,e);var t=O(n);function n(e){var n;return(n=t.call(this)).requestLibName=j.RequestLibNames.fetch,n.options=e,n}var r=n.prototype;return r.setDefaultRetry=function(e){},r.setDefaultTimeout=function(e){this.options.signal},r.setHeader=function(e,t){this.options.headers=this.options.headers||{},this.options.headers[e]=t},u()(n)}(j.RequestInterceptorBase);function v(e){return s()(e)?e:e instanceof URL?e.href:e.url}function y(t){var n=t.fetch;if(n&&n.isNormalizedByOneKey)return n;var r=n,a=function(e,t){i()(t)&&(t={});var n=e;if(n&&n.headers&&n.headers.entries){var a=Array.from(n.headers.entries());t.headers=t.headers||{};var c=t,s=c.headers;a.forEach((function(e){var t=o()(e,2),n=t[0],r=t[1];!n||n in s||(null==n?void 0:n.toLowerCase())in s||(null==n?void 0:n.toUpperCase())in s||(s[n]=r)}))}var l=new g(t),u=v(e);l.interceptRequest({url:u});for(var d=arguments.length,f=new Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];return r.call.apply(r,[this,e,t].concat(f)).then((function(e){return e.clone()}))};return a.isNormalizedByOneKey=!0,e.fetch&&!e.fetch.isNormalizedByOneKey&&(e.fetch=a),a}}.call(this,n(58))},151:function(e,t,n){"use strict";n.r(t),n.d(t,"appUIEventBus",(function(){return r})),n.d(t,"AppUIEventBusNames",(function(){return o}));var r,o,a=n(689),i=n(24);!function(e){e.SwapCompleted="SwapCompleted",e.SwapError="SwapError",e.SwapAddTransaction="SwapAddTransaction",e.LimitOrderCompleted="LimitOrderCompleted",e.LimitOrderError="LimitOrderError",e.RemoveAccount="RemoveAccount",e.RemoveWallet="RemoveWallet",e.Unlocked="Unlocked",e.StoreInitedFromPersistor="StoreInitedFromPersistor",e.AccountChanged="AccountChanged",e.SwapRefresh="SwapRefresh",e.EnsureChainWebEmbed="EnsureChainWebEmbed",e.ChainWebEmbedDisabled="ChainWebEmbedDisabled",e.Migrate="Migrate",e.RevokeRefresh="RevokeRefresh",e.HardwareCancel="HardwareCancel"}(o||(o={})),r=i.isExtensionBackground?new Proxy({},{get:function(){throw new Error("[appUIEventBus] is NOT allowed in Extension Background process currently. use [appEventBus] instead.")}}):new a.CrossEventEmitter},1521:function(e,t,n){"use strict";n.r(t);var r=n(2445);n.d(t,"requestPermissionsAsync",(function(){return r.requestPermissionsAsync})),n.d(t,"getPermissionsAsync",(function(){return r.getPermissionsAsync}))},1524:function(e,t,n){"use strict";n.r(t),n.d(t,"useAccessory",(function(){return d})),n.d(t,"validMenmonicWord",(function(){return f}));var r=n(13),o=n.n(r),a=n(152),i=n.n(a),c=n(4),s=n.n(c),l=n(1),u=n(304),d=function(){var e=Object(l.useState)(""),t=s()(e,2),n=t[0],r=t[1],a=Object(l.useState)([]),c=s()(a,2),d=c[0],f=c[1];return{onChangeText:i()(Object(l.useCallback)((function(e){if(r(e),(null==e?void 0:e.length)>1){var t=e.split(" ").pop();if(t&&t.length>1){var n=u.wordlists.english.filter((function(e){return e.startsWith(t)}));null!=n&&n.length?f(n):f(void 0)}else f([])}else f([])}),[]),150,{trailing:!0,leading:!1}),onSelectedKeybordAcessory:Object(l.useCallback)((function(e){var t=n.split(" ");t.pop();var a=[].concat(o()(t),[e]).join(" ")+" ";r(a),f([])}),[n]),valueText:n,accessoryData:d,setAccessoryData:f}},f=function(e){return u.wordlists.english.find((function(t){return t===e}))}},1526:function(e,t,n){"use strict";n.r(t),n.d(t,"FeeSpeedTip",(function(){return v}));var r=n(580),o=n(12),a=n(3),i=n.n(a),c=n(40),s=n(195),l=n.n(s),u=n(41),d=n(20),f=n(21),p=n.n(f),b=n(88),m=n(341),h=n(0);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=e.title,n=e.value;return Object(h.jsxs)(u.default,{justifyContent:"space-between",children:[Object(h.jsx)(d.default,{typography:"Body2Strong",children:t}),Object(h.jsx)(d.default,{typography:"Body2",color:"text-subdued",children:n})]})}function v(e){var t,n,a=e.index,i=e.isCustom,s=e.isEIP1559,u=e.price,f=e.limit,j=e.feeInfo,v=e.prices,y=Object(b.default)(),x=parseInt(a,10);if(i)n="content__gas_option_custom_desc";else if(1===(null==v?void 0:v.length))n="content__gas_option_market_desc";else switch(x){case 0:n="content__gas_option_low_desc";break;case 1:n="content__gas_option_market_desc";break;case 2:n="content__gas_option_aggressive_desc";break;default:n="content__gas_option_market_desc"}var w=null==j?void 0:j.isBtcForkChain;return Object(h.jsx)(r.default,{trigger:function(e){var t=Object.assign({},(l()(e),e));return Object(h.jsx)(m.default,O(O({},t),{},{children:Object(h.jsx)(c.default,{name:"InformationCircleMini",size:18,color:"icon-subdued"})}))},bodyProps:{children:Object(h.jsxs)(o.default,{children:[Object(h.jsx)(d.default,{typography:"Body2",children:y.formatMessage({id:n})}),s&&u&&f&&Object(h.jsxs)(o.default,{mt:1,children:[Object(h.jsx)(g,{title:y.formatMessage({id:"content__max_fee"}),value:u.maxFeePerGas}),Object(h.jsx)(g,{title:y.formatMessage({id:"content__max_priority_fee"}),value:u.maxPriorityFeePerGas}),Object(h.jsx)(g,{title:y.formatMessage({id:"content__gas_limit"}),value:f})]}),!s&&!w&&u&&f&&Object(h.jsxs)(o.default,{mt:1,children:[Object(h.jsx)(g,{title:y.formatMessage({id:"content__gas_price"}),value:u}),Object(h.jsx)(g,{title:y.formatMessage({id:"content__gas_limit"}),value:f})]}),w&&u&&f&&Object(h.jsxs)(o.default,{mt:1,children:[Object(h.jsx)(g,{title:y.formatMessage({id:"form__fee_rate"}),value:new p.a(u).shiftedBy(null!=(t=null==j?void 0:j.feeDecimals)?t:8).toFixed()+" sat/B"}),Object(h.jsx)(g,{title:y.formatMessage({id:"form__size"}),value:f+" B"})]})]})}})}},1548:function(e,t,n){"use strict";n.r(t),n.d(t,"createDelayPromise",(function(){return r})),n.d(t,"createAnyPromise",(function(){return o}));var r=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))},o=function(e){return Promise.all(e.map((function(e){return e.then((function(e){return Promise.reject(e)}),(function(e){return Promise.resolve(e)}))}))).then((function(e){return Promise.reject(e)}),(function(e){return Promise.resolve(e)}))}},1563:function(e,t,n){"use strict";n.r(t);var r=n(2650);t.default=r.default},1564:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ENetworkStatus",(function(){return r})),function(e){e.TRASH="TRASH",e.LISTED="LISTED"}(r||(r={}))},1573:function(e){e.exports=JSON.parse('{"apiKey":"","authDomain":"","databaseURL":"","projectId":"","storageBucket":"","messagingSenderId":"","appId":"","measurementId":""}')},1574:function(e,t,n){"use strict";n.r(t),n.d(t,"setAttributes",(function(){return a})),n.d(t,"log",(function(){return i}));var r=n(2),o=n.n(r),a=function(){},i=function(){var e=o()((function*(){}));return function(){return e.apply(this,arguments)}}()},1592:function(e,t,n){"use strict";n.r(t),n.d(t,"MIN_OR_HIDE",(function(){return u})),n.d(t,"MAX_OR_SHOW",(function(){return d})),n.d(t,"expandAnim",(function(){return f})),n.d(t,"showTabGridAnim",(function(){return p})),n.d(t,"tabViewShotRef",(function(){return b})),n.d(t,"tabGridRefs",(function(){return m})),n.d(t,"targetPreviewX",(function(){return h})),n.d(t,"targetPreviewY",(function(){return j})),n.d(t,"targetPreviewWidth",(function(){return O})),n.d(t,"targetPreviewHeight",(function(){return g})),n.d(t,"tabGridScrollY",(function(){return v})),n.d(t,"WEB_TAB_CELL_GAP",(function(){return y})),n.d(t,"setThumbnailRatio",(function(){return w})),n.d(t,"getThumbnailRatio",(function(){return _})),n.d(t,"thumbnailWidth",(function(){return k})),n.d(t,"showTabGrid",(function(){return S})),n.d(t,"hideTabGrid",(function(){return T})),n.d(t,"expandFloatingWindow",(function(){return C})),n.d(t,"minimizeFloatingWindow",(function(){return A})),n.d(t,"toggleFloatingWindow",(function(){return D}));var r=n(1),o=n(105),a=n(365),i=n(141),c=n(389),s=n(820),l=n(485),u=0,d=1,f=Object(o.makeMutable)(u),p=Object(o.makeMutable)(u),b=Object(r.createRef)(),m={},h=Object(o.makeMutable)(0),j=Object(o.makeMutable)(0),O=Object(o.makeMutable)(0),g=Object(o.makeMutable)(0),v=Object(o.makeMutable)(0),y=16,x=.8,w=function(e){x=e},_=function(){return x},k=340,I=function(e,t){var n=m[e];n?n.measure((function(e,n,r,o,a,i){h.value=a,j.value=i,O.value=r,g.value=o,t()})):t()},S=function(){Object(l.pauseDappInteraction)();var e=Object(s.getWebTabs)(),t=e.currentTabId,n=e.tabs;I(t,(function(){p.value=Object(a.withTiming)(d),setTimeout((function(){var e=Math.floor((n.findIndex((function(e){return e.id===t}))-1)/2);v.value=e*g.value+y}),330)}))},T=function(e){var t=e||Object(c.getCurrentTabId)();I(t,(function(){p.value=Object(a.withTiming)(u),Object(l.resumeDappInteraction)()}))},P={code:"function anonymous(){const{runOnJS,after}=this._closure;return runOnJS(after)();}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/explorerAnimation.ts"},C=function(e){var t=e.before,n=e.after,r=void 0===n?function(){}:n;Object(l.resumeDappInteraction)(),null==t||t(),f.value=Object(a.withTiming)(d,{duration:300},function(){var e=function(){return Object(i.runOnJS)(r)()};return e._closure={runOnJS:i.runOnJS,after:r},e.__initData=P,e.__workletHash=0xece50f7a68f,e}())},M={code:"function anonymous(){const{runOnJS,after}=this._closure;return runOnJS(after)();}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/explorerAnimation.ts"},A=function(e){var t=e.before,n=e.after,r=void 0===n?function(){}:n;Object(l.pauseDappInteraction)(),null==t||t(),setTimeout((function(){f.value=Object(a.withTiming)(u,{duration:300},function(){var e=function(){return Object(i.runOnJS)(r)()};return e._closure={runOnJS:i.runOnJS,after:r},e.__initData=M,e.__workletHash=0xece50f7a68f,e}())}))},E=function(){},D=function(e){var t=e.beforeMinimize,n=e.beforeMaximize,r=e.afterMaximize,o=void 0===r?E:r,a=e.afterMinimize,i=void 0===a?E:a;f.value===u?C({before:n,after:o}):A({before:t,after:i})}},1599:function(e,t,n){"use strict";n.r(t),n.d(t,"OnboardingContextProvider",(function(){return l})),n.d(t,"useOnboardingContext",(function(){return u}));var r=n(4),o=n.n(r),a=n(1),i=n(1614),c=n(0),s=Object(a.createContext)(null);function l(e){var t=e.children,n=Object(a.useState)({}),r=o()(n,2),l=r[0],u=r[1],d=Object(i.useOnboardingLayoutVisible)(),f=d.visible,p=d.customVisibleRef,b=Object(a.useCallback)((function(){p.current=!0}),[p]),m=Object(a.useMemo)((function(){return{context:l,setContext:u,visible:f,forceVisibleUnfocused:b}}),[l,b,f]);return Object(c.jsx)(s.Provider,{value:m,children:t})}function u(){return Object(a.useContext)(s)}},16:function(e,t,n){"use strict";n.r(t),n.d(t,"RootRoutes",(function(){return r})),n.d(t,"MainRoutes",(function(){return o})),n.d(t,"TabRoutes",(function(){return a})),n.d(t,"HomeRoutes",(function(){return i})),n.d(t,"GalleryRoutes",(function(){return c})),n.d(t,"ModalRoutes",(function(){return s})),n.d(t,"ReceiveTokenModalRoutes",(function(){return l})),n.d(t,"CreateAccountModalRoutes",(function(){return u})),n.d(t,"RecoverAccountModalRoutes",(function(){return d})),n.d(t,"ManageNetworkModalRoutes",(function(){return f})),n.d(t,"CreateWalletModalRoutes",(function(){return p})),n.d(t,"TransactionDetailModalRoutes",(function(){return b})),n.d(t,"SubmitRequestModalRoutes",(function(){return m})),n.d(t,"CollectiblesModalRoutes",(function(){return h})),n.d(t,"FiatPayModalRoutes",(function(){return j})),n.d(t,"BackupWalletModalRoutes",(function(){return O})),n.d(t,"OnekeyHardwareModalRoutes",(function(){return g})),n.d(t,"OnekeyLiteChangePinModalRoutes",(function(){return v})),n.d(t,"OnekeyLiteResetModalRoutes",(function(){return y})),n.d(t,"HardwareUpdateModalRoutes",(function(){return x})),n.d(t,"ImportBackupPasswordModalRoutes",(function(){return w})),n.d(t,"ManagerAccountModalRoutes",(function(){return _})),n.d(t,"ManagerWalletModalRoutes",(function(){return k})),n.d(t,"UpdateFeatureModalRoutes",(function(){return I})),n.d(t,"ManageTokenModalRoutes",(function(){return S})),n.d(t,"DappConnectionModalRoutes",(function(){return T})),n.d(t,"ClearCacheModalRoutes",(function(){return P})),n.d(t,"CoinControlModalRoutes",(function(){return C})),n.d(t,"InscribeModalRoutes",(function(){return M}));var r,o,a,i,c,s,l,u,d,f,p,b,m,h,j,O,g,v,y,x,w,_,k,I,S,T,P,C,M,A=n(178);n.d(t,"SendModalRoutes",(function(){return A.SendModalRoutes})),function(e){e.Main="main",e.Modal="modal",e.Onboarding="onboarding",e.Account="account",e.OnLanding="onlanding",e.OnLandingWalletConnect="onlanding_wallet_connect",e.Gallery="gallery"}(r||(r={})),function(e){e.Tab="tab"}(o||(o={})),function(e){e.Home="home",e.Swap="swap",e.Market="market",e.NFT="NFT",e.Discover="discover",e.Me="me",e.Developer="developer"}(a||(a={})),function(e){e.ScreenTokenDetail="TokenDetailScreen",e.FullTokenListScreen="FullTokenListScreen",e.Revoke="Revoke",e.RevokeRedirect="RevokeRedirect",e.RevokeRedirect2="RevokeRedirect2",e.OverviewDefiListScreen="OverviewDefiListScreen",e.BulkSender="BulkSender",e.NFTMarketStatsList="NFTMarketStatsList",e.NFTMarketLiveMintingList="NFTMarketLiveMintingList",e.NFTMarketCollectionScreen="NFTMarketCollectionScreen",e.NFTPNLScreen="NFTPNLScreen",e.ScreenOnekeyLiteDetail="OnekeyLiteDetailScreen",e.Protected="Protected",e.WalletSwitch="WalletSwitch",e.VolumeHaptic="VolumeHaptic",e.CloudBackup="CloudBackup",e.CloudBackupPreviousBackups="CloudBackupPreviousBackups",e.CloudBackupDetails="CloudBackupDetails",e.PushNotification="PushNotification",e.PushNotificationManagePriceAlert="PushNotificationManagePriceAlert",e.PushNotificationManageAccountDynamic="PushNotificationManageAccountDynamic",e.ClearCache="ClearCache",e.AdvancedSettings="AdvancedSettings",e.HardwareBridgeSettings="HardwareBridgeSettings",e.ExploreScreen="ExploreScreen",e.DAppListScreen="DAppListScreen",e.MyDAppListScreen="MyDAppListScreen",e.SwapHistory="SwapHistory",e.MarketDetail="MarketDetail"}(i||(i={})),function(e){e.Components="components",e.ComponentApproval="component/approval",e.ComponentSearchBar="component/searchBar",e.ComponentTextarea="component/textarea",e.ComponentAddress="component/address",e.ComponentInput="component/input",e.ComponentCard="component/card",e.ComponentTypography="component/typography",e.ComponentNFTImage="component/nftimage",e.ComponentToken="component/token",e.ComponentTheme="component/theme",e.ComponentIcon="component/icon",e.ComponentBadge="component/badge",e.ComponentMenu="component/menu",e.ComponentList="component/List",e.ComponentAlert="component/alert",e.ComponentButton="component/button",e.ComponentIconButton="component/icon-button",e.ComponentSelect="component/select",e.ComponentShadow="component/shadow",e.ComponentEmpty="component/empty",e.ComponentToast="component/toast",e.ComponentAccount="component/account",e.ComponentWalletSelector="component/walletSelector",e.ComponentAccountSelector="component/accountSelector",e.ComponentCheckbox="component/checkbox",e.ComponentSpinner="component/spinner",e.ComponentModal="component/modal",e.ComponentRadio="component/radio",e.ComponentRadioBox="component/radio-box",e.ComponentSwitch="component/switch",e.ComponentForm="component/form",e.ComponentQRCode="component/qrcode",e.ComponentMarkdown="component/markdown",e.ComponentDialog="component/dialog",e.ComponentDappModals="component/dappModals",e.ComponentPageActions="component/page-actions",e.ComponentSortableList="component/sortable-list",e.ComponentTabs="component/tabs",e.ComponentSegmentedControl="component/segmented-control",e.ComponentReduxMessage="component/redux-message",e.ComponentLogger="component/logger",e.ComponentFirebase="component/firebase",e.ComponentWebview="component/webview",e.ComponentPinCode="component/pincode",e.ComponentRestfulRequest="component/restful-request",e.ComponentImageViewer="component/imageViewer",e.ComponentEmojiList="component/EmojiList",e.ComponentKeyboard="component/Keyboard",e.ComponentContentBox="component/ContentBox",e.ComponentAppUpdate="component/AppUpdate",e.ComponentSkeleton="component/Skeleton",e.ComponentPopover="component/Popover",e.ComponentPriceChart="component/PriceChart",e.ComponentTypeWriter="component/TypeWriter",e.ComponentHomescreen="component/homescreen",e.ComponentToggleButtonGroup="component/ToggleButtonGroup",e.ComponentCollapse="component/Collapse",e.ComponentDotMap="component/DotMap",e.ComponentBottomSheetModal="component/BottomSheetModal",e.ComponentNavHeaderGallery="component/NavHeader",e.ComponentMnemonicCardGallery="component/MnemonicCard",e.ComponentSlider="component/Slider",e.ComponentInAppNotification="component/InAppNotification"}(c||(c={})),function(e){e.CreateAccount="CreateAccount",e.RecoverAccount="RecoverAccount",e.CreateWallet="CreateWallet",e.BackupWallet="BackupWallet",e.ManagerWallet="ManagerWallet",e.ManagerAccount="ManagerAccount",e.WalletViewMnemonics="WalletViewMnemonics",e.ManageConnectedSites="ManageConnectedSites",e.Send="Send",e.Receive="Receive",e.FiatPay="FiatPay",e.SubmitRequest="SubmitRequest",e.HistoryRequest="HistoryRequest",e.TransactionDetail="TransactionDetail",e.OnekeyLiteReset="OnekeyLiteReset",e.OnekeyLiteChangePinInputPin="OnekeyLiteChangePinInputPin",e.DappConnectionModal="DappConnectionModal",e.Password="Password",e.ManageToken="ManageToken",e.Collectibles="Collectibles",e.EnableLocalAuthentication="EnableLocalAuthentication",e.ManageNetwork="ManageNetwork",e.OnekeyHardware="OnekeyHardware",e.HardwareUpdate="HardwareUpdate",e.Discover="Discover",e.Swap="Swap",e.ScanQrcode="ScanQrcode",e.UpdateFeature="UpdateFeature",e.AddressBook="AddressBook",e.ImportBackupPassword="ImportBackupPassword",e.Staking="Staking",e.PushNotification="PushNotification",e.Webview="Webview",e.Revoke="Revoke",e.NFTMarket="NFTMarket",e.Overview="Overview",e.CurrencySelect="CurrencySelect",e.BulkSender="BulkSender",e.Market="Market",e.ClearCache="ClearCache",e.CoinControl="CoinControl",e.GasPanel="GasPanel",e.Inscribe="Inscribe"}(s||(s={})),function(e){e.ReceiveToken="ReceiveToken",e.CreateInvoice="CreateInvoice",e.ReceiveInvoice="ReceiveInvoice"}(l||(l={})),function(e){e.CreateAccountForm="CreateAccountForm",e.CreateAccountAuthentication="CreateAccountAuthentication",e.RecoverySelectChainList="RecoverySelectChainList",e.RecoverAccountsList="RecoverAccountList",e.RecoverAccountsAdvanced="RecoverAccountsAdvanced",e.RecoverAccountsConfirm="RecoverAccountsConfirm",e.RecoverAccountsConfirmAuthentication="RecoverAccountsConfirmAuthentication",e.BulkCopyAddresses="BulkCopyAddresses",e.FetchAddressModal="FetchAddressModal",e.ExportAddresses="ExportAddresses",e.BitcoinUsedAddress="BitcoinUsedAddress"}(u||(u={})),function(e){e.RecoverAccountsAdvanced="RecoverAccountsAdvanced",e.BulkCopyAddresses="BulkCopyAddresses",e.BitcoinUsedAddress="BitcoinUsedAddress"}(d||(d={})),function(e){e.NetworkAccountSelector="NetworkAccountSelector",e.NetworkSelector="NetworkSelector",e.Listing="Listing",e.AddNetwork="AddNetwork",e.CustomNetwork="CustomNetwork",e.PresetNetwork="PresetNetwork",e.AddNetworkConfirm="AddNetworkConfirm",e.SwitchNetwork="SwitchNetwork",e.RPCNode="RPCNode",e.QuickAdd="QuickAdd",e.Sort="Sort",e.SwitchRpc="SwitchRpc",e.AllNetworksNetworkSelector="AllNetworksNetworkSelector",e.AllNetworksAccountsDetail="AllNetworksAccountsDetail",e.AllNetworksSupportedNetworks="AllNetworksSupportedNetworks"}(f||(f={})),function(e){e.ConnectHardwareModal="ConnectHardwareModal",e.AppWalletDoneModal="AppWalletDoneModal",e.SetupSuccessModal="SetupSuccessModal",e.SetupHardwareModal="SetupHardwareModal",e.SetupNewDeviceModal="SetupNewDeviceModal",e.DeviceStatusCheckModal="DeviceStatusCheckModal",e.RestoreHardwareWalletModal="RestoreHardwareWalletModal",e.RestoreHardwareWalletDescriptionModal="RestoreHardwareWalletDescriptionModal",e.CreateWatchedAccount="CreateWatchedAccount",e.CreateImportedAccount="CreateImportedAccount",e.OnekeyLiteRestorePinCodeVerifyModal="OnekeyLiteRestorePinCodeVerifyModal",e.OnekeyLiteRestoreModal="OnekeyLiteRestoreModal",e.OnekeyLiteRestoreDoneModal="OnekeyLiteRestoreDoneModal",e.OnekeyLiteBackupPinCodeVerifyModal="OnekeyLiteBackupPinCodeVerifyModal",e.OnekeyLiteBackupModal="OnekeyLiteBackupModal",e.AddExistingWalletModal="AddExistingWalletModal",e.AddImportedOrWatchingAccountModal="AddImportedOrWatchingAccountModal",e.AddImportedAccountDoneModal="AddImportedAccountDoneModal",e.AttentionsModal="AttentionsModal",e.MnemonicModal="MnemonicModal",e.NewWalletModal="NewWalletModal",e.WalletConnectQrcodeModal="WalletConnectQrcodeModal"}(p||(p={})),function(e){e.HistoryDetailModal="HistoryDetailModal"}(b||(b={})),function(e){e.SubmitRequestModal="SubmitRequestModal"}(m||(m={})),function(e){e.CollectionModal="CollectionModal",e.NFTDetailModal="NFTDetailModal"}(h||(h={})),function(e){e.SupportTokenListModal="SupportTokenList",e.MoonpayWebViewModal="MoonpayWebViewModal"}(j||(j={})),function(e){e.BackupWalletOptionsModal="BackupWalletOptionsModal",e.BackupWalletManualModal="BackupWalletManualModal",e.BackupWalletLiteModal="BackupWalletLiteModal",e.BackupWalletAttentionsModal="BackupWalletAttentionsModal",e.BackupWalletMnemonicModal="BackupWalletMnemonicModal"}(O||(O={})),function(e){e.OnekeyHardwareDetailsModal="OnekeyHardwareDetailsModal",e.OnekeyHardwareVerifyModal="OnekeyHardwareVerifyModal",e.OnekeyHardwareConnectModal="OnekeyHardwareConnectModal",e.OnekeyHardwarePinCodeModal="OnekeyHardwarePinCodeModal",e.OnekeyHardwareConfirmModal="OnekeyHardwareConfirmModal",e.OnekeyDeviceWalletNameModal="OnekeyDeviceWalletNameModal",e.OnekeyHardwareDeviceNameModal="OnekeyHardwareDeviceNameModal",e.OnekeyHardwareHomeScreenModal="OnekeyHardwareHomeScreenModal"}(g||(g={})),function(e){e.OnekeyLiteChangePinInputPinModal="OnekeyLiteChangePinInputPinModal",e.OnekeyLiteChangePinSetModal="OnekeyLiteChangePinSetModal",e.OnekeyLiteChangePinRepeatModal="OnekeyLiteChangePinRepeatModal",e.OnekeyLiteChangePinModal="OnekeyLiteChangePinModal"}(v||(v={})),function(e){e.OnekeyLiteResetModal="OnekeyLiteResetModal"}(y||(y={})),function(e){e.HardwareUpdateInfoModel="HardwareUpdateInfoModel",e.HardwareUpdateWarningModal="HardwareUpdateWarningModal",e.HardwareUpdateWarningPowerModal="HardwareUpdateWarningPowerModal",e.HardwareUpdatingModal="HardwareUpdatingModal",e.HardwareUpdatingBootloaderModal="HardwareUpdatingBootloaderModal",e.HardwareUpdateResourceModal="HardwareUpdateResourceModal"}(x||(x={})),function(e){e.ImportBackupPassword="ImportBackupPassword"}(w||(w={})),function(e){e.ManagerAccountModal="ManagerAccountModal",e.ManagerAccountExportPrivateModal="ManagerAccountExportPrivateModal",e.ManagerAccountExportPublicModal="ManagerAccountExportPublicModal"}(_||(_={})),function(e){e.ManagerWalletModal="ManagerWalletModal",e.ManagerWalletAuthorityVerifyModal="ManagerWalletAuthorityVerifyModal",e.ManagerWalletModifyNameModal="ManagerWalletModifyNameModal",e.ManagerWalletModifyEmojiModal="ManagerWalletModifyEmojiModal"}(k||(k={})),function(e){e.UpdateFeatureModal="UpdateFeatureModal",e.ForcedUpdateModal="ForcedUpdateModal"}(I||(I={})),function(e){e.Listing="ListTokensModal",e.AddToken="AddToken",e.ActivateToken="ActivateToken",e.ViewToken="ViewToken",e.CustomToken="CustomToken",e.VerifiedToken="VerifiedToken",e.PriceAlertList="PriceAlertList",e.PriceAlertAdd="PriceAlertAdd",e.TokenRiskDetail="TokenRiskDetail"}(S||(S={})),function(e){e.ConnectionModal="ConnectionModal",e.NetworkNotMatchModal="NetworkNotMatchModal"}(T||(T={})),function(e){e.ClearCacheModal="ClearCacheModal",e.CopyBrowserUrlModal="CopyBrowserUrlModal"}(P||(P={})),function(e){e.CoinControlModal="CoinControlModal"}(C||(C={})),function(e){e.InscribeModal="InscribeModal",e.ReceiveAddress="ReceiveAddress",e.CreateOrder="CreateOrder",e.OrderList="OrderList",e.OrderDetail="OrderDetail"}(M||(M={}))},1606:function(e,t,n){"use strict";n.r(t),n.d(t,"useConnectAndCreateExternalAccount",(function(){return m}));var r=n(2),o=n.n(r),a=n(1),i=n(36),c=n(19),s=(n(24),n(17)),l=n(728),u=n(25),d=n(16),f=n(46),p=n(334),b=n(1086);function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.networkId,n=Object(u.useNavigation)(),r=s.default.serviceAccountSelector,m=Object(l.useWalletConnectQrcodeModal)(),h=m.connectToWallet,j=Object(b.useAddExternalAccount)(),O=j.addExternalAccount,g=Object(u.useActiveWalletAccount)(),v=g.externalWallet,y=Object(a.useCallback)(o()((function*(){var e,n=t||i.OnekeyNetwork.eth,o=!1,a=null==v?void 0:v.id;if(a)try{var s=yield h({isNewSession:!0});o=!0,yield r.preloadingCreateAccount({walletId:a,networkId:n});var l=yield O(s);e=l.account,n=l.networkId}catch(d){c.default.common.error(d)}finally{var u;if(yield Object(f.wait)(2e3),o)yield r.preloadingCreateAccountDone({walletId:a,networkId:n,accountId:null==(u=e)?void 0:u.id})}})),[O,h,null==v?void 0:v.id,t,r]),x=Object(a.useCallback)((function(){return n.navigate(d.RootRoutes.Onboarding,{screen:p.EOnboardingRoutes.ThirdPartyWallet,params:{disableAnimation:!0,disableOnboardingDone:!0}})}),[n]),w=Object(a.useCallback)(o()((function*(){x()})),[y,x]);return{goToOnboardingConnectWallet:x,connectToWcWalletDirectly:y,connectAndCreateExternalAccount:w}}},1614:function(e,t,n){"use strict";n.r(t),n.d(t,"useOnboardingLayoutVisible",(function(){return s})),n.d(t,"useOnboardingClose",(function(){return l}));var r=n(1),o=n(44),a=n(25),i=n(111),c=n(226);function s(){var e,t=Object(o.useIsFocused)(),n=Object(r.useRef)();return t&&(n.current=void 0),{visible:null!=(e=n.current)?e:t,customVisibleRef:n}}function l(){var e=Object(a.useNavigationActions)().resetToRoot,t=Object(r.useCallback)((function(){e(),Object(c.closeExtensionWindowIfOnboardingFinished)()}),[e]);return{onboardingGoBack:Object(i.useNavigationBack)({fallback:t})}}},1615:function(e,t,n){"use strict";n.r(t),n.d(t,"useSearchTokens",(function(){return d})),n.d(t,"useTokenSourceList",(function(){return f})),n.d(t,"useTokenSecurityInfo",(function(){return p})),n.d(t,"useAddressSecurityInfo",(function(){return b})),n.d(t,"useFiatPayTokens",(function(){return m}));var r=n(2),o=n.n(r),a=n(4),i=n.n(a),c=n(1),s=n(326),l=n(17),u=n(459),d=function(e,t,n,r){var a=Object(c.useState)(!1),s=i()(a,2),d=s[0],f=s[1],p=Object(c.useState)([]),b=i()(p,2),m=b[0],h=b[1];return Object(c.useEffect)((function(){e!==t&&(h([]),f(!0))}),[e,t]),Object(c.useEffect)((function(){function t(){return(t=o()((function*(){if(0===e.length||!n||!r)return f(!1),void h([]);f(!0),h([]);var t=[];try{t=yield l.default.engine.searchTokens(n,e),h(t)}finally{f(!1)}var o=yield l.default.serviceToken.getAccountTokenBalance({accountId:r,networkId:n,tokenIds:t.map((function(e){return e.tokenIdOnNetwork}))}),a=i()(o,1)[0];l.default.dispatch(Object(u.setAccountTokensBalances)({accountId:r,networkId:n,tokensBalance:a}))}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n,r]),{loading:d,searchedTokens:m}},f=function(){var e=Object(c.useState)(!0),t=i()(e,2),n=t[0],r=t[1],o=Object(c.useState)([]),a=i()(o,2),s=a[0],u=a[1];return Object(c.useEffect)((function(){r(!0),l.default.serviceToken.fetchTokenSource().then((function(e){u(e.filter((function(e){return e.count>0})))})).finally((function(){return r(!1)}))}),[]),{loading:n,data:null!=s?s:[]}},p=function(e,t){var n=Object(c.useState)(!1),r=i()(n,2),o=r[0],a=r[1],u=Object(c.useState)({safe:[],danger:[],warn:[],hasSecurity:!1}),d=i()(u,2),f=d[0],p=d[1],b=Object(c.useCallback)((function(){e&&t&&(a(!0),l.default.serviceToken.getTokenRiskyItems({networkId:e,address:t,apiName:s.GoPlusSupportApis.token_security}).then(p).finally((function(){a(!1)})))}),[e,t]);return Object(c.useEffect)((function(){b()}),[b]),{loading:o,data:f}},b=function(e,t){var n=Object(c.useState)(!1),r=i()(n,2),o=r[0],a=r[1],u=Object(c.useState)(),d=i()(u,2),f=d[0],p=d[1],b=Object(c.useCallback)((function(){e&&t&&(a(!0),l.default.serviceToken.getAddressRiskyItems({address:t,networkId:e,apiName:s.GoPlusSupportApis.address_security}).then(p).finally((function(){a(!1)})))}),[e,t]);return Object(c.useEffect)((function(){b()}),[b]),{loading:o,data:f}},m=function(e,t){var n=Object(c.useState)([]),r=i()(n,2),o=r[0],a=r[1],s=Object(c.useState)(!0),u=i()(s,2),d=u[0],f=u[1];return Object(c.useEffect)((function(){f(!0),l.default.serviceFiatPay.getFiatPayList({networkId:e,type:t}).then((function(e){a(e)})).finally((function(){return f(!1)}))}),[e,t]),{tokenList:o,loading:d}}},1616:function(e,t,n){"use strict";n.r(t),n.d(t,"notifyIfRiskToken",(function(){return l}));var r=n(48),o=n(285),a=n(69),i=n(326),c=n(308),s=n(17),l=function(e){var t;if(e.riskLevel&&!(e.riskLevel<=c.TokenRiskLevel.VERIFIED)){var n,l,u=null==e?void 0:e.networkId;if(!u)u=Object(a.generateNetworkIdByChainId)({impl:null!=(n=null==e?void 0:e.impl)?n:"",chainId:null!=(l=null==e?void 0:e.chainId)?l:""});s.default.serviceToken.getTokenRiskyItems({address:null!=(t=null==e?void 0:e.tokenIdOnNetwork)?t:(null==e?void 0:e.address)||"",networkId:u,apiName:i.GoPlusSupportApis.token_security}).then((function(t){var n,a;t.hasSecurity&&r.default.show({title:Object(o.formatMessage)({id:null!=t&&null!=(n=t.danger)&&n.length?"msg__str_is_a_risky_token_be_careful":"msg__str_is_an_attention_token_be_careful"},{0:null!=(a=null==e?void 0:e.symbol)?a:""})},{type:"default"})})).catch((function(){}))}}},163:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"fixAddressCase",(function(){return l})),n.d(t,"isWatchingAccount",(function(){return u})),n.d(t,"isExternalAccount",(function(){return d})),n.d(t,"isHdWallet",(function(){return f})),n.d(t,"isHardwareWallet",(function(){return p})),n.d(t,"isExternalWallet",(function(){return b})),n.d(t,"isPassphraseWallet",(function(){return m})),n.d(t,"filterPassphraseWallet",(function(){return h})),n.d(t,"handleDisplayPassphraseWallet",(function(){return j}));var r=n(452),o=n.n(r),a=n(74),i=n(261),c=n(376);n.d(t,"toBigIntHex",(function(){return c.toBigIntHex}));var s=n(11);function l(e){var t=e.impl,n=e.address;return s.IMPL_EVM===t?o()(n):n}function u(e){var t=e.accountId;return!(!t||!t.startsWith(a.WALLET_TYPE_WATCHING+"-"))}function d(e){var t=e.accountId;return!(!t||!t.startsWith(a.WALLET_TYPE_EXTERNAL+"-"))}function f(e){var t=e.walletId;return!(!t||!t.startsWith(a.WALLET_TYPE_HD+"-"))}function p(e){var t=e.walletId;return!(!t||!t.startsWith(a.WALLET_TYPE_HW+"-"))}function b(e){var t=e.walletId;return!(!t||t!==a.WALLET_TYPE_EXTERNAL)}function m(e){return!!e.passphraseState}var h=function(e,t,n){var r;return!m(e)||(!!t||null!=(r=null==n?void 0:n.includes(e.id))&&r)};function j(t){if(!e.$backgroundApiProxy)throw new Error("[engine] and [shared] is not allowed calling [kit-bg]. Please pass a callback to dbApi.addHWWallet()");(0,e.$backgroundApiProxy.dispatch)(Object(i.addDisplayPassphraseWallet)(t))}}.call(this,n(58))},1635:function(e,t,n){"use strict";n.r(t),n.d(t,"Attentions",(function(){return f}));var r=n(57),o=n(54),a=n(12),i=n(27),c=n(51),s=n(40),l=n(299),u=n(88),d=n(0),f=function(e){var t=e.navigateMode,n=e.onPress,f=e.pressTitle,p=Object(u.default)(),b=Object(l.default)(),m=[{emoji:"\ud83d\udd10",desc:p.formatMessage({id:"modal__attention_unlock"})},{emoji:"\ud83e\udd2b",desc:p.formatMessage({id:"modal__attention_shh"})},{emoji:"\ud83d\ude45\u200d\u2642\ufe0f",desc:p.formatMessage({id:"modal__attention_gesturing_no"})}];return Object(d.jsx)(r.default,{footer:null,hideBackButton:!!t,headerShown:!t,children:Object(d.jsxs)(a.default,{flex:1,px:{base:2,md:0},children:[Object(d.jsxs)(a.default,{flex:1,children:[Object(d.jsxs)(c.default,{mb:8,children:[Object(d.jsx)(c.default,{p:4,mb:4,bg:"surface-warning-default",rounded:"full",children:Object(d.jsx)(s.default,{name:"ExclamationTriangleOutline",width:24,height:24,color:"icon-warning"})}),Object(d.jsx)(i.default.DisplayLarge,{children:p.formatMessage({id:"modal__attention"})})]}),m.map((function(e){return Object(d.jsxs)(a.default,{flexDirection:"row",mb:4,children:[Object(d.jsx)(i.default.DisplayLarge,{mt:-1,mr:4,children:e.emoji}),Object(d.jsx)(i.default.Body1,{flex:1,children:e.desc})]},e.desc)}))]}),Object(d.jsx)(o.default,{mt:4,mb:b.bottom+"px",size:"xl",type:"primary",onPress:n,children:null!=f?f:p.formatMessage({id:"action__reveal_recovery_phrase"})})]})})}},1661:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(1662),a=n(16),i=n(234),c=n(0),s=Object(i.default)(),l=[{name:a.SubmitRequestModalRoutes.SubmitRequestModal,component:o.SubmitRequest}];t.default=function(){var e=Object(r.default)();return Object(c.jsx)(s.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:l.map((function(e){return Object(c.jsx)(s.Screen,{name:e.name,component:e.component},e.name)}))})}},1662:function(e,t,n){"use strict";n.r(t),n.d(t,"ImageView",(function(){return q})),n.d(t,"SubmitRequest",(function(){return X}));var r=n(57),o=n(82),a=n(47),i=n(331),c=n(27),s=n(126),l=n(48),u=n(3),d=n.n(u),f=n(13),p=n.n(f),b=n(2),m=n.n(b),h=n(4),j=n.n(h),O=n(64),g=n(40),v=n(12),y=n(51),x=n(76),w=n(106),_=n(50),k=n(1),I=n(44),S=n(107),T=n.n(S),P=n(1638),C=n(651),M=n(1570),A=n(649),E=n(88),D=n(301),R=n(167),N=n.n(R),L=n(24),B=n(305),F=n(45),U=n(111),H=n(1155),W=n(0);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(){return L.default.isNativeIOS?"App on iOS":L.default.isNativeAndroid?"App on Android":L.default.isRuntimeBrowser?"App on Browser":"Hardware"},K=function(e){switch(e){case"App on iOS":return"app_on_ios";case"App on Android":return"app_on_android";case"App on Browser":return"app_on_browser";case"App on Desktop":return"app_on_desktop";case"Hardware":return"hardware";default:return""}},q=function(e){var t=e.imageModel,n=e.onDelete,r=t.localPath,o=t.loading,a=t.filename,i=Object(D.default)().width,c=Object(_.default)(),s=((c?i:400)-2*(c?16:24))/4;return Object(W.jsxs)(M.default,{width:s+"px",height:s+"px",children:[Object(W.jsx)(v.default,{mt:"8px",ml:0,width:s-8+"px",height:s-8+"px",children:Object(W.jsxs)(M.default,{children:[Object(W.jsx)(w.default,{mt:0,ml:0,width:s-8+"px",height:s-8+"px",borderRadius:"12px",source:{uri:r},flex:1,preview:!0}),Object(W.jsx)(v.default,{mt:0,ml:0,display:o?"flex":"none",width:s-8+"px",height:s-8+"px",children:Object(W.jsx)(y.default,{flex:1,children:Object(W.jsx)(x.default,{size:"sm"})})})]})}),Object(W.jsx)(O.default,{onPress:function(){n(t)},children:Object(W.jsx)(v.default,{ml:s-20+"px",children:Object(W.jsx)(g.default,{size:20,name:"XCircleMini"})})})]},"ticket_image"+a)},Z=G(),X=function(){var e,t=Object(E.default)(),n=Object(U.useNavigationBack)(),u=Object(k.useState)(!1),d=j()(u,2),f=d[0],b=d[1],h=Object(D.default)().width,x=Object(_.default)(),w=Object(I.useNavigation)(),S=Object(F.useSettings)().instanceId,M=((x?h:400)-2*(x?16:24))/4,R=Object(k.useState)([]),L=j()(R,2),V=L[0],X=L[1],Y=Object(k.useCallback)(m()((function*(){var e=yield Object(P.launchImageLibraryAsync)({mediaTypes:C.MediaTypeOptions.Images,allowsEditing:!1,base64:!0,aspect:[4,3],quality:.3});if(!e.canceled){var n=e.assets[0],r=N.a.v4()+".png",o={loading:!0,localPath:n.uri,filename:r},a=n.uri;0,X((function(e){return[].concat(p()(e),[o])})),Object(H.uploadImage)({filename:r,image:a},S,(function(e,n){e?(X((function(e){var t=e.findIndex((function(e){return e.filename===r}));return t<0?e:[].concat(p()(e.slice(0,t)),p()(e.slice(t+1)))})),l.default.show({title:t.formatMessage({id:"msg__upload_failed"}),type:"error"})):X((function(e){var t=e.findIndex((function(e){return e.filename===r}));return t<0?e:[].concat(p()(e.slice(0,t)),[z(z({},e[t]),{},{loading:!1,token:n.data.upload.token})],p()(e.slice(t+1)))}))}))}})),[S,t]),Q=[{label:t.formatMessage({id:"form__hardware"}),value:"Hardware"},{label:t.formatMessage({id:"form__app_on_desktop"}),value:"App on Desktop"},{label:t.formatMessage({id:"form__app_on_browser"}),value:"App on Browser"},{label:t.formatMessage({id:"form__app_on_ios"}),value:"App on iOS"},{label:t.formatMessage({id:"form__app_on_android"}),value:"App on Android"}],$=Object(s.default)({mode:"onChange"}),J=$.control,ee=$.handleSubmit,te=$.formState.isValid,ne=Object(k.useCallback)(function(){var e=m()((function*(e){var r=[{id:360013393195,value:K(Z)}];return f?(e.seVersion.length>0&&r.push({id:360017727195,value:e.seVersion}),e.bleVersion.length>0&&r.push({id:360017731836,value:e.bleVersion}),e.firmwareVersion.length>0&&r.push({id:360017731816,value:e.firmwareVersion})):e.appVersion.length>0&&r.push({id:360013430096,value:e.appVersion}),T.a.post(Object(H.submitUri)(S),{email:e.email,ticket:{subject:e.comment,custom_fields:r,comment:{body:e.comment,uploads:function(){var e=[];return V.forEach((function(t){t.token&&e.push(t.token)})),e}()}}}).then((function(e){if(e.data.success){l.default.show({title:t.formatMessage({id:"msg__submitted_successfully"})});var r=e.data.data;setTimeout((function(){n()}),0),setTimeout((function(){Object(H.requestTicketDetail)(r.id,S)}),1e3)}})).catch((function(e){}))}));return function(t){return e.apply(this,arguments)}}(),[V,S,t,f,n]),re=Object(W.jsx)(c.default.Body2Strong,{mb:"4px",color:"text-subdued",children:t.formatMessage({id:"form__hint_optional"})}),oe=Object(k.useCallback)((function(){Z=G()}),[]);Object(k.useEffect)((function(){return w.addListener("beforeRemove",oe),function(){return w.removeListener("beforeRemove",oe)}}),[oe,w]);var ae=Object(F.useSettings)().version;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(B.SkipAppLock,{}),Object(W.jsx)(r.default,{header:t.formatMessage({id:"form__submit_a_request"}),hideSecondaryAction:!0,primaryActionTranslationId:"action__submit",primaryActionProps:{onPromise:function(){return ee(ne)()},isDisabled:!(te&&(null==(e=V.filter((function(e){return!(null!=e&&e.token)})))||!e.length))},scrollViewProps:{height:"560px",children:Object(W.jsxs)(a.default,{children:[Object(W.jsxs)(v.default,{zIndex:999,children:[Object(W.jsx)(c.default.Body2Strong,{mb:"4px",children:t.formatMessage({id:"form__request_type"})}),Object(W.jsx)(i.default,{withReactModal:!0,containerProps:{w:"full"},headerShown:!1,defaultValue:Z,options:Q,footer:null,onChange:function(e){Z=e,b("Hardware"===e)}})]}),Object(W.jsx)(a.default.Item,{label:t.formatMessage({id:"form__your_email"}),control:J,name:"email",rules:{required:t.formatMessage({id:"form__field_is_required"}),maxLength:{value:36,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,message:t.formatMessage({id:"msg__wrong_email_format"})}},defaultValue:"",children:Object(W.jsx)(a.default.Input,{placeholder:"example@gmail.com"})}),Object(W.jsx)(a.default.Item,{label:t.formatMessage({id:"form__your_request"}),labelAddon:Object(W.jsx)(o.default,{type:"plain",size:"xs",name:"PhotoMini",onPress:function(){V.length<4&&Y()}}),control:J,rules:{required:t.formatMessage({id:"form__field_is_required"}),maxLength:{value:1e3,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"comment",formControlProps:{width:"full"},defaultValue:"",children:Object(W.jsx)(a.default.Textarea,{placeholder:t.formatMessage({id:"form__your_question_is"}),borderRadius:"12px"})}),Object(W.jsxs)(A.default,{children:[V.map((function(e,t){return Object(W.jsx)(q,{imageModel:e,onDelete:function(e){X((function(t){var n=t.findIndex((function(t){return t.filename===e.filename}));return n<0?t:[].concat(p()(t.slice(0,n)),p()(t.slice(n+1)))}))}},t)})),V.length<4?Object(W.jsx)(O.default,{onPress:Y,children:Object(W.jsx)(y.default,{mt:"8px",width:M-8+"px",height:M-8+"px",borderRadius:"12px",borderWidth:1,borderColor:"border-default",children:Object(W.jsx)(g.default,{size:20,name:"PlusMini"})})}):null]}),f?[Object(W.jsx)(a.default.Item,{label:t.formatMessage({id:"form__firmware_version"}),labelAddon:re,control:J,rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"firmwareVersion",defaultValue:"",children:Object(W.jsx)(a.default.Input,{placeholder:"0.0.0"})}),Object(W.jsx)(a.default.Item,{label:t.formatMessage({id:"form__ble_version"}),labelAddon:re,control:J,rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"bleVersion",defaultValue:"",children:Object(W.jsx)(a.default.Input,{placeholder:"0.0.0"})}),Object(W.jsx)(a.default.Item,{label:t.formatMessage({id:"form__se_version"}),helpText:t.formatMessage({id:"content__these_information_may_be_found"}),rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},labelAddon:re,control:J,name:"seVersion",defaultValue:"",children:Object(W.jsx)(a.default.Input,{placeholder:"0.0.0.0"})})]:Object(W.jsx)(a.default.Item,{label:t.formatMessage({id:"form__app_version"}),labelAddon:re,control:J,rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"appVersion",defaultValue:ae,children:Object(W.jsx)(a.default.Input,{placeholder:"0.0.0"})})]})}})]})};t.default=X},1664:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(50),i=n(51),c=n(201),s=n(44),l=n(88),u=n(343),d=n(217),f=n(0);function p(e){var t,n=e.children,r=e.titleI18nKey,o=Object(l.default)(),a=Object(s.useRoute)().params||{},p=a.networkId,b=a.accountId,m=a.sourceInfo,h=Object(u.default)({id:null!=(t=null==m?void 0:m.id)?t:"",closeOnError:!0});return b?n:Object(f.jsx)(d.BaseSendModal,{header:o.formatMessage({id:r||"empty__no_account_title"}),accountId:b,networkId:p,secondaryActionTranslationId:"action__close",onSecondaryActionPress:function(e){var t=e.close;h.reject(),t()},hidePrimaryAction:!0,onModalClose:function(){h.reject()},children:Object(f.jsx)(i.default,{flex:1,minH:"300px",testID:"BaseSendRouteScreen-EmptyAccountView",children:Object(f.jsx)(c.default,{emoji:"\ud83d\udcb3",title:o.formatMessage({id:"empty__no_account_title"})})})})}p.wrap=function(e,t){return function(){return Object(f.jsx)(p,{titleI18nKey:t,children:Object(f.jsx)(e,{})})}};var b=n(1),m=n(93),h=n(41),j=n(76),O=n(20),g=n(12),v=n(183),y=n(2),x=n.n(y),w=n(452),_=n.n(w),k=n(15),I=n.n(k),S=n(21),T=n.n(S),P=n(52),C=n(11),M=n(163),A=n(24),E=n(25),D=n(203),R=n(6),N=n.n(R),L=n(9),B=n.n(L),F=n(14),U=n.n(F),H=n(7),W=n.n(H);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W()(e);if(t){var o=W()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U()(this,n)}}var z=function(e){B()(n,e);var t=V(n);function n(){return t.apply(this,arguments)}return n.prototype.render=function(){return this.state.error?Object(f.jsx)(O.default,{children:this.state.error.message}):this.props.children},N()(n)}(n(868).ErrorBoundaryBase),G=n(63),K=n(887),q=n.n(K),Z=n(402),X=n(17),Y=n(45),Q=n(16),$=n(177),J=n(302),ee=n(95);function te(e){var t=e.networkId,n=e.accountAddress,r=e.nativeToken,o=e.isWatchingAccount,a=e.balanceInsufficient,i=e.isNetworkNotMatched,c=e.isAccountNotMatched,u=e.editableNonceStatus,d=e.isNetworkBusy,p=e.isPendingTxSameNonce,b=e.isPendingTxSameNonceWithLowerGas,m=e.isLowMaxFee,h=e.pendingTxCount,j=[],O=Object(l.default)(),v=Object(s.useNavigation)(),y=Object(Y.useTools)(t),x=Object(E.useNetwork)({networkId:t}).network;if(c&&j.push(Object(f.jsx)(Z.FormErrorMessage,{isAlertStyle:!0,message:O.formatMessage({id:"msg__mismatched_account"})})),i&&j.push(Object(f.jsx)(Z.FormErrorMessage,{isAlertStyle:!0,message:O.formatMessage({id:"msg__mismatched_networks"})})),o&&j.push(Object(f.jsx)(Z.FormErrorMessage,{isAlertStyle:!0,message:O.formatMessage({id:"form__error_trade_with_watched_acocunt"})})),a){var w,_,k=q()(y,{title:"GasShop"});j.push(Object(f.jsx)(Z.FormErrorMessage,{isAlertStyle:!0,action:null!=k&&k.link?O.formatMessage({id:"action__buy"}):void 0,onAction:function(){k&&k.link&&Object(J.openUrl)(k.link.replace("{address}",null!=n?n:""))},message:O.formatMessage({id:"msg__str_is_required_for_network_fees_top_up_str_to_make_tx"},{0:null!=(w=null==r?void 0:r.symbol)?w:"",1:null!=(_=null==x?void 0:x.name)?_:""})}))}return b||p||u!==ee.EditableNonceStatusEnum.Less||j.push(Object(f.jsx)(Z.FormErrorMessage,{alertType:"warn",isAlertStyle:!0,message:O.formatMessage({id:"msg__nonce_has_been_used_and_may_cause_this_transaction_to_fail"})})),u===ee.EditableNonceStatusEnum.Greater&&j.push(Object(f.jsx)(Z.FormErrorMessage,{alertType:"warn",isAlertStyle:!0,message:O.formatMessage({id:"msg__nonce_is_higher_means_the_tx_will_queued_until_tx_before_are_confirmed"})})),b&&j.push(Object(f.jsx)(Z.FormErrorMessage,{isAlertStyle:!0,alertType:"warn",message:O.formatMessage({id:"msg__transaction_with_the_same_nonce_already_exist_please_pay_a_higher_network_fee_otherwise_the_transaction_may_fail"})})),!b&&u!==ee.EditableNonceStatusEnum.Less&&m&&j.push(Object(f.jsx)(Z.FormErrorMessage,{alertType:"warn",isAlertStyle:!0,message:O.formatMessage({id:"msg__eth_tx_warning_future_tx_will_queue"})})),h&&"0"!==h&&j.push(Object(f.jsx)(Z.FormErrorMessage,{alertType:"info",isAlertStyle:!0,message:O.formatMessage({id:"msg__eth_tx_warning_tx_will_be_queued_str"},{number:h}),action:O.formatMessage({id:"action__view"}),onAction:function(){X.default.dispatch(Object($.setHomeTabName)("History")),null==v||v.navigate(Q.RootRoutes.Main,{screen:Q.MainRoutes.Tab,params:{screen:Q.TabRoutes.Home}})}})),d&&j.push(Object(f.jsx)(Z.FormErrorMessage,{alertType:"info",isAlertStyle:!0,message:O.formatMessage({id:"msg__eth_tx_warning_network_busy_gas_is_high"})})),j&&j.length?Object(f.jsx)(G.default,{testID:"SendConfirmErrorsAlert",space:2,pb:4,children:j.map((function(e,t){return Object(f.jsx)(g.default,{children:e},t)}))}):null}var ne=["children","encodedTxs","decodedTxs","confirmDisabled","feeInfoPayloads","feeInfoLoading","totalFeeInNative","handleConfirm","updateEncodedTxsBeforeConfirm","autoConfirm","sourceInfo","feeInput","tokenTransferInfo","isWaitingTxReady","isSingleTransformMode"];function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=e.children,n=e.encodedTxs,r=e.decodedTxs,o=e.confirmDisabled,c=e.feeInfoPayloads,s=e.feeInfoLoading,u=e.totalFeeInNative,p=e.handleConfirm,m=e.updateEncodedTxsBeforeConfirm,y=e.autoConfirm,w=(e.sourceInfo,e.feeInput),k=e.tokenTransferInfo,S=e.isWaitingTxReady,A=e.isSingleTransformMode,R=I()(e,ne),N=n[0],L=r[0],B=c[0],F=Object(l.default)(),U=Object(a.default)(),H=Object(E.useActiveSideAccount)(e),W=H.networkImpl,V=H.networkId,G=H.accountId,K=H.accountAddress,q=Object(D.useNativeToken)(V),Z=Object(E.useTokenBalanceWithoutFrozen)({networkId:V,accountId:G,token:q,fallback:"0"}),X=Object(b.useMemo)((function(){var e=new T.a(0);for(var t of r)for(var n of t.actions){var o,a;if(n.type===P.IDecodedTxActionType.NATIVE_TRANSFER)e=e.plus(null!=(o=null==(a=n.nativeTransfer)?void 0:a.amount)?o:0)}return new T.a(null!=Z?Z:"0").lt(e.plus(u))}),[u,Z,r]),Y=Object(b.useMemo)((function(){return Object(M.isWatchingAccount)({accountId:G})}),[G]),Q=Object(b.useMemo)((function(){if(!N)return!1;if(W===C.IMPL_EVM){var e=N;if(e&&K&&_()(e.from)!==_()(K))return!0}return!1}),[K,N,W]),$=Object(b.useCallback)(function(){var e=x()((function*(e){var t=e.close,r=e.onClose,o=n;o&&(m&&(o=yield m(o)),p({close:t,onClose:r,encodedTxs:o}))}));return function(t){return e.apply(this,arguments)}}(),[n,p,m]),J=Object(f.jsxs)(f.Fragment,{children:[!y&&Object(f.jsx)(te,{nativeToken:q,isWatchingAccount:Y,balanceInsufficient:X,isAccountNotMatched:Q}),Object(f.jsx)(g.default,{mb:3,children:Object(f.jsx)(v.default,{dismiss:!1,title:F.formatMessage({id:"content__do_not_transfer_to_any_exchange_accounts_to_avoid_loss_of_assets"}),alertType:"warn"})}),w&&Object(f.jsx)(g.default,{mb:3,children:w}),k&&Object(f.jsx)(g.default,{mb:3,children:k}),!A&&Object(f.jsx)(O.default,{typography:"Caption",color:"text-subdued",mb:6,children:F.formatMessage({id:"content__to_ensure_that_the_transaction_will_be_successfully_sent"})})]}),ee=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(z,{children:t}),null]});return Object(f.jsx)(d.BaseSendModal,oe(oe({size:U||A?"xs":"xl",height:"598px",primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:Y||X||Q||s||!B||!N||!L||S||o},secondaryActionTranslationId:"action__cancel",header:F.formatMessage({id:A?"form__transaction":"form__multiple_transactions"}),onSecondaryActionPress:function(e){return(0,e.close)()},onPrimaryActionPress:$},R),{},{scrollViewProps:{children:Object(f.jsxs)(f.Fragment,{children:[S&&Object(f.jsx)(i.default,{minH:"320px",w:"full",h:"full",flex:1,children:Object(f.jsx)(j.default,{size:"lg"})}),!S&&(U||A?Object(f.jsxs)(f.Fragment,{children:[J,ee]}):Object(f.jsxs)(h.default,{space:6,children:[Object(f.jsx)(g.default,{flex:1,children:ee}),Object(f.jsx)(g.default,{flex:1,children:J})]}))]})}}))}var ie=n(1090),ce=n(89),se=n(455),le=n.n(se),ue=n(316),de=n.n(ue),fe=n(1299),pe=n(920),be=n(226),me=n(950),he=n(645),je=n(100);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=e.title,n=e.content;return Object(f.jsxs)(g.default,{flex:1,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:t}),Object(f.jsx)(O.default,{typography:"Body1Strong",mt:1,children:n})]})}function ye(e){for(var t,n,r,o,a=e.accountId,i=e.networkId,c=e.payloadInfo,s=Object(l.default)(),u=null!=(t=null==c?void 0:c.transferInfos)?t:[],d=u[0],p=d.token,b=new T.a(0),m=new Set,j=0;j<u.length;j+=1)b=b.plus(u[j].amount),m.add(u[j].to.toLowerCase());var O=Object(D.useSingleToken)(i,null!=p?p:"").token,v=Object(D.useNativeToken)(i),y=Object(E.useTokenBalance)({accountId:a,networkId:i,token:ge(ge({},O),{},{sendAddress:d.tokenSendAddress}),fallback:"0"}),x=Object(E.useTokenBalance)({accountId:a,networkId:i,token:v,fallback:"0"});return Object(f.jsxs)(g.default,{borderWidth:1,borderColor:"border-subdued",borderStyle:"solid",borderRadius:"12px",paddingX:4,bgColor:"surface-default",children:[Object(f.jsxs)(h.default,{paddingY:4,space:2,children:[Object(f.jsx)(ve,{title:s.formatMessage({id:"form__address_count"}),content:Array.from(m).length.toString()}),Object(f.jsx)(ve,{title:s.formatMessage({id:"form__transfer_amount"}),content:b.toFixed()+" "+(null!=(n=null==O?void 0:O.symbol)?n:"")})]}),Object(f.jsx)(je.default,{}),Object(f.jsxs)(h.default,{paddingY:4,space:2,children:[!(null!=O&&O.isNative)&&Object(f.jsx)(ve,{title:s.formatMessage({id:"form__token_balance"}),content:(null!=y?y:0)+" "+(null!=(r=null==O?void 0:O.symbol)?r:"")}),Object(f.jsx)(ve,{title:s.formatMessage({id:"form__str_balance"},{symbol:null==v?void 0:v.symbol}),content:(null!=x?x:0)+" "+(null!=(o=null==v?void 0:v.symbol)?o:"")})]})]})}var xe=n(486),we=n(474),_e=n(412),ke=n(40),Ie=n(4),Se=n.n(Ie),Te=n(414),Pe=n(23),Ce=n(125),Me=n(169),Ae=n(99),Ee=n(1087),De=n(596);function Re(e){var t,n=e.feeInfoPayload,r=e.value,o=e.onChange,a=Object(b.useMemo)((function(){var e,t;return null!=(e=null==n||null==(t=n.info)?void 0:t.prices)?e:[]}),[null==n||null==(t=n.info)?void 0:t.prices]),i=Object(b.useMemo)((function(){return a?a.map((function(e,t){return{value:t.toString(),title:Object(f.jsx)(De.FeeSpeedLabel,{index:t,alignItems:"center",space:2})}})):[]}),[a]);return Object(f.jsx)(Ee.default,{padding:0,pb:6,items:i,name:"standard fee group",value:r,onChange:o})}function Ne(e){var t=Object(E.useAppSelector)((function(e){return e.data.feePresetIndexMap}));return null==t?void 0:t[e]}function Le(e){var t,n=e.networkId,r=Object(E.useNetwork)({networkId:n}).network;return Boolean(null==r||null==(t=r.settings)?void 0:t.feeInfoEditable)}function Be(e){var t=e.children,n=e.canPress,r=e.onPress;return n?Object(f.jsx)(Te.default,{onPress:r,activeOpacity:.9,children:t}):Object(f.jsx)(f.Fragment,{children:t})}function Fe(e){var t,n,r,o=e.feeInfoPayloads,a=e.feeInfoLoading,i=e.totalFeeInNative,c=e.minTotalFeeInNative,u=e.accountId,d=e.networkId,p=e.encodedTxs,m=e.batchSendConfirmParams,v=e.isSingleTransformMode,y=e.feeInfoError,x=Object(b.useState)(!1),w=Se()(x,2),_=w[0],k=w[1],I=Object(s.useNavigation)(),S=Object(l.default)(),T=Ne(d),P=Le({networkId:d})&&e.editable,C=p[0],M=o[0],A=(v?null==M||null==(t=M.selected)?void 0:t.preset:T)||"0";M&&M.selected&&(M.selected.preset=A);var E,D,R=(null==M||null==(n=M.info)?void 0:n.nativeSymbol)||"",N=a||!P||!C||!M||m.signOnly,L=Object(b.useMemo)((function(){if(!y)return null;var e=null;return(e=y instanceof Pe.OneKeyError&&"onekey_error"!==y.key?S.formatMessage({id:y.key}):y.message)&&e.length>350&&(e=e.slice(0,350)+"..."),!!e&&!a&&Object(f.jsx)(_e.default,{maxW:"360px",isOpen:_,hasArrow:!0,label:e,bg:"surface-neutral-default",_text:{color:"text-default",fontSize:"14px"},px:"16px",py:"8px",placement:"top",borderRadius:"12px",children:Object(f.jsx)(g.default,{children:Object(f.jsx)(ke.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})})})}),[y,_,S,a]),B=Object(b.useCallback)((function(){Object(Ae.showOverlay)((function(e){return Object(f.jsx)(we.default,{title:S.formatMessage({id:"action__edit_fee"}),closeOverlay:e,children:Object(f.jsx)(Re,{feeInfoPayload:M,value:M.selected.preset,onChange:function(t){e(),X.default.dispatch(Object(Me.setFeePresetIndex)({networkId:d,index:t}))}})})}))}),[M,S,d]),F=Object(b.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace,n=void 0!==t&&t;if(!N)return v?void(n?I.replace(ee.SendModalRoutes.SendEditFee,{networkId:d,accountId:u,encodedTx:C,feeInfoSelected:null==M?void 0:M.selected,forBatchSend:!v}):I.navigate({name:ee.SendModalRoutes.SendEditFee,params:{networkId:d,accountId:u,encodedTx:C,feeInfoSelected:null==M?void 0:M.selected,forBatchSend:!v}})):B()}),[N,v,B,I,d,u,C,null==M?void 0:M.selected]);return v?Object(f.jsx)(Be,{canPress:!!L,onPress:function(){return k(!_)},children:Object(f.jsx)(xe.default.Box,{borderWidth:1,borderColor:"border-subdued",children:Object(f.jsx)(xe.default.Item,{onPress:N?null:F,wrap:Object(f.jsxs)(h.default,{p:4,alignItems:"center",pr:2,children:[Object(f.jsxs)(G.default,{flex:1,space:1,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:S.formatMessage({id:"form__gas_fee_settings"})}),Object(f.jsxs)(h.default,{alignItems:"center",children:[Object(f.jsx)(De.FeeSpeedLabel,{prices:null==M||null==(E=M.info)?void 0:E.prices,index:A,space:2,alignItems:"center"}),Object(f.jsx)(O.default,{typography:"Body1Strong",children:Object(f.jsx)(Ce.FormatCurrencyNativeOfAccount,{networkId:d,accountId:u,value:i,render:function(e){return Object(f.jsxs)(f.Fragment,{children:["(~ ",e,")"]})}})})]}),Object(f.jsxs)(g.default,{w:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:[M?Object(f.jsx)(O.default,{typography:"Body2",color:"text-subdued",children:i+" "+((null==M||null==(D=M.info)?void 0:D.nativeSymbol)||"")}):Object(f.jsx)(O.default,{color:"text-subdued",flex:1,children:S.formatMessage({id:"content__calculate_fee"})}),Object(f.jsx)(g.default,{w:2}),L,a?Object(f.jsx)(j.default,{size:"sm"}):null,Object(f.jsx)(g.default,{flex:1})]})]}),!N&&Object(f.jsx)(g.default,{children:Object(f.jsx)(ke.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})})}):Object(f.jsxs)(xe.default.Box,{borderWidth:1,borderColor:"border-subdued",children:[Object(f.jsx)(xe.default.Item,{onPress:N?null:F,wrap:Object(f.jsxs)(h.default,{p:4,alignItems:"center",pr:2,children:[Object(f.jsxs)(G.default,{flex:1,space:1,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:S.formatMessage({id:"form__gas_fee_settings"})}),Object(f.jsx)(De.FeeSpeedLabel,{index:A,prices:null==M||null==(r=M.info)?void 0:r.prices,alignItems:"center",space:2})]}),!N&&Object(f.jsx)(g.default,{children:Object(f.jsx)(ke.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})}),Object(f.jsx)(xe.default.Item,{hidePadding:!0,wrap:Object(f.jsx)(Be,{canPress:!!L,onPress:function(){return k(!_)},children:Object(f.jsx)(g.default,{flexDirection:"column",w:"100%",p:4,children:Object(f.jsxs)(G.default,{space:1,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:S.formatMessage({id:"form__estimate_total_gas_fee"})}),Object(f.jsxs)(g.default,{w:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:[M?Object(f.jsxs)(O.default,{typography:"Body1Strong",children:[c===i&&i+" "+R,c!==i&&c+" ~ "+i+" "+R]}):Object(f.jsx)(O.default,{color:"text-subdued",flex:1,children:S.formatMessage({id:"content__calculate_fee"})}),Object(f.jsx)(g.default,{w:2}),L,a?Object(f.jsx)(j.default,{size:"sm"}):null,Object(f.jsx)(g.default,{flex:1})]})]})})})})]})}var Ue=n(514);function He(e){var t=e.networkId,n=e.accountId,r=e.encodedTxs,o=void 0===r?[]:r,a=e.payload,i=e.sourceInfo,c=Object(b.useState)([]),s=Se()(c,2),l=s[0],u=s[1],d=Object(b.useState)([]),f=Se()(d,2),p=f[0],m=f[1],h=X.default.engine,j=function(e){var t=e.sourceInfo;return Object(b.useMemo)((function(){if(null!=t&&t.origin)return{url:null==t?void 0:t.origin,name:"",description:"",icons:[],provider:null==t?void 0:t.scope}}),[null==t?void 0:t.origin,null==t?void 0:t.scope])}({sourceInfo:i});return Object(b.useEffect)((function(){Promise.all(o.map((function(e){return h.decodeTx({networkId:t,accountId:n,encodedTx:e,payload:a,interactInfo:j})}))).then((function(e){m(le()(e,"decodedTx")),u(le()(e,"decodedTxLegacy,"))}))}),[n,o,h,j,t,a]),{decodedTxs:p,decodedTxsLegacy:l}}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e){return delete e.gasPrice,delete e.maxPriorityFeePerGas,delete e.maxFeePerGas,e}function Ge(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=x()((function*(e){var t=e.accountId,n=e.networkId,r=e.encodedTx,o=e.currentHexData;return yield X.default.engine.updateEncodedTx({networkId:n,accountId:t,encodedTx:r,payload:o,options:{type:P.IEncodedTxUpdateType.customData}})}))).apply(this,arguments)}function qe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=x()((function*(e){var t=e.networkId,n=e.accountId,r=e.encodedTx,o=e.networkImpl,a=e.sendConfirmParams,i=e.address,c=e.selectedUtxos,s=e.currentHexData;if(!r)throw new Error("prepareEncodedTx encodedTx should NOT be null");if(o===C.IMPL_EVM){var l=Ve({},r);l.from=l.from||i,a.sourceInfo&&(l=ze(l));var u=new T.a(l.value);u.isNaN()||(l.value="0x"+u.toString(16));try{l.from&&(l.from=_()(l.from)||l.from),l.to&&(l.to=_()(l.to)||l.to)}catch(p){}if(n&&t)(yield X.default.engine.getVaultSettings(t)).hexDataEditable&&(l=yield Ge({accountId:n,networkId:t,encodedTx:l,currentHexData:s}));return Promise.resolve(l)}if(t){var d=yield X.default.engine.getVaultSettings(t);if(d.hexDataEditable)return n?yield Ge({accountId:n,networkId:t,encodedTx:r,currentHexData:s}):Promise.resolve(r);if(d.isBtcForkChain){var f=r;return n?yield X.default.engine.updateEncodedTx({networkId:t,accountId:n,encodedTx:f,payload:{selectedUtxos:c},options:{type:P.IEncodedTxUpdateType.advancedSettings}}):Promise.resolve(r)}}return Promise.resolve(r)}))).apply(this,arguments)}var Xe=n(48),Ye=n(13),Qe=n.n(Ye),$e=n(196),Je=n(19);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){var t=e.accountId,n=e.networkId;Object(b.useEffect)((function(){t&&n&&X.default.serviceToken.fetchAccountTokens({accountId:t,networkId:n})}),[t,n])}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e){var t=e.batchSendConfirmParamsParsed,n=t.navigation,r=t.routeParams,o=t.sourceInfo,a=t.payload,i=t.payloadInfo,c=t.dappApprove,u=t.onModalClose,d=t.networkId,p=t.accountId,m=t.feeInfoUseFeeInTx,h=t.feeInfoEditable,j=t.transferCount,g=t.transferType,v=Object(l.default)();Object(be.useOnboardingRequired)(),nt({networkId:d,accountId:p}),Object(pe.useDisableNavigationAnimation)({condition:!!r.autoConfirmAfterFeeSaved});var y=X.default.engine,w=X.default.serviceHistory,_=X.default.serviceToken,k=Object(E.useActiveSideAccount)({accountId:p,networkId:d}),I=k.networkImpl,S=k.accountAddress,P=k.walletId,C=function(e){var t=e.batchSendConfirmParams,n=e.networkImpl,r=e.address,o=Object(b.useState)([]),a=Se()(o,2),i=a[0],c=a[1];return Object(b.useEffect)((function(){Promise.all(t.encodedTxs.map((function(e){return qe({encodedTx:e,sendConfirmParams:t,networkImpl:n,address:r})}))).then(c)}),[r,n,t,t.encodedTxs]),{encodedTxs:i}}({batchSendConfirmParams:r,networkImpl:I,address:S||""}).encodedTxs,M=C[0],A=1===C.length,D=He({accountId:p,networkId:d,encodedTxs:C,payload:i,sourceInfo:o}).decodedTxs,R=D[0],N=D.length,L=function(e){var t,n=e.encodedTxs,r=e.decodedTxs,o=e.useFeeInTx,a=void 0!==o&&o,i=e.pollingInterval,c=void 0===i?0:i,l=e.fetchAnyway,u=void 0!==l&&l,d=e.networkId,f=e.accountId,p=e.signOnly,m=e.forBatchSend,h=e.transferCount,j=Object(s.useIsFocused)(),O=Object(E.useActiveSideAccount)({accountId:f,networkId:d}).network,g=Object(b.useState)(null),v=Se()(g,2),y=v[0],w=v[1],_=Object(b.useState)([]),k=Se()(_,2),I=k[0],S=k[1],P=Object(b.useState)(0),C=Se()(P,2),M=C[0],A=C[1],D=Object(b.useState)(0),R=Se()(D,2),N=R[0],L=R[1],B=Object(b.useRef)([]),F=Object(b.useRef)(),U=Object(b.useState)(!0),H=Se()(U,2),W=H[0],V=H[1],z=Object(s.useRoute)(),G=Ne(d),K=null==(t=z.params)?void 0:t.feeInfoSelected,q=Object(b.useCallback)((function(e){var t=e.info,n=e.index,r=parseInt(n,10),o=r>t.prices.length-1?t.prices.length-1:r,a=t.prices[o];return tt({eip1559:t.eip1559,limit:t.limit},t.eip1559?{price1559:a}:{price:a})}),[]),Z=Object(b.useCallback)(function(){var e=x()((function*(e,t){var n,r=!1,o=K,i=null!=O?O:{},c={nativeDecimals:i.decimals,nativeSymbol:i.symbol,feeDecimals:i.feeDecimals,feeSymbol:i.feeSymbol,prices:[],defaultPresetIndex:null!=G?G:"1"},s={price:"0",limit:"0"},l=null,b=!o||"preset"===(null==(n=o)?void 0:n.type);if(u&&(b=!0),b)try{c=yield X.default.engine.fetchFeeInfo({accountId:f,networkId:d,encodedTx:e,signOnly:p,transferCount:h})}catch(R){if(null!=O&&O.settings.nativeSupportBatchTransfer||!(yield X.default.serviceBatchTransfer.checkIsBatchTransfer({networkId:d,encodedTx:e}))){var j=R,g=j.code,v=j.data;return w(-32603===g&&v?v:R),Je.default.sendTx.error("engine.fetchFeeInfo ERROR: ",R),null}var y;r=!0;var x,_=0,k=0,I=(yield X.default.engine.getGasInfo(d)).prices,S=Boolean((null==I?void 0:I.length)&&(null==I?void 0:I.every((function(e){return"object"===typeof e})))),P=I[I.length-1];null!=t&&t.info.baseFeeValue&&new T.a(null!=(y=null==t?void 0:t.info.limit)?y:0).isLessThanOrEqualTo(0)&&!S?k=1.5*(_=new T.a(t.info.baseFeeValue).dividedBy(P).times(h).toNumber()):(k=+(yield X.default.engine.proxyJsonRPCCall(d,{method:"eth_getBlockByNumber",params:["latest",!1]})).gasLimit/10,null!=t&&null!=(x=t.info)&&x.limit&&(_=+t.info.limit*h,k=T.a.min(3*_,k).toNumber())),s=tt({eip1559:S,limit:String(k)},S?{price1559:P}:{price:P}),l=tt({eip1559:S,limit:String(_||k)},S?{price1559:P}:{price:P}),c.prices=I}r||(G&&(c.defaultPresetIndex=G),parseFloat(c.defaultPresetIndex)>c.prices.length-1&&(c.defaultPresetIndex=""+(c.prices.length-1)),parseFloat(c.defaultPresetIndex)<0&&(c.defaultPresetIndex="0")),!o&&c&&a&&c.tx&&(o={type:"custom",custom:c.tx,preset:c.defaultPresetIndex}),o=o||{type:"preset",preset:c.defaultPresetIndex},m&&c&&"preset"===o.type&&o.preset&&(c.customDisabled=!0),"custom"===o.type&&o.custom&&(s=o.custom),c&&"preset"===o.type&&o.preset&&!r&&(s=q({info:c,index:o.preset}));var C=Object($e.calculateTotalFeeRange)(s).max,M={value:s,total:C,totalNative:Object($e.calculateTotalFeeNative)({amount:C,info:c})};if(r&&l){var A=Object($e.calculateTotalFeeRange)(l).max,E=Object($e.calculateTotalFeeNative)({amount:A,info:c});M.minTotal=A,M.minTotalNative=E}var D={selected:o,info:c,current:M};return Je.default.sendTx.info("useFeeInfoPayload: ",D),D}));return function(t,n){return e.apply(this,arguments)}}(),[K,O,G,u,a,m,f,d,p,h,q]);return Object(b.useEffect)((function(){x()((function*(){if(!n.length)return null;V(!0);var e=n[0],t=yield Z(e),r=n.slice(1);try{var o=yield Promise.all(r.map((function(e){return Z(e,t)}))),a=[t].concat(Qe()(o)),i=a.includes(null)?[]:a;S(i),i.length>0&&w(null)}catch(s){if(-32603===s.code){var c=s.data.message;"string"===typeof c&&Xe.default.show({title:c})}S([]),w(s),Je.default.sendTx.error("fetchFeeInfo ERROR: ",s)}finally{V(!1)}}))()}),[r,n,Z,S]),Object(b.useEffect)((function(){return clearInterval(F.current),c&&j&&(F.current=setInterval(x()((function*(){if(!W&&"custom"!==(null==K?void 0:K.type))try{var e=n[0],t=yield Z(e),r=n.slice(1),o=yield Promise.all(r.map((function(e){return Z(e,t)})));if(o){var a=[t].concat(Qe()(o)),i=a.includes(null)?[]:a;S(i),B.current=i,i.length>0&&w(null)}else B.current&&B.current.length>0&&(S(B.current),w(null))}catch(c){B.current&&B.current.length>0?(S(B.current),w(null)):w(c),Je.default.sendTx.error("feeInfoPollingInterval ERROR: ",c)}})),c)),function(){clearInterval(F.current)}}),[null==K?void 0:K.type,Z,W,c,j,n]),Object(b.useEffect)((function(){var e=0,t=0;if(I.length===r.length&&0!==I.length){for(var n=0;n<I.length;n+=1){var o,a,i,c,s,l,u,d;if(r[n].totalFeeInNative)t+=new T.a(null!=(o=r[n].totalFeeInNative)?o:0).toNumber(),e+=new T.a(null!=(a=r[n].totalFeeInNative)?a:0).toNumber();else t+=new T.a(null!=(i=null==(c=I[n].current)?void 0:c.totalNative)?i:0).toNumber(),e+=new T.a(null!=(s=null!=(l=null==(u=I[n].current)?void 0:u.minTotalNative)?l:null==(d=I[n].current)?void 0:d.totalNative)?s:0).toNumber()}A(t),L(e)}}),[r,I]),{feeInfoError:y,minTotalFeeInNative:N,totalFeeInNative:M,feeInfoPayloads:I,feeInfoLoading:W,getSelectedFeeInfoUnit:q}}({accountId:p,networkId:d,encodedTxs:C,decodedTxs:D,useFeeInTx:m,pollingInterval:h?5e3:0,signOnly:r.signOnly,forBatchSend:!0,transferCount:j}),B=L.feeInfoError,F=L.feeInfoPayloads,U=L.feeInfoLoading,H=L.totalFeeInNative,W=L.minTotalFeeInNative;Object(fe.useWalletConnectPrepareConnection)({accountId:p,networkId:d});var V=Object(b.useCallback)(function(){var e=x()((function*(e){var t=e.close,o=e.encodedTxs;if(!de()(o)){var a=o;h&&!de()(F)&&(a=yield Promise.all(o.map((function(e,t){var n;return y.attachFeeInfoToEncodedTx({networkId:d,accountId:p,encodedTx:e,feeInfoValue:null==(n=F[t])?void 0:n.current.value})}))));var i=function(){var e=x()((function*(e,o){var a;_.fetchAccountTokens({accountId:p,networkId:d}),r.signOnly?yield c.resolve({result:le()(e,"rawTx")}):yield c.resolve({result:le()(e,"txid")});var i=r.signOnly?"Sign":"Send",s={networkId:d,accountId:p,txid:null!=(a=e[0].txid)?a:"unknown_txid",type:i,closeModal:t,onDetail:r.onDetail,isSingleTransformMode:A};n.navigate(Q.RootRoutes.Modal,{screen:Q.ModalRoutes.Send,params:{screen:ee.SendModalRoutes.SendFeedbackReceipt,params:s}}),r.onSuccess&&r.onSuccess(e,o),w.refreshHistoryUi(),setTimeout((function(){}),0)}));return function(t,n){return e.apply(this,arguments)}}(),s=ot(ot({},r),{},{encodedTxs:a,feeInfoPayloads:F,accountId:p,networkId:d,walletId:P,onSuccess:i,onFail:function(e){c.reject({error:e})},onModalClose:u});return n.navigate(Q.RootRoutes.Modal,{screen:Q.ModalRoutes.Send,params:{screen:ee.SendModalRoutes.BatchSendProgress,params:s}})}}));return function(t){return e.apply(this,arguments)}}(),[p,c,y,h,F,A,n,d,u,r,w,_,P]),z=Object(f.jsx)(Fe,{accountId:p,networkId:d,encodedTxs:C,feeInfoPayloads:F,feeInfoLoading:U,totalFeeInNative:H,minTotalFeeInNative:W,batchSendConfirmParams:r,editable:h,isSingleTransformMode:A,feeInfoError:B}),G=!R||!M,K=g===me.BulkSenderTypeEnum.NativeToken||g===me.BulkSenderTypeEnum.Token?Object(f.jsx)(ye,{accountId:p,networkId:d,type:g,payloadInfo:i}):null,q={accountId:p,networkId:d,batchSendConfirmParams:r,sourceInfo:o,encodedTxs:C,decodedTxs:D,payload:a,feeInfoPayloads:F,feeInfoLoading:U,feeInfoEditable:h,totalFeeInNative:H,feeInput:z,tokenTransferInfo:K,isWaitingTxReady:G,isSingleTransformMode:A,handleConfirm:V,onSecondaryActionPress:function(e){var t=e.close;c.reject(),t()},onModalClose:u,children:null},Z=Object(b.useCallback)((function(){for(var e=[],t=0,n=T.a.min(N,Ue.MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM).toNumber();t<n;t+=1)e.push({headerProps:{title:(v.formatMessage({id:"form__transaction"})+" #"+(t+1)).toUpperCase()},data:[D[t]]});return e}),[D,v,N]);return q.children=A?Object(f.jsx)(he.TxDetailView,{isSendConfirm:!0,isBatchSendConfirm:!0,isSingleTransformMode:A,decodedTx:R}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ie.default,{headerProps:{title:v.formatMessage({id:"form__multiple_transactions"})+" ("+C.length+")"},sections:Z(),renderItem:function(e){var t=e.item;return Object(f.jsx)(ce.default,{children:Object(f.jsx)(he.TxDetailView,{isSendConfirm:!0,isBatchSendConfirm:!0,isSingleTransformMode:A,decodedTx:t})},t.txid)}}),N>Ue.MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM&&Object(f.jsx)(O.default,{typography:"Body1Strong",color:"text-subdued",textAlign:"center",paddingY:4,children:v.formatMessage({id:"action__str_more_transations"},{count:N-Ue.MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM})})]}),Object(f.jsx)(ae,ot({},q))}var it=function(){var e=function(){var e,t,n,r,o,a,i=Object(s.useNavigation)(),c=Object(s.useRoute)(),l=Object(b.useRef)({}),d=null!=(e=c.params)?e:l.current,f=d.sourceInfo,p=d.resendActionInfo,m=d.encodedTxs,h=d.onModalClose,j=d.networkId,O=d.accountId,g=d.transferCount,v=d.transferType,y=!!d.sourceInfo,x=null==(t=d.feeInfoEditable)||t,w=null!=(n=d.feeInfoUseFeeInTx)&&n,_="cancel"===(null==(r=d.resendActionInfo)?void 0:r.type)||"speedUp"===(null==(o=d.resendActionInfo)?void 0:o.type),k=Object(b.useMemo)((function(){return d.payload}),[d.payload]),I=Object(u.default)({id:null!=(a=null==f?void 0:f.id)?a:"",closeOnError:!0}),S=Object(b.useRef)(h),T=Object(b.useRef)(!1),P=Object(b.useCallback)((function(){T.current||(I.reject(),S.current&&S.current(),T.current=!0)}),[I]);Object.assign(d,{onModalClose:P});var C="InternalSwap"===(null==k?void 0:k.payloadType);return{networkId:j,accountId:O,transferCount:g,transferType:v,dappApprove:I,onModalClose:P,encodedTxs:m,navigation:i,route:c,routeParams:d,sourceInfo:f,isFromDapp:y,feeInfoEditable:x,feeInfoUseFeeInTx:w,isSpeedUpOrCancel:_,payload:k,payloadInfo:d.payloadInfo,resendActionInfo:p,isInternalSwapTx:C,isTransferTypeTx:!1}}(),t=e.sourceInfo,n=e.routeParams;return Object(b.useMemo)((function(){return!!t&&!m.ENABLED_DAPP_SCOPE.includes(t.scope)}),[t])?Object(f.jsx)(ae,{accountId:n.accountId,networkId:n.networkId,batchSendConfirmParams:n,feeInfoPayloads:[],feeInfoLoading:!1,encodedTxs:[],decodedTxs:[],totalFeeInNative:0,handleConfirm:function(){return null},children:Object(f.jsx)(te,{isNetworkNotMatched:!0})}):Object(f.jsx)(at,{batchSendConfirmParamsParsed:e})},ct=n(54),st=n(1080),lt=n(367),ut=n(214),dt=n(644),ft=n(860),pt=n(80),bt=n(46),mt=n(271),ht=n.n(mt),jt=n(154),Ot=n.n(jt),gt=n(114),vt=n(728),yt=n(1308),xt=n(101),wt=n(111),_t=n(1319),kt=n(109),It=n(64),St=n(106),Tt=n(108),Pt=n(69),Ct=n(2626),Mt=n.n(Ct),At=n(497),Et=n(699),Dt=n(1086);function Rt(e){var t=Object(l.default)(),n=e.onClose,r=e.onCancel,o=e.onSubmit,a=e.peerAddress,i=e.myAddress,c=e.peerChainId,s=e.accountInfo,u=e.currentAccount,d=e.currentNetwork,p=e.isAddressMismatched,m=e.isChainMismatched,j=e.connectToWalletResult,y=X.default.engine,w=Object(Dt.useAddExternalAccount)().addExternalAccount,_=Object(E.useNavigationActions)().openRootHome,k=Object(At.usePromiseResult)(x()((function*(){try{var e=Object(Pt.generateNetworkIdByChainId)({impl:C.IMPL_EVM,chainId:c});return yield y.getNetwork(e)}catch(t){return void Je.default.common.error(t)}})),[c]).result,I=Object(b.useMemo)((function(){return p&&m?"content__account_and_network_not_matched":p?"content__account_is_not_matched":m?"content__chain_is_not_matched":void 0}),[p,m]);return Object(f.jsx)(kt.default,{visible:!0,onClose:function(){null==n||n()},contentProps:{contentElement:Object(f.jsxs)(G.default,{space:6,alignSelf:"stretch",children:[Object(f.jsx)(v.default,{title:t.formatMessage({id:I}),alertType:"info",dismiss:!1}),Object(f.jsxs)(G.default,{children:[Object(f.jsxs)(h.default,{children:[Object(f.jsx)(St.default,{source:Mt.a,borderRadius:"6px",size:6}),Object(f.jsx)(O.default,{typography:"Body1Strong",ml:3,children:"OneKey"})]}),Object(f.jsxs)(h.default,{justifyContent:"space-between",py:3,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"form__account"})}),Object(f.jsx)(O.default,{typography:"Body2",children:Object(Tt.shortenAddress)(i)})]}),Object(f.jsxs)(h.default,{justifyContent:"space-between",py:3,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"network__network"})}),Object(f.jsx)(O.default,{typography:"Body2",children:d.shortName})]})]}),Object(f.jsxs)(G.default,{children:[Object(f.jsxs)(h.default,{children:[Object(f.jsx)(Et.default,{accountId:u.id,size:6,radius:"6px"}),Object(f.jsx)(O.default,{typography:"Body1Strong",ml:3,children:(null==s?void 0:s.walletName)||"3rd Wallet"})]}),Object(f.jsxs)(h.default,{justifyContent:"space-between",py:3,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"form__account"})}),Object(f.jsxs)(g.default,{children:[Object(f.jsx)(O.default,{typography:"Body2",color:p?"text-critical":"text-default",children:Object(Tt.shortenAddress)(a)}),"injectedProvider"===(null==s?void 0:s.type)?Object(f.jsx)(It.default,{onPress:x()((function*(){null==n||n(),j&&(yield w(j),_(),yield Object(bt.wait)(600),Xe.default.show({title:t.formatMessage({id:"msg__connect_and_switch"})}))})),children:Object(f.jsxs)(h.default,{justifyContent:"flex-end",children:[Object(f.jsx)(O.default,{color:"text-subdued",children:t.formatMessage({id:"action__connect"})}),Object(f.jsx)(ke.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})}):null]})]}),Object(f.jsxs)(h.default,{justifyContent:"space-between",py:3,children:[Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"network__network"})}),Object(f.jsx)(O.default,{typography:"Body2",color:m?"text-critical":"text-default",children:(null==k?void 0:k.shortName)||(c?"chainId="+c:"")})]})]})]})},footerButtonProps:{primaryActionProps:{type:"primary"},primaryActionTranslationId:"action__continue",onPrimaryActionPress:function(){o(),null==n||n()},onSecondaryActionPress:function(){r(),null==n||n()}}})}var Nt=["client","walletUrl","shouldTerminateConnection","shouldGoBack"];function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e){var t,n=e.encodedTx,r=e.unsignedMessage,o=e.sourceInfo,a=e.networkId,i=e.accountId,c=e.signOnly,s=Object(l.default)(),u=X.default.validator,d=function(e){var t=e.accountId,n=e.networkId,r=X.default.engine,o=X.default.serviceWalletConnect,a=Object(vt.useWalletConnectQrcodeModal)().connectToWallet,i=Object(b.useRef)(!1);Object(b.useEffect)((function(){return function(){i.current=!0}}),[]);var c=Object(b.useState)(),s=Se()(c,2),l=s[0],u=s[1],d=Object(wt.default)(),p=Object(b.useCallback)((function(e){var t=e.client,n=e.walletUrl,r=e.shouldTerminateConnection,o=e.shouldGoBack,a=I()(e,Nt);return new Promise((function(e){Object(Ae.showDialog)(Object(f.jsx)(Rt,Bt(Bt({},a),{},{onSubmit:function(){e(!0)},onCancel:x()((function*(){r&&(yield Object(yt.terminateWcConnection)({client:t,walletUrl:n})),o&&d.canGoBack()&&d.goBack(),e(!1)}))})))}))}),[d]),m=Object(b.useCallback)(x()((function*(){var e=yield o.getWalletConnectSessionOfAccount({accountId:t}),a=e.session,i=e.walletService,c=e.accountInfo,s=yield r.getNetwork(n),l={accountInfo:c,walletService:i,session:a,currentAccount:yield r.getAccount(t,n),currentNetwork:s,client:void 0,injectedConnectorInfo:void 0};return u(l),l})),[t,r,n,o]);return{externalAccountInfo:l,getExternalConnector:Object(b.useCallback)(x()((function*(){var e,n,r,o,c,s=yield m(),l=s.session,d=s.walletService,f=s.accountInfo,b=s.currentAccount,h=s.currentNetwork,j="injectedProvider"===(null==f?void 0:f.type),O="walletConnect"===(null==f?void 0:f.type),g={accountInfo:f,wcConnector:void 0,client:void 0,injectedConnectorInfo:void 0},v=NaN,y=[],x={walletService:d};if(O){var w;if((null==l||!l.connected)&&(yield Object(bt.wait)(xt.WALLET_CONNECT_SEND_SHOW_RECONNECT_QRCODE_MODAL_DELAY),i.current))return g;var _=yield a({session:l,walletService:d,accountId:t}),k=_.status,I=_.session,S=_.client;if(o=S,u((function(e){return e?Bt(Bt({},e),{},{session:I,client:o}):e})),!(r=null==(w=o)?void 0:w.connector))throw new Error("WalletConnect Error: connector not initialized.");v=r.chainId,y=r.accounts,x.client=S,x.session=I,x.status=k}if(j){var T,P,C,M=(c=Object(_t.getInjectedConnector)({name:null==f?void 0:f.walletName})).store;yield null==(T=c.connector)||null==T.connectEagerly?void 0:T.connectEagerly();var A=M.getState();null!=(P=A)&&null!=(C=P.accounts)&&C.length||(yield c.connector.activate(),A=M.getState()),v=A.chainId,y=A.accounts,x.injectedProviderState=A,x.externalAccountInfo=f,u((function(e){return e?Bt(Bt({},e),{},{injectedConnectorInfo:c}):e}))}var E=""+(null!=(e=v)?e:""),D=((null==(n=y)?void 0:n[0])||"").toLowerCase(),R=b.address,N=h.extraInfo.networkVersion,L=D!==R,B=E!==N;if(L||B){if(yield Object(bt.wait)(O?xt.WALLET_CONNECT_SEND_SHOW_MISMATCH_CONFIRM_DELAY:600),i.current)return g;if(!(yield p({myAddress:R,myChainId:N,peerAddress:D,peerChainId:E,client:o,accountInfo:f,currentAccount:b,currentNetwork:h,isAddressMismatched:L,isChainMismatched:B,walletUrl:null==f?void 0:f.walletUrl,shouldGoBack:!0,connectToWalletResult:x})))return g}return i.current?g:{injectedConnectorInfo:c,wcConnector:r,client:o,accountInfo:f}})),[t,a,m,p])}}({accountId:i,networkId:a}),p=d.getExternalConnector;return{externalAccountInfo:d.externalAccountInfo,sendTxForExternalAccount:Object(b.useCallback)(function(){var e=x()((function*(e){var t=e||n;if(!t)throw new Error("encodedTx is missing!");var r="",o=yield p(),a=o.wcConnector,i=o.injectedConnectorInfo,l=o.accountInfo;if("walletConnect"===(null==l?void 0:l.type)){if(!a)return;r=c?yield a.signTransaction(t):yield a.sendTransaction(t)}if("injectedProvider"===(null==l?void 0:l.type)){var d,f=null==i?void 0:i.connector;if(!f)return;r=yield null==f||null==(d=f.provider)?void 0:d.request({method:c?"eth_signTransaction":"eth_sendTransaction",params:[t]})}if(Je.default.walletConnect.info("sendTxForExternalAccount -> sendTransaction txid: ",r),r&&(yield u.isValidEvmTxid({txid:r})))return{txid:r,rawTx:"",encodedTx:t};var b=r&&Ot()(r)?r:s.formatMessage({id:"msg__transaction_failed"});throw new Error(b)}));return function(t){return e.apply(this,arguments)}}(),[n,u,s,p,c]),signMsgForExternalAccount:Object(b.useCallback)(x()((function*(){if(!r)throw new Error("unsignedMessage is missing!");var e=r.payload,t=r.type,n="",a=yield p(),i=a.wcConnector,c=a.injectedConnectorInfo,s=a.accountInfo;if("walletConnect"===(null==s?void 0:s.type)){if(!i)return;if(t===gt.ETHMessageTypes.PERSONAL_SIGN)n=yield i.signPersonalMessage(e);else if(t===gt.ETHMessageTypes.ETH_SIGN)n=yield i.signMessage(e);else{var l=ht()(e);if(t===gt.ETHMessageTypes.TYPED_DATA_V3||t===gt.ETHMessageTypes.TYPED_DATA_V4)null==l||l[1];n=yield i.signTypedData(l)}}if("injectedProvider"===(null==s?void 0:s.type)){var u,d,f=null==c?void 0:c.connector;if(!f)return;var b=Object(gt.getEthProviderMethodFromMessageType)(t);b=b||(null==o||null==(u=o.data)?void 0:u.method)||"",n=yield null==(d=f.provider)?void 0:d.request({method:b,params:e})}return n})),[r,p,null==o||null==(t=o.data)?void 0:t.method])}}var Ut=n(178);var Ht=Object(b.memo)((function(e){var t=e.password,n=e.currentState,r=e.setCurrentState,o=Object(b.useState)(0),a=Se()(o,2),c=a[0],u=a[1],d=Object(b.useState)(0),p=Se()(d,2),m=p[0],h=p[1],j=Object(s.useNavigation)(),v=Object(l.default)(),y=Object(s.useRoute)(),w=Object(b.useRef)(!1),_=Object(b.useRef)(!0),k=Object(b.useRef)(),I=y.params,S=I.networkId,P=I.accountId,A=I.encodedTxs,D=I.onSuccess,R=I.onFail,N=I.walletId,L=I.payloadInfo,B=I.feeInfoPayloads,F=I.backRouteName,U=I.sourceInfo,H=I.signOnly,W=void 0!==H&&H,V=L||y.params.payload,z=Object(dt.useInteractWithInfo)({sourceInfo:U}),G=Object(b.useMemo)((function(){return Object(M.isExternalAccount)({accountId:P})}),[P]),K=Ft({encodedTx:void 0,sourceInfo:U,networkId:S,accountId:P,signOnly:W}).sendTxForExternalAccount,q=Object(b.useRef)(n),Z=Object(ft.useWallet)({walletId:N}).wallet,Y=Object(E.useNetwork)({networkId:S}).network,Q=n===Ut.BatchSendState.inProgress,$=He({networkId:S,accountId:P,encodedTxs:A,sourceInfo:U,payload:V}).decodedTxs,J=A.length,ee=new T.a(m/J).toNumber(),te=Q&&c<J-2,ne=Object(b.useCallback)(x()((function*(){return q.current===Ut.BatchSendState.inProgress?Promise.resolve(!0):(yield Object(bt.wait)(1e3),ne())})),[q]),re=Object(b.useCallback)(x()((function*(){for(var e=[],n=0,r=A.length;n<r;n+=1){var o;yield ne(),u(n+1),Je.default.sendTx.info("Authentication sendTx:",y.params);var a,i=null,c=A[n];if(i=G?yield K(c):yield X.default.serviceBatchTransfer.signAndSendEncodedTx({password:t,networkId:S,accountId:P,encodedTx:c,signOnly:W,pendingTxs:le()(e,(function(e){return{id:e.txid}}))}),e.push(i),i)yield X.default.serviceHistory.saveSendConfirmHistory({networkId:S,accountId:P,data:{signedTx:i,encodedTx:A[n],decodedTx:(yield X.default.engine.decodeTx({networkId:S,accountId:P,encodedTx:A[n],payload:V,interactInfo:z})).decodedTx},feeInfo:null==(a=B[n])?void 0:a.current.value});if(Je.default.sendTx.info("Authentication sendTx DONE:",y.params,e),h(n+1),null!=(o=i)&&o.txid&&n<r-1&&(null==Y?void 0:Y.impl)===C.IMPL_SOL)for(var s,l=yield X.default.serviceBatchTransfer.confirmTransaction({networkId:S,txid:null==(s=i)?void 0:s.txid}),d=0;l!==lt.TransactionStatus.CONFIRM_AND_SUCCESS&&l!==lt.TransactionStatus.CONFIRM_BUT_FAILED&&d<10;){var f;yield Object(bt.wait)(5e3),l=yield X.default.serviceBatchTransfer.confirmTransaction({networkId:S,txid:null==(f=i)?void 0:f.txid}),d+=1}}return e})),[A,ne,y.params,G,null==Y?void 0:Y.impl,K,t,S,P,W,V,z,B]),oe=Object(b.useCallback)(x()((function*(){try{if(w.current)return;w.current=!0;var e,t=A,n=[];if(!de()(t)){if(e=n=yield re(),de()(n))return;var r=le()(n,"encodedTx").filter(Boolean);if(r.length!==n.length)throw new Error("signedTxs including null encodedTx, please check code");t=de()(r)?t:r}if(!de()(e)){var o,a,i,c,s=V;"InternalSwap"===(null==(o=s)?void 0:o.type)&&null!=(a=s)&&a.swapInfo&&null!=(i=s)&&null!=(c=i.swapInfo)&&c.isApprove&&(s=void 0),null==D||D(e,{signedTxs:n,encodedTxs:t,decodedTxs:de()(t)?[]:le()(yield Promise.all(t.map((function(e){return X.default.engine.decodeTx({networkId:S,accountId:P,encodedTx:e,payload:s,interactInfo:z})}))),"decodedTx")})}}catch(m){var l,u=m;if(Je.default.common.error(u),F)j.navigate({merge:!0,name:F,params:{}});else{var d;if(!_.current)return;null==(d=j.getParent())||null==d.goBack||d.goBack()}if(yield Object(bt.wait)(600),-32603===(null==u?void 0:u.code)&&"string"===typeof(null==u||null==(l=u.data)?void 0:l.message))Xe.default.show({title:u.data.message||v.formatMessage({id:"transaction__failed"}),description:u.data.message},{type:"error"});else{var f,p,b=null!=u&&u.key?v.formatMessage({id:null==u?void 0:u.key},null!=(f=null==u?void 0:u.info)?f:{}):null!=(p=null==u?void 0:u.message)?p:"";u.className!==Pe.OneKeyErrorClassNames.OneKeyWalletConnectModalCloseError&&(pt.deviceUtils.showErrorToast(u)||Xe.default.show({title:b||v.formatMessage({id:"transaction__failed"}),description:b},{type:"error"}))}yield Object(bt.wait)(100),null==R||R(u)}})),[P,F,A,z,v,j,S,D,R,V,re]);return Object(b.useEffect)((function(){return function(){_.current=!1,clearInterval(k.current)}}),[k,_]),Object(b.useEffect)((function(){de()($)||oe()}),[$,oe]),Object(b.useEffect)((function(){q.current=n}),[n]),Object(f.jsxs)(i.default,{h:"full",w:"full",children:[Object(f.jsx)(g.default,{position:"relative",children:Object(f.jsx)(st.default.Circle,{progress:ee,text:Object(f.jsx)(O.default,{typography:"Body2Strong",color:"text-subdued",textAlign:"center",children:v.formatMessage({id:"form__str_transactions"},{0:Object(f.jsx)(O.default,{typography:"DisplayMedium",textAlign:"center",children:m+" / "+J+"\n"})})})})}),Object(f.jsxs)(O.default,{typography:"DisplayMedium",mt:"24px",textAlign:"center",children:[n===Ut.BatchSendState.inProgress&&v.formatMessage({id:"title__transactions_in_progress"}),n===Ut.BatchSendState.onPause&&v.formatMessage({id:"title__you_ve_paused_the_transaction_generation"})]}),"hw"===(null==Z?void 0:Z.type)&&Q&&Object(f.jsx)(O.default,{textAlign:"center",mt:"4px",typography:"DisplaySmall",color:"text-subdued",children:v.formatMessage({id:"content__you_may_receive_multiple_signing_requests_on_the_hardware_wallet"})}),!Q&&Object(f.jsx)(O.default,{textAlign:"center",mt:"4px",typography:"DisplaySmall",color:"text-subdued",children:v.formatMessage({id:"content__if_you_want_to_cancel_transactions_that_has_already_been_generated"})}),Object(f.jsx)(ct.default,{type:"basic",mt:"16px",onPress:function(){return r(Ut.BatchSendState.onPause)},opacity:te?1:0,disabled:!te,children:v.formatMessage({id:"action__pause"})})]})}));var Wt=n(27),Vt=n(336),zt=n(340),Gt=n.n(zt),Kt=n(204),qt=n(151);var Zt=n(121),Xt=n(47),Yt=n(126),Qt=n(326),$t=n(1088),Jt=n(1301),en=n(794),tn=n(420),nn=n(1069),rn=n(1307),on=n.n(rn),an=n(612);function cn(e){var t=e.asset;return t?Object(f.jsxs)(g.default,{flexDirection:"row",alignItems:"center",children:[Object(f.jsx)(St.default,{source:on.a,size:"40px"}),Object(f.jsx)(Wt.default.Body1Strong,{ml:3,numberOfLines:2,flex:1,children:"Inscription #"+t.inscription_number})]}):Object(f.jsx)(g.default,{size:"40px"})}function sn(e){var t,n,r=e.asset,o=e.total,a=Object(l.default)();return Object(f.jsxs)(g.default,{flexDirection:"row",alignItems:"center",children:[Object(f.jsx)(an.default,{asset:r,borderRadius:"6px",size:40}),Object(f.jsxs)(Wt.default.Body1Strong,{ml:3,numberOfLines:2,flex:1,children:[1===o&&(null!=(t=r.name)?t:r.contractName),o>1&&a.formatMessage({id:"content__str_and_others_int_nfts"},{firstNFT:null!=(n=r.name)?n:r.contractName,otherNFTs:o-1})]})]})}var ln=function(e){var t=e.asset,n=e.total;return t?t.type===nn.NFTAssetType.BTC?Object(f.jsx)(cn,{asset:t}):Object(f.jsx)(sn,{asset:t,total:n}):Object(f.jsx)(g.default,{size:"40px"})},un=["validateAddress","transferInfos","accountId","networkId","closeModal"];function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn=n(2440),bn=n(698),mn=n.n(bn),hn=n(1616),jn=n(1671),On=n(2441),gn=n(411),vn=n(1636),yn=n(142),xn=n(3770),wn=(n(3703),function(e){var t=e.onIndexChange,n=e.options,r=Object(b.useState)(0),o=Se()(r,2),a=o[0],i=o[1],c=Object(yn.default)("background-default"),s=Object(b.useMemo)((function(){return n.map((function(e){return{key:e.label}}))}),[n]),l=Object(b.useMemo)((function(){var e={};return n.forEach((function(t){e[t.label]=t.view})),Object(vn.default)(e)}),[n]);return Object(f.jsx)(xn.TabView,{navigationState:{index:a,routes:s},renderScene:l,renderTabBar:function(){return Object(f.jsx)(gn.default,{selectedIndex:a,onChange:i,values:n.map((function(e){return e.title}))})},onIndexChange:function(e){i(e),t&&t(e)},style:{backgroundColor:c}})});function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var kn=Object(b.memo)((function(){var e=Object(l.default)(),t=Object(a.default)(),n=Object(s.useNavigation)(),r=Object(s.useRoute)(),i=Object(b.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.params)}),[r.params]),u=i.accountId,p=i.networkId;nt({accountId:u,networkId:p});var m=Object(E.useActiveSideAccount)({accountId:u,networkId:p}).walletId,h=t?"16px":"24px",j=Object(b.useMemo)((function(){return Object(f.jsx)(c.default,{emoji:"\ud83d\udcb3",title:e.formatMessage({id:"empty__no_account_title"})})}),[e]),O=Object(b.useCallback)((function(){return u?Object(f.jsx)(jn.default,{walletId:m,accountId:u,networkId:p,showRoundTop:!0,singleton:!0,hidePriceInfo:!0,ListHeaderComponent:Object(f.jsx)(g.default,{h:"24px"}),ListFooterComponent:Object(f.jsx)(g.default,{h:"24px"}),contentContainerStyle:{paddingHorizontal:0,marginTop:0},onTokenPress:function(e){var t=e.token;n.navigate(ee.SendModalRoutes.PreSendAddress,mn()({from:"",to:"",amount:""},i,{token:t.address,sendAddress:t.sendAddress,to:void 0,accountId:u,networkId:p})),Object(hn.notifyIfRiskToken)(t)}}):j}),[u,j,n,p,i,m]),v=Object(b.useCallback)((function(){return u?Object(f.jsx)(On.default,{networkId:p,accountId:u}):j}),[u,j,p]);return Object(f.jsx)(d.BaseSendModal,{accountId:u,networkId:p,hidePrimaryAction:!0,height:560,hideSecondaryAction:!1,header:e.formatMessage({id:"action__send"}),footer:null,staticChildrenProps:{flex:1,paddingX:h,paddingTop:h},children:Object(f.jsx)(wn,{options:[{label:"token",title:"Tokens",view:O},{label:"nft",title:"NFTs",view:v}]})})})),In=n(496),Sn=Object(b.memo)((function(e){var t,n=e.session,r=e.currentAccount,o=e.currentNetwork,a=e.accountInfo,i=e.client,c=e.setTitleInfo,s=e.injectedConnectorInfo,u=Object(l.default)(),d=Object(wt.default)(),p=null==a?void 0:a.walletName,m=(null==a||a.type,null==n?void 0:n.connected),v=Object(b.useMemo)((function(){return{connected:s?s.isConnected:m}}),[s,m]).connected;Object(b.useEffect)((function(){c({title:u.formatMessage({id:"action__connect_str"},{0:p}),subTitle:o.name})}),[o.name,u,c,p]);var y=Object(b.useState)(!1),w=Se()(y,2),_=w[0],k=w[1];Object(b.useEffect)((function(){if(v&&!s){var e=setTimeout((function(){return k(!0)}),xt.WALLET_CONNECT_SEND_SHOW_DISCONNECT_BUTTON_DELAY);return function(){clearTimeout(e),k(!1)}}}),[s,v]);var I=Object(b.useMemo)((function(){var e,t,n="icon-default";return null!=i&&null!=(e=i.connector)&&e.isTransportOpen&&(n="icon-warning"),null!=i&&null!=(t=i.connector)&&t.isTransportOpen&&v&&(n="interactive-default"),s&&v&&(n="interactive-default"),Object(f.jsx)(g.default,{position:"absolute",top:"-4px",right:"10px",w:3,h:3,bgColor:n,borderWidth:2,borderColor:"surface-default",borderRadius:"full"})}),[null==i||null==(t=i.connector)?void 0:t.isTransportOpen,v,s]);return Object(f.jsxs)(G.default,{flex:1,children:[Object(f.jsxs)(h.default,{alignItems:"center",children:[Object(f.jsx)(j.default,{}),Object(f.jsxs)(O.default,{typography:"PageHeading",ml:3,children:[u.formatMessage({id:"content__connecting"}),"..."]})]}),Object(f.jsxs)(h.default,{mt:6,mb:8,alignItems:"center",children:[Object(f.jsxs)(g.default,{children:[Object(f.jsx)(Et.default,{size:10,accountId:r.id,radius:"12px",mr:3}),I]}),Object(f.jsx)(O.default,{typography:"Heading",children:p})]}),Object(f.jsx)(In.TxDetailActionBox,{details:[{title:u.formatMessage({id:"form__account"}),content:Object(Tt.shortenAddress)(r.address)},{title:u.formatMessage({id:"network__network"}),content:o.name}]}),_?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.default,{typography:"Body2",mt:8,children:u.formatMessage({id:"content__disconnect_and_try_again"},{0:p})}),Object(f.jsx)(ct.default,{alignSelf:"flex-start",mt:4,size:"lg",onPress:x()((function*(){yield Object(yt.terminateWcConnection)({client:i,walletUrl:null==a?void 0:a.walletUrl}),d.canGoBack()&&d.goBack()})),children:u.formatMessage({id:"action__disconnect"})})]}):null]})}));function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Sn.displayName="AuthExternalAccountInfo";var Pn=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)};function Cn(e){var t=e.accountId,n=e.networkId,r=e.encodedTx,o=e.feeInfoPayload,a=(Object(wt.default)(),Object(E.useActiveSideAccount)({accountId:t,networkId:n}).networkImpl),i=X.default.engine,c=Object(s.useRoute)(),l=Object(dt.useInteractWithInfo)({sourceInfo:c.params.sourceInfo});Object(b.useCallback)(x()((function*(){var e,o,s=Pn({networkId:n,accountId:t});try{if(a===C.IMPL_EVM){yield s.parseToNativeTx("0xf86b018502540be40082520894a9b4d559a98ff47c83b74522b7986146538cd4df861b48eb57e0008081e5a06f021ecfb345b8122561c751acdc8c0516632442065c2dc6867c2b19054539dca022f230825979a211d70d4488888d6a3ed9d9c12667e15a6d90df6e5a7a48b440")}yield s.parseToNativeTx(r)}catch(d){}var u=yield i.decodeTx({accountId:t,networkId:n,encodedTx:r,payload:(null==(e=c.params)?void 0:e.payloadInfo)||(null==(o=c.params)?void 0:o.payload),interactInfo:l});u.decodedTx,u.decodedTxLegacy})),[o,n,t,i,r,c.params,l,a]);return null}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=Object(b.memo)((function(e){var t=e.password,n=e.setTitleInfo,r=Object(s.useNavigation)(),o=Object(l.default)(),a=Object(s.useRoute)(),c=Object(b.useRef)(!1),u=Object(b.useRef)(!0),d=a.params,p=d.networkId,m=d.accountId,h=d.encodedTx,O=d.onSuccess,g=d.onFail,v=d.unsignedMessage,y=d.payloadInfo,w=d.backRouteName,_=d.sourceInfo,k=d.signOnly,I=void 0!==k&&k,S=y||a.params.payload,T=Object(dt.useDecodedTx)({accountId:m,networkId:p,encodedTx:h,payload:S}).decodedTx,P=Object(dt.useInteractWithInfo)({sourceInfo:_}),C=Object(b.useMemo)((function(){return Object(M.isExternalAccount)({accountId:m})}),[m]),A=Ft({encodedTx:h,unsignedMessage:v,sourceInfo:_,networkId:p,accountId:m,signOnly:I}),E=A.externalAccountInfo,D=A.sendTxForExternalAccount,R=A.signMsgForExternalAccount,N=Object(b.useCallback)(x()((function*(){if(C)return D();Je.default.sendTx.info("Authentication sendTx:",a.params);var e=yield X.default.engine.signAndSendEncodedTx({password:t,networkId:p,accountId:m,encodedTx:h,signOnly:I});return Je.default.sendTx.info("Authentication sendTx DONE:",a.params,e),e})),[C,a.params,t,p,m,h,D,I]),L=Object(b.useCallback)(x()((function*(){return C?R():yield X.default.engine.signMessage({password:t,networkId:p,accountId:m,unsignedMessage:v})})),[m,C,p,t,R,v]),B=Object(b.useCallback)(x()((function*(){try{if(c.current)return;c.current=!0;var e,t,n,a=h;if(a){if(e=t=yield N(),!t)return;a=t.encodedTx||a}if(v&&(e=n=yield L(),!n))return;if(e){var i,s,l,d,f=S;"InternalSwap"===(null==(i=f)?void 0:i.type)&&null!=(s=f)&&s.swapInfo&&null!=(l=f)&&null!=(d=l.swapInfo)&&d.isApprove&&(f=void 0),null==O||O(e,{signedTx:t,encodedTx:a,decodedTx:a?(yield X.default.engine.decodeTx({networkId:p,accountId:m,encodedTx:a,payload:f,interactInfo:P})).decodedTx:void 0}),null!=r&&null!=r.canGoBack&&r.canGoBack()}}catch(C){var b,j=C;if(Je.default.common.error(j),w)r.navigate({merge:!0,name:w,params:{}});else{var y;if(!u.current)return;null==(y=r.getParent())||null==y.goBack||y.goBack()}if(yield Object(bt.wait)(600),-32603===(null==j?void 0:j.code)&&"string"===typeof(null==j||null==(b=j.data)?void 0:b.message)){var x,_;null!=j&&null!=(x=j.data)&&x.message.includes("nonce")&&null!=j&&null!=(_=j.data)&&_.message.includes("high")&&(j.data.message=o.formatMessage({id:"msg__invalid_tx_that_nonce_is_higher_than_default"})),Xe.default.show({title:j.data.message||o.formatMessage({id:"transaction__failed"}),description:j.data.message},{type:"error"})}else{var k,I,T=null!=j&&j.key?o.formatMessage({id:null==j?void 0:j.key},null!=(k=null==j?void 0:j.info)?k:{}):null!=(I=null==j?void 0:j.message)?I:"";j.className!==Pe.OneKeyErrorClassNames.OneKeyWalletConnectModalCloseError&&(pt.deviceUtils.showErrorToast(j)||Xe.default.show({title:T||o.formatMessage({id:"transaction__failed"}),description:T},{type:"error"}))}yield Object(bt.wait)(100),null==g||g(j)}})),[m,w,h,P,o,r,p,O,g,S,N,L,v]);return Object(b.useEffect)((function(){return function(){u.current=!1}}),[u]),Object(b.useEffect)((function(){(T||v)&&B()}),[T,v,B]),E?Object(f.jsx)(Sn,An(An({},E),{},{setTitleInfo:n})):Object(f.jsx)(i.default,{h:"full",w:"full",children:Object(f.jsx)(j.default,{testID:"SendAuth-Default-Spinner",size:"lg"})})})),Dn=n(2418),Rn=["children","encodedTx","decodedTx","confirmDisabled","feeInfoPayload","feeInfoLoading","handleConfirm","updateEncodedTxBeforeConfirm","autoConfirm","sourceInfo","advancedSettings"];function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e){var t,n,r,o,a=Object(l.default)(),i=Object(E.useActiveSideAccount)(e),c=i.network,s=i.networkImpl,u=i.networkId,p=i.accountId,m=i.accountAddress,h=e.children,j=e.encodedTx,O=e.decodedTx,g=e.confirmDisabled,v=e.feeInfoPayload,y=e.feeInfoLoading,w=e.handleConfirm,k=e.updateEncodedTxBeforeConfirm,S=e.autoConfirm,A=(e.sourceInfo,e.advancedSettings),D=I()(e,Rn),R=Object(E.useNativeToken)(null==c?void 0:c.id),N=Object(Kt.default)(),L=Object(E.useTokenBalanceWithoutFrozen)({networkId:u,accountId:p,token:R,fallback:"0"}),B=null!=(t=null==v||null==(n=v.current)?void 0:n.totalNative)?t:"0",F=Object(b.useRef)(!1),U=Object(b.useState)("0"),H=Se()(U,2),W=H[0],V=H[1],G=Object(b.useState)(!1),K=Se()(G,2),Z=K[0],Y=K[1],Q=Object(b.useState)(!1),$=Se()(Q,2),J=$[0],ne=$[1],re=Object(b.useMemo)((function(){return new T.a(L).lt(new T.a(B))}),[B,L]),oe=Object(b.useMemo)((function(){if(null!=c&&c.settings.nonceEditable&&null!=A&&A.currentNonce){var e=new T.a(A.currentNonce),t=new T.a(A.originalNonce);return e.isLessThan(t)?ee.EditableNonceStatusEnum.Less:e.isGreaterThan(t)?ee.EditableNonceStatusEnum.Greater:ee.EditableNonceStatusEnum.Equal}return ee.EditableNonceStatusEnum.None}),[A,c]),ae=Object(b.useMemo)((function(){return Object(M.isWatchingAccount)({accountId:p})}),[p]),ie=Object(b.useMemo)((function(){if(!j)return!1;if(s===C.IMPL_EVM){var e=j;if(e&&m&&_()(e.from)!==_()(m))return!0}return!1}),[m,j,s]),ce=Object(b.useMemo)((function(){var e,t=null==v?void 0:v.info;return!(null==t||!t.eip1559||null==(e=t.extraInfo)||!e.networkCongestion)&&t.extraInfo.networkCongestion>=Dn.NetworkCongestionThresholds.busy}),[null==v?void 0:v.info]),se=Object(b.useMemo)((function(){var e=null==v?void 0:v.selected.custom;if(null!=v&&v.info.eip1559||null!=e&&e.eip1559)return"preset"===(null==v?void 0:v.selected.type)?"0"===(null==v?void 0:v.selected.preset):"0"===(null==e?void 0:e.similarToPreset)}),[null==v?void 0:v.info.eip1559,null==v?void 0:v.selected.custom,null==v?void 0:v.selected.preset,null==v?void 0:v.selected.type]),le=Object(b.useMemo)((function(){return!(null==A||!A.currentHexData||Object(bt.isHexString)(null==A?void 0:A.currentHexData))}),[null==A?void 0:A.currentHexData]),ue=Object(b.useCallback)(function(){var e=x()((function*(e){var t=e.close,n=e.onClose,r=j;r&&(k&&(r=yield k(r)),w({close:t,onClose:n,encodedTx:r}))}));return function(t){return e.apply(this,arguments)}}(),[j,w,k]);return Object(b.useEffect)((function(){!S||y||F.current||(F.current=!0,setTimeout((function(){ue({close:N})}),600))}),[y,S,ue,N]),Object(b.useEffect)((function(){(function(){var e=x()((function*(){var e,t=yield X.default.serviceHistory.getLocalHistory({accountId:p,networkId:u,isPending:!0,limit:10});e=(t=t.filter((function(e){var t=e.decodedTx.actions[0];return(t.direction===P.IDecodedTxDirection.OUT||t.direction===P.IDecodedTxDirection.SELF)&&(null==A||!A.currentNonce||!new T.a(A.currentNonce).isLessThanOrEqualTo(e.decodedTx.nonce))}))).length.toString(),V(e)}));return function(){return e.apply(this,arguments)}})()()}),[p,null==A?void 0:A.currentNonce,u]),Object(b.useEffect)((function(){(function(){var e=x()((function*(){var e=yield X.default.serviceHistory.getLocalHistory({networkId:u,accountId:p,isPending:!0,limit:50});if(null!=c&&c.settings.nonceEditable&&c.settings.feeInfoEditable&&null!=A&&A.currentNonce){var t=null==v?void 0:v.current.value,n=q()(e,(function(e){return new T.a(A.currentNonce).isEqualTo(e.decodedTx.nonce)}));if(n){ne(!0);var r,o,a,i,s,l,d,f,b,m,h=n.decodedTx.feeInfo;if(h&&t)if(h.eip1559){if(new T.a(null!=(a=null==(i=h.price1559)?void 0:i.maxFeePerGas)?a:0).isGreaterThanOrEqualTo(null!=(s=null==(l=t.price1559)?void 0:l.maxFeePerGas)?s:0)||new T.a(null!=(d=null==(f=h.price1559)?void 0:f.maxPriorityFeePerGas)?d:0).isGreaterThanOrEqualTo(null!=(b=null==(m=t.price1559)?void 0:m.maxPriorityFeePerGas)?b:0))return void Y(!0)}else if(new T.a(null!=(r=h.price)?r:0).isGreaterThanOrEqualTo(null!=(o=t.price)?o:0))return void Y(!0)}else ne(!1)}Y(!1)}));return function(){return e.apply(this,arguments)}})()()}),[p,null==A?void 0:A.currentNonce,v,null==c||null==(r=c.settings)?void 0:r.feeInfoEditable,null==c||null==(o=c.settings)?void 0:o.nonceEditable,u]),Object(f.jsx)(d.BaseSendModal,Ln(Ln({height:"598px",primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:ae||le||re||ie||y||!v||!j||!O||g},secondaryActionTranslationId:"action__cancel",header:a.formatMessage({id:"transaction__transaction_confirm"}),onSecondaryActionPress:function(e){return(0,e.close)()},onPrimaryActionPress:ue},D),{},{scrollViewProps:{children:Object(f.jsxs)(f.Fragment,{children:[!S&&Object(f.jsx)(te,{networkId:u,accountAddress:m,nativeToken:R,isWatchingAccount:ae,balanceInsufficient:re,isAccountNotMatched:ie,editableNonceStatus:oe,isNetworkBusy:ce,isLowMaxFee:se,pendingTxCount:W,isPendingTxSameNonce:J,isPendingTxSameNonceWithLowerGas:Z}),Object(f.jsxs)(z,{children:[h,Object(f.jsx)(Cn,{accountId:p,networkId:u,encodedTx:j,feeInfoPayload:v})]}),null]})}}))}var Fn=n(60),Un=n.n(Fn),Hn=n(268),Wn=n(1018);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){var t=e.children,n=e.canPress,r=e.onPress;return n?Object(f.jsx)(Te.default,{onPress:r,activeOpacity:.9,children:t}):Object(f.jsx)(f.Fragment,{children:t})}function Gn(e){var t,n=e.feeInfoInputEditable,r=e.feeInfoInputLoading,o=e.sendConfirmParams,a=e.encodedTx,i=e.feeInfoPayload,c=Le({networkId:e.networkId}),s=Object(b.useMemo)((function(){var e=o.signOnly;return!Un()(o.feeInfoEditable)&&o.feeInfoEditable&&(e=!1),e}),[o.feeInfoEditable,o.signOnly]);return r||!n||!c||!a||!i||s||(null==i||null==(t=i.info)?void 0:t.disableEditFee)}function Kn(e){var t=e.networkId,n=e.accountId,r=e.encodedTx,o=e.feeInfoPayload,a=e.loading,i=e.renderChildren,c=e.editable,l=e.autoNavigateToEdit,u=e.sendConfirmParams,d=Object(s.useNavigation)(),p=Object(s.useRoute)(),m=Gn({sendConfirmParams:u,feeInfoPayload:o,feeInfoInputEditable:c,feeInfoInputLoading:a,encodedTx:r,networkId:t}),h=Object(b.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.replace,i=void 0!==a&&a;m||(i?d.replace(ee.SendModalRoutes.SendEditFee,{networkId:t,accountId:n,encodedTx:r,feeInfoSelected:null==o?void 0:o.selected,autoConfirmAfterFeeSaved:l,resendActionInfo:p.params.resendActionInfo,sendConfirmParams:u}):d.navigate({name:ee.SendModalRoutes.SendEditFee,params:{networkId:t,accountId:n,encodedTx:r,feeInfoSelected:null==o?void 0:o.selected,autoConfirmAfterFeeSaved:l,sendConfirmParams:u}}))}),[m,d,t,n,r,null==o?void 0:o.selected,l,p.params.resendActionInfo,u]);return Object(b.useEffect)((function(){l&&h({replace:!0})}),[l,h]),m?i({isHovered:!0}):Object(f.jsx)(It.default,{onPress:function(){return h({replace:Hn.IS_REPLACE_ROUTE_TO_FEE_EDIT})},children:i})}var qn=Object(b.memo)((function(e){return Object(f.jsx)(Kn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));function Zn(e){var t,n,r,o,a,i=e.encodedTx,c=e.feeInfoPayload,s=e.loading,u=e.editable,d=e.sendConfirmParams,p=e.networkId,m=e.accountId,v=e.feeInfoError,y=Object(l.default)(),x="preset"===(null==c||null==(t=c.selected)?void 0:t.type),w=Object(b.useState)(!1),_=Se()(w,2),k=_[0],I=_[1],S=null!=(n=null==c||null==(r=c.current)?void 0:r.totalNativeForDisplay)?n:"",P=null!=(o=null==c||null==(a=c.current)?void 0:a.totalNative)?o:"";P=new T.a(S).isNaN()||!x?P:S,i.totalFeeInNative&&(P=i.totalFeeInNative);var C=!Gn({feeInfoInputLoading:s,feeInfoInputEditable:u,feeInfoPayload:c,networkId:p,encodedTx:i,sendConfirmParams:d}),M=Object(b.useMemo)((function(){var e,t,n,r,o,a;if(!i||!c)return null;var s=c.selected.custom,l=x?null==c||null==(e=c.selected)?void 0:e.preset:null==s?void 0:s.similarToPreset,u=x?null==c||null==(t=c.info)||null==(n=t.waitingSeconds)?void 0:n[Number(l)]:null==s?void 0:s.waitingSeconds;return Object(f.jsxs)(h.default,{alignItems:"center",children:[Object(f.jsxs)(h.default,{testID:"FeeInfoInputForConfirmLite-ContentTitle-0",flex:1,space:2,alignItems:"center",children:[Object(f.jsx)(De.FeeSpeedLabel,{prices:null==c||null==(r=c.info)?void 0:r.prices,isCustom:!x,index:null==c||null==(o=c.selected)?void 0:o.preset,space:1}),Object(f.jsx)(Wn.FeeSpeedTime,{prices:null==c||null==(a=c.info)?void 0:a.prices,index:null!=l?l:0,waitingSeconds:u,typography:"Body1Strong",withColor:!0})]}),C&&Object(f.jsx)(ke.default,{testID:"FeeInfoInputForConfirmLite-ChevronRightMini-Icon",name:"ChevronRightMini",color:"icon-subdued"})]})}),[i,C,c,x]),A=Object(b.useMemo)((function(){var e;if(!i||!c)return null;var t=Object(bt.removeTrailingZeros)(new T.a(P||"0").toFixed(8));return Object(f.jsxs)(h.default,{space:1,alignItems:"center",children:[Object(f.jsx)(O.default,{children:t+" "+((null==c||null==(e=c.info)?void 0:e.nativeSymbol)||"")}),Object(f.jsx)(Ce.FormatCurrencyNativeOfAccount,{networkId:p,accountId:m,value:t,render:function(e){return Object(f.jsx)(O.default,{color:"text-subdued",children:e})}}),s&&Object(f.jsx)(j.default,{size:"sm"})]})}),[m,i,c,s,p,P]),E=(Object(b.useMemo)((function(){var e;if(!x||!i||!c)return null;var t,n,r,o="";"preset"===(null==c||null==(e=c.selected)?void 0:e.type)&&("0"===(null==c||null==(t=c.selected)?void 0:t.preset)&&(o=y.formatMessage({id:"content__maybe_in_30s"})),"1"===(null==c||null==(n=c.selected)?void 0:n.preset)&&(o=y.formatMessage({id:"content__likely_less_than_15s"})),"2"===(null==c||null==(r=c.selected)?void 0:r.preset)&&(o=y.formatMessage({id:"content__very_likely_less_than_15s"})));return Object(f.jsx)(O.default,{color:"text-subdued",flex:1,children:o})}),[i,c,y,x]),Object(b.useMemo)((function(){if(!v)return null;var e=v.className,t=v.key,n=null;return(n="OneKeyError"===e&&"onekey_error"!==t?y.formatMessage({id:v.key}):v.message)&&n.length>350&&(n=n.slice(0,350)+"..."),!!n&&Object(f.jsx)(_e.default,{maxW:"360px",isOpen:k,hasArrow:!0,label:n,bg:"surface-neutral-default",_text:{color:"text-default",fontSize:"14px"},px:"16px",py:"8px",placement:"top",borderRadius:"12px",children:Object(f.jsx)(g.default,{children:Object(f.jsx)(ke.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})})})}),[v,k,y])),D=Object(b.useCallback)((function(){var e=null;return e=M?Object(f.jsxs)(g.default,{flexDirection:"column",children:[M,A]}):Object(f.jsx)(zn,{canPress:!!E,onPress:function(){return I(!k)},children:Object(f.jsxs)(g.default,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:[Object(f.jsx)(O.default,{color:"text-subdued",flex:1,children:y.formatMessage({id:"content__calculate_fee"})}),Object(f.jsx)(g.default,{w:2}),E,s?Object(f.jsx)(j.default,{size:"sm"}):null,Object(f.jsx)(g.default,{flex:1})]})}),Object(f.jsx)(g.default,{children:e})}),[E,k,y,s,A,M]);return Object(b.useEffect)((function(){return function(){return I(!1)}}),[]),Object(f.jsx)(qn,{networkId:p,accountId:m,sendConfirmParams:d,editable:u,encodedTx:i,feeInfoPayload:c,loading:s,renderChildren:D})}function Xn(e){var t=e.encodedTx,n=e.feeInfoPayload,r=e.loading,o=e.editable,a=e.sendConfirmParams,i=e.networkId,c=e.accountId,s=Object(b.useCallback)((function(e){e.isHovered;return null}),[]);return Object(f.jsx)(qn,{networkId:i,accountId:c,sendConfirmParams:a,editable:o,encodedTx:t,feeInfoPayload:n,loading:r,renderChildren:s,autoNavigateToEdit:!0})}qn.displayName="FeeInfoInputContainer";var Yn=n(570),Qn=n(82),$n=n(353),Jn=n(29),er=function(e){var t,n=e.network,r=e.accountId,o=e.encodedTx,a=e.isChecked,i=e.onToggleCoinControl,c=e.onSelectedUtxos,s=Object(l.default)(),u=Object(wt.default)(),d=Object(b.useMemo)((function(){return o.inputs.length}),[o.inputs]),p=!(null!=o&&null!=(t=o.transferInfo)&&t.coinControlDisabled),m=Object(b.useMemo)((function(){return o.inputs.reduce((function(e,t){return e.plus(t.value)}),new T.a(0)).shiftedBy(-n.decimals).toFixed()}),[o.inputs,n.decimals]),j=Object(b.useCallback)((function(){u.navigate(Q.RootRoutes.Modal,{screen:Q.ModalRoutes.CoinControl,params:{screen:Q.CoinControlModalRoutes.CoinControlModal,params:{networkId:n.id,accountId:r,isSelectMode:!0,encodedTx:o,onConfirm:function(e){u.goBack(),p?c(e):Xe.default.show({title:s.formatMessage({id:"msg__coin_control_is_disabled_for_this_tx"})})}}}})}),[u,n.id,r,o,p,c,s]);return Object(f.jsxs)(G.default,{p:4,borderWidth:Jn.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",children:[Object(f.jsxs)(h.default,{alignItems:"center",justifyContent:"space-between",children:[Object(f.jsx)(O.default,{typography:"Body1Strong",children:s.formatMessage({id:"form__coin_control"})}),Object(f.jsx)($n.default,{labelType:"false",isChecked:a,onToggle:function(){p?i():Xe.default.show({title:s.formatMessage({id:"msg__coin_control_is_disabled_for_this_tx"})})}})]}),Object(f.jsx)(je.default,{my:4}),Object(f.jsx)(It.default,{_pressed:{bg:"surface-pressed"},_hover:{bg:"surface-hovered"},borderRadius:"xl",m:-2,isDisabled:!a,onPress:j,children:Object(f.jsxs)(h.default,{alignItems:"center",justifyContent:"space-between",mx:2,children:[Object(f.jsx)(O.default,{typography:"Body2",color:a?"text-default":"text-disabled",children:s.formatMessage({id:"form__str_selected"},{0:d})}),Object(f.jsxs)(h.default,{alignItems:"center",mr:"-10px",children:[Object(f.jsx)(O.default,{typography:"Body2",color:a?"text-default":"text-disabled",children:m+" "+n.symbol}),Object(f.jsx)(Qn.default,{size:"sm",name:"ChevronRightMini",type:"plain",iconColor:a?"icon-subdued":"icon-disabled",isDisabled:!a,onPress:j})]})]})})]})},tr=n(580),nr=n(195),rr=n.n(nr);function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ir(e){var t=e.labelId,n=e.tooltipId,r=e.labelBefore,o=e.labelAfter,a=e.labelProps,i=Object(l.default)();return Object(f.jsxs)(h.default,{alignItems:"center",space:1,children:[Object(f.jsxs)(O.default,ar(ar({typography:"Body2Strong"},a),{},{children:[r,i.formatMessage({id:t}),o]})),Object(f.jsx)(tr.default,{trigger:function(e){var t=Object.assign({},(rr()(e),e));return Object(f.jsx)(It.default,ar(ar({},t),{},{children:Object(f.jsx)(ke.default,{name:"InformationCircleMini",size:16,color:"icon-subdued"})}))},bodyProps:{children:Object(f.jsx)(O.default,{children:i.formatMessage({id:n})})}})]})}function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lr=Object(b.memo)((function(e){var t,n,r,o,a=e.accountId,i=e.networkId,c=e.encodedTx,s=e.advancedSettings,u=e.setAdvancedSettings,d=e.isLoadingAdvancedSettings,p=String(null!=(t=c.nonce)?t:null==s?void 0:s.originalNonce),m=c.data,h=Object(E.useNetworkSimple)(i),j=null==h||null==(n=h.settings)?void 0:n.nonceEditable,g=null==h||null==(r=h.settings)?void 0:r.isBtcForkChain,v=null==h||null==(o=h.settings)?void 0:o.hexDataEditable,y=Object(l.default)(),x=Object(Yt.default)({mode:"onChange",reValidateMode:"onChange"}),w=x.control,_=x.setValue,k=x.register,I=Object(tn.useFormOnChangeDebounced)({useFormReturn:x}).formValues,S=null==I?void 0:I.nonce,P=null==I?void 0:I.hexData,C=new T.a(null!=S?S:0).isLessThan(new T.a(p)),M=k("nonce",{onBlur:function(){S||_("nonce",p)}}).onBlur,A=Object(b.useMemo)((function(){return!(null==s||!s.isCoinControlChecked)}),[null==s?void 0:s.isCoinControlChecked]),D=Object(b.useMemo)((function(){var e=[];if(j&&""!==p){var t=p===S;e.push(Object(f.jsx)(Xt.default.Item,{name:"nonce",label:Object(f.jsx)(ir,{labelId:"form__nonce",tooltipId:"content__what_is_nonce_desc"}),rules:{min:0},control:w,helpText:y.formatMessage({id:"form__current_str"},{0:p}),children:Object(f.jsx)(Xt.default.NumberInput,{borderColor:C?"border-warning-default":"border-default",isDisabled:d,decimal:0,size:"xl",onBlur:M,rightCustomElement:Object(f.jsx)(ct.default,{isLoading:d,type:"plain",isDisabled:t||d,onPress:function(){return _("nonce",p)},children:Object(f.jsx)(O.default,{color:t?"text-subdued":"text-default",children:y.formatMessage({id:"action__reset"})})})})}))}if(v){var n=m&&""!==m&&"0x"!==m;e.push(Object(f.jsx)(Xt.default.Item,{name:"hexData",label:Object(f.jsx)(ir,{labelId:"form__hex_data",tooltipId:"form__hex_data_question_mark"}),control:w,rules:{validate:function(e){return!e||(Object(bt.isHexString)(e)?void 0:y.formatMessage({id:"msg__invalid_hex_data"}))}},children:Object(f.jsx)(Xt.default.Textarea,{bgColor:"action-secondary-default",isDisabled:n,marginBottom:"1px"})}))}return g&&e.push(Object(f.jsx)(er,{network:h,accountId:a,encodedTx:c,isChecked:A,onToggleCoinControl:function(){u((function(e){return sr(sr({},e),{},{isCoinControlChecked:!e.isCoinControlChecked,selectedUtxos:[]})}))},onSelectedUtxos:function(e){u((function(t){return sr(sr({},t),{},{selectedUtxos:e})}))}})),e}),[j,p,v,g,S,w,y,C,d,M,_,m,h,a,c,A,u]);return Object(b.useEffect)((function(){_("nonce",p),_("hexData",m)}),[m,p,_]),Object(b.useEffect)((function(){Un()(S)||u((function(e){return sr(sr({},e),{},{currentNonce:S})}))}),[S,u]),Object(b.useEffect)((function(){Un()(P)||u((function(e){return sr(sr({},e),{},{currentHexData:P})}))}),[P,u]),D&&D.length>0?Object(f.jsx)(Yn.default,{arrowPosition:"right",textAlign:"center",renderCustomTrigger:function(e,t){return t?Object(f.jsx)(ct.default,{rightIcon:Object(f.jsx)(ke.default,{size:12,name:"ChevronDownMini",color:"icon-subdued"}),type:"plain",size:"sm",mt:2,onPress:e,children:Object(f.jsx)(O.default,{typography:"Body1Strong",fontSize:"14px",color:"text-subdued",children:y.formatMessage({id:"action__advance"})})}):null},children:Object(f.jsx)(Xt.default,{mt:6,textAlign:"left",paddingX:"1px",children:D})}):null}));function ur(e){var t,n=e.encodedTx,r=e.useFeeInTx,o=void 0!==r&&r,a=e.pollingInterval,i=void 0===a?0:a,c=e.fetchAnyway,l=void 0!==c&&c,u=e.networkId,d=e.accountId,f=e.signOnly,p=e.forBatchSend,m=e.payload,h=e.ignoreFetchFeeCalling,j=e.shouldStopPolling,O=Object(s.useIsFocused)(),g=Object(E.useActiveSideAccount)({accountId:d,networkId:u}).network,v=Object(b.useState)(null),y=Se()(v,2),w=y[0],_=y[1],k=Object(b.useState)(null),I=Se()(k,2),S=I[0],P=I[1],C=Object(b.useRef)(null),M=Object(b.useState)(!0),A=Se()(M,2),D=A[0],R=A[1],N=Object(s.useRoute)(),L=Ne(u),B=Object(E.useAppSelector)((function(e){return e.swapTransactions.swapFeePresetIndex}));m&&"InternalSwap"===(null==m?void 0:m.type)&&B&&(L=B);var F=null==(t=N.params)?void 0:t.feeInfoSelected,U=Object(b.useCallback)((function(e){var t,n,r,o=e.info,a=e.index,i=parseInt(a,10),c=i>o.prices.length-1?o.prices.length-1:i,s=o.prices[c];return o.eip1559?{eip1559:!0,price1559:s,limit:o.limit,limitForDisplay:null!=(n=o.limitForDisplay)?n:o.limit}:o.isBtcForkChain?{eip1559:!1,price:s,limit:o.limit,isBtcForkChain:!0,btcFee:null==(r=o.feeList)?void 0:r[c]}:{eip1559:!1,price:s,limit:o.limit,limitForDisplay:null!=(t=o.limitForDisplay)?t:o.limit}}),[]),H=Object(b.useCallback)(x()((function*(){var e,t;if(!n)return null;var r=F,a=null!=g?g:{},i=a.decimals,c=a.symbol,s=a.feeDecimals,b={nativeDecimals:i,nativeSymbol:c,feeDecimals:s,feeSymbol:a.feeSymbol,prices:[],defaultPresetIndex:null!=(e=L)?e:"1"},m=!h&&(!r||"preset"===(null==(t=r)?void 0:t.type));if(l&&!h&&(m=!0),m)try{b=yield X.default.engine.fetchFeeInfo({accountId:d,networkId:u,encodedTx:n,signOnly:f}),_(null)}catch(B){var j=B,O=j.code,v=j.data;return _(-32603===O&&v?v:B),Je.default.sendTx.error("engine.fetchFeeInfo ERROR: ",B),null}if(o){var y=n,x=y.maxFeePerGas,w=y.maxPriorityFeePerGas,k=y.gas,I=y.gasLimit,S=y.gasPrice,P=I||k;if(x&&w){var C={baseFee:new T.a(null!=S?S:0).shiftedBy(-(null!=s?s:0)).toFixed(),maxFeePerGas:new T.a(x).shiftedBy(-(null!=s?s:0)).toFixed(),maxPriorityFeePerGas:new T.a(w).shiftedBy(-(null!=s?s:0)).toFixed()};b.eip1559=!0,b.limit=P,b.prices=[C],b.tx={eip1559:!0,limit:P,price1559:C}}else{var M=new T.a(null!=S?S:0).shiftedBy(-(null!=s?s:0)).toFixed();b.limit=P,b.prices=[M],b.tx={limit:P,price:M}}}L&&(b.defaultPresetIndex=L),parseFloat(b.defaultPresetIndex)>b.prices.length-1&&(b.defaultPresetIndex=""+(b.prices.length-1)),parseFloat(b.defaultPresetIndex)<0&&(b.defaultPresetIndex="0");var A={price:"0",limit:"0"};!r&&b&&o&&b.tx&&(r={type:"custom",custom:b.tx,preset:b.defaultPresetIndex}),r=r||{type:"preset",preset:b.defaultPresetIndex},p&&b&&"preset"===r.type&&r.preset&&(b.customDisabled=!0),"custom"===r.type&&r.custom&&(A=r.custom),b&&"preset"===r.type&&r.preset&&(A=U({info:b,index:r.preset}));var E=Object($e.calculateTotalFeeRange)(A),D=E.max,R=E.maxForDisplay,N={selected:r,info:b,current:{value:A,total:D,totalForDisplay:R,totalNative:Object($e.calculateTotalFeeNative)({amount:D,info:b}),totalNativeForDisplay:Object($e.calculateTotalFeeNative)({amount:R,info:b})}};return Je.default.sendTx.info("useFeeInfoPayload: ",N),N})),[n,F,g,L,h,l,o,p,d,u,f,U]);return Object(b.useEffect)((function(){x()((function*(){if(!n)return null;R(!0);try{var e=yield H();P(e)}catch(r){if(-32603===r.code){var t=r.data.message;"string"===typeof t&&Xe.default.show({title:t})}P(null),_(r),Je.default.sendTx.error("fetchFeeInfo ERROR: ",r)}finally{R(!1)}}))()}),[n,H,P]),Object(b.useEffect)((function(){var e;return i&&O&&(e=setInterval(x()((function*(){if(!D&&!j)try{var e=yield H();e?(P(e),C.current=e):C.current&&(P(C.current),_(null))}catch(t){C.current?(P(C.current),_(null)):_(t),Je.default.sendTx.error("feeInfoPollingInterval ERROR: ",t)}})),i)),function(){clearInterval(e)}}),[null==F?void 0:F.type,H,D,i,O,j]),{feeInfoError:w,feeInfoPayload:S,feeInfoLoading:D,getSelectedFeeInfoUnit:U}}function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(){var e,t,n,r,o,a,i,c=Object(s.useNavigation)(),l=Object(s.useRoute)(),d=Object(b.useRef)({}),f=null!=(e=l.params)?e:d.current,p=f.sourceInfo,m=f.resendActionInfo,h=f.encodedTx,j=f.onModalClose,O=f.networkId,g=f.accountId,v=!!f.sourceInfo,y=null==(t=f.feeInfoEditable)||t,x=null!=(n=f.feeInfoUseFeeInTx)&&n,w=null!=(r=f.ignoreFetchFeeCalling)&&r,_="cancel"===(null==(o=f.resendActionInfo)?void 0:o.type)||"speedUp"===(null==(a=f.resendActionInfo)?void 0:a.type),k=Object(b.useMemo)((function(){return f.payload}),[f.payload]),I=Object(u.default)({id:null!=(i=null==p?void 0:p.id)?i:"",closeOnError:!0}),S=Object(b.useRef)(j),T=Object(b.useRef)(!1),P=Object(b.useCallback)((function(){T.current||(I.reject(),S.current&&S.current(),T.current=!0)}),[I]);Object.assign(f,{onModalClose:P});var C="InternalSwap"===(null==k?void 0:k.payloadType);return{networkId:O,accountId:g,dappApprove:I,onModalClose:P,encodedTx:h,navigation:c,route:l,routeParams:f,sourceInfo:p,isFromDapp:v,feeInfoEditable:y,feeInfoUseFeeInTx:x,isSpeedUpOrCancel:_,payload:k,payloadInfo:f.payloadInfo,resendActionInfo:m,isInternalSwapTx:C,isTransferTypeTx:!1,ignoreFetchFeeCalling:w}}function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e){return Object(f.jsx)(Bn,mr(mr({},e),{},{confirmDisabled:!0,children:Object(f.jsx)(i.default,{minH:"320px",w:"full",h:"full",flex:1,children:Object(f.jsx)(j.default,{size:"lg"})})}))}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e){var t=e.feeInfoPayload,n=e.feeInfoLoading,r=e.feeInfoEditable,o=e.feeInfoError,a=e.encodedTx,c=e.sendConfirmParams,u=e.networkId,d=e.accountId,p=Object(s.useRoute)(),m=Object(l.default)(),h=p.params.autoConfirmAfterFeeSaved,O=!h&&(null==t?void 0:t.selected),g=Object(b.useMemo)((function(){if(!o)return null;var e=null;return(e=o instanceof Pe.OneKeyError&&"onekey_error"!==o.key?m.formatMessage({id:o.key}):o.message)&&e.length>350&&(e=e.slice(0,350)+"..."),!!e&&Object(f.jsx)(v.default,{alertType:"error",title:e})}),[o,m]);return Object(f.jsxs)(Bn,Or(Or({},e),{},{autoConfirm:!!h,hidePrimaryAction:!0,hideSecondaryAction:!0,children:[g,Object(f.jsxs)(i.default,{w:"full",py:16,children:[!g&&Object(f.jsx)(j.default,{size:"lg"}),O?Object(f.jsx)(Xn,{networkId:u,accountId:d,editable:r,encodedTx:a,feeInfoPayload:t,loading:n,sendConfirmParams:c}):null]})]}))}var vr=n(36);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e){var t,n,r,o=e.payload,a=e.feeInfoPayload,i=e.feeInput,c=e.decodedTx,s=e.advancedSettingsForm,l=c,u=Object(E.useActiveSideAccount)(e),d=u.accountId,p=u.networkId,m=o,h=!(null!=m&&null!=(t=m.token)&&t.idOnNetwork),j=Object(E.useTokenBalanceWithoutFrozen)({networkId:p,accountId:d,token:{tokenIdOnNetwork:null==m||null==(n=m.token)?void 0:n.idOnNetwork,sendAddress:null==m||null==(r=m.token)?void 0:r.sendAddress}}),O=Object(b.useMemo)((function(){if(!m)return!1;if(h){var e,t,n,r=new T.a(null!=(e=m.value)?e:0),o=new T.a(j),i=new T.a(null!=(t=null==a||null==(n=a.current)?void 0:n.totalNative)?t:0);if(r.plus(i).gte(o))return!0}return!1}),[m,h,j,a]),g=Object(b.useMemo)((function(){var e;if(!m)return"0";if(O){var t,n,r,o=l.actions[0],i=o.type,c=o.nativeTransfer;if("NATIVE_TRANSFER"===i&&"undefined"!==typeof c&&("undefined"!==typeof c.utxoFrom||[vr.OnekeyNetwork.lightning,vr.OnekeyNetwork.tlightning].includes(c.tokenInfo.networkId)))return c.amount;var s=new T.a(j),u=new T.a(null!=(t=m.value)?t:0),d=T.a.min(s,u),f=new T.a(null!=(n=null==a||null==(r=a.current)?void 0:r.totalNative)?n:0);return d.minus(f).toFixed()}return null!=(e=m.value)?e:"0"}),[m,O,l.actions,j,a]),v=Object(b.useMemo)((function(){return new T.a(g).lt(0)}),[g]),y=Object(b.useMemo)((function(){return v&&m?m.value:g}),[v,g,m]);return Object(f.jsx)(Bn,xr(xr({},e),{},{confirmDisabled:v,updateEncodedTxBeforeConfirm:function(){var e=x()((function*(e){if(m&&O){var t={amount:y,totalBalance:j,feeInfo:null==a?void 0:a.info},n=yield X.default.engine.updateEncodedTx({networkId:p,accountId:d,encodedTx:e,payload:t,options:{type:P.IEncodedTxUpdateType.transfer}});return Promise.resolve(n)}return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),children:Object(f.jsx)(he.TxDetailView,{isSendConfirm:!0,isSingleTransformMode:!0,decodedTx:l,feeInput:i,transferAmount:y,advancedSettingsForm:s})}))}function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ir(e){var t=e.sendConfirmParamsParsed,n=Object(l.default)();Object(be.useOnboardingRequired)();var r=X.default.engine,o=X.default.serviceHistory,a=X.default.serviceToken,i=t.navigation,c=t.routeParams,s=t.feeInfoEditable,u=t.feeInfoUseFeeInTx,d=t.sourceInfo,p=t.payload,m=t.payloadInfo,h=t.resendActionInfo,j=t.isSpeedUpOrCancel,O=t.isFromDapp,g=t.dappApprove,v=t.onModalClose,y=t.networkId,w=t.accountId,_=t.ignoreFetchFeeCalling;nt({networkId:y,accountId:w});var k=Object(E.useNetwork)({networkId:y}).network,I=function(e){var t=e.accountId,n=e.networkId,r=Object(b.useState)(!1),o=Se()(r,2),a=o[0],i=o[1],c=Object(b.useState)({currentHexData:"",currentNonce:"",originalNonce:"",isCoinControlChecked:!1,selectedUtxos:[]}),s=Se()(c,2),l=s[0],u=s[1],d=X.default.serviceTransaction;return Object(b.useEffect)((function(){i(!0),function(){var e=x()((function*(){var e=yield d.getNextTransactionNonce({accountId:t,networkId:n});u((function(t){return fr(fr({},t),{},{currentNonce:String(e),originalNonce:String(e)})})),i(!1)}));return function(){return e.apply(this,arguments)}}()()}),[t,n,d]),{isLoading:a,advancedSettings:l,setAdvancedSettings:u}}({accountId:w,networkId:y}),S=I.isLoading,T=I.advancedSettings,C=I.setAdvancedSettings,M=Object(E.useActiveSideAccount)({accountId:w,networkId:y}),A=M.walletId,D=M.networkImpl,R=M.account,N=M.wallet;Object(pe.useDisableNavigationAnimation)({condition:!!c.autoConfirmAfterFeeSaved});var L=function(e){var t=e.networkId,n=e.accountId,r=e.sendConfirmParams,o=e.networkImpl,a=e.address,i=e.advancedSettings,c=Object(b.useState)(null),s=Se()(c,2),l=s[0],u=s[1];return Object(b.useEffect)((function(){qe({networkId:t,accountId:n,encodedTx:r.encodedTx,sendConfirmParams:r,networkImpl:o,address:a,selectedUtxos:i.selectedUtxos,currentHexData:i.currentHexData}).then(u)}),[a,o,r,r.encodedTx,t,n,i.currentHexData,i.selectedUtxos]),{encodedTx:l}}({networkId:y,accountId:w,sendConfirmParams:c,networkImpl:D,address:(null==R?void 0:R.address)||"",advancedSettings:T}).encodedTx,B=Object(dt.useDecodedTx)({accountId:w,networkId:y,encodedTx:L,payload:m||p,sourceInfo:d}).decodedTx,F=Object(b.useMemo)((function(){var e;if(O||!p)return!1;if(B&&1===(null==B||null==(e=B.actions)?void 0:e.length)&&B.actions[0].type===P.IDecodedTxActionType.NATIVE_TRANSFER)return!0;return!1}),[B,O,p]),U=ur({accountId:w,networkId:y,encodedTx:L,useFeeInTx:u,pollingInterval:s?5e3:0,signOnly:c.signOnly,payload:m||p,ignoreFetchFeeCalling:_}),H=U.feeInfoError,W=U.feeInfoPayload,V=U.feeInfoLoading;Object(fe.useWalletConnectPrepareConnection)({accountId:w,networkId:y});var z=Object(b.useCallback)(function(){var e=x()((function*(e){var t,l=e.close,u=e.encodedTx;if(u){var d,f=u;s&&W&&(d=null==W?void 0:W.current.value,f=yield r.attachFeeInfoToEncodedTx({networkId:y,accountId:w,encodedTx:u,feeInfoValue:d}));var p=yield r.updateEncodedTx({networkId:y,accountId:w,encodedTx:f,payload:T,options:{type:P.IEncodedTxUpdateType.advancedSettings}}),b=yield r.specialCheckEncodedTx({networkId:y,accountId:w,encodedTx:p}),j=function(){var e=x()((function*(e,t){(a.fetchAccountTokens({accountId:w,networkId:y}),c.signOnly)?(yield r.getVaultSettings(y)).signOnlyReturnFullTx?yield g.resolve({result:e}):yield g.resolve({result:e.rawTx}):(yield g.resolve({result:e.txid}),yield o.saveSendConfirmHistory({networkId:y,accountId:w,data:t,resendActionInfo:h,feeInfo:d}));if(null!=m&&m.swapInfo&&null!=m&&m.swapInfo.isApprove&&"hw"===(null==N?void 0:N.type)){var n={networkId:y,accountId:w,closeModal:l};i.navigate(ee.SendModalRoutes.HardwareSwapContinue,n)}else if(c.hideSendFeedbackReceipt)setTimeout((function(){l()}),0);else{var s,u=c.signOnly?"Sign":"Send";e.pendingTx&&(u="SendUnconfirmed");var f={networkId:y,accountId:w,txid:null!=(s=e.txid)?s:"unknown_txid",type:u,closeModal:l,onDetail:c.onDetail,isSingleTransformMode:!0};i.navigate(ee.SendModalRoutes.SendFeedbackReceipt,f)}c.onSuccess&&c.onSuccess(e,t),o.refreshHistoryUi()}));return function(t,n){return e.apply(this,arguments)}}(),O=kr(kr({},c),{},{encodedTx:p,accountId:w,networkId:y,walletId:A,onSuccess:j,onFail:function(e){g.reject({error:e})},onModalClose:v});delete O._disabledAnimationOfNavigate;var _,I="navigate";if(c.autoConfirmAfterFeeSaved&&(yield Object(bt.wait)(600),I="replace"),b.success)return i[I](ee.SendModalRoutes.SendAuthentication,O);if(null==k||!k.settings.useSimpleTipForSpecialCheckEncodedTx)return i[I](ee.SendModalRoutes.SendSpecialWarning,kr(kr({},O),{},{hintMsgKey:null!=(t=b.key)?t:"",hintMsgParams:b.params}));Xe.default.show({title:n.formatMessage({id:b.key},kr({},null!=(_=b.params)?_:{}))},{type:"error"})}}));return function(t){return e.apply(this,arguments)}}(),[s,W,r,y,w,T,c,A,v,null==k?void 0:k.settings.useSimpleTipForSpecialCheckEncodedTx,i,g,a,null==m?void 0:m.swapInfo,null==N?void 0:N.type,o,h,n]),G=Object(f.jsx)(Zn,{accountId:w,networkId:y,sendConfirmParams:c,editable:s,encodedTx:L,feeInfoPayload:W,loading:V,feeInfoError:H}),K=c.hideAdvancedSetting?void 0:Object(f.jsx)(lr,{accountId:w,networkId:y,encodedTx:L,advancedSettings:T,setAdvancedSettings:C,isLoadingAdvancedSettings:S}),q={accountId:w,networkId:y,sendConfirmParams:c,sourceInfo:d,encodedTx:L,decodedTx:B,payload:p,feeInfoPayload:W,feeInfoLoading:V,feeInfoError:H,feeInfoEditable:s,feeInput:G,advancedSettings:T,advancedSettingsForm:K,handleConfirm:z,onSecondaryActionPress:function(e){var t=e.close;g.reject(),t()},onModalClose:v,children:null};return B&&L?(q.children=Object(f.jsx)(he.TxDetailView,{sendConfirmParamsParsed:t,isSendConfirm:!0,isSingleTransformMode:!0,decodedTx:B,feeInput:G,advancedSettingsForm:K}),j?Object(f.jsx)(gr,kr({},q)):F?Object(f.jsx)(wr,kr({},q)):Object(f.jsx)(Bn,kr({},q))):Object(f.jsx)(hr,kr({},q))}var Sr=function(){var e=pr(),t=e.sourceInfo,n=e.routeParams;return Object(b.useMemo)((function(){return!!t&&!m.ENABLED_DAPP_SCOPE.includes(t.scope)}),[t])?Object(f.jsx)(Bn,{accountId:n.accountId,networkId:n.networkId,sendConfirmParams:n,feeInfoPayload:null,feeInfoLoading:!1,encodedTx:null,handleConfirm:function(){return null},children:Object(f.jsx)(te,{isNetworkNotMatched:!0})}):Object(f.jsx)(Ir,{sendConfirmParamsParsed:e})},Tr=n(398),Pr=n(421),Cr=n(918);var Mr=n(215),Ar=n(790),Er=n.n(Ar),Dr=n(1309);function Rr(e){var t=e.networkId,n=e.accountId,r=e.feeRate,o=e.feeType,a=e.encodedTx,i=Object(b.useState)(null),c=Se()(i,2),s=c[0],l=c[1],u=Object(E.useDebounce)(r,300);return Object(b.useEffect)((function(){a&&u&&"custom"===o&&X.default.engine.fetchFeeInfo({networkId:t,accountId:n,encodedTx:a,specifiedFeeRate:u}).then((function(e){var t;l(""+((null==(t=e.feeList)?void 0:t[0])||0))})).catch((function(){l(null)}))}),[u,o,t,n,a]),{btcTxFee:s}}var Nr=n(597),Lr=n(236),Br=n(1334),Fr=n.n(Br),Ur=n(798),Hr=n(1261),Wr=n(1244),Vr=n(5),zr=n(341);function Gr(e){return e>90?0:e>=80&&e<=90?1:2}var Kr=["titleId","tooltipId","value"],qr=["useFormReturn","feeInfo","setPriorityBooster","feeSymbol"];function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e){return Object(f.jsxs)(Vr.default,Xr(Xr({width:"82",height:"12",viewBox:"0 0 82 12",fill:"none"},e),{},{children:[Object(f.jsxs)(Vr.G,{"clip-path":"url(#clip0_5959_37579)",children:[Object(f.jsx)(Vr.Path,{d:"M73.1747 9.04975L71.5645 6.25952H74.7859L76.3975 9.04975H73.1747Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M74.7859 6.25952H71.5645L73.1747 3.4693H76.3975L74.7859 6.25952Z",fill:"#A8A9AC"}),Object(f.jsx)(Vr.Path,{d:"M78.0077 6.25954L76.3975 3.46931H73.1747L71.5645 0.679077H78.0077L81.2305 6.25954H78.0077Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M78.0077 11.84H71.5645L73.1747 9.04975H76.3975L78.0077 6.25952H81.2305L78.0077 11.84Z",fill:"#A8A9AC"}),Object(f.jsx)(Vr.Path,{d:"M7.32297 6.8917C7.32297 8.89635 5.84342 10.4438 4.0406 10.4438C3.05835 10.4438 2.34483 10.0804 1.86091 9.4616V10.2554H0.125V0.827331L1.86091 0.292969V4.32285C2.34483 3.70507 3.05835 3.3406 4.0406 3.3406C5.84342 3.3406 7.32297 4.88707 7.32297 6.8917ZM5.58705 6.8917C5.58705 5.75915 4.79425 4.99517 3.7173 4.99517C2.64032 4.99517 1.864 5.76222 1.864 6.8917C1.864 8.02117 2.65782 8.78927 3.7173 8.78927C4.77675 8.78927 5.58705 8.0222 5.58705 6.8917Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M8.10352 0.827331L9.83839 0.292969V10.2554H8.10352V0.827331Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M10.6057 6.89168C10.6045 6.18735 10.8123 5.4985 11.2029 4.91238C11.5934 4.32623 12.1492 3.8692 12.7997 3.59915C13.4502 3.3291 14.1662 3.25818 14.857 3.39535C15.5479 3.53253 16.1825 3.87165 16.6805 4.36978C17.1784 4.86788 17.5174 5.50258 17.6544 6.19348C17.7913 6.88435 17.7202 7.60035 17.45 8.25078C17.1797 8.90123 16.7225 9.45683 16.1363 9.8472C15.55 10.2376 14.8611 10.4453 14.1568 10.4438C13.689 10.4488 13.2249 10.3603 12.7917 10.1835C12.3586 10.0068 11.9651 9.74528 11.6343 9.41443C11.3036 9.08358 11.0422 8.69 10.8656 8.2568C10.6889 7.8236 10.6006 7.35948 10.6057 6.89168ZM15.9864 6.89168C15.9864 5.80238 15.1926 5.0384 14.1568 5.0384C13.121 5.0384 12.3406 5.80545 12.3406 6.89168C12.3406 7.97793 13.1344 8.74498 14.1568 8.74498C15.1792 8.74498 15.9864 7.98203 15.9864 6.89168Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M18.3799 6.89168C18.3799 4.88703 19.8862 3.34058 21.931 3.34058C23.2499 3.34058 24.3928 4.03968 24.9447 5.07545L23.4517 5.95063C23.182 5.39875 22.6033 5.04868 21.9176 5.04868C20.8818 5.04868 20.1148 5.81573 20.1148 6.89168C20.1148 7.9676 20.8818 8.72128 21.9176 8.72128C22.6178 8.72128 23.1954 8.38563 23.462 7.83375L24.9683 8.6945C24.6647 9.23178 24.2224 9.67765 23.6875 9.98553C23.1527 10.2934 22.545 10.4521 21.9279 10.4448C19.8862 10.4438 18.3799 8.8963 18.3799 6.89168Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M29.9548 10.2554L27.5065 7.20162V10.2554H25.7705V0.827331L27.5065 0.292969V6.4881L29.819 3.52902H31.8905L29.1878 6.85155L31.9728 10.2554H29.9548Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M38.9058 6.12463V10.2554H37.1698V6.3429C37.1698 5.42758 36.619 4.95705 35.8385 4.95705C34.9913 4.95705 34.358 5.45435 34.358 6.625V10.2554H32.623V3.52898H34.358V4.28163C34.7615 3.67623 35.4618 3.34058 36.3628 3.34058C37.7888 3.34058 38.9058 4.34135 38.9058 6.12463Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M46.8813 3.52898V10.2554H45.1466V9.46158C44.6616 10.067 43.9356 10.4438 42.9536 10.4438C41.1641 10.4438 39.6846 8.8994 39.6846 6.89168C39.6846 4.88395 41.1641 3.34058 42.9536 3.34058C43.9356 3.34058 44.6616 3.7174 45.1466 4.3228V3.52898H46.8813ZM45.1466 6.89168C45.1466 5.7591 44.3526 4.99515 43.2758 4.99515C42.1988 4.99515 41.4223 5.7622 41.4223 6.89168C41.4223 8.02115 42.2163 8.78923 43.2758 8.78923C44.3351 8.78923 45.1466 8.02218 45.1466 6.89168Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M51.404 5.19698V3.52903H49.8833V1.55115L48.1455 2.08551V7.99545C48.1455 9.81168 48.969 10.5241 51.402 10.2606V8.68115C50.4065 8.73573 49.8813 8.72132 49.8813 7.99545V5.19698H51.404Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M52.6201 3.52899H54.3551V10.2554H52.6201V3.52899Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M62.1613 3.52899L59.6045 10.2554H57.6268L55.0713 3.52899H56.9813L58.609 8.23739L60.2503 3.52899H62.1613Z",fill:"#8C8CA1"}),Object(f.jsx)(Vr.Path,{d:"M65.8758 8.87165C66.5481 8.87165 67.0866 8.58955 67.3831 8.19933L68.7813 9.00653C68.1491 9.92083 67.1401 10.448 65.8491 10.448C63.5838 10.448 62.1631 8.90358 62.1631 6.89585C62.1631 4.88813 63.6046 3.34473 65.7141 3.34473C67.7053 3.34473 69.1181 4.919 69.1181 6.89585C69.1153 7.13395 69.0916 7.37135 69.0471 7.60525H63.9793C64.2213 8.49275 64.9616 8.87165 65.8758 8.87165ZM67.3831 6.2616C67.1668 5.29275 66.4411 4.90253 65.7141 4.90253C64.7876 4.90253 64.1543 5.40085 63.9516 6.2616H67.3831Z",fill:"#8C8CA1"})]}),Object(f.jsx)(Vr.Defs,{children:Object(f.jsx)(Vr.ClipPath,{id:"clip0_5959_37579",children:Object(f.jsx)(Vr.Rect,{width:"81.5",height:"12",fill:"white"})})})]}))}function Qr(e){var t=e.price,n=e.useFormReturn,r=e.setPriorityBooster,o=Object(l.default)(),a=n.setValue,i=Object(b.useMemo)((function(){return Object(f.jsx)(g.default,{position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:-1,children:Object(f.jsx)(Wr.View,{style:{height:"100%",backgroundColor:"surface-neutral-subdued"},from:{width:"0%"},animate:{width:"100%"},transition:{loop:!0,type:"timing",duration:Hn.FEE_INFO_POLLING_INTERVAL+100,repeatReverse:!1},children:Object(f.jsx)(g.default,{position:"absolute",left:0,top:0,right:0,bottom:0,bgColor:"surface-neutral-subdued"})})})}),[]);if(!t)return null;var c=t.confidence,s=t.baseFee,u=t.maxFeePerGas,d=t.maxPriorityFeePerGas;return Object(f.jsx)(zr.default,{flexBasis:"49%",onPress:function(){null==r||r(1),a("baseFee",s),a("maxFeePerGas",u),a("maxPriorityFeePerGas",d)},children:function(e){var t;return t="action-secondary-default",e.isPressed&&(t="surface-pressed"),e.isHovered&&(t="surface-hovered"),Object(f.jsxs)(g.default,{px:4,py:2,bg:t,alignItems:"flex-start",justifyContent:"center",borderRadius:"12px",overflow:"hidden",position:"relative",children:[i,Object(f.jsx)(O.default,{typography:"Body2Strong",color:Hn.FEE_LEVEL_TEXT_COLOR_MAP[Gr(null!=c?c:0)],children:o.formatMessage({id:"form__str_probability"},{0:(null!=c?c:0)+"%"})}),Object(f.jsxs)(h.default,{w:"full",justifyContent:"space-between",children:[Object(f.jsxs)(G.default,{flexBasis:"50%",children:[Object(f.jsx)(O.default,{typography:"Caption",color:"text-subdued",children:o.formatMessage({id:"form__priority_fee"})}),Object(f.jsx)(O.default,{typography:"Heading",children:d})]}),Object(f.jsxs)(G.default,{flexBasis:"48%",children:[Object(f.jsx)(O.default,{typography:"Caption",color:"text-subdued",children:o.formatMessage({id:"form__max_fee"})}),Object(f.jsx)(O.default,{typography:"Heading",children:u})]})]})]})}})}function $r(e){var t=e.titleId,n=e.tooltipId,r=e.value,o=I()(e,Kr),a=Object(l.default)();return Object(f.jsx)(_e.default,{maxWidth:"260px",placement:"top",hasArrow:!0,label:a.formatMessage({id:n}),children:Object(f.jsxs)(zr.default,Xr(Xr({},o),{},{children:[Object(f.jsx)(O.default,{color:"text-disabled",textAlign:"center",fontSize:"12px",children:a.formatMessage({id:t})}),Object(f.jsx)(O.default,{typography:"DisplaySmall",textAlign:"center",fontSize:"16px",children:r})]}))})}function Jr(e){var t,n,r,o=e.useFormReturn,a=e.feeInfo,i=e.setPriorityBooster,c=e.feeSymbol,s=I()(e,qr),u=Object(l.default)(),d=Object(b.useMemo)((function(){if(null==a||!a.prices.length)return null;for(var e=[],t=0,n=null==a?void 0:a.prices.length;t<n;t+=2)t%2===0&&e.push(Object(f.jsxs)(h.default,{mt:2,justifyContent:"space-between",children:[Object(f.jsx)(Qr,{price:null==a?void 0:a.prices[t],useFormReturn:o,setPriorityBooster:i}),Object(f.jsx)(Qr,{price:null==a?void 0:a.prices[t+1],useFormReturn:o,setPriorityBooster:i})]}));return e}),[null==a?void 0:a.prices,i,o]);return Object(f.jsxs)(g.default,Xr(Xr({},s),{},{children:[Object(f.jsx)(ir,{labelId:"form__gas_fee_prediction",tooltipId:"content__custom_gas_fee_prediction_desc"}),d,Object(f.jsxs)(h.default,{mt:4,justifyContent:"center",children:[Object(f.jsx)($r,{titleId:"form__base_fee",tooltipId:"content__custom_what_is_base_fee_desc",value:new T.a(null!=(t=null==a?void 0:a.baseFee)?t:0).toFixed(2)+" "+c,paddingRight:4}),Object(f.jsx)($r,{titleId:"form__max_gas_price",tooltipId:"content__custom_what_is_max_gas_price_desc",value:(null!=(n=null==a?void 0:a.maxPrice)?n:0)+" "+c,paddingX:4,borderLeftWidth:1,borderRightWidth:1,borderColor:"border-default"}),Object(f.jsx)($r,{titleId:"form__pending_tx",value:String(null!=(r=null==a?void 0:a.estimatedTransactionCount)?r:0),tooltipId:"content__custom_what_is_pending_tx_desc",paddingLeft:4})]}),Object(f.jsxs)(h.default,{mt:5,alignItems:"center",justifyContent:"center",space:1,children:[Object(f.jsx)(O.default,{typography:"CaptionStrong",color:"text-disabled",children:u.formatMessage({id:"form__powered_by"})}),Object(f.jsx)(Yr,{})]})]}))}var eo=n(922);function to(e){var t,n,r,o,i,c,s,u,d,p,m,j,y=e.feeInfoPayload,w=e.useFormReturn,_=e.autoConfirmAfterFeeSaved,k=e.networkId,I=e.accountId,S=e.blockNativeInit,P=e.setBlockNativeInit,C=e.saveCustom,M=e.setSaveCustom,A=e.encodedTx,E=w.control,D=w.getValues,R=w.setValue,N=w.trigger,L=w.watch,B=Object(tn.useFormOnChangeDebounced)({useFormReturn:w}).formValues,F=Object(l.default)(),U=null!=(t=null==y||null==(n=y.info)?void 0:n.limit)?t:"21000",H=null==y?void 0:y.selected,W=(null==y||null==(r=y.info)?void 0:r.feeSymbol)||"",V=(null==y||null==(o=y.info)?void 0:o.nativeSymbol)||"",z=null==y||null==(i=y.info)?void 0:i.eip1559,G=null==y?void 0:y.info.isBtcForkChain,K=Object(a.default)(),q=Object(b.useState)(Er()(null!=(c=null==y||null==(s=y.info)?void 0:s.prices)?c:[])),Z=Se()(q,2),Y=Z[0],Q=Z[1],$=Object(b.useState)(Fr()(null!=(u=null==y||null==(d=y.info)?void 0:d.prices)?u:[])),J=Se()($,2),ee=J[0],te=J[1],ne=Object(b.useState)(1),re=Se()(ne,2),oe=re[0],ae=re[1],ie=Object(Ur.useDebounce)(oe,0),ce=Se()(ie,1)[0],se=Object(b.useState)(null==Y?void 0:Y.maxPriorityFeePerGas),le=Se()(se,2),ue=le[0],de=le[1],fe=Object(b.useState)(null),pe=Se()(fe,2),be=pe[0],me=pe[1],he=Object(b.useState)(null),je=Se()(he,2),Oe=je[0],ge=je[1],ve=Object(b.useState)(null),ye=Se()(ve,2),xe=ye[0],we=ye[1],ke=Object(b.useState)(null),Ie=Se()(ke,2),Te=Ie[0],Ce=Ie[1],Me=Object(b.useState)(),Ae=Se()(Me,2),Ee=Ae[0],De=Ae[1],Re=Object(b.useRef)(!1),Ne=function(e){var t=e.networkId,n=e.accountId,r=e.encodedTx,o=e.setGasPriceTip,a=e.firstPresetFeeInfo,i=e.lastPresetFeeInfo,c=Object(l.default)(),s=Object(b.useCallback)(function(){var e=x()((function*(e){var o=e.value,a=e.lowValue,i=e.highValue,c=new T.a(o);if(c.isLessThanOrEqualTo(0)||c.isGreaterThan(2e3))throw new Pe.OneKeyValidatorError("msg__enter_a_fee_rate_between_str_and_str",{min:"0",max:"2000"});try{r&&(yield X.default.engine.attachFeeInfoToEncodedTx({networkId:t,accountId:n,encodedTx:r,feeInfoValue:{feeRate:o}}))}catch(s){throw new Pe.OneKeyValidatorError("msg__insufficient_balance")}if(c.shiftedBy(-8).isLessThan(a))throw new Pe.OneKeyValidatorTip("msg__fee_rate_is_low_for_current_network");if(c.shiftedBy(-8).isGreaterThan(new T.a(i).times(10)))throw new Pe.OneKeyValidatorTip("msg__fee_rate_is_higher_than_necessary")}));return function(t){return e.apply(this,arguments)}}(),[n,r,t]);return{feeRateFormValidator:Object(b.useCallback)(function(){var e=x()((function*(e){var t=e.value,n=a,r=i;try{yield s({value:t,lowValue:n,highValue:r}),o(null)}catch(u){var l=u;if((null==l?void 0:l.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorError)return o({type:"error",message:c.formatMessage({id:l.key},l.info)}),!1;(null==l?void 0:l.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorTip&&o({type:"warn",message:c.formatMessage({id:l.key},l.info)})}return!0}));return function(t){return e.apply(this,arguments)}}(),[a,c,i,o,s])}}({networkId:k,accountId:I,encodedTx:A,setGasPriceTip:ge,firstPresetFeeInfo:ee,lastPresetFeeInfo:Y}).feeRateFormValidator,Le=L("feeRate"),Be=Rr({networkId:k,accountId:I,encodedTx:A,feeRate:Le,feeType:"custom"}).btcTxFee,Fe=Object(b.useCallback)((function(e){var t,n;ae(e);var r=new T.a(null!=ue?ue:0).times(e);if(R("maxPriorityFeePerGas",r.toFixed()),null!=B&&B.baseFee){var o=r.plus(null!=(t=null==B?void 0:B.baseFee)?t:0);o.isGreaterThanOrEqualTo(null!=(n=null==B?void 0:B.maxFeePerGas)?n:0)?(R("maxFeePerGas",o.plus(1).toFixed()),Re.current=!0):Re.current&&R("maxFeePerGas",o.plus(1).toFixed())}}),[ue,null==B?void 0:B.baseFee,null==B?void 0:B.maxFeePerGas,R]),Ue=Object(b.useMemo)((function(){if(!B)return null;var e=B.gasLimit,t=null;return t=z?{baseFee:null==B?void 0:B.baseFee,maxFeePerGas:null==B?void 0:B.maxFeePerGas,maxPriorityFeePerGas:null==B?void 0:B.maxPriorityFeePerGas}:null==B?void 0:B.gasPrice,Object(f.jsx)(eo.SendEditFeeOverview,{accountId:I,networkId:k,feeInfo:null==y?void 0:y.info,price:t,limit:e,btcCustomFee:Be})}),[I,null==y?void 0:y.info,B,z,k,Be]),He=Object(b.useMemo)((function(){var e,t,n;if(!z||null==Ee||!Ee.prices||!B)return null;for(var r,o=!1,a=!1,i=Ee.prices,c=new T.a(B.maxFeePerGas),s=new T.a(B.maxPriorityFeePerGas),l=0,u=i.length;l<u;l+=1){var d=i[l];if(c.isGreaterThanOrEqualTo(d.maxFeePerGas)&&s.isGreaterThanOrEqualTo(d.maxPriorityFeePerGas)){0===l&&c.isGreaterThan(d.maxFeePerGas)&&s.isGreaterThan(d.maxPriorityFeePerGas)?(o=!0,n=d.confidence):n=d.confidence;break}}n||(a=!0,n=null==(r=Er()(i))?void 0:r.confidence);return Object(f.jsx)(Lr.default,{mt:2,size:"lg",type:Hn.FEE_LEVEL_BADGE_TYPE_MAP[Gr(null!=(e=n)?e:0)],title:F.formatMessage({id:"form__str_probability"},{0:(o?">":"")+(a?"<":"")+(null!=(t=n)?t:0)+"%"})})}),[Ee,B,F,z]),We=Object(b.useMemo)((function(){var e,t,n=new T.a(null!=(e=null==B?void 0:B.maxFeePerGas)?e:0).times((null==B?void 0:B.gasLimit)||0).shiftedBy(-((null==y?void 0:y.info.feeDecimals)||0)).toFixed(8),r=new T.a((null==B?void 0:B.maxPriorityFeePerGas)||0).times((null==B?void 0:B.gasLimit)||0).shiftedBy(-(null!=(t=null==y?void 0:y.info.feeDecimals)?t:0)).toFixed(8);return G?Object(f.jsx)(Xt.default,{mt:4,children:Object(f.jsx)(Xt.default.Item,{label:"Fee rate (sat/B)",control:E,name:"feeRate",rules:{validate:function(){var e=x()((function*(e){return Ne({value:e})}));return function(t){return e.apply(this,arguments)}}()},children:Object(f.jsx)(Xt.default.NumberInput,{size:K?"xl":"lg"})})}):Object(f.jsxs)(Xt.default,{mt:4,children:[z&&Object(f.jsx)(Xt.default.Item,{label:Object(f.jsx)(ir,{labelId:"content__max_fee",tooltipId:"content__custom_gas_max_fee_desc",labelAfter:" ("+W+")"}),control:E,name:"maxFeePerGas",defaultValue:"",rules:{validate:function(){var e=x()((function*(e){var t=ee,n=Y;try{var r,o,a;yield X.default.validator.validateMaxFee({networkId:k,maxPriorityFee:D("maxPriorityFeePerGas"),value:e,lowValue:null==t?void 0:t.maxFeePerGas,highValue:null==n?void 0:n.maxFeePerGas,minValue:_&&null!=H&&null!=(r=H.custom)&&r.price1559?new T.a(null==H||null==(o=H.custom)||null==(a=o.price1559)?void 0:a.maxFeePerGas).times(Hn.SEND_EDIT_FEE_PRICE_UP_RATIO).toFixed():"0"}),Ce(null)}catch(c){var i=c;if((null==i?void 0:i.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorError)return Ce({type:"error",message:F.formatMessage({id:i.key},i.info)}),!1;(null==i?void 0:i.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorTip&&Ce({type:"warn",message:F.formatMessage({id:i.key},i.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},children:Object(f.jsx)(Xt.default.NumberInput,{rightCustomElement:Object(f.jsx)(O.default,{paddingRight:2,typography:"Body1",color:"text-subdued",children:"~"+n+" "+V}),size:K?"xl":"lg"})}),z&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Xt.default.Item,{label:Object(f.jsx)(ir,{labelId:"content__max_priority_fee",tooltipId:"content__custom_gas_priority_fee_desc",labelAfter:" ("+W+")"}),control:E,name:"maxPriorityFeePerGas",defaultValue:"",rules:{validate:function(){var e=x()((function*(e){var t=ee,n=Y;try{var r,o,a;yield X.default.validator.validateMaxPriortyFee({networkId:k,value:e,lowValue:null==t?void 0:t.maxPriorityFeePerGas,highValue:null==n?void 0:n.maxPriorityFeePerGas,minValue:_&&null!=H&&null!=(r=H.custom)&&r.price1559?new T.a(null==H||null==(o=H.custom)||null==(a=o.price1559)?void 0:a.maxPriorityFeePerGas).times(Hn.SEND_EDIT_FEE_PRICE_UP_RATIO).toFixed():"0"}),we(null)}catch(c){var i=c;if((null==i?void 0:i.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorError)return we({type:"error",message:F.formatMessage({id:i.key},i.info)}),!1;(null==i?void 0:i.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorTip&&we({type:"warn",message:F.formatMessage({id:i.key},i.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},children:Object(f.jsx)(Xt.default.NumberInput,{mb:0,rightCustomElement:Object(f.jsx)(O.default,{paddingRight:2,typography:"Body1",color:"text-subdued",children:"~"+r+" "+V}),size:K?"xl":"lg"})}),Object(f.jsxs)(h.default,{alignItems:"center",width:"100%",space:8,mt:-4,children:[Object(f.jsx)(ir,{labelId:"form__priority_fee_booster",tooltipId:"content__custom_gas_priority_fee_booster_desc",labelProps:{typography:"CaptionStrong",color:"text-subdued"}}),Object(f.jsx)(g.default,{flex:1,pr:2,children:Object(f.jsxs)(Nr.default,{accessibilityLabel:F.formatMessage({id:"form__priority_fee_booster"}),nativeMode:!1,minimumTrackTintColor:"#85D34C",step:1,value:ce,width:"100%",minValue:1,maxValue:100,onChange:Fe,children:[Object(f.jsx)(Nr.default.Track,{bg:"surface-neutral-default",height:"4px",children:Object(f.jsx)(Nr.default.FilledTrack,{bg:"interactive-default",height:"4px"})}),Object(f.jsx)(_e.default,{label:oe+"x",placement:"top",hasArrow:!0,children:Object(f.jsx)(Nr.default.Thumb,{style:{position:"absolute"},borderWidth:0,bg:"transparent",children:Object(f.jsx)(g.default,{borderRadius:"full",borderColor:"icon-default",width:"16px",height:"16px",borderWidth:"3px",bg:"surface-neutral-default"})})})]})})]})]}),!z&&Object(f.jsx)(Xt.default.Item,{label:F.formatMessage({id:"content__gas_price"})+" ("+W+")",control:E,name:"gasPrice",rules:{validate:function(){var e=x()((function*(e){var t=ee,n=Y;try{var r,o;yield X.default.validator.validateGasPrice({networkId:k,value:e,minValue:_&&null!=H&&null!=(r=H.custom)&&r.price?new T.a(null==H||null==(o=H.custom)?void 0:o.price).times(Hn.SEND_EDIT_FEE_PRICE_UP_RATIO).toFixed():"0",lowValue:t,highValue:n}),ge(null)}catch(i){var a=i;if((null==a?void 0:a.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorError)return ge({type:"error",message:F.formatMessage({id:a.key},a.info)}),!1;(null==a?void 0:a.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorTip&&ge({type:"warn",message:F.formatMessage({id:a.key},a.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},defaultValue:"",children:Object(f.jsx)(Xt.default.NumberInput,{size:K?"xl":"lg"})}),Object(f.jsx)(Xt.default.Item,{label:Object(f.jsx)(ir,{labelId:"content__gas_limit",tooltipId:"content__custom_gas_gas_limit_desc"}),control:E,name:"gasLimit",rules:{validate:function(){var e=x()((function*(e){var t,n=null==y||null==(t=y.info)?void 0:t.limit;try{yield X.default.validator.validateGasLimit({networkId:k,value:e,highValue:n}),me(null)}catch(o){var r=o;if((null==r?void 0:r.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorError)return me({type:"error",message:F.formatMessage({id:r.key},r.info)}),!1;(null==r?void 0:r.className)===Pe.OneKeyErrorClassNames.OneKeyValidatorTip&&me({type:"warn",message:F.formatMessage({id:r.key},r.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},defaultValue:"",children:Object(f.jsx)(Xt.default.NumberInput,{size:K?"xl":"lg",rightCustomElement:Object(f.jsx)(ct.default,{type:"plain",isDisabled:U===(null==B?void 0:B.gasLimit),onPress:function(){return R("gasLimit",U)},children:Object(f.jsx)(O.default,{color:U===(null==B?void 0:B.gasLimit)?"text-subdued":"text-default",children:F.formatMessage({id:"action__reset"})})})})})]})}),[oe,_,E,null==y?void 0:y.info.feeDecimals,null==y||null==(p=y.info)?void 0:p.limit,W,ee,null==B?void 0:B.gasLimit,null==B?void 0:B.maxFeePerGas,null==B?void 0:B.maxPriorityFeePerGas,D,Fe,F,z,G,K,Y,V,k,U,ce,null==H||null==(m=H.custom)?void 0:m.price,null==H||null==(j=H.custom)?void 0:j.price1559,R,Ne]),Ve=Object(b.useMemo)((function(){return Object(f.jsx)(f.Fragment,{children:[Te,xe,Oe,be].map((function(e){return e?Object(f.jsx)(g.default,{mb:2,children:Object(f.jsx)(v.default,{title:e.message,alertType:e.type,dismiss:!1})},e.message):null}))})}),[be,Oe,Te,xe]);return Object(b.useEffect)((function(){var e,t=function(){var t=x()((function*(){try{var t,n,r=yield Object(Hr.getBlockNativeGasInfo)({networkId:k,priceOrder:"desc"});De(r),P(!0),Q(Fr()(r.prices)),te(Er()(r.prices)),de(null!=(t=null==(n=Fr()(r.prices))?void 0:n.maxPriorityFeePerGas)?t:"0")}catch(o){o instanceof Pe.NotImplemented&&clearInterval(e)}}));return function(){return t.apply(this,arguments)}}();return t(),e=setInterval(t,Hn.FEE_INFO_POLLING_INTERVAL),function(){clearInterval(e)}}),[k,de,P]),Object(b.useEffect)((function(){N("maxFeePerGas")}),[N,null==B?void 0:B.maxPriorityFeePerGas]),Object(b.useEffect)((function(){N("maxPriorityFeePerGas")}),[N,null==B?void 0:B.maxFeePerGas]),K||!S?Object(f.jsxs)(f.Fragment,{children:[Ve,Ue,He,We,S&&Object(f.jsx)(Jr,{mt:6,networkId:k,useFormReturn:w,feeInfo:Ee,feeSymbol:W,setPriorityBooster:ae}),z&&Object(f.jsx)(g.default,{alignItems:"center",mt:12,children:Object(f.jsx)(Mr.default,{onChange:function(e){return M(e)},isChecked:C,children:Object(f.jsx)(O.default,{typography:"Body2Strong",children:F.formatMessage({id:"action__save_as_default_for_custom"})})})})]}):Object(f.jsxs)(h.default,{space:6,alignContent:"flex-start",children:[Object(f.jsxs)(g.default,{flex:1,children:[Ve,Ue,He,We]}),Object(f.jsx)(g.default,{flex:1,children:S&&Object(f.jsx)(Jr,{networkId:k,useFormReturn:w,feeInfo:Ee,feeSymbol:W,setPriorityBooster:ae})})]})}var no=n(1526);function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ao={marginTop:2,paddingLeft:"16px",paddingRight:"16px",paddingTop:"4px",paddingBottom:"4px",alignItems:"center",height:"64px"},io=oo(oo({},ao),{},{marginTop:6});function co(e){var t,n,r,o=e.feeInfoPayload,a=e.value,i=e.onChange,c=e.accountId,s=e.networkId,l=e.currentCustom,u=e.currentFeeType,d=l||(null==o?void 0:o.selected.custom),p=null==o||null==(t=o.info)?void 0:t.eip1559,m=null==o||null==(n=o.info)?void 0:n.isBtcForkChain,j=Object(b.useMemo)((function(){return m?"custom"!==u?null:null!=l&&l.btcFee?""+(null==l?void 0:l.btcFee):null:null}),[null==l?void 0:l.btcFee,u,m]),O=Object(b.useMemo)((function(){var e,t,n,r,i=null,l="";"custom"===a?(i=p?null==d?void 0:d.price1559:null==d?void 0:d.price,l=null!=(e=null==d?void 0:d.limit)?e:"0"):(i=null==o||null==(t=o.info)?void 0:t.prices[Number(a)],l=null!=(n=null==o?void 0:o.info.limit)?n:"0",l=new T.a(null==o?void 0:o.info.limitForDisplay).isNaN()?l:null!=(r=null==o?void 0:o.info.limitForDisplay)?r:"0");return Object(f.jsx)(eo.SendEditFeeOverview,{accountId:c,networkId:s,feeInfo:null==o?void 0:o.info,price:i,limit:l,btcCustomFee:j})}),[c,null==d?void 0:d.limit,null==d?void 0:d.price,null==d?void 0:d.price1559,null==o?void 0:o.info,p,s,a,j]),v=Object(b.useMemo)((function(){var e,t;return null!=(e=null==o||null==(t=o.info)?void 0:t.prices)?e:[]}),[null==o||null==(r=o.info)?void 0:r.prices]),y=Object(b.useMemo)((function(){var e,t;if(!v)return[];var n,r,a,i,u,b,m=null!=(e=null!=(t=null==o?void 0:o.info.limitForDisplay)?t:null==o?void 0:o.info.limit)?e:"0",O=v.map((function(e,t){var n,r,a,i,l,u=null==(n=(null==o?void 0:o.info).waitingSeconds)?void 0:n[t];return oo({value:t.toString(),title:Object(f.jsx)(De.FeeSpeedLabel,{index:t,iconSize:28,space:2,prices:null!=(r=null==o?void 0:o.info.prices)?r:[]}),describe:Object(f.jsxs)(h.default,{space:"10px",alignItems:"center",children:[Object(f.jsxs)(G.default,{children:[Object(f.jsx)(eo.SendEditFeeOverview,{accountId:c,networkId:s,price:e,feeInfo:null==o?void 0:o.info,limit:m,currencyProps:{typography:"Body1",textAlign:"right"},onlyCurrency:!0}),Object(f.jsx)(Wn.FeeSpeedTime,{index:t,waitingSeconds:u,prices:null!=(a=null==o?void 0:o.info.prices)?a:[]})]}),Object(f.jsx)(no.FeeSpeedTip,{index:t,isEIP1559:null==o?void 0:o.info.eip1559,price:e,limit:null!=(i=null==o?void 0:o.info.limit)?i:"0",feeInfo:null==o?void 0:o.info,prices:null!=(l=null==o?void 0:o.info.prices)?l:[]})]})},ao)}));null!=o&&o.info.customDisabled||O.push(oo({value:"custom",title:Object(f.jsx)(De.FeeSpeedLabel,{isCustom:!0,iconSize:28,alignItems:"center",space:2}),describe:Object(f.jsxs)(h.default,{space:"10px",alignItems:"center",children:[Object(f.jsxs)(G.default,{children:[(d||j)&&Object(f.jsx)(eo.SendEditFeeOverview,{accountId:c,networkId:s,price:null!=d&&d.eip1559?null==d?void 0:d.price1559:null==d?void 0:d.price,feeInfo:null==o?void 0:o.info,limit:null!=(n=null!=(r=null==d?void 0:d.limit)?r:null==o?void 0:o.info.limit)?n:"0",currencyProps:{typography:"Body1",textAlign:"right"},btcCustomFee:String(null==l?void 0:l.btcFee),onlyCurrency:!0}),Object(f.jsx)(Wn.CustomFeeSpeedTime,{isEIP1559Fee:p,waitingSeconds:null!=(a=null==o?void 0:o.info.waitingSeconds)?a:[],custom:d,prices:null!=(i=null==o?void 0:o.info.prices)?i:[]})]}),Object(f.jsx)(no.FeeSpeedTip,{isCustom:!0,isEIP1559:null==d?void 0:d.eip1559,price:null!=d&&d.eip1559?null==d?void 0:d.price1559:null==d?void 0:d.price,limit:null!=(u=null!=(b=null==d?void 0:d.limit)?b:null==o?void 0:o.info.limit)?u:"0"})]})},io));return O}),[v,null==o?void 0:o.info,c,s,d,j,null==l?void 0:l.btcFee,p]);return Object(f.jsxs)(g.default,{children:[O,Object(f.jsx)(Ee.default,{padding:"0px",mt:5,items:y,name:"standard fee group",value:a,onChange:function(e){return i(e)}})]})}function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=new T.a(null!=e?e:"").times(n),o=new T.a(null!=t?t:"");return o.isNaN()&&r.isNaN()?"0":o.isNaN()?r.toFixed():r.isNaN()?o.toFixed():r.isGreaterThan(o)?r.toFixed():o.toFixed()}var fo=Object(b.memo)((function(e){var t,n,r=Object.assign({},(rr()(e),e)).trigger,o=Object(b.useState)(!1),c=Se()(o,2),u=c[0],p=c[1],m=Object(b.useState)(!1),v=Se()(m,2),y=v[0],w=v[1],_=Object(b.useState)(null),k=Se()(_,2),I=k[0],S=k[1],P=Object(b.useRef)(!1),C=Object(b.useRef)(!1),M=Object(b.useState)(Ut.ESendEditFeeTypes.standard),A=Se()(M,2),D=A[0],R=A[1],N=Object(b.useState)(""),L=Se()(N,2),B=L[0],F=L[1],U=Object(l.default)(),H=Object(a.default)(),W=Object(s.useNavigation)(),V=Object(s.useRoute)(),z=V.params,G=z.encodedTx,K=z.autoConfirmAfterFeeSaved,q=z.resendActionInfo,Z=z.sendConfirmParams,Y=z.networkId,Q=z.accountId,$=z.forBatchSend,J=Object(E.useActiveSideAccount)({networkId:Y,accountId:Q}).network;Object(pe.useDisableNavigationAnimation)({condition:!!K});var te=Object(b.useMemo)((function(){if(K){var e=ht()(G);return delete e.gasLimit,delete e.gas,e}return G}),[K,G]),ne=ur({networkId:Y,accountId:Q,encodedTx:te,fetchAnyway:!0,ignoreFetchFeeCalling:null==Z?void 0:Z.ignoreFetchFeeCalling,useFeeInTx:null==Z?void 0:Z.feeInfoUseFeeInTx,forBatchSend:$,pollingInterval:Hn.FEE_INFO_POLLING_INTERVAL,shouldStopPolling:D===Ut.ESendEditFeeTypes.advanced}),re=ne.feeInfoPayload,oe=ne.feeInfoLoading,ae=ne.getSelectedFeeInfoUnit,ie=null==re||null==(t=re.info)?void 0:t.eip1559,ce=null==re||null==(n=re.info)?void 0:n.isBtcForkChain;Object(b.useEffect)((function(){Je.default.sendTx.info("SendEditFee  >>>>  ",re,G)}),[G,re]);var se=Object(b.useMemo)((function(){var e="action__edit_fee";return"speedUp"===(null==q?void 0:q.type)&&(e="form__accelerated_transaction"),"cancel"===(null==q?void 0:q.type)&&(e="form__cancelled_transaction"),D===Ut.ESendEditFeeTypes.advanced&&(e="title__custom"),U.formatMessage({id:e})}),[U,null==q?void 0:q.type,D]),le=Object(Yt.default)({mode:"onBlur",reValidateMode:"onBlur"}),ue=le.handleSubmit,de=le.setValue,fe=le.trigger,be=le.formState,me=le.watch,he=Object(b.useMemo)((function(){return D===Ut.ESendEditFeeTypes.advanced||"custom"===B?"custom":"preset"}),[D,B]),je=me("feeRate"),Oe=Rr({networkId:Y,accountId:Q,encodedTx:G,feeRate:je,feeType:he}).btcTxFee,ge=function(e){var t=Object(b.useState)(),n=Se()(t,2),r=n[0],o=n[1],a=Object(b.useCallback)((function(t){void 0!==t&&(o(t),X.default.serviceNetwork.updateNetworkCustomFee(e,t))}),[e]);return Object(b.useEffect)((function(){(function(){var t=x()((function*(){try{var t=yield X.default.serviceNetwork.getNetworkCustomFee(e);o(t||null)}catch(n){o(null)}}));return function(){return t.apply(this,arguments)}})()()}),[e]),{customFee:r,updateCustomFee:a}}(Y),ve=ge.customFee,ye=ge.updateCustomFee,xe=ue(function(){var e=x()((function*(e){var t,n,r=he;B||"preset"!==r||(r="custom");var o=e.gasPrice||"0";ie&&(o={baseFee:e.baseFee||"0",maxPriorityFeePerGas:e.maxPriorityFeePerGas||"0",maxFeePerGas:e.maxFeePerGas||"0"});var a={type:r,preset:B||"1"},i=lo(lo({eip1559:ie,limit:e.gasLimit||"0",waitingSeconds:0,similarToPreset:"0"},ie?{price1559:o}:{price:o}),ce?{feeRate:e.feeRate}:{});if("custom"===r){var c,s;a.custom=i;var l=Object(Dr.getCustomFeeSpeedInfo)({custom:a.custom,prices:null!=(c=null==re?void 0:re.info.prices)?c:[],waitingSeconds:null!=(s=null==re?void 0:re.info.waitingSeconds)?s:[],isEIP1559Fee:ie}),u=l.customSimilarToPreset,d=l.customWaitingSeconds;a.custom.similarToPreset=u,a.custom.waitingSeconds=d,ce&&(a.custom.isBtcForkChain=ce,e.feeRate&&(a.custom.btcFee=parseInt(Oe||"0"))),S(a.custom)}D===Ut.ESendEditFeeTypes.advanced&&ye(y?a.custom:null),Je.default.sendTx.info("SendEditFee Confirm >>>> ",a);var f=W.getState(),p=null==(t=f.routes[f.index-1])?void 0:t.name;if(K){var b=lo(lo({},Z),{},{networkId:Y,accountId:Q,encodedTx:G,resendActionInfo:V.params.resendActionInfo,feeInfoSelected:a,autoConfirmAfterFeeSaved:K,feeInfoUseFeeInTx:!1,feeInfoEditable:!0});return W.replace(ee.SendModalRoutes.SendConfirm,b)}var m=lo(lo({},Z),{},{networkId:Y,accountId:Q,feeInfoSelected:a,autoConfirmAfterFeeSaved:K});if(null!=J&&null!=(n=J.settings)&&n.isUTXOModel)try{Object.assign(m,{encodedTx:yield X.default.engine.attachFeeInfoToEncodedTx({networkId:Y,accountId:Q,encodedTx:G,feeInfoValue:i})})}catch(O){var h=O.key;return void("form__amount_invalid"===(void 0===h?"":h)&&Xe.default.show({title:U.formatMessage({id:"form__amount_invalid"},{0:""})}))}var j=p||ee.SendModalRoutes.SendConfirm;return Hn.IS_REPLACE_ROUTE_TO_FEE_EDIT?W.replace(j,m):("preset"===r&&X.default.dispatch(Object(Me.setFeePresetIndex)({networkId:Y,index:B})),D===Ut.ESendEditFeeTypes.advanced?(F("custom"),void R(Ut.ESendEditFeeTypes.standard)):W.navigate({merge:!0,name:j,params:m}))}));return function(t){return e.apply(this,arguments)}}()),we=Object(b.useCallback)((function(e){var t,n=e.price,r=e.limit,o=e.price1559;if(ie){var a=o;de("baseFee",new T.a(a.baseFee).toFixed()),de("maxFeePerGas",new T.a(a.maxFeePerGas).times(K?Hn.SEND_EDIT_FEE_PRICE_UP_RATIO:1).toFixed()),de("maxPriorityFeePerGas",new T.a(a.maxPriorityFeePerGas).times(K?Hn.SEND_EDIT_FEE_PRICE_UP_RATIO:1).toFixed())}else de("gasPrice",new T.a(null!=n?n:0).toFixed());ce&&!e.feeRate&&de("feeRate",new T.a(null!=n?n:0).shiftedBy(null!=(t=re.info.feeDecimals)?t:8).toFixed());de("gasLimit",new T.a(null!=r?r:0).toFixed())}),[ie,ce,de,K,null==re?void 0:re.info.feeDecimals]);Object(b.useEffect)((function(){if(re&&D===Ut.ESendEditFeeTypes.standard&&!(parseFloat(B)<0&&"custom"!==B)&&B)if("custom"===B&&I)we(I);else{var e=ae({info:re.info,index:B}),t=e.limit,n=e.price,r=e.price1559;I||we({price:n,price1559:r,limit:t})}}),[I,ve,re,D,ae,ie,B,we,de]),Object(b.useEffect)((function(){D===Ut.ESendEditFeeTypes.advanced&&fe()}),[D,fe]),Object(b.useEffect)((function(){var e,t=null==re?void 0:re.selected,n=null!=(e=null==t?void 0:t.type)?e:"preset";if(re)if(re&&"preset"===n){var r,o,a=(null==t?void 0:t.preset)||"1";(null==re||null==(r=re.info)||null==(o=r.prices)?void 0:o.length)<2&&(a="0"),C.current||(C.current=!0,F(a))}else if("custom"===n){var i,c=ht()(null!=(i=null==t?void 0:t.custom)?i:{});if(c&&(C.current||(C.current=!0,F("custom")),S(c),we(c),K)){var s,l,u,d=null==Z?void 0:Z.actionType,f=Er()(null!=(s=null==re||null==(l=re.info)?void 0:l.prices)?s:[]),p=c.limit,b=null==re||null==(u=re.info)?void 0:u.limit;if(c.limit=uo(p,b,1),"cancel"===d&&(c.limit=uo("21000",b,1)),null!=c&&c.eip1559){var m=c.price1559;if(m){var h,j=f;m.baseFee=null!=(h=null==j?void 0:j.baseFee)?h:m.baseFee,m.maxFeePerGas=uo(m.maxFeePerGas,null==j?void 0:j.maxFeePerGas,Hn.SEND_EDIT_FEE_PRICE_UP_RATIO),m.maxPriorityFeePerGas=uo(m.maxPriorityFeePerGas,null==j?void 0:j.maxPriorityFeePerGas,Hn.SEND_EDIT_FEE_PRICE_UP_RATIO)}}else{var O=f;c.price=uo(c.price,O,Hn.SEND_EDIT_FEE_PRICE_UP_RATIO)}R(Ut.ESendEditFeeTypes.advanced)}}}),[K,re,null==re?void 0:re.selected,null==re?void 0:re.selected.type,null==Z?void 0:Z.actionType,we,de]),Object(b.useEffect)((function(){w(!!ve),!P.current&&void 0!==ve&&re&&"custom"!==(null==re?void 0:re.selected.type)&&(ve&&S(lo(lo({},ve),{},{limit:null==re?void 0:re.info.limit})),P.current=!0)}),[ve,re]);var _e=Object(f.jsx)(i.default,{w:"full",py:16,children:Object(f.jsx)(j.default,{size:"lg"})});if(D&&!oe){var ke,Ie=Object(f.jsx)(to,{blockNativeInit:u,setBlockNativeInit:p,accountId:Q,networkId:Y,autoConfirmAfterFeeSaved:K,feeInfoPayload:re,useFormReturn:le,saveCustom:y,setSaveCustom:w,encodedTx:G}),Te=$?Object(f.jsx)(Re,{feeInfoPayload:re,value:B,onChange:function(e){F(e)}}):Object(f.jsx)(co,{accountId:Q,networkId:Y,feeInfoPayload:re,currentFeeType:he,currentCustom:I,value:B,onChange:function(e){"custom"===e?I&&"custom"!==B?F(e):R(Ut.ESendEditFeeTypes.advanced):F(e)}});_e=re?Object(f.jsx)(g.default,{children:D===Ut.ESendEditFeeTypes.standard?Te:Ie}):Object(f.jsx)(g.default,{children:Ie}),null!=re&&null!=(ke=re.info)&&ke.customDisabled&&(_e=Object(f.jsx)(g.default,{children:Te}))}var Pe=!H&&!oe&&D===Ut.ESendEditFeeTypes.advanced&&u,Ce=Object(b.useMemo)((function(){return!!oe||!(!ce&&D!==Ut.ESendEditFeeTypes.advanced)&&!be.isValid}),[ce,be.isValid,D,oe]);return Object(f.jsx)(d.BaseSendModal,{size:Pe?"2xl":"xs",networkId:Y,accountId:Q,height:"598px",trigger:r,primaryActionTranslationId:D===Ut.ESendEditFeeTypes.advanced?"action__save":"action__apply",primaryActionProps:{isDisabled:Ce},onPrimaryActionPress:function(){return xe()},hideSecondaryAction:!0,onModalClose:function(){null==Z||null==Z.onModalClose||Z.onModalClose()},onBackActionPress:function(){D===Ut.ESendEditFeeTypes.advanced?R(Ut.ESendEditFeeTypes.standard):null!=W&&null!=W.canGoBack&&W.canGoBack()&&W.goBack()},header:se,footer:Pe?Object(f.jsxs)(h.default,{justifyContent:"space-between",alignItems:"center",paddingY:4,paddingX:6,borderTopWidth:1,borderTopColor:"border-subdued",children:[ie&&Object(f.jsx)(Mr.default,{onChange:function(e){return w(e)},isChecked:y,children:Object(f.jsx)(O.default,{typography:"Body2Strong",children:U.formatMessage({id:"action__save_as_default_for_custom"})})}),Object(f.jsx)(ct.default,{isDisabled:!be.isValid,onPress:function(){return xe()},type:"primary",children:U.formatMessage({id:"action__save"})})]}):void 0,scrollViewProps:{children:Object(f.jsxs)(f.Fragment,{children:[_e,Object(f.jsx)(Cn,{networkId:Y,accountId:Q,encodedTx:G}),!1]})}})})),po=n(369);var bo=n(813),mo=n(247),ho=n(2630),jo=n.n(ho),Oo=function(e){var t;return((t={})[gt.ETHMessageTypes.ETH_SIGN]="eth_sign",t[gt.ETHMessageTypes.PERSONAL_SIGN]="personal_sign",t[gt.ETHMessageTypes.TYPED_DATA_V1]="signTypedData_v1",t[gt.ETHMessageTypes.TYPED_DATA_V3]="signTypedData_v3",t[gt.ETHMessageTypes.TYPED_DATA_V4]="signTypedData_v4",t[gt.AptosMessageTypes.SIGN_MESSAGE]="signMessage",t[gt.CommonMessageTypes.SIGN_MESSAGE]="signMessage",t)[e]},go=function(e){return Object(f.jsx)(G.default,{bg:"surface-default",borderRadius:"12px",mt:"4",children:Object(f.jsx)(h.default,{justifyContent:"space-between",space:"16px",padding:"16px",children:Object(f.jsx)(O.default,{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",flex:1,overflowWrap:"anywhere",children:e||"-"})})})},vo=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Un()(t))return Object(f.jsx)(Wt.default.Body2,{children:"null\n"});if("boolean"===typeof t)return Object(f.jsx)(Wt.default.Body2,{children:(t?"true":"false")+"\n"});if("string"===typeof t||"number"===typeof t)return Object(f.jsxs)(Wt.default.Body2,{wordBreak:"break-all",whiteSpace:"pre-wrap",children:[t,"\n"]});var r=Object.keys(t).map((function(r){return Object(f.jsxs)(Wt.default.Body2,{color:"text-subdued",children:[""+"".padStart(n)+r+": ",e(t[r],n+4)]},r)}));return Object(f.jsxs)(Wt.default.Body2,{children:[n?"\n":"",r]})},yo=function(e){var t,n,r=e.message,o=e.type;if(o===gt.ETHMessageTypes.PERSONAL_SIGN){var a=r;try{a=mo.toBuffer(r).toString("utf-8")}catch(s){}return go(a)}if(o===gt.CommonMessageTypes.SIGN_MESSAGE){var i=r;try{i=mo.toBuffer(r).toString("utf-8")}catch(s){}return go(i)}var c=null!=(t=JSON.parse(r))?t:{};(c=null!=(n=c.message)?n:c,o===gt.ETHMessageTypes.TYPED_DATA_V1&&Array.isArray(c))&&(c=c.reduce((function(e,t){return e[t.name]=t.value,e}),{}));return Object(f.jsx)(G.default,{bg:"surface-default",borderRadius:"12px",mt:"2",children:Object(f.jsx)(h.default,{justifyContent:"space-between",space:"16px",padding:"16px",children:Object(f.jsx)(O.default,{flex:1,overflowWrap:"anywhere",children:vo(c)})})})},xo=function(e){var t=e.message,n=e.type;if(n===gt.ETHMessageTypes.PERSONAL_SIGN)return go(t);if(n===gt.AptosMessageTypes.SIGN_MESSAGE){var r="";try{var o;r=null==(o=JSON.parse(t))?void 0:o.fullMessage}catch(i){}return go(r)}if(n===gt.CommonMessageTypes.SIGN_MESSAGE)return go(t);var a="";try{a=JSON.stringify(JSON.parse(t),null,4)}catch(c){}return go(a)},wo=function(e){var t,n=e.title,r=e.origin,o=(e.networkId,e.accountId,Object(E.useActiveSideAccount)(e)),a=o.account,c=o.network,s=Object(l.default)(),u=r?r+"/favicon.ico":"",d=null!=(t=null==r?void 0:r.split("://")[1])?t:"DApp";return Object(f.jsxs)(g.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"2",children:[Object(f.jsx)(St.default,{source:{uri:u},alt:"logoURI",size:"40px",borderRadius:"full",fallbackElement:Object(f.jsx)(i.default,{w:"40px",h:"40px",rounded:"full",bgColor:"surface-neutral-default",children:Object(f.jsx)(ke.default,{size:24,name:"QuestionMarkOutline"})})}),Object(f.jsx)(Wt.default.DisplayXLarge,{mt:"4",children:n}),Object(f.jsx)(Wt.default.Body1,{mt:1,color:"text-subdued",children:d}),Object(f.jsxs)(h.default,{alignItems:"center",borderBottomWidth:Jn.default.hairlineWidth,borderColor:"border-subdued",mt:"32px",alignSelf:"stretch",px:"16px",pb:"12px",children:[Object(f.jsx)(Wt.default.Body1Strong,{color:"text-subdued",flex:1,children:s.formatMessage({id:"form__account"})}),Object(f.jsxs)(h.default,{alignItems:"center",children:[Object(f.jsx)(St.default,{src:null==c?void 0:c.logoURI,size:"24px",borderRadius:"full"}),Object(f.jsx)(Wt.default.Body1,{ml:"12px",children:null==a?void 0:a.name})]})]})]})},_o=function(e){var t=e.unsignedMessage,n=e.sourceInfo,r=e.networkId,o=e.accountId,a=Object(l.default)(),i=t.type,c=t.message,s=Object(b.useState)("message"),u=Se()(s,2),d=u[0],p=u[1],m=Object(b.useMemo)((function(){return o&&o.startsWith("watching-")}),[o]),j=Object(b.useMemo)((function(){return Object(f.jsx)(wo,{networkId:r,accountId:o,title:a.formatMessage({id:"title__signature_request"}),origin:null==n?void 0:n.origin})}),[o,a,r,null==n?void 0:n.origin]),O=Object(b.useMemo)((function(){return Object(f.jsx)(G.default,{bg:"surface-critical-subdued",borderColor:"border-critical-subdued",borderRadius:"12px",borderWidth:1,children:Object(f.jsxs)(h.default,{justifyContent:"space-between",space:"16px",padding:"16px",children:[Object(f.jsx)(St.default,{size:"20px",source:jo.a}),Object(f.jsx)(Wt.default.Body2,{maxW:"95%",children:a.formatMessage({id:"msg__signing_this_message_can_be_dangerous_Only_sign_this_message_if_you_fully_trust_this_site_and_understand_the_potential_risks"})})]})})}),[a]);return i===gt.ETHMessageTypes.ETH_SIGN?Object(f.jsxs)(G.default,{children:[j,O,Object(f.jsx)(Wt.default.Subheading,{mt:"24px",color:"text-subdued",children:a.formatMessage({id:"form__message_tab"})}),go(c)]}):Object(f.jsxs)(G.default,{children:[j,i!==gt.CommonMessageTypes.SIGN_MESSAGE||t.secure?null:Object(f.jsx)(f.Fragment,{children:O}),function(){var e="message"===d;return Object(f.jsxs)(h.default,{space:2,mt:2,children:[Object(f.jsx)(ct.default,{type:"plain",size:"base",_text:{color:e?"text-default":"text-subdued"},onPress:function(){return p("message")},children:a.formatMessage({id:"form__message_tab"})}),Object(f.jsx)(ct.default,{type:"plain",size:"base",_text:{color:e?"text-subdued":"text-default"},onPress:function(){return p("data")},children:a.formatMessage({id:"form__data_tab"})})]})}(),"message"===d?Object(f.jsxs)(G.default,{children:[yo(t),m?Object(f.jsx)(Z.FormErrorMessage,{message:a.formatMessage({id:"form__error_trade_with_watched_acocunt"})}):null]}):Object(f.jsxs)(G.default,{flex:"1",children:[xo(t),Object(f.jsx)(Wt.default.Subheading,{mt:"24px",color:"text-subdued",children:a.formatMessage({id:"form__sign_method_type_uppercase"})}),Object(f.jsx)(Wt.default.Body2,{mt:"6px",children:Oo(i)})]})]})},ko=["children","confirmDisabled","handleConfirm","unsignedMessage"];function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e){var t=Object(E.useActiveSideAccount)(e),n=(t.walletId,t.accountId),r=t.networkId,o=e.children,a=e.confirmDisabled,i=e.handleConfirm,c=e.unsignedMessage,s=I()(e,ko),l=Object(b.useMemo)((function(){return n&&n.startsWith("watching-")}),[n]),u=c.type===gt.ETHMessageTypes.ETH_SIGN;return Object(f.jsx)(d.BaseSendModal,So(So({height:"598px",primaryActionTranslationId:"action__confirm",primaryActionProps:{type:u?"destructive":"primary",isDisabled:l||a},secondaryActionTranslationId:"action__reject",onSecondaryActionPress:function(e){return(0,e.close)()},onPrimaryActionPress:function(e){var t=e.close,n=e.onClose;i({close:t,onClose:n,unsignedMessage:c})}},s),{},{accountId:n,networkId:r,scrollViewProps:{children:o}}))}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mo=null,Ao=n(598);function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ro=n(1242),No=n(475),Lo=n(234);function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fo=Object(Lo.default)(),Uo=[{name:ee.SendModalRoutes.PreSendToken,component:p.wrap(kn,"action__send")},{name:ee.SendModalRoutes.PreSendAddress,component:p.wrap((function(){var e,t=Object(l.default)(),n=Object(b.useRef)(),r=Object(s.useRoute)(),o=Object(b.useState)([]),a=Se()(o,2),i=a[0],c=a[1],u=Object(b.useState)(!1),p=Se()(u,2),h=p[0],j=p[1],O=Object(b.useState)(!1),y=Se()(O,2),w=y[0],_=y[1],k=Object(b.useState)(!1),S=Se()(k,2),P=S[0],M=S[1],A=Object(b.useState)(!1),R=Se()(A,2),N=R[0],L=R[1],B=Object(b.useState)(),F=Se()(B,2),U=F[0],H=F[1],W=Object(b.useState)(!1),V=Se()(W,2),z=V[0],G=V[1],K=Object(b.useState)(!1),q=Se()(K,2),Z=q[0],Y=q[1],$=Object(b.useState)(),J=Se()($,2),te=J[0],ne=J[1],re=X.default.serviceNFT,oe=X.default.serviceBatchTransfer,ae=X.default.engine,ie=Object(b.useMemo)((function(){return fn({},r.params)}),[r.params]),ce=ie.validateAddress,se=ie.transferInfos,le=ie.accountId,ue=ie.networkId,de=ie.closeModal,fe=I()(ie,un),pe=se&&se.length>0?se[0]:fe,be=pe.isNFT,he=Object(E.useActiveSideAccount)(ie),je=he.account,Oe=he.network,ge=(null==Oe?void 0:Oe.impl)===C.IMPL_LIGHTNING||(null==Oe?void 0:Oe.impl)===C.IMPL_LIGHTNING_TESTNET,ve=Object(Yt.default)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:{to:pe.to||""}}),ye=Object(tn.useFormOnChangeDebounced)({useFormReturn:ve}),xe=ye.isLoading,we=ye.formValues,_e=ye.isValid,ke=Object(en.useNameServiceStatus)(),Ie=ke.onChange,Te=ke.disableSubmitBtn,Ce=ke.isValid,Me=ke.address,Ae=ve.control,Ee=ve.formState,De=ve.trigger,Re=ve.handleSubmit,Ne=Object(s.useNavigation)(),Le=Object(D.useSingleToken)(ue,null!=(e=pe.token)?e:"").token,Be=Object(E.useNativeToken)(ue),Fe=Object(b.useState)(),Ue=Se()(Fe,2),He=Ue[0],We=Ue[1];Object(b.useEffect)((function(){x()((function*(){if(be){var e=pe.nftTokenId;if(e){var t=pe.token,n=yield re.getAsset({accountId:le,networkId:ue,contractAddress:t,tokenId:e,local:!0});We(n)}}}))()}),[pe.nftTokenId,pe.token]);var Ve=Object(b.useState)({errorMessage:""}),ze=Se()(Ve,2),Ge=ze[0],Ke=ze[1],qe=xe||!(null!=we&&we.to)||!_e||Ee.isValidating||Te||w||Ge.errorMessage.length>0,Ze=Object(b.useCallback)(x()((function*(){if(!qe){var e=Me||we.to;if(_e&&ue&&e){var t=yield X.default.serviceToken.getAddressRiskyItems({address:e,networkId:ue,apiName:Qt.GoPlusSupportApis.address_security});c(t)}}})),[ue,_e,we,Me,qe]);Object(b.useEffect)((function(){Ze()}),[Ze]);var Ye=Object(b.useCallback)((function(e){return Object(m.makeTimeoutPromise)({asyncFunc:function(){var t=x()((function*(){return yield X.default.validator.isContractAddress(ue,e)}));return function(){return t.apply(this,arguments)}}(),timeout:600,timeoutResult:!1})}),[ue]),$e=Object(b.useCallback)((function(e){Ie(e),De("to")}),[De,Ie]);Object(b.useEffect)((function(){x()((function*(){var e,t=yield X.default.engine.getVaultSettings(ue);M(null!=(e=null==t?void 0:t.withDestinationTag)&&e)}))()}),[ue]);var Je=Object(b.useCallback)(function(){var e=x()((function*(e){if(je&&Oe)if(He){var n,r=[],o=null;if(pe&&(pe.from=je.address,pe.to=e),se&&se.length>1){j(!0);var a=yield oe.buildEncodedTxsFromBatchApprove({networkId:ue,accountId:le,transferInfos:se}),i=a[a.length-1];i&&(n=void 0!==(n=i.nonce)?new T.a(n).toNumber():n),o=yield oe.buildEncodedTxFromBatchTransfer({networkId:ue,accountId:le,transferInfos:se,prevNonce:n});for(var c=0;c<se.length;c+=1){var s,l,u=yield re.getAsset({accountId:null!=(s=null==je?void 0:je.address)?s:"",networkId:ue,contractAddress:se[c].token,tokenId:null!=(l=se[c].nftTokenId)?l:"",local:!0});r.push({asset:u||{},amount:pe.amount,from:je.address,to:e})}j(!1),Ne.navigate(Q.RootRoutes.Modal,{screen:Q.ModalRoutes.Send,params:{screen:ee.SendModalRoutes.BatchSendConfirm,params:{networkId:ue,accountId:le,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,encodedTxs:[].concat(Qe()(a),[o]),backRouteName:ee.SendModalRoutes.PreSendAddress,payloadInfo:{type:"Transfer",nftInfos:r},transferCount:se.length,transferType:me.BulkSenderTypeEnum.NFT,onModalClose:de}}})}else try{j(!0),o=yield ae.buildEncodedTxFromTransfer({networkId:ue,accountId:le,transferInfo:pe}),j(!1),Ne.navigate(Q.RootRoutes.Modal,{screen:Q.ModalRoutes.Send,params:{screen:ee.SendModalRoutes.SendConfirm,params:fn(fn({},pe),{},{networkId:ue,accountId:le,encodedTx:o,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:ee.SendModalRoutes.PreSendAddress,payloadInfo:{type:"Transfer",nftInfo:{asset:He,amount:pe.amount,from:je.address,to:e}},onModalClose:de})}})}catch(h){var d=h,f=d.key,p=void 0===f?"":f,b=d.className;if(p){var m={};"form__amount_invalid"===p&&b===Pe.OneKeyErrorClassNames.OneKeyErrorInsufficientNativeBalance&&(m={0:(null==Be?void 0:Be.symbol)||""}),Xe.default.show({title:t.formatMessage({id:p},m)},{type:"error"})}else Xe.default.show({title:(null==h?void 0:h.message)||"ERROR"},{type:"error"});j(!1)}}else Xe.default.show({title:t.formatMessage({id:"msg__nft_does_not_exist"})},{type:"error"})}));return function(t){return e.apply(this,arguments)}}(),[Ne,He,pe,se,de]),et=Object(b.useCallback)(function(){var e=x()((function*(e){try{var n;j(!0);var r=yield ae.buildEncodedTxFromTransfer({networkId:ue,accountId:le,transferInfo:fn(fn({},pe),{},{to:e})});Ne.navigate(ee.SendModalRoutes.SendConfirm,{accountId:le,networkId:ue,encodedTx:r,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:ee.SendModalRoutes.PreSendAddress,payload:{payloadType:"Transfer",account:je,network:Oe,token:fn(fn({},Le),{},{sendAddress:pe.tokenSendAddress,idOnNetwork:null!=(n=null==Le?void 0:Le.tokenIdOnNetwork)?n:""}),to:e,value:r.amount,isMax:!1}})}catch(c){var o,a=c.key,i=void 0===a?"":a;if("form__amount_invalid"===i)Xe.default.show({title:t.formatMessage({id:"form__amount_invalid"},{0:null!=(o=null==Le?void 0:Le.symbol)?o:""})},{type:"error"});else i?Xe.default.show({title:t.formatMessage({id:i})},{type:"error"}):Xe.default.show({title:"string"===typeof c?c:c.message},{type:"error"})}finally{j(!1)}}));return function(t){return e.apply(this,arguments)}}(),[le,ae,t,Ne,ue,Le,pe,je,Oe]),tt=Re(Object(b.useCallback)((function(e){var t=Me||e.to;!xe&&t&&(be?Je(t):ge?et(t):Ne.navigate(Q.RootRoutes.Modal,{screen:Q.ModalRoutes.Send,params:{screen:ee.SendModalRoutes.PreSendAmount,params:fn(fn({},pe),{},{networkId:ue,accountId:le,to:t,destinationTag:e.destinationTag})}}))}),[Me,xe,Je,Ne,pe])),nt=Object(b.useMemo)((function(){return P?Object(f.jsx)(Xt.default.Item,{control:Ae,name:"destinationTag",rules:{maxLength:{value:10,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){if(e)return!/^[0-9]+$/.test(e)?t.formatMessage({id:"form__enter_a_number_greater_than_or_equal_to_0"}):void 0}},children:Object(f.jsx)(Xt.default.Input,{type:"number",placeholder:t.formatMessage({id:"form__destination_tag_placeholder"})})}):null}),[Ae,P,t]),rt=Object(b.useCallback)((function(e){return Object(f.jsx)(en.default,{name:e,onChange:$e,disableBTC:!1,networkId:ue})}),[ue,$e]),ot=Object(b.useCallback)((function(e){n.current&&clearTimeout(n.current),n.current=setTimeout(x()((function*(){var n=Me||e||"";if(Y(!1),Ke({errorMessage:""}),L(!1),H(""),G(!1),c([]),n){try{_(!0),yield X.default.validator.validateAddress(ue,n),yield X.default.validator.validatePreSendAddress({address:n,networkId:ue,accountId:le}),yield null==ce?void 0:ce(ue,n)}catch(i){if(_(!1),Ce&&!Me)return;var r=i.key,o=i.info;return Y(!1),L(!1),H(""),G(!1),r?(Ke({errorMessage:t.formatMessage({id:r},null!=o?o:{})}),!1):(Ke({errorMessage:t.formatMessage({id:"form__address_invalid"})}),!1)}if(yield Ye(n))Ke({errorMessage:""}),Y(!0),G(!0);else{var a=yield X.default.serviceAddressbook.getItem({address:n});a?(Y(!0),L(!0),H(a.name),Ke({errorMessage:""})):(Y(!0),ge&&ne("msg__valid_payment_request"),Ke({errorMessage:""}))}return _(!1),!0}})),0)}),[Me,Ye,ue,le,ce,Ce,t,ge]);return Object(b.useEffect)((function(){(function(){var e=x()((function*(){(yield X.default.serviceHistory.getLocalHistory({networkId:ue,accountId:le,isPending:!0,limit:1})).length>0&&X.default.serviceHistory.refreshHistory({networkId:ue,accountId:le})}));return function(){return e.apply(this,arguments)}})()()}),[le,ue]),Object(f.jsx)(d.BaseSendModal,{accountId:le,networkId:ue,height:"auto",hideSecondaryAction:!0,header:t.formatMessage({id:"modal__send_to"}),primaryActionTranslationId:"action__next",primaryActionProps:{isDisabled:qe,isLoading:h},onPrimaryActionPress:function(){return tt()},scrollViewProps:{children:Object(f.jsxs)(g.default,{children:[Object(f.jsxs)(Xt.default,{children:[be?Object(f.jsx)(ln,{asset:He,total:(null==se?void 0:se.length)||1}):Object(f.jsxs)(g.default,{flexDirection:"row",alignItems:"center",children:[Object(f.jsx)(Zt.default,{size:8,token:Le}),Object(f.jsx)(Wt.default.Body1Strong,{ml:3,children:null==Le?void 0:Le.symbol})]}),Object(f.jsx)(Xt.default.Item,{control:Ae,errorMessage:Ge.errorMessage,name:"to",formControlProps:{width:"full"},helpText:rt,rules:{validate:ot},defaultValue:"",children:Object(f.jsx)($t.default,{maxLength:ge?999:103,networkId:ue,h:{base:120,md:120},plugins:ge?["paste","scan"]:["contact","paste","scan"],placeholder:ge?t.formatMessage({id:"content__enter_invoice"}):void 0})}),nt]}),!Ge.errorMessage&&Object(f.jsx)(Jt.AddressLabel,{mt:1,shouldCheckSecurity:!0,securityInfo:i,networkId:ue,address:Me||(null==we?void 0:we.to)||"",isAddressBook:N,addressBookLabel:U,isContractAddress:z,isValidAddress:Z,validAddressMessage:te,showValidAddressLabel:!0,isLoading:xe||w||Ee.isValidating,labelStyle:{mt:1}}),z&&Object(f.jsx)(v.default,{alertType:"info",title:t.formatMessage({id:"msg__the_recipient_address_is_a_contract_address"}),dismiss:!1,containerProps:{mt:4}}),i.length>0&&Object(f.jsx)(v.default,{alertType:"warn",title:t.formatMessage({id:"msg__the_recipient_address_is_a_scam_address"}),dismiss:!1,containerProps:{mt:4}})]})}})}))},{name:ee.SendModalRoutes.PreSendAmount,component:p.wrap(pn.PreSendAmount)},{name:ee.SendModalRoutes.SignMessageConfirm,component:p.wrap((function(){var e;Object(be.useOnboardingRequired)();var t=Object(l.default)(),n=Object(s.useNavigation)(),r=Object(s.useRoute)(),o=r.params,a=o.sourceInfo,i=o.unsignedMessage,c=o.hideToast,d=Object(E.useActiveSideAccount)(r.params),p=d.walletId,m=d.accountId,h=d.networkId,j=Object(u.default)({id:null!=(e=null==a?void 0:a.id)?e:"",closeOnError:!0}),O=Object(b.useCallback)((function(){null==j||j.reject()}),[j]);Object(b.useEffect)((function(){clearTimeout(Mo),Je.default.sendTx.info("SignMessageConfirm  >>>>  ",i,r.params)}),[i,r.params]);var g=Object(b.useCallback)(function(){var e=x()((function*(e){var o=e.close,a=e.unsignedMessage;try{a.type!==gt.ETHMessageTypes.ETH_SIGN&&a.type!==gt.ETHMessageTypes.PERSONAL_SIGN||Object(bo.validateSignMessageData)(a),a.type===gt.ETHMessageTypes.TYPED_DATA_V1&&Object(bo.validateTypedSignMessageDataV1)(a),a.type!==gt.ETHMessageTypes.TYPED_DATA_V3&&a.type!==gt.ETHMessageTypes.TYPED_DATA_V4||Object(bo.validateTypedSignMessageDataV3V4)(a,Object(Pt.parseNetworkId)(h).chainId)}catch(s){null==j||j.reject({error:s})}var i=Co(Co({},r.params),{},{unsignedMessage:a,accountId:m,networkId:h,walletId:p,onSuccess:function(){var e=x()((function*(e){if(yield j.resolve({result:e}),!c){var n=t.formatMessage({id:"transaction__success"});Xe.default.show({title:n})}null==r.params.onSuccess||r.params.onSuccess(e),r.params.closeImmediately?o():Mo=setTimeout((function(){o()}),600)}));return function(t){return e.apply(this,arguments)}}(),onModalClose:O});return delete i._disabledAnimationOfNavigate,n.navigate(ee.SendModalRoutes.SendAuthentication,i)}));return function(t){return e.apply(this,arguments)}}(),[r.params,m,p,h,O,n,j,t,c]),v={header:t.formatMessage({id:"action__sign"}),networkId:h,accountId:m,handleConfirm:g,onSecondaryActionPress:function(e){var t=e.close;j.reject(),t()},onModalClose:O,sourceInfo:a,unsignedMessage:Object(bo.getValidUnsignedMessage)(i)};return Object(f.jsx)(To,Co(Co({},v),{},{children:Object(f.jsx)(_o,Co({},v))}))}))},{name:ee.SendModalRoutes.SendConfirmFromDapp,component:function(){var e=Object(s.useNavigation)(),t=Object(b.useRef)(),n=Object(Cr.useReduxReady)().isReady,r=Object(Pr.default)(),o=r.sourceInfo,a=r.unsignedMessage,i=r.encodedTx,c=r.signOnly,l=void 0!==c&&c,u=r._$t,d=void 0===u?void 0:u,f=r.networkId;return Object(b.useEffect)((function(){if(n){var r,c=Tr.default.addEventListener("change",(function(n){"active"===n&&setTimeout((function(){t.current&&(e.dispatch(t.current),t.current=void 0)}))})),u=Object(Y.getActiveWalletAccount)(),p=u.networkId,b=u.accountId;if(i){var m={networkId:null!=f?f:p,accountId:b,sourceInfo:o,encodedTx:i,feeInfoEditable:!0,feeInfoUseFeeInTx:!1,signOnly:l,_disabledAnimationOfNavigate:!0,_$t:d};r=s.StackActions.replace(ee.SendModalRoutes.SendConfirm,m)}if(a){var h={networkId:null!=f?f:p,accountId:b,sourceInfo:o,unsignedMessage:a,_disabledAnimationOfNavigate:!0,_$t:d};r=s.StackActions.replace(ee.SendModalRoutes.SignMessageConfirm,h)}return r&&("active"===Tr.default.currentState?setTimeout((function(){return e.dispatch(r)})):t.current=r),function(){c.remove()}}}),[n,d,i,e,o,a,l,f]),null}},{name:ee.SendModalRoutes.SendConfirm,component:p.wrap(Sr)},{name:ee.SendModalRoutes.BatchSendConfirm,component:p.wrap(it)},{name:ee.SendModalRoutes.BatchSendProgress,component:p.wrap((function(){var e=Object(s.useRoute)().params,t=e.walletId,n=e.onModalClose,r=e.networkId,o=e.accountId,a=Object(b.useState)(),i=Se()(a,2),c=i[0],l=i[1],u=Object(b.useState)(Ut.BatchSendState.inProgress),p=Se()(u,2),m=p[0],h=p[1],j=m===Ut.BatchSendState.onPause;return Object(f.jsx)(d.BaseSendModal,{closeable:!1,hideBackButton:!0,height:"489px",closeOnOverlayClick:!1,accountId:o,networkId:r,header:null==c?void 0:c.title,headerDescription:null==c?void 0:c.subTitle,onModalClose:function(){null==n||n(),Object(be.closeExtensionWindowIfOnboardingFinished)()},footer:j?void 0:null,hidePrimaryAction:!j,hideSecondaryAction:!j,primaryActionTranslationId:"action__continue",secondaryActionTranslationId:"action__abort",onPrimaryActionPress:function(){return h(Ut.BatchSendState.inProgress)},children:Object(f.jsx)(g.default,{flex:1,children:Object(f.jsx)(ut.default,{walletId:t,field:ut.ValidationFields.Payment,children:function(e){return Object(f.jsx)(Ht,{setTitleInfo:l,password:e,currentState:m,setCurrentState:h})}})})})}))},{name:ee.SendModalRoutes.SendEditFee,component:p.wrap(fo)},{name:ee.SendModalRoutes.TokenApproveAmountEdit,component:p.wrap((function(e){var t,n,r,o,a,i=Object.assign({},(rr()(e),e)).trigger,c=X.default.engine,u=Object(l.default)(),p=Object(s.useNavigation)(),m=Object(s.useRoute)(),h=m.params,j=h.encodedTx,O=h.tokenApproveAmount,g=h.isMaxAmount,v=Object(E.useActiveSideAccount)(m.params),y=v.networkId,w=v.accountId,_=v.network,k=Object(b.useState)(g),I=Se()(k,2),S=I[0],T=I[1],P=m.params,C=P.decodedTx,M=P.sendConfirmParams,A=null==C||null==(t=C.actions)||null==(n=t[0])?void 0:n.tokenApprove,D=null==A?void 0:A.tokenInfo,R=null==D?void 0:D.symbol,N=Object(Yt.default)({mode:"onChange",reValidateMode:"onChange",defaultValues:{amount:g?"":O}}),L=N.control,B=N.handleSubmit,F=N.trigger,U=Object(tn.useFormOnChangeDebounced)({useFormReturn:N}).isValid,H=B(function(){var e=x()((function*(e){var t;if(j){var n=S?Ao.InfiniteAmountText:e.amount,r=yield c.updateEncodedTxTokenApprove({networkId:y,accountId:w,encodedTx:j,amount:n}),o=p.getState(),a=(null==(t=o.routes[o.index-1])?void 0:t.name)||ee.SendModalRoutes.SendConfirm,i=Do(Do({},M),{},{networkId:y,accountId:w,tokenApproveAmount:n,encodedTx:r});return Hn.IS_REPLACE_ROUTE_TO_FEE_EDIT?p.replace(a,i):p.navigate({merge:!0,name:a,params:i})}}));return function(t){return e.apply(this,arguments)}}()),W={required:u.formatMessage({id:"form__max_spend_limit_validateRules"})};return S&&(W.required=""),Object(f.jsx)(d.BaseSendModal,{accountId:w,networkId:y,trigger:i,primaryActionTranslationId:"action__save",onPrimaryActionPress:function(){return H()},primaryActionProps:{isDisabled:!U},hideSecondaryAction:!0,onModalClose:function(){null==M||null==M.onModalClose||M.onModalClose()},secondaryActionTranslationId:"action__reject",header:u.formatMessage({id:"content__spend_limit_amount"}),scrollViewProps:{children:Object(f.jsx)(Xt.default,{children:Object(f.jsx)(Xt.default.Item,{label:u.formatMessage({id:"form__max_spend_limit"}),rules:W,control:L,name:"amount",defaultValue:u.formatMessage({id:"form__unlimited"}),helpText:u.formatMessage({id:"content__if_you_choose_max"},{0:null!=(r=null!=(o=null==(a=m.params.sourceInfo)?void 0:a.origin)?o:null==_?void 0:_.shortName)?r:"--"}),children:Object(f.jsx)(Xt.default.NumberInput,{w:"full",size:"xl",decimal:null==D?void 0:D.decimals,rightText:R,enableMaxButton:!0,isMax:S,maxModeCanEdit:!0,maxButtonTranslationId:"form__unlimited",onMaxChange:function(e){T(e),e&&setTimeout((function(){F("amount")}),300)},maxText:u.formatMessage({id:"form__unlimited"})})})})}})}))},{name:ee.SendModalRoutes.SendSpecialWarning,component:p.wrap((function(){var e=Object(l.default)(),t=Object(s.useRoute)().params,n=t.onModalClose,r=t.networkId,o=t.accountId,a=pr();return Object(f.jsx)(d.BaseSendModal,{accountId:o,networkId:r,header:e.formatMessage({id:"title__warning"}),primaryActionTranslationId:"action__confirm",onModalClose:function(){null==n||n(),Object(be.closeExtensionWindowIfOnboardingFinished)()},hideSecondaryAction:!0,onPrimaryActionPress:function(){a.navigation.navigate(ee.SendModalRoutes.SendAuthentication,t)},children:Object(f.jsxs)(i.default,{flex:1,children:[Object(f.jsx)(Cn,{accountId:o,networkId:r,encodedTx:t.encodedTx}),Object(f.jsx)(g.default,{mb:"16px",p:"12px",rounded:"full",bgColor:"surface-warning-subdued",children:Object(f.jsx)(ke.default,{name:"ExclamationTriangleOutline",color:"icon-warning"})}),Object(f.jsx)(Wt.default.Body1,{textAlign:"center",children:e.formatMessage({id:t.hintMsgKey},t.hintMsgParams)})]})})}))},{name:ee.SendModalRoutes.SendAuthentication,component:p.wrap((function(){var e=Object(s.useRoute)().params,t=e.walletId,n=e.onModalClose,r=e.networkId,o=e.accountId,a=Object(b.useState)(),i=Se()(a,2),c=i[0],l=i[1];return Object(f.jsx)(d.BaseSendModal,{accountId:o,networkId:r,header:null==c?void 0:c.title,headerDescription:null==c?void 0:c.subTitle,footer:null,onModalClose:function(){null==n||n(),Object(be.closeExtensionWindowIfOnboardingFinished)()},children:Object(f.jsxs)(g.default,{flex:1,children:[Object(f.jsx)(Cn,{accountId:o,networkId:r,encodedTx:e.encodedTx}),Object(f.jsx)(ut.default,{walletId:t,field:ut.ValidationFields.Payment,children:function(e){return Object(f.jsx)(En,{setTitleInfo:l,password:e})}})]})})}))},{name:ee.SendModalRoutes.SendFeedbackReceipt,component:p.wrap((function(){var e=Object(l.default)(),t=Object(s.useRoute)(),r=Object(Kt.default)(),o=t.params,a=o.networkId,i=o.accountId,c=o.type,u=Object(E.useActiveSideAccount)(t.params),p=u.network,m=u.accountAddress,h=Object(po.default)(p),j=Object(b.useState)(3),v=Se()(j,2),y=v[0],x=v[1],w=A.default.isExtensionUiStandaloneWindow,_=w,k=X.default.serviceDapp,I=Object(b.useCallback)((function(){k.setSendConfirmModalVisible({visible:!1})}),[k]);Object(b.useEffect)((function(){var e=w;return e&&window.addEventListener("beforeunload",I),function(){I(),e&&window.removeEventListener("beforeunload",I)}}),[I,w]);var S=Object(b.useCallback)((function(){var e,n;Gt()(null==t||null==(e=t.params)?void 0:e.closeModal)?null==t||null==(n=t.params)||null==n.closeModal||n.closeModal():r();w&&I()}),[null==t?void 0:t.params,w,r,I]);Object(E.useInterval)((function(){_&&x((function(e){var t=e-1;return t<=0&&S(),t}))}),1e3);var T=Object(b.useMemo)((function(){return"Send"===c?e.formatMessage({id:"modal__transaction_submitted"}):"SendUnconfirmed"===c?e.formatMessage({id:"modal__transaction_submitted_unconfirmed"}):e.formatMessage({id:"msg__signature_done"})}),[e,c]);return Object(f.jsx)(d.BaseSendModal,{networkId:a,accountId:i,hideBackButton:!0,height:"auto",header:void 0,headerDescription:void 0,primaryActionProps:{children:_?e.formatMessage({id:"action__done"})+" ("+y+")":""+e.formatMessage({id:"action__done"})},onPrimaryActionPress:function(){return S()},hideSecondaryAction:!(h.hasAvailable||"function"===typeof t.params.onDetail)||"Sign"===c,secondaryActionTranslationId:"action__view_details",onSecondaryActionPress:function(){S(),setTimeout((function(){var e;if(t.params.onDetail)null==t.params.onDetail||t.params.onDetail(null==t||null==(e=t.params)?void 0:e.txid);else if(!1===t.params.isSingleTransformMode)h.openAddressDetails(m);else{var n;h.openTransactionDetails(null==t||null==(n=t.params)?void 0:n.txid)}}),100)},closeAction:function(){return S()},children:Object(f.jsxs)(G.default,{alignItems:"center",justifyContent:"center",flex:1,children:[Object(f.jsx)(g.default,{w:"200px",h:"200px",children:Object(f.jsx)(Vt.default,{width:200,source:n(1607),autoPlay:!0,loop:!1})}),Object(f.jsx)(O.default,{typography:"DisplayMedium",children:T}),Object(f.jsx)(g.default,{h:8})]})})}))},{name:ee.SendModalRoutes.HardwareSwapContinue,component:p.wrap((function(){var e=Object(l.default)(),t=Object(s.useRoute)(),r=Object(Kt.default)(),o=t.params,a=o.networkId,c=o.accountId,u=Object(b.useCallback)((function(){var e,n;Gt()(null==t||null==(e=t.params)?void 0:e.closeModal)?null==t||null==(n=t.params)||null==n.closeModal||n.closeModal():r()}),[r,null==t?void 0:t.params]);return Object(b.useEffect)((function(){return qt.appUIEventBus.on(qt.AppUIEventBusNames.SwapError,u),qt.appUIEventBus.on(qt.AppUIEventBusNames.SwapCompleted,u),function(){qt.appUIEventBus.off(qt.AppUIEventBusNames.SwapError,u),qt.appUIEventBus.off(qt.AppUIEventBusNames.SwapCompleted,u)}}),[]),Object(f.jsx)(d.BaseSendModal,{networkId:a,accountId:c,hideBackButton:!0,height:"auto",header:void 0,headerDescription:void 0,primaryActionProps:{children:""+e.formatMessage({id:"action__close"}),type:"basic"},onPrimaryActionPress:function(){return u()},hideSecondaryAction:!0,closeAction:function(){return u()},children:Object(f.jsxs)(G.default,{alignItems:"center",justifyContent:"center",flex:1,children:[Object(f.jsx)(g.default,{w:"200px",h:"200px",children:Object(f.jsx)(Vt.default,{width:200,source:n(1607),autoPlay:!0,loop:!1})}),Object(f.jsx)(O.default,{typography:"DisplayMedium",children:e.formatMessage({id:"title__swap_processing_1_2"})}),Object(f.jsx)(g.default,{h:8}),Object(f.jsxs)(g.default,{position:"relative",children:[Object(f.jsxs)(g.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(f.jsx)(i.default,{w:"8",h:"8",backgroundColor:"interactive-default",borderRadius:"full",mr:"6",children:Object(f.jsx)(ke.default,{name:"CheckMini",size:20,color:"text-on-primary"})}),Object(f.jsxs)(g.default,{children:[Object(f.jsx)(Wt.default.Body1Strong,{children:e.formatMessage({id:"title__approved"})}),Object(f.jsx)(Wt.default.Body1Strong,{children:e.formatMessage({id:"transaction__swap_status_completed"})})]})]}),Object(f.jsx)(g.default,{h:"6"}),Object(f.jsxs)(g.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(f.jsx)(i.default,{w:"8",h:"8",backgroundColor:"surface-subdued",borderRadius:"full",borderWidth:"2",borderColor:"interactive-default",mr:"6",children:Object(f.jsx)(g.default,{w:"2",h:"2",borderRadius:"full",backgroundColor:"interactive-default"})}),Object(f.jsxs)(g.default,{children:[Object(f.jsx)(Wt.default.Body1Strong,{children:e.formatMessage({id:"form__swap_tokens"})}),Object(f.jsxs)(g.default,{flexDirection:"row",children:[Object(f.jsx)(j.default,{size:"sm"}),Object(f.jsx)(Wt.default.Body1Strong,{ml:"2",children:e.formatMessage({id:"form__please_confirm_on_device"})})]})]})]}),Object(f.jsx)(g.default,{w:"8",h:"full",position:"absolute",top:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",zIndex:-1,children:Object(f.jsx)(g.default,{w:"1",height:"80%",bg:"interactive-default"})})]})]})})}))}];t.default=function(){var e=Object(a.default)();return Object(f.jsx)(Ro.TransactionSendContextProvider,{children:Object(f.jsx)(Fo.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(No.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:Uo.map((function(e){return Object(f.jsx)(Fo.Screen,{name:e.name,component:e.component},e.name)}))})})}},1665:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(50),i=n(1594),c=n(2602),s=n(109),l=n(57),u=n(225),d=n(63),f=n(82),p=n(27),b=n(47),m=n(100),h=n(64),j=n(20),O=n(40),g=n(48),v=n(2),y=n.n(v),x=n(126),w=n(4),_=n.n(w),k=n(1),I=n(44),S=n(88),T=n(17),P=n(25),C=/^https?:\/\/|^wss:\/\//,M=n(231),A=n(0);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,N=function(){var e=Object(S.default)(),t=Object(I.useNavigation)(),n=Object(I.useRoute)(),r=n.params,o=r.network,i=r.mode,c=Object(a.default)(),v=Object(P.useActiveWalletAccount)().network,w=Object(k.useState)(!1),E=_()(w,2),N=E[0],L=E[1],B=Object(k.useState)({connected:!1}),F=_()(B,2),U=F[0],H=F[1],W=T.default.serviceNetwork,V=Object(x.default)({defaultValues:{name:"",rpcURL:"",chainId:"",symbol:"",explorerURL:""},mode:"onChange"}),z=V.control,G=V.handleSubmit,K=V.watch,q=V.setValue,Z=V.setError,X=V.trigger,Y=V.formState.isValid,Q=Object(k.useMemo)((function(){return U.error?"":U.loading?e.formatMessage({id:"form__rpc_url_connecting"}):U.connected?e.formatMessage({id:"form__rpc_url_fetched"}):void 0}),[U,e]),$=Object(P.useDebounce)(K("rpcURL"),1e3),J=null==$?void 0:$.trim();Object(k.useEffect)((function(){if(o){var e=o.name,t=o.rpcURL,n=o.symbol,r=o.explorerURL;q("name",e||""),q("symbol",n),q("rpcURL",t),q("explorerURL",r)}}),[o,q]),Object(k.useEffect)((function(){(J||R.test(J))&&(H((function(e){return D(D({},e),{},{connected:!1,loading:!0})})),W.preAddNetwork(J).then((function(t){var n=t.chainId,r=t.existingNetwork;q("chainId",n),H(r&&"edit"!==i?{loading:!1,connected:!0,error:e.formatMessage({id:"form__rpc_url_invalid_exist"},{name:r.name})}:{connected:!0,loading:!1})})).catch((function(){H({loading:!1,connected:!1,error:e.formatMessage({id:"form__rpc_fetched_failed"})})})).finally((function(){X("rpcURL")})))}),[J,e,q,Z,W,X,i]);var ee=Object(k.useCallback)(function(){var r=y()((function*(r){var a,i,c={name:r.name,rpcURL:r.rpcURL,symbol:r.symbol,explorerURL:r.explorerURL,logoURI:null==(a=n.params)||null==(i=a.network)?void 0:i.logoURI};null!=o&&o.id?(yield W.updateNetwork(o.id,c),g.default.show({title:e.formatMessage({id:"msg__change_saved"})})):(yield W.addNetwork("evm",c),g.default.show({title:e.formatMessage({id:"msg__network_added"})})),t.navigate(M.ManageNetworkModalRoutes.Listing)}));return function(e){return r.apply(this,arguments)}}(),[e,W,t,n,null==o?void 0:o.id]),te=Object(k.useCallback)((function(){L(!0)}),[]),ne=Object(k.useCallback)((function(){t.navigate(M.ManageNetworkModalRoutes.QuickAdd)}),[t]),re=Object(k.useCallback)(y()((function*(){var n;yield W.deleteNetwork(null!=(n=null==o?void 0:o.id)?n:""),L(!1),g.default.show({title:e.formatMessage({id:"msg__network_removed"})}),null!=t&&null!=t.canGoBack&&t.canGoBack()&&t.goBack()})),[e,W,null==o?void 0:o.id,t]),oe=Object(k.useMemo)((function(){return"add"===i&&o||"edit"===i&&null!=o&&o.id?null:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(h.default,{flex:"1",alignItems:"center",w:"full",bg:"surface-default",borderWidth:"1",borderRadius:"12px",borderColor:"border-subdued",flexDirection:"row",px:"16px",py:"8px",onPress:ne,children:[Object(A.jsx)(O.default,{name:c?"LightningBoltOutline":"LightningBoltMini",size:c?24:20}),Object(A.jsx)(j.default,{typography:c?"Body1Strong":"Body2Strong",flex:"1",ml:"4",children:e.formatMessage({id:"action__quick_add"})}),Object(A.jsx)(O.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]}),Object(A.jsx)(m.default,{my:"6"})]})}),[e,c,i,o,ne]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(l.default,{header:e.formatMessage({id:"action__add_network"}),hidePrimaryAction:!0,height:"560px",secondaryActionTranslationId:"action__save",secondaryActionProps:{type:"primary",isDisabled:!Y||!!U.error||!U.connected,onPromise:G(ee)},scrollViewProps:{children:Object(A.jsx)(u.default,{flexDirection:"row",justifyContent:"center",children:Object(A.jsxs)(d.default,{w:"full",children:[oe,Object(A.jsxs)(b.default,{children:[Object(A.jsx)(b.default.Item,{name:"name",label:e.formatMessage({id:"form__network_name",defaultMessage:"Network Name"}),control:z,rules:{required:{value:!0,message:e.formatMessage({id:"form__field_is_required"})},validate:function(t){if(null==t||!t.trim())return e.formatMessage({id:"form__field_is_required"})},maxLength:{value:30,message:e.formatMessage({id:"form__network_name_invalid"})}},children:Object(A.jsx)(b.default.Input,{size:c?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"rpcURL",control:z,label:e.formatMessage({id:"form__rpc_url",defaultMessage:"RPC URL"}),helpText:Q,formControlProps:{zIndex:10},rules:{required:{value:!0,message:e.formatMessage({id:"form__field_is_required"})},pattern:{value:C,message:e.formatMessage({id:"form__rpc_url_wrong_format"})},maxLength:{value:100,message:e.formatMessage({id:"form__validator_max_length"},{value:100})},validate:function(){return U.error}},children:Object(A.jsx)(b.default.Input,{size:c?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"chainId",control:z,label:e.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),children:Object(A.jsx)(b.default.Input,{isDisabled:!0,size:c?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"symbol",label:e.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),labelAddon:Object(A.jsx)(p.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:z,rules:{maxLength:{value:15,message:e.formatMessage({id:"form__symbol_invalid"})}},children:Object(A.jsx)(b.default.Input,{size:c?"xl":"default",placeholder:"ETH"})}),Object(A.jsx)(b.default.Item,{name:"explorerURL",label:e.formatMessage({id:"form__blockchain_explorer_url",defaultMessage:"Blockchain Explore URL"}),labelAddon:Object(A.jsx)(p.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:z,rules:{pattern:{value:/https?:\/\//,message:e.formatMessage({id:"form__blockchain_explorer_url_invalid"})},maxLength:{value:100,message:e.formatMessage({id:"form__validator_max_length"},{value:100})}},children:Object(A.jsx)(b.default.Input,{size:c?"xl":"default"})})]}),"edit"===i&&null!=o&&o.id&&(null==o?void 0:o.id)!==(null==v?void 0:v.id)?Object(A.jsx)(f.default,{name:"TrashMini",mt:6,type:"outline",onPress:te,shadow:void 0,children:e.formatMessage({id:"action__remove"})}):null]})})}}),Object(A.jsx)(s.default,{visible:N,onClose:function(){return L(!1)},contentProps:{iconType:"danger",title:e.formatMessage({id:"dialog__remove_network_title",defaultMessage:"Remove Network"}),content:e.formatMessage({id:"dialog__remove_network_desc",defaultMessage:"\u201c{0}\u201d will be removed from your networks list."},{0:(null==o?void 0:o.name)||""})},footerButtonProps:{primaryActionTranslationId:"action__remove",primaryActionProps:{type:"destructive",size:"lg",onPromise:re},secondaryActionProps:{size:"lg"}}})]})},L=n(12),B=n(343),F=n(421),U=n(51),H=n(121),W=function(e){var t=e.name,n=e.logoURI,r=e.size,o=e.iconName;return Object(A.jsx)(U.default,{children:Object(A.jsxs)(L.default,{size:r,position:"relative",children:[Object(A.jsx)(H.default,{token:{logoURI:n,name:t},size:r}),o?Object(A.jsx)(L.default,{position:"absolute",size:"6",right:"-4px",bottom:"-4px",alignItems:"center",justifyItems:"center",children:Object(A.jsx)(O.default,{name:o,size:24,color:"icon-success"})}):null]})})},V=n(888);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var G=function(){var e=Object(I.useRoute)().params;if("query"in e){var t=JSON.parse(e.query),n=t.chainName,r=t.chainId,o=t.blockExplorerUrls,a=t.nativeCurrency,i=t.rpcUrls,c=t.iconUrls;return{id:r,chainId:r,name:n,rpcURL:null==i?void 0:i.at(0),symbol:null==a?void 0:a.symbol,exploreUrl:null==o?void 0:o.at(0),iconUrl:null==c?void 0:c.at(0)}}return e};function K(e){var t,n=Object(S.default)(),r=G(),a=r.name,i=r.symbol,c=r.chainId,s=r.rpcURL,d=r.exploreUrl,f=r.iconUrl,b=Object(F.default)(),m=Object(k.useMemo)((function(){return[{label:n.formatMessage({id:"form__name",defaultMessage:"Name"}),value:a},{label:n.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),value:String(parseInt(null!=c?c:"0"))},{label:n.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),value:i},{label:n.formatMessage({id:"form__explorer",defaultMessage:"Explorer"}),value:d},{label:n.formatMessage({id:"form__url",defaultMessage:"RPC Node"}),value:s}]}),[n,a,s,c,i,d]);return Object(A.jsx)(l.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:"560px",footer:null,scrollViewProps:{children:Object(A.jsx)(u.default,{children:Object(A.jsxs)(L.default,{children:[Object(A.jsxs)(L.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mb:"8",mt:"6",children:[Object(A.jsx)(W,{name:i,logoURI:f,size:"64px",iconName:"PlusCircleSolid"}),Object(A.jsx)(p.default.PageHeading,{mt:"4",children:""+n.formatMessage({id:"title__add_a_network"})}),Object(A.jsx)(V.SiteSection,{url:null==b||null==(t=b.sourceInfo)?void 0:t.origin,mt:"2",w:"full"}),Object(A.jsx)(p.default.Body1,{mt:"2",children:n.formatMessage({id:"title__add_network_desc"},{0:i})})]}),Object(A.jsx)(L.default,{bg:"surface-default",borderRadius:"12",mt:"2",mb:"3",children:m.map((function(e,t){return Object(A.jsxs)(L.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",p:"4",alignItems:"center",borderTopRadius:0===t?"12":void 0,borderBottomRadius:t===m.length-1?"12":void 0,borderTopColor:"divider",borderTopWidth:0!==t?"1":void 0,children:[Object(A.jsx)(j.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:e.label}),Object(A.jsx)(j.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},maxW:"56",textAlign:"right",children:e.value})]},t)}))})]})})}},e))}var q=function(){var e,t,n=Object(S.default)(),r=G(),o=r.rpcURL,a=r.name,i=r.symbol,c=r.exploreUrl,s=Object(F.default)(),l=Object(B.default)({id:null!=(e=null==(t=s.sourceInfo)?void 0:t.id)?e:""}),u=T.default.serviceNetwork,d=Object(k.useCallback)(function(){var e=y()((function*(e){var t=e.close;if(o)try{var r=(yield u.preAddNetwork(o)).existingNetwork;if(r)return void g.default.show({title:n.formatMessage({id:"form__rpc_url_invalid_exist"},{name:r.name})});var s=yield u.addNetwork("evm",{name:null!=a?a:"-",rpcURL:o,symbol:i,explorerURL:c});g.default.show({title:n.formatMessage({id:"msg__network_added"})}),yield l.resolve({close:t,result:s})}catch(d){g.default.show({title:n.formatMessage({id:"form__rpc_fetched_failed"})})}}));return function(t){return e.apply(this,arguments)}}(),[o,u,a,i,c,n,l]);return Object(A.jsx)(K,{footer:!0,hideSecondaryAction:!0,onModalClose:l.reject,primaryActionTranslationId:"action__add",onPrimaryActionPress:d})},Z=n(262),X=n(41),Y=n(108),Q=n(235),$=n(74),J=n(537),ee=n(826),te=n(16),ne=n(190),re=n(642),oe=n(697),ae=n(1298),ie=n(339);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=n(236),ue=n(89),de=n(204),fe=n(1296);var pe=n(1132),be=n.n(pe);var me=n(54),he=n(45);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,ve=n(662),ye=n(358),xe=n.n(ye),we=n(353),_e=n(152),ke=n.n(_e),Ie=n(418),Se=n(938),Te=ke()((function(e){T.default.serviceNetwork.updateNetworks(e)}),1e3,{leading:!1,trailing:!0}),Pe=function(e){var t=e.item,n=e.onLabelPress,r=e.isDisabled,o=e.onToggle,a=Object(k.useState)(t.enabled),i=_()(a,2),c=i[0],s=i[1],l=Object(k.useCallback)((function(e){s((function(e){return!e})),o(e)}),[o]);return Object(A.jsxs)(ue.default,{flex:1,onPress:n,children:[Object(A.jsx)(ue.default.Column,{children:Object(A.jsx)(H.default,{size:8,token:{logoURI:t.logoURI,name:t.name,symbol:t.name}})}),Object(A.jsx)(ue.default.Column,{text:{label:t.name},flex:1}),Object(A.jsx)(ue.default.Column,{text:{label:Object(A.jsx)(le.default,{size:"sm",title:t.impl.toUpperCase()})}}),Object(A.jsx)(ue.default.Column,{text:{label:Object(A.jsx)(we.default,{isDisabled:r,isChecked:c,labelType:"false",onToggle:function(){return l(t)}})},alignItems:"flex-end"})]})},Ce=n(13),Me=n.n(Ce),Ae=n(1244),Ee=function(e){var t=e.visible,n=e.onClose,r=e.onConfirm,o=Object(S.default)();return Object(A.jsx)(s.default,{visible:t,contentProps:{iconType:"info",title:o.formatMessage({id:"dialog__discard_changes_title",defaultMessage:"Discard Changes"}),content:o.formatMessage({id:"dialog__discard_changes_desc",defaultMessage:"Are you sure to discard the unsaved changes"})},footerButtonProps:{onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){null==r||r()}),500)},primaryActionTranslationId:"action__discard",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary"},secondaryActionProps:{}},onClose:n})},De=function(e){var t=e.index,n=e.network,r=e.isActive,o=e.onDrag,a=e.onFixTop;return Object(A.jsx)(Ae.View,{from:{scale:1},animate:{scale:r?.8:1},children:Object(A.jsxs)(L.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:2,children:[Object(A.jsx)(H.default,{size:8,token:{logoURI:n.logoURI,symbol:n.name},showInfo:!0,showDescription:!1}),Object(A.jsx)(j.default,{typography:"Body1Strong",flex:1,children:n.name}),Object(A.jsxs)(X.default,{alignItems:"center",space:2,children:[t>0?Object(A.jsx)(f.default,{type:"plain",size:"sm",circle:!0,name:"ArrowUpTopMini",onPress:a}):null,Object(A.jsx)(f.default,{type:"plain",size:"sm",circle:!0,name:"Bars3Mini",onPressIn:function(){return o()}})]})]})})},Re=function(){var e=Object(S.default)(),t=Object(I.useNavigation)(),n=T.default.serviceNetwork,r=Object(k.useRef)({isDiscard:!1}),o=Object(k.useRef)(),i=Object(a.default)(),c=Object(k.useState)(!1),s=_()(c,2),u=s[0],d=s[1],f=Object(P.useManageNetworks)().enabledNetworks,p=Object(k.useState)(null!=f?f:[]),b=_()(p,2),m=b[0],h=b[1],j=Object(k.useState)((function(){return JSON.stringify(m.map((function(e){return[e.id,e.enabled]})))})),O=_()(j,1)[0];Object(k.useEffect)((function(){setTimeout((function(){var e;null==(e=o.current)||e.forceUpdate()}),500)}),[o]);var v=Object(k.useState)((function(){var e={};return f.forEach((function(t){e[t.id]=t.enabled})),e})),x=_()(v,1)[0],w=Object(k.useCallback)((function(e){h([e].concat(Me()(m.filter((function(t){return t.id!==e.id})))))}),[m]),C=Object(k.useCallback)((function(e){var t=e.item,n=e.drag,r=e.isActive,o=(0,e.getIndex)();return Object(A.jsx)(De,{index:o,total:m.length,network:t,isActive:r,onDrag:n,onFixTop:function(){return w(t)}},t.id)}),[m.length,w]),M=Object(k.useCallback)(y()((function*(){var o=JSON.stringify(m.map((function(e){return[e.id,x[e.id]]})));O!==o&&(yield n.updateNetworks(m.map((function(e){return[e.id,x[e.id]]}))),g.default.show({title:e.formatMessage({id:"msg__change_saved"})})),null!=t&&null!=t.canGoBack&&t.canGoBack()&&(r.current.isDiscard=!0,t.goBack())})),[x,m,O,n,e,t]),E=Object(k.useCallback)((function(e){var t=JSON.stringify(m.map((function(e){return[e.id,x[e.id]]})));O===t||r.current.isDiscard||(e.preventDefault(),d(!0))}),[x,m,O,r]),D=Object(k.useCallback)((function(){r.current.isDiscard=!0,d(!1),t.goBack()}),[t]);return Object(k.useEffect)((function(){return t.addListener("beforeRemove",E),function(){t.removeListener("beforeRemove",E)}}),[E,t]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(l.default,{header:e.formatMessage({id:"modal__sort"}),height:"560px",hidePrimaryAction:!0,secondaryActionProps:{type:"primary",onPromise:M,w:i?"full":void 0},secondaryActionTranslationId:"action__save",sortableListProps:{showsVerticalScrollIndicator:!1,ref:o,data:m,keyExtractor:function(e){return e.id},renderItem:C,onDragEnd:function(e){var t=e.data;return h(t)},contentContainerStyle:{paddingHorizontal:i?16:24,paddingVertical:i?8:16}}}),Object(A.jsx)(Ee,{visible:u,onConfirm:D,onClose:function(){return d(!1)}})]})},Ne=n(76),Le=n(36),Be=function(e){var t=e.visible,n=e.onClose,r=e.onConfirm,o=Object(S.default)();return Object(A.jsx)(s.default,{visible:t,contentProps:{iconType:"info",title:o.formatMessage({id:"dialog__discard_changes_title",defaultMessage:"Discard Changes"}),content:o.formatMessage({id:"dialog__discard_changes_desc",defaultMessage:"Are you sure to discard the unsaved changes"})},footerButtonProps:{onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){null==r||r()}),500)},primaryActionTranslationId:"action__discard",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary"},secondaryActionProps:{}},onClose:n})};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){return We.apply(this,arguments)}function We(){return(We=y()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.OnekeyNetwork.eth,n=yield T.default.serviceNetwork.getRPCEndpointStatus(e,t),r=n.responseTime;return r}))).apply(this,arguments)}var Ve=n(201),ze=n(19),Ge=n(1090),Ke=n(570),qe=n(86),Ze=n(99),Xe=n(809),Ye=function(e){var t=e.value,n=e.onChange,r=Object(a.default)();return Object(A.jsx)(b.default.Input,{value:t,onChange:function(e){return null==n?void 0:n(null==e||null==e.trim?void 0:e.trim())},size:r?"xl":"default",autoFocus:!0,focusable:!0,placeholder:"https://"})},Qe=function(e){var t=e.onClose,n=e.onConfirm,r=e.networkId,o=Object(S.default)(),a=Object(ie.useRPCUrls)(r),i=a.custom,c=a.preset,l=Object(k.useState)(!1),u=_()(l,2),d=u[0],f=u[1],m=Object(x.default)({defaultValues:{url:""}}),h=m.control,j=m.handleSubmit,O=m.setError,g=j(function(){var e=y()((function*(e){f(!0);var a=e.url,i=!1;try{var c=yield Promise.all([Object(ie.measureRpc)(r,a,!1),T.default.serviceNetwork.fetchRpcChainId({url:a,networkId:r})]),s=_()(c,2),l=s[0],u=s[1];l.latestBlock&&(null===u||r.endsWith(u))||(i=!0)}catch(d){i=!0}if(i)return O("url",{message:o.formatMessage({id:"form__rpc_fetched_failed"})},{shouldFocus:!0}),void f(!1);T.default.dispatch(Object(qe.updateCustomNetworkRpc)({networkId:r,type:"add",rpc:a})),null==t||t(),null==n||n()}));return function(t){return e.apply(this,arguments)}}());return Object(A.jsxs)(s.default,{visible:!0,children:[Object(A.jsx)(U.default,{w:"full",mb:"6",children:Object(A.jsx)(p.default.DisplayMedium,{children:o.formatMessage({id:"action__add_node"})})}),Object(A.jsxs)(b.default,{children:[Object(A.jsx)(b.default.Item,{name:"url",defaultValue:"",control:h,rules:{required:{value:!0,message:o.formatMessage({id:"form__field_is_required"})},pattern:{value:C,message:o.formatMessage({id:"form__rpc_url_wrong_format"})},validate:function(e){if(i.includes(e)||c.includes(e))return o.formatMessage({id:"content__existing"})}},children:Object(A.jsx)(Ye,{})}),Object(A.jsx)(Xe.default.FooterButton,{marginTop:0,secondaryActionTranslationId:"action__cancel",onSecondaryActionPress:function(){return null==t?void 0:t()},onPrimaryActionPress:function(){return g()},primaryActionTranslationId:"action__confirm",primaryActionProps:{isLoading:d}})]})]})},$e=n(175),Je=n(1540),et=n(587),tt=function(e){var t=e.url,n=e.measure,r=e.checked,o=e.isEdit,a=e.canEdit,i=e.onRemove,c=Object(S.default)(),s=n||{},l=s.responseTime,u=s.iconColor,b=s.latestBlock,h=Object(k.useMemo)((function(){return n?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(et.default,{borderWidth:0,backgroundColor:u}),Object(A.jsx)(p.default.Caption,{color:u,ml:"2",children:"number"===typeof l?l+" ms":c.formatMessage({id:"content__not_available"})})]}):Object(A.jsx)($e.default,{shape:"Caption"})}),[n,u,c,l]),j=Object(k.useMemo)((function(){return n?"number"===typeof b&&b?Object(A.jsxs)(p.default.Caption,{color:"text-subdued",children:[c.formatMessage({id:"content__height"}),": ",b]}):null:Object(A.jsx)($e.default,{shape:"Caption"})}),[n,c,b]),g=Object(k.useMemo)((function(){return r?Object(A.jsx)(L.default,{p:"8px",children:Object(A.jsx)(O.default,{name:"CheckMini",size:20,color:"interactive-default"})}):o&&a?Object(A.jsx)(Je.AnimatePresence,{children:Object(A.jsx)(Ae.View,{from:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{type:"timing",duration:150},children:Object(A.jsx)(f.default,{name:"TrashMini",type:"plain",circle:!0,onPress:function(){return i(t)}})})}):null}),[r,o,a,i,t]);return Object(A.jsxs)(X.default,{w:"full",alignItems:"center",children:[Object(A.jsxs)(d.default,{flex:"1",children:[Object(A.jsx)(p.default.Body2Strong,{numberOfLines:1,flex:"1",isTruncated:!0,children:t}),Object(A.jsx)(X.default,{mt:"6px",children:Object(A.jsxs)(X.default,{alignItems:"center",children:[h,!!j&&Object(A.jsx)(m.default,{bg:"border-subdued",orientation:"vertical",h:"3",mx:2},"rightDivider"),j]})})]}),g]})};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(){var e=Object(S.default)();return Object(A.jsx)(Ke.default,{trigger:Object(A.jsx)(p.default.Body2Strong,{children:e.formatMessage({id:"content__what_is_node_height"})}),pb:"16px",children:Object(A.jsx)(p.default.Body2,{px:"8px",color:"text-subdued",children:e.formatMessage({id:"content__what_is_node_height_desc"})})})};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){var t,n=Object(S.default)(),r=e.network,a=Object(F.default)();return Object(A.jsx)(l.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:"560px",footer:null,scrollViewProps:{children:r?Object(A.jsx)(u.default,{children:Object(A.jsx)(L.default,{children:Object(A.jsxs)(L.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mb:"8",mt:"6",children:[Object(A.jsx)(W,{size:"64px",name:r.name,logoURI:r.logoURI,iconName:"ArrowRightCircleSolid"}),Object(A.jsx)(p.default.PageHeading,{mt:"4",children:n.formatMessage({id:"title__switch_to_str"},{0:r.shortName})}),Object(A.jsx)(V.SiteSection,{url:null==a||null==(t=a.sourceInfo)?void 0:t.origin,mt:"2",w:"full"}),Object(A.jsx)(p.default.Body1,{mt:"2",color:"text-subdued",textAlign:"center",children:n.formatMessage({id:"content__allow_this_site_to_switch_your_network_to_str"},{0:r.name})})]})})}):Object(A.jsx)(Ne.default,{})}},e))}var ct=function(){var e,t,n=Object(I.useRoute)(),r=Object(k.useState)(),o=_()(r,2),a=o[0],i=o[1],c=JSON.parse(n.params.query).chainId,s="evm--"+parseInt(c),l=Object(F.default)(),u=Object(B.default)({id:null!=(e=null==(t=l.sourceInfo)?void 0:t.id)?e:""});Object(k.useEffect)((function(){y()((function*(){var e=yield T.default.engine.getNetwork(s);i(e)}))()}),[s]);var d=Object(k.useCallback)(function(){var e=y()((function*(e){var t=e.close;try{var n=T.default.serviceNetwork,r=yield n.changeActiveNetwork(s);yield u.resolve({close:t,result:r})}catch(o){}}));return function(t){return e.apply(this,arguments)}}(),[u,s]);return Object(A.jsx)(it,{footer:!0,network:a,hidePrimaryAction:!a,hideSecondaryAction:!0,onModalClose:u.reject,primaryActionTranslationId:"action__switch",onPrimaryActionPress:d})},st=n(1071),lt=n(46),ut=function(e){var t=e.measure,n=Object(S.default)(),r=t||{},o=r.responseTime,a=r.iconColor,i=r.latestBlock,c=Object(k.useMemo)((function(){return t?Object(A.jsxs)(X.default,{alignItems:"center",children:[Object(A.jsx)(et.default,{borderWidth:0,backgroundColor:a}),Object(A.jsx)(p.default.Body1,{color:a,ml:"2",textAlign:"right",children:"number"===typeof o?o+" ms":n.formatMessage({id:"content__not_available"})})]}):Object(A.jsx)($e.default,{shape:"Caption"})}),[t,a,n,o]),s=Object(k.useMemo)((function(){return t?"number"===typeof i&&i?Object(A.jsxs)(p.default.Caption,{color:"text-subdued",textAlign:"right",children:[n.formatMessage({id:"content__height"}),": ",i]}):null:Object(A.jsx)($e.default,{shape:"Caption"})}),[t,n,i]);return Object(A.jsxs)(d.default,{alignItems:"flex-end",children:[c,s]})};var dt=n(475),ft=n(234);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var bt=Object(ft.default)(),mt=[{name:M.ManageNetworkModalRoutes.NetworkAccountSelector,component:i.NetworkAccountSelectorModal},{name:M.ManageNetworkModalRoutes.NetworkSelector,component:c.NetworkSelectorModal},{name:M.ManageNetworkModalRoutes.Listing,component:function(){var e=Object(S.default)(),t=Object(a.default)(),n=Object(Ie.useManageNetworks)().allNetworks,r=Object(k.useState)(""),o=_()(r,2),i=o[0],c=o[1],s=Object(I.useNavigation)(),u=Object(k.useState)(Object(he.getActiveWalletAccount)().network),d=_()(u,2),f=d[0],p=d[1],b=Object(k.useRef)(Object(Ie.getManageNetworks)().allNetworks.map((function(e){return[e.id,e.enabled]})));Object(k.useEffect)((function(){b.current=n.map((function(e){return[e.id,e.enabled]}))}),[n]);var m=Object(k.useMemo)((function(){return n.filter((function(e){for(var t of Object.values(xe()(e,"name","shortName","id","symbol")))if(Object(Se.strIncludes)(String(t),i))return!0;return!1}))}),[n,i]),h=Object(k.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";s.navigate(te.ManageNetworkModalRoutes.AddNetwork,{network:e,mode:t})}),[s]),j=Object(k.useCallback)((function(e){b.current=b.current.map((function(t){return t[0]===e.id?[t[0],!t[1]]:t})),Te(b.current)}),[]);Object(I.useFocusEffect)(Object(k.useCallback)((function(){c(""),p(Object(he.getActiveWalletAccount)().network)}),[]));var O=Object(k.useCallback)((function(e){var t=e.item;return Object(A.jsx)(Pe,{onLabelPress:t.preset?void 0:function(){return h(t,"edit")},item:t,isDisabled:t.id===(null==f?void 0:f.id),onToggle:j})}),[f,h,j]);return Object(A.jsxs)(l.default,{header:e.formatMessage({id:"action__customize_network"}),height:"560px",hideSecondaryAction:!0,primaryActionProps:{type:"primary",w:t?"full":void 0},primaryActionTranslationId:"action__add_network",onPrimaryActionPress:function(){return h()},children:[Object(A.jsx)(ve.default,{w:"full",value:i,mb:"4",onChangeText:function(e){return c(e)},placeholder:e.formatMessage({id:"content__search"}),onClear:function(){return c("")}}),Object(A.jsx)(Z.default,{data:m,contentContainerStyle:{flex:null!=m&&m.length?void 0:1},renderItem:O,keyExtractor:function(e){return e.id},ListEmptyComponent:Se.NetworkListEmpty})]})}},{name:M.ManageNetworkModalRoutes.AddNetwork,component:N},{name:M.ManageNetworkModalRoutes.CustomNetwork,component:function(e){var t=e.route.params,n=t.name,r=t.rpcURL,o=t.symbol,i=t.exploreUrl,c=t.id,d=t.chainId,f=Object(S.default)(),m=Object(he.useActiveWalletAccount)().network,h=Object(I.useNavigation)(),j=Object(k.useState)({connected:!1}),O=_()(j,2),v=O[0],w=O[1],M=T.default.serviceNetwork,E=Object(x.default)({defaultValues:{name:n,rpcURL:r,symbol:o,exploreUrl:i,id:c,chainId:d},mode:"onChange"}),D=E.control,R=E.handleSubmit,N=E.watch,L=E.setError,B=E.setValue,F=E.trigger,U=E.formState.isValid,H=Object(k.useState)(!1),W=_()(H,2),V=W[0],z=W[1],G=Object(a.default)(),K=Object(k.useCallback)((function(){z(!0)}),[]),q=Object(k.useCallback)(y()((function*(){yield M.deleteNetwork(c),z(!1),g.default.show({title:f.formatMessage({id:"msg__network_removed"})}),null!=h&&null!=h.canGoBack&&h.canGoBack()&&h.goBack()})),[f,M,c,h]),Z=Object(k.useCallback)(function(){var e=y()((function*(e){yield M.updateNetwork(c,{rpcURL:e.rpcURL,name:e.name,symbol:e.symbol,explorerURL:e.exploreUrl}),g.default.show({title:f.formatMessage({id:"msg__change_saved"})}),null!=h&&null!=h.canGoBack&&h.canGoBack()&&h.goBack()}));return function(t){return e.apply(this,arguments)}}(),[M,c,f,h]),X=Object(k.useMemo)((function(){return v.error?"":v.loading?f.formatMessage({id:"form__rpc_url_connecting"}):v.connected?f.formatMessage({id:"form__rpc_url_fetched"}):void 0}),[v,f]),Y=Object(P.useDebounce)(N("rpcURL"),1e3),Q=null==Y?void 0:Y.trim();return Object(k.useEffect)((function(){Q&&ge.test(Q)&&(w((function(e){return Oe(Oe({},e),{},{connected:!1,loading:!0})})),M.preAddNetwork(Q).then((function(e){e.chainId===d?w({connected:!0,loading:!1}):w({loading:!1,connected:!0,error:f.formatMessage({id:"form__chain_id_invalid"})})})).catch((function(){w({loading:!1,connected:!1,error:f.formatMessage({id:"form__rpc_fetched_failed"})})})).finally((function(){F("rpcURL")})))}),[Q,f,B,L,M,d,F]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(l.default,{header:n,height:"560px",primaryActionProps:{onPromise:R(Z),isDisabled:!U&&!!v.error||!v.connected},primaryActionTranslationId:"action__save",hideSecondaryAction:!0,scrollViewProps:{children:Object(A.jsx)(u.default,{flexDirection:"row",justifyContent:"center",children:Object(A.jsxs)(b.default,{children:[Object(A.jsx)(b.default.Item,{name:"name",label:f.formatMessage({id:"form__network_name",defaultMessage:"Network Name"}),control:D,rules:{required:{value:!0,message:f.formatMessage({id:"form__field_is_required"})},validate:function(e){if(null==e||!e.trim())return f.formatMessage({id:"form__field_is_required"})},maxLength:{value:30,message:f.formatMessage({id:"form__network_name_invalid"})}},children:Object(A.jsx)(b.default.Input,{size:G?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"rpcURL",control:D,label:f.formatMessage({id:"form__rpc_url",defaultMessage:"RPC URL"}),helpText:X,rules:{required:{value:!0,message:f.formatMessage({id:"form__field_is_required"})},pattern:{value:C,message:f.formatMessage({id:"form__rpc_url_wrong_format"})},maxLength:{value:100,message:f.formatMessage({id:"form__validator_max_length"},{value:100})},validate:function(){return v.error}},children:Object(A.jsx)(b.default.Input,{size:G?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"chainId",label:f.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),control:D,children:Object(A.jsx)(b.default.Input,{isDisabled:!0,placeholder:f.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),size:G?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"symbol",label:f.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),labelAddon:Object(A.jsx)(p.default.Body2,{color:"text-subdued",children:f.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:D,rules:{maxLength:{value:15,message:f.formatMessage({id:"form__symbol_invalid"})}},children:Object(A.jsx)(b.default.Input,{placeholder:"ETH",size:G?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"exploreUrl",label:f.formatMessage({id:"form__blockchain_explorer_url",defaultMessage:"Blockchain Explore URL"}),labelAddon:Object(A.jsx)(p.default.Body2,{color:"text-subdued",children:f.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:D,rules:{pattern:{value:/https?:\/\//,message:f.formatMessage({id:"form__blockchain_explorer_url_invalid"})},maxLength:{value:100,message:f.formatMessage({id:"form__validator_max_length"},{value:100})}},children:Object(A.jsx)(b.default.Input,{size:G?"xl":"default"})}),(null==m?void 0:m.id)!==c?Object(A.jsx)(me.default,{w:"full",size:G?"xl":"lg",type:"outline",leftIconName:"TrashMini",onPress:K,children:f.formatMessage({id:"action__remove",defaultMessage:"Remove"})}):null]})})}}),Object(A.jsx)(s.default,{visible:V,contentProps:{iconType:"danger",title:f.formatMessage({id:"dialog__remove_network_title",defaultMessage:"Remove Network"}),content:f.formatMessage({id:"dialog__remove_network_desc",defaultMessage:"\u201c{0}\u201d will be removed from your networks list."},{0:n})},footerButtonProps:{primaryActionTranslationId:"action__remove",primaryActionProps:{type:"destructive",size:"lg",onPromise:q},secondaryActionProps:{size:"lg"}},onClose:function(){return z(!1)}})]})}},{name:M.ManageNetworkModalRoutes.PresetNetwork,component:function(e){var t=e.route,n=t.params,r=n.name,o=n.rpcURL,i=n.chainId,c=n.symbol,d=n.exploreUrl,f=n.id,m=n.impl,h=Object(S.default)(),j=Object(k.useState)(!1),O=_()(j,2),v=O[0],w=O[1],C=Object(k.useRef)({preventRemove:!1,isResetting:!1}),M=Object(I.useNavigation)(),E=Object(k.useState)([]),D=_()(E,2),R=D[0],N=D[1],L=Object(k.useState)(null!=o?o:""),B=_()(L,2),F=B[0],U=B[1],H=Object(k.useState)({}),W=_()(H,2),V=W[0],z=W[1],G=T.default.serviceNetwork,K=Object(x.default)({mode:"onChange",defaultValues:{name:r,rpcURL:o,chainId:i,symbol:c,exploreUrl:d,id:f}}),q=K.control,Z=K.handleSubmit,X=K.reset,Y=K.watch,Q=K.getValues,$=Object(k.useState)(!1),J=_()($,2),ee=J[0],te=J[1],ne=Object(a.default)(),re=Object(P.useDebounce)(Y("rpcURL"),1e3),oe=Object(k.useCallback)((function(){te(!0)}),[]);Object(k.useEffect)((function(){G.getPresetRpcEndpoints(f).then((function(e){var t=e.urls,n=e.defaultRpcURL;N(t),U(n)}))}),[G,f]);var ae=Object(k.useCallback)(function(){var e=y()((function*(e){yield G.updateNetwork(f,{rpcURL:e.rpcURL}),g.default.show({title:h.formatMessage({id:"msg__change_saved"})}),C.current.preventRemove=!0,null!=M&&null!=M.canGoBack&&M.canGoBack()&&M.goBack()}));return function(t){return e.apply(this,arguments)}}(),[G,f,h,M,C]);Object(k.useEffect)((function(){R.forEach((function(e){He(e,f).then((function(t){return z((function(n){var r;return Ue(Ue({},n),{},((r={})[e]=t,r))}))}),(function(e){}))}))}),[R,f]);var ie=Object(k.useMemo)((function(){return R.map((function(e){return{value:e,label:e,trailing:V[e]?Object(A.jsxs)(p.default.Body2Strong,{color:(t=V[e],t<=300?"text-success":t<=1e3?"text-warning":"text-critical"),children:[V[e],"ms"]}):Object(A.jsx)(Ne.default,{size:"sm"})};var t}))}),[R,V]),ce=Object(k.useCallback)((function(){C.current.isResetting=!0,X(Ue(Ue({},t.params),{},{rpcURL:F})),te(!1),g.default.show({title:h.formatMessage({id:"msg__network_reset"})}),M.popToTop()}),[t.params,h,X,M,F,C]),se=Object(k.useCallback)((function(e){C.current.isResetting&&!C.current.preventRemove?(C.current.isResetting=!1,e.preventDefault()):Q("rpcURL")===o||C.current.preventRemove||(e.preventDefault(),w(!0))}),[C,Q,o]),le=Object(k.useCallback)((function(){C.current.preventRemove=!0,w(!1),M.goBack()}),[M]);Object(k.useEffect)((function(){return M.addListener("beforeRemove",se),function(){M.removeListener("beforeRemove",se)}}),[se,M]);var ue=Object(k.useState)(!1),de=_()(ue,2),fe=de[0],pe=de[1],be=Object(k.useState)({connected:!1}),he=_()(be,2),je=he[0],Oe=he[1];Object(k.useEffect)((function(){var e,t=null!=(e=null==re?void 0:re.trim())?e:"";t?(Oe({connected:!1,loading:!0}),R.includes(t)?V[t]&&Oe({connected:!0,loading:!1,speed:V[t]}):ge.test(t)&&G.preAddNetwork(t).then((function(e){e.chainId!==i?Oe({connected:!1,loading:!1,error:h.formatMessage({id:"form__chain_id_invalid"})}):He(t,f).then((function(e){return Oe({connected:!0,loading:!1,speed:e})}))})).catch((function(){Oe({connected:!1,loading:!1,error:h.formatMessage({id:"form__rpc_fetched_failed"})})}))):Oe({connected:!1})}),[re,R,V,G,i,h,f]);var ve=Object(k.useMemo)((function(){return je.error?je.error:je.loading?h.formatMessage({id:"form__rpc_url_connecting"}):je.connected?h.formatMessage({id:"form__rpc_url_spped"},{value:je.speed}):void 0}),[je,h]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(l.default,{header:r,height:"560px",primaryActionProps:{onPromise:Z(ae),isDisabled:re===o||!je.connected},primaryActionTranslationId:"action__save",hideSecondaryAction:!0,scrollViewProps:{showsVerticalScrollIndicator:!1,children:Object(A.jsx)(u.default,{flexDirection:"row",justifyContent:"center",children:Object(A.jsxs)(b.default,{children:[Object(A.jsx)(b.default.Item,{name:"name",label:h.formatMessage({id:"form__network_name",defaultMessage:"Network Name"}),control:q,children:Object(A.jsx)(b.default.Input,{isDisabled:!0,size:ne?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"rpcURL",control:q,label:h.formatMessage({id:"form__rpc_url",defaultMessage:"RPC URL"}),labelAddon:Object(A.jsx)(we.default,{size:"sm",label:h.formatMessage({id:"content__custom"}),isChecked:fe,onToggle:function(){return pe((function(e){return!e}))}}),formControlProps:{zIndex:10},helpText:ve,rules:{validate:function(){return je.connected}},children:fe?Object(A.jsx)(b.default.Input,{size:ne?"xl":"default"}):Object(A.jsx)(b.default.Select,{title:h.formatMessage({id:"content__preset_rpc",defaultMessage:"Preset PRC URLs"}),footer:null,containerProps:{zIndex:999,padding:0},options:ie,dropdownProps:{width:"352px"},dropdownPosition:"right",triggerSize:ne?"xl":"default"})}),"evm"===m?Object(A.jsx)(b.default.Item,{name:"chainId",label:h.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),control:q,children:Object(A.jsx)(b.default.Input,{placeholder:h.formatMessage({id:"form__chain_id"}),isDisabled:!0,size:ne?"xl":"default"})}):null,Object(A.jsx)(b.default.Item,{name:"symbol",label:h.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),labelAddon:Object(A.jsx)(p.default.Body2,{color:"text-subdued",children:h.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:q,children:Object(A.jsx)(b.default.Input,{placeholder:"ETH",isDisabled:!0,size:ne?"xl":"default"})}),Object(A.jsx)(b.default.Item,{name:"exploreUrl",label:h.formatMessage({id:"form__blockchain_explorer_url",defaultMessage:"Blockchain Explore URL"}),labelAddon:Object(A.jsx)(p.default.Body2,{color:"text-subdued",children:h.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:q,children:Object(A.jsx)(b.default.Input,{isDisabled:!0,size:ne?"xl":"default"})}),Object(A.jsx)(me.default,{w:"full",size:ne?"xl":"lg",onPress:oe,isDisabled:re===F,children:h.formatMessage({id:"action__reset",defaultMessage:"Reset"})})]})})}}),Object(A.jsx)(s.default,{visible:ee,contentProps:{iconType:"info",title:h.formatMessage({id:"dialog__reset_network_title",defaultMessage:"Reset Network"}),content:h.formatMessage({id:"dialog__reset_network_desc",defaultMessage:"{0} will be revert to the default config"},{0:r})},footerButtonProps:{onPrimaryActionPress:ce,primaryActionTranslationId:"action__reset",primaryActionProps:{type:"primary",size:"lg"},secondaryActionProps:{size:"lg"}},onClose:function(){return te(!1)}}),Object(A.jsx)(Be,{visible:v,onConfirm:le,onClose:function(){return w(!1)}})]})}},{name:M.ManageNetworkModalRoutes.AddNetworkConfirm,component:q},{name:M.ManageNetworkModalRoutes.SwitchNetwork,component:ct},{name:M.ManageNetworkModalRoutes.RPCNode,component:function(){var e=Object(S.default)(),t=Object(I.useRoute)().params.networkId,n=Object(k.useState)(!1),r=_()(n,2),o=r[0],a=r[1],i=Object(P.useNetwork)({networkId:t}).network,c=Object(ie.useRPCUrls)(null==i?void 0:i.id),s=c.preset,u=c.custom,d=c.refresh,f=Object(k.useState)({}),p=_()(f,2),b=p[0],m=p[1],h=Object(k.useCallback)((function(e){return Me()(e).sort((function(e,t){var n,r,o,a;return(null!=(n=null==b||null==(r=b[e])?void 0:r.responseTime)?n:1e5)-(null!=(o=null==b||null==(a=b[t])?void 0:a.responseTime)?o:1e5)}))}),[b]),j=Object(k.useCallback)((function(e){T.default.serviceNetwork.updateNetwork(t,{rpcURL:e})}),[t]),O=Object(k.useCallback)((function(){Object(Ze.showDialog)(Object(A.jsx)(Qe,{networkId:t,onConfirm:d}))}),[t,d]),g=Object(k.useCallback)((function(){a(!o)}),[o]),v=Object(k.useCallback)((function(e){T.default.dispatch(Object(qe.updateCustomNetworkRpc)({networkId:t,type:"remove",rpc:e})),d()}),[t,d]),y=Object(k.useMemo)((function(){return u.length?o?e.formatMessage({id:"action__done"}):e.formatMessage({id:"action__edit"}):null}),[u,o,e]),x=Object(k.useMemo)((function(){return[{headerProps:{title:e.formatMessage({id:"content__custom"}),actions:[{label:y,onPress:g}]},footerText:Object(A.jsx)(U.default,{px:"2",mt:"4",children:Object(A.jsx)(me.default,{w:"full",size:"lg",onPress:O,children:e.formatMessage({id:"action__add_node"})})}),data:h(u)},{headerProps:{title:e.formatMessage({id:"content__default"})},data:h(s)}]}),[u,s,e,h,O,g,y]),w=Object(k.useCallback)((function(e){var n=0,r=0,o=function(e){r+=1,Object(ie.measureRpc)(t,e,!1).then((function(t){m((function(n){var r;return rt(rt({},n),{},((r={})[e]=t,r))}))})).finally((function(){r-=1}))},a=setInterval((function(){for(;r<3;)o(e[n]),n+=1;n>=e.length&&(clearInterval(a),n=0)}),600)}),[t]);return Object(k.useEffect)((function(){var e=setTimeout((function(){var e=[].concat(Me()(s),Me()(u));e.length&&w(e)}),1e3);return function(){return clearTimeout(e)}}),[u,s,w]),Object(A.jsx)(l.default,{header:e.formatMessage({id:"modal__rpc_node"}),height:"560px",footer:null,headerDescription:(null==i?void 0:i.name)||"",hideSecondaryAction:!0,hidePrimaryAction:!0,children:Object(A.jsx)(Ge.default,{ListHeaderComponent:ot,stickySectionHeadersEnabled:!1,sections:x,renderItem:function(e){var t=e.item,n=t===(null==i?void 0:i.rpcURL);return Object(A.jsx)(ue.default,{flex:1,onPress:n?void 0:function(){return j(t)},children:Object(A.jsx)(ue.default.Column,{children:Object(A.jsx)(tt,{url:t,measure:b[t],checked:n,isEdit:o,canEdit:u.includes(t)&&!n,onRemove:v})})})},keyExtractor:function(e,t){return e+"_"+t}})})}},{name:M.ManageNetworkModalRoutes.QuickAdd,component:function(){var e=Object(S.default)(),t=Object(k.useState)(0),n=_()(t,2),r=n[0],o=n[1],a=Object(k.useState)(!0),i=_()(a,2),c=i[0],s=i[1],u=Object(k.useState)(""),d=_()(u,2),f=d[0],b=d[1],m=Object(P.useManageNetworks)().allNetworks,h=Object(k.useState)(!1),j=_()(h,2),O=j[0],g=j[1],v=Object(k.useState)(null),x=_()(v,2),w=x[0],C=x[1],E=Object(k.useState)([]),D=_()(E,2),R=D[0],N=D[1],L=Object(k.useState)(!1),B=_()(L,2),F=B[0],W=B[1],V=Object(I.useNavigation)(),z=T.default.serviceNetwork,G=Object(k.useCallback)((function(){o(0),s(!0),W(!F)}),[F]),K=Object(k.useCallback)((function(e){o(0),s(!0),b(e)}),[]),q=Object(P.useDebounce)(f,1e3),Y=Object(k.useCallback)(y()((function*(){g(!0);try{var e=yield z.fetchChainList({page:r,pageSize:50,query:q,showTestNet:F}),t=e.filter((function(e){return!m.find((function(t){return t.id==="evm--"+e.chainId}))}));e.length<50&&s(!1),N(r>0?function(e){return[].concat(Me()(e),Me()(t))}:t)}catch(n){}setTimeout((function(){g(!1)}),500)})),[m,z,q,F,r]),Q=Object(k.useCallback)(function(){var e=y()((function*(e){var t,n,r,o,a,i,c;C(e);var s=null!=(t=null==(n=e.rpc)?void 0:n[0])?t:"";for(var l of e.rpc)try{var u=yield z.preAddNetwork(l);if(u&&u.chainId){s=l;break}}catch(d){ze.default.http.warn("preAddNetwork error: ",d)}C(null),V.navigate(M.ManageNetworkModalRoutes.AddNetwork,{mode:"add",network:{name:null!=(r=e.name)?r:"",rpcURL:s,symbol:null!=(o=null==(a=e.nativeCurrency)?void 0:a.symbol)?o:"",explorerURL:null!=(i=null==(c=e.explorers)?void 0:c[0].url)?i:"",logoURI:e.logoURI}})}));return function(t){return e.apply(this,arguments)}}(),[V,z]);Object(k.useEffect)((function(){Y()}),[Y]);var $=Object(k.useMemo)((function(){return O?Object(A.jsx)(U.default,{py:"144px",children:Object(A.jsx)(Ne.default,{size:"lg"})}):R.length?null:Object(A.jsx)(Ve.default,{py:"96px",emoji:"\ud83d\udd0d",title:e.formatMessage({id:"content__no_results",defaultMessage:"No Result"})})}),[e,O,R]);return Object(A.jsxs)(l.default,{header:e.formatMessage({id:"action__quick_add"}),height:"560px",footer:null,children:[Object(A.jsxs)(X.default,{w:"full",mb:"4",children:[Object(A.jsx)(ve.default,{flex:"1",placeholder:e.formatMessage({id:"content__search"}),value:f,onChangeText:K,onClear:function(){return K("")},mr:"1"}),Object(A.jsx)(we.default,{label:e.formatMessage({id:"form__testnets"}),isChecked:F,onToggle:G})]}),Object(A.jsx)(Z.default,{onEndReached:function(){c&&!O&&o(r+1)},data:R,ListFooterComponent:$,renderItem:function(t){var n,r,o,a=t.item;return Object(A.jsxs)(ue.default,{onPress:function(){return Q(a)},flex:1,children:[Object(A.jsx)(ue.default.Column,{children:Object(A.jsx)(H.default,{size:8,token:{logoURI:a.logoURI,name:a.name}})}),Object(A.jsx)(ue.default.Column,{text:{label:a.name,description:Object(A.jsxs)(X.default,{children:[Object(A.jsxs)(p.default.Caption,{color:"text-subdued",children:[e.formatMessage({id:"content__currency"}),":"]}),Object(A.jsx)(p.default.Caption,{color:"text-subdued",ml:"1",children:null!=(n=null==(r=a.nativeCurrency)?void 0:r.symbol)?n:""}),Object(A.jsxs)(p.default.Caption,{ml:"16px",color:"text-subdued",children:[e.formatMessage({id:"form__chain_id"}),":"]}),Object(A.jsx)(p.default.Caption,{color:"text-subdued",ml:"1",children:null!=(o=a.chainId)?o:""})]})},flex:1}),a.chainId===(null==w?void 0:w.chainId)?Object(A.jsx)(ue.default.Column,{children:Object(A.jsx)(Ne.default,{})}):null]})},keyExtractor:function(e,t){var n;return(null!=(n=e.name)?n:"")+"_"+e.chainId+"_"+t}})]})}},{name:M.ManageNetworkModalRoutes.Sort,component:Re},{name:M.ManageNetworkModalRoutes.SwitchRpc,component:function(){var e,t,n,r=Object(S.default)(),o=Object(k.useRef)(!1),a=function(){var e=Object(I.useRoute)().params;return"query"in e?JSON.parse(e.query):e}(),i=a.name,c=a.rpcURL,s=a.logoURI,d=a.networkId,f=Object(F.default)(),b=Object(B.default)({id:null!=(e=null==(t=f.sourceInfo)?void 0:t.id)?e:"",closeWindowAfterResolved:!0}),m=Object(st.useAsync)((function(){return Object(ie.measureRpc)(d,c,!1)}),[d,c]),h=m.result,O=m.loading,g=Object(ie.useRPCUrls)(d),v=g.preset,x=g.custom,w=g.defaultRpc,_=g.loading,P=Object(k.useMemo)((function(){return O||!h}),[O,h]),C=Object(k.useMemo)((function(){return v.includes(c)||x.includes(c)||w===c}),[v,x,c,w]),M=Object(k.useMemo)((function(){return[{label:r.formatMessage({id:"network__network",defaultMessage:"Network"}),value:i},{label:r.formatMessage({id:"form__url",defaultMessage:"RPC Node"}),value:c},{label:r.formatMessage({id:"form__status",defaultMessage:"Status"}),value:Object(A.jsx)(ut,{measure:O?void 0:h})}]}),[r,i,c,O,h]),E=Object(k.useMemo)((function(){var e;return C?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.default.PageHeading,{mt:"4",children:""+r.formatMessage({id:"title__youve_added_this_rpc_node"})}),Object(A.jsx)(p.default.Body1,{mt:"2",children:r.formatMessage({id:"title__you_ve_added_this_rpc_node_desc"})})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.default.PageHeading,{mt:"4",children:""+r.formatMessage({id:"title__add_rpc_node"})}),Object(A.jsx)(V.SiteSection,{url:null==f||null==(e=f.sourceInfo)?void 0:e.origin,mt:"2",w:"full"}),Object(A.jsx)(p.default.Body1,{mt:"2",children:r.formatMessage({id:"title__add_rpc_node_desc"})})]})}),[C,r,null==f||null==(n=f.sourceInfo)?void 0:n.origin]),D=Object(k.useCallback)(function(){var e=y()((function*(e){var t=e.close;T.default.dispatch(Object(qe.updateCustomNetworkRpc)({networkId:d,type:"add",rpc:c})),o.current=!0,yield b.resolve({close:t,result:null})}));return function(t){return e.apply(this,arguments)}}(),[c,d,b]),R=Object(k.useCallback)(function(){var e=y()((function*(e){var t=e.close;c&&(C||(T.default.dispatch(Object(qe.updateCustomNetworkRpc)({networkId:d,type:"add",rpc:c})),yield Object(lt.wait)(1e3)),o.current=!0,yield T.default.serviceNetwork.updateNetwork(d,{rpcURL:c}),yield b.resolve({close:t,result:null}))}));return function(t){return e.apply(this,arguments)}}(),[c,C,d,b]),N=Object(k.useCallback)((function(){o.current||b.reject()}),[b]);return Object(A.jsx)(l.default,{height:"560px",enableMobileFooterWrap:!0,onModalClose:N,secondaryActionTranslationId:"action__add_to_rpc_node_list_only",primaryActionTranslationId:C?"action__switch":"action__add_n_switch",hideSecondaryAction:C||_,onSecondaryActionPress:D,onPrimaryActionPress:R,secondaryActionProps:{isDisabled:P},primaryActionProps:{isDisabled:P},scrollViewProps:{children:Object(A.jsx)(u.default,{children:Object(A.jsxs)(L.default,{children:[Object(A.jsxs)(L.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mb:"8",mt:"6",children:[Object(A.jsx)(W,{size:"64px",name:i,logoURI:s,iconName:"PlusCircleSolid"}),E]}),Object(A.jsx)(L.default,{bg:"surface-default",borderRadius:"12",mt:"2",mb:"3",children:M.map((function(e,t){return Object(A.jsxs)(L.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",p:"4",alignItems:"center",borderTopRadius:0===t?"12":void 0,borderBottomRadius:t===M.length-1?"12":void 0,borderTopColor:"divider",borderTopWidth:0!==t?"1":void 0,children:[Object(A.jsx)(j.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:e.label}),"string"===typeof e.value?Object(A.jsx)(j.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},textAlign:"right",flex:"1",isTruncated:!0,pl:"6",children:e.value}):e.value]},t)}))})]})})}})}},{name:M.ManageNetworkModalRoutes.AllNetworksNetworkSelector,component:function(){var e,t=Object(S.default)(),n=Object(de.default)(),r=Object(I.useRoute)(),o=Object(P.useManageNetworks)().enabledNetworks,a=null!=(e=null==r?void 0:r.params)?e:{},i=a.filter,c=a.onConfirm,s=a.accountId,u=Object(J.useAllNetworksWalletAccounts)({accountId:s}).data,d=Object(k.useCallback)((function(e){var t=e.network,r=e.accounts;r.length<=1?(null==c||c({network:t,account:r[0]}),null==n||n()):Object(fe.showAllNetworksAccountDerivationsSelector)({network:t,accounts:r,onConfirm:function(e){null==c||c({network:t,account:e}),null==n||n()}})}),[n,c]),f=Object(k.useCallback)((function(e){var n,r=e.item,o=null!=(n=u[r.id])?n:[];if("function"===typeof i){var a;if(o.length)if(!(o=(null!=(a=u[r.id])?a:[]).filter((function(e){return i({network:r,account:e})}))).length)return null;if(!i({network:r,account:o[0]}))return null}return Object(A.jsxs)(ue.default,{flex:"1",onPress:function(){d({network:r,accounts:o})},children:[Object(A.jsx)(ue.default.Column,{children:Object(A.jsx)(H.default,{size:8,token:{logoURI:r.logoURI}})}),Object(A.jsx)(ue.default.Column,{text:{label:r.name}}),Object(A.jsx)(ue.default.Column,{children:o.length>1?Object(A.jsx)(le.default,{type:"default",size:"sm",ml:"3",title:t.formatMessage({id:"form__str_addresses"},{0:o.length})}):null})]})}),[t,u,i,d]);return Object(A.jsx)(l.default,{header:t.formatMessage({id:"form__select_network"}),footer:null,height:"560px",children:Object(A.jsx)(Z.default,{data:o,contentContainerStyle:{flex:null!=o&&o.length?void 0:1},renderItem:f,keyExtractor:function(e){return e.id}})})}},{name:M.ManageNetworkModalRoutes.AllNetworksAccountsDetail,component:function(){var e,t=Object(S.default)(),n=Object(P.useNavigation)(),r=Object(I.useRoute)(),o=null!=(e=null==r?void 0:r.params)?e:{},a=o.walletId,i=o.accountId,c=Object(J.useAllNetworksWalletAccounts)({accountId:i}).data,s=Object(P.useWallet)({walletId:a}).wallet,u=Object(P.useManageNetworks)().allNetworks,d=Object(k.useMemo)((function(){return Object.entries(c).map((function(e){var t=_()(e,2);return{networkId:t[0],accounts:t[1]}}))}),[c]),b=Object(k.useCallback)((function(e){var r=e.account,o=e.network;if(r){var a=r.address,i=r.displayAddress,c=r.template;if("hw"===(null==s?void 0:s.type))n.navigate(te.RootRoutes.Modal,{screen:te.ModalRoutes.Receive,params:{screen:re.ReceiveTokenModalRoutes.ReceiveToken,params:{address:a,displayAddress:i,wallet:s,network:o,account:r,template:c}}});else{var l;if(!i&&!a)return;Object(Q.copyToClipboard)(null!=(l=null!=i?i:a)?l:""),g.default.show({title:t.formatMessage({id:"msg__address_copied"})})}}}),[t,s,n]),j=Object(k.useCallback)((function(e){var t=e.networkId,n=e.accounts;Object(ie.allNetworksSelectAccount)({networkId:t,accounts:n}).then((function(e){e&&b(e)}))}),[b]),v=Object(k.useCallback)(function(){var e=y()((function*(e){var t=e.network,n=e.account,r=T.default.serviceNetwork,o=T.default.serviceAccount;yield r.changeActiveNetwork(null==t?void 0:t.id),yield o.changeActiveAccountByAccountId(null==n?void 0:n.id),ee.navigationShortcuts.navigateToAppRootTab(te.TabRoutes.Home)}));return function(t){return e.apply(this,arguments)}}(),[]),x=Object(k.useCallback)((function(e){var t=e.network,r=e.account;n.navigate(te.RootRoutes.Modal,{screen:te.ModalRoutes.Receive,params:{screen:re.ReceiveTokenModalRoutes.ReceiveToken,params:{address:r.address,displayAddress:r.displayAddress,wallet:s,network:t,account:r,template:r.template}}})}),[n,s]),w=Object(k.useCallback)((function(e){var t,r=e.network,o=e.account;if(s)return s.type===$.WALLET_TYPE_HW?x({network:r,account:o}):void n.navigate(te.RootRoutes.Modal,{screen:te.ModalRoutes.ScanQrcode,params:{screen:oe.ScanQrcodeRoutes.ScanQrcodeResult,params:{type:oe.ScanSubResultCategory.TEXT,data:null!=(t=null==o?void 0:o.address)?t:"",hideMoreMenu:!0}}})}),[n,s,x]),C=Object(k.useCallback)((function(e){return[{id:"action__view_account",onPress:v,icon:"UserOutline"},{id:"action__show_full_address",onPress:w,icon:"MagnifyingGlassPlusOutline"},{id:"action__show_qrcode",onPress:x,icon:"QrCodeOutline"}].map((function(t){return se(se({},t),{},{onPress:function(){Object(ie.allNetworksSelectAccount)(e).then((function(e){e&&(null==t.onPress||t.onPress(e))}))}})}))}),[v,x,w]),E=Object(k.useCallback)((function(e){var n=e.item,r=n.networkId,o=n.accounts,a=u.find((function(e){return e.id===r}));return a?Object(A.jsxs)(X.default,{mb:"4",children:[Object(A.jsx)(H.default,{showInfo:!0,flex:"1",size:8,token:{name:null==a?void 0:a.name,symbol:o.length>1?t.formatMessage({id:"form__str_addresses"},{0:o.length}):Object(Y.shortenAddress)(o[0].address),logoURI:null==a?void 0:a.logoURI}}),Object(A.jsx)(f.default,{name:"Square2StackOutline",iconSize:20,type:"plain",onPress:function(){return j({networkId:r,accounts:o})}}),Object(A.jsx)(ne.default,{options:C({networkId:r,accounts:o}),children:Object(A.jsx)(f.default,{name:"EllipsisVerticalMini",iconSize:20,type:"plain"})})]},r):null}),[u,t,j,C]),D=Object(k.useCallback)((function(){n.navigate(te.RootRoutes.Modal,{screen:te.ModalRoutes.ManageNetwork,params:{screen:M.ManageNetworkModalRoutes.AllNetworksSupportedNetworks}})}),[n]),R=Object(k.useMemo)((function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(m.default,{}),Object(A.jsx)(h.default,{onPress:D,my:"4",children:Object(A.jsxs)(X.default,{alignItems:"center",justifyContent:"center",children:[Object(A.jsx)(p.default.Body2,{mr:"4",color:"text-subdued",children:t.formatMessage({id:"title__str_supported_networks"},{0:u.filter((function(e){return!e.isTestnet})).length})}),Object(A.jsx)(O.default,{name:"QuestionMarkCircleOutline",size:20,color:"icon-subdued"})]})})]})}),[t,u,D]);return Object(A.jsx)(l.default,{header:t.formatMessage({id:"form__included_networks"}),footer:R,height:"560px",children:Object(A.jsx)(Z.default,{data:d,renderItem:E,keyExtractor:function(e){return e.networkId},paddingX:"2",ListEmptyComponent:Object(A.jsx)(ae.AllNetworksEmpty,{})})})}},{name:M.ManageNetworkModalRoutes.AllNetworksSupportedNetworks,component:function(){var e=Object(S.default)(),t=Object(P.useManageNetworks)().allNetworks;return Object(A.jsx)(l.default,{header:e.formatMessage({id:"content__info"}),height:"560px",footer:null,scrollViewProps:{children:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.default,{mb:"2",textAlign:"center",fontWeight:600,fontSize:"56px",children:"\ud83c\udf10"}),Object(A.jsx)(p.default.DisplayLarge,{mb:"2",textAlign:"center",children:e.formatMessage({id:"title__str_supported_networks"},{0:t.filter((function(e){return!e.isTestnet})).length})}),Object(A.jsx)(p.default.Body1,{children:e.formatMessage({id:"title__str_supported_networks_desc"})}),be()(t.filter((function(e){return!e.settings.validationRequired})),3).map((function(e,t){return Object(A.jsx)(X.default,{justifyContent:"space-between",children:e.map((function(e){return Object(A.jsxs)(d.default,{w:"108px",h:"80px",alignItems:"center",justifyContent:"center",bg:"surface-subdued",borderWidth:"1",borderColor:"border-default",borderRadius:"12px",mt:"16px",children:[Object(A.jsx)(H.default,{size:8,token:{logoURI:e.logoURI}}),Object(A.jsx)(p.default.Caption,{children:e.shortName})]},e.id)}))},String(t))}))]})}})}}];t.default=function(){var e=Object(a.default)();return Object(A.jsx)(bt.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(dt.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:mt.map((function(e){return Object(A.jsx)(bt.Screen,{name:e.name,component:e.component},e.name)}))})}},1666:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(50),i=n(1158),c=n(57),s=n(51),l=n(76),u=n(48),d=n(2),f=n.n(d),p=n(1),b=n(44),m=n(88),h=n(17),j=n(214),O=n(25),g=n(86),v=n(274),y=n(0),x=function(e){var t=e.privatekey,n=e.name,r=e.template,o=e.networkId,a=e.password,i=e.withEnableAuthentication,c=e.onSuccess,d=e.onFailure,b=Object(m.default)();return Object(p.useEffect)((function(){function e(){return(e=f()((function*(){try{var e=yield h.default.serviceAccount.addImportedAccount(a,o,t,n,r);i&&(h.default.dispatch(Object(g.setEnableLocalAuthentication)(!0)),yield Object(v.savePassword)(a)),e&&(null==c||c({account:e}))}catch(l){var s=l.key;u.default.show({title:b.formatMessage({id:s})},{type:"error"}),null==d||d()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsx)(s.default,{h:"full",w:"full",children:Object(y.jsx)(l.default,{size:"lg"})})},w=function(){var e,t=Object(b.useRoute)(),n=Object(O.useNavigation)(),r=null!=(e=t.params)?e:{},o=r.privatekey,a=r.name,i=r.networkId,s=r.template,l=r.onSuccess,u=r.onFailure;return Object(p.useEffect)((function(){n.setOptions({gestureEnabled:!1})}),[n]),Object(y.jsx)(c.default,{footer:null,headerShown:!1,children:Object(y.jsx)(j.default,{walletId:null,skipSavePassword:!0,field:j.ValidationFields.Account,children:function(e,t){var n=t.withEnableAuthentication;return Object(y.jsx)(x,{withEnableAuthentication:n,privatekey:o,name:a,template:s,networkId:i,password:e,onSuccess:l,onFailure:u})}})})},_=n(47),k=n(13),I=n.n(k),S=n(126),T=n(180),P=n(1151),C=n(45),M=n(16),A=[T.UserInputCategory.IMPORTED,T.UserInputCategory.WATCHING],E=function(){var e=Object(m.default)(),t=Object(b.useNavigation)(),n=Object(S.default)(),r=n.control,o=n.handleSubmit,a=n.getValues,i=n.watch,s=Object(b.useRoute)().params,l=s.text,d=s.checkResults,j=s.onSuccess,O=s.defaultName,g=Object(C.useGeneral)().activeNetworkId,v=Object(C.useRuntime)().wallets,x=Object(p.useMemo)((function(){return I()(new Set(d.reduce((function(e,t){return e.concat(t.possibleNetworks||[])}),[])))}),[d]),w=i("networkId",g&&x.includes(g)?g:x[0]),k=Object(p.useMemo)((function(){return d.filter((function(e){var t=e.possibleNetworks;return(void 0===t?[]:t).includes(w)})).map((function(e){return e.category}))}),[w,d]),E=Object(p.useMemo)((function(){var t,n=null==(t=d.find((function(e){var t;return null==(t=e.possibleNetworks)?void 0:t.includes(w)})))?void 0:t.derivationOptions;if(!n||!n.length)return[];var r=[];for(var o of n){var a="";if("string"===typeof o.label)a=o.label;else if("object"===typeof o.label){var i;a=e.formatMessage({id:null==(i=o.label)?void 0:i.id})}var c=void 0;if("string"===typeof o.desc)c=o.desc;else if("object"===typeof o.desc){var s,l;c=e.formatMessage({id:null==(s=o.desc)?void 0:s.id},null==(l=o.desc)?void 0:l.placeholder)}r.push({label:a,value:o.template,description:c})}return r}),[w,d,e]),D=Object(p.useMemo)((function(){return E.length?E[0].value:""}),[E]),R=Object(p.useMemo)((function(){var e=Object.fromEntries(v.filter((function(e){return["imported","watching"].includes(e.type)})).map((function(e){return[e.type,e.nextAccountIds.global||""]})));return[e.imported?"Account #"+e.imported:"",e.watching?"Account #"+e.watching:""]}),[v]),N=Object(p.useMemo)((function(){var e;return null!=(e=a("importAs"))?e:A.indexOf(k[0])}),[a,k]),L=Object(p.useCallback)((function(){var e=t.getParent()||t;e.canGoBack()&&e.goBack()}),[t]),B=Object(p.useCallback)(function(){var n=f()((function*(n){var r,o=null!=(r=n.importAs)?r:A.indexOf(k[0]),a=A[o],i=n.name||O||R[o],c=n.template||D||void 0;if(a===T.UserInputCategory.IMPORTED)t.navigate(M.CreateWalletModalRoutes.AddImportedAccountDoneModal,{privatekey:l,networkId:n.networkId,name:i,template:c,onSuccess:j,onFailure:L});else if(a===T.UserInputCategory.WATCHING)try{var s=yield h.default.serviceAccount.addWatchAccount(n.networkId,l,i,c);null==j||j({account:s})}catch(f){var d=f.key;u.default.show({title:e.formatMessage({id:d})}),null==L||L()}}));return function(e){return n.apply(this,arguments)}}(),[O,k,R,t,l,j,L,D,e]);return Object(y.jsx)(c.default,{header:e.formatMessage({id:"action__add_account"}),headerDescription:e.formatMessage({id:0===N?"wallet__imported_accounts":"wallet__watched_accounts"}),primaryActionProps:{type:"primary",onPromise:o(B)},primaryActionTranslationId:"action__import",hideSecondaryAction:!0,children:Object(y.jsxs)(_.default,{children:[1===x.length?void 0:Object(y.jsx)(P.default,{selectableNetworks:x,control:r,name:"networkId",hideHelpText:!0}),1===k.length?void 0:Object(y.jsx)(_.default.Item,{name:"importAs",label:e.formatMessage({id:"form__import_as"}),control:r,children:Object(y.jsx)(_.default.SegmentedControl,{values:[e.formatMessage({id:"wallet__imported_accounts"}),e.formatMessage({id:"wallet__watched_accounts"})]})}),E.length<=1?void 0:Object(y.jsx)(_.default.Item,{name:"template",label:e.formatMessage({id:"form__address_type_label"}),control:r,children:Object(y.jsx)(_.default.Select,{headerShown:!1,footer:null,defaultValue:D,options:E})})]})})},D=n(2439),R=n(1635),N=function(){var e,t=Object(b.useNavigation)(),n=null!=(e=Object(b.useRoute)().params)?e:{},r=n.password,o=n.withEnableAuthentication,a=Object(p.useCallback)(f()((function*(){var e=yield h.default.engine.generateMnemonic();t.navigate(M.CreateWalletModalRoutes.MnemonicModal,{password:r,withEnableAuthentication:o,mnemonic:e})})),[t,r,o]);return Object(y.jsx)(R.Attentions,{onPress:a})},L=n(226),B=function(e){var t=e.password,n=e.mnemonic,r=e.withEnableAuthentication,o=e.onSuccess,a=Object(m.default)(),i=Object(O.useNavigationActions)(),c=i.closeWalletSelector,d=i.openRootHome;return Object(p.useEffect)((function(){function e(){return(e=f()((function*(){try{var e=yield h.default.serviceAccount.createHDWallet({password:t,mnemonic:n});r&&(h.default.dispatch(Object(g.setEnableLocalAuthentication)(!0)),yield Object(v.savePassword)(t)),e&&(null==o||o({wallet:e}))}catch(s){var i=s.key;u.default.show({title:a.formatMessage({id:i})})}c(),d(),Object(L.closeExtensionWindowIfOnboardingFinished)()}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsx)(s.default,{h:"full",w:"full",children:Object(y.jsx)(l.default,{size:"lg"})})},F=function(){var e,t=Object(b.useRoute)(),n=Object(O.useNavigation)(),r=null!=(e=t.params)?e:{},o=r.mnemonic,a=r.onSuccess;return Object(p.useEffect)((function(){n.setOptions({gestureEnabled:!1})}),[n]),Object(y.jsx)(c.default,{footer:null,headerShown:!1,children:Object(y.jsx)(j.default,{skipSavePassword:!0,walletId:null,field:j.ValidationFields.Wallet,children:function(e,t){var n=t.withEnableAuthentication;return Object(y.jsx)(B,{password:e,mnemonic:o,withEnableAuthentication:n,onSuccess:a})}})})},U=n(2403),H=function(e){var t=e.password,n=e.withEnableAuthentication,r=Object(b.useNavigation)();return Object(p.useEffect)((function(){r.replace(M.CreateWalletModalRoutes.AttentionsModal,{password:t,withEnableAuthentication:n})}),[]),Object(y.jsx)(s.default,{h:"full",w:"full",children:Object(y.jsx)(l.default,{size:"lg"})})},W=function(){return Object(y.jsx)(c.default,{footer:null,children:Object(y.jsx)(j.default,{walletId:null,skipSavePassword:!0,field:j.ValidationFields.Wallet,children:function(e,t){var n=t.withEnableAuthentication;return Object(y.jsx)(H,{password:e,withEnableAuthentication:n})}})})},V=n(2404),z=n(27),G=n(789),K=n(90),q=n(261),Z=n(80),X=n(46),Y=n(99),Q=n(334),$=function(){var e=Object(m.default)(),t=Object(b.useNavigation)(),n=Object(b.useRoute)().params,r=n.device,o=n.entry,a=h.default.serviceHardware,i=Object(p.useRef)(null),d=Object(p.useCallback)((function(){null!=t&&null!=t.canGoBack&&t.canGoBack()&&t.goBack()}),[t]);Object(p.useEffect)((function(){var t=setTimeout((function(){d(),u.default.show({title:e.formatMessage({id:"action__connection_timeout"})})}),6e4);return i.current=t,function(){i.current&&clearTimeout(i.current)}}),[d,e]),Object(p.useEffect)((function(){function e(){return(e=f()((function*(){var e=null;try{var n;e=yield Promise.race([a.getFeatures(null!=(n=r.connectId)?n:""),new Promise((function(e,t){return setTimeout(t,3e4)}))])}catch(c){return d(),(c||{}).code===K.CustomOneKeyHardwareError.NeedOneKeyBridge?void Object(Y.showDialog)(Object(y.jsx)(G.default,{})):void Z.deviceUtils.showErrorToast(c,"action__connection_timeout")}if(i.current&&clearTimeout(i.current),e.initialized)try{h.default.dispatch(Object(q.setOnBoardingLoadingBehindModal)(!0)),yield Object(X.wait)(600),t.replace(M.RootRoutes.Onboarding,{screen:Q.EOnboardingRoutes.BehindTheScene,params:{password:"",mnemonic:"",isHardwareCreating:{device:r,features:e},entry:o}})}finally{yield Object(X.wait)(600),h.default.dispatch(Object(q.setOnBoardingLoadingBehindModal)(!1))}else t.navigate(M.RootRoutes.Modal,{screen:M.ModalRoutes.CreateWallet,params:{screen:M.CreateWalletModalRoutes.SetupHardwareModal,params:{device:r}}})}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=Object(y.jsxs)(s.default,{h:"152px",children:[Object(y.jsx)(l.default,{size:"lg"}),Object(y.jsx)(z.default.DisplayMedium,{mt:6,children:e.formatMessage({id:"modal__device_status_check"})})]});return Object(y.jsx)(c.default,{footer:null,staticChildrenProps:{justifyContent:"center",flex:"1",p:6,px:{base:4,md:6}},onModalClose:function(){Object(L.closeExtensionWindowIfOnboardingFinished)()},children:j})},J=n(183),ee=n(63),te=n(106),ne=n(2589),re=n.n(ne),oe=n(302),ae=function(){var e=Object(m.default)(),t=Object(O.useHelpLink)({path:""}),n=Object(b.useNavigation)(),r=Object(b.useRoute)(),o=((null==r?void 0:r.params)||{}).device,a=Object(y.jsx)(s.default,{children:Object(y.jsxs)(ee.default,{space:8,children:[Object(y.jsx)(s.default,{h:"160px",bgColor:"surface-neutral-subdued",borderRadius:"24px",children:Object(y.jsx)(te.default,{source:re.a,w:"116.66px",h:"103.89px"})}),Object(y.jsxs)(ee.default,{space:2,children:[Object(y.jsx)(z.default.DisplayMedium,{textAlign:"center",children:e.formatMessage({id:"modal__check_the_box_contents"})}),Object(y.jsx)(z.default.Body2,{textAlign:"center",color:"text-subdued",children:e.formatMessage({id:"modal__check_the_box_contents_desc"})})]}),Object(y.jsx)(J.default,{alertType:"error",title:e.formatMessage({id:"alert_only_use_a_recovery_seed_from_device"}),dismiss:!1})]})});return Object(y.jsx)(c.default,{primaryActionTranslationId:"action__continue",secondaryActionTranslationId:"action__contact_us",onSecondaryActionPress:function(){Object(oe.openUrl)(t)},onPrimaryActionPress:function(){n.navigate(M.RootRoutes.Modal,{screen:M.ModalRoutes.CreateWallet,params:{screen:M.CreateWalletModalRoutes.SetupNewDeviceModal,params:{device:o,type:"Restore"}}})},scrollViewProps:{children:a}})},ie=n(12),ce=n(1295),se=n.n(ce),le=function(){var e=Object(m.default)(),t=Object(b.useNavigation)(),n=Object(b.useRoute)(),r=((null==n?void 0:n.params)||{}).device,o=[{title:e.formatMessage({id:"content__enter_your_recovery_seed"}),description:e.formatMessage({id:"content__enter_your_recovery_seed_desc"})},{title:e.formatMessage({id:"content__set_a_pin_code"}),description:e.formatMessage({id:"content__set_a_pin_code_desc"})},{title:e.formatMessage({id:"content__follow_instructions"}),description:e.formatMessage({id:"content__follow_instructions_desc"})}],a=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ie.default,{bgColor:"surface-neutral-subdued",w:"full",h:"160px",borderRadius:"12px",mb:8,children:Object(y.jsx)(te.default,{source:se.a,w:"full",h:"full",resizeMode:"cover"})}),Object(y.jsxs)(ie.default,{children:[Object(y.jsx)(z.default.DisplayMedium,{mb:2,children:e.formatMessage({id:"content__select_restore_wallet"})}),Object(y.jsx)(z.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__select_restore_wallet_desc"})})]}),o.map((function(e,t){return Object(y.jsxs)(ie.default,{flexDirection:"row",mt:4,children:[Object(y.jsx)(s.default,{rounded:"full",bg:"decorative-surface-one",size:8,mr:4,children:Object(y.jsx)(z.default.Body2Strong,{color:"decorative-icon-one",children:t+1})}),Object(y.jsxs)(ie.default,{flex:1,pt:1,children:[Object(y.jsx)(z.default.Body1Strong,{children:e.title}),Object(y.jsx)(z.default.Body2,{color:"text-subdued",mt:1.5,children:e.description})]})]},t)}))]});return Object(y.jsx)(c.default,{header:"Restore Wallet",height:"640px",primaryActionTranslationId:"action__ok_im_done",secondaryActionTranslationId:"action__learn_more",onPrimaryActionPress:function(){t.navigate(M.RootRoutes.Modal,{screen:M.ModalRoutes.CreateWallet,params:{screen:M.CreateWalletModalRoutes.DeviceStatusCheckModal,params:{device:r}}})},scrollViewProps:{children:a}})},ue=n(41),de=n(40),fe=n(775),pe=function(){var e,t=Object(m.default)(),n=Object(b.useNavigation)(),r=Object(b.useRoute)(),o=((null==r?void 0:r.params)||{}).device,a=Object(y.jsxs)(ee.default,{space:4,w:"full",children:[Object(y.jsxs)(fe.default,{borderRadius:"12px",px:4,onPress:function(){n.navigate(M.RootRoutes.Modal,{screen:M.ModalRoutes.CreateWallet,params:{screen:M.CreateWalletModalRoutes.SetupNewDeviceModal,params:{device:o,type:"SetupNew"}}})},children:[Object(y.jsxs)(ue.default,{justifyContent:"space-between",alignItems:"center",children:[Object(y.jsx)(s.default,{size:12,borderRadius:"12px",bg:"surface-neutral-default",children:Object(y.jsx)(de.default,{name:"PlusCircleOutline"})}),Object(y.jsx)(de.default,{name:"ChevronRightOutline",size:24})]}),Object(y.jsxs)(ee.default,{space:1,mt:3,children:[Object(y.jsx)(z.default.Body1Strong,{children:t.formatMessage({id:"modal__setup_new_device"})}),Object(y.jsx)(z.default.Body2,{color:"text-subdued",children:t.formatMessage({id:"modal__setup_new_device_desc"})})]})]}),Object(y.jsxs)(fe.default,{borderRadius:"12px",px:4,onPress:function(){n.navigate(M.RootRoutes.Modal,{screen:M.ModalRoutes.CreateWallet,params:{screen:M.CreateWalletModalRoutes.RestoreHardwareWalletModal,params:{device:o}}})},children:[Object(y.jsxs)(ue.default,{justifyContent:"space-between",alignItems:"center",children:[Object(y.jsx)(s.default,{size:12,borderRadius:"12px",bg:"surface-neutral-default",children:Object(y.jsx)(de.default,{name:"RestoreOutline"})}),Object(y.jsx)(de.default,{name:"ChevronRightOutline",size:24})]}),Object(y.jsxs)(ee.default,{space:1,mt:3,children:[Object(y.jsx)(z.default.Body1Strong,{children:t.formatMessage({id:"modal__restore_wallet"})}),Object(y.jsx)(z.default.Body2,{color:"text-subdued",children:t.formatMessage({id:"modal__restore_wallet_desc"})})]})]})]});return Object(y.jsx)(c.default,{header:null!=(e=o.name)?e:"",headerDescription:t.formatMessage({id:"content__not_actived"}),footer:null,scrollViewProps:{children:a}})},be=n(2590),me=n.n(be),he=n(2591),je=n.n(he),Oe=n(2592),ge=n.n(Oe),ve=n(2593),ye=n.n(ve),xe=n(2594),we=n.n(xe),_e=function(e){switch(e){case"classic":return ge.a;case"mini":return ye.a;case"touch":return we.a;default:return}},ke=function(e){switch(e){case"classic":return se.a;case"mini":return me.a;case"touch":return je.a;default:return}},Ie=function(){var e=Object(m.default)(),t=Object(b.useNavigation)(),n=Object(b.useRoute)(),r=(null==n?void 0:n.params)||{},o=r.device,a=r.type,i=Object(O.useHelpLink)({path:"articles/4408289773455"}),l=Object(O.useHelpLink)({path:"articles/360004487195"}),u=Object(p.useMemo)((function(){if(!o)return null;switch(o.deviceType){case"classic":return l;case"mini":return i;default:return null}}),[l,o,i]),d=Object(p.useMemo)((function(){var t=[{title:e.formatMessage({id:"content__set_a_pin_code"}),description:e.formatMessage({id:"content__set_a_pin_code_desc"})},{title:e.formatMessage({id:"content__follow_instructions"}),description:e.formatMessage({id:"content__follow_instructions_desc"})}];return"SetupNew"===a?t.unshift({title:e.formatMessage({id:"content__write_down_all_recovery_seed"}),description:e.formatMessage({id:"content__write_down_all_recovery_seed_desc"})}):t.unshift({title:e.formatMessage({id:"content__enter_your_recovery_seed"}),description:e.formatMessage({id:"content__enter_your_recovery_seed_desc"})}),"touch"!==o.deviceType&&"pro"!==o.deviceType||t.splice.apply(t,[1,1].concat(I()(t.splice(0,1,t[1])))),t}),[o.deviceType,e,a]),f=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ie.default,{bgColor:"surface-neutral-subdued",w:"full",h:"160px",borderRadius:"12px",mb:8,children:Object(y.jsx)(te.default,{source:"SetupNew"===a?_e(o.deviceType):ke(o.deviceType),w:"full",h:"full",resizeMode:"cover"})}),Object(y.jsxs)(ie.default,{children:[Object(y.jsx)(z.default.DisplayMedium,{mb:2,children:"SetupNew"===a?e.formatMessage({id:"content__select_create_new_wallet"}):e.formatMessage({id:"content__select_restore_wallet"})}),Object(y.jsx)(z.default.Body2,{color:"text-subdued",children:"SetupNew"===a?e.formatMessage({id:"content__select_create_new_wallet_desc"}):e.formatMessage({id:"content__select_restore_wallet_desc"})})]}),d.map((function(e,t){return Object(y.jsxs)(ie.default,{flexDirection:"row",mt:4,children:[Object(y.jsx)(s.default,{rounded:"full",bg:"decorative-surface-one",size:8,mr:4,children:Object(y.jsx)(z.default.Body2Strong,{color:"decorative-icon-one",children:t+1})}),Object(y.jsxs)(ie.default,{flex:1,pt:1,children:[Object(y.jsx)(z.default.Body1Strong,{children:e.title}),Object(y.jsx)(z.default.Body2,{color:"text-subdued",mt:1.5,children:e.description})]})]},t)}))]});return Object(y.jsx)(c.default,{header:"SetupNew"===a?e.formatMessage({id:"modal__setup_new_device"}):e.formatMessage({id:"modal__restore_wallet"}),height:"640px",primaryActionTranslationId:"action__ok_im_done",hideSecondaryAction:!u,secondaryActionTranslationId:"action__learn_more",onPrimaryActionPress:function(){t.popToTop()},onSecondaryActionPress:function(){u&&Object(oe.openUrl)(u)},scrollViewProps:{children:f}})},Se=n(204),Te=function(){var e,t=Object(m.default)(),n=Object(b.useRoute)(),r=(Object(O.useNavigationActions)().openRootHome,Object(Se.default)()),o=Object(L.useOnboardingDone)(),a=(null==n?void 0:n.params)||{},i=a.device,l=a.onPressOnboardingFinished,u=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(s.default,{flex:1,children:[Object(y.jsx)(s.default,{bg:"surface-success-default",borderRadius:"full",size:"56px",children:Object(y.jsx)(de.default,{name:"CheckOutline",color:"icon-success"})}),Object(y.jsx)(z.default.DisplayMedium,{mt:6,children:t.formatMessage({id:"modal__setup_complete"})}),Object(y.jsx)(z.default.Body1,{color:"text-subdued",textAlign:"center",mt:2,children:t.formatMessage({id:"modal__setup_complete_desc"})})]}),Object(y.jsx)(s.default,{})]}),d=Object(p.useCallback)(f()((function*(){r(),l?(yield Object(X.wait)(2e3),null==l||l()):o({delay:600})})),[r,l,o]);return Object(y.jsx)(c.default,{header:null!=(e=i.name)?e:"",headerDescription:t.formatMessage({id:"content__activated"}),secondaryActionTranslationId:"action__close",secondaryActionProps:{onPress:d},staticChildrenProps:{flex:"1",p:6,px:{base:4,md:6}},hidePrimaryAction:!0,onModalClose:function(){Object(L.closeExtensionWindowIfOnboardingFinished)()},children:u})},Pe=n(4),Ce=n.n(Pe),Me=n(28),Ae=n(220),Ee=n(19),De=n(305),Re=n(721),Ne=n(722),Le=function(){var e=Object(m.default)(),t=Object(b.useNavigation)(),n=h.default.dispatch,r=Object(b.useRoute)().params,o=r.walletId,a=r.pinCode,i=r.backupData,c=r.onSuccess,s=Object(p.useState)(""),l=Ce()(s,2),d=l[0],j=l[1],O=Object(p.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),g=Ce()(O,1)[0],v=Object(p.useState)("primary"),x=Ce()(v,2),w=x[0],_=x[1],k=Object(p.useState)(e.formatMessage({id:"action__connect"})),I=Ce()(k,2),S=I[0],T=I[1],P=Object(p.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),C=Ce()(P,2),A=C[0],E=C[1],D=Object(p.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),R=Ce()(D,2),N=R[0],L=R[1],B=Object(p.useState)("guide"),F=Ce()(B,2),U=F[0],H=F[1],W=Object(p.useState)(0),V=Ce()(W,2),z=V[0],G=V[1],K=function(){(t.getParent()||t).goBack()},Z=function(){_("basic"),T(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__searching"})),L(e.formatMessage({id:"title__searching_desc"})),H("connect")},X=function(){_("primary"),T(e.formatMessage({id:"action__i_got_it"})),E(e.formatMessage({id:"title__backup_completed"})),L(e.formatMessage({id:"title__backup_completed_desc"})),H("complete")},Y=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(""===i.trim())return u.default.show({title:e.formatMessage({id:"msg__unknown_error"})}),void t.goBack();Z(),Ae.default.cancel(),Ae.default.setMnemonic(i,a,function(){var e=f()((function*(e,t,r){if(t){if(Ee.default.onekeyLite.debug("NFC read success:",t,r),X(),o){var a=yield h.default.engine.confirmHDWalletBackuped(o);if(!a||!1===(null==a?void 0:a.backuped))return;n(Object(q.updateWallet)(a))}null==c||c()}else if(e){var i,s;Ee.default.onekeyLite.debug("NFC read error code",e.code,e.message,r),j(null!=(i=null==r||null==(s=r.pinRetryCount)?void 0:s.toString())?i:"0"),G(e.code)}}));return function(t,n,r){return e.apply(this,arguments)}}(),r)},Q=function(t){switch(Ee.default.onekeyLite.debug("Onekey Lite Reset handler NfcConnectState",t),t.code){case 1:break;case 2:_("basic"),T(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__transferring_data"})),L(e.formatMessage({id:"title__transferring_data_desc"})),H("transfer")}};return Object(p.useEffect)((function(){return Ae.default.addConnectListener(Q),"ios"!==Me.default.OS&&Y(),function(){Ae.default.removeConnectListeners()}}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(De.SkipAppLock,{}),Object(y.jsx)(Re.default,{title:g,connectType:"ble",actionState:A,actionDescription:N,operateType:U,onCloseConnect:function(){},onActionPress:function(){switch(U){case"guide":Y();break;case"connect":case"transfer":if("ios"===Me.default.OS)return;Ae.default.cancel(),K();break;default:K()}},actionPressStyle:w,actionPressContent:S}),Object(y.jsx)(Ne.default,{code:z,pinRetryCount:d,onRetry:function(){return t.replace(M.CreateWalletModalRoutes.OnekeyLiteBackupPinCodeVerifyModal,{walletId:o,backupData:i,onSuccess:c})},onRetryConnect:function(){Y(!0)},onExit:function(){K()},onIntoNfcSetting:function(){Ae.default.intoSetting(),K()},onDialogClose:function(){return G(0)}})]})},Be=n(595),Fe=function(){var e=Object(m.default)(),t=Object(b.useNavigation)(),n=Object(b.useRoute)().params,r=n.walletId,o=n.backupData,a=n.onSuccess;return Object(y.jsx)(Be.default,{title:e.formatMessage({id:"title__onekey_lite_pin"}),description:e.formatMessage({id:"content__enter_onekey_lite_pin_to_continue"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return t.replace(M.CreateWalletModalRoutes.OnekeyLiteBackupModal,{walletId:r,pinCode:e,backupData:o,onSuccess:a}),Promise.resolve(!0)}})},Ue=function(){var e=Object(m.default)(),t=Object(b.useNavigation)();return Object(y.jsx)(Be.default,{title:e.formatMessage({id:"title__onekey_lite_pin"}),description:e.formatMessage({id:"content__enter_onekey_lite_pin_to_continue"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return t.replace(M.CreateWalletModalRoutes.OnekeyLiteRestoreModal,{pinCode:e}),Promise.resolve(!0)}})},He=n(296),We=function(){var e=Object(m.default)(),t=Object(O.useNavigationActions)().openRootHome,n=Object(b.useNavigation)(),r=Object(b.useRoute)().params.pinCode,o=Object(p.useState)(""),a=Ce()(o,2),i=a[0],c=a[1],s=Object(p.useState)(),l=Ce()(s,2),u=l[0],d=l[1],f=Object(p.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),h=Ce()(f,1)[0],j=Object(p.useState)("primary"),g=Ce()(j,2),v=g[0],x=g[1],w=Object(p.useState)(e.formatMessage({id:"action__connect"})),_=Ce()(w,2),k=_[0],I=_[1],S=Object(p.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),T=Ce()(S,2),P=T[0],C=T[1],A=Object(p.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),E=Ce()(A,2),D=E[0],R=E[1],N=Object(p.useState)("guide"),L=Ce()(N,2),B=L[0],F=L[1],U=Object(p.useState)(0),H=Ce()(U,2),W=H[0],V=H[1],z=function(){(n.getParent()||n).goBack()},G=function(){I(e.formatMessage({id:"action__go_to_view"})),C(e.formatMessage({id:"title__recovery_completed"})),R(e.formatMessage({id:"title__recovery_completed_desc"})),F("done")},K=function(){x("basic"),I(e.formatMessage({id:"action__cancel"})),C(e.formatMessage({id:"title__searching"})),R(e.formatMessage({id:"title__searching_desc"})),F("connect"),Ae.default.cancel(),Ae.default.getMnemonicWithPin(r,(function(t,r,o){if(r)Ee.default.onekeyLite.debug("NFC read success, card state:",o),d(r),x("primary"),I(e.formatMessage({id:"action__continue"})),C(e.formatMessage({id:"title__nfc_data_has_been_read"})),R(e.formatMessage({id:"title__nfc_data_has_been_read_desc"})),F("complete"),n.navigate(M.CreateWalletModalRoutes.OnekeyLiteRestoreDoneModal,{mnemonic:r,onSuccess:function(){G()}});else if(t){var a,i;Ee.default.onekeyLite.debug("NFC read error",t),c(null!=(a=null==o||null==(i=o.pinRetryCount)?void 0:i.toString())?a:"0"),V(t.code)}else Ee.default.onekeyLite.debug("NFC read unknown error, card state:",o),V(He.CardErrors.ExecFailure)}))},q=function(t){switch(Ee.default.onekeyLite.debug("handlerNfcConnectState",t),t.code){case 1:break;case 2:x("basic"),I(e.formatMessage({id:"action__cancel"})),C(e.formatMessage({id:"title__transferring_data"})),R(e.formatMessage({id:"title__transferring_data_desc"})),F("transfer")}};return Object(p.useEffect)((function(){return Ae.default.addConnectListener(q),"ios"!==Me.default.OS&&K(),function(){Ae.default.removeConnectListeners()}}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(De.SkipAppLock,{}),Object(y.jsx)(Re.default,{title:h,connectType:"ble",actionState:P,actionDescription:D,operateType:B,onCloseConnect:function(){Ee.default.onekeyLite.debug("handleCloseConnect")},onActionPress:function(){switch(B){case"guide":K();break;case"connect":case"transfer":if("ios"===Me.default.OS)return;Ae.default.cancel(),z();break;case"complete":if(!u)return;n.navigate(M.CreateWalletModalRoutes.OnekeyLiteRestoreDoneModal,{mnemonic:u,onSuccess:function(){G()}});break;case"done":t(),setTimeout((function(){}),600);break;default:z()}},actionPressStyle:v,actionPressContent:k}),Object(y.jsx)(Ne.default,{code:W,pinRetryCount:i,onRetryConnect:function(){return K()},onRetry:function(){return n.replace(M.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal)},onExit:function(){z()},onDialogClose:function(){return V(0)},onIntoNfcSetting:function(){Ae.default.intoSetting(),z()}})]})},Ve=n(1057),ze=function(e){var t=e.password,n=e.mnemonic,r=e.withEnableAuthentication,o=e.onSuccess,a=h.default.serviceAccount,i=h.default.dispatch,c=Object(m.default)();return Object(p.useEffect)((function(){t&&f()((function*(){try{yield a.createHDWallet({password:t,mnemonic:n}),r&&(i(Object(g.setEnableLocalAuthentication)(!0)),yield Object(v.savePassword)(t)),null==o||o()}catch(s){var e=s.key;u.default.show({title:c.formatMessage({id:e})})}}))()}),[]),Object(y.jsx)(Ve.default,{w:"full",h:"full",children:Object(y.jsx)(l.default,{size:"lg"})})},Ge=function(){var e=Object(b.useRoute)().params,t=e.onSuccess,n=e.mnemonic,r=Object(b.useNavigation)();return Object(y.jsx)(c.default,{footer:null,children:Object(y.jsx)(j.default,{walletId:null,skipSavePassword:!0,field:j.ValidationFields.Wallet,children:function(e,o){var a=o.withEnableAuthentication;return Object(y.jsx)(ze,{password:e,mnemonic:n,withEnableAuthentication:a,onSuccess:function(){null!=r&&null!=r.canGoBack&&r.canGoBack()&&r.goBack(),null==t||t()}})}})})},Ke=n(475),qe=n(234);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xe=Object(qe.default)(),Ye=[{name:M.CreateWalletModalRoutes.ConnectHardwareModal,component:V.default},{name:M.CreateWalletModalRoutes.SetupSuccessModal,component:Te},{name:M.CreateWalletModalRoutes.SetupHardwareModal,component:pe},{name:M.CreateWalletModalRoutes.SetupNewDeviceModal,component:Ie},{name:M.CreateWalletModalRoutes.DeviceStatusCheckModal,component:$},{name:M.CreateWalletModalRoutes.RestoreHardwareWalletModal,component:ae},{name:M.CreateWalletModalRoutes.RestoreHardwareWalletDescriptionModal,component:le},{name:M.CreateWalletModalRoutes.AppWalletDoneModal,component:F},{name:M.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal,component:Ue},{name:M.CreateWalletModalRoutes.OnekeyLiteRestoreModal,component:We},{name:M.CreateWalletModalRoutes.OnekeyLiteRestoreDoneModal,component:Ge},{name:M.CreateWalletModalRoutes.OnekeyLiteBackupPinCodeVerifyModal,component:Fe},{name:M.CreateWalletModalRoutes.OnekeyLiteBackupModal,component:Le},{name:M.CreateWalletModalRoutes.AddExistingWalletModal,component:D.default},{name:M.CreateWalletModalRoutes.WalletConnectQrcodeModal,component:i.WalletConnectQrcodeModal},{name:M.CreateWalletModalRoutes.AddImportedOrWatchingAccountModal,component:E},{name:M.CreateWalletModalRoutes.AddImportedAccountDoneModal,component:w},{name:M.CreateWalletModalRoutes.AttentionsModal,component:N},{name:M.CreateWalletModalRoutes.MnemonicModal,component:U.MnemonicContainer},{name:M.CreateWalletModalRoutes.NewWalletModal,component:W}];t.default=function(){var e=Object(a.default)();return Object(y.jsx)(Xe.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(Ke.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:Ye.map((function(e){return Object(y.jsx)(Xe.Screen,{name:e.name,component:e.component},e.name)}))})}},1667:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(50),i=n(57),c=n(183),s=n(12),l=n(20),u=n(27),d=n(47),f=n(2),p=n.n(f),b=n(4),m=n.n(b),h=n(126),j=n(1),O=n(44),g=n(88),v=n(341),y=n(317),x=n(17),w=n(1151),_=n(25),k=n(45),I=n(16),S=n(302),T=n(80),P=n(0),C=function(e){var t,n=e.onClose,r=Object(g.default)(),o=x.default.dispatch,f=x.default.serviceAccount,b=x.default.serviceAccountSelector,C=Object(h.default)({defaultValues:{name:"",addressType:"default"}}),M=C.control,A=C.handleSubmit,E=C.getValues,D=C.setValue,R=C.watch,N=Object(k.useGeneral)().activeNetworkId,L=Object(j.useState)(void 0),B=m()(L,2),F=B[0],U=B[1],H=Object(O.useNavigation)(),W=Object(O.useRoute)(),V=Object(k.useRuntime)(),z=V.wallets,G=V.networks,K=Object(a.default)(),q=W.params,Z=q.walletId,X=q.selectedNetworkId,Y=Object(j.useMemo)((function(){return z.find((function(e){return e.id===Z}))}),[Z,z]),Q=R("addressType"),$=Object(j.useMemo)((function(){return G.filter((function(e){return"hw"===(null==Y?void 0:Y.type)?e.settings.hardwareAccountEnabled:"imported"===(null==Y?void 0:Y.type)?e.settings.importedAccountEnabled:"watching"!==(null==Y?void 0:Y.type)||e.settings.watchingAccountEnabled})).map((function(e){return e.id}))}),[G,Y]),J=R("network",[X,N].filter((function(e){return $.includes(e||"")}))[0]||$[0]);Object(j.useEffect)((function(){D("network",J)}),[]);var ee=Object(j.useMemo)((function(){return null==G?void 0:G.find((function(e){return e.id===($.includes(J)?J:$[0])}))}),[G,$,J]),te=Object(j.useMemo)((function(){return ee&&Q?ee.accountNameInfo[Q].template||ee.accountNameInfo.default.template:""}),[ee,Q]),ne=Object(j.useState)(44),re=m()(ne,2),oe=re[0],ae=re[1],ie=Object(j.useState)(""),ce=m()(ie,2),se=ce[0],le=ce[1],ue=Object(j.useMemo)((function(){var e=[];if(ee)for(var t of Object.entries(ee.accountNameInfo)){var n=m()(t,2),o=n[0],a=n[1],i="";if("string"===typeof a.label)i=a.label;else if("object"===typeof a.label){var c;i=r.formatMessage({id:null==(c=a.label)?void 0:c.id})}e.push({label:i,value:o,description:a.addressPrefix?r.formatMessage({id:"content__start_with_str"},{0:a.addressPrefix}):void 0})}return e.length>1?e:[]}),[ee,r]);Object(j.useEffect)((function(){function e(){return(e=p()((function*(){if(ee){var e=ee.accountNameInfo[Q]||ee.accountNameInfo.default,t=e.prefix,n=e.category;if("undefined"!==typeof t){var o=Object(y.getNextAccountId)(null==Y?void 0:Y.nextAccountIds,te);D("name",t+" #"+(o+1));var a=parseInt(n.split("'/")[0]);ae(a);try{U(!0),yield x.default.validator.validateCanCreateNextAccount(Z,ee.id,te),le("")}catch(s){var i=s.key,c=s.info;le(r.formatMessage({id:i},c))}finally{U(void 0)}return}}le(r.formatMessage({id:"msg__unknown_error"}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,Y,Z,ee,Q,D,ae,te]);var de=Object(_.useHelpLink)({path:"articles/360002057776"}),fe=Object(j.useCallback)((function(){var e=r.formatMessage({id:"title__help_center"});Object(S.openUrl)(de,e,{modalMode:!0})}),[de,r]),pe=Object(j.useCallback)((function(e){var t,n=E("network"),r=E("name");b.preloadingCreateAccount({walletId:Z,networkId:n,template:te}),setTimeout((function(){f.addHDAccounts(e,Z,n,void 0,[r],oe,!1,te).then((function(e){t=null==e?void 0:e[0]})).catch((function(e){setTimeout((function(){T.deviceUtils.showErrorToast(e)}),300)})).finally((function(){var e,r;b.preloadingCreateAccountDone({walletId:Z,networkId:n,accountId:null==(e=t)?void 0:e.id,template:te}),null==(r=H.getParent())||null==r.goBack||r.goBack()}))}),10)}),[E,Z,oe,o,r,G,te]),be=A((function(){H.navigate(I.CreateAccountModalRoutes.CreateAccountAuthentication,{walletId:Z,onDone:pe})}));return Object(P.jsx)(i.default,{header:r.formatMessage({id:"action__add_account"}),headerDescription:""+(null!=(t=null==Y?void 0:Y.name)?t:r.formatMessage({id:"wallet__wallet"})),onClose:n,primaryActionProps:{onPromise:be,isDisabled:!!se,isLoading:F},primaryActionTranslationId:"action__create",hideSecondaryAction:!0,scrollViewProps:{children:Object(P.jsxs)(d.default,{w:"full",zIndex:999,h:"full",children:[Object(P.jsx)(w.default,{selectableNetworks:$,control:M,name:"network"}),Object(P.jsx)(d.default.Item,{name:"name",rules:{required:r.formatMessage({id:"form__field_is_required"}),maxLength:{value:24,message:r.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},label:r.formatMessage({id:"form__account_name"}),control:M,children:Object(P.jsx)(d.default.Input,{size:K?"xl":"default"})}),ue.length<=1?void 0:Object(P.jsx)(d.default.Item,{name:"addressType",label:r.formatMessage({id:"form__address_type_label"}),control:M,labelAddon:Object(P.jsx)(v.default,{color:"text-subdued",_hover:{color:"text-default"},onPress:fe,children:Object(P.jsx)(u.default.Body2Strong,{underline:!0,children:r.formatMessage({id:"action__learn_more"})})}),children:Object(P.jsx)(d.default.Select,{headerShown:!1,footer:null,defaultValue:"default",options:ue})}),Object(P.jsxs)(s.default,{alignItems:"center",children:[Object(P.jsx)(l.default,{typography:{sm:"Body1",md:"Body2"},color:"text-subdued",children:r.formatMessage({id:"account__restore_a_previously_used_account"})}),Object(P.jsx)(v.default,{onPress:function(){H.navigate(I.CreateAccountModalRoutes.CreateAccountAuthentication,{walletId:Z,onDone:function(e){var t=E("network");H.replace(I.CreateAccountModalRoutes.RecoverAccountsList,{walletId:Z,network:t,password:e,purpose:oe,template:te})}})},children:Object(P.jsx)(l.default,{typography:{sm:"Body1",md:"Body2"},color:"action-primary-default",children:r.formatMessage({id:"action__recover_accounts"})})})]}),0===se.length?void 0:Object(P.jsx)(c.default,{title:se,dismiss:!1,alertType:"info"})]})}})},M=n(51),A=n(76),E=n(214),D=function(e){var t=e.password,n=e.onDone;return Object(j.useEffect)((function(){n&&n(t)}),[]),Object(P.jsx)(M.default,{h:"full",w:"full",children:Object(P.jsx)(A.default,{size:"lg"})})},R=function(){var e=Object(O.useRoute)(),t=Object(_.useNavigation)(),n=e.params,r=n.onDone,o=n.walletId;return Object(j.useEffect)((function(){t.setOptions({gestureEnabled:!1})}),[]),Object(P.jsx)(i.default,{footer:null,children:Object(P.jsx)(E.default,{walletId:o,field:E.ValidationFields.Account,children:function(e){return Object(P.jsx)(D,{password:e,onDone:function(){r(e)}})}})})},N=n(2437),L=n(262),B=n(201),F=n(121),U=n(41),H=n(54),W=n(82),V=n(89),z=n(215),G=n(108),K=n(182),q=n(593),Z=n(46),X=n(24),Y=n(125),Q=n(594),$=n(807),J=n(48),ee=n(15),te=n.n(ee),ne=n(235),re=n(190),oe=n(369),ae=["item","network"];function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ce=function(e){var t=e.item,n=e.network,r=te()(e,ae),a=Object(g.default)(),i=Object(oe.default)(n).openAddressDetails,c=Object(j.useCallback)((function(){i(t.displayAddress)}),[t,i]),s=Object(j.useCallback)((function(){setTimeout((function(){Object(ne.copyToClipboard)(t.displayAddress),J.default.show({title:a.formatMessage({id:"msg__address_copied"})})}),200)}),[t,a]),l=Object(j.useMemo)((function(){return[{id:"action__copy_address",onPress:s,icon:"Square2StackOutline"},{id:"action__view_in_browser",onPress:c,icon:"GlobeAltOutline"}]}),[s,c]);return Object(P.jsx)(re.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:l},r))},se=n(100),le=n(36),ue=n(1291),de=n(1292);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){var t=e.showPath,n=e.onChange,r=e.password,o=e.walletId,a=e.networkId,i=e.template,c=Object(_.useNavigation)(),s=Object(j.useMemo)((function(){return[le.OnekeyNetwork.btc,le.OnekeyNetwork.tbtc].includes(a)}),[a]),l=Object(de.useCreateBtcCustomAccount)({walletId:o,networkId:a}).onCreateAccountByAddressIndex,u=Object(j.useCallback)((function(){null==n||n(!t)}),[n,t]),d=Object(j.useMemo)((function(){return Object(P.jsx)(z.default,{w:"20px",isChecked:t,isDisabled:!1,onChange:u,pointerEvents:"box-only"})}),[t,u]),f=Object(j.useCallback)((function(){setTimeout((function(){c.navigate(I.RootRoutes.Modal,{screen:I.ModalRoutes.RecoverAccount,params:{screen:I.RecoverAccountModalRoutes.BulkCopyAddresses,params:{walletId:o,networkId:a,password:r,entry:"manageAccount",template:i}}})}))}),[c,o,a,r,i]),p=Object(j.useCallback)((function(){Object(ue.default)({walletId:o,networkId:a,template:i,onConfirm:function(e){var t=e.data;l(pe(pe({password:null!=r?r:""},t),{},{onAddedCustomAddressCallback:function(e){c.navigate(I.RootRoutes.Modal,{screen:I.ModalRoutes.RecoverAccount,params:{screen:I.RecoverAccountModalRoutes.BitcoinUsedAddress,params:{walletId:o,networkId:a,accountId:e,entry:"manageAccount"}}})}}))}})}),[o,a,i,r,l,c]),b=Object(j.useMemo)((function(){return[{id:"title__bulk_copy_addresses",onPress:f,icon:"Square2StackOutline"},s&&{id:"action__find_address_by_path",onPress:p,icon:"MagnifyingGlassMini"},function(){return Object(P.jsx)(se.default,{my:1})},{id:"action__show_path",onPress:u,extraChildren:d}]}),[u,d,f,p,s]);return Object(P.jsx)(re.default,pe(pe({options:b},e),{},{menuWidth:220}))},me=n(553);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(e){var t,n,r=e.item,o=e.state,a=e.onChange,i=e.decimal,c=e.symbol,d=e.network,f=e.showPathAndLink,p=Object(j.useState)(null!=(t=null==o?void 0:o.selected)&&t),b=m()(p,2),h=b[0],O=b[1];Object(j.useEffect)((function(){var e;O(null!=(e=null==o?void 0:o.selected)&&e)}),[null==o?void 0:o.selected]);var g=Object(j.useCallback)((function(){null!=o&&o.isDisabled||(O(!h),null==a||a(!h))}),[h,null==o?void 0:o.isDisabled,a]),v=Object(j.useMemo)((function(){return Object(K.isBtcLikeImpl)(d.impl)?r.path+"/0/0":r.path}),[d,r]);return Object(P.jsxs)(V.default,{onPress:g,flex:1,children:[Object(P.jsx)(V.default.Column,{children:Object(P.jsxs)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",w:"65px",children:[Object(P.jsx)(z.default,{w:"20px",isChecked:h,isDisabled:null!=(n=null==o?void 0:o.isDisabled)&&n,onChange:g,pointerEvents:"box-only"}),Object(P.jsx)(l.default,{ml:"8px",typography:"Body2",color:"text-subdued",wordBreak:"break-all",maxW:X.default.isNativeAndroid?"45px":"auto",children:r.index+1})]})}),Object(P.jsx)(V.default.Column,{style:{userSelect:"none"},text:{label:Object(G.shortenAddress)(r.displayAddress),labelProps:{w:"120px"},description:f?v:void 0,descriptionProps:{typography:"Caption",w:"132px"},size:"sm"}}),Object(P.jsx)(V.default.Column,{children:Object(P.jsx)(s.default,{alignItems:"flex-end",flex:1,children:Object(P.jsx)(Y.FormatBalance,{balance:r.mainBalance,formatOptions:{fixed:null!=i?i:4},suffix:c,render:function(e){return Object(P.jsx)(u.default.Body2,{style:{userSelect:"none"},wordBreak:"break-all",textAlign:"right",children:e})}})})}),Object(P.jsx)(V.default.Column,{children:Object(P.jsx)(ce,{item:r,network:d,children:Object(P.jsx)(W.default,{alignItems:"flex-end",type:"plain",name:"EllipsisVerticalMini",color:"icon-subdued",size:"xs",hitSlop:12,circle:!0})})})]})},ge=function(e){var t=e.isAllSelected,n=e.isAllSelectedDisabled,r=e.onChange,o=Object(g.default)();return Object(P.jsxs)(V.default,{p:0,mb:"16px",children:[Object(P.jsx)(V.default.Column,{children:Object(P.jsx)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",w:"65px",children:Object(P.jsx)(z.default,{w:6,isChecked:n||t,onChange:r,isDisabled:n})})}),Object(P.jsx)(V.default.Column,{text:{label:o.formatMessage({id:"form__address"}),labelProps:{typography:"Subheading",color:"text-subdued"}},flex:1}),Object(P.jsx)(V.default.Column,{alignItems:"flex-end",text:{label:o.formatMessage({id:"form__balance"}),labelProps:{typography:"Subheading",textAlign:"right",color:"text-subdued"}},flex:1}),Object(P.jsx)(V.default.Column,{children:Object(P.jsx)(s.default,{w:"auto"})})]})},ve=function(e){var t=e.minLimit,n=e.count,r=e.currentPage,o=e.prevButtonDisabled,a=e.nextButtonDisabled,i=e.onPagePress,c=e.onBulkAddPress,s=e.onNextPagePress,u=e.onPrevPagePress,d=Object(g.default)(),f=(null!=t?t:0)+(null!=n?n:0)-1,p=Object(j.useMemo)((function(){return r?r+1:1}),[r]);return Object(P.jsxs)(U.default,{flexDirection:"row",justifyContent:"space-between",pt:4,children:[Object(P.jsx)(H.default,{maxW:"200px",type:"basic",leftIconName:"AdjustmentsMini",alignItems:"flex-start",onPress:c,overflow:"hidden",children:t&&n?t+" - "+f:d.formatMessage({id:"action__bulk_add"})}),Object(P.jsxs)(U.default,{space:0,alignItems:"flex-end",children:[Object(P.jsx)(H.default,{w:"40px",type:"basic",borderRightRadius:0,leftIconName:"ChevronLeftMini",onPress:u,isDisabled:o}),Object(P.jsx)(H.default,{w:"39px",h:"38px",type:"basic",onPress:i,isDisabled:!1,borderLeftWidth:0,borderRightWidth:0,borderLeftRadius:0,borderRightRadius:0,children:Object(P.jsx)(l.default,{maxW:"30px",maxH:"38px",isTruncated:!0,children:p})}),Object(P.jsx)(H.default,{w:"40px",type:"basic",borderLeftRadius:0,leftIconName:"ChevronRightMini",onPress:s,isDisabled:a})]})]})},ye=function(e){var t=e.walletId,n=e.networkId,r=e.derivationOptions,o=e.selectedOption,a=e.onChange,i=Object(g.default)(),c=Object(h.default)({defaultValues:{derivationType:"default"}}),s=c.control,l=c.setValue,u=Object(j.useMemo)((function(){var e,t;o?e=o.label:e=(null==(t=(null!=r?r:[]).find((function(e){return"default"===e.key})))?void 0:t.label)||"";return e?"string"===typeof e?e:"object"===typeof e?i.formatMessage({id:e.id}):void 0:""}),[o,r,i]);Object(j.useEffect)((function(){l("derivationType",null!=u?u:"")}),[u,l]);var f=Object(j.useCallback)((function(){Object(q.default)({type:"search",walletId:t,networkId:n,onSelect:function(e){return null==a?void 0:a(e)}})}),[t,n,a]);return!r||r.length<2?null:Object(P.jsx)(d.default,{w:"full",mb:"26px",children:Object(P.jsx)(v.default,{onPress:f,children:Object(P.jsx)(d.default.Item,{name:"derivationType",control:s,children:Object(P.jsx)(d.default.Input,{size:"lg",rightIconName:"ChevronDownMini",isReadOnly:!0,onPressRightIcon:f,onPressIn:X.default.isNativeIOS?f:void 0})})})})},xe=function(){var e,t=Object(g.default)(),n=Object(O.useRoute)().params,r=n.password,o=n.walletId,a=n.network,c=Object(O.useNavigation)(),l=Object(j.useState)(new Map),u=m()(l,2),d=u[0],f=u[1],b=Object(j.useState)(new Map),h=m()(b,2),v=h[0],y=h[1],w=Object(j.useState)([]),S=m()(w,2),C=S[0],E=S[1],D=Object(k.useRuntime)(),R=D.wallets,N=D.networks,U=Object(j.useState)(0),H=m()(U,2),V=H[0],z=H[1],G=N.filter((function(e){return e.id===a}))[0],K=null==G?void 0:G.nativeDisplayDecimals,q=null==G?void 0:G.symbol,X=Object(j.useState)(!1),Y=m()(X,2),J=Y[0],ee=Y[1],te=Object(j.useMemo)((function(){return C.every((function(e){var t=v.get(e.index);return null==t?void 0:t.isDisabled}))}),[C,v]),ne=Object(j.useState)({currentPage:0,fromIndex:1,generateCount:0,showPathAndLink:!1}),re=m()(ne,2),oe=re[0],ae=re[1],ie=Object(j.useRef)(oe.currentPage),ce=Object(j.useState)(!1),se=m()(ce,2),le=se[0],ue=se[1],de=Object(j.useState)(!0),fe=m()(de,2),pe=fe[0],he=fe[1],xe=Object(j.useState)(Number.MAX_VALUE),we=m()(xe,2),_e=we[0],ke=we[1],Ie=Object(j.useState)(Object(Z.getTimeStamp)()),Se=m()(Ie,2),Te=Se[0],Pe=Se[1],Ce=Object(j.useMemo)((function(){return oe.generateCount&&oe.generateCount>0}),[oe.generateCount]),Me=null!=(e=R.find((function(e){return e.id===o})))?e:null,Ae=Object(j.useState)(!1),Ee=m()(Ae,2),De=Ee[0],Re=Ee[1],Ne=Object(j.useState)(!1),Le=m()(Ne,2),Be=Le[0],Fe=Le[1],Ue=Object(j.useRef)(!1),He=Object(j.useRef)([]),We=Object(j.useState)((function(){var e=function(){};return{p:new Promise((function(t){return e=t})),resolve:e}}))[0];Object(j.useEffect)((function(){function e(){return(e=p()((function*(){return Me&&(He.current=yield x.default.engine.getAccounts(Me.accounts,a),We.resolve(),ue(!0)),He}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,Me,We]);var Ve=Object(j.useRef)(!1),ze=Object(Q.useDerivationPath)(null==Me?void 0:Me.id,a).derivationOptions,Ge=Object(j.useState)(),Ke=m()(Ge,2),qe=Ke[0],Ze=Ke[1],Xe=Object(j.useMemo)((function(){var e,t;return qe?qe.template:null!=(e=null==(t=ze.find((function(e){return"default"===e.key})))?void 0:t.template)?e:""}),[qe,ze]),Ye=Object(_.usePrevious)(Xe),Qe=Object(j.useMemo)((function(){if(qe)return parseInt(qe.category.split("'/")[0]);var e=ze.find((function(e){return"default"===e.key}));return e?parseInt(e.category.split("'/")[0]):44}),[qe,ze]);Object(j.useEffect)((function(){var e=ze.find((function(e){return"default"===e.key}));e&&Ze(e)}),[ze]),Object(j.useEffect)((function(){ie.current=oe.currentPage}),[oe.currentPage]),Object(j.useEffect)((function(){var e;if(le&&(!De||Ve.current)&&Xe){Ue.current=!0,Ve.current||Re(!0),he(!1);var t=oe.currentPage,n=oe.fromIndex,i=null!=(e=oe.generateCount)?e:0,s=Math.ceil(i/10)-1,l=0!==i&&t===s,u=0,b=10*(u=t<0?0:i&&l?s:t)+n-1,m=10;0===t&&Ce&&i<10?m=i:l&&(m=i-10*u),b+m>me.FROM_INDEX_MAX&&(m=me.FROM_INDEX_MAX-b);var h=Array.from(Array(m).keys()).map((function(e){return b+e})),j=[];if(h.every((function(e){var t=d.get(e);return!!t&&(j.push(t),!0)}))&&Xe===Ye)return E(j),Ue.current=!1,Ve.current=!1,void Re(!1);x.default.engine.searchHDAccounts(o,a,r,b,m,Qe,Xe).then((function(e){e.length===m&&10===e.length||(m=e.length,ke(b+e.length-n+1));var t=new Map(d),r=new Map(v);return e.forEach((function(e){var n=He.current.some((function(t){return t.template?t.template===Xe&&t.path===e.path:t.path===e.path}));r.set(e.index,{isDisabled:n,selected:n||!!Ce}),t.set(e.index,je(je({},e),{},{template:Xe}))})),Ue.current=!1,Ve.current=!1,E(e),f(t),y(r),Re(!1),{currentPageAccounts:e,loadedAccounts:t}})).then(function(){var e=p()((function*(e){var t=yield x.default.engine.queryBalanceFillAccounts(o,a,e.currentPageAccounts),n=new Map(e.loadedAccounts);t.forEach((function(e){n.set(e.index,je(je({},e),{},{template:Xe}))})),E(t),f(n)}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ue.current=!1,Ve.current=!1,Re(!1),c.isFocused()&&setTimeout((function(){T.deviceUtils.showErrorToast(e,"msg__engine__internal_error")}),200),null==c||null==c.goBack||c.goBack(),null==c||null==c.goBack||c.goBack()}))}}),[Te,oe.fromIndex,oe.generateCount,oe.currentPage,le,Ce,c,a,r,o,Xe]);var $e=Object(j.useCallback)((function(e,t){var n=new Map(v),r=n.get(t.index);return null!=r&&r.isDisabled||(n.set(t.index,{isDisabled:!1,selected:e}),y(n)),!0}),[v]),Je=Object(j.useCallback)((function(e){for(var t=new Map(v),n=10*ie.current+oe.fromIndex-1,r=n;r<n+10;r+=1){var o=t.get(r);o&&!o.isDisabled&&t.set(r,{isDisabled:!1,selected:e})}y(t)}),[oe.fromIndex,ie,v]);Object(j.useEffect)((function(){var e=v.size>0,t=!1;v.forEach((function(n,r){t||n.isDisabled||!n.selected||(t=!0);var o=10*oe.currentPage+oe.fromIndex-1;r>=o&&r<o+10&&(!e||n.isDisabled||n.selected||(e=!1))})),ee(e),Fe(t)}),[oe.currentPage,v]);var et=Object(j.useCallback)((function(e){var t=e.item;return Object(P.jsx)(Oe,{network:G,decimal:K,symbol:q,showPathAndLink:oe.showPathAndLink,flex:1,item:t,state:v.get(t.index),onChange:function(e){$e(e,t)}})}),[$e,oe.showPathAndLink]);function tt(){Ue.current&&x.default.engine.getHWDeviceByWalletId(o).then((function(e){e&&x.default.serviceHardware.cancel(e.mac).then((function(){setTimeout((function(){return Ue.current=!1}),500)}))}))}Object(j.useEffect)((function(){return function(){return tt()}}),[]);var nt=Object(j.useMemo)((function(){return!!De||!Be}),[Be,De]),rt=Object(j.useMemo)((function(){return C.length<10||(oe.fromIndex>=me.FROM_INDEX_MAX||!!oe.generateCount&&oe.currentPage===Math.ceil(oe.generateCount/10)-1)}),[oe.fromIndex,oe.generateCount,oe.currentPage,C.length]),ot=Object(j.useMemo)((function(){return C.length<10?oe.currentPage+1:oe.fromIndex>=me.FROM_INDEX_MAX?1:oe.generateCount?Math.ceil(oe.generateCount/10):Math.ceil(me.FROM_INDEX_MAX/10)}),[oe.fromIndex,oe.generateCount,oe.currentPage,C.length]),at=Object(j.useMemo)((function(){return pe||De||!le}),[le,De,pe]),it=Object(j.useCallback)((function(){return Object(P.jsx)(P.Fragment,{children:(oe.showPathAndLink,void 0)})}),[oe.showPathAndLink]),ct=Object(j.useMemo)((function(){return Object(P.jsx)(F.default,{size:4,showInfo:!0,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==G?void 0:G.name,logoURI:null==G?void 0:G.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})}),[G]);return Object(P.jsx)(i.default,{height:"640px",header:t.formatMessage({id:"action__manage_account"}),headerDescription:ct,rightContent:Object(P.jsx)(be,{showPath:oe.showPathAndLink,password:r,walletId:o,networkId:G.id,template:Xe,onChange:function(e){var t=je(je({},oe),{},{showPathAndLink:e});ae(t)},children:Object(P.jsx)(W.default,{type:"plain",size:"lg",circle:!0,name:"EllipsisVerticalOutline"})}),primaryActionTranslationId:"action__done",onPrimaryActionPress:function(){var e;tt();var t=[];d.forEach((function(e,n){var r,o,a=v.get(n);t.push(je(je({},e),{},{isDisabled:null!=(r=null==a?void 0:a.isDisabled)&&r,selected:null!=(o=null==a?void 0:a.selected)&&o}))})),c.navigate(I.CreateAccountModalRoutes.RecoverAccountsConfirm,{accounts:t.filter((function(e){return e.template===Xe})),walletId:o,network:a,purpose:Qe,template:Xe,existingAccounts:He.current,config:je(je({},oe),{},{generateCount:Math.min(_e,null!=(e=oe.generateCount)?e:0)})})},primaryActionProps:{isDisabled:nt},hideSecondaryAction:!0,staticChildrenProps:{flex:1,padding:"16px",onLayout:function(e){0===V&&z(e.nativeEvent.layout.width)}},children:at?Object(P.jsx)(M.default,{flex:1,children:Object(P.jsx)(A.default,{size:"lg"})}):Object(P.jsxs)(s.default,{flex:1,children:[Object(P.jsx)(ye,{walletId:o,networkId:a,derivationOptions:ze,selectedOption:qe,onChange:function(e){e.template!==(null==qe?void 0:qe.template)&&(Re(!0),Ve.current=!0),Ze(e)}}),Object(P.jsx)(ge,{symbol:q,isAllSelected:J,isAllSelectedDisabled:te,showPathAndLink:oe.showPathAndLink,onChange:function(e){ee(e),Je(e)}}),0===C.length?Object(P.jsx)(M.default,{flex:1,children:Object(P.jsx)(B.default,{emoji:"\ud83d\udcb3",title:t.formatMessage({id:"empty__no_account_title"}),subTitle:t.formatMessage({id:"empty__no_recoverable_account_desc"}),actionTitle:t.formatMessage({id:"action__retry"}),handleAction:function(){Pe(Object(Z.getTimeStamp)())}})}):Object(P.jsx)(L.default,{data:C,renderItem:et,keyExtractor:function(e){return""+e.index},extraData:J,showsVerticalScrollIndicator:!1,ItemSeparatorComponent:it}),Object(P.jsx)(ve,{minLimit:oe.fromIndex,count:oe.generateCount,currentPage:oe.currentPage,prevButtonDisabled:0===oe.currentPage,nextButtonDisabled:rt,onPagePress:function(){Object($.showJumpPageDialog)({currentPage:oe.currentPage,maxPage:ot,onConfirm:function(e){ae((function(t){return je(je({},t),{},{currentPage:e-1})}))}})},onPrevPagePress:function(){ae((function(e){return 0===e.currentPage?e:je(je({},e),{},{currentPage:e.currentPage-1})}))},onNextPagePress:function(){ae((function(e){return rt?e:je(je({},e),{},{currentPage:e.currentPage+1})}))},onBulkAddPress:function(){c.navigate(I.RootRoutes.Modal,{screen:I.ModalRoutes.RecoverAccount,params:{screen:I.RecoverAccountModalRoutes.RecoverAccountsAdvanced,params:{networkId:null==G?void 0:G.id,fromIndex:oe.fromIndex,generateCount:oe.generateCount,onApply:function(e){var t=e.fromIndex,n=e.generateCount,r=oe.fromIndex!==t||oe.generateCount!==n;r&&he(!0),setTimeout((function(){var e={currentPage:r?0:oe.currentPage,fromIndex:t,generateCount:n,showPathAndLink:oe.showPathAndLink};r&&(y(new Map),f(new Map)),ke(Number.MAX_VALUE),ae(e)}),100)}}}})}})]})})},we=n(871),_e=n(305),ke=n(19),Ie=n(599),Se=function(e){var t=e.password,n=e.accounts,r=e.walletId,o=e.network,a=e.purpose,i=e.template,c=e.config,s=e.stopFlag,l=e.onDone,d=Object(g.default)(),f=Object(j.useState)(0),b=m()(f,2),h=b[0],O=b[1],v=Object(j.useState)(0),y=m()(v,2),w=y[0],_=y[1],k=x.default.serviceAccount,I=x.default.serviceAccountSelector,S=x.default.engine,C=Object(j.useRef)(s);Object(we.useKeepAwake)(),Object(j.useEffect)((function(){C.current=s}),[s]);var E=function(){var e=p()((function*(e,n){return ke.default.common.info("recoverAccountIndex",JSON.stringify(e)),n?(yield I.preloadingCreateAccount({walletId:r,networkId:o,template:i}),k.addHDAccounts(t,r,o,e,void 0,a,!0,i)):S.addHdOrHwAccounts({password:t,walletId:r,networkId:o,indexes:e,names:void 0,purpose:a,skipRepeat:!0,template:i})}));return function(t,n){return e.apply(this,arguments)}}();function D(e){return void 0!==e}var R=function(){var e=p()((function*(e){var n;try{var a=c.generateCount&&c.generateCount>0,s=[];if(a){var u,d=new Set;null==e||e.forEach((function(e){e.isDisabled&&e.selected&&d.add(e.index),e.selected||d.add(e.index)})),s=Array.from(Array(null!=(u=c.generateCount)?u:1).keys()).map((function(e){var t=e+c.fromIndex-1;if(!d.has(t))return t})).filter(D)}else s=e.filter((function(e){return e.selected&&!e.isDisabled})).map((function(e){return e.index}));O(s.length);for(var f=function*(){var e=s.splice(0,Math.min(s.length,10)),a=0===s.length,i=yield E(e,a);if(null!=i&&i[0]&&(n=null==i?void 0:i[0]),_((function(t){var n;return t+(null!=(n=null==e?void 0:e.length)?n:0)})),C.current)return!a&&n&&(yield k.postAccountAdded({walletId:r,networkId:o,account:n,walletType:r.startsWith("hw-")?"hw":"hd",checkOnBoarding:!1,checkPasswordSet:!1,shouldBackup:!0,password:t})),"break";a||(yield Object(Z.wait)(50))};s.length>0;){if("break"===(yield*f()))break}}catch(b){ke.default.common.error("recover error:",Object(Ie.toPlainErrorObject)(b)),T.deviceUtils.showErrorToast(b,"action__connection_timeout")}finally{var p;yield I.preloadingCreateAccountDone({walletId:r,networkId:o,accountId:null==(p=n)?void 0:p.id,template:i})}l()}));return function(t){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){setTimeout((function(){R(n)}))}),[]),Object(P.jsxs)(M.default,{w:"full",h:"full",children:[Object(P.jsx)(_e.SkipAppLock,{}),Object(P.jsx)(A.default,{size:"lg"}),Object(P.jsx)(u.default.DisplayMedium,{mt:3,children:d.formatMessage({id:"action__recover_accounts"})}),Object(P.jsx)(u.default.Body1,{mt:2,color:"text-subdued",children:d.formatMessage({id:"msg__recover_account_progress"},{0:w,1:h})}),s&&Object(P.jsx)(u.default.Body2,{position:"absolute",bottom:1,color:"text-subdued",children:d.formatMessage({id:"msg__recover_account_stopping"})})]})},Te=function(){var e=Object(O.useRoute)().params,t=e.accounts,n=e.walletId,r=e.network,o=e.purpose,a=e.config,c=e.template,s=Object(O.useNavigation)(),l=Object(j.useState)(!1),u=m()(l,2),d=u[0],f=u[1],p=Object(j.useState)(!1),b=m()(p,2),h=b[0],g=b[1];return Object(P.jsx)(i.default,{height:"340px",headerShown:!1,hidePrimaryAction:!0,onSecondaryActionPress:function(){h?f(!0):s.goBack()},children:Object(P.jsx)(E.default,{walletId:n,skipSavePassword:!0,field:E.ValidationFields.Account,children:function(e){return g(!0),Object(P.jsx)(Se,{password:e,accounts:t,walletId:n,network:r,purpose:o,template:c,config:a,stopFlag:d,onDone:function(){var e;null!=s&&null!=s.canGoBack&&s.canGoBack()&&(null==s||null==s.getParent||null==(e=s.getParent())||null==e.goBack||e.goBack())}})}})})},Pe=n(64),Ce=n(236),Me=function(){return Object(P.jsx)(s.default,{h:"8px"})},Ae=function(){var e=Object(g.default)(),t=Object(O.useRoute)(),n=Object(k.useRuntime)().wallets,r=Object(_.useManageNetworks)().enabledNetworks,o=Object(O.useNavigation)(),a=t.params.walletId,c=Object(j.useMemo)((function(){return n.find((function(e){return e.id===a}))}),[a,n]),s=Object(j.useMemo)((function(){return r.filter((function(e){return"hw"===(null==c?void 0:c.type)?e.settings.hardwareAccountEnabled:"imported"===(null==c?void 0:c.type)?e.settings.importedAccountEnabled:"watching"!==(null==c?void 0:c.type)||e.settings.watchingAccountEnabled}))}),[r,c]);var l=Object(j.useCallback)((function(e){o.navigate(I.CreateAccountModalRoutes.CreateAccountAuthentication,{walletId:a,onDone:function(t){var n=function(e){var t=e.accountNameInfo.default.category;return parseInt(t.split("'/")[0])}(e),r=function(e){return e.accountNameInfo.default.template}(e);o.replace(I.CreateAccountModalRoutes.RecoverAccountsList,{purpose:n,walletId:a,network:e.id,password:t,template:r})}})}),[o,a]),d=Object(j.useCallback)((function(e){var t=e.item;return Object(P.jsxs)(Pe.default,{height:"56px",alignItems:"center",flexDirection:"row",borderRadius:"12px",paddingX:"16px",_pressed:{bg:"surface-pressed"},_hover:{bg:"surface-hovered"},onPress:function(){l(t)},children:[Object(P.jsx)(F.default,{size:"32px",token:{logoURI:t.logoURI,name:t.shortName}}),Object(P.jsx)(u.default.Body1Strong,{ml:"16px",mr:"12px",children:t.shortName}),"evm"===t.impl?Object(P.jsx)(Ce.default,{title:"EVM",size:"sm",type:"default"}):null]})}),[l]);return Object(P.jsx)(i.default,{height:"640px",header:e.formatMessage({id:"modal__select_chain"}),footer:null,flatListProps:{style:{paddingLeft:0,paddingRight:0},data:s,renderItem:d,ItemSeparatorComponent:Me,keyExtractor:function(e){return e.id},showsVerticalScrollIndicator:!1}})},Ee=n(2438),De=n(314),Re=n(2682),Ne=n(29),Le=n(474),Be=n(63),Fe=n(411),Ue=n(285),He=n(99),We=function(e){var t=e.onSelect,n=Object(g.default)(),r=Object(j.useState)(0),o=m()(r,2),a=o[0],i=o[1];return Object(P.jsxs)(Be.default,{space:8,children:[Object(P.jsx)(Fe.default,{values:["CSV","TXT"],selectedIndex:a,onChange:i}),Object(P.jsx)(H.default,{type:"primary",size:"xl",onPress:function(){t(0===a?"csv":"txt")},children:n.formatMessage({id:"action__export"})})]})},Ve=function(e){var t=e.onSelect;Object(He.showOverlay)((function(e){return Object(P.jsx)(Le.default,{title:Object(Ue.formatMessage)({id:"title__select_file_format"}),closeOverlay:e,modalLizeProps:{tapGestureEnabled:!1},children:Object(P.jsx)(We,{onSelect:function(n){null==e||e(),setTimeout((function(){return null==t?void 0:t(n)}))}})})}))},ze=function(){var e=p()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=p()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(g.default)(),t=Object(O.useRoute)().params,n=t.data,r=t.walletId,o=t.networkId,a=Object(j.useMemo)((function(){var e="",t=0;for(var r of n)n.length>1&&(t>0&&(e+="\n"),e+="// "+r.name+"\n"),r.data.forEach((function(t){e+=t.address+"\n"})),t+=1;return e.replace(/\n$/,"")}),[n]),c=Object(j.useMemo)((function(){return""+(e.formatMessage({id:"form__address"})+"\n")+a}),[a,e]),u=Object(j.useCallback)(function(){var e=p()((function*(e){var t=yield Promise.all([x.default.engine.getWallet(r),x.default.engine.getNetwork(o)]),n=m()(t,2),a=n[0],i=n[1];return a.name+"-"+i.impl+"-addresses."+e}));return function(t){return e.apply(this,arguments)}}(),[r,o]),d=Object(j.useCallback)(function(){var e=p()((function*(e){var t=yield u(e),n=document.createElement("a"),r=new Blob(("txt"===e?a:c).split("\n").map((function(e){return e+"\n"})),{type:"text/plain",endings:"native"});n.href=URL.createObjectURL(r),n.download=t,document.body.appendChild(n),n.click()}));return function(t){return e.apply(this,arguments)}}(),[c,u,a]),f=Object(j.useCallback)(function(){var e=p()((function*(e){var t=yield u(e),n=""+(null!=Re.cacheDirectory?Re.cacheDirectory:"")+t,r=yield ze();r&&r.open({url:n,title:t,filename:t}).catch((function(){}))}));return function(t){return e.apply(this,arguments)}}(),[u]),b=Object(j.useCallback)(function(){var e=p()((function*(e){var t=yield u(e),n=yield Ge();if(n){var r=n.CachesDirectoryPath+"/"+t,o="txt"===e?a:c;n.writeFile(r,o,"utf8").then((function(t){f(e)})).catch((function(e){}))}}));return function(t){return e.apply(this,arguments)}}(),[f,a,c,u]),h=Object(j.useCallback)((function(){Ve({onSelect:function(e){d(e)}})}),[b,d]),v=Object(j.useCallback)((function(){setTimeout((function(){Object(ne.copyToClipboard)(a),J.default.show({title:e.formatMessage({id:"msg__copied"})})}),200)}),[a,e]);return Object(P.jsx)(i.default,{height:"460px",header:e.formatMessage({id:"action__export_addresses"}),primaryActionTranslationId:"action__export_file",primaryActionProps:{type:"basic"},onPrimaryActionPress:h,secondaryActionTranslationId:"action__copy",secondaryActionProps:{type:"basic"},onSecondaryActionPress:v,children:Object(P.jsx)(s.default,{w:"full",h:"full",bg:"action-secondary-default",borderRadius:"lg",borderColor:"border-default",borderWidth:Ne.default.hairlineWidth,children:Object(P.jsx)(De.default,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,style:{width:"100%"},children:Object(P.jsx)(s.default,{px:3,py:2,w:"full",children:a.split("\n").map((function(e,t){return Object(P.jsxs)(s.default,{alignItems:"flex-start",flexDirection:"row",children:[Object(P.jsx)(l.default,{typography:{sm:"Body2",md:"Body2"},color:"text-disabled",fontWeight:500,fontSize:14,lineHeight:"20px",fontFamily:"monospace",textAlign:"left",width:"29px",children:t+1}),Object(P.jsx)(l.default,{ml:1,flex:1,fontSize:14,lineHeight:"20px",fontWeight:500,fontFamily:"monospace",color:e.startsWith("//")?"text-disabled":"text-default",overflow:"hidden",children:e})]},t)}))})})})})},qe=n(1080),Ze=n(917),Xe=n(13),Ye=n.n(Xe),Qe=n(23),$e=n(11),Je=n(288);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=n(111);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t){var n=e.split($e.INDEX_PLACEHOLDER).filter(Boolean),r=t;for(var o of n){var a;r=null==(a=r.split(o).filter(Boolean))?void 0:a[0]}return r.endsWith("'")?r.slice(0,-1):r}var it=function(){var e=Object(g.default)(),t=Object(O.useRoute)().params,n=t.walletId,r=t.networkId,o=t.data,a=t.password,c=Object(O.useNavigation)(),u=function(e){var t=e.data,n=e.walletId,r=e.networkId,o=e.password,a=Object(g.default)(),i=n.startsWith("hw"),c="setRange"===t.type,s=Object(j.useRef)(!1),l=Object(j.useState)(0),u=m()(l,2),d=u[0],f=u[1],b=Object(j.useState)([]),h=m()(b,2),O=h[0],v=h[1],y=Object(j.useRef)([]),w=Object(j.useRef)([]),k=Object(j.useState)(""),I=m()(k,2),S=I[0],P=I[1],C=Object(_.useAppSelector)((function(e){return e.hardware.previousAddress})),M=Object(j.useCallback)((function(e,n){if("setRange"===t.type){var r=t.generateCount,o=n?1:Math.floor(e.length/Number(r)*100)/100;v(e),f(o)}}),[t]);Object(j.useEffect)((function(){var e;if(c){var t=null!=(e=null==C?void 0:C.data)?e:{};if(t){var n=t.path,o=t.address;w.current.findIndex((function(e){return e.path===(null==C?void 0:C.data.path)}))<0||(P(null!=o?o:""),x.default.serviceDerivationPath.convertPlainAddressItemToImportableHDAccount({networkId:r,path:null!=n?n:"",address:null!=o?o:""}).then((function(e){y.current.push(e),M(y.current)})))}}}),[C,c,r,M]),Object(j.useEffect)((function(){return x.default.dispatch(Object(Je.clearPreviousAddress)()),function(){x.default.dispatch(Object(Je.clearPreviousAddress)())}}),[]);var A=Object(j.useCallback)(function(){var e=p()((function*(e){var t=e.start,a=e.offset,i=e.purpose,c=e.template;return yield x.default.engine.searchHDAccounts(n,r,o,t,a,i,c)}));return function(t){return e.apply(this,arguments)}}(),[r,o,n]);return Object(j.useEffect)((function(){c&&(i||p()((function*(){var e,n,o;var a=t.fromIndex,i=t.generateCount,c=t.derivationOption,l=null==c?void 0:c.template,u=parseInt(null!=(e=null==c||null==(n=c.category)||null==(o=n.split("'/"))?void 0:o[0])?e:"44"),d=Number(a)-1,f=d,b=Number(i);f+b>2**31&&(b=2**31-f);for(var m=[],h=0;f<d+b;){var j=5;if(f+5>d+b&&(j=b-h),j<=0)break;if(s.current)break;var O=yield A({start:f,offset:j,purpose:u,template:l}),g=yield Promise.all(O.map(function(){var e=p()((function*(e){return tt(tt({},e),{},{displayAddress:yield x.default.engine.getDisplayAddress(r,e.displayAddress)})}));return function(t){return e.apply(this,arguments)}}()));if(m.push.apply(m,Ye()(g)),f+=5,h+=j,g.length!==j){M(m,!0);break}M(m)}}))())}),[t,i,c,r,o,n,A,M]),Object(j.useEffect)((function(){c&&i&&p()((function*(){var e=t.fromIndex,o=t.generateCount,i=t.derivationOption,c=null==i?void 0:i.template;if(!c)throw new Error("must be a template");for(var s=[],l=0;l<Number(o||0);l++){var u=Number(e)-1+l;s.push(u)}w.current=s.map((function(e){return{path:c.replace($e.INDEX_PLACEHOLDER,e.toString())}}));try{var d=yield x.default.serviceDerivationPath.batchGetHWAddress({networkId:r,walletId:n,indexes:s,template:c,confirmOnDevice:!0});M(d)}catch(f){ke.default.common.info("getHWAddressByTemplate error: ",f),(f||{}).className===Qe.OneKeyErrorClassNames.OneKeyHardwareError?T.deviceUtils.showErrorToast(f):J.default.show({title:a.formatMessage({id:"msg__cancelled_during_the_process"},{type:"error"})}),M(y.current,!0)}}))()}),[t,i,c,r,n,M,a]),{progress:d,progressText:Object(j.useMemo)((function(){if(c){var e=t.generateCount||"0";return(Number.isSafeInteger(O.length)?O.length:0)+"/"+e}}),[t,c,O.length]),generatedAccounts:O,previousAddress:S,cancelFlagRef:s}}({data:o,walletId:n,networkId:r,password:a}),d=u.progress,f=u.progressText,b=u.previousAddress,h=u.generatedAccounts,v=u.cancelFlagRef,y=function(e){var t=e.data,n=e.walletId,r=e.networkId,o=e.password,a=Object(g.default)(),i=Object(nt.default)(),c=n.startsWith("hw"),s="walletAccounts"===t.type,l=Object(j.useRef)(!1),u=Object(j.useState)(0),d=m()(u,2),f=d[0],b=d[1],h=Object(j.useState)([]),O=m()(h,2),v=O[0],y=O[1],w=Object(j.useRef)([]),k=Object(j.useRef)(""),I=Object(j.useState)(""),S=m()(I,2),P=S[0],C=S[1],M=Object(_.useAppSelector)((function(e){return e.hardware.previousAddress})),A=Object(j.useCallback)((function(e,n){if("walletAccounts"===t.type){var r=t.networkDerivations.reduce((function(e,t){return e+t.accounts.length}),0),o=e.reduce((function(e,t){return e+(c?t.accountData.filter((function(e){return e.confirm})).length:t.accountData.length)}),0),a=n?1:Math.floor(o/Number(r)*100)/100;y(e),b(a)}}),[t,c]);return Object(j.useEffect)((function(){var e;if(s){var t=null!=(e=null==M?void 0:M.data)?e:{};if(t){var n=t.path,o=t.address;k.current&&w.current.forEach((function(e){if(e.template===k.current){var t=e.accountData,a=t.findIndex((function(e){return e.fullPath===n}));if(-1!==a){if(o&&t[a].address.toLowerCase()!==o.toLowerCase())throw new Error("not same address");o&&x.default.serviceDerivationPath.convertPlainAddressItemToImportableHDAccount({networkId:r,path:null!=n?n:"",address:null!=o?o:""}).then((function(e){var n;t[a].address=e.displayAddress,t[a].confirm=!0,C(null!=(n=e.displayAddress)?n:""),A(w.current)}))}}}))}}}),[M,s,r,A]),Object(j.useEffect)((function(){s&&(c||p()((function*(){var e=!1,c=t.networkDerivations,s=[],u=(yield x.default.engine.getNetwork(r)).impl,d=function*(t){var c=yield x.default.engine.getAccounts(t.accounts,r),d=[];for(var f of c)try{var p;if(l.current||e)break;var b=f.template;b&&u!==$e.IMPL_COSMOS||(b=Object(K.getDefaultAccountNameInfoByImpl)(u).template);var m=f.path.split("/"),h=Number(m[1].endsWith("'")?m[1].slice(0,-1):m[1]),j=null==(p=b)?void 0:p.split("/").findIndex((function(e){return e.startsWith($e.INDEX_PLACEHOLDER)}));if(!Number.isSafeInteger(j)||Number(j)<0)throw ke.default.common.error("can not find account index: ",f),new Error("can not find account index");var O=m[null!=j?j:0].replace(/'$/,""),g=yield x.default.engine.getAccountsByVault({walletId:n,networkId:r,password:o,indexes:[parseInt(O,10)],purpose:h,template:b});1===g.length&&f.address!==(null==g?void 0:g[0].displayAddress)&&(f.address=g[0].displayAddress);var v=yield x.default.engine.getDisplayAddress(r,f.address);d.push(ot(ot({},f),{},{address:v,index:at(t.template,f.path)}));var y=d.sort((function(e,t){return Number(e.index)-Number(t.index)})),w=s.findIndex((function(e){return e.template===t.template}));w>-1?s.splice(w,1,ot(ot({},t),{},{accountData:y})):s.push(ot(ot({},t),{},{accountData:y})),A(s)}catch(_){ke.default.common.info("Fetch Wallet Accounts error: ",_),(_||{}).className===Qe.OneKeyErrorClassNames.OneKeyHardwareError?T.deviceUtils.showErrorToast(_):J.default.show({title:a.formatMessage({id:"msg__cancelled_during_the_process"})},{type:"error"}),A(s,!0),e=!0,i.goBack();break}};for(var f of c)yield*d(f)}))())}),[t,c,s,A,r,n,a,o,i]),Object(j.useEffect)((function(){s&&c&&p()((function*(){var e=!1,o=t.networkDerivations,c=[],s=function*(t){try{var o=(yield x.default.engine.getAccounts(t.accounts,r)).map((function(e){var n=at(t.template,e.path);return ot({fullPath:t.template.replace($e.INDEX_PLACEHOLDER,n.toString()),index:Number(n)},e)})).sort((function(e,t){return Number(e.index)-Number(t.index)}));if(k.current=t.template,w.current.push(ot(ot({},t),{},{accountData:o.map((function(e){return ot(ot({},e),{},{confirm:!1})}))})),(yield x.default.serviceDerivationPath.batchGetHWAddress({networkId:r,walletId:n,indexes:o.map((function(e){return Number(e.index)})),confirmOnDevice:!0,template:t.template})).forEach((function(e){var t=o.findIndex((function(t){return t.fullPath===e.path}));t>-1&&(o[t].displayAddress=e.displayAddress)})),c.push(ot(ot({},t),{},{accountData:o})),l.current||e)return"break";0}catch(s){return ke.default.common.info("Fetch Wallet Accounts error: ",s),(s||{}).className===Qe.OneKeyErrorClassNames.OneKeyHardwareError?T.deviceUtils.showErrorToast(s):J.default.show({title:a.formatMessage({id:"msg__cancelled_during_the_process"})},{type:"error"}),A(c,!0),e=!0,i.goBack(),"break"}};for(var u of o){if("break"===(yield*s(u)))break}}))()}),[t,c,s,A,r,n,a,o,i]),{progress:f,progressText:Object(j.useMemo)((function(){if(s){var e=t.networkDerivations.reduce((function(e,t){return e+t.accounts.length}),0);return(c?w.current:v).reduce((function(e,t){return e+(c?t.accountData.filter((function(e){return e.confirm})).length:t.accountData.length)}),0)+"/"+e}}),[t,c,s,v,f]),previousAddress:P,walletAccounts:v,cancelFlagRef:l}}({data:o,walletId:n,networkId:r,password:a}),w=y.progress,k=y.progressText,S=y.previousAddress,C=y.walletAccounts,A=y.cancelFlagRef,E=n.startsWith("hw"),D=Object(j.useRef)(!1),R=Object(j.useRef)(!1),N="setRange"===o.type,L=Object(j.useMemo)((function(){return N?d:w}),[N,d,w]),B=Object(j.useMemo)((function(){return N?f:k}),[N,f,k]),F=Object(j.useMemo)((function(){return N?b:S}),[N,b,S]),U=Object(j.useCallback)((function(e){D.current=e,v.current=e,A.current=e}),[v,A]);return Object(j.useEffect)((function(){if(!R.current&&L>=1){var t,a,i,s,l;if(R.current=!0,N)t=[{template:null!=(a=null==(i=o.derivationOption)?void 0:i.template)?a:"",name:null!=(s=Object(Ze.formatDerivationLabel)(e,null==(l=o.derivationOption)?void 0:l.label))?s:"",data:h.map((function(e){return{address:e.displayAddress,path:e.path,index:e.index}}))}];else t=C.map((function(e){var t;return{template:e.template,name:null!=(t=e.name)?t:"",data:e.accountData.map((function(e){return{index:e.index,address:e.address,path:e.path}}))}}));setTimeout((function(){D.current||(t.every((function(e){return!e.data.length}))?c.goBack():c.replace(I.CreateAccountModalRoutes.ExportAddresses,{networkId:r,walletId:n,data:t}))}),500)}}),[L,N,o,h,C,e,r,n,E,c]),Object(P.jsx)(i.default,{height:E?"auto":"375px",header:void 0,closeable:!1,closeOnOverlayClick:!1,hideSecondaryAction:!0,hideBackButton:!0,headerShown:!1,primaryActionTranslationId:"action__cancel",primaryActionProps:{type:"basic"},onPrimaryActionPress:p()((function*(){if(U(!0),E){var e=yield x.default.engine.getHWDeviceByWalletId(n);e&&x.default.serviceHardware.cancel(e.mac)}c.goBack()})),children:Object(P.jsxs)(M.default,{w:"full",h:"full",children:[Object(P.jsx)(s.default,{mt:6,children:Object(P.jsx)(qe.default.Circle,{progress:L,text:Object(P.jsx)(M.default,{children:Object(P.jsx)(l.default,{typography:{sm:"DisplayMedium",md:"DisplayLarge"},children:B})})})}),Object(P.jsx)(l.default,{mt:6,typography:{sm:"Heading",md:"Heading"},children:e.formatMessage({id:"title__fetching_addresses"})}),F&&Object(P.jsxs)(Be.default,{mt:4,space:1,children:[Object(P.jsx)(l.default,{textAlign:"center",typography:{sm:"Body2Strong",md:"Body2Strong"},color:"text-subdued",children:e.formatMessage({id:"form__previous_confirmed"})}),Object(P.jsx)(l.default,{typography:{sm:"Body2",md:"Body2"},wordBreak:"break-all",children:F})]})]})})},ct=n(475),st=n(234);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ut=Object(st.default)(),dt=[{name:I.CreateAccountModalRoutes.CreateAccountForm,component:C},{name:I.CreateAccountModalRoutes.CreateAccountAuthentication,component:R},{name:I.CreateAccountModalRoutes.RecoverAccountsList,component:xe},{name:I.CreateAccountModalRoutes.RecoverAccountsAdvanced,component:me.default},{name:I.CreateAccountModalRoutes.RecoverAccountsConfirm,component:Te},{name:I.CreateAccountModalRoutes.RecoverAccountsConfirmAuthentication,component:R},{name:I.CreateAccountModalRoutes.RecoverySelectChainList,component:Ae},{name:I.CreateAccountModalRoutes.BulkCopyAddresses,component:Ee.default},{name:I.CreateAccountModalRoutes.FetchAddressModal,component:it},{name:I.CreateAccountModalRoutes.ExportAddresses,component:Ke},{name:I.CreateAccountModalRoutes.BitcoinUsedAddress,component:N.default}];t.default=function(){var e=Object(a.default)();return Object(P.jsx)(ut.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(ct.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:dt.map((function(e){return Object(P.jsx)(ut.Screen,{name:e.name,component:e.component},e.name)}))})}},1668:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(57),a=n(12),i=n(20),c=n(687),s=n(411),l=n(48),u=n(2),d=n.n(u),f=n(4),p=n.n(f),b=n(1),m=n(44),h=n(88),j=n(17),O=n(25),g=n(16),v=n(41),y=n(121),x=n(36),w=n(0),_=function(e){var t=e.network;return t?Object(w.jsxs)(v.default,{space:"6px",children:[Object(w.jsx)(y.default,{size:4,token:{logoURI:t.logoURI}}),Object(w.jsx)(i.default,{typography:"Caption",color:"text-subdued",children:"Bitcoin"+(t.id===x.OnekeyNetwork.tbtc?" Testnet":"")})]}):null},k=n(51),I=n(40),S=n(76),T=n(3),P=n.n(T),C=n(142),M=n(1677),A=n(328),E=n(631);var D=n(106),R=function(e){var t=e.file;return t.type.includes("image/png")||t.type.includes("image/jpeg")?Object(w.jsx)(a.default,{w:"full",h:"full",children:Object(w.jsx)(D.default,{resizeMethod:"auto",resizeMode:"contain",width:366,height:148,source:{uri:t.dataForUI}})}):Object(w.jsxs)(k.default,{padding:"16px",width:"full",height:"full",children:[Object(w.jsx)(i.default,{typography:"Body1Strong",numberOfLines:2,textAlign:"center",lineBreakMode:"middle",children:t.name}),t.size&&Object(w.jsx)(i.default,{typography:"Caption",children:Object(E.formatBytes)(t.size)})]})};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=e.file,n=e.setFileFromOut,r=e.setError,o=Object(C.default)(["surface-default","border-default","interactive-default"]),a=p()(o,3),c=a[0],s=a[1],u=a[2],f=Object(b.useState)(!1),m=p()(f,2),j=m[0],O=m[1],g=Object(h.default)(),v=Object(M.useDropzone)({multiple:!1,accept:{"text/plain":[".txt"],"image/png":[".png",".PNG"],"image/gif":[".gif"],"image/jpeg":[".jpeg",".jpg"],"application/json":[".json"],"audio/mpeg":[".mp3"],"video/mp4":[".mp4"],"image/webp":[".webp"]},onDropAccepted:function(){var e=d()((function*(e){try{var t=e[0];n(void 0),r(""),O(!0);var o=yield Object(E.fileToBuffer)(t);if(0===o.length)return l.default.show({title:g.formatMessage({id:"msg__text_file_cannot_be_blank"})},{type:"error"}),void O(!1);if(!((c=o.length)>0&&c<=204800)&&(r(g.formatMessage({id:"msg__file_size_should_less_than_str"},{0:"200KB"})),!t.type.startsWith("image")))return n({dataForUI:"",dataForAPI:"",dataLength:o.length,name:t.name,size:t.size,type:t.type}),void O(!1);var a=yield Object(E.fileToDataUrl)(t),i=A.default.bytesToHex(o);o&&(n({dataForAPI:i,dataForUI:a,dataLength:o.length,name:t.name,size:t.size,type:t.type}),O(!1))}catch(s){O(!1)}var c}));return function(t){return e.apply(this,arguments)}}()}),y=v.isDragAccept,x=v.getRootProps,_=v.getInputProps;return Object(w.jsxs)("div",L(L({},x()),{},{style:{cursor:"pointer",background:c,borderWidth:1,borderStyle:"solid",borderRadius:"12px",height:"148px",overflow:"hidden",borderColor:y?u:s},children:[Object(w.jsx)("input",L({},_())),t?Object(w.jsx)(R,{file:t}):Object(w.jsx)(k.default,{w:"full",h:"full",children:j?Object(w.jsx)(S.default,{size:"lg"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(I.default,{name:"ArrowUpTrayOutline",size:36}),Object(w.jsx)(i.default,{fontSize:14,mt:"20px",children:g.formatMessage({id:"form__drag_or_drop_file_to_import"})})]})})]}))}var F=n(100),U=function(e){var t=e.isActive,n=e.step,r=e.complete,o=Object(b.useMemo)((function(){return t?"icon-success":r?"surface-success-default":void 0}),[r,t]),a=Object(b.useMemo)((function(){return t||r?0:"2px"}),[r,t]),c=Object(b.useMemo)((function(){if(!t&&!r)return"text-disabled"}),[r,t]);return Object(w.jsx)(k.default,{size:"32px",bgColor:o,borderRadius:"full",borderWidth:a,borderColor:c,children:r?Object(w.jsx)(I.default,{size:20,color:"icon-success",name:"CheckSolid"}):Object(w.jsx)(i.default,{typography:"Heading",color:t?"text-on-primary":"text-disabled",children:n})})},H=function(e){var t=e.numberOfSteps,n=e.currentStep,r=Object(b.useMemo)((function(){return new Array(t).fill(0)}),[t]);return Object(w.jsx)(v.default,{paddingX:"35px",paddingY:"10px",space:"8px",justifyContent:"center",width:"full",children:r.map((function(e,r){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(U,{isActive:r+1===n,step:""+(r+1),complete:r+1<n}),r<t-1?Object(w.jsx)(a.default,{flex:1,justifyContent:"center",children:Object(w.jsx)(F.default,{height:"2px"})}):null]})}))})},W=n(262),V=n(89),z=n(13),G=n.n(z),K=n(82),q=n(819);function Z(){var e=Object(m.useNavigation)(),t=Object(b.useCallback)((function(){e.navigate(g.InscribeModalRoutes.OrderList)}),[e]);return Object(w.jsx)(K.default,{onPress:t,name:"ClockOutline",type:"plain",size:"lg",circle:!0})}var X=function(){var e=Object(h.default)(),t=Object(m.useNavigation)(),n=Object(q.default)().formatDate,r=Object(O.useActiveWalletAccount)().networkId,a=j.default.serviceInscribe,c=Object(b.useState)([]),s=p()(c,2),l=s[0],u=s[1];Object(b.useEffect)((function(){a.getOrderHistoryList(r).then((function(e){return u(G()(e))}))}),[r,a]);var d=Object(b.useCallback)((function(e){t.navigate(g.InscribeModalRoutes.OrderDetail,{orderHistory:e})}),[t]),f=Object(b.useCallback)((function(e){var t=e.item,r=e.index;return Object(w.jsx)(V.default,{bgColor:"surface-default",onPress:function(){d(t)},borderTopRadius:0===r?"12px":0,borderBottomRadius:r===l.length-1?"12px":0,children:Object(w.jsx)(V.default.Column,{flex:1,text:{label:t.txid,labelProps:{numberOfLines:2,typography:"Body2Mono"},description:n(new Date(t.createdAt)),descriptionProps:{typography:"Body2",color:"text-subdued"}}})})}),[n,null==l?void 0:l.length,d]);return Object(w.jsxs)(o.default,{header:e.formatMessage({id:"title__inscribe_orders"}),height:"640px",footer:null,staticChildrenProps:{flex:1,padding:"16px"},children:[Object(w.jsx)(i.default,{typography:"Heading",mb:"12px",children:e.formatMessage({id:"content__past_orders"})}),Object(w.jsx)(W.default,{m:0,data:l,renderItem:f,keyExtractor:function(e){return e.txid},showDivider:!0}),Object(w.jsx)(i.default,{mt:"12px",typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"content__keep_the_latest_int_inscribing_orders_only"},{0:"50"})})]})},Y=function(e){var t=e.file;return t?Object(w.jsxs)(v.default,{mt:"8px",justifyContent:"space-between",alignItems:"center",children:[Object(w.jsxs)(v.default,{space:"4px",alignItems:"center",children:[Object(w.jsx)(I.default,{size:16,name:"PhotoMini"}),Object(w.jsx)(i.default,{typography:"Caption",color:"text-subdued",children:t.type.toUpperCase()})]}),t.size&&Object(w.jsx)(i.default,{typography:"Caption",children:Object(E.formatBytes)(t.size)})]}):null},Q=function(){var e=Object(h.default)(),t=Object(b.useState)(0),n=p()(t,2),r=n[0],u=n[1],f=Object(m.useNavigation)(),v=Object(m.useRoute)(),y=(null==v?void 0:v.params)||{},x=y.networkId,k=y.accountId,I=Object(b.useState)(),S=p()(I,2),T=S[0],P=S[1],C=Object(b.useState)(""),M=p()(C,2),A=M[0],E=M[1],D=Object(b.useState)(""),R=p()(D,2),N=R[0],L=R[1],F=j.default.serviceInscribe,U=Object(O.useNetwork)({networkId:x}).network,W=Object(b.useCallback)(d()((function*(){var t,n=[],o={networkId:x,accountId:k,contents:n,size:0};if(0===r&&null!=T&&T.dataForAPI&&null!=T&&T.name)try{n=yield F.createInscriptionContents({files:[{data:null==T?void 0:T.dataForAPI,filename:null==T?void 0:T.name,mimetype:null==T?void 0:T.type}]}),Object.assign(o,{size:T.size,contents:n,file:T})}catch(u){}if(1===r){var a=A.trim();if(a.length>0)try{n=yield F.createInscriptionContents({texts:[a]}),Object.assign(o,{size:a.length,contents:n})}catch(u){var i=u.key,c=void 0===i?"":i,s=u.info;"msg__file_size_should_less_than_str"===c&&l.default.show({title:e.formatMessage({id:c},s)},{type:"error"})}}(null==(t=n)?void 0:t.length)>0&&f.navigate(g.InscribeModalRoutes.ReceiveAddress,o)})),[k,T,e,f,x,r,F,A]),V=Object(b.useMemo)((function(){return(0!==r||!T||0!==N.length)&&!(1===r&&A.trim().length>0)}),[N.length,T,r,A]);return Object(w.jsxs)(o.default,{header:e.formatMessage({id:"title__inscribe"}),headerDescription:Object(w.jsx)(_,{network:U}),rightContent:Object(w.jsx)(Z,{}),height:"640px",primaryActionTranslationId:"action__next",hideSecondaryAction:!0,primaryActionProps:{onPromise:W,isDisabled:V},staticChildrenProps:{flex:1,padding:"16px"},children:[Object(w.jsx)(H,{numberOfSteps:3,currentStep:1}),Object(w.jsx)(s.default,{style:{marginTop:16},selectedIndex:r,onChange:u,values:[e.formatMessage({id:"form__file"}),e.formatMessage({id:"form__text"})]}),Object(w.jsxs)(a.default,{mt:"24px",children:[0===r?Object(w.jsx)(B,{file:T,setFileFromOut:P,setError:L}):Object(w.jsx)(c.default,{width:"full",h:"148px",value:A,onChangeText:E,placeholder:e.formatMessage({id:"form__type_here"})}),0===r&&(null!=T&&T.dataForUI||N.length>0)?Object(w.jsx)(Y,{file:T,error:N}):null,0===r&&N.length>0?Object(w.jsx)(i.default,{mt:"12px",typography:"Caption",color:"text-critical",children:N}):null,Object(w.jsx)(i.default,{typography:"Caption",color:"text-subdued",mt:"12px",children:e.formatMessage({id:"content__ordinal_support_jpg_webp_png_gif_txt_mp3_mp4_and_more"})})]})]})},$=n(63),J=n(314),ee=n(175),te=n(597),ne=n(580),re=n(64),oe=n(195),ae=n.n(oe),ie=n(204),ce=n(108),se=n(235),le=n(312),ue=n(19),de=n(125),fe=n(203),pe=function(e){var t=e.file,n=e.text;return t||n?t?t.type.includes("image/png")||t.type.includes("image/jpeg")?Object(w.jsx)(a.default,{width:120,height:120,borderRadius:"6px",bgColor:"surface-default",children:Object(w.jsx)(D.default,{resizeMethod:"auto",resizeMode:"contain",width:120,height:120,source:{uri:t.dataForUI}})}):Object(w.jsx)(k.default,{bgColor:"surface-default",width:120,height:120,borderRadius:"6px",px:"4px",children:Object(w.jsx)(i.default,{typography:"Body2Mono",numberOfLines:2,textAlign:"center",lineBreakMode:"middle",color:"text-disabled",children:t.type.toUpperCase()})}):n&&n.length>0?Object(w.jsx)(c.default,{isDisabled:!0,value:n,width:"full",h:"96px",editable:!1,_focus:{borderColor:"border-default",bg:"action-secondary-default",_hover:{borderColor:"border-default"}}}):null:null};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e){var t=e.label;return Object(w.jsx)(ne.default,{trigger:function(e){var t=Object.assign({},(ae()(e),e));return Object(w.jsx)(re.default,me(me({},t),{},{children:Object(w.jsx)(I.default,{name:"InformationCircleMini",size:16,color:"icon-subdued"})}))},bodyProps:{children:Object(w.jsx)(i.default,{children:t})}})},je=function(){var e=Object(h.default)(),t=Object(m.useNavigation)(),n=Object(m.useRoute)(),c=(null==n?void 0:n.params)||{},s=c.networkId,u=c.accountId,f=c.receiveAddress,v=c.contents,y=c.size,x=c.file,T=j.default.serviceInscribe,P=Object(O.useActiveSideAccount)({accountId:u,networkId:s}),C=P.account,M=P.network,D=Object(b.useState)(le.INSCRIPTION_PADDING_SATS_VALUES.default),R=p()(D,2),N=R[0],L=R[1],B=Object(r.default)(),F=Object(b.useRef)(!1),U=Object(b.useState)(),W=p()(U,2),V=W[0],z=W[1],G=Object(fe.useSingleToken)(s,"").token,K=Object(ie.default)(),q=Object(b.useState)(!0),X=p()(q,2),Y=X[0],Q=X[1],ne=Object(b.useRef)(!0),oe=Object(b.useCallback)(function(){var e=d()((function*(e){Q(!0);var t=yield T.fetchFeeRates();if(t){var n=yield T.createInscribeOrder({toAddress:f,contents:v,feeRate:t.fastestFee,globalPaddingSats:e});return z(n),Q(!1),n}}));return function(t){return e.apply(this,arguments)}}(),[v,f,T]),ae=Object(b.useMemo)((function(){var e=v[0];if(e&&"text"===e.categoryType)return A.default.hexToText(e.hex)}),[v]);Object(b.useEffect)((function(){ne.current&&(ne.current=!1,oe(le.INSCRIPTION_PADDING_SATS_VALUES.default))}),[oe]);var be=Object(b.useState)(!1),je=p()(be,2),Oe=je[0],ge=je[1],ve=Object(b.useState)(!1),ye=p()(ve,2),xe=ye[0],we=ye[1],_e=Object(b.useCallback)(d()((function*(){if(C&&M&&G&&V){var n=yield oe(N);if(void 0!==n){we(!0);try{var r=yield T.buildInscribeCommitEncodedTx({to:n.fundingAddress,amount:n.fundingValueNative}),o=function(){var e=d()((function*(e){setTimeout((function(){ge(!0)}),500);try{var n=yield T.submitInscribeOrder({order:V,commitSignedTx:e});if(K(),n.errors.length>0)l.default.show({title:n.errors[0].message},{type:"error"});else if(n.txids.length>0){var r={networkId:s,accountId:u,txid:n.txids[0],type:"Send",isSingleTransformMode:!0};t.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.Send,params:{screen:g.SendModalRoutes.SendFeedbackReceipt,params:r}})}}catch(a){ue.default.common.error("submitOrder error = ",a),ge(!1),F.current=!1;var o=a.message;o&&l.default.show({title:o},{type:"error"})}}));return function(t){return e.apply(this,arguments)}}();r?(ge(!0),t.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.Send,params:{screen:g.SendModalRoutes.SendConfirm,params:{accountId:u,networkId:s,signOnly:!0,feeInfoEditable:!0,feeInfoUseFeeInTx:!1,hideSendFeedbackReceipt:!0,hideAdvancedSetting:!0,encodedTx:r,onSuccess:function(){var e=d()((function*(e){F.current=!0,yield o(e)}));return function(t){return e.apply(this,arguments)}}(),onModalClose:function(){!1===F.current&&ge(!1)}}}})):yield o(),we(!1)}catch(c){we(!1);var a=c.key,i=c.message;l.default.show({title:"form__amount_invalid"===a?e.formatMessage({id:"msg__insufficient_balance"}):i},{type:"error"})}}}})),[C,u,K,e,t,M,s,V,oe,N,T,G]),ke=Object(b.useMemo)((function(){var t,n;return Object(w.jsxs)(a.default,{position:"absolute",bottom:B?0:-72,left:0,children:[Object(w.jsx)(i.default,{typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"form__available_balance"})}),Object(w.jsx)(de.FormatBalanceTokenOfAccount,{accountId:u,networkId:s,token:me({id:null!=(t=null==G?void 0:G.id)?t:"",name:null!=(n=null==G?void 0:G.name)?n:""},G||{}),render:function(e){return Object(w.jsx)(i.default,{typography:"Body1Strong",children:e})}})]})}),[u,e,B,s,G]);return Object(w.jsx)(o.default,{header:e.formatMessage({id:"title__inscribe"}),headerDescription:Object(w.jsx)(_,{network:M}),rightContent:Object(w.jsx)(Z,{}),footer:Oe?null:void 0,height:"640px",primaryActionTranslationId:"action__next",primaryActionProps:{onPress:_e,isLoading:xe,isDisabled:Y},hideSecondaryAction:!0,staticChildrenProps:{flex:1,padding:"16px"},children:Oe?Object(w.jsx)(k.default,{flex:1,children:Object(w.jsx)(S.default,{size:"lg"})}):Object(w.jsxs)($.default,{flex:1,justifyContent:"space-between",children:[Object(w.jsxs)(J.default,{mx:"-16px",bounces:!1,contentContainerStyle:{paddingHorizontal:16},children:[Object(w.jsx)(H,{numberOfSteps:3,currentStep:3}),Object(w.jsx)(i.default,{mt:"16px",typography:"Heading",children:e.formatMessage({id:"form__inscribe_preview"})}),Object(w.jsx)(i.default,{mt:"16px",mb:"8px",typography:"Body1Strong",color:"text-subdued",children:e.formatMessage({id:"form__inscription_file_preview"})}),Object(w.jsx)(pe,{file:x,text:ae}),Object(w.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",children:[Object(w.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[Object(w.jsx)(i.default,{typography:"Body1Strong",color:"text-subdued",mr:"4px",children:e.formatMessage({id:"form__inscription_value"})}),Object(w.jsx)(he,{label:e.formatMessage({id:"content__set_the_value_of_the_utxo_stored_in_this_inscription"})})]}),Object(w.jsx)(i.default,{typography:"Body1",children:N+" sats"})]}),Object(w.jsxs)(te.default,{py:"4px",width:"100%",minValue:546,maxValue:1e4,accessibilityLabel:"sat",step:1,value:N,onChange:function(e){Q(!0),L(e)},onChangeEnd:function(e){L(e),oe(e)},children:[Object(w.jsx)(te.default.Track,{bg:"surface-neutral-default",height:"4px",children:Object(w.jsx)(te.default.FilledTrack,{bg:"interactive-default",height:"4px"})}),Object(w.jsx)(te.default.Thumb,{style:{position:"absolute"},borderWidth:0,bg:"transparent",children:Object(w.jsx)(a.default,{borderRadius:"full",borderColor:"icon-default",width:"16px",height:"16px",borderWidth:"3px",bg:"surface-neutral-default"})})]}),Object(w.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",children:[Object(w.jsx)(i.default,{typography:"Body1Strong",color:"text-subdued",children:e.formatMessage({id:"form__inscription_owner"})}),Object(w.jsxs)(re.default,{flexDirection:"row",alignItems:"center",onPress:function(){Object(se.copyToClipboard)(f),l.default.show({title:e.formatMessage({id:"msg__copied"})})},children:[Object(w.jsx)(i.default,{typography:"Body1",mr:"8px",children:Object(ce.shortenAddress)(f,6)}),Object(w.jsx)(I.default,{name:"Square2StackOutline",size:20})]})]}),Object(w.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",children:[Object(w.jsx)(i.default,{typography:"Body1Strong",color:"text-subdued",children:e.formatMessage({id:"form__inscription_file_size"})}),Object(w.jsx)(i.default,{typography:"Body1",children:Object(E.formatBytes)(y)})]}),Object(w.jsxs)(a.default,{my:"16px",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(w.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[Object(w.jsx)(i.default,{typography:"Body1Strong",color:"text-subdued",mr:"4px",children:e.formatMessage({id:"form__inscribing_fee"})}),Object(w.jsx)(he,{label:e.formatMessage({id:"content__network_fee_for_inscription_genesis_tx"})})]}),Y||void 0===V||void 0===V.fundingValue?Object(w.jsx)(ee.default,{shape:"Subheading"}):Object(w.jsx)(i.default,{typography:"Body1",children:V.fundingValue-N+" sats"})]})]}),ke]})})},Oe=n(45),ge=n(369),ve=n(302),ye=function(){var e=Object(h.default)(),t=Object(m.useRoute)(),n=((null==t?void 0:t.params)||{}).orderHistory,r=Object(Oe.useActiveWalletAccount)().network,a=Object(b.useCallback)((function(){var e=Object(ge.buildTransactionDetailsUrl)(r,n.txid);Object(ve.openUrlExternal)(e)}),[r,n.txid]);return Object(w.jsx)(o.default,{header:e.formatMessage({id:"title__order_info"}),height:"640px",footer:null,staticChildrenProps:{flex:1,padding:"16px"},children:Object(w.jsxs)(J.default,{children:[Object(w.jsxs)($.default,{space:"12px",children:[Object(w.jsx)(i.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__payment_info__uppercase"})}),Object(w.jsxs)($.default,{space:"4px",padding:"16px",bgColor:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",children:[Object(w.jsx)(i.default,{typography:"Body2Strong",color:"text-subdued",children:"TXID"}),Object(w.jsx)(re.default,{onPress:a,children:Object(w.jsx)(i.default,{typography:"Body1Strong",color:"text-subdued",children:n.txid})})]})]}),Object(w.jsxs)($.default,{space:"12px",mt:"24px",children:[Object(w.jsx)(i.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__receive__uppercase"})}),Object(w.jsxs)($.default,{space:"4px",padding:"16px",bgColor:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",children:[Object(w.jsx)(i.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"form__receive_address"})}),Object(w.jsx)(i.default,{typography:"Body1Strong",color:"text-subdued",children:n.to})]}),Object(w.jsx)(i.default,{typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"content__the_address_above_is_a_taproot_address_to_receive_your_inscription"})})]}),Object(w.jsxs)($.default,{space:"12px",mt:"24px",children:[Object(w.jsx)(i.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__inscriptions__uppercase"})}),Object(w.jsx)($.default,{space:"4px",padding:"16px",bgColor:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",children:Object(w.jsx)(i.default,{typography:"Body1Strong",color:"text-subdued",children:n.previewText})})]})]})})},xe=n(47),we=n(126),_e=n(167),ke=n.n(_e),Ie=n(1088),Se=function(){var e=Object(h.default)(),t=Object(m.useRoute)(),n=Object(b.useRef)(),r=Object(m.useNavigation)(),i=j.default.serviceInscribe,c=(null==t?void 0:t.params)||{},s=c.networkId,l=c.accountId,u=c.contents,f=c.size,v=c.file,y=Object(O.useActiveSideAccount)({accountId:l,networkId:s}),x=y.account,k=y.network,I=Object(we.default)({defaultValues:{address:null==x?void 0:x.address},mode:"onChange"}),S=I.control,T=I.watch,P=I.formState.isValid,C=Object(b.useState)({warningMessage:"",successMessage:"",errorMessage:""}),M=p()(C,2),A=M[0],E=M[1],D=T("address"),R=Object(b.useCallback)((function(t){n.current&&clearTimeout(n.current),n.current=setTimeout(d()((function*(){try{E({warningMessage:"",errorMessage:"",successMessage:""});var n=yield i.checkValidTaprootAddress({address:t,networkId:s,accountId:l});return E(n?{warningMessage:"",errorMessage:"",successMessage:e.formatMessage({id:"form__enter_recipient_address_valid"})}:{warningMessage:"",errorMessage:e.formatMessage({id:"msg__invalid_address_ordinal_can_only_be_sent_to_taproot_address"}),successMessage:""}),n}catch(r){return E({warningMessage:"",errorMessage:e.formatMessage({id:"msg__invalid_address_ordinal_can_only_be_sent_to_taproot_address"}),successMessage:""}),!1}})),100)}),[l,e,s,i]),N=0===D.length||!P||A.errorMessage.length>0;return Object(w.jsx)(o.default,{header:e.formatMessage({id:"title__inscribe"}),headerDescription:Object(w.jsx)(_,{network:k}),rightContent:Object(w.jsx)(Z,{}),height:"640px",primaryActionTranslationId:"action__next",hideSecondaryAction:!0,staticChildrenProps:{flex:1,padding:"16px"},primaryActionProps:{onPress:function(){r.navigate(g.InscribeModalRoutes.CreateOrder,{file:v,networkId:s,accountId:l,receiveAddress:D,contents:u,size:f,orderId:ke.a.v4()})},isDisabled:N},children:Object(w.jsx)(a.default,{w:"full",h:"full",children:Object(w.jsxs)(xe.default,{children:[Object(w.jsx)(H,{numberOfSteps:3,currentStep:2}),Object(w.jsx)(xe.default.Item,{control:S,name:"address",label:e.formatMessage({id:"form__address_to_receive_inscription"}),warningMessage:A.warningMessage,successMessage:A.successMessage,errorMessage:A.errorMessage,rules:{required:{value:!0,message:e.formatMessage({id:"form__field_is_required"})},validate:R},children:Object(w.jsx)(Ie.default,{maxLength:103,networkId:s,placeholder:e.formatMessage({id:"form__address"}),description:e.formatMessage({id:"content__enter_the_taproot_address_to_receive_ordinal_inscriptions"}),h:{base:120,md:120},plugins:["contact","paste","scan"]})})]})})})},Te=n(234),Pe=Object(Te.default)(),Ce=[{name:g.InscribeModalRoutes.InscribeModal,component:Q},{name:g.InscribeModalRoutes.OrderList,component:X},{name:g.InscribeModalRoutes.OrderDetail,component:ye},{name:g.InscribeModalRoutes.ReceiveAddress,component:Se},{name:g.InscribeModalRoutes.CreateOrder,component:je}];t.default=function(){var e=Object(r.default)();return Object(w.jsx)(Pe.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:Ce.map((function(e){return Object(w.jsx)(Pe.Screen,{name:e.name,component:e.component},e.name)}))})}},1669:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(50),i=n(57),c=n(76),s=n(12),l=n(411),u=n(82),d=n(51),f=n(201),p=n(48),b=n(13),m=n.n(b),h=n(4),j=n.n(h),O=n(1),g=n(44),v=n(88),y=n(311),x=n(17),w=n(25),_=n(15),k=n.n(_),I=n(190),S=n(0),T=["sortByIndex","onSortByChange","infoIndex","onInfoChange"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var C=function(e){var t=e.sortByIndex,n=e.onSortByChange,r=e.infoIndex,a=e.onInfoChange,i=k()(e,T),c=Object(O.useMemo)((function(){return[{type:"radio",title:"form__sort_by__uppercase",defaultValue:t,children:[{id:"action__utxo_balance",value:1},{id:"action__utxo_age",value:2},{id:"action__utxo_address",value:3},{id:"action__utxo_label",value:4}],onChange:n},{type:"radio",title:"form__information__uppercase",defaultValue:r,children:[{id:"action__view_mined_time",value:1},{id:"action__view_path",value:2}],onChange:a}]}),[t,n,r,a]);return Object(S.jsx)(I.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({closeOnSelect:!1,options:c},i))},M=n(262),A=n(54),E=n(580),D=n(64),R=n(40),N=n(195),L=n.n(N),B=n(100),F=n(63),U=n(41),H=n(236),W=n(175),V=n(20),z=n(89),G=n(215),K=n(21),q=n.n(K),Z=n(916),X=n(108),Y=n(125),Q=n(807),$=n(24),J=n(819),ee=n(369),te=n(109),ne=n(47),re=n(126),oe=n(99);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ie=function(e){var t=e.onClose,n=e.onConfirm,r=e.defaultLabel,o=Object(v.default)(),i=Object(a.default)(),c=Object(re.default)({defaultValues:{label:r}}),s=c.control,l=c.handleSubmit,u=Object(O.useCallback)((function(e){var r=e.label;null==t||t(),n(r)}),[n,t]);return Object(S.jsx)(te.default,{visible:!0,onClose:t,children:Object(S.jsxs)(F.default,{children:[Object(S.jsx)(ne.default,{w:"full",mt:5,children:Object(S.jsx)(ne.default.Item,{name:"label",control:s,rules:{maxLength:{value:15,message:o.formatMessage({id:"msg__label_name_can_be_up_to_15_characters"})}},children:Object(S.jsx)(ne.default.Input,{onKeyPress:function(e){"Enter"!==e.nativeEvent.key?"Escape"===e.nativeEvent.key&&(null==t||t()):l(u)()},placeholder:o.formatMessage({id:"action__add_label"})})})}),Object(S.jsxs)(U.default,{mt:6,mb:4,space:3,alignItems:"center",justifyContent:"center",children:[Object(S.jsx)(A.default,{size:i?"xl":"lg",type:"basic",flex:1,onPress:function(){return null==t?void 0:t()},children:o.formatMessage({id:"action__cancel"})}),Object(S.jsx)(A.default,{size:i?"xl":"lg",type:"primary",flex:1,onPress:l(u),children:o.formatMessage({id:"action__confirm"})})]})]})})},ce=function(e){Object(oe.showDialog)(Object(S.jsx)(ie,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))},se=["item","showFrozenOption","network","onConfirmEditLabel","onFrozenUTXO"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ue=function(e){var t=e.item,n=e.showFrozenOption,r=void 0===n||n,a=e.network,i=e.onConfirmEditLabel,c=e.onFrozenUTXO,s=k()(e,se),l=Object(ee.default)(a).openTransactionDetails,u=Object(O.useCallback)((function(){l(t.txid)}),[t,l]),d=Object(O.useMemo)((function(){return!!(t.label&&t.label.length>0)}),[t.label]),f=Object(O.useMemo)((function(){return t.frozen}),[t.frozen]),p=Object(O.useCallback)((function(){var e;ce({defaultLabel:null!=(e=t.label)?e:"",onConfirm:function(e){i(t,e)}})}),[t,i]),b=Object(O.useCallback)((function(){i(t,"")}),[t,i]),m=Object(O.useCallback)((function(){c(t,!f)}),[t,c,f]),h=Object(O.useMemo)((function(){return[{id:d?"action__edit_label":"action__add_label",onPress:p,icon:"Square2StackOutline"},d&&{id:"action__delete_label",onPress:b,icon:"TrashOutline"},function(){return Object(S.jsx)(B.default,{my:1})},{id:"action__view_in_browser",onPress:u,icon:"GlobeAltOutline"},r&&function(){return Object(S.jsx)(B.default,{my:1})},r&&{id:f?"action__unfreeze":"action__freeze",onPress:m,icon:"SnowFlakeMini"}]}),[u,d,f,r,p,b,m]);return Object(S.jsx)(I.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:h},s))};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){var t=e.showCheckbox,n=e.isAllSelected,r=e.triggerAllSelected,o=Object(v.default)();return Object(S.jsxs)(z.default,{children:[t&&Object(S.jsx)(z.default.Column,{children:Object(S.jsx)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",children:Object(S.jsx)(G.default,{w:5,isChecked:n,onChange:function(){return r(!n)}})})}),Object(S.jsx)(z.default.Column,{text:{label:o.formatMessage({id:"form__address"}),labelProps:{typography:"Subheading",color:"text-subdued"}},flex:1}),Object(S.jsx)(z.default.Column,{mr:-2,alignItems:"flex-end",text:{label:o.formatMessage({id:"content__amount"}),labelProps:{typography:"Subheading",textAlign:"right",color:"text-subdued"}},flex:1}),Object(S.jsx)(z.default.Column,{children:Object(S.jsx)(s.default,{w:"10px"})})]})},be=function(e){var t,n=e.listType,r=e.accountId,o=e.network,a=e.token,i=e.item,c=e.showCheckbox,l=e.selectedUtxos,d=void 0===l?[]:l,f=e.blockTimeMap,p=e.showPath,b=e.onChange,m=e.onConfirmEditLabel,h=e.onFrozenUTXO,j=Object(J.default)().formatDate,g=d.find((function(e){return e===Object(y.getUtxoUniqueKey)(i)})),v=Object(O.useMemo)((function(){return!!(i.label&&i.label.length>0)}),[i.label]),x=Object(O.useMemo)((function(){return f[i.height]?j(new Date(1e3*f[i.height]),{hideTimeForever:!0}):""}),[i.height,j,f]),w=Object(O.useMemo)((function(){return"Available"===n?!c:"Frozen"!==n||!i.hideFrozenOption}),[n,c,i.hideFrozenOption]);return Object(S.jsxs)(z.default,{flex:1,space:2,onPress:function(){i.frozen||b(i,!g)},children:[c&&Object(S.jsx)(z.default.Column,{children:Object(S.jsx)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",children:Object(S.jsx)(G.default,{w:5,isChecked:!!g,onChange:function(){0}})})}),Object(S.jsx)(z.default.Column,{children:Object(S.jsxs)(F.default,{children:[Object(S.jsx)(V.default,{typography:"Body2Strong",children:Object(X.shortenAddress)(i.address)}),Object(S.jsxs)(U.default,{alignItems:"center",children:[p?Object(S.jsx)(V.default,{typography:"Body2",color:"text-subdued",children:i.path}):x?Object(S.jsx)(V.default,{typography:"Body2",color:"text-subdued",children:x}):Object(S.jsx)(W.default,{shape:"Body2"}),v&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(V.default,{mx:1,children:"\u2022"}),Object(S.jsx)(H.default,{size:"sm",title:null!=(t=i.label)?t:"",type:"default",maxWidth:$.default.isNativeAndroid?"60px":"80px",labelProps:{numberOfLines:1,maxWidth:$.default.isNativeAndroid?"60px":"80px"}})]})]})]})}),Object(S.jsx)(z.default.Column,{children:Object(S.jsxs)(s.default,{alignItems:"flex-end",flex:1,mr:-2,minW:"113px",children:[Object(S.jsx)(Y.FormatBalance,{balance:new q.a(i.value).shiftedBy(-o.decimals),formatOptions:{fixed:o.decimals},suffix:o.symbol,render:function(e){return Object(S.jsx)(V.default,{typography:{sm:"Body2",md:"Body2"},style:{userSelect:"none"},wordBreak:"break-all",textAlign:"right",children:e})}}),Object(S.jsx)(Y.FormatCurrencyTokenOfAccount,{accountId:r,networkId:o.id,token:a,value:new q.a(i.value).shiftedBy(-o.decimals),render:function(e){return Object(S.jsx)(V.default,{typography:"Body2",color:"text-subdued",children:e})}})]})}),Object(S.jsx)(z.default.Column,{children:Object(S.jsx)(ue,{item:i,network:o,onConfirmEditLabel:m,onFrozenUTXO:h,showFrozenOption:w,children:Object(S.jsx)(u.default,{alignItems:"flex-end",type:"plain",name:"EllipsisVerticalMini",color:"icon-subdued",size:"xs",hitSlop:12,circle:!0,mr:-2})})})]},Object(y.getUtxoUniqueKey)(i))},me=function(e){var t=e.isDustSeparator,n=Object(v.default)();return t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(B.default,{w:"auto",mx:2}),Object(S.jsx)(U.default,{mt:4,mb:2,mx:2,children:Object(S.jsx)(E.default,{trigger:function(e){var t=Object.assign({},(L()(e),e));return Object(S.jsx)(D.default,fe(fe({},t),{},{children:Object(S.jsxs)(U.default,{alignItems:"center",space:1,alignSelf:"flex-start",children:[Object(S.jsx)(V.default,{typography:"Subheading",color:"text-subdued",children:n.formatMessage({id:"form__dust__uppercase"})}),Object(S.jsx)(R.default,{name:"QuestionMarkCircleMini",size:16,color:"icon-subdued"})]})}))},bodyProps:{children:Object(S.jsx)(V.default,{children:n.formatMessage({id:"content__dust_refer_to_very_tiny_amount_of_bitcoin"})})}})})]}):Object(S.jsx)(Z.default,{})},he=function(e){var t=e.currentPage,n=e.prevButtonDisabled,r=e.nextButtonDisabled,o=e.onPagePress,a=e.onNextPagePress,i=e.onPrevPagePress;return Object(S.jsx)(d.default,{my:8,children:Object(S.jsxs)(U.default,{space:0,alignItems:"flex-end",children:[Object(S.jsx)(A.default,{w:"40px",type:"basic",borderRightRadius:0,leftIconName:"ChevronLeftMini",onPress:i,isDisabled:n}),Object(S.jsx)(A.default,{w:"39px",h:"38px",type:"basic",onPress:o,isDisabled:!1,borderLeftWidth:0,borderRightWidth:0,borderLeftRadius:0,borderRightRadius:0,children:Object(S.jsx)(V.default,{maxW:"30px",maxH:"38px",isTruncated:!0,children:t})}),Object(S.jsx)(A.default,{w:"40px",type:"basic",borderLeftRadius:0,leftIconName:"ChevronRightMini",onPress:a,isDisabled:r})]})})},je=function(e){var t=e.dataSource,n=e.network,r=e.currentPage,o=e.prevButtonDisabled,a=e.nextButtonDisabled,i=e.onPagePress,c=e.onNextPagePress,l=e.onPrevPagePress,u=Object(v.default)(),d=Object(O.useMemo)((function(){return t.reduce((function(e,t){return e.plus(t.value)}),new q.a(0)).shiftedBy(-n.decimals).toFixed()}),[t,n]),f=Object(O.useMemo)((function(){return t.length}),[t]);return Object(S.jsxs)(s.default,{children:[Object(S.jsx)(B.default,{w:"auto",mx:2}),Object(S.jsxs)(U.default,{mt:4,mx:2,alignItems:"center",justifyContent:"space-between",children:[Object(S.jsx)(V.default,{typography:"Subheading",color:"text-subdued",children:u.formatMessage({id:"form__str_items__uppercase"},{0:f})}),Object(S.jsx)(Y.FormatBalance,{balance:d,formatOptions:{fixed:n.decimals},suffix:n.symbol,render:function(e){return Object(S.jsx)(V.default,{typography:"Subheading",color:"text-subdued",textAlign:"right",children:e})}})]}),Object(S.jsx)(he,{currentPage:r,onPagePress:i,onNextPagePress:c,onPrevPagePress:l,prevButtonDisabled:o,nextButtonDisabled:a})]})},Oe=function(e){var t=e.type,n=e.config,r=e.setConfig,o=e.accountId,a=e.network,i=e.token,c=e.dataSource,s=e.showDustListHeader,l=e.showCheckbox,u=e.selectedUtxos,d=e.isAllSelected,f=e.triggerAllSelected,p=e.blockTimeMap,b=e.showPath,m=e.onChange,h=e.onConfirmEditLabel,j=e.onFrozenUTXO,g=Object(O.useMemo)((function(){return 25}),[]),v=Object(O.useMemo)((function(){return"Available"===t?"availabelListCurrentPage":"frozenListCurrentPage"}),[t]),x=Object(O.useMemo)((function(){return Math.ceil(c.length/g)}),[c,g]),w=Object(O.useMemo)((function(){return n[v]>=x}),[n,x,v]),_=Object(O.useMemo)((function(){var e=(n[v]-1)*g;return c.slice(e,g+e)}),[n,c,g,v]);Object(O.useEffect)((function(){var e=Math.max(x,1);n[v]>e&&r((function(t){var n;return fe(fe({},t),{},((n={})[v]=e,n))}))}),[x,n,r,v]);var k=Object(O.useCallback)((function(e){var n=e.item,r=e.index,c=e.separators;return 1===r&&c.updateProps("leading",{foo:"bar"}),Object(S.jsx)(be,{listType:t,item:n,accountId:o,network:a,token:i,showCheckbox:l,selectedUtxos:u,blockTimeMap:p,showPath:b,onChange:m,onConfirmEditLabel:h,onFrozenUTXO:j})}),[t,l,u,a,p,i,o,b,m,h,j]),I=Object(O.useCallback)((function(){var e="Frozen"===t&&s;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(pe,{showCheckbox:l,isAllSelected:d,triggerAllSelected:f}),e&&Object(S.jsx)(me,{isDustSeparator:!0})]})}),[l,d,f,t,s]),T=Object(O.useCallback)((function(){return Object(S.jsx)(je,{dataSource:c,network:a,currentPage:n[v],prevButtonDisabled:1===n[v],nextButtonDisabled:w,onPagePress:function(){Object(Q.showJumpPageDialog)({currentPage:n[v]-1,maxPage:x,onConfirm:function(e){r((function(t){var n;return fe(fe({},t),{},((n={})[v]=e,n))}))}})},onPrevPagePress:function(){r((function(e){var t;return 0===e[v]?e:fe(fe({},e),{},((t={})[v]=e[v]-1,t))}))},onNextPagePress:function(){r((function(e){var t;return w?e:fe(fe({},e),{},((t={})[v]=e[v]+1,t))}))}})}),[c,a,n,r,w,x,v]),P=Object(O.useCallback)((function(e){var t=e.leadingItem;return Object(S.jsx)(me,{isDustSeparator:!!t.dustSeparator})}),[]);return a?Object(S.jsx)(M.default,{data:_,ListHeaderComponent:I,ListFooterComponent:T,ItemSeparatorComponent:P,renderItem:k,keyExtractor:function(e){return Object(y.getUtxoUniqueKey)(e)}}):null},ge=n(121),ve=n(52),ye=function(e){var t=e.networkId,n=Object(w.useNetwork)({networkId:t}).network;return Object(S.jsx)(s.default,{children:Object(S.jsx)(ge.default,{size:4,showInfo:!0,name:null==n?void 0:n.name,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==n?void 0:n.name,logoURI:null==n?void 0:n.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})})},xe=function(e){var t,n,r,o,a,i,c=e.accountId,l=e.network,u=e.token,d=e.targetAmount,f=e.allUtxos,b=e.dustUtxos,m=e.encodedTx,h=e.selectedUtxos,j=e.isLoading,g=e.onConfirm,w=Object(v.default)(),_=Object(O.useMemo)((function(){return f.filter((function(e){return h.includes(Object(y.getUtxoUniqueKey)(e))})).reduce((function(e,t){return e.plus(t.value)}),new q.a(0))}),[f,h]),k=Object(O.useMemo)((function(){var e;return new q.a(null!=d?d:0).shiftedBy(null!=(e=null==l?void 0:l.decimals)?e:8).minus(_)}),[d,_,l]),I=Object(O.useMemo)((function(){return!j&&k.gt(0)}),[k,j]),T=Object(O.useMemo)((function(){return h.some((function(e){return b.some((function(t){return Object(y.getUtxoUniqueKey)(t)===e}))}))}),[h,b]),P=Object(O.useCallback)((function(e){l&&m&&x.default.engine.updateEncodedTx({networkId:l.id,accountId:c,encodedTx:m,payload:{selectedUtxos:e},options:{type:ve.IEncodedTxUpdateType.advancedSettings}}).then((function(){null==g||g(e)})).catch((function(){p.default.show({title:w.formatMessage({id:"form__amount_invalid"},{0:null==l?void 0:l.symbol})},{type:"error"})}))}),[g,l,m,c,w]);return Object(S.jsxs)(s.default,{p:4,pt:0,children:[I&&Object(S.jsx)(V.default,{typography:"Caption",color:"text-critical",mt:2,children:w.formatMessage({id:"msg__str_btc_missing_from_tx_input"},{0:k.shiftedBy(-(null!=(t=null==l?void 0:l.decimals)?t:8)).toFixed()+" "+(null!=(n=null==l?void 0:l.symbol)?n:"")})}),T&&Object(S.jsx)(V.default,{typography:"Caption",color:"text-warning",mt:2,children:w.formatMessage({id:"msg__using_dust_will_increase_tx_fee_and_reduce_anonymity_and_privacy"})}),Object(S.jsxs)(U.default,{alignItems:"flex-start",justifyContent:"space-between",mt:2,children:[Object(S.jsx)(V.default,{typography:"Body1Strong",children:w.formatMessage({id:"form__str_selected"},{0:h.length||0})}),Object(S.jsxs)(F.default,{alignItems:"flex-end",space:1,children:[Object(S.jsx)(Y.FormatBalance,{balance:_.shiftedBy(-(null!=(r=null==l?void 0:l.decimals)?r:8)),formatOptions:{fixed:null!=(o=null==l?void 0:l.decimals)?o:8},suffix:null==l?void 0:l.symbol,render:function(e){return Object(S.jsx)(V.default,{typography:"Body1Strong",children:e})}}),Object(S.jsx)(Y.FormatCurrencyTokenOfAccount,{accountId:c,networkId:null!=(a=null==l?void 0:l.id)?a:"",token:u,value:_.shiftedBy(-(null!=(i=null==l?void 0:l.decimals)?i:8)),render:function(e){return Object(S.jsx)(V.default,{typography:"Body2",color:"text-subdued",children:e})}})]})]}),Object(S.jsx)(A.default,{type:"primary",size:"xl",mt:4,onPress:function(){return P(h)},isDisabled:I,children:w.formatMessage({id:"action__done"})})]})};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(){var e,t=Object(v.default)(),n=Object(g.useRoute)().params,r=n.networkId,o=n.accountId,a=n.isSelectMode,b=n.encodedTx,h=n.onConfirm,_=null==(e=Object(w.useAppSelector)((function(e){var t;return null==(t=e.settings.advancedSettings)?void 0:t.useDustUtxo})))||e,k=Object(O.useState)(!1),I=j()(k,2),T=I[0],P=I[1],M=Object(O.useState)(0),A=j()(M,2),E=A[0],D=A[1],R=Object(O.useState)([]),N=j()(R,2),L=N[0],B=N[1],F=Object(O.useState)([]),U=j()(F,2),H=U[0],W=U[1],V=Object(O.useState)([]),z=j()(V,2),G=z[0],K=z[1],q=Object(O.useState)([]),Z=j()(q,2),X=Z[0],Y=Z[1],Q=Object(O.useState)(a&&b?b.inputs.map((function(e){return Object(y.getUtxoUniqueKey)(e)})):[]),$=j()(Q,2),J=$[0],ee=$[1],te=Object(O.useState)({}),ne=j()(te,2),re=ne[0],oe=ne[1],ae=Object(O.useState)(),ie=j()(ae,2),ce=ie[0],se=ie[1],le=Object(w.useNetwork)({networkId:r}).network,ue=function(){var e=Object(O.useState)(1),t=j()(e,2),n=t[0],r=t[1],o=Object(O.useState)(1),a=j()(o,2),i=a[0],c=a[1],s=Object(O.useCallback)((function(e){r(e)}),[]),l=Object(O.useCallback)((function(e){c(e)}),[]),u=Object(O.useMemo)((function(){return 2===i}),[i]),d=Object(O.useMemo)((function(){switch(n){case 1:return"balance";case 2:return"height";case 3:return"address";case 4:return"label";default:return"balance"}}),[n]);return{menuSortByIndex:n,menuInfoIndex:i,onSortByChange:s,onInfoChange:l,showPath:u,sortMethod:d}}(),de=ue.menuSortByIndex,fe=ue.menuInfoIndex,pe=ue.onSortByChange,be=ue.onInfoChange,me=ue.showPath,he=ue.sortMethod,je=Object(O.useMemo)((function(){var e;return null!=(e=null==b?void 0:b.transferInfo.amount)?e:"0"}),[null==b?void 0:b.transferInfo.amount]),ge=Object(O.useCallback)((function(){return P(!0),x.default.serviceUtxos.getUtxos(r,o,he).then((function(e){return B(e.utxos),W(e.utxosWithoutDust),K(e.utxosDust),Y(e.frozenUtxos),e.utxos})).finally((function(){P(!1)}))}),[r,o,he]),ve=Object(O.useState)({availabelListCurrentPage:1,frozenListCurrentPage:1}),we=j()(ve,2),ke=we[0],Ie=we[1],Se=Object(O.useMemo)((function(){return _?H.map((function(e,t){return _e(_e({},e),{},{dustSeparator:t===H.length-1&&G.length>0})})).concat(G):H}),[H,G,_]),Te=Object(O.useMemo)((function(){if(!_){var e=X.map((function(e,t){return _e(_e({},e),{},{dustSeparator:t===X.length-1&&G.length>0})})),t=G.map((function(e){return _e(_e({},e),{},{hideFrozenOption:!0})}));return e.concat(t)}return X}),[X,G,_]),Pe=Object(O.useMemo)((function(){return G.length>0&&!_&&X.length<=0}),[X,_,G]);Object(O.useEffect)((function(){ge()}),[de,ge]),Object(O.useEffect)((function(){ge().then((function(e){x.default.serviceUtxos.getUtxosBlockTime(r,o,e).then((function(e){oe(e)}))})),x.default.engine.findToken({networkId:r,tokenIdOnNetwork:""}).then((function(e){se(e)}))}),[r,o,ge]);var Ce=Object(O.useMemo)((function(){return Se.length>0&&Se.every((function(e){return J.includes(Object(y.getUtxoUniqueKey)(e))}))}),[J,Se]),Me=Object(O.useState)(!1),Ae=j()(Me,2)[1],Ee=Object(O.useCallback)((function(e){Ae(e),ee(e?Se.map((function(e){return Object(y.getUtxoUniqueKey)(e)})):[])}),[Se]);Object(O.useEffect)((function(){J.some((function(e){return X.find((function(t){return Object(y.getUtxoUniqueKey)(t)===e}))}))&&ee((function(e){return e.filter((function(e){return!X.find((function(t){return Object(y.getUtxoUniqueKey)(t)===e}))}))}))}),[X,J]);var De=Object(O.useCallback)((function(e){var t=Object(y.getUtxoUniqueKey)(e);J.includes(t)?ee((function(e){return e.filter((function(e){return e!==t}))})):ee((function(e){return[].concat(m()(e),[t])}))}),[J]),Re=Object(O.useCallback)((function(e,n){x.default.serviceUtxos.updateLabel(r,o,e,n).then((function(){p.default.show({title:t.formatMessage({id:"msg__success"})}),ge()}))}),[r,o,ge,t]),Ne=Object(O.useCallback)((function(e,n){x.default.serviceUtxos.updateFrozen(r,o,e,n).then((function(){p.default.show({title:t.formatMessage({id:n?"msg__utxo_is_frozen_you_can_find_it_in_frozen_tab":"msg__utxo_is_unfrozen_you_can_find_it_in_availabel_tab"})},{type:"default"}),ge()}))}),[r,o,ge,t]),Le=Object(O.useMemo)((function(){return Object(S.jsx)(d.default,{flex:1,children:Object(S.jsx)(f.default,{emoji:"\ud83d\udd73\ufe0f",title:t.formatMessage({id:"content__no_coins"}),subTitle:t.formatMessage({id:"content__no_utxos_in_this_account"})})})}),[t]),Be=Object(O.useMemo)((function(){return H.length>0||G.length>0}),[H,G]),Fe=Object(O.useMemo)((function(){return a}),[a]),Ue=Object(O.useMemo)((function(){return X.length>0||!_&&G.length>0}),[X,_,G]),He=Object(O.useMemo)((function(){return!1}),[]);return Object(S.jsxs)(i.default,{header:a?t.formatMessage({id:"title__coin_control"}):"UTXOs",headerDescription:Object(S.jsx)(ye,{networkId:r}),height:"80%",rightContent:Object(S.jsx)(C,{sortByIndex:de,onSortByChange:pe,infoIndex:fe,onInfoChange:be,children:Object(S.jsx)(u.default,{type:"plain",size:"lg",circle:!0,name:"EllipsisVerticalOutline"})}),footer:a?Object(S.jsx)(xe,{accountId:o,network:le,token:ce,allUtxos:L,dustUtxos:G,selectedUtxos:J,targetAmount:je,encodedTx:b,isLoading:T,onConfirm:h}):null,children:[Object(S.jsx)(s.default,{mb:4,children:Object(S.jsx)(l.default,{values:[t.formatMessage({id:"action__available_tab"}),t.formatMessage({id:"action__frozen_tab"})],selectedIndex:E,onChange:D})}),T?Object(S.jsx)(d.default,{h:"full",pb:6,children:Object(S.jsx)(c.default,{size:"lg"})}):null,!T&&0===E&&(Be?Object(S.jsx)(Oe,{type:"Available",config:ke,setConfig:Ie,accountId:o,network:le,token:ce,dataSource:Se,showDustListHeader:!1,showCheckbox:Fe,selectedUtxos:J,isAllSelected:Ce,triggerAllSelected:Ee,blockTimeMap:re,showPath:me,onChange:De,onConfirmEditLabel:Re,onFrozenUTXO:Ne}):Le),!T&&1===E&&(Ue?Object(S.jsx)(Oe,{type:"Frozen",config:ke,setConfig:Ie,accountId:o,network:le,token:ce,dataSource:Te,showDustListHeader:Pe,showCheckbox:He,selectedUtxos:J,isAllSelected:Ce,triggerAllSelected:Ee,blockTimeMap:re,showPath:me,onChange:De,onConfirmEditLabel:Re,onFrozenUTXO:Ne}):Le)]})},Ie=n(16),Se=n(475),Te=n(234);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ce=Object(Te.default)(),Me=[{name:Ie.CoinControlModalRoutes.CoinControlModal,component:ke}];t.default=function(){var e=Object(a.default)();return Object(S.jsx)(Ce.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerShown:!1},Object(Se.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:Me.map((function(e){return Object(S.jsx)(Ce.Screen,{name:e.name,component:e.component},e.name)}))})}},1670:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(4),a=n.n(o),i=n(1),c=n(44),s=n(88),l=n(28),u=n(220),d=n(16),f=n(305),p=n(721),b=n(722),m=n(0),h=function(){var e=Object(s.default)(),t=Object(c.useNavigation)(),n=Object(c.useRoute)().params,r=n.oldPin,o=n.newPin,h=Object(i.useState)(""),j=a()(h,2),O=j[0],g=j[1],v=Object(i.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),y=a()(v,1)[0],x=Object(i.useState)("primary"),w=a()(x,2),_=w[0],k=w[1],I=Object(i.useState)(e.formatMessage({id:"action__connect"})),S=a()(I,2),T=S[0],P=S[1],C=Object(i.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),M=a()(C,2),A=M[0],E=M[1],D=Object(i.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),R=a()(D,2),N=R[0],L=R[1],B=Object(i.useState)("guide"),F=a()(B,2),U=F[0],H=F[1],W=Object(i.useState)(0),V=a()(W,2),z=V[0],G=V[1],K=function(){(t.getParent()||t).goBack()},q=function(){k("basic"),P(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__searching"})),L(e.formatMessage({id:"title__searching_desc"})),H("connect"),u.default.cancel(),u.default.changePin(r,o,(function(t,n,r){if(n)k("primary"),P(e.formatMessage({id:"action__i_got_it"})),E(e.formatMessage({id:"title__pin_changed"})),L(e.formatMessage({id:"title__pin_changed_desc"})),H("complete");else if(t){var o,a;g(null!=(o=null==r||null==(a=r.pinRetryCount)?void 0:a.toString())?o:"0"),G(t.code)}}))},Z=function(t){switch(t.code){case 1:break;case 2:k("basic"),P(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__transferring_data"})),L(e.formatMessage({id:"title__transferring_data_desc"})),H("transfer")}};return Object(i.useEffect)((function(){return u.default.addConnectListener(Z),"ios"!==l.default.OS&&q(),function(){u.default.removeConnectListeners()}}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f.SkipAppLock,{}),Object(m.jsx)(p.default,{title:y,connectType:"ble",actionState:A,actionDescription:N,operateType:U,onCloseConnect:function(){},onActionPress:function(){switch(U){case"guide":q();break;case"connect":case"transfer":if("ios"===l.default.OS)return;u.default.cancel(),K();break;default:K()}},actionPressStyle:_,actionPressContent:T}),Object(m.jsx)(b.default,{code:z,pinRetryCount:O,onRetry:function(){return t.replace(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinInputPinModal)},onRetryConnect:function(){return q()},onExit:function(){K()},onIntoNfcSetting:function(){u.default.intoSetting(),K()},onDialogClose:function(){return G(0)}})]})},j=n(595),O=function(){var e=Object(s.default)(),t=Object(c.useNavigation)();return Object(m.jsx)(j.default,{title:e.formatMessage({id:"title__enter_current_pin"}),description:e.formatMessage({id:"title__enter_current_pin_desc"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return t.navigate(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinSetModal,{currentPin:e}),Promise.resolve("")}})},g=n(2),v=n.n(g),y=function(){var e=Object(s.default)(),t=Object(i.useState)(e.formatMessage({id:"title__verify_new_pin_desc"})),n=a()(t,2),r=n[0],o=n[1],l=Object(c.useRoute)().params,u=l.currentPin,f=l.newPin,p=Object(c.useNavigation)();return Object(m.jsx)(j.default,{title:e.formatMessage({id:"title__verify_new_pin"}),description:r,securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(){var t=v()((function*(t){return t===f||""===t?(p.popToTop(),p.replace(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinModal,{oldPin:u,newPin:f}),Promise.resolve(!0)):(yield Promise.resolve(),o(e.formatMessage({id:"content__for_both_inputs_the_pin_must_be_the_same"})),!1)}));return function(e){return t.apply(this,arguments)}}()})},x=function(){var e=Object(s.default)(),t=Object(c.useRoute)().params.currentPin,n=Object(c.useNavigation)();return Object(m.jsx)(j.default,{title:e.formatMessage({id:"title__set_up_new_pin"}),description:e.formatMessage({id:"title__set_up_new_pin_desc"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return n.navigate(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinRepeatModal,{currentPin:t,newPin:e}),Promise.resolve("")}})},w=n(234),_=Object(w.default)(),k=[{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinInputPinModal,component:O},{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinSetModal,component:x},{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinRepeatModal,component:y},{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinModal,component:h}];t.default=function(){var e=Object(r.default)();return Object(m.jsx)(_.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:k.map((function(e){return Object(m.jsx)(_.Screen,{name:e.name,component:e.component},e.name)}))})}},1671:function(e,t,n){"use strict";n.r(t);var r=n(100),o=n(12),a=n(3),i=n.n(a),c=n(1077),s=n.n(c),l=n(471),u=n(4),d=n.n(u),f=n(563),p=n(50),b=n(1),m=n(44),h=n(798),j=n(1588),O=n(69),g=n(16),v=n(338),y=n(24),x=n(17),w=n(25),_=n(45),k=n(707),I=n(2415),S=n(121),T=n(64),P=n(63),C=n(41),M=n(27),A=n(40),E=n(20),D=n(21),R=n.n(D),N=n(88),L=n(125),B=n(1089),F=n(264),U=n(0),H=function(e){var t=e.name,n=e.value,r=e.itemLength,a=e.accountAllValue,i=e.onPress,c=Object(N.default)(),s=Object(p.default)(),l=Object(b.useMemo)((function(){return n.div(a).multipliedBy(100)}),[n,a]),u=Object(b.useMemo)((function(){return Object(U.jsxs)(U.Fragment,{children:[s?null:Object(U.jsx)(o.default,{mx:"2",my:"auto",w:"1",h:"1",borderRadius:"2px",bg:"text-default"}),Object(U.jsx)(E.default,{typography:{sm:"DisplayLarge",md:"Heading"},children:Object(U.jsx)(L.FormatCurrencyNumber,{value:0,convertValue:n})})]})}),[n,s]);return Object(U.jsxs)(P.default,{bg:"surface-default",children:[Object(U.jsx)(T.default.Item,{px:"6",py:"4",bg:"surface-subdued",onPress:i,children:Object(U.jsxs)(P.default,{flex:"1",children:[Object(U.jsxs)(C.default,{flex:"1",children:[Object(U.jsxs)(C.default,{flex:"1",alignItems:"center",children:[Object(U.jsx)(o.default,{size:s?6:8,borderRadius:"full",bg:"decorative-icon-one",justifyContent:"center",alignItems:"center",mr:s?"8px":"12px",children:Object(U.jsx)(A.default,{size:s?12:16,color:"icon-on-primary",name:"DatabaseOutline"})}),Object(U.jsx)(M.default.Heading,{children:t}),s?null:u,l.isGreaterThan(0)?Object(U.jsx)(B.OverviewBadge,{rate:l}):null]}),Object(U.jsxs)(C.default,{alignItems:"center",children:[Object(U.jsx)(M.default.Body2Strong,{color:"text-subdued",children:r}),Object(U.jsx)(A.default,{size:24,name:"ChevronRightMini"})]})]}),s?u:null]})}),s?null:Object(U.jsxs)(C.default,{mt:"4",px:"6",bg:"surface-default",children:[Object(U.jsx)(M.default.Subheading,{flex:"1",color:"text-subdued",children:c.formatMessage({id:"form__protocols_uppercase"})}),Object(U.jsx)(M.default.Subheading,{flex:"1",color:"text-subdued",children:c.formatMessage({id:"form__claimable_uppercase"})}),Object(U.jsx)(M.default.Subheading,{flex:"1",color:"text-subdued",textAlign:"right",children:c.formatMessage({id:"form__value_uppercase"})})]})]})},W=Object(b.memo)((function(e){var t=e.networkId,n=e.address,r=e.limitSize,o=e.accountId,a=Object(p.default)(),i=Object(w.useNavigation)(),c=Object(w.useAccountPortfolios)({networkId:t,accountId:o,type:F.EOverviewScanTaskType.defi}).data,s=Object(b.useMemo)((function(){return c.reduce((function(e,t){return e.plus(t.protocolValue)}),new R.a(0))}),[c]),l=Object(w.useAccountValues)({networkId:t,accountId:o}).value,u=Object(b.useCallback)((function(){i.navigate(g.HomeRoutes.OverviewDefiListScreen,{networkId:t,accountId:o})}),[i,t,o]);return c.length?Object(U.jsxs)(P.default,{overflow:"hidden",borderColor:"border-subdued",borderWidth:"1px",borderRadius:12,mb:"24",children:[Object(U.jsx)(H,{name:"DeFi",value:s,accountAllValue:l,itemLength:c.length,onPress:u}),c.slice(0,r).map((function(e,r){return Object(U.jsxs)(T.default.Item,{onPress:function(){i.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.Overview,params:{screen:F.OverviewModalRoutes.OverviewProtocolDetail,params:{protocolId:e._id.protocolId,networkId:t,address:n,accountId:o}}})},flex:1,px:"6",py:"4",flexDirection:"row",alignItems:"center",borderTopWidth:0===r?0:"1px",borderTopColor:"divider",children:[Object(U.jsx)(S.default,{flex:"1",size:8,showInfo:!0,infoBoxProps:{flex:1},token:{logoURI:e.protocolIcon,networkId:e._id.networkId,name:e.protocolName},showNetworkIcon:!0}),a?null:Object(U.jsx)(M.default.Body2Strong,{flex:"1",numberOfLines:2,isTruncated:!0,children:Object(U.jsx)(L.FormatCurrencyNumber,{value:0,convertValue:+e.claimableValue})}),Object(U.jsx)(M.default.Body2Strong,{flex:"1",textAlign:"right",numberOfLines:2,isTruncated:!0,children:Object(U.jsx)(L.FormatCurrencyNumber,{value:0,convertValue:+e.protocolValue})})]},e._id.protocolId)}))]}):null})),V=n(856),z=n(76),G=n(82),K=n(74),q=n(2416),Z=function(e){var t,n,r=e.showTokenCount,a=e.showRoundTop,i=e.borderColor,c=void 0===i?"border-subdued":i,s=e.tokenEnabled,l=Object(N.default)(),u=Object(w.useNavigation)(),d=Object(p.default)(),f=Object(_.useActiveWalletAccount)(),m=f.account,h=f.network,j=f.networkId,v=d?"24px":"32px",y=d?12:16,x=d?"12px":"16px",k=Object(w.useAccountTokens)({networkId:j,accountId:null==m?void 0:m.id,useFilter:!0}).data,I=Object(b.useMemo)((function(){return r?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(E.default,{color:"text-subdued",typography:{sm:"Body1Strong",md:"Body2Strong"},children:k.length}),Object(U.jsx)(A.default,{name:"ChevronRightMini",color:"icon-subdued"})]}):s&&!Object(O.isAllNetworks)(j)&&Object(U.jsx)(G.default,{size:"sm",borderRadius:17,name:"PlusMini",bg:"action-secondary-default",onPress:function(){return u.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.ManageToken,params:{screen:g.ManageTokenModalRoutes.Listing}})}})}),[k.length,u,r,s,j]),S=r?T.default.Item:o.default,P=Object(w.useAccountTokenValues)(j,null!=(t=null==m?void 0:m.id)?t:"",!0).value,C=Object(w.useAccountValues)({networkId:j,accountId:null!=(n=null==m?void 0:m.id)?n:""}).value,D=Object(b.useMemo)((function(){return P.div(C).multipliedBy(100)}),[C,P]);return Object(U.jsxs)(S,{p:4,shadow:void 0,borderTopRadius:a?"12px":0,borderTopWidth:a?1:0,borderWidth:1,borderBottomWidth:0,borderColor:c,onPress:r?function(){u.navigate(g.HomeRoutes.FullTokenListScreen,{accountId:null==m?void 0:m.id,networkId:null==h?void 0:h.id})}:void 0,flexDirection:"column",bg:"surface-subdued",children:[Object(U.jsxs)(o.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(U.jsx)(o.default,{w:v,h:v,borderRadius:x,bg:"decorative-icon-one",justifyContent:"center",alignItems:"center",mr:d?"8px":"12px",children:Object(U.jsx)(A.default,{size:y,color:"icon-on-primary",name:"DatabaseOutline"})}),Object(U.jsx)(E.default,{typography:{sm:"Body1Strong",md:"Heading"},children:l.formatMessage({id:"asset__tokens"})}),!d&&Object(U.jsxs)(o.default,{flexDirection:"row",alignItems:"center",children:[Object(U.jsx)(o.default,{mx:"8px",my:"auto",w:"4px",h:"4px",borderRadius:"2px",bg:"text-default"}),Object(U.jsx)(E.default,{typography:{sm:"DisplayLarge",md:"Heading"},children:P.isNaN()?" ":Object(U.jsx)(L.FormatCurrencyNumber,{value:0,convertValue:P})})]}),D.isNaN()?null:Object(U.jsx)(B.OverviewBadge,{rate:D}),Object(U.jsx)(o.default,{ml:"auto",flexDirection:"row",alignItems:"center",children:I})]}),Object(U.jsx)(o.default,{mt:d?"8px":"16px",children:d?Object(U.jsx)(E.default,{typography:{sm:"DisplayLarge",md:"Heading"},children:Number.isNaN(P)?" ":Object(U.jsx)(L.FormatCurrencyNumber,{value:0,convertValue:P})}):Object(U.jsxs)(o.default,{flexDirection:"row",w:"full",children:[Object(U.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,children:l.formatMessage({id:"title__assets"})}),Object(U.jsx)(M.default.Subheading,{ml:"44px",color:"text-subdued",flex:1,textAlign:"right",pr:"6",children:l.formatMessage({id:"content__price_uppercase"})}),Object(U.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,textAlign:"right",children:l.formatMessage({id:"form__value"})})]})})]})},X=function(e){var t,n=e.showInnerHeader,a=e.showTokenCount,i=e.showOuterHeader,c=e.showInnerHeaderRoundTop,s=e.innerHeaderBorderColor,l=Object(N.default)(),u=Object(b.useState)(!1),f=d()(u,2),p=f[0],m=f[1],h=Object(w.useNavigation)(),j=Object(_.useActiveWalletAccount)(),v=j.network,y=j.wallet,k=null!=(t=null==v?void 0:v.settings)?t:{tokenEnabled:!1,activateTokenRequired:!1},I=k.tokenEnabled,S=k.activateTokenRequired,T=Object(b.useMemo)((function(){return((null==y?void 0:y.type)!==K.WALLET_TYPE_WATCHING||!S)&&I}),[S,I,null==y?void 0:y.type]),P=Object(b.useCallback)((function(){m(!0),x.default.serviceOverview.refreshCurrentAccount().finally((function(){setTimeout((function(){return m(!1)}),1e3)}))}),[]),A=Object(b.useMemo)((function(){return Object(O.isAllNetworks)(null==v?void 0:v.id)?null:Object(U.jsx)(o.default,{alignItems:"center",justifyContent:"center",w:"8",h:"8",mr:"3",children:p?Object(U.jsx)(z.default,{size:"sm"}):Object(U.jsx)(G.default,{onPress:P,size:"sm",name:"ArrowPathMini",type:"plain",ml:"auto"})})}),[p,P,null==v?void 0:v.id]);return Object(U.jsxs)(U.Fragment,{children:[i&&Object(U.jsxs)(o.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pb:3,children:[Object(U.jsx)(M.default.Heading,{children:l.formatMessage({id:"title__assets"})}),T&&Object(U.jsxs)(C.default,{alignItems:"center",justifyContent:"flex-end",children:[A,Object(O.isAllNetworks)(null==v?void 0:v.id)?null:Object(U.jsx)(G.default,{onPress:function(){return h.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.ManageToken,params:{screen:g.ManageTokenModalRoutes.Listing}})},size:"sm",name:"PlusMini",type:"plain",ml:"auto",mr:3}),Object(U.jsx)(G.default,{onPress:function(){Object(q.showHomeBalanceSettings)({networkId:null==v?void 0:v.id})},size:"sm",name:"Cog8ToothMini",type:"plain",mr:-2})]})]}),n&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Z,{borderColor:s,showRoundTop:c,showTokenCount:a,tokenEnabled:T}),Object(U.jsx)(r.default,{})]})]})};X.displayName="AssetsListHeader";var Y=X,Q=n(1298),$=n(175),J=function(e){var t=e.borderBottomRadius,n=void 0===t?0:t,r=Object(p.default)();return Object(U.jsxs)(o.default,{p:4,bg:"surface-default",shadow:void 0,borderWidth:1,borderColor:"border-subdued",borderTopWidth:1,borderBottomWidth:1,borderBottomRadius:n,w:"100%",flexDirection:"row",alignItems:"center",children:[Object(U.jsx)($.default,{shape:"Avatar"}),Object(U.jsxs)(o.default,{ml:"12px",flexDirection:"column",flex:1,children:[Object(U.jsx)(o.default,{flexDirection:"row",alignItems:"center",children:Object(U.jsx)($.default,{shape:"Body1"})}),Object(U.jsx)($.default,{shape:"Body2"})]}),!r&&Object(U.jsx)(o.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:Object(U.jsx)($.default,{shape:"Body2"})}),Object(U.jsx)(o.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)($.default,{shape:"Body1"}),Object(U.jsx)($.default,{shape:"Body2"})]})})]})},ee=function(){var e=Object(N.default)(),t=Object(p.default)(),n=t?"24px":"32px",r=t?12:16,a=t?"12px":"16px";return Object(U.jsxs)(o.default,{p:4,shadow:void 0,borderWidth:1,borderBottomWidth:0,borderColor:"border-subdued",borderTopRadius:12,flexDirection:"column",children:[Object(U.jsxs)(o.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(U.jsx)(o.default,{w:n,h:n,borderRadius:a,bg:"decorative-icon-one",justifyContent:"center",alignItems:"center",mr:t?"8px":"12px",children:Object(U.jsx)(A.default,{size:r,color:"icon-on-primary",name:"DatabaseOutline"})}),t?Object(U.jsx)($.default,{shape:"Body1"}):Object(U.jsx)($.default,{shape:"DisplayLarge"}),Object(U.jsx)(o.default,{ml:"auto",flexDirection:"row",alignItems:"center",children:Object(U.jsx)($.default,{shape:"Body1"})})]}),Object(U.jsx)(o.default,{mt:t?"8px":"16px",children:t?Object(U.jsx)($.default,{shape:"DisplayLarge"}):Object(U.jsxs)(o.default,{flexDirection:"row",w:"full",children:[Object(U.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,children:e.formatMessage({id:"title__assets"})}),Object(U.jsx)(M.default.Subheading,{ml:"44px",color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"content__price_uppercase"})}),Object(U.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"form__value"})})]})})]})},te=function(){return Object(U.jsxs)(o.default,{style:{maxWidth:v.MAX_PAGE_CONTAINER_WIDTH,width:"100%",marginHorizontal:"auto"},children:[Object(U.jsx)(ee,{}),Object(U.jsx)(J,{}),Object(U.jsx)(J,{}),Object(U.jsx)(J,{borderBottomRadius:12})]})};te.displayName="AssetsListSkeleton";var ne=Object(b.memo)(te),re=n(15),oe=n.n(re),ae=n(1660),ie=n(36),ce=n(663),se=["accountId","hidePriceInfo","borderTopRadius","borderRadius","borderBottomWidth","borderTopWidth","onPress","borderColor","bg"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(e){var t=e.accountId,n=e.hidePriceInfo,r=e.borderTopRadius,a=e.borderRadius,i=e.borderBottomWidth,c=e.borderTopWidth,s=e.onPress,l=e.borderColor,u=void 0===l?"border-subdued":l,d=e.bg,f=void 0===d?"surface-default":d,m=oe()(e,se),h=Object(p.default)(),j=m.networkId,O=m.balance,g=m.price,v=m.price24h,y=Object(w.useActiveSideAccount)({accountId:t,networkId:j}).network,x=(null==m?void 0:m.address)||"main",_=Object(ce.calculateGains)({price:g,basePrice:new R.a(g).multipliedBy(1-(null!=v?v:0)/100).toNumber()}),k=_.gainTextBg,I=_.percentageGain,P=_.gainTextColor,C="main"===x?null==y?void 0:y.nativeDisplayDecimals:null==y?void 0:y.tokenDisplayDecimals,A=Object(b.useMemo)((function(){if("undefined"!==typeof O&&"undefined"!==typeof g)return null===g?0:new R.a(O).times(g).toNumber()||0}),[O,g]),E=Object(b.useMemo)((function(){return"undefined"===typeof O?Object(U.jsx)($.default,{shape:"Body2"}):Object(U.jsx)(L.FormatBalance,{balance:O,suffix:null==m?void 0:m.symbol,formatOptions:{fixed:null!=C?C:4},render:function(e){return Object(U.jsx)(M.default.Body2,{color:"text-subdued",children:e})}})}),[O,C,null==m?void 0:m.symbol]),D=Object(b.useCallback)((function(e){null==s||s(ue(ue({},e),{},{sendAddress:null==m?void 0:m.sendAddress}))}),[s,null==m?void 0:m.sendAddress]);if(!m)return null;var N=j===ie.OnekeyNetwork.btc&&!!m.address;return Object(U.jsxs)(T.default.Item,{p:4,bg:f,shadow:void 0,borderTopRadius:r,borderRadius:a,borderWidth:1,borderColor:u,borderLeftColor:"border-subdued",borderRightColor:"border-subdued",borderBottomColor:"border-subdued",borderTopWidth:c,borderBottomWidth:i,onPress:function(){return D(m)},w:"100%",flexDirection:"row",alignItems:"center",isDisabled:N,children:[Object(U.jsx)(o.default,{flex:1,children:Object(U.jsx)(S.default,{flex:"1",size:8,showInfo:!0,token:m,showExtra:!1,description:E,infoBoxProps:{flex:1}})}),!h&&!n&&Object(U.jsx)(o.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:void 0===g?Object(U.jsx)($.default,{shape:"Body2"}):Object(U.jsx)(M.default.Body2Strong,{children:Object(U.jsx)(L.FormatCurrencyNumber,{value:0,convertValue:+(g||0)})})}),Object(U.jsx)(o.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:void 0!==A?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M.default.Body2Strong,{w:"100%",textAlign:"right",children:Object(U.jsx)(L.FormatCurrencyNumber,{value:0,convertValue:A})}),Object(U.jsx)(o.default,{mt:"4px",bg:k,px:"6px",py:"2px",borderRadius:"6px",justifyContent:"center",alignItems:"center",children:Object(U.jsx)(M.default.CaptionStrong,{color:P,children:I})})]}):Object(U.jsx)($.default,{shape:"Body2"})})]})};de.displayName="TokenCell";var fe=Object(b.memo)(Object(ae.withDebugRenderTracker)(de));function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.showRoundTop,n=e.hidePriceInfo,a=e.ListHeaderComponent,i=e.ListFooterComponent,c=e.contentContainerStyle,u=e.onTokenPress,S=e.limitSize,T=e.flatStyle,P=e.accountId,C=e.networkId,M=e.walletId,A=e.renderDefiList,E=e.singleton,D=Object(p.default)(),R=Object(_.useStatus)(),N=R.homeTabName,L=R.isUnlock,B=Object(k.useAccountTokenLoading)(C,P),F=Object(k.useAccountTokens)({networkId:C,accountId:P,useFilter:!0,limitSize:S}),H=F.data,z=F.loading,G=Object(w.useActiveSideAccount)({accountId:P,networkId:C}),K=G.account,q=G.network,Z=B||z,X=Object(m.useNavigation)(),$=Object(f.default)().size,J=Object(h.useDebounce)(Object(b.useCallback)((function(){x.default.serviceToken.startRefreshAccountTokens()}),[]),1e3,{leading:!0,trailing:!1}),ee=d()(J,1)[0],te=Object(h.useDebounce)(Object(b.useCallback)((function(){x.default.serviceToken.stopRefreshAccountTokens()}),[]),1e3,{leading:!0,trailing:!1}),re=d()(te,1)[0];Object(b.useEffect)((function(){y.default.isExtensionUi&&chrome.runtime.connect()}),[]);var oe=Object(I.useVisibilityFocused)(),ae=Object(b.useMemo)((function(){return!!L&&(!!(oe&&P&&C)&&(!N||N===V.WalletHomeTabEnum.Tokens))}),[oe,P,C,N,L]);Object(b.useEffect)((function(){ae?ee():re()}),[ae,ee,re]),Object(b.useEffect)((function(){oe&&L&&(Object(O.isAllNetworks)(C)||x.default.serviceToken.refreshAccountTokens())}),[oe,L,C]);var ie=Object(b.useCallback)((function(e){var t;u?u({token:e}):X.navigate(g.HomeRoutes.ScreenTokenDetail,{walletId:null!=M?M:"",accountId:null!=(t=null==K?void 0:K.id)?t:"",networkId:null!=C?C:"",coingeckoId:e.coingeckoId,sendAddress:e.sendAddress,tokenAddress:e.address,price:e.price,symbol:e.symbol,name:e.name,logoURI:e.logoURI})}),[null==K?void 0:K.id,C,X,u,M]),ce=E?l.default:j.Tabs.FlatList,se=Object(b.useMemo)((function(){var e;return Object(U.jsxs)(o.default,{children:[i,A?Object(U.jsx)(W,{accountId:P,networkId:C,address:null!=(e=null==K?void 0:K.address)?e:"",limitSize:S}):null]})}),[i,C,P,null==K?void 0:K.address,A,S]);return Object(U.jsx)(ce,{style:{maxWidth:v.MAX_PAGE_CONTAINER_WIDTH,width:"100%",marginHorizontal:"auto",alignSelf:"center"},contentContainerStyle:[{paddingHorizontal:T?0:["NORMAL","LARGE"].includes($)?32:16,marginTop:24},c],data:H,renderItem:function(e){var r=e.item,o=e.index;return Object(U.jsx)(fe,be(be({accountId:P,hidePriceInfo:n,bg:T?"transparent":"surface-default",borderTopRadius:!T&&t&&0===o?"12px":0,borderRadius:T||o!==(null==H?void 0:H.length)-1?"0px":"12px",borderTopWidth:!T&&t&&0===o?1:0,borderBottomWidth:o===(null==H?void 0:H.length)-1?1:0,borderColor:T?"transparent":"border-subdued",onPress:ie},s()(r,"source")),{},{networkId:C}))},ListHeaderComponent:null!=H&&H.length?null!=a?a:Object(U.jsx)(Y,{innerHeaderBorderColor:T?"transparent":"border-subdued",showTokenCount:void 0!==S,showOuterHeader:void 0!==S,showInnerHeader:H.length>0,showInnerHeaderRoundTop:!T}):null,ItemSeparatorComponent:r.default,ListEmptyComponent:Z?ne:function(){return Object(U.jsx)(Q.EmptyListOfAccount,{network:q,accountId:P})},ListFooterComponent:se,keyExtractor:function(e){return e.key},extraData:D,showsVerticalScrollIndicator:!1})}},1672:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(57),a=n(201),i=n(54),c=n(1065),s=n(12),l=n(20),u=n(106),d=n(48),f=n(1),p=n(44),b=n(88),m=n(235),h=n(1154),j=n.n(h),O=(n(24),n(17)),g=n(25),v=n(46),y=n(0),x=function(){var e,t=Object(b.default)(),n=null!=(e=Object(p.useRoute)().params)?e:{},h=n.accountId,x=n.networkId,w=n.paymentRequest,_=n.paymentHash,k=Object(r.default)(),I=Object(g.useNetwork)({networkId:x}).network,S=Object(g.useAccount)({accountId:null!=h?h:null,networkId:null!=x?x:""}).account,T=Object(f.useCallback)((function(){Object(m.copyToClipboard)(w),d.default.show({title:t.formatMessage({id:"msg__copied"})})}),[w,t]),P=Object(f.useRef)();return Object(f.useEffect)((function(){if(_&&x&&h){var e=O.default.serviceLightningNetwork;return P.current=setInterval((function(){e.fetchSpecialInvoice({paymentHash:_,networkId:x,accountId:h}).then((function(e){e.is_paid&&(d.default.show({title:t.formatMessage({id:"msg__payment_received"})}),clearInterval(P.current))})).catch((function(e){}))}),Object(v.getTimeDurationMs)({seconds:5})),function(){P.current&&clearInterval(P.current)}}}),[_,x,h,t]),Object(y.jsx)(o.default,{footer:null,header:t.formatMessage({id:"action__receive"}),headerDescription:Object(y.jsxs)(s.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[Object(y.jsx)(u.default,{alt:"logoURI",source:{uri:null==I?void 0:I.logoURI},size:4,borderRadius:"full",mr:2}),Object(y.jsx)(l.default,{textAlign:"center",typography:"Caption",color:"text-subdued",children:null==I?void 0:I.name})]}),height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,justifyContent:"center",paddingVertical:k?16:24},children:w?Object(y.jsxs)(s.default,{mt:10,flex:1,flexDirection:"column",children:[Object(y.jsx)(s.default,{alignItems:"center",flexDirection:"column",children:Object(y.jsx)(s.default,{borderRadius:"24px",bgColor:"#FFFFFF",p:k?"16px":"11px",shadow:"depth.4",children:Object(y.jsx)(c.default,{value:w,logo:j.a,size:186,logoSize:40,logoMargin:2,logoBackgroundColor:"white"})})}),Object(y.jsxs)(s.default,{alignItems:"center",mt:k?"32px":"24px",maxW:"256px",mx:"auto",children:[Object(y.jsx)(l.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"Body1Strong"},noOfLines:1,children:null==S?void 0:S.name}),Object(y.jsx)(i.default,{mt:"24px",size:k?"lg":"base",leftIconName:"Square2StackMini",onPress:function(){T()},children:t.formatMessage({id:"action__copy"})})]})]}):Object(y.jsx)(a.default,{emoji:"\ud83d\udcb3",title:t.formatMessage({id:"empty__no_account_title"})})}})},w=n(47),_=n(2),k=n.n(_),I=n(4),S=n.n(I),T=n(126),P=n(21),C=n.n(P),M=n(125),A=n(16),E=n(642),D=function(){var e,t,n=Object(b.default)(),a=Object(r.default)(),i=Object(p.useRoute)(),c=Object(g.useNavigation)(),d=null!=(e=i.params)?e:{},m=d.networkId,h=d.accountId,j=Object(g.useNetwork)({networkId:m}).network,v=Object(T.default)({mode:"onChange"}),x=v.control,_=v.handleSubmit,I=(0,v.watch)("amount"),P=Object(f.useState)({errorMessage:""}),D=S()(P,2),R=D[0],N=D[1],L=Object(g.useNativeToken)(m),B=Object(f.useState)(!1),F=S()(B,2),U=F[0],H=F[1],W=_(Object(f.useCallback)(function(){var e=k()((function*(e){if(!U&&m&&h){H(!0);var t=e.amount||"0";try{var r=yield O.default.serviceLightningNetwork.createInvoice({networkId:m,accountId:h,amount:t,description:e.description});c.navigate(A.RootRoutes.Modal,{screen:A.ModalRoutes.Receive,params:{screen:E.ReceiveTokenModalRoutes.ReceiveInvoice,params:{networkId:m,accountId:h,paymentRequest:r.payment_request,paymentHash:r.payment_hash}}})}catch(i){var o=i.key,a=i.info;return o?(N({errorMessage:n.formatMessage({id:o},null!=a?a:{})}),!1):(N({errorMessage:n.formatMessage({id:"form__create_invoice_failed"})}),!1)}finally{H(!1)}}}));return function(t){return e.apply(this,arguments)}}(),[U,m,c,n,h]));return Object(y.jsx)(o.default,{header:n.formatMessage({id:"action__receive"}),headerDescription:Object(y.jsxs)(s.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[Object(y.jsx)(u.default,{alt:"logoURI",source:{uri:null==j?void 0:j.logoURI},size:4,borderRadius:"full",mr:2}),Object(y.jsx)(l.default,{textAlign:"center",typography:"Caption",color:"text-subdued",children:null==j?void 0:j.name})]}),hideSecondaryAction:!0,primaryActionTranslationId:"action__next",primaryActionProps:{isDisabled:U,isLoading:U},onPrimaryActionPress:function(){return W()},height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,paddingVertical:a?16:24},children:Object(y.jsxs)(w.default,{children:[Object(y.jsx)(w.default.Item,{label:n.formatMessage({id:"content__amount"})+"("+n.formatMessage({id:"form__sats__units"})+")",control:x,errorMessage:R.errorMessage,name:"amount",formControlProps:{width:"full"},rules:{min:{value:0,message:n.formatMessage({id:"form__field_too_small"},{0:0})},pattern:{value:/^[0-9]*$/,message:n.formatMessage({id:"form__field_only_integer"})}},defaultValue:"",children:Object(y.jsx)(w.default.Input,{type:"number",size:a?"xl":"default",placeholder:n.formatMessage({id:"form__enter_amount"}),rightCustomElement:Object(y.jsx)(M.FormatCurrencyTokenOfAccount,{accountId:null!=h?h:"",networkId:null!=(t=null==j?void 0:j.id)?t:"",token:L,value:new C.a(I),render:function(e){return Object(y.jsxs)(l.default,{px:4,typography:"Button1",color:"text-subdued",children:["~",e]})}})})}),Object(y.jsx)(w.default.Item,{label:n.formatMessage({id:"form__description__optional"}),control:x,name:"description",formControlProps:{width:"full"},rules:{maxLength:{value:40,message:n.formatMessage({id:"msg_description_can_be_up_to_int_characters"},{0:"40"})}},defaultValue:"",children:Object(y.jsx)(w.default.Textarea,{size:a?"xl":"default",totalLines:a?3:5,placeholder:n.formatMessage({id:"form__a_message_to_the_payer"})})})]})}})},R=n(51),N=n(29),L=n(108),B=n(2411),F=n.n(B),U=n(45),H=n(80),W=function(){var e,t,n,h,g,v,x,w,_,I=Object(b.default)(),T=Object(p.useRoute)(),P=null!=(e=T.params)?e:{},C=P.address,M=P.displayAddress,A=P.name,E=T.params,D=Object(r.default)(),B=Object(U.useActiveWalletAccount)(),W=null!=(t=null==E?void 0:E.account)?t:null==B?void 0:B.account,V=null!=(n=null==E?void 0:E.network)?n:null==B?void 0:B.network,z=null!=(h=null==E?void 0:E.wallet)?h:null==B?void 0:B.wallet,G=null==E?void 0:E.customPath,K=null!=(g=null==E?void 0:E.template)?g:null==W?void 0:W.template,q=(null==W?void 0:W.id)||"",Z=(null==V?void 0:V.id)||"",X=(null==z?void 0:z.id)||"",Y=null!=(v=null!=(x=null!=(w=null!=M?M:C)?w:null==W?void 0:W.displayAddress)?x:null==W?void 0:W.address)?v:"",Q=null!=(_=null!=A?A:null==W?void 0:W.name)?_:"",$=O.default.engine,J="hw"===(null==z?void 0:z.type),ee=Object(f.useState)(!1),te=S()(ee,2),ne=te[0],re=te[1],oe=Object(f.useState)(!1),ae=S()(oe,2),ie=ae[0],ce=ae[1],se=Object(f.useState)(!1),le=S()(se,2),ue=le[0],de=le[1],fe=Object(f.useMemo)((function(){return K&&G}),[K,G]),pe=Object(f.useCallback)(k()((function*(){return yield $.getHWAddress(q,Z,X)})),[$,q,Z,X]),be=Object(f.useCallback)(k()((function*(){if(!G||!K)return"";var e=G.split("/")[3].slice(0,-1);return(yield O.default.serviceDerivationPath.getHWAddressByTemplate({networkId:Z,walletId:X,index:parseInt(null!=e?e:"0",10),template:K,fullPath:G})).address})),[G,K,Z,X]),me=Object(f.useCallback)(k()((function*(){de(!0);try{var e=(fe?yield be():yield pe())===(null!=C?C:null==W?void 0:W.address);e||d.default.show({title:I.formatMessage({id:"msg__address_is_inconsistent_please_check_manually"})},{type:"default"}),re(e)}catch(t){H.deviceUtils.showErrorToast(t)}finally{de(!1)}})),[pe,be,fe,I,C,W]),he=Object(f.useCallback)((function(){Object(m.copyToClipboard)(Y),d.default.show({title:I.formatMessage({id:"msg__address_copied"})})}),[Y,I]),je=Object(f.useMemo)((function(){return Object(y.jsxs)(s.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Object(y.jsxs)(s.default,{borderRadius:"24px",alignItems:"center",justifyContent:"center",w:{base:296,md:208},h:{base:296,md:208},bgColor:"white",borderWidth:N.default.hairlineWidth,borderColor:"border-default",overflow:"hidden",children:[Object(y.jsx)(u.default,{source:F.a,w:{base:296,md:208},h:{base:296,md:208}}),Object(y.jsx)(R.default,{position:"absolute",top:0,left:0,right:0,bottom:0,p:4,children:Object(y.jsx)(l.default,{typography:{sm:"Body1",md:"Body2"},color:"#000",opacity:80,textAlign:"center",children:I.formatMessage({id:"content__check_the_address_on_device"})})})]}),Object(y.jsxs)(s.default,{alignItems:"center",mt:D?"32px":"24px",mx:"auto",maxWidth:"full",children:[Object(y.jsx)(l.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"Body1Strong"},noOfLines:1,children:Q}),Object(y.jsx)(l.default,{mt:"8px",maxW:"256px",color:"text-subdued",textAlign:"center",typography:{sm:"Body1",md:"Body2"},w:"full",maxWidth:"full",children:ue?Y:Object(L.shortenAddress)(Y)}),Object(y.jsx)(i.default,{mt:"24px",type:"primary",size:D?"lg":"base",isLoading:ue,onPress:function(){return me()},children:I.formatMessage({id:"action__check_address"})}),fe?null:Object(y.jsx)(i.default,{mt:4,size:D?"lg":"base",onPress:function(){return ce(!0)},children:I.formatMessage({id:"action__dont_have_device"})})]})]})}),[ue,Y,Q,I,D,me,fe]),Oe=J&&!ne&&!ie;return Object(y.jsx)(o.default,{footer:null,header:I.formatMessage({id:"action__receive"}),headerDescription:Object(y.jsxs)(s.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[Object(y.jsx)(u.default,{alt:"logoURI",source:{uri:null==V?void 0:V.logoURI},size:4,borderRadius:"full",mr:2}),Object(y.jsx)(l.default,{textAlign:"center",typography:"Caption",color:"text-subdued",children:null==V?void 0:V.name})]}),height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,justifyContent:"center",paddingVertical:D?16:24},children:Y?Object(y.jsx)(y.Fragment,{children:Oe?je:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(s.default,{mb:4,w:"auto",mx:"auto",children:[Object(y.jsx)(l.default,{typography:"Body2",color:"text-subdued",textAlign:"center",children:I.formatMessage({id:"content__receive_description"})}),ie&&Object(y.jsx)(l.default,{typography:"Body2",color:"text-warning",textAlign:"center",children:I.formatMessage({id:"content__address_not_confirmed_on_device"})})]}),Object(y.jsxs)(s.default,{flex:1,justifyContent:"center",flexDirection:"column",children:[Object(y.jsx)(s.default,{alignItems:"center",flexDirection:"column",children:Object(y.jsx)(s.default,{borderRadius:"24px",bgColor:"#FFFFFF",p:D?"16px":"11px",shadow:"depth.4",children:Object(y.jsx)(c.default,{value:Y,logo:j.a,size:186,logoSize:40,logoMargin:2,logoBackgroundColor:"white"})})}),Object(y.jsxs)(s.default,{alignItems:"center",mt:D?"32px":"24px",maxW:"256px",mx:"auto",children:[Object(y.jsx)(l.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"Body1Strong"},noOfLines:1,children:Q}),Object(y.jsx)(l.default,{mt:"8px",color:"text-subdued",textAlign:"center",typography:{sm:"Body1",md:"Body2"},w:"full",maxWidth:"full",children:Y}),Object(y.jsx)(i.default,{mt:"24px",size:D?"lg":"base",leftIconName:"Square2StackMini",onPress:function(){he()},children:I.formatMessage({id:"action__copy_address"})})]})]})]})}):Object(y.jsx)(a.default,{emoji:"\ud83d\udcb3",title:I.formatMessage({id:"empty__no_account_title"})})}})},V=n(234),z=Object(V.default)(),G=[{name:E.ReceiveTokenModalRoutes.ReceiveToken,component:W},{name:E.ReceiveTokenModalRoutes.CreateInvoice,component:D},{name:E.ReceiveTokenModalRoutes.ReceiveInvoice,component:x}];t.default=function(){var e=Object(r.default)();return Object(y.jsx)(z.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:G.map((function(e){return Object(y.jsx)(z.Screen,{name:e.name,component:e.component},e.name)}))})}},1673:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(226),a=n(57),i=n(48),c=n(2),s=n.n(c),l=n(4),u=n.n(l),d=n(63),f=n(27),p=n(41),b=n(40),m=n(51),h=n(12),j=n(20),O=n(76),g=n(201),v=n(1),y=n(44),x=n(1580),w=n(88),_=n(204),k=n(2631),I=n.n(k),S=n(11),T=n(19),P=(n(24),n(17)),C=n(323),M=n(25),A=n(343),E=n(421),D=n(2419),R=n(451),N=n(1302),L=n(109),B=n(54),F=n(215),U=n(1035),H=n(0),W=function(e){var t=e.visible,n=e.onCancel,o=e.onConfirm,a=Object(w.default)(),i=Object(r.default)(),c=Object(v.useState)(!1),s=u()(c,2),l=s[0],d=s[1];return Object(H.jsxs)(L.default,{visible:t,onClose:n,children:[Object(H.jsxs)(U.default,{w:"100%",alignItems:"center",mb:4,children:[Object(H.jsx)(m.default,{mb:5,borderRadius:"999",size:"48px",backgroundColor:"surface-neutral-default",children:Object(H.jsx)(b.default,{name:"ExclamationTriangleOutline",size:24})}),Object(H.jsx)(j.default,{typography:{sm:"Heading",md:"DisplayMedium"},color:"text-default",mb:2,children:a.formatMessage({id:"modal__rug_warning"})}),Object(H.jsx)(j.default,{typography:{sm:"Body2",md:"Body1"},color:"text-subdued",textAlign:"center",children:a.formatMessage({id:"modal__rug_warning_desc"})}),Object(H.jsx)(F.default,{mt:5,alignItems:"center",onChange:function(e){return d(e)},isChecked:l,children:Object(H.jsx)(j.default,{color:"text-subdued",ml:2,typography:{sm:"Body1Strong",md:"Body2Strong"},children:a.formatMessage({id:"content__i_am_aware_of_the_above_risks"})})})]}),Object(H.jsxs)(h.default,{flexDirection:"row",w:"100%",mt:2,children:[Object(H.jsx)(B.default,{flex:"1",onPress:n,size:i?"lg":"base",children:a.formatMessage({id:"action__cancel"})}),Object(H.jsx)(h.default,{w:4}),Object(H.jsx)(B.default,{flex:1,type:"primary",size:i?"lg":"base",onPress:function(){l&&(null==o||o())},isDisabled:!l,children:a.formatMessage({id:"action__confirm"})})]})]})},V={permissions:[{text:"content__view_the_address_of_your_permitted_accounts_required",icon:"EyeOutline"},{text:"content__send_transactions_and_signature_request",icon:"CheckOutline"}]};function z(e){var t,n,r,o=e.isWalletConnectPreloading,a=e.walletConnectError,i=(e.getWalletConnectBridge,e.account),c=e.origin,s=e.hostname,l=e.network,u=Object(w.default)();return o?Object(H.jsx)(m.default,{flex:1,minH:"300px",children:a?Object(H.jsx)(g.default,{emoji:"\ud83d\ude35",title:a,subTitle:u.formatMessage({id:"empty__connection_failed_desc"})}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(O.default,{size:"lg"}),null]})}):null!=i&&i.id?Object(H.jsxs)(d.default,{flex:"1",space:"20px",bg:"surface-default",p:"4",borderRadius:"12px",children:[Object(H.jsxs)(p.default,{alignItems:"center",children:[Object(H.jsxs)(p.default,{alignItems:"center",children:[Object(H.jsx)(h.default,{size:"32px",borderWidth:2,borderColor:"surface-subdued",mr:"-8px",zIndex:1,rounded:"full",children:Object(H.jsx)(x.default,{w:"full",h:"full",borderRadius:"full",zIndex:100,source:I.a})}),Object(H.jsx)(h.default,{size:"32px",overflow:"hidden",rounded:"full",borderWidth:2,zIndex:2,borderColor:"surface-subdued",bg:"surface-subdued",children:Object(H.jsx)(x.default,{w:"full",h:"full",source:{uri:c+"/favicon.ico"},fallbackElement:Object(H.jsx)(m.default,{width:"full",height:"full",borderRadius:"full",bg:"background-selected",children:Object(H.jsx)(b.default,{name:"QuestionMarkOutline"})})})})]}),Object(H.jsx)(f.default.Body1Strong,{ml:"2",children:u.formatMessage({id:"title__connect_to_website"})})]}),Object(H.jsx)(d.default,{pt:"4",borderTopColor:"divider",borderTopWidth:"1px",children:V.permissions.map((function(e,t){return Object(H.jsxs)(p.default,{mb:"4",children:[Object(H.jsx)(h.default,{borderRadius:"full",bg:"rgba(2, 190, 50, .1)",size:"9",alignItems:"center",justifyContent:"center",children:Object(H.jsx)(b.default,{size:24,name:e.icon,color:"icon-success"})}),Object(H.jsx)(f.default.Body1,{ml:"12px",alignSelf:"center",flex:1,children:u.formatMessage({id:e.text})})]},t)}))}),Object(H.jsx)(d.default,{borderBottomWidth:"1px",borderBottomColor:"divider",pb:"4",children:Object(H.jsxs)(p.default,{alignItems:"center",children:[Object(H.jsx)(f.default.Body2Strong,{color:"text-subdued",flex:1,children:u.formatMessage({id:"form__account"})}),Object(H.jsx)(p.default,{alignItems:"center",children:Object(H.jsxs)(f.default.Body2Strong,{ml:"12px",children:[null==i?void 0:i.name,"(",null!=(t=null==i||null==(n=i.address)?void 0:n.slice(-4))?t:"",")"]})})]})}),Object(H.jsx)(N.DappSecurityView,{origin:c,hostname:s,networkId:null!=(r=null==l?void 0:l.id)?r:""})]}):Object(H.jsx)(m.default,{flex:1,minH:"300px",children:Object(H.jsx)(g.default,{emoji:"\ud83d\udcb3",title:u.formatMessage({id:"empty__no_account_title"})})})}var G=Object.freeze({}),K=function(){var e,t,n,r,o=P.default.dispatch,c=Object(M.useAppSelector)((function(e){return e.refresher.closeDappConnectionPreloadingTs})),l=Object(v.useState)(!1),d=u()(l,2),f=d[0],p=d[1],b=Object(w.default)(),m=Object(M.useActiveWalletAccount)(),h=m.networkImpl,j=m.network,O=m.accountAddress,g=m.accountPubKey,x=m.account,k=Object(E.default)().sourceInfo,I=null!=k?k:G,N=I.origin,L=I.scope,B=I.id,F=Object(v.useMemo)((function(){return e=N,[].some((function(t){return t.includes(e.toLowerCase())}));var e}),[N]),U=Object(v.useMemo)((function(){try{return new URL(N).hostname}catch(t){var e;return(null==N||null==(e=N.split("://"))?void 0:e[1])||N}}),[N]),V=Object(y.useRoute)(),K=null==V||null==(e=V.params)?void 0:e.walletConnectUri,q=null==V||null==(t=V.params)?void 0:t.isDeepLink,Z=null==V||null==(n=V.params)?void 0:n.refreshKey,X=Boolean(K),Y=Object(v.useState)(""),Q=u()(Y,2),$=Q[0],J=Q[1],ee=Object(_.default)(),te=Object(v.useRef)(!1);Object(D.useEffectOnUpdate)((function(){te.current||X&&c&&(te.current=!0,ee())}),[c,ee,o,X]),Object(v.useEffect)((function(){return function(){te.current=!0}}),[]);var ne=Object(v.useMemo)((function(){return K?C.default.getWalletConnectUriInfo({uri:K}):null}),[K]),re=Object(v.useCallback)((function(){var e,t;return(null==ne?void 0:ne.v1)&&(null==ne||null==(e=ne.v1)?void 0:e.bridge)||(null==ne?void 0:ne.v2)&&"relay-protocol="+(null==ne||null==(t=ne.v2)?void 0:t.relayProtocol)||""}),[ne]);Object(v.useEffect)((function(){K&&(Z&&J(""),P.default.walletConnect.connect({uri:K||"",isDeepLink:q}).then((function(){o(Object(R.refreshConnectedSites)())})).catch((function(e){T.default.common.error(e),J(b.formatMessage({id:"modal__failed_to_connect"}))})))}),[Z,ee,o,b,q,K,null==ne?void 0:ne.v2]);var oe=Object(v.useCallback)(s()((function*(){if(!h||!O)throw new Error("Wallet or account not selected, you should create or import one.");var e=O;L===S.IMPL_COSMOS&&(e=g);var t=[e].filter(Boolean);return"ethereum"===L&&(t=[e].filter(Boolean)),"near"===L&&(t={accounts:[e].filter(Boolean)}),"solana"===L&&(t=e),yield P.default.serviceDapp.saveConnectedAccounts({site:{origin:N},networkImpl:h,address:e}),t})),[O,g,h,N,L]),ae=Object(A.default)({id:B,closeOnError:!0});return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(W,{visible:f,onCancel:function(){return p(!1)},onConfirm:function(){return p(!1)}}),Object(H.jsx)(a.default,{header:X?b.formatMessage({id:"content__connecting"}):b.formatMessage({id:"title__dapp_connection"}),headerDescription:X?"WalletConnect":null!=(r=null==j?void 0:j.shortName)?r:"",primaryActionProps:{isDisabled:!N},hidePrimaryAction:X||!(null!=x&&x.id),hideSecondaryAction:!0,primaryActionTranslationId:"action__confirm",secondaryActionTranslationId:"action__cancel",onPrimaryActionPress:function(){var e=s()((function*(e){var t=e.close;try{if(!F){var n=yield oe();return yield ae.resolve({close:t,result:n})}p(!0)}catch(o){var r=o;i.default.show({title:(null==r?void 0:r.message)||"Confirm Connection failed."},{type:"error"})}}));return function(t){return e.apply(this,arguments)}}(),onSecondaryActionPress:function(e){var t=e.close;ae.reject(),t()},onModalClose:ae.reject,scrollViewProps:{contentContainerStyle:{flex:1},children:Object(H.jsx)(z,{walletConnectError:$,isWalletConnectPreloading:X,getWalletConnectBridge:re,network:j,account:x,hostname:U,origin:N})}})]})},q=n(121),Z=n(93),X=n(239),Y=n(46),Q=function(){var e=Object(w.default)(),t=Object(E.default)().sourceInfo,n=(null!=t?t:{}).id,r=Object(M.useNavigationActions)().openNetworkSelector,o=Object(_.default)(),i=Object(M.useActiveWalletAccount)().network,c=Object(A.default)({id:n,closeOnError:!0});return Object(H.jsxs)(a.default,{footer:null,primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:!0},hidePrimaryAction:!0,secondaryActionTranslationId:"action__cancel",onSecondaryActionPress:function(e){var t=e.close;c.reject(),t()},onModalClose:c.reject,children:[Object(H.jsx)(m.default,{flex:1,children:Object(H.jsxs)(d.default,{alignItems:"center",mb:4,children:[Object(H.jsxs)(p.default,{alignItems:"center",children:[Object(H.jsx)(h.default,{size:"64px",borderWidth:2,borderColor:"surface-subdued",mr:"-16px",zIndex:1,rounded:"full",children:Object(H.jsx)(x.default,{w:"full",h:"full",source:{uri:((null==t?void 0:t.origin)||"")+"/favicon.ico"},fallbackElement:Object(H.jsx)(m.default,{width:"full",height:"full",borderRadius:"full",bg:"background-selected",children:Object(H.jsx)(b.default,{name:"QuestionMarkOutline"})})})}),Object(H.jsx)(h.default,{size:"64px",overflow:"hidden",borderWidth:2,zIndex:2,rounded:"full",borderColor:"surface-subdued",bg:"surface-subdued",position:"relative",children:Object(H.jsx)(q.default,{size:"64px",token:{logoURI:null==i?void 0:i.logoURI,name:null==i?void 0:i.shortName}})}),Object(H.jsx)(h.default,{size:"20px",rounded:"full",bg:"surface-subdued",position:"absolute",right:0,bottom:0,zIndex:200,children:Object(H.jsx)(b.default,{size:20,name:"ExclamationCircleSolid",color:"icon-critical"})})]}),Object(H.jsx)(f.default.DisplayLarge,{mt:4,mb:2,children:e.formatMessage({id:"title__network_mismatch"})}),Object(H.jsx)(f.default.Body1,{color:"text-subdued",children:(null==t?void 0:t.hostname)||""}),Object(H.jsx)(f.default.Body1,{color:"text-subdued",textAlign:"center",my:4,children:e.formatMessage({id:"title__network_mismatch_desc"})})]})}),Object(H.jsx)(B.default,{type:"primary",size:"xl",onPress:s()((function*(){o(),yield Object(Y.wait)(350);var e=null!=t&&t.scope?Object(Z.getNetworkImplFromDappScope)(null==t?void 0:t.scope):"";r({mode:X.EAccountSelectorMode.Wallet,networkImpl:e})})),children:e.formatMessage({id:"action__switch"})})]})},$=n(16),J=n(234),ee=Object(J.default)(),te=[{name:$.DappConnectionModalRoutes.ConnectionModal,component:K},{name:$.DappConnectionModalRoutes.NetworkNotMatchModal,component:Q}];t.default=function(){Object(o.useOnboardingRequired)();var e=Object(r.default)();return Object(H.jsx)(ee.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:te.map((function(e){return Object(H.jsx)(ee.Screen,{name:e.name,component:e.component},e.name)}))})}},1675:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(57),a=n(76),i=(n(54),n(1)),c=n(44),s=(n(24),n(17)),l=n(1200),u=n(645),d=n(0),f=n(16),p=n(234),b=Object(p.default)(),m=[{name:f.TransactionDetailModalRoutes.HistoryDetailModal,component:function(){var e,t=Object(c.useRoute)().params,n=t.decodedTx,r=t.historyTx;Object(i.useEffect)((function(){if(r){var e=r.decodedTx,t=e.accountId,n=e.networkId,o=setTimeout((function(){s.default.serviceHistory.updateHistoryStatus({networkId:n,accountId:t,items:[r]}),s.default.serviceHistory.updateHistoryFee({networkId:n,accountId:t,tx:r})}),1500);return function(){clearTimeout(o)}}}),[r]);Object(d.jsx)(l.TxActionElementTime,{timestamp:null!=(e=null==n?void 0:n.updatedAt)?e:null==n?void 0:n.createdAt});return Object(d.jsx)(o.default,{footer:null,height:"560px",scrollViewProps:{children:n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.TxDetailView,{isHistoryDetail:!0,decodedTx:n,historyTx:r}),!1]}):Object(d.jsx)(a.default,{})}})}}];t.default=function(){var e=Object(r.default)();return Object(d.jsx)(b.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:m.map((function(e){return Object(d.jsx)(b.Screen,{name:e.name,component:e.component},e.name)}))})}},1676:function(e,t,n){"use strict";n.r(t);var r=n(50),o=n(4),a=n.n(o),i=n(1),c=n(44),s=n(88),l=n(28),u=n(220),d=n(305),f=n(721),p=n(722),b=n(0),m=function(){var e=Object(s.default)(),t=Object(c.useNavigation)(),n=Object(i.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),r=a()(n,1)[0],o=Object(i.useState)("primary"),m=a()(o,2),h=m[0],j=m[1],O=Object(i.useState)(e.formatMessage({id:"action__connect"})),g=a()(O,2),v=g[0],y=g[1],x=Object(i.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),w=a()(x,2),_=w[0],k=w[1],I=Object(i.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),S=a()(I,2),T=S[0],P=S[1],C=Object(i.useState)("guide"),M=a()(C,2),A=M[0],E=M[1],D=Object(i.useState)(0),R=a()(D,2),N=R[0],L=R[1],B=function(){(t.getParent()||t).goBack()},F=function(){j("basic"),y(e.formatMessage({id:"action__cancel"})),k(e.formatMessage({id:"title__searching"})),P(e.formatMessage({id:"title__searching_desc"})),E("connect"),u.default.cancel(),u.default.reset((function(t,n,r){n?(j("primary"),y(e.formatMessage({id:"action__i_got_it"})),k(e.formatMessage({id:"title__the_device_has_been_reset"})),P(e.formatMessage({id:"content__you_can_use_it_as_a_new_onekey_lite"})),E("complete")):t&&L(t.code)}))},U=function(t){switch(t.code){case 1:break;case 2:j("basic"),y(e.formatMessage({id:"action__cancel"})),k(e.formatMessage({id:"title__transferring_data"})),P(e.formatMessage({id:"title__transferring_data_desc"})),E("transfer")}};return Object(i.useEffect)((function(){return u.default.addConnectListener(U),"ios"!==l.default.OS&&F(),function(){u.default.removeConnectListeners()}}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d.SkipAppLock,{}),Object(b.jsx)(f.default,{title:r,connectType:"ble",actionState:_,actionDescription:T,operateType:A,onCloseConnect:function(){},onActionPress:function(){switch(A){case"guide":F();break;case"connect":case"transfer":if("ios"===l.default.OS)return;u.default.cancel(),B();break;default:B()}},actionPressStyle:h,actionPressContent:v}),Object(b.jsx)(p.default,{code:N,onRetryConnect:F,onExit:function(){B()},onIntoNfcSetting:function(){u.default.intoSetting(),B()},onDialogClose:function(){return L(0)}})]})},h=n(16),j=n(234),O=Object(j.default)(),g=[{name:h.OnekeyLiteResetModalRoutes.OnekeyLiteResetModal,component:m}];t.default=function(){var e=Object(r.default)();return Object(b.jsx)(O.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:g.map((function(e){return Object(b.jsx)(O.Screen,{name:e.name,component:e.component},e.name)}))})}},169:function(e,t,n){"use strict";n.r(t),n.d(t,"dataSlice",(function(){return a})),n.d(t,"release",(function(){return c})),n.d(t,"passwordSet",(function(){return s})),n.d(t,"setHomePageCheckBoarding",(function(){return l})),n.d(t,"setAppRenderReady",(function(){return u})),n.d(t,"cursorMapSet",(function(){return d})),n.d(t,"lock",(function(){return f})),n.d(t,"setHandOperatedLock",(function(){return p})),n.d(t,"setFeePresetIndex",(function(){return b})),n.d(t,"setTools",(function(){return m})),n.d(t,"setTranslations",(function(){return h})),n.d(t,"setIsPasswordLoadedInVault",(function(){return j}));var r=n(128),o=n(1024),a=(n(24),Object(r.createSlice)({name:"data",initialState:{isUnlock:!1,isPasswordSet:!1,homePageCheckBoarding:!1,isAppRenderReady:!1,isPasswordLoadedInVault:!1,cursorMap:{},tools:[],translations:{}},reducers:{setIsPasswordLoadedInVault:function(e,t){e.isPasswordLoadedInVault=t.payload},setAppRenderReady:function(e){Object(o.stopTrace)("js_render"),e.isAppRenderReady=!0},release:function(e){e.isUnlock=!0},lock:function(e){e.isUnlock=!1},passwordSet:function(e){e.isPasswordSet=!0},cursorMapSet:function(e,t){e.cursorMap[t.payload.key]=t.payload.cursor},setHandOperatedLock:function(e,t){e.handOperatedLock=t.payload},setHomePageCheckBoarding:function(e){e.homePageCheckBoarding=!0},setFeePresetIndex:function(e,t){e.feePresetIndexMap||(e.feePresetIndexMap={}),e.feePresetIndexMap[t.payload.networkId]=t.payload.index},setTools:function(e,t){e.tools=t.payload},setTranslations:function(e,t){e.translations=t.payload}}})),i=a.actions,c=i.release,s=i.passwordSet,l=i.setHomePageCheckBoarding,u=i.setAppRenderReady,d=i.cursorMapSet,f=i.lock,p=i.setHandOperatedLock,b=i.setFeePresetIndex,m=i.setTools,h=i.setTranslations,j=i.setIsPasswordLoadedInVault;t.default=a.reducer},177:function(e,t,n){"use strict";n.r(t),n.d(t,"slice",(function(){return l})),n.d(t,"setBoardingCompleted",(function(){return d})),n.d(t,"setBoardingNotCompleted",(function(){return f})),n.d(t,"setAuthenticationType",(function(){return p})),n.d(t,"lock",(function(){return b})),n.d(t,"unlock",(function(){return m})),n.d(t,"refreshWebviewGlobalKey",(function(){return h})),n.d(t,"setHideAddressBookAttention",(function(){return j})),n.d(t,"setHomeTabName",(function(){return O})),n.d(t,"setSwapPopoverShown",(function(){return g})),n.d(t,"setGuideToPushFistTime",(function(){return v})),n.d(t,"setFistTimeShowCheckRPCNodeTooltip",(function(){return y})),n.d(t,"updateAutoSwitchDefaultRpcAtVersion",(function(){return x})),n.d(t,"updateUserSwitchNetworkFlag",(function(){return w})),n.d(t,"setRpcStatus",(function(){return _}));var r=n(3),o=n.n(r),a=n(128);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={isUnlock:!1,boardingCompleted:!1,webviewGlobalKey:0,hideAddressBookAttention:!1,homeTabName:void 0,swapPopoverShown:!1,guideToPushFirstTime:!1,firstTimeShowCheckRPCNodeTooltip:!1,autoSwitchDefaultRpcAtVersion:void 0,userSwitchedNetworkRpcFlag:{}},l=Object(a.createSlice)({name:"status",initialState:s,reducers:{setHomeTabName:function(e,t){e.homeTabName=t.payload},setBoardingCompleted:function(e){e.boardingCompleted=!0},setBoardingNotCompleted:function(e){e.boardingCompleted=!1},setAuthenticationType:function(e,t){e.authenticationType=t.payload},unlock:function(e){e.isUnlock=!0},lock:function(e){e.isUnlock=!1},refreshWebviewGlobalKey:function(e){e.webviewGlobalKey=Date.now()},setHideAddressBookAttention:function(e){e.hideAddressBookAttention=!0},setSwapPopoverShown:function(e){e.swapPopoverShown=!0},setGuideToPushFistTime:function(e,t){e.guideToPushFirstTime=t.payload},setFistTimeShowCheckRPCNodeTooltip:function(e,t){e.firstTimeShowCheckRPCNodeTooltip=t.payload},updateAutoSwitchDefaultRpcAtVersion:function(e,t){e.autoSwitchDefaultRpcAtVersion=t.payload},updateUserSwitchNetworkFlag:function(e,t){var n=t.payload,r=n.networkId,o=n.flag,a=e.userSwitchedNetworkRpcFlag;a&&"object"===typeof a||(a={}),a[r]=o,e.userSwitchedNetworkRpcFlag=a},setRpcStatus:function(e,t){var n=t.payload,r=n.networkId,o=n.status;e.rpcStatus||(e.rpcStatus={});var a=e.rpcStatus[r];(null==o?void 0:o.responseTime)===(null==a?void 0:a.responseTime)&&(null==o?void 0:o.latestBlock)===(null==a?void 0:a.latestBlock)||(e.rpcStatus[r]=c(c({},o),{},{updatedAt:Date.now()}))}}}),u=l.actions,d=u.setBoardingCompleted,f=u.setBoardingNotCompleted,p=u.setAuthenticationType,b=u.lock,m=u.unlock,h=u.refreshWebviewGlobalKey,j=u.setHideAddressBookAttention,O=u.setHomeTabName,g=u.setSwapPopoverShown,v=u.setGuideToPushFistTime,y=u.setFistTimeShowCheckRPCNodeTooltip,x=u.updateAutoSwitchDefaultRpcAtVersion,w=u.updateUserSwitchNetworkFlag,_=u.setRpcStatus;t.default=l.reducer},178:function(e,t,n){"use strict";var r,o,a;n.r(t),n.d(t,"SendModalRoutes",(function(){return r})),n.d(t,"ESendEditFeeTypes",(function(){return o})),n.d(t,"BatchSendState",(function(){return a})),function(e){e.PreSendToken="PreSendToken",e.PreSendAddress="PreSendAddress",e.PreSendAmount="PreSendAmount",e.SendConfirm="SendConfirm",e.SendConfirmFromDapp="SendConfirmFromDapp",e.SendEditFee="SendEditFee",e.TokenApproveAmountEdit="TokenApproveAmountEdit",e.SendSpecialWarning="SendSpecialWarning",e.SendAuthentication="SendAuthentication",e.SignMessageConfirm="SignMessageConfirm",e.SendFeedbackReceipt="SendFeedbackReceipt",e.HardwareSwapContinue="HardwareSwapContinue",e.BatchSendConfirm="BatchSendConfirm",e.BatchSendProgress="BatchSendProgress"}(r||(r={})),function(e){e.standard="standard",e.advanced="advanced"}(o||(o={})),function(e){e.idle="idle",e.inProgress="inProgress",e.onPause="onPause"}(a||(a={}))},185:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"makeStore",(function(){return V})),n.d(t,"persistor",(function(){return q})),n.d(t,"appDispatch",(function(){return X})),n.d(t,"appSelector",(function(){return Q}));var r=n(340),o=n.n(r),a=(n(3),n(271),n(154),n(2)),i=n.n(a),c=n(397),s=n(128),l=n(661),u=n(93),d=n(91),f=n(151),p=n(19),b=n(24),m=n(267),h=n(2464),j=n(2465),O=n(499),g=n(517),v=n(1074),y=n(1023),x=n(169),w=n(291),_=n(1218),k=n(600),I=n(288),S=n(2517),T=n(292),P=n(263),C=n(801),M=n(503),A=n(239),E=n(451),D=n(261),R=n(86),N=n(490),L=n(177),B=n(186),F=n(259),U=n(459);var H=Object(c.combineReducers)({autoUpdate:O.default,cloudBackup:g.default,contacts:v.default,dapp:y.default,data:x.default,discover:w.default,fiatMoney:_.default,general:k.default,hardware:I.default,market:P.default,nft:C.default,accountSelector:A.default.reducer,refresher:E.default,runtime:D.default,settings:R.default,staking:N.default,status:L.default,swap:B.default,swapTransactions:F.default,tokens:U.default,overview:M.default,httpServer:S.default,limitOrder:T.default});var W={key:"ONEKEY_WALLET",version:2,storage:b.default.isExtensionUi?m.mockStorage:m.default,whitelist:j.persistWhiteList,throttle:0};function V(){var t=Object(l.persistReducer)(W,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={state:t};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case u.REPLACE_WHOLE_STATE:return n.state=r.payload,n.state;case"LOGOUT":return e(void 0,r);default:return e(t,r)}}}(H)),n=Object(s.configureStore)({reducer:t,middleware:function(e){return e({serializableCheck:{ignoredActions:[l.FLUSH,l.REHYDRATE,l.PAUSE,l.PERSIST,l.PURGE,l.REGISTER],warnAfter:1e3},immutableCheck:{warnAfter:1e3}}).concat(h.default)}});return{store:n,persistor:Object(l.persistStore)(n,null,(function(){p.default.common.info("receive: store persisted"),b.default.isExtensionUi?f.appUIEventBus.emit(f.AppUIEventBusNames.StoreInitedFromPersistor):(e.$appIsReduxReady=!0,d.appEventBus.emit(d.AppEventBusNames.StoreInitedFromPersistor))}))}}var z,G=V(),K=G.store,q=G.persistor,Z=null;function X(e){return Y.apply(this,arguments)}function Y(){return(Y=i()((function*(t){if(!(z=z||e.$backgroundApiProxy))throw new Error("Please init backgroundApiProxy first");try{delete e.$backgroundApiProxy}catch(r){p.default.common.error(r)}if(Z||(Z=z.dispatch.bind(z)),o()(t)){var n=t;yield n(Z)}else Z&&Z(t)}))).apply(this,arguments)}function Q(e){return e(null==K?void 0:K.getState())}t.default=K}.call(this,n(58))},186:function(e,t,n){"use strict";n.r(t),n.d(t,"swapSlice",(function(){return a})),n.d(t,"setTypedValue",(function(){return c})),n.d(t,"setInputToken",(function(){return s})),n.d(t,"setOutputToken",(function(){return l})),n.d(t,"switchTokens",(function(){return u})),n.d(t,"setQuote",(function(){return d})),n.d(t,"setQuoteTime",(function(){return f})),n.d(t,"setQuoteLimited",(function(){return p})),n.d(t,"setLoading",(function(){return b})),n.d(t,"setError",(function(){return m})),n.d(t,"resetTypedValue",(function(){return h})),n.d(t,"clearState",(function(){return j})),n.d(t,"resetState",(function(){return O})),n.d(t,"setRecipient",(function(){return g})),n.d(t,"setSendingAccount",(function(){return v})),n.d(t,"setShowMoreQuoteDetail",(function(){return y})),n.d(t,"setUserSelectedQuoter",(function(){return x})),n.d(t,"clearUserSelectedQuoter",(function(){return w})),n.d(t,"setResponses",(function(){return _})),n.d(t,"setAllowAnotherRecipientAddress",(function(){return k})),n.d(t,"setProgressStatus",(function(){return I})),n.d(t,"setMode",(function(){return S}));var r=n(128),o={inputToken:void 0,outputToken:void 0,typedValue:"",independentField:"INPUT",loading:!1,mode:"swap"},a=Object(r.createSlice)({name:"swap",initialState:o,reducers:{setTypedValue:function(e,t){e.typedValue=t.payload.typedValue,e.independentField=t.payload.independentField},setInputToken:function(e,t){e.inputToken=t.payload.token,e.inputTokenNetwork=t.payload.network},setOutputToken:function(e,t){e.outputToken=t.payload.token,e.outputTokenNetwork=t.payload.network},switchTokens:function(e){var t=e.inputToken;e.inputToken=e.outputToken,e.outputToken=t,e.independentField="INPUT";var n=e.inputTokenNetwork;e.inputTokenNetwork=e.outputTokenNetwork,e.outputTokenNetwork=n},resetTypedValue:function(e){e.typedValue=""},clearState:function(e){e.independentField="INPUT",e.typedValue="",e.quote=void 0,e.quoteTime=void 0,e.error=void 0,e.quoteLimited=void 0,e.showMoreQuoteDetail=!1,e.userSelectedQuoter=void 0,e.responses=void 0},resetState:function(e){e.inputToken=void 0,e.inputTokenNetwork=void 0,e.outputToken=void 0,e.outputTokenNetwork=void 0,e.independentField="INPUT",e.typedValue="",e.recipient=void 0,e.quote=void 0,e.quoteTime=void 0,e.loading=!1,e.error=void 0,e.quoteLimited=void 0,e.showMoreQuoteDetail=!1,e.userSelectedQuoter=void 0,e.responses=void 0},setQuote:function(e,t){e.quote=t.payload},setQuoteTime:function(e,t){e.quoteTime=t.payload},setQuoteLimited:function(e,t){e.quoteLimited=t.payload},setLoading:function(e,t){e.loading=t.payload},setError:function(e,t){e.error=t.payload},setRecipient:function(e,t){e.recipient=t.payload},setSendingAccount:function(e,t){e.sendingAccount=t.payload},setShowMoreQuoteDetail:function(e,t){e.showMoreQuoteDetail=t.payload},setUserSelectedQuoter:function(e,t){e.userSelectedQuoter||(e.userSelectedQuoter={});var n=t.payload,r=n.hash,o=n.type;e.userSelectedQuoter[r]=o},clearUserSelectedQuoter:function(e){e.userSelectedQuoter=void 0},setResponses:function(e,t){e.responses=t.payload},setAllowAnotherRecipientAddress:function(e,t){e.allowAnotherRecipientAddress=t.payload},setMode:function(e,t){e.mode=t.payload},setProgressStatus:function(e,t){e.progressStatus=t.payload}}}),i=a.actions,c=i.setTypedValue,s=i.setInputToken,l=i.setOutputToken,u=i.switchTokens,d=i.setQuote,f=i.setQuoteTime,p=i.setQuoteLimited,b=i.setLoading,m=i.setError,h=i.resetTypedValue,j=i.clearState,O=i.resetState,g=i.setRecipient,v=i.setSendingAccount,y=i.setShowMoreQuoteDetail,x=i.setUserSelectedQuoter,w=i.clearUserSelectedQuoter,_=i.setResponses,k=i.setAllowAnotherRecipientAddress,I=i.setProgressStatus,S=i.setMode;t.default=a.reducer},188:function(e,t,n){"use strict";n.r(t),n.d(t,"nativeTokenAddress",(function(){return h})),n.d(t,"feeRecipient",(function(){return j})),n.d(t,"affiliateAddress",(function(){return O})),n.d(t,"TokenAmount",(function(){return g})),n.d(t,"getTokenAmountString",(function(){return v})),n.d(t,"getTokenAmountValue",(function(){return y})),n.d(t,"multiply",(function(){return x})),n.d(t,"div",(function(){return w})),n.d(t,"plus",(function(){return _})),n.d(t,"minus",(function(){return k})),n.d(t,"gte",(function(){return I})),n.d(t,"gt",(function(){return S})),n.d(t,"lte",(function(){return T})),n.d(t,"lt",(function(){return P})),n.d(t,"tokenBN",(function(){return C})),n.d(t,"greaterThanZeroOrUndefined",(function(){return M})),n.d(t,"formatAmount",(function(){return A})),n.d(t,"formatAmountExact",(function(){return E})),n.d(t,"calculateRate",(function(){return D})),n.d(t,"getChainIdFromNetwork",(function(){return R})),n.d(t,"getChainIdFromNetworkId",(function(){return N})),n.d(t,"getNetworkIdImpl",(function(){return L})),n.d(t,"isEvmNetworkId",(function(){return B})),n.d(t,"isSolNetworkId",(function(){return F})),n.d(t,"getEvmTokenAddress",(function(){return U})),n.d(t,"calculateRange",(function(){return H})),n.d(t,"stringifyTokens",(function(){return W})),n.d(t,"convertParams",(function(){return V})),n.d(t,"convertLimitOrderParams",(function(){return z})),n.d(t,"convertBuildParams",(function(){return G})),n.d(t,"normalizeProviderName",(function(){return q})),n.d(t,"calculateProtocalsFee",(function(){return Z})),n.d(t,"calculateDecodedTxNetworkFee",(function(){return X})),n.d(t,"calculateNetworkFee",(function(){return Y})),n.d(t,"getQuoteType",(function(){return Q})),n.d(t,"isSimpleTx",(function(){return $})),n.d(t,"tokenEqual",(function(){return J})),n.d(t,"recipientMustBeSendingAccount",(function(){return ee})),n.d(t,"shouldShowAllowRecipientAddressInput",(function(){return te})),n.d(t,"getLimitOrderPercent",(function(){return ne})),n.d(t,"LoggerTimerTags",(function(){return K})),n.d(t,"createLoggerTimer",(function(){return re})),n.d(t,"combinedTasks",(function(){return oe}));var r=n(2),o=n.n(r),a=n(13),i=n.n(a),c=n(6),s=n.n(c),l=n(21),u=n.n(l),d=n(196),f=n(11),p=n(19),b=n(568),m=n(946),h="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",j="0xc1e92BD5d1aa6e5f5F299D0490BefD9D8E5a887a",O="0x4F5FC02bE49Bea15229041b87908148b04c14717",g=function(){function e(e,t){this.token=e,this.typedValue=t,this.base=new u.a(10),this.value=new u.a(t),this.decimals=new u.a(e.decimals),this.amount=this.base.exponentiatedBy(this.decimals).multipliedBy(this.value)}var t=e.prototype;return t.toNumber=function(){return this.amount},t.toFormat=function(){return this.toNumber().toFixed(0)},s()(e)}();function v(e,t){return new g(e,t).toFormat()}function y(e,t){var n=new u.a(t),r=new u.a(e.decimals),o=new u.a(10);return n.dividedBy(o.exponentiatedBy(r))}function x(e,t){var n=new u.a(e),r=new u.a(t);return u.a.isBigNumber(n)&&u.a.isBigNumber(r)?n.multipliedBy(r).toFixed():"0"}function w(e,t){var n=new u.a(e),r=new u.a(t);return u.a.isBigNumber(n)&&u.a.isBigNumber(r)?n.div(r).toFixed():"0"}function _(e,t){var n=new u.a(e),r=new u.a(t);return u.a.isBigNumber(n)&&u.a.isBigNumber(r)?n.plus(r).toFixed():"0"}function k(e,t){var n=new u.a(e),r=new u.a(t);return u.a.isBigNumber(n)&&u.a.isBigNumber(r)?n.minus(r).toFixed():"0"}function I(e,t){var n=new u.a(e),r=new u.a(t);return!(!u.a.isBigNumber(n)||!u.a.isBigNumber(r))&&n.gte(r)}function S(e,t){var n=new u.a(e),r=new u.a(t);return!(!u.a.isBigNumber(n)||!u.a.isBigNumber(r))&&n.gt(r)}function T(e,t){var n=new u.a(e),r=new u.a(t);return!(!u.a.isBigNumber(n)||!u.a.isBigNumber(r))&&n.lte(r)}function P(e,t){var n=new u.a(e),r=new u.a(t);return!(!u.a.isBigNumber(n)||!u.a.isBigNumber(r))&&n.lt(r)}function C(e,t){return new u.a(10).exponentiatedBy(t).multipliedBy(e)}function M(e){if(e&&!Number.isNaN(e))return Number(e)>0?e:void 0}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a.ROUND_HALF_UP;if(!e)return"";var r=new u.a(e);return r.isNaN()?"":r.decimalPlaces(t,n).toFixed()}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!e)return"";for(var n=new u.a(e),r=0,o=0;o<=4;o+=1){var a=A(n,r+=t,u.a.ROUND_FLOOR),i=n.minus(a).abs().div(n).lt(.01);if(i)return a}return A(n,Math.max(4,r),u.a.ROUND_FLOOR)}function D(e,t,n,r){return new u.a(10**e).multipliedBy(r).div(10**t).div(n).toFixed()}function R(e){var t,n=null==e||null==(t=e.extraInfo)?void 0:t.chainId;return e?String(+n):""}function N(e){var t;return null!=(t=e.split("--")[1])?t:""}function L(e){if(e)return e.split("--")[0]}function B(e){return L(e)===f.IMPL_EVM}function F(e){return L(e)===f.IMPL_SOL}function U(e){return e.tokenIdOnNetwork?e.tokenIdOnNetwork:h}function H(e){var t=e.map((function(e){return e.max})).filter(Boolean),n=e.map((function(e){return e.min})).filter(Boolean);return{max:t.length>0?u.a.max.apply(u.a,i()(t)).toFixed():void 0,min:n.length>0?u.a.min.apply(u.a,i()(n)).toFixed():void 0}}function W(e,t){return e&&t?"input:"+e.networkId+"-"+t.tokenIdOnNetwork+"|"+("output:"+e.networkId+"-"+t.tokenIdOnNetwork)+" ":""}function V(e){if(e.receivingAddress){var t,n,r=e.networkOut.id,o=e.networkIn.id,a=e.tokenOut.tokenIdOnNetwork?e.tokenOut.tokenIdOnNetwork:h,i=e.tokenIn.tokenIdOnNetwork?e.tokenIn.tokenIdOnNetwork:h,c=e.tokenOut.decimals,s=e.tokenIn.decimals,l=e.slippagePercentage,u=e.receivingAddress,d=e.activeAccount.address;"INPUT"===e.independentField?n=v(e.tokenIn,e.typedValue):t=v(e.tokenOut,e.typedValue);var f={toNetworkId:r,fromNetworkId:o,toTokenAddress:a,fromTokenAddress:i,toTokenDecimals:c,fromTokenDecimals:s,slippagePercentage:l,userAddress:d,receivingAddress:u};return n&&(f.fromTokenAmount=n),t&&(f.toTokenAmount=t),f}}function z(e){var t=e.tokenIn.networkId,n=e.tokenOut.networkId,r=e.tokenOut.tokenIdOnNetwork?e.tokenOut.tokenIdOnNetwork:h,o=e.tokenIn.tokenIdOnNetwork?e.tokenIn.tokenIdOnNetwork:h,a=e.tokenOut.decimals,i=e.tokenIn.decimals,c=e.activeAccount.address,s=v(e.tokenIn,e.tokenInValue),l={toNetworkId:t,fromNetworkId:n,toTokenAddress:r,fromTokenAddress:o,toTokenDecimals:a,fromTokenDecimals:i,slippagePercentage:1,userAddress:c,receivingAddress:e.activeAccount.address};return s&&(l.fromTokenAmount=s),l}function G(e){var t=V(e);if(t)return t.fromTokenAmount=e.sellAmount,delete t.toTokenAmount,t}var K,q=function(e){return"swftc"===e?"SWFT":e},Z=function(e){var t=e.amount,n=e.asset,r=new u.a(t),o=new u.a(n.decimals),a=new u.a(10);return{value:r.dividedBy(a.exponentiatedBy(o)).toFixed(),symbol:n.symbol}};function X(e,t){var n=e.feeInfo,r=e.totalFeeInNative;if(r)return r;if(n){var o=Object(d.calculateTotalFeeRange)(n);return Object(d.calculateTotalFeeNative)({amount:o.max,info:{defaultPresetIndex:"0",prices:[],feeSymbol:t.feeSymbol,feeDecimals:t.feeDecimals,nativeSymbol:t.symbol,nativeDecimals:t.decimals}})}}function Y(e,t){var n=Object(d.calculateTotalFeeRange)(e);return Object(d.calculateTotalFeeNative)({amount:n.max,info:{defaultPresetIndex:"0",prices:[],feeSymbol:t.feeSymbol,feeDecimals:t.feeDecimals,nativeSymbol:t.symbol,nativeDecimals:t.decimals}})}function Q(e){return e.quoterType?e.quoterType:e.thirdPartyOrderId?m.QuoterType.swftc:m.QuoterType.zeroX}function $(e){var t,n,r=null==(t=e.tokens)?void 0:t.from,o=null==(n=e.tokens)?void 0:n.to,a=Q(e);return a!==m.QuoterType.swftc&&a!==m.QuoterType.jupiter&&(null==r?void 0:r.networkId)===(null==o?void 0:o.networkId)}function J(e,t){return e.networkId===t.networkId&&e.tokenIdOnNetwork.toLowerCase()===t.tokenIdOnNetwork.toLowerCase()}function ee(e,t,n){return!(e.networkId!==t.networkId||!b.networkIdDontSupportRecipientAddress.includes(e.networkId))||L(e.networkId)===L(t.networkId)&&!n}function te(e,t){var n=L(e.networkId)===L(t.networkId);return e.networkId===t.networkId&&(n=!b.networkIdDontSupportRecipientAddress.includes(e.networkId)),n}function ne(e){return x(w(k(e.tokenOutValue,e.remainingFillable),e.tokenOutValue),100)}function re(){var e={};return{start:function(t){var n=Date.now();e[t]&&p.default.swap.info("tag "+t+" already exists, it's value "+e[t]+" will be replace with "+n),e[t]=n},end:function(t){var n=e[t],r=Date.now();if(n){var o=((r-n)/1e3).toFixed(2);p.default.swap.info("tag "+t+" took "+o+" secords, ended at "+r)}else p.default.swap.info("tag "+t+" ended at "+r)},clear:function(){e={}}}}function oe(e){return ae.apply(this,arguments)}function ae(){return(ae=o()((function*(e){var t=0;function n(){return r.apply(this,arguments)}function r(){return(r=o()((function*(){if(t<e.length){var r=e[t];t+=1,yield r(n)}}))).apply(this,arguments)}yield n()}))).apply(this,arguments)}!function(e){e.overview="overview",e.approval="approval",e.cancelApproval="cancelApproval",e.swap="swap",e.sendTransaction="sendTransaction",e.signMessage="signMessage",e.gasEstimate="gasEstimate",e.checkTokenBalance="checkTokenBalance",e.checkTokenAllowance="checkTokenAllowance",e.buildTransaction="buildTransaction"}(K||(K={}))},19:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"logger",(function(){return v})),n.d(t,"LoggerNames",(function(){return O})),n.d(t,"saveDebugLoggerSettings",(function(){return S})),n.d(t,"loadDebugLoggerSettings",(function(){return k})),n.d(t,"getDebugLoggerSettings",(function(){return w}));var r,o=n(60),a=n.n(o),i=n(2),c=n.n(i),s=n(3),l=n.n(s),u=(n(237),n(13)),d=n.n(u),f=n(320),p=n(1321),b=n(2455),m=(n(24),n(267),n(599));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){if(e instanceof Error){var t=Object(m.toPlainErrorObject)(e);return delete t.stack,t}return e})),o=b.stringify.apply(void 0,d()(r));return o}var O,g={transport:[p.consoleTransport],transportOptions:{consoleFunc:function(t,n){var r,o;null==(r=e.$backgroundApiProxy)||null==(o=r.serviceApp)||null==o.addLogger||o.addLogger(t+"\r\n")}}},v=(p.fileAsyncTransport,p.logger.createLogger(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({async:!0,asyncFunc:f.default.runAfterInteractions,stringifyFunc:j,dateFormat:"iso"},g)));!function(e){e.onBoarding="onBoarding",e.hardwareSDK="hardwareSDK",e.http="http",e.jsBridge="jsBridge",e.webview="webview",e.desktopInjected="desktopInjected",e.ethereum="ethereum",e.dappApprove="dappApprove",e.extContentScripts="extContentScripts",e.extInjected="extInjected",e.backgroundApi="backgroundApi",e.walletConnect="walletConnect",e.deepLink="deepLink",e.accountSelector="accountSelector",e.engine="engine",e.sendTx="sendTx",e.navigation="navigation",e.redux="redux",e.common="common",e.cloudBackup="cloudBackup",e.swap="swap",e.providerApi="providerApi",e.notification="notification",e.autoUpdate="autoUpdate",e.migrate="migrate",e.onekeyLite="onekeyLite",e.overview="overview",e.native="native",e.staking="staking"}(O||(O={}));var y=function(e){return v.extend(e)},x=((r={stringifyLog:j})[O.hardwareSDK]=y(O.hardwareSDK),r[O.onBoarding]=y(O.onBoarding),r[O.redux]=y(O.redux),r[O.navigation]=y(O.navigation),r[O.http]=y(O.http),r[O.jsBridge]=y(O.jsBridge),r[O.webview]=y(O.webview),r[O.desktopInjected]=y(O.desktopInjected),r[O.ethereum]=y(O.ethereum),r[O.dappApprove]=y(O.dappApprove),r[O.extContentScripts]=y(O.extContentScripts),r[O.extInjected]=y(O.extInjected),r[O.backgroundApi]=y(O.backgroundApi),r[O.walletConnect]=y(O.walletConnect),r[O.deepLink]=y(O.deepLink),r[O.accountSelector]=y(O.accountSelector),r[O.engine]=y(O.engine),r[O.sendTx]=y(O.sendTx),r[O.common]=y(O.common),r[O.cloudBackup]=y(O.cloudBackup),r[O.swap]=y(O.swap),r[O.providerApi]=y(O.providerApi),r[O.notification]=y(O.notification),r[O.autoUpdate]=y(O.autoUpdate),r[O.migrate]=y(O.migrate),r[O.onekeyLite]=y(O.onekeyLite),r[O.overview]=y(O.overview),r[O.native]=y(O.native),r[O.staking]=y(O.staking),r);function w(){return _.apply(this,arguments)}function _(){return(_=c()((function*(){return window.localStorage.getItem("$$ONEKEY_DEBUG_LOGGER")}))).apply(this,arguments)}function k(){return I.apply(this,arguments)}function I(){return(I=c()((function*(){var e=yield w();a()(e)?O.common:e.split(",").filter(Boolean),Object.keys(O).forEach((function(e){v.enable(e)}))}))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=c()((function*(){var e=(v._enabledExtensions||[]).join(",");window.localStorage.setItem("$$ONEKEY_DEBUG_LOGGER",e)}))).apply(this,arguments)}t.default=x}.call(this,n(58))},190:function(e,t,n){"use strict";n.r(t),n.d(t,"defaultMenuOffset",(function(){return j}));var r=n(3),o=n.n(r),a=n(627),i=n(15),c=n.n(i),s=n(1),l=n(88),u=n(1338),d=n(24),f=n(0),p=["options","children","menuWidth","placement"],b=["onPress","closeOnSelect","value","intlValues"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=d.default.isNativeAndroid?null==u.initialWindowMetrics?void 0:u.initialWindowMetrics.insets.top:0;t.default=function(e){var t,n=e.options,r=e.children,o=e.menuWidth,i=e.placement,u=void 0===i?"bottom right":i,d=c()(e,p),m=Object(l.default)(),O=Object(s.useCallback)((function(e,t){var n=e.onPress,r=e.closeOnSelect,o=void 0===r||r,i=e.value,s=e.intlValues,l=c()(e,b);return void 0!==i?Object(f.jsx)(a.default.ItemOption,h(h({value:i},l),{},{onPress:function(){if(null==n||n(),!o)return!1},children:"textValue"in e?e.textValue:m.formatMessage({id:e.id},s)}),t):Object(f.jsx)(a.default.CustomItem,h(h({},l),{},{onPress:function(){if(null==n||n(),!o)return!1},children:"textValue"in e?e.textValue:m.formatMessage({id:e.id},s)}),t)}),[m]),g=Object(s.useCallback)((function(e){return e.filter(Boolean).map((function(e,t){return"function"===typeof e?Object(f.jsx)(s.Fragment,{children:e()},t):O(e,t)}))}),[O]);return Object(f.jsx)(a.default,h(h({w:o||190,offset:null!=(t=d.offset)?t:j,placement:u,trigger:function(e){return Object(s.cloneElement)(s.Children.only(r),e)}},d),{},{children:n.filter(Boolean).map((function(e,t){return"function"===typeof e?Object(f.jsx)(s.Fragment,{children:e()},t):"type"in e?"group"===e.type?Object(f.jsx)(a.default.Group,{title:m.formatMessage({id:e.title}),children:g(e.children)},t):Object(f.jsx)(a.default.OptionGroup,{type:e.type,title:m.formatMessage({id:e.title}),defaultValue:e.defaultValue,value:e.value,onChange:e.onChange,children:g(e.children)},t):O(e,t)}))}))}},212:function(e,t,n){"use strict";n.r(t),n.d(t,"useAddressLabel",(function(){return H})),n.d(t,"useAddressBookItem",(function(){return W})),n.d(t,"TxActionElementAddress",(function(){return z})),n.d(t,"TxActionElementAddressNormal",(function(){return G})),n.d(t,"getTxActionElementAddressWithSecurityInfo",(function(){return K}));var r=n(41),o=n(82),a=n(63),i=n(20),c=n(3),s=n.n(c),l=n(15),u=n.n(l),d=n(2),f=n.n(d),p=n(4),b=n.n(p),m=n(1),h=n(108),j=n(17),O=n(1301),g=n(25),v=n(578),y=n(369),x=n(16),w=n(177),_=n(1066),k=n(1615),I=n(474),S=n(54),T=n(51),P=n(12),C=n(40),M=n(88),A=n(99),E=n(0);function D(e){var t=e.address,n=e.closeOverlay,o=Object(M.default)(),a=Object(v.useClipboard)().copyText;return Object(E.jsxs)(I.default,{title:"",closeOverlay:n,showCloseButton:!1,children:[Object(E.jsx)(T.default,{mt:-10,children:Object(E.jsx)(P.default,{width:12,height:12,borderRadius:"full",alignItems:"center",justifyContent:"center",bgColor:"surface-critical-default",children:Object(E.jsx)(C.default,{name:"ExclamationTriangleOutline",size:24,color:"icon-critical"})})}),Object(E.jsxs)(P.default,{children:[Object(E.jsx)(i.default,{textAlign:"center",typography:"DisplayMedium",fontSize:20,mt:5,children:o.formatMessage({id:"title__beware_of_address_poisoning_scams"})}),Object(E.jsx)(i.default,{textAlign:"center",typography:"Body2",color:"text-subdued",mt:2,fontSize:14,children:o.formatMessage({id:"title__beware_of_address_poisoning_scams_desc"})}),Object(E.jsx)(i.default,{textAlign:"center",typography:"Body2",color:"text-subdued",mt:5,fontSize:14,children:t})]}),Object(E.jsxs)(r.default,{space:3,mt:6,pb:5,children:[Object(E.jsx)(S.default,{size:"xl",flex:1,onPress:function(){return n()},children:o.formatMessage({id:"action__cancel"})}),Object(E.jsx)(S.default,{flex:1,size:"xl",type:"destructive",onPress:function(){a(t),n()},children:o.formatMessage({id:"action__copy_address"})})]})]})}var R=n(190),N=n(856),L=["networkId","address","amount","isCopy","isAccount","contact"],B=["address","isShorten","isLabelShow","isCopy","checkSecurity","networkId","flex","amount"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=e.address,n=e.networkId,r=Object(m.useState)(""),o=b()(r,2),a=o[0],i=o[1];return Object(m.useEffect)((function(){f()((function*(){var e=yield j.default.serviceAccount.getAddressLabel({address:t,networkId:n});e&&e.label&&i(e.label)}))()}),[t,n]),a}function W(e){var t=e.address,n=Object(m.useState)(),r=b()(n,2),o=r[0],a=r[1];return Object(m.useEffect)((function(){f()((function*(){var e=yield j.default.serviceAddressbook.getItem({address:t});e&&a(e)}))()}),[t]),o}function V(e){var t=e.networkId,n=e.address,r=e.amount,o=e.isCopy,a=e.isAccount,i=e.contact,c=u()(e,L),s=Object(g.useNetwork)({networkId:t}).network,l=Object(y.default)(s),d=Object(v.useClipboard)().copyText,p=Object(g.useNavigation)(),b=Object(m.useCallback)((function(e){"0"===r?function(e){Object(A.showOverlay)((function(t){return Object(E.jsx)(D,{address:e,closeOverlay:t})}))}(n):d(e)}),[n,r,d]),h=Object(m.useMemo)((function(){return[o&&{id:"action__copy_address",onPress:function(){return b(n)}},a&&{id:"action__view_account",onPress:function(){var e=f()((function*(){var e,r=yield j.default.serviceAccount.getAccountByAddress({address:n,networkId:t});yield j.default.serviceAccount.changeActiveAccountByAccountId(null!=(e=null==r?void 0:r.id)?e:""),j.default.dispatch(Object(w.setHomeTabName)(N.WalletHomeTabEnum.Tokens)),null==p||p.navigate(x.RootRoutes.Main,{screen:x.MainRoutes.Tab,params:{screen:x.TabRoutes.Home}})}));return function(){return e.apply(this,arguments)}}()},!!i&&{id:"action__edit",onPress:function(){p.navigate(x.RootRoutes.Modal,{screen:x.ModalRoutes.AddressBook,params:{screen:_.AddressBookRoutes.EditAddressRoute,params:{uuid:i.id,defaultValues:{name:i.name,address:i.address,networkId:i.networkId}}}})}},l.hasAvailable&&{id:"action__view_in_browser",onPress:function(){return l.openAddressDetails(n)}}].filter(Boolean)}),[n,b,a,i,o,p,t,l]);return 0===h.length?null:Object(E.jsx)(R.default,U({options:h},c))}function z(e){var t=e.address,n=e.isShorten,c=void 0===n||n,s=e.isLabelShow,l=void 0===s||s,d=e.isCopy,f=void 0===d||d,p=e.checkSecurity,b=void 0!==p&&p,m=e.networkId,j=e.flex,g=e.amount,v=u()(e,B),y=!(!b||!m),x=Object(k.useAddressSecurityInfo)(null!=m?m:"",y?t:"").data,w=H({address:t,networkId:m}),_=W({address:t}),I=c?Object(h.shortenAddress)(t):t;return w&&l&&(I=w+"("+t.slice(-4)+")"),Object(E.jsx)(a.default,{flex:j,children:Object(E.jsxs)(r.default,{alignItems:"flex-start",space:1,children:[Object(E.jsxs)(a.default,{space:1,flex:1,children:[Object(E.jsx)(i.default,U(U({ml:null!=x&&x.length?1:0,isTruncated:!0,numberOfLines:2},v),{},{color:null!=x&&x.length?"text-critical":"text-default",children:I})),Object(E.jsx)(O.AddressLabel,{mt:-1,address:t,networkId:m,securityInfo:x,shouldCheckSecurity:y,isAccount:!!w,isAddressBook:!!_,addressBookLabel:null==_?void 0:_.name,labelStyle:{mt:1}})]}),Object(E.jsx)(V,{networkId:m,address:t,amount:g,isCopy:f,isAccount:!!w,contact:_,children:Object(E.jsx)(o.default,{circle:!0,mt:"-6px",type:"plain",iconSize:18,name:"EllipsisVerticalOutline"})})]})})}function G(e){return Object(E.jsx)(z,U({typography:"Body2Strong"},e))}function K(e){var t=e.address,n=e.networkId,r=e.withSecurityInfo,o=void 0!==r&&r,a=e.typography,i=void 0===a?"Body2Strong":a,c=e.amount,s=e.isCopy,l=e.isShorten;return o&&n?Object(E.jsx)(z,{checkSecurity:!0,address:t,networkId:n,typography:i,amount:c,isCopy:s,isShorten:l}):Object(E.jsx)(z,{typography:i,address:t,networkId:n,amount:c,isCopy:s,isShorten:l})}},217:function(e,t,n){"use strict";n.r(t),n.d(t,"BaseSendModal",(function(){return f}));var r=n(3),o=n.n(r),a=n(57),i=n(12),c=n(20),s=n(106),l=n(25),u=n(0);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){var t=e.networkId,n=Object(l.useNetwork)({networkId:t}).network;return Object(u.jsx)(a.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerDescription:Object(u.jsxs)(i.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[Object(u.jsx)(s.default,{alt:"logoURI",source:{uri:null==n?void 0:n.logoURI},size:4,borderRadius:"full",mr:2}),Object(u.jsx)(c.default,{textAlign:"center",typography:"Caption",color:"text-subdued",children:(null==n?void 0:n.name)||(null==n?void 0:n.shortName)||void 0})]}),onSecondaryActionPress:function(e){return(0,e.close)()}},e))}},2279:function(e,t,n){"use strict";n.r(t),n.d(t,"showSplashScreen",(function(){return u}));var r=n(12),o=n(238),a=n(251),i=n(1513),c=n.n(i),s=(n(24),n(99)),l=n(0),u=function(){a.default.dismiss(),Object(s.showOverlay)((function(){return Object(l.jsx)(r.default,{flex:1,justifyContent:"center",alignItems:"center",bg:"background-default",children:Object(l.jsx)(o.default,{style:{height:"100%",width:"100%",resizeMode:"center"},source:c.a})})}))}},231:function(e,t,n){"use strict";n.r(t);var r=n(16);n.d(t,"ManageNetworkModalRoutes",(function(){return r.ManageNetworkModalRoutes}))},2338:function(e,t,n){"use strict";n.r(t),n.d(t,"scanFromURLAsync",(function(){return c}));var r=n(2),o=n.n(r);function a(e){return i.apply(this,arguments)}function i(){return(i=o()((function*(e){return new Promise((function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){var e=n.width||n.naturalWidth||150,r=n.height||n.naturalHeight||150,o=Math.min(960,e),a=r*(o/e),i=document.createElement("canvas");i.width=o,i.height=a;var c=i.getContext("2d");c.drawImage(n,0,0,e,r,0,0,o,a),t(c.getImageData(0,0,o,a))},n.src=e}))}))).apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return(s=o()((function*(e){var t=yield a(e),r=n(2760).scanImageData;return(yield r(t))[0].decode()}))).apply(this,arguments)}},234:function(e,t,n){"use strict";n.r(t);var r=n(1492);n.d(t,"default",(function(){return r.default}))},2388:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r);function a(){return(a=o()((function*(){return(yield n.e(75).then(n.bind(null,3826))).providers}))).apply(this,arguments)}t.default={getModule:function(){return a.apply(this,arguments)}}},239:function(e,t,n){"use strict";n.r(t),n.d(t,"EAccountSelectorMode",(function(){return r})),n.d(t,"reducerSlice",(function(){return i}));var r,o=n(128);!function(e){e.Wallet="Wallet",e.Transfer="Transfer"}(r||(r={}));var a={accountSelectorMode:r.Wallet,isDesktopWalletSelectorVisible:!1,isMobileWalletSelectorDrawerOpen:!1,isOpen:!1,isOpenDelay:!1,isLoading:!1,isRefreshDisabled:!1,walletId:void 0,networkId:void 0,accountsGroup:[],preloadingCreateAccount:void 0},i=Object(o.createSlice)({name:"accountSelector",initialState:a,reducers:{updateAccountSelectorMode:function(e,t){e.accountSelectorMode!==t.payload&&(e.accountSelectorMode=t.payload)},updateDesktopWalletSelectorVisible:function(e,t){e.isDesktopWalletSelectorVisible=t.payload},updateMobileWalletSelectorDrawerOpen:function(e,t){e.isMobileWalletSelectorDrawerOpen=t.payload},updateSelectedWalletId:function(e,t){e.walletId=t.payload},updateSelectedNetworkId:function(e,t){e.networkId=t.payload},updateIsOpenDelay:function(e,t){e.isOpenDelay!==t.payload&&(e.isOpenDelay=t.payload)},updateIsOpen:function(e,t){e.isOpen!==t.payload&&(e.isOpen=t.payload)},updateIsLoading:function(e,t){e.isLoading!==t.payload&&(e.isLoading=t.payload)},updateIsRefreshDisabled:function(e,t){e.isRefreshDisabled!==t.payload&&(e.isRefreshDisabled=t.payload)},updateAccountsGroup:function(e,t){e.accountsGroup=t.payload},updatePreloadingCreateAccount:function(e,t){e.preloadingCreateAccount=t.payload}}});t.default=i},2390:function(e,t,n){"use strict";n.r(t),function(e){var r=n(2),o=n.n(r),a=n(107),i=n.n(a),c=n(437),s=n(923),l=n(1617),u=n(868),d=n(185),f=n(24),p=n(2578),b=n(2391),m=n(2644),h=n(2430),j=n(2646),O=n(0);f.default.isRuntimeBrowser&&(window._frameTimestamp=null);var g={refreshInterval:0,fetcher:function(){var e=o()((function*(e,t){return(yield i()(e,t)).data}));return function(t,n){return e.apply(this,arguments)}}()},v={flex:1};t.default=function(t){var n,r=t||{},o=r.UIApplicationLaunchOptionsRemoteNotificationKey;return null==(n=e.$$onekeyPerfTrace)||n.log({name:"KitProvider render",payload:r}),Object(O.jsx)(l.SWRConfig,{value:g,children:Object(O.jsx)(s.Provider,{store:d.default,children:Object(O.jsx)(c.GestureHandlerRootView,{style:v,children:Object(O.jsx)(h.default,{children:Object(O.jsx)(p.default,{children:Object(O.jsxs)(u.ErrorBoundary,{children:[Object(O.jsx)(m.default,{launchNotification:o}),Object(O.jsx)(b.default,{}),Object(O.jsx)(j.WhenAppActive,{})]})})})})})})}}.call(this,n(58))},2391:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"navigationRef",(function(){return D}));var r=n(3),o=n.n(r),a=n(48),i=n(142),c=n(4),s=n.n(c),l=n(50),u=n(1),d=n(2637),f=n(937),p=n(3765),b=n(29),m=n(38),h=n(1165),j=n(1373),O=n(2660),g=n(45),v=n(2655),y=n(2633),x=n(1574),w=n(19),_=n(24),k=n(2635),I=(n(1451),n(1285)),S=n(719),T=n(99),P=n(686),C=n(2636),M=n(0);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=Object(u.createRef)(),R=Object(S.createLazyComponent)((function(){return n.e(824).then(n.bind(null,3825))}));e.$navigationRef=D;var N=function(){var t,n=Object(u.useRef)(),r=Object(l.default)(),o=Object(i.default)(["background-default","text-default","divider"]),c=s()(o,3),S=c[0],A=c[1],N=c[2],L=Object(u.useMemo)((function(){return Object(I.default)()}),[]),B=Object(g.useAppSelector)((function(e){return e.refresher})),F=B.backgroundShowToastOptions,U=B.backgroundShowToastTs;Object(u.useEffect)((function(){F.title&&a.default.show({title:F.title},{type:F.type})}),[U,F]);var H=_.default.isNativeAndroid||r&&!0,W=Object(u.useMemo)((function(){return E(E({},f.default),{},{colors:E(E({},f.default.colors),{},{background:H?S:"transparent",card:S,text:A,border:N})})}),[S,A,N,H]),V=Object(g.useSettings)().instanceId;Object(u.useEffect)((function(){var e,t;Object(y.analyticLogEvent)("initialized",{instanceId:V,platform:_.default.symbol,distribution:_.default.distributionChannel}),Object(x.setAttributes)({instanceId:V,platform:null!=(e=_.default.symbol)?e:"",distribution:null!=(t=_.default.distributionChannel)?t:""})}),[V]),null==(t=e.$$onekeyPerfTrace)||t.log({name:"NavigationProvider/NavigationApp render",payload:{instanceId:V,isVerticalLayout:r,bgColor:S,textColor:A,dividerColor:N}}),Object(d.useFlipper)(D),Object(k.useShortcuts)();var z=Object(u.useMemo)((function(){return Object(M.jsxs)(m.default,{pointerEvents:"box-none",style:b.default.absoluteFill,children:[Object(M.jsx)(R,{}),Object(M.jsx)(O.default,{bottomOffset:60}),Object(M.jsx)(P.PortalExit,{name:T.FULLWINDOW_OVERLAY_PORTAL})]})}),[]);return Object(M.jsx)(p.default,{documentTitle:{formatter:function(){return"Digital Passport"}},onReady:function(){var e,t;n.current=null==D||null==(e=D.current)||null==e.getCurrentRoute||null==(t=e.getCurrentRoute())?void 0:t.name},onStateChange:function(){var e,t,r=n.current,o=null==D||null==(e=D.current)||null==e.getCurrentRoute||null==(t=e.getCurrentRoute())?void 0:t.name;Object(x.setAttributes)({previousRouteName:null!=r?r:"",currentRouteName:null!=o?o:""}),r!==o&&w.default.navigation.info(r," -> ",o),n.current=o},ref:D,theme:W,linking:L,children:Object(M.jsxs)(h.RootSiblingParent,{children:[Object(M.jsx)(C.default,{children:Object(M.jsx)(v.RootStackNavigator,{})}),_.default.isNativeIOS?Object(M.jsx)(j.FullWindowOverlay,{children:z}):z]})})};N.displayName="NavigationApp",t.default=Object(u.memo)(N)}.call(this,n(58))},2395:function(e,t,n){"use strict";n.r(t),n.d(t,"useConnectExternalWallet",(function(){return l}));var r=n(2),o=n.n(r),a=n(1),i=(n(24),n(728)),c=n(101),s=n(1319);function l(e){var t=e.onConnectResult,n=e.uri,r=e.connectToWalletService,l=Object(i.useWalletConnectQrcodeModal)().connectToWallet;return{connectExternalWallet:Object(a.useCallback)(function(){var e=o()((function*(e){var o=e.walletService,a=null==o?void 0:o.name;if(a&&a===c.WALLET_CONNECT_WALLET_NAMES.MetaMask){var i=Object(s.getInjectedConnector)({name:a}),u=i.connector,d=i.store;yield u.activate();var f=d.getState(),p=!f.activating;f&&p&&(null==t||t({injectedProviderState:f,walletService:o}))}else if(r&&n&&o)yield r(o,n);else{var b=yield l({isNewSession:!0,walletService:o});null==t||t(b)}}));return function(t){return e.apply(this,arguments)}}(),[l,r,t,n])}}},24:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"isExtensionBackgroundHtml",(function(){return X})),n.d(t,"isExtensionBackgroundServiceWorker",(function(){return Y})),n.d(t,"isExtensionBackground",(function(){return Q})),n.d(t,"isExtensionUi",(function(){return J})),n.d(t,"isExtensionUiPopup",(function(){return ee})),n.d(t,"isExtensionUiExpandTab",(function(){return te})),n.d(t,"isExtensionUiStandaloneWindow",(function(){return ne})),n.d(t,"isManifestV3",(function(){return re})),n.d(t,"canGetClipboard",(function(){return oe})),n.d(t,"supportAutoUpdate",(function(){return ae})),n.d(t,"isAppleStoreEnv",(function(){return ie}));var r,o,a,i,c,s,l,u,d,f,p,b,m,h,j,O=n(28),g=n(2782),v=g.isJest,y=g.isDev,x=g.isProduction,w=g.isWeb,_=g.isWebEmbed,k=g.isDesktop,I=g.isExtension,S=g.isNative,T=g.isExtChrome,P=g.isExtFirefox,C=k&&"darwin"===(null==(r=window)||null==(o=r.desktopApi)?void 0:o.platform),M=C&&"arm64"===(null==(a=window)||null==(i=a.desktopApi)?void 0:i.arch),A=k&&"win32"===(null==(c=window)||null==(s=c.desktopApi)?void 0:s.platform),E=A&&!1,D=k&&"linux"===(null==(l=window)||null==(u=l.desktopApi)?void 0:u.platform),R=D&&"snap"===(null==(d=window)||null==(f=d.desktopApi)?void 0:f.channel),N=S&&"ios"===O.default.OS,L=N&&x,B=S&&"ios"===O.default.OS&&!O.default.isPad&&!O.default.isTV,F=S&&"ios"===O.default.OS&&O.default.isPad,U=F&&x,H=S&&"android"===O.default.OS,W=H&&!1,V=H&&!1,z=k&&(null==(p=window)||null==(b=p.desktopApi)?void 0:b.isMas),G="undefined"!==typeof window&&!S,K="undefined"!==typeof InstallTrigger,q=function(){if(!G)return!1;var e=window.chrome,t=window.navigator,n=t?t.vendor:"",r="undefined"!==typeof window.opr,o=!!t&&t.userAgent.indexOf("Edg")>-1;return!!/CriOS/.exec(t?t.userAgent:"")||null!==e&&"undefined"!==typeof e&&"Google Inc."===n&&!r&&!o}(),Z=function(){if(!G)return!1;var e=window.chrome,t=window.navigator,n=!!t&&t.userAgent.indexOf("Edg")>-1;return!(!e||!0!==n)}(),X=I&&G&&window.location.pathname.startsWith("/background.html"),Y=I&&!G&&Boolean(e.serviceWorker)&&e.serviceWorker instanceof ServiceWorker,Q=X||Y,$=I&&G&&window.location.pathname.startsWith("/offscreen.html"),J=I&&G&&window.location.pathname.startsWith("/ui-"),ee=J&&window.location.pathname.startsWith("/ui-popup.html"),te=J&&window.location.pathname.startsWith("/ui-expand-tab.html"),ne=J&&window.location.pathname.startsWith("/ui-standalone-window.html"),re=I&&3===(null==(m=chrome)||null==(h=m.runtime)||null==h.getManifest||null==(j=h.getManifest())?void 0:j.manifest_version),oe=!w&&!I,ae=k&&!(z||R||E),ie=z||L||U,ce={isNewRouteMode:!0,version:"4.10.0",buildNumber:"2023080300",isJest:v,isMultipleHistoryTxActionsSim:!1,isDev:y,isProduction:x,isWeb:w,isWebEmbed:_,isDesktop:k,isExtension:I,isNative:S,isDesktopMac:C,isDesktopWin:A,isDesktopWinMsStore:E,isDesktopMacArm64:M,isDesktopLinux:D,isDesktopLinuxSnap:R,isMas:z,isExtFirefox:P,isExtChrome:T,isNativeIOS:N,isNativeIOSStore:L,isNativeIOSPhone:B,isNativeIOSPad:F,isNativeIOSPadStore:U,isNativeAndroid:H,isNativeAndroidGooglePlay:W,isNativeAndroidHuawei:V,symbol:w?"web":_?"webEmbed":k?"desktop":I?"ext":S?"native":void 0,distributionChannel:T?"ext-chrome":P?"ext-firefox":M?"desktop-mac-arm64":C?"desktop-mac":E?"desktop-win-ms-store":A?"desktop-win":R?"desktop-linux-snap":D?"desktop-linux":U?"native-ios-pad-store":F?"native-ios-pad":L?"native-ios-store":N?"native-ios":W?"native-android-google":V?"native-android-huawei":H?"native-android":void 0,isManifestV3:re,isExtensionBackground:Q,isExtensionBackgroundHtml:X,isExtensionBackgroundServiceWorker:Y,isExtensionOffscreen:$,isExtensionUi:J,isExtensionUiPopup:ee,isExtensionUiExpandTab:te,isExtensionUiStandaloneWindow:ne,isExtFirefoxUiPopup:P&&ee,isRuntimeBrowser:G,isRuntimeFirefox:K,isRuntimeChrome:q,isRuntimeEdge:Z,canGetClipboard:oe,supportAutoUpdate:ae,isAppleStoreEnv:ie};y&&(e.$$platformEnv=ce),t.default=ce}.call(this,n(58))},2402:function(e,t,n){"use strict";n.r(t),n.d(t,"AccessoryView",(function(){return O}));var r=n(314),o=n(3),a=n.n(o),i=n(12),c=n(54),s=n(183),l=n(15),u=n.n(l),d=n(1),f=n(88),p=n(2587),b=n(0),m=["accessoryData","withKeybord","expandWords","selected"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.accessoryData,n=e.withKeybord,o=e.expandWords,a=e.selected,l=u()(e,m),h=Object(p.default)(),O=Object(f.default)(),g=Object(d.useMemo)((function(){return(h&&n||!n)&&(t&&t.length||!t)}),[t,h,n]),v=!t;return g?Object(b.jsx)(r.default,j(j({horizontal:!o,disableScrollViewPanResponder:!0,showsHorizontalScrollIndicator:!1,bgColor:"background-default",contentContainerStyle:{flexGrow:1}},l),{},{children:v?Object(b.jsx)(s.default,{alertType:"warn",title:O.formatMessage({id:"msg__invalid_word"}),dismiss:!1,containerProps:{flex:1}}):Object(b.jsx)(i.default,j(j({flexDirection:"row",m:"-4px"},o&&{flexWrap:"wrap"}),{},{children:t.map((function(e,t){return Object(b.jsx)(c.default,{size:o?"xs":"sm",onPress:function(){null==a||a(e)},m:"4px",shadow:"none",children:e},e+"-"+t)}))}))})):null}},2403:function(e,t,n){"use strict";n.r(t),n.d(t,"Mnemonic",(function(){return v})),n.d(t,"MnemonicContainer",(function(){return y}));var r=n(48),o=n(2),a=n.n(o),i=n(57),c=n(1637),s=n(12),l=n(20),u=n(1),d=n(44),f=n(88),p=n(17),b=n(25),m=n(226),h=n(86),j=n(46),O=n(274),g=n(0),v=function(e){var t=e.mnemonic,n=e.onPress,r=e.onPromise,o=Object(f.default)();return Object(g.jsx)(i.default,{hideSecondaryAction:!0,primaryActionProps:{onPress:n,onPromise:r,children:o.formatMessage({id:"action__i_have_saved_the_phrase"})},scrollViewProps:{children:Object(g.jsxs)(s.default,{flex:1,px:{base:2,md:0},children:[Object(g.jsxs)(s.default,{mb:{base:12,md:8},px:2,children:[Object(g.jsxs)(l.default,{typography:{sm:"DisplayLarge",md:"DisplayMedium"},mb:"3",textAlign:"center",children:["\ud83d\udc40 ",o.formatMessage({id:"modal__for_your_eyes_only"})]}),Object(g.jsx)(l.default,{typography:{sm:"Body1",md:"Body2"},color:"text-subdued",textAlign:"center",maxW:{md:276},mx:"auto",children:o.formatMessage({id:"modal__for_your_eyes_only_desc"})})]}),Object(g.jsxs)(l.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mb:"4",textAlign:"center",children:["\u2193 ",o.formatMessage({id:"content__click_below_to_copy"})," \u2193"]}),Object(g.jsx)(s.default,{flex:1,mb:8,children:Object(g.jsx)(c.default,{mnemonic:t})})]})}})},y=function(){var e,t=null!=(e=Object(d.useRoute)().params)?e:{},n=t.mnemonic,o=t.password,i=t.withEnableAuthentication,c=Object(f.default)(),s=Object(b.useNavigationActions)(),l=s.closeWalletSelector,y=s.openRootHome,x=Object(u.useCallback)(a()((function*(){try{yield p.default.serviceAccount.createHDWallet({password:o,mnemonic:n}),i&&(p.default.dispatch(Object(h.setEnableLocalAuthentication)(!0)),yield Object(O.savePassword)(o)),r.default.show({title:c.formatMessage({id:"msg__account_created"})})}catch(t){var e=t.key;r.default.show({title:c.formatMessage({id:e})})}l(),yield Object(j.wait)(600),y(),yield Object(j.wait)(600),Object(m.closeExtensionWindowIfOnboardingFinished)()})),[n,o,i,l,c,y]);return Object(g.jsx)(v,{mnemonic:n,onPromise:x})}},2404:function(e,t,n){"use strict";n.r(t);var r=n(57),o=(n(51),n(314),n(336)),a=(n(106),n(262)),i=n(27),c=n(40),s=n(76),l=(n(236),n(89)),u=n(12),d=n(48),f=n(3),p=n.n(f),b=n(2),m=n.n(b),h=n(4),j=n.n(h),O=n(1),g=n(70),v=n(44),y=n(88),x=n(1049),w=n.n(x),_=n(1293),k=n.n(_),I=n(1294),S=n.n(I),T=n(23),P=(n(2588),n(17)),C=n(789),M=n(45),A=n(16),E=n(80),D=n(19),R=n(24),N=n(489),L=n(90),B=n(99),F=n(0);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){switch(e){case"classic":return w.a;case"mini":return k.a;case"touch":return S.a;default:return}};t.default=function(){var e,t=Object(y.default)(),f=P.default.engine,p=P.default.serviceHardware,b=Object(v.useNavigation)(),h=(null!=(e=Object(v.useRoute)().params)?e:{}).entry,x=Object(O.useState)(!1),w=j()(x,2),_=(w[0],w[1]),k=Object(O.useState)(""),I=j()(k,2),S=I[0],U=I[1],V=Object(O.useState)([]),z=j()(V,2),G=z[0],K=z[1],q=Object(O.useRef)("stop"),Z=Object(O.useState)(!1),X=j()(Z,2),Y=X[0],Q=X[1],$=Object(O.useState)([]),J=j()($,2),ee=J[0],te=J[1],ne=Object(M.useRuntime)().wallets,re=Object(O.useState)(),oe=j()(re,2),ae=oe[0],ie=oe[1];Object(O.useEffect)((function(){m()((function*(){var e=(yield f.getHWDevices()).reduce((function(e,t){var n,r;return H(H({},e),{},((r={})[null!=(n=t.id)?n:""]=t,r))}),{}),t=ne.filter((function(t){var n;return"hw"===t.type&&t.accounts.length>0&&!!e[null!=(n=t.associatedDevice)?n:""]})).map((function(t){var n,r;return H(H({},t),{},{deviceId:e[null!=(n=t.associatedDevice)?n:""].deviceId,connectId:e[null!=(r=t.associatedDevice)?r:""].mac})}));ie(t)}))()}),[f,ne]);var ce=Object(O.useCallback)((function(){E.deviceUtils&&E.deviceUtils.stopScan()}),[]),se=Object(O.useCallback)((function(e){return e.map((function(e){return H(H({},e),{},{using:null==ae?void 0:ae.find((function(t){return Object(N.equalsIgnoreCase)(t.connectId,e.connectId)&&Object(N.equalsIgnoreCase)(t.deviceId,e.deviceId)})),useBefore:null==ae?void 0:ae.find((function(t){return Object(N.equalsIgnoreCase)(t.connectId,e.connectId)}))})}))}),[ae]);Object(O.useEffect)((function(){te(se(G))}),[se,G]);var le=Object(O.useCallback)(m()((function*(){if(E.deviceUtils){_(!0);var e=yield p.checkBridge();("boolean"!==typeof e||e)&&e.className!==T.OneKeyErrorClassNames.OneKeyHardwareError?E.deviceUtils.startDeviceScan((function(e){if(!e.success){var n=E.deviceUtils.convertDeviceError(e.payload);return(n instanceof L.InitIframeLoadFail||n instanceof L.InitIframeTimeout)&&(d.default.show({title:t.formatMessage({id:n.key})},{type:"error"}),E.deviceUtils.stopScan()),void _(!1)}K(e.payload)}),(function(e){q.current=e})):Object(B.showDialog)(Object(F.jsx)(C.default,{}))}})),[t,p]);Object(O.useEffect)((function(){return R.default.isRuntimeBrowser&&le(),function(){ce(),E.deviceUtils.stopCheckBonded()}}),[]);var ue=Object(O.useRef)();Object(O.useEffect)((function(){return function(){ue.current&&(clearInterval(ue.current),ue.current=void 0)}}),[]);var de=Object(O.useCallback)(function(){var e=m()((function*(e){var n;yield function(e){return new Promise((function(t){E.deviceUtils&&e.connectId&&(E.deviceUtils.stopScan(),U(e.connectId),ue.current&&clearInterval(ue.current),ue.current=setInterval((function(){"stop"===q.current&&(clearInterval(ue.current),t())}),100))}))}(e),D.default.hardwareSDK.debug("========= will connect =========");var r=function(n){U(""),n?b.navigate(A.RootRoutes.Modal,{screen:A.ModalRoutes.CreateWallet,params:{screen:A.CreateWalletModalRoutes.DeviceStatusCheckModal,params:{device:e,entry:h}}}):d.default.show({title:t.formatMessage({id:"modal__failed_to_connect"})},{type:"error"})};p.connect(null!=(n=e.connectId)?n:"").then((function(e){r(e)})).catch(function(){var t=m()((function*(t){if((t||{}).code===g.HardwareErrorCode.BleDeviceNotBonded)if(!Y&&R.default.isNativeAndroid){var n;Q(!0);var o,a=yield E.deviceUtils.checkDeviceBonded(null!=(n=e.connectId)?n:"");if(Q(!1),a)D.default.hardwareSDK.debug("Android device was bonded, will connect"),p.connect(null!=(o=e.connectId)?o:"").then((function(e){setTimeout((function(){return r(e)}),1e3)}));else D.default.hardwareSDK.debug("Android device check bonded timeout"),r(!1)}else U(""),E.deviceUtils.showErrorToast(t,"action__connection_timeout");else U(""),E.deviceUtils.showErrorToast(t,"action__connection_timeout")}));return function(e){return t.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),[p,b,t,Y]),fe=Object(O.useCallback)((function(){return Object(F.jsx)(u.default,{h:2})}),[]),pe=Object(O.useCallback)((function(e){var t=e.item;return Object(F.jsxs)(l.default,{h:"64px",px:"16px",bgColor:"action-secondary-default",pressedBgColor:"surface-pressed",hoveredBgColor:"surface-hovered",onPress:function(){de(t)},children:[Object(F.jsx)(l.default.Column,{image:{source:W(t.deviceType),width:"24px",height:"36px"}}),Object(F.jsx)(l.default.Column,{style:{userSelect:"none"},text:{label:t.name,size:"sm"}}),Object(F.jsx)(l.default.Column,{children:Object(F.jsxs)(u.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:[!!t.useBefore&&!1,S===t.connectId&&Object(F.jsx)(s.default,{size:"sm",ml:3}),Object(F.jsx)(u.default,{ml:3,children:Object(F.jsx)(c.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})}),[de,t,S]),be=Object(O.useCallback)((function(){return null!=ee&&ee.length?Object(F.jsxs)(u.default,{w:"full",mt:8,children:[Object(F.jsx)(i.default.Body2,{color:"text-subdued",textAlign:"center",children:t.formatMessage({id:"modal__looking_for_devices_result"})}),Object(F.jsx)(a.default,{my:4,px:2,data:ee,renderItem:pe,keyExtractor:function(e){var t;return""+(null!=(t=e.connectId)?t:"")+e.uuid},showsVerticalScrollIndicator:!1,ItemSeparatorComponent:fe})]}):null}),[ee,t,pe,fe]),me=Object(O.useMemo)((function(){var e;if((null==ee?void 0:ee.length)<1)return"auto";var t=350+65*(null!=(e=null==ee?void 0:ee.length)?e:1);return t>500&&(t=500),t}),[null==ee?void 0:ee.length]);return Object(F.jsx)(r.default,{scrollViewProps:{contentContainerStyle:{height:me},children:Object(F.jsxs)(u.default,{alignItems:"center",h:"full",children:[Object(F.jsx)(u.default,{children:Object(F.jsx)(o.default,{source:n(3637),autoPlay:!0,loop:!0})}),Object(F.jsx)(i.default.DisplayMedium,{marginTop:8,children:t.formatMessage({id:"modal__connect_your_device"})}),be()]})},hidePrimaryAction:!0,footer:null,primaryActionTranslationId:"action__connect_device",onPrimaryActionPress:le,hideSecondaryAction:!0})}},2409:function(e,t,n){"use strict";n.r(t);var r=n(109),o=n(47),a=n(48),i=n(2),c=n.n(i),s=n(126),l=n(50),u=n(4),d=n.n(u),f=n(1),p=n(88),b=n(809),m=n(17),h=n(0);t.default=function(e){var t,n=e.visible,i=e.account,u=e.onDone,j=e.onClose,O=Object(p.default)(),g=m.default.serviceAccount,v=Object(f.useState)(!1),y=d()(v,2),x=y[0],w=y[1],_=Object(l.default)(),k=Object(s.default)({defaultValues:{name:""}}),I=k.control,S=k.handleSubmit,T=k.setError,P=k.reset;Object(f.useEffect)((function(){n||P()}),[n,P]);var C=S(function(){var e=c()((function*(e){i&&(w(!0),(yield g.setAccountName(i.id,e.name))?(a.default.show({title:O.formatMessage({id:"msg__renamed"})}),null==j||j(),u(i)):T("name",{message:O.formatMessage({id:"msg__unknown_error"})}),w(!1))}));return function(t){return e.apply(this,arguments)}}());return Object(h.jsx)(h.Fragment,{children:n&&Object(h.jsx)(r.default,{visible:n,children:Object(h.jsxs)(o.default,{children:[Object(h.jsx)(o.default.Item,{name:"name",defaultValue:"",control:I,rules:{required:O.formatMessage({id:"form__field_is_required"}),maxLength:{value:24,message:O.formatMessage({id:"form__account_name_invalid_characters_limit"},{0:"24"})}},children:Object(h.jsx)(o.default.Input,{size:_?"xl":"default",autoFocus:!0,focusable:!0,placeholder:null!=(t=null==i?void 0:i.name)?t:""})}),Object(h.jsx)(b.default.FooterButton,{marginTop:0,secondaryActionTranslationId:"action__cancel",onSecondaryActionPress:function(){return null==j?void 0:j()},onPrimaryActionPress:function(){return C()},primaryActionTranslationId:"action__rename",primaryActionProps:{isLoading:x}})]})})})}},2410:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(109),o=n(48),a=n(2),i=n.n(a),c=n(4),s=n.n(c),l=n(1),u=n(88),d=n(74),f=n(151),p=n(17),b=n(214),m=n(1073),h=n(0);function j(){var e=Object(u.default)(),t=p.default.serviceAccount,n=Object(l.useRef)(),a=Object(l.useState)(!1),c=s()(a,2),j=c[0],O=c[1],g=Object(l.useState)(""),v=s()(g,2),y=v[0],x=v[1],w=Object(l.useState)(""),_=s()(w,2),k=_[0],I=_[1],S=Object(l.useState)(""),T=s()(S,2),P=T[0],C=T[1],M=Object(l.useState)(),A=s()(M,2),E=A[0],D=A[1],R=Object(m.default)().showVerify,N=Object(l.useCallback)(i()((function*(){if(!y)return Promise.resolve();var r=yield t.getAccount({walletId:k,accountId:y});return t.removeAccount(k,y,null!=E?E:"",P).then((function(){o.default.show({title:e.formatMessage({id:"msg__removed"})}),f.appUIEventBus.emit(f.AppUIEventBusNames.RemoveAccount,r),O(!1),null==n||null==n.current||n.current()})).catch((function(t){o.default.show({title:e.formatMessage({id:"msg__unknown_error"})})}))})),[y,e,E,t,k,P]),L=function(e,t,r,o,a){n.current=a,x(t),D(r),I(e),C(o),setTimeout((function(){return O(!0)}),250)},B=Object(l.useCallback)((function(e){var t,n=e.wallet,r=e.callback,o=(null==n?void 0:n.type)!==d.WALLET_TYPE_HW&&(null==n?void 0:n.type)!==d.WALLET_TYPE_WATCHING&&(null==n?void 0:n.type)!==d.WALLET_TYPE_EXTERNAL,a=null!=(t=null==n?void 0:n.id)?t:"";o?R((function(t){L(a,e.accountId,t,e.networkId,r)}),(function(){}),null,b.ValidationFields.Account):L(a,e.accountId,void 0,e.networkId,r)}),[R]);return{RemoveAccountDialog:Object(l.useMemo)((function(){return j&&Object(h.jsx)(r.default,{visible:j,contentProps:{iconType:"danger",title:e.formatMessage({id:"action__remove_account"}),content:e.formatMessage({id:"dialog__remove_account_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",onPromise:function(){return N()}},primaryActionTranslationId:"action__remove",onSecondaryActionPress:function(){return O(!1)}}})}),[e,N,j]),show:L,goToRemoveAccount:B}}},2416:function(e,t,n){"use strict";n.r(t),n.d(t,"showHomeBalanceSettings",(function(){return b}));var r=n(353),o=n(27),a=n(88),i=n(69),c=n(17),s=n(25),l=n(86),u=n(99),d=n(771),f=n(0),p=function(e){var t=e.networkId,n=Object(a.default)(),u=Object(s.useAppSelector)((function(e){return e.settings})),p=u.hideSmallBalance,b=u.hideRiskTokens,m=u.putMainTokenOnTop;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(o.default.Subheading,{mb:"3",color:"text-subdued",children:n.formatMessage({id:"form__preferences"})}),Object(f.jsxs)(d.BottomSheetSettingRow,{children:[Object(f.jsx)(o.default.Body1Strong,{children:n.formatMessage({id:"form__hide_small_balance"})}),Object(f.jsx)(r.default,{labelType:"false",isChecked:p,onToggle:function(){return c.default.dispatch(Object(l.setHideSmallBalance)(!p))}})]}),Object(i.isAllNetworks)(t)?null:Object(f.jsxs)(d.BottomSheetSettingRow,{mt:"4",children:[Object(f.jsx)(o.default.Body1Strong,{children:n.formatMessage({id:"form__put_coins_at_the_top"})}),Object(f.jsx)(r.default,{labelType:"false",isChecked:m,onToggle:function(){return c.default.dispatch(Object(l.setPutMainTokenOnTop)(!m))}})]}),Object(i.isAllNetworks)(t)?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(o.default.Subheading,{mb:"3",mt:"8",color:"text-subdued",children:n.formatMessage({id:"form__anti_scam"})}),Object(f.jsxs)(d.BottomSheetSettingRow,{children:[Object(f.jsx)(o.default.Body1Strong,{children:n.formatMessage({id:"form__hide_risk_tokens"})}),Object(f.jsx)(r.default,{labelType:"false",isChecked:b,onToggle:function(){return c.default.dispatch(Object(l.setHideRiskTokens)(!b))}})]})]})]})},b=function(e){var t=e.networkId;return Object(u.showOverlay)((function(e){return Object(f.jsx)(d.BottomSheetSettings,{closeOverlay:e,children:Object(f.jsx)(p,{networkId:t})})}))}},2417:function(e,t,n){"use strict";n.r(t),n.d(t,"showAmountInputDialog",(function(){return g}));var r=n(3),o=n.n(r),a=n(109),i=n(12),c=n(1063),s=n(20),l=n(4),u=n.n(l),d=n(1),f=n(21),p=n.n(f),b=n(88),m=n(99),h=n(0);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var O=function(e){var t=e.total,n=e.onConfirm,r=e.onClose,o=Object(b.default)(),l=Object(d.useState)("1"),f=u()(l,2),m=f[0],j=f[1];return Object(h.jsx)(a.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__confirm",primaryActionProps:{type:"primary",isDisabled:0===m.length},onPrimaryActionPress:function(){n(m),null==r||r()},onSecondaryActionPress:r},contentProps:{input:Object(h.jsxs)(i.default,{w:"full",mt:"4",children:[Object(h.jsx)(s.default,{typography:"Body2Strong",children:o.formatMessage({id:"form__quantity"})}),Object(h.jsx)(c.default,{w:"full",size:"lg",enableMaxButton:!0,value:m,onChangeText:function(e){(new p.a(e).lte(t)||0===e.length)&&j(e)},onMaxChange:function(){j(t)}}),Object(h.jsx)(s.default,{mt:"8px",typography:"Body2",color:"text-subdued",children:o.formatMessage({id:"content__total"})+": "+t})]})}})},g=function(e){return Object(m.showDialog)(Object(h.jsx)(O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))}},2430:function(e,t,n){"use strict";n.r(t),n.d(t,"useThemeProviderVariant",(function(){return m}));var r=n(285),o=n(4),a=n.n(o),i=n(1),c=n(726),s=n(45),l=n(2645),u=n(86),d=n(17),f=n(918),p=n(1243),b=n(0);function m(){var e=Object(s.useSettings)(),t=e.theme,n=e.locale,r=e.lastLocale,o=Object(p.useSystemLocale)(),u=Object(l.useColorScheme)(),d="system"===t?null!=u?u:"dark":t,f="system"===n?o:n,b=c.default[f],m="object"===typeof b,h=Object(i.useState)((function(){return m?f:"function"!==typeof c.default[r]?r:"en-US"})),j=a()(h,2),O=j[0],g=j[1];return Object(i.useEffect)((function(){m||"function"===typeof b&&b().then((function(e){c.default[f]=e.default,g(f)}))}),[b,f,m,O]),{themeVariant:d,localeVariant:m?f:O}}t.default=Object(i.memo)((function(e){var t=e.children,n=m(),o=n.themeVariant,a=n.localeVariant,c=Object(f.useReduxReady)().isReady,l=Object(s.useAppSelector)((function(e){return e.settings.leftSidebarCollapsed}));Object(i.useEffect)((function(){c&&Object(u.setThemePreloadToLocalStorage)(o)}),[c,o]);var p=Object(i.useCallback)((function(e){d.default.dispatch(Object(u.setLeftSidebarCollapsed)(e))}),[]);return c?Object(b.jsx)(r.default,{themeVariant:o,locale:a,reduxReady:null!=c&&c,leftSidebarCollapsed:!!l,setLeftSidebarCollapsed:p,children:t}):null}))},2437:function(e,t,n){"use strict";n.r(t);var r=n(57),o=n(201),a=n(411),i=n(51),c=n(76),s=n(82),l=n(3),u=n.n(l),d=n(2),f=n.n(d),p=n(4),b=n.n(p),m=n(12),h=n(121),j=n(1),O=n(44),g=n(88),v=n(17),y=n(25),x=n(45),w=n(1152),_=n(80),k=n(48),I=n(262),S=n(41),T=n(54),P=n(20),C=n(89),M=n(108),A=(n(24),n(125)),E=n(100),D=n(15),R=n.n(D),N=n(190),L=n(369),B=n(0),F=["item","network","showRemoveOption","onRemoveAddress","onCopyAddress"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var H=function(e){var t=e.item,n=e.network,r=e.showRemoveOption,o=e.onRemoveAddress,a=e.onCopyAddress,i=R()(e,F),c=Object(L.default)(n).openAddressDetails,s=Object(j.useCallback)((function(){c(t.name)}),[t,c]),l=Object(j.useCallback)((function(){setTimeout((function(){a({address:t.name,path:t.path})}),200)}),[t,a]),d=Object(j.useMemo)((function(){return[{id:"action__copy_address",onPress:l,icon:"Square2StackOutline"},{id:"action__view_in_browser",onPress:s,icon:"GlobeAltOutline"},r&&function(){return Object(B.jsx)(E.default,{my:1})},r&&{id:"action__remove_address",onPress:function(){return null==o?void 0:o(t)},icon:"TrashOutline",variant:"desctructive"}]}),[l,s,o,r,t]);return Object(B.jsx)(N.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:d},i))},W=n(807);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=e.valueLabel,n=Object(g.default)();return Object(B.jsxs)(C.default,{p:0,mb:"16px",children:[Object(B.jsx)(C.default.Column,{text:{label:n.formatMessage({id:"form__address"}),labelProps:{typography:"Subheading",color:"text-subdued"}},flex:1}),Object(B.jsx)(C.default.Column,{alignItems:"flex-end",text:{label:t,labelProps:{typography:"Subheading",textAlign:"right",color:"text-subdued"}},flex:1}),Object(B.jsx)(C.default.Column,{children:Object(B.jsx)(m.default,{w:"27px"})})]})},K=function(e){var t,n,r=e.item,o=e.symbol,a=e.network,i=e.showPath,c=e.showRemoveAddress,l=e.onRemoveAddress,u=e.onCopyAddress;return Object(B.jsxs)(C.default,{flex:1,children:[Object(B.jsx)(C.default.Column,{style:{userSelect:"none"},text:{label:Object(M.shortenAddress)(r.name),labelProps:{w:"120px"},description:i?r.path:void 0,descriptionProps:{typography:"Caption",w:"132px"},size:"sm"}}),Object(B.jsx)(C.default.Column,{children:Object(B.jsx)(m.default,{alignItems:"flex-end",flex:1,children:Object(B.jsx)(A.FormatBalance,{balance:null!=(t=r.displayTotalReceived)?t:r.balance,formatOptions:{fixed:null!=(n=r.decimals)?n:null==a?void 0:a.decimals},suffix:o,render:function(e){return Object(B.jsx)(P.default,{typography:{sm:"Body2",md:"Body2"},style:{userSelect:"none"},wordBreak:"break-all",textAlign:"right",children:e})}})})}),Object(B.jsx)(C.default.Column,{children:Object(B.jsx)(H,{item:r,network:null!=a?a:{},showRemoveOption:!!c,onRemoveAddress:l,onCopyAddress:u,children:Object(B.jsx)(s.default,{alignItems:"flex-end",type:"plain",name:"EllipsisVerticalMini",color:"icon-subdued",size:"xs",hitSlop:12,circle:!0})})})]})},q=function(e){var t=e.currentPage,n=e.prevButtonDisabled,r=e.nextButtonDisabled,o=e.onPagePress,a=e.onNextPagePress,c=e.onPrevPagePress;return Object(B.jsx)(i.default,{pt:4,children:Object(B.jsxs)(S.default,{space:0,alignItems:"flex-end",children:[Object(B.jsx)(T.default,{w:"40px",type:"basic",borderRightRadius:0,leftIconName:"ChevronLeftMini",onPress:c,isDisabled:n}),Object(B.jsx)(T.default,{w:"39px",h:"38px",type:"basic",onPress:o,isDisabled:!1,borderLeftWidth:0,borderRightWidth:0,borderLeftRadius:0,borderRightRadius:0,children:Object(B.jsx)(P.default,{maxW:"30px",maxH:"38px",isTruncated:!0,children:t})}),Object(B.jsx)(T.default,{w:"40px",type:"basic",borderLeftRadius:0,leftIconName:"ChevronRightMini",onPress:a,isDisabled:r})]})})},Z=function(e){var t=e.config,n=e.network,r=e.dataSource,o=e.setConfig,a=e.onCopyAddress,i=Object(g.default)(),c=Object(j.useMemo)((function(){return Math.ceil(r.length/50)}),[r]),s=Object(j.useMemo)((function(){return t.usedListCurrentPage>=c}),[t.usedListCurrentPage,c]),l=Object(j.useMemo)((function(){var e=50*(t.usedListCurrentPage-1);return r.slice(e,50+e)}),[t.usedListCurrentPage,r]),u=Object(j.useCallback)((function(){return Object(B.jsx)(B.Fragment,{children:(t.showPath,void 0)})}),[t.showPath]),d=Object(j.useCallback)((function(e){var r=e.item;return Object(B.jsx)(K,{network:n,symbol:null==n?void 0:n.symbol,showPath:t.showPath,flex:1,item:r,onCopyAddress:a})}),[n,t.showPath,a]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(G,{valueLabel:i.formatMessage({id:"form__total_received"})}),Object(B.jsx)(I.default,{data:l,renderItem:d,keyExtractor:function(e){return""+e.path},showsVerticalScrollIndicator:!1,ItemSeparatorComponent:u}),c>1&&Object(B.jsx)(q,{currentPage:t.usedListCurrentPage,prevButtonDisabled:1===t.usedListCurrentPage,nextButtonDisabled:s,onPagePress:function(){Object(W.showJumpPageDialog)({currentPage:t.usedListCurrentPage-1,maxPage:c,onConfirm:function(e){o((function(t){return z(z({},t),{},{usedListCurrentPage:e})}))}})},onPrevPagePress:function(){o((function(e){return 0===e.usedListCurrentPage?e:z(z({},e),{},{usedListCurrentPage:e.usedListCurrentPage-1})}))},onNextPagePress:function(){o((function(e){return s?e:z(z({},e),{},{usedListCurrentPage:e.usedListCurrentPage+1})}))}})]})},X=function(e){var t=e.config,n=e.network,r=e.setConfig,o=e.account,a=e.onRequestBalances,s=e.onRefreshAccount,l=e.onCopyAddress,u=Object(g.default)(),d=Object(j.useMemo)((function(){try{return"string"===typeof o.customAddresses?JSON.parse(o.customAddresses):"object"===typeof o.customAddresses?o.customAddresses:{}}catch(e){return{}}}),[o.customAddresses]),p=Object(j.useMemo)((function(){return Object.keys(null!=d?d:{})}),[d]),m=Object(j.useMemo)((function(){return Math.ceil(p.length/10)}),[p]),h=Object(j.useMemo)((function(){return t.mannualListCurrentPage>=m}),[t.mannualListCurrentPage,m]);Object(j.useEffect)((function(){var e=Math.max(m,1);t.mannualListCurrentPage>e&&r((function(t){return z(z({},t),{},{mannualListCurrentPage:e})}))}),[m,t.mannualListCurrentPage,r]);var O=Object(j.useMemo)((function(){var e=10*(t.mannualListCurrentPage-1);return p.slice(e,10+e).map((function(e){return d[e]})).filter(Boolean)}),[t.mannualListCurrentPage,p,d]),y=Object(j.useState)([]),x=b()(y,2),w=x[0],S=x[1],T=Object(j.useRef)(!1),P=Object(j.useState)(!1),C=b()(P,2),M=C[0],A=C[1];Object(j.useEffect)((function(){T.current||(O.length?w.length===O.length&&w.every((function(e){return O.includes(e.address)}))||(T.current=!0,A(!0),a(O).then((function(e){var t=e.map((function(e){var t=Object.values(null!=d?d:{}).findIndex((function(t){return t===e.address})),n=Object.keys(null!=d?d:{})[t],r=o.path+"/"+n;return z(z({},e),{},{name:e.address,path:r,suffixPath:n})}));S(t)})).finally((function(){T.current=!1,A(!1)}))):S([]))}),[O,d,o.path,w,a]);var E=Object(j.useCallback)((function(){return Object(B.jsx)(B.Fragment,{children:(t.showPath,void 0)})}),[t.showPath]),D=Object(j.useCallback)(function(){var e=f()((function*(e){try{var t,n;if(!e.suffixPath&&!e.name)return;yield v.default.serviceDerivationPath.removeCustomAddress({accountId:o.id,addresses:(n={},n[null!=(t=e.suffixPath)?t:""]=e.name,n)}),k.default.show({title:u.formatMessage({id:"msg__success"})}),setTimeout((function(){s()}),200)}catch(r){_.deviceUtils.showErrorToast(r)}}));return function(t){return e.apply(this,arguments)}}(),[o.id,u,s]),R=Object(j.useCallback)((function(e){var r=e.item;return Object(B.jsx)(K,{network:n,symbol:null==n?void 0:n.symbol,showPath:t.showPath,flex:1,item:r,showRemoveAddress:!0,onRemoveAddress:D,onCopyAddress:l})}),[n,t.showPath,D,l]);return Object(B.jsx)(B.Fragment,{children:M?Object(B.jsx)(i.default,{flex:1,children:Object(B.jsx)(c.default,{size:"lg"})}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(G,{valueLabel:u.formatMessage({id:"form__balance"})}),Object(B.jsx)(I.default,{data:w,renderItem:R,keyExtractor:function(e){return""+e.path},showsVerticalScrollIndicator:!1,ItemSeparatorComponent:E}),m>1&&Object(B.jsx)(q,{currentPage:t.mannualListCurrentPage,prevButtonDisabled:1===t.mannualListCurrentPage,nextButtonDisabled:h,onPagePress:function(){Object(W.showJumpPageDialog)({currentPage:t.mannualListCurrentPage-1,maxPage:m,onConfirm:function(e){r((function(t){return z(z({},t),{},{mannualListCurrentPage:e})}))}})},onPrevPagePress:function(){r((function(e){return 0===e.mannualListCurrentPage?e:z(z({},e),{},{mannualListCurrentPage:e.mannualListCurrentPage-1})}))},onNextPagePress:function(){r((function(e){return h?e:z(z({},e),{},{mannualListCurrentPage:e.mannualListCurrentPage+1})}))}})]})})},Y=n(215),Q=n(36),$=n(16),J=n(1291),ee=n(1292);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){var t=e.showPath,n=e.onChange,r=e.walletId,o=e.networkId,a=e.accountId,i=e.onAddedCustomAddressCallback,c=Object(y.useNavigation)(),s=Object(j.useCallback)((function(){null==n||n(!t)}),[n,t]),l=Object(ee.useCreateBtcCustomAccount)({walletId:r,networkId:o}).onCreateAccountByAddressIndex,u=Object(j.useCallback)((function(){Object(J.default)({walletId:r,networkId:o,accountId:a,onConfirm:function(e){var t=e.data;c.navigate($.RootRoutes.Modal,{screen:$.ModalRoutes.CreateAccount,params:{screen:$.CreateAccountModalRoutes.CreateAccountAuthentication,params:{walletId:r,onDone:function(e){return l(ne(ne({password:e},t),{},{onAddedCustomAddressCallback:function(){i(),c.goBack()}}))}}}})}})}),[r,o,a,c,i,l]),d=Object(j.useMemo)((function(){return Object(B.jsx)(Y.default,{w:"20px",isChecked:t,isDisabled:!1,onChange:s,pointerEvents:"box-only"})}),[t,s]),f=Object(j.useMemo)((function(){return(r.startsWith("hd")||r.startsWith("hw"))&&[Q.OnekeyNetwork.btc,Q.OnekeyNetwork.tbtc].includes(o)}),[o,r]),p=Object(j.useMemo)((function(){return[f&&{id:"action__find_address_by_path",onPress:u,icon:"MagnifyingGlassMini"},f&&function(){return Object(B.jsx)(E.default,{my:1})},{id:"action__show_path",onPress:s,extraChildren:d}]}),[s,d,u,f]);return Object(B.jsx)(N.default,ne(ne({options:p},e),{},{menuWidth:261}))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){var t=e.accountName,n=e.networkId,r=Object(y.useNetwork)({networkId:n}).network;return Object(B.jsx)(m.default,{children:Object(B.jsx)(h.default,{size:4,showInfo:!0,name:t,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==r?void 0:r.name,logoURI:null==r?void 0:r.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})})};t.default=function(){var e,t=Object(g.default)(),n=Object(O.useRoute)().params,l=n.networkId,u=n.accountId,d=n.walletId,p=n.entry,h=Object(x.useRuntime)(),y=h.networks,k=h.wallets,I=y.find((function(e){return e.id===l})),S=k.find((function(e){return e.id===d})),T=Object(j.useRef)(!1),P=Object(j.useState)(!1),C=b()(P,2),M=C[0],A=C[1],E=Object(j.useState)({showPath:!1,usedListCurrentPage:1,mannualListCurrentPage:1}),D=b()(E,2),R=D[0],N=D[1],L=Object(j.useState)([]),F=b()(L,2),U=F[0],H=F[1],W=Object(j.useState)("manageAccount"===p?1:0),V=b()(W,2),z=V[0],G=V[1],K=Object(j.useState)(!1),q=b()(K,2),Y=q[0],Q=q[1],$=Object(j.useState)(null),J=b()($,2),ee=J[0],te=J[1],ne=Object(w.useCopyAddress)({wallet:S,account:ee,network:I}).copyAddress,oe=Object(j.useCallback)(f()((function*(){var e,t=yield v.default.engine.getAccount(u,l);te(t);var n=Object.keys(JSON.parse(null!=(e=t.customAddresses)?e:"{}")).length>0;Q(n),n||1!==z||G(0)})),[u,l,z]);Object(j.useEffect)((function(){ee||oe()}),[oe,ee]),Object(j.useEffect)((function(){T.current||(T.current=!0,A(!0),v.default.serviceDerivationPath.getAllUsedAddress({networkId:l,accountId:u}).then((function(e){return H(e)})).finally((function(){T.current=!1,A(!1)})))}),[l,u]);var ce={},se=Object(j.useCallback)(function(){var e=f()((function*(e){T.current=!0;try{var t;if(e.every((function(e){return ce[e]})))return e.map((function(e){return{address:e,balance:ce[e]}}));var n=e.filter((function(e){return!ce[e]}));return(yield v.default.serviceDerivationPath.fetchCustomAddressBalance({networkId:l,accountId:u,addresses:n,decimals:null!=(t=null==I?void 0:I.decimals)?t:8})).forEach((function(e){ce[e.address]=e.balance})),e.map((function(e){return{address:e,balance:ce[e]}}))}catch(r){return _.deviceUtils.showErrorToast(r),[]}finally{T.current=!1}}));return function(t){return e.apply(this,arguments)}}(),[u,l,null==I?void 0:I.decimals]),le=Object(j.useCallback)((function(e){var t=e.address,n=e.path;ne({address:t,template:null==ee?void 0:ee.template,customPath:n})}),[ne,null==ee?void 0:ee.template]);return Object(B.jsx)(r.default,{header:t.formatMessage({id:"title__addresses"}),headerDescription:Object(B.jsx)(ie,{networkId:l,accountName:null!=(e=null==ee?void 0:ee.name)?e:""}),height:"640px",rightContent:Object(B.jsx)(re,{walletId:d,networkId:l,accountId:u,showPath:R.showPath,onChange:function(e){var t=ae(ae({},R),{},{showPath:e});N(t)},onAddedCustomAddressCallback:function(){oe(),setTimeout((function(){return G(1)}))},children:Object(B.jsx)(s.default,{type:"plain",size:"lg",circle:!0,name:"EllipsisVerticalOutline"})}),footer:null,children:M?Object(B.jsx)(i.default,{flex:1,children:Object(B.jsx)(c.default,{size:"lg"})}):Object(B.jsxs)(m.default,{flex:1,children:[Y&&Object(B.jsx)(m.default,{mb:4,children:Object(B.jsx)(a.default,{values:[t.formatMessage({id:"form__automatic"}),t.formatMessage({id:"form__mannual_added"})],selectedIndex:z,onChange:G})}),0===z&&(U.length>0?Object(B.jsx)(Z,{config:R,network:I,dataSource:U,setConfig:N,onCopyAddress:le}):Object(B.jsx)(i.default,{flex:1,children:Object(B.jsx)(o.default,{emoji:"\ud83d\udcb3",title:t.formatMessage({id:"title__no_used_addresses"})})})),1===z&&ee&&Object(B.jsx)(X,{account:ee,config:R,network:I,dataSource:U,setConfig:N,onRequestBalances:se,onRefreshAccount:oe,onCopyAddress:le})]})})}},2438:function(e,t,n){"use strict";n.r(t);var r=n(57),o=n(12),a=n(411),i=n(3),c=n.n(i),s=n(48),l=n(2),u=n.n(l),d=n(4),f=n.n(d),p=n(121),b=n(1),m=n(44),h=n(88),j=n(25),O=n(45),g=n(16),v=n(225),y=n(64),x=n(47),w=n(100),_=n(847),k=n(126),I=n(50),S=n(21),T=n.n(S),P=n(593),C=n(24),M=n(594),A=n(917),E=n(0);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=[10,50,100],L=Object(b.forwardRef)((function(e,t){var n=e.walletId,r=e.networkId,a=e.template,i=e.setButtonDisabled,c=Object(I.default)(),s=Object(h.default)(),l=Object(k.default)({defaultValues:{derivationType:"default",fromIndex:"1",generateCount:"10"},mode:"onChange"}),u=l.control,d=l.handleSubmit,p=l.setError,m=l.setValue,j=l.getValues,O=l.formState.isValid,g=Object(M.useDerivationPath)(n,r).derivationOptions,S=Object(b.useState)(),D=f()(S,2),L=D[0],B=D[1];Object(b.useEffect)((function(){if(g){var e=g.find((function(e){return a?e.template===a:"default"===e.key}));e&&B(e)}}),[g,a]);var F=Object(b.useMemo)((function(){var e,t;L?e=L.label:e=(null==(t=(null!=g?g:[]).find((function(e){return"default"===e.key})))?void 0:t.label)||"";return Object(A.formatDerivationLabel)(s,e)}),[L,g,s]);Object(b.useEffect)((function(){m("derivationType",null!=F?F:"")}),[F,m]);var U=Object(b.useCallback)((function(){Object(P.default)({type:"search",walletId:null!=n?n:"",networkId:r,onSelect:function(e){return B(e)}})}),[n,r]),H=function(e){var t=0;if("string"===typeof e)try{t=parseInt(e)}catch(n){return!1}return"number"===typeof t&&Number.isFinite(t)&&Math.floor(t)===t},W=Object(b.useCallback)((function(e){var t=j().generateCount;if(H(e)&&H(t))return{max:2**31-parseInt(null!=t?t:"10"),error:new T.a(e).plus(null!=t?t:"10").isGreaterThan(2**31)}}),[j]);Object(b.useEffect)((function(){i(!O)}),[O,i]);var V=Object(b.useMemo)((function(){return Object(E.jsxs)(E.Fragment,{children:[N.map((function(e,t){return Object(E.jsxs)(o.default,{alignItems:"center",flexDirection:"row",children:[Object(E.jsx)(_.default,{size:"sm",value:"true",onPress:function(){m("generateCount",""+e,{shouldValidate:!0})},title:e.toString()}),t!==N.length-1&&Object(E.jsx)(w.default,{orientation:"vertical",h:5,ml:1,mr:1})]},"box-"+e)})),Object(E.jsx)(o.default,{w:1})]})}),[m]),z=Object(b.useCallback)((function(){return new Promise((function(e){d((function(t){var n=W(t.fromIndex);null!=n&&n.error&&(p("fromIndex",{message:s.formatMessage({id:"form__field_too_large"},{0:null==n?void 0:n.max})},{shouldFocus:!0}),e(!1)),e(R(R({},t),{},{derivationOption:L}))}),(function(){return e(!1)}))()}))}),[W,s,p,L,d]);return Object(b.useImperativeHandle)(t,(function(){return{onSubmit:z}}),[z]),Object(E.jsx)(v.default,{children:Object(E.jsxs)(x.default,{w:"full",mb:"26px",children:[g.length>1&&Object(E.jsx)(y.default,{onPress:U,children:Object(E.jsx)(x.default.Item,{name:"derivationType",control:u,children:Object(E.jsx)(x.default.Input,{size:c?"xl":"default",rightIconName:"ChevronDownMini",isReadOnly:!0,onPressRightIcon:U,onPressIn:C.default.isNativeIOS?U:void 0})})}),Object(E.jsx)(x.default.Item,{name:"fromIndex",control:u,label:s.formatMessage({id:"form__from",defaultMessage:"From"}),rules:{required:{value:!0,message:s.formatMessage({id:"form__field_is_required"})},min:{value:1,message:s.formatMessage({id:"form__field_too_small"},{0:1})},pattern:{value:/^[0-9]*$/,message:s.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!H(e))return s.formatMessage({id:"form__field_is_required"});if("boolean"!==typeof e){var t=W(e);if(null!=t&&t.error)return s.formatMessage({id:"form__field_too_large"},{0:null==t?void 0:t.max})}}},children:Object(E.jsx)(x.default.Input,{type:"number",keyboardType:"number-pad",size:c?"xl":"default"})}),Object(E.jsx)(x.default.Item,{name:"generateCount",control:u,label:s.formatMessage({id:"form__generate_amount",defaultMessage:"Generate Amount"}),rules:{required:{value:!0,message:s.formatMessage({id:"form__field_is_required"})},min:{value:1,message:s.formatMessage({id:"form__field_too_small"},{0:1})},max:{value:100,message:s.formatMessage({id:"form__field_too_large"},{0:100})},pattern:{value:/^[0-9]*$/,message:s.formatMessage({id:"form__field_only_integer"})}},children:Object(E.jsx)(x.default.Input,{type:"number",keyboardType:"number-pad",size:c?"xl":"default",rightCustomElement:V})})]})})}));L.displayName="SetRange";var B=L,F=n(51),U=n(201),H=n(63),W=n(41),V=n(20),z=n(473),G=n(80),K=n(163),q=n(17);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=Object(b.forwardRef)((function(e,t){var n=e.walletId,r=e.networkId,a=e.setButtonDisabled,i=Object(h.default)(),c=Object(O.useRuntime)().wallets.find((function(e){return e.id===n})),s=Object(M.useDerivationPath)(n,r).derivationOptions,l=q.default.serviceDerivationPath,u=Object(b.useState)([]),d=f()(u,2),p=d[0],m=d[1];Object(b.useEffect)((function(){(n||r)&&l.getNetworkDerivations(n,r).then((function(e){m(e.networkDerivations)}))}),[r,l,n]);var j=Object(b.useCallback)((function(e){var t=s.find((function(t){return t.template===e.template}));return Object(A.formatDerivationLabel)(i,(null==t?void 0:t.label)||{id:"form__bip44_standard"})}),[s,i]),g=Object(b.useMemo)((function(){return!p.length||p.every((function(e){return!e.accounts.length}))}),[p]);Object(b.useEffect)((function(){a(g)}),[g,a]);var v=Object(b.useCallback)((function(){return!g&&{wallet:c,networkDerivations:p.map((function(e){return X(X({},e),{},{name:j(e)})}))}}),[c,p,j,g]);return Object(b.useImperativeHandle)(t,(function(){return{onSubmit:v}}),[v]),c?Object(E.jsxs)(o.default,{flex:1,children:[Object(E.jsxs)(W.default,{alignItems:"center",space:4,children:[Object(E.jsx)(z.default,{walletImage:c.type,avatar:c.avatar,hwWalletType:c.deviceType||Object(G.getDeviceTypeByDeviceId)(c.associatedDevice),isPassphrase:Object(K.isPassphraseWallet)(c),circular:!0,size:"sm"}),Object(E.jsx)(V.default,{typography:{sm:"Body1Strong",md:"Body1Strong"},color:"text-default",children:c.name})]}),g?Object(E.jsx)(F.default,{flex:1,children:Object(E.jsx)(U.default,{emoji:"\ud83d\udcb3",title:i.formatMessage({id:"empty__no_account_title"}),subTitle:i.formatMessage({id:"empty__no_account_desc"})})}):Object(E.jsx)(H.default,{mt:4,mb:6,space:4,children:p.filter((function(e){return e.accounts.length})).map((function(e){return Object(E.jsxs)(W.default,{alignItems:"center",justifyContent:"space-between",children:[Object(E.jsx)(V.default,{typography:{sm:"Body2Strong",md:"Body2Strong"},children:j(e)}),Object(E.jsx)(V.default,{typography:{sm:"Body2Strong",md:"Body2Strong"},color:"text-subdued",children:i.formatMessage({id:"form__str_accounts"},{count:e.accounts.length})})]})}))})]}):null}));Y.displayName="WalletAccounts";var Q=Y;function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){var t=e.network;return Object(E.jsx)(p.default,{size:4,showInfo:!0,showName:!0,showTokenVerifiedIcon:!1,token:{name:t.name,logoURI:t.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})};t.default=function(){var e=Object(h.default)(),t=Object(m.useRoute)().params,n=t.walletId,i=t.networkId,c=t.password,l=t.entry,d=t.template,p=Object(m.useNavigation)(),v=Object(O.useRuntime)().networks.filter((function(e){return e.id===i}))[0],y=Object(b.useState)("manageAccount"===l?1:0),x=f()(y,2),w=x[0],_=x[1],k=Object(b.useMemo)((function(){return!v.settings.isUTXOModel}),[v]);Object(b.useEffect)((function(){k||1!==w||_(0)}),[k,w]);var I=Object(b.useState)(!1),S=f()(I,2),T=S[0],P=S[1],C=Object(b.useState)(!1),M=f()(C,2),A=M[0],D=M[1],R=Object(b.useMemo)((function(){return 0!==w&&T}),[w,T]),N=Object(j.useDebounce)(R,150),L=Object(b.useMemo)((function(){return 1!==w&&A}),[w,A]),F=Object(j.useDebounce)(L,150),U=Object(b.useRef)(null),H=Object(b.useRef)(null),W=Object(b.useCallback)(u()((function*(){var t;if(0===w){var r,o=null==(r=H.current)?void 0:r.onSubmit();if(!o)return void s.default.show({title:e.formatMessage({id:"empty__no_account_desc"})},{type:"default"});t=J(J({},o),{},{type:"walletAccounts"})}else{var a,l=yield null==(a=U.current)?void 0:a.onSubmit();if(!l)return;t=J(J({},l),{},{type:"setRange"})}p.navigate(g.CreateAccountModalRoutes.FetchAddressModal,{networkId:i,walletId:n,password:c,data:t})})),[w,p,i,n,c,e]);return Object(E.jsxs)(r.default,{height:"488px",header:e.formatMessage({id:"title__bulk_copy_addresses"}),headerDescription:Object(E.jsx)(ee,{network:v}),hideSecondaryAction:!0,primaryActionTranslationId:"action__export_addresses",onPrimaryActionPress:W,primaryActionProps:{isDisabled:N||F},children:[k&&Object(E.jsx)(o.default,{mb:6,children:Object(E.jsx)(a.default,{values:[e.formatMessage({id:"form__my_accounts"}),e.formatMessage({id:"form__set_range"})],selectedIndex:w,onChange:_})}),0===w&&Object(E.jsx)(Q,{walletId:n,networkId:i,setButtonDisabled:D,ref:H}),k&&1===w&&Object(E.jsx)(B,{walletId:n,networkId:i,template:d,setButtonDisabled:P,ref:U})]})}},2439:function(e,t,n){"use strict";n.r(t),n.d(t,"OnboardingAddExistingWallet",(function(){return ke}));var r=n(57),o=n(12),a=n(47),i=n(887),c=n.n(i),s=n(13),l=n.n(s),u=n(51),d=n(54),f=n(50),p=n(3),b=n.n(p),m=n(4),h=n.n(m),j=n(48),O=n(2),g=n.n(O),v=n(126),y=n(1),x=n(44),w=n(88),_=n(1183),k=n(204),I=n(235),S=n(180),T=n(17),P=n(794),C=n(45),M=n(16),A=n(36),E=n(1079),D=n(19),R=n(24),N=n(593),L=n(720),B=n(2586),F=n(25),U=n(420),H=n(226),W=n(626),V=n(46),z=n(1599),G=n(334),K=n(183),q=n(368),Z=n(20),X=n(818),Y=n(64),Q=n(40),$=n(27),J=n(190),ee=n(2402),te=n(15),ne=n.n(te),re=n(3882),oe=n(1244),ae=n(28),ie=n(29),ce=n(0),se=["children","hide","style","animate","delay","containerTransition","transition","enterFrom","onHeightDidAnimate","initialHeight"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=ie.default.create({autoBottom:{bottom:"auto"},autoTop:{top:"auto"},hidden:{overflow:"hidden"},visible:{overflow:"visible"}});var fe=function(e){var t=e.children,n=e.hide,r=void 0!==n&&n,o=e.style,a=e.animate,i=void 0===a?{}:a,c=e.delay,s=void 0===c?ae.default.select({web:250,default:0}):c,l=e.containerTransition,u=void 0===l?{type:"timing",delay:s}:l,d=e.transition,f=void 0===d?{type:"timing",delay:s}:d,p=e.enterFrom,b=void 0===p?"top":p,m=e.onHeightDidAnimate,j=e.initialHeight,O=void 0===j?0:j,g=ne()(e,se),v=Object(re.default)((function(){return{height:r?0:O}})),x=Object(y.useState)(O),w=h()(x,2),_=w[0],k=w[1],I=_;r&&(I=0);var S=Object(y.useRef)(!1);Object(y.useEffect)((function(){return S.current=!0,function(){S.current=!1}}),[]),Object(y.useEffect)((function(){var e;r?v.animateTo({height:0}):(null==(e=v.current)?void 0:e.height)!==I&&v.animateTo({height:I})}),[v,I,r]);var T=!I||r;return Object(ce.jsx)(oe.View,{state:v,transition:u,onDidAnimate:m&&function(e){return"height"===e&&(null==m?void 0:m(I))},style:[I||r?de.hidden:de.visible,o],children:Object(ce.jsx)(oe.View,ue(ue({},g),{},{style:[ie.default.absoluteFillObject,"top"===b?de.autoBottom:de.autoTop],animate:ue(ue({},i),{},{opacity:T?0:1}),transition:f,onLayout:function(e){S.current&&k(e.nativeEvent.layout.height)},children:t}))})},pe=n(1524);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=[12,15,18,21,24],je=new Array(12).fill(0),Oe=function(e){var t=e.onSubmit,n=Object(w.default)(),r=Object(v.default)({mode:"onBlur",reValidateMode:"onBlur"}),i=r.control,c=r.handleSubmit,s=r.setValue,u=r.setFocus,f=r.trigger,p=r.register,b=r.getValues,m=Object(y.useState)(!0),j=h()(m,2),O=j[0],x=j[1],_=Object(y.useState)(!1),k=h()(_,2),I=k[0],S=k[1],P=Object(y.useState)(12),C=h()(P,2),M=C[0],A=C[1],E=Object(y.useState)(!1),D=h()(E,2),R=D[0],N=D[1],L=Object(y.useState)("1"),B=h()(L,2),F=B[0],U=B[1],H=Object(y.useMemo)((function(){return he.map((function(e){return{id:"form__str_words",intlValues:{0:""+e},closeOnSelect:!0,onPress:function(){A(e),setTimeout((function(){f("1")}),0)}}}))}),[f]);Object(y.useEffect)((function(){setTimeout((function(){N(!0)}),200)}),[]);var W=Object(y.useMemo)((function(){for(var e=0,t=[];e<M;)t=[].concat(l()(t),[e+=1]);return t}),[M]),V=Object(y.useCallback)((function(){var e=b();Object.keys(e).forEach((function(e){s(e,"")}))}),[b,s]),z=Object(y.useCallback)((function(e){var t,n=null==(t=e.clipboardData)?void 0:t.getData("text");if(n){var r=(n=n.trim()).split(/\s+/g);r.length>2&&(r.length>Math.max.apply(Math,he)&&(r=r.slice(0,Math.max.apply(Math,he))),setTimeout((function(){if(V(),r.length>W.length){var e=he.findIndex((function(e){return e>=r.length}));A(he[e])}r.forEach((function(e,t){s(""+(t+1),e),f(""+(t+1))})),r.length<W.length?u(""+(r.length+1)):r.length===W.length&&u(""+r.length)}),0))}}),[W.length,V,u,s,f]);Object(y.useEffect)((function(){return window.addEventListener("paste",z),function(){window.removeEventListener("paste",z)}}),[z]);var G=Object(pe.useAccessory)(),te=G.onChangeText,ne=G.accessoryData;return Object(ce.jsxs)(o.default,{flex:1,children:[Object(ce.jsxs)(o.default,{flexDirection:"row",justifyContent:"space-between",mb:4,children:[Object(ce.jsx)(J.default,{options:H,placement:"bottom left",children:Object(ce.jsxs)(Y.default,{flexDirection:"row",alignItems:"center",children:[Object(ce.jsx)($.default.Button2,{color:"text-subdued",mr:2,children:""+n.formatMessage({id:"form__str_words"},{0:M})}),Object(ce.jsx)(Q.default,{color:"icon-subdued",size:16,name:"ChevronDownMini"})]})}),Object(ce.jsxs)(Y.default,{flexDirection:"row",alignItems:"center",onPress:function(){var e;V(),u(""+(null!=(e=null==W?void 0:W[0])?e:1))},children:[Object(ce.jsx)(Q.default,{color:"icon-subdued",size:16,name:"XCircleMini"}),Object(ce.jsx)($.default.Button2,{color:"text-subdued",ml:2,children:n.formatMessage({id:"action__clear_all"})})]})]}),R?Object(ce.jsx)(o.default,{m:"-4px",pb:"16px",children:Object(ce.jsx)(a.default,{flexDirection:"row",flexWrap:"wrap",children:W.map((function(e){return Object(ce.jsx)(a.default.Item,{name:""+e,control:i,rules:{validate:function(){var e=g()((function*(e){var t=b(),n=Object.values(t);if((n=n.slice(0,M)).every((function(e){return e.length>0}))){try{yield T.default.validator.validateMnemonic(n.join(" ")),x(!1),S(!1)}catch(r){x(!0),S(!0)}"string"===typeof e&&te(e)}else x(!0),S(!1);if("string"===typeof e)return Boolean(Object(pe.validMenmonicWord)(e))}));return function(t){return e.apply(this,arguments)}}(),onChange:function(e){var t=e.target.value;"string"===typeof t&&t.trim().split(/\s+/g).length<3&&te(t)}},formControlProps:{p:"4px",w:"1/3"},children:Object(ce.jsx)(q.default,me({w:"full",autoFocus:1===e,leftElement:Object(ce.jsx)(Z.default,{typography:"Body2",w:"24px",textAlign:"right",color:"text-subdued",children:e}),backgroundColor:"action-secondary-default",type:parseInt(F)===e?"text":"password",onFocus:function(t){var n;U(""+e);var r=null==t||null==(n=t.nativeEvent)?void 0:n.text;"string"===typeof r&&setTimeout((function(){te(r)}),0)}},p(""+e)))})}))})}):Object(ce.jsx)(o.default,{m:"-4px",flexDirection:"row",flexWrap:"wrap",pb:"16px",children:je.map((function(){return Object(ce.jsx)(o.default,{p:"4px",w:"1/3",children:Object(ce.jsx)(X.default,{w:"full",borderRadius:"12px",h:"38px"})})}))}),Object(ce.jsxs)(fe,{containerTransition:{type:"timing",duration:150},children:[Object(ce.jsx)(ee.AccessoryView,{expandWords:!0,accessoryData:ne,withKeybord:!1,selected:function(e){s(F,e),f(F);var t=parseInt(F);t<M&&u(""+(t+1))}}),I&&Object(ce.jsx)(o.default,{mt:2,children:Object(ce.jsx)(K.default,{alertType:"error",dismiss:!1,title:n.formatMessage({id:"msg__engine__invalid_mnemonic"})})})]}),Object(ce.jsx)(d.default,{isDisabled:O,type:"primary",mt:4,size:"xl",onPromise:c((function(e){var n=Object.values(e).slice(0,M).join(" ");t({text:n})})),children:n.formatMessage({id:"action__confirm"})})]})};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=Object.freeze({});function xe(e){var t=e.onMultipleResults,n=e.onAddMnemonicAuth,r=e.onAddImportedAuth,o=e.onAddWatchingDone,a=e.inputMode,i=e.onTextChange,c=e.textValue,s=Object(x.useRoute)(),l=Object(w.default)(),u=Object(C.useGeneral)().activeNetworkId,d=Object(C.useRuntime)().wallets,f=Object(H.useOnboardingDone)(),p=s.params||ye,b=p.mode,m=void 0===b?"all":b,O=p.presetText,_=void 0===O?"":O;a&&(m=a);var k=Object(v.default)({defaultValues:{text:_||""},mode:"onBlur",reValidateMode:"onBlur"}),P=Object(U.useFormOnChangeDebounced)({useFormReturn:k,revalidate:!1,clearErrorIfEmpty:!0,clearErrorWhenTextChange:!0}).formValues,M=k.control,A=k.handleSubmit,E=k.setValue,D=k.trigger,R=k.getValues,N=!(null!=P&&P.text),L=Object(y.useMemo)((function(){var e;return"mnemonic"===m?e=S.UserInputCategory.MNEMONIC:"imported"===m?e=S.UserInputCategory.IMPORTED:"watching"===m&&(e=S.UserInputCategory.WATCHING),e}),[m]),B=Object(x.useNavigation)(),F=Object(y.useCallback)((function(){var e=B.getParent()||B;e.canGoBack()&&e.goBack()}),[B]),W=Object(y.useCallback)(function(){var e=g()((function*(e){var a,i=e.text,c=e.defaultName,s=e.selectedNetwork,p=e.selectedDerivation;if(i){var b=(yield T.default.validator.validateCreateInput({input:i,onlyFor:L,selectedNetwork:s})).filter((function(e){return e.category!==S.UserInputCategory.ADDRESS}));if(0!==b.length)if(b.length>1)t({defaultName:c,text:i,checkResults:b,onSuccess:function(){j.default.show({title:l.formatMessage({id:"msg__account_imported"})},{}),f({showOnBoardingLoading:!0})}});else{var m=h()(b,1)[0],O=m.category,g=m.possibleNetworks,v=void 0===g?[]:g;if(O!==S.UserInputCategory.MNEMONIC){if(v.length<1)j.default.show({title:l.formatMessage({id:"msg__unknown_error"})},{type:"error"});else if(O===S.UserInputCategory.WATCHING||O===S.UserInputCategory.IMPORTED){var y=u&&v.includes(u)?u:v[0],x=d.filter((function(e){return e.type===(O===S.UserInputCategory.WATCHING?"watching":"imported")})),w=h()(x,1)[0],_=null==w||null==(a=w.nextAccountIds)?void 0:a.global,k=_?"Account #"+_:"";if(O===S.UserInputCategory.WATCHING)try{yield T.default.serviceAccount.addWatchAccount(y,i,k,null==p?void 0:p.template),j.default.show({title:l.formatMessage({id:"msg__account_imported"})},{}),o(),f({showOnBoardingLoading:!0})}catch(P){var I=P.key;j.default.show({title:l.formatMessage({id:I})},{type:"error"})}else r({privatekey:i,name:k,networkId:y,template:null==p?void 0:p.template,onSuccess:function(){j.default.show({title:l.formatMessage({id:"msg__account_imported"})},{}),f({showOnBoardingLoading:!0})},onFailure:F})}}else n({mnemonic:i,onSuccess:function(){j.default.show({title:l.formatMessage({id:"msg__account_imported"})},{}),f({showOnBoardingLoading:!0})}})}}}));return function(t){return e.apply(this,arguments)}}(),[u,L,l,r,n,o,t,f,F,d]);Object(y.useEffect)((function(){_&&D("text")}),[_,D]),Object(y.useEffect)((function(){c&&E("text",c)}),[E,c]);var V=Object(y.useCallback)(g()((function*(){var e=yield Object(I.getClipboard)();E("text",e),D("text")})),[E,D]);return{intl:l,handleSubmit:A,submitDisabled:N,onSubmit:W,control:M,inputCategory:L,onPaste:V,onTextChange:i,mode:m,trigger:D,getValues:R}}function we(e){var t=e.value,n=e.mode,r=e.network,o=e.inputCategory,a=e.selectedDerivation,i=e.setSelectedDerivation,c=Object(w.default)(),s=Object(y.useState)([]),l=h()(s,2),u=l[0],d=l[1];Object(y.useEffect)((function(){(function(){var e=g()((function*(){var e=(yield T.default.validator.validateCreateInput({input:t,onlyFor:o,selectedNetwork:r}))[0],n=Object.entries((null==e?void 0:e.derivationOptions)||[]).map((function(e){var t=h()(e,2),n=t[0];return ve(ve({},t[1]),{},{key:n})}));d(n),i(n[0])}));return function(){return e.apply(this,arguments)}})()()}),[t,o,r,i]);var f=Object(y.useMemo)((function(){if(a&&a.desc){if("string"===typeof a.desc)return a.desc;var e=a.desc;return c.formatMessage({id:e.id},e.placeholder)}}),[c,a]);return r.id===A.OnekeyNetwork.btc&&u.length>0&&a?Object(ce.jsx)(L.BaseSelectorTrigger,{mt:2,type:"basic",hasArrow:!0,icon:null,label:null==a?void 0:a.label,subDescription:f,onPress:function(){return Object(N.default)({type:"create",title:c.formatMessage({id:"content__account_type"}),walletId:n,derivationOptions:u,selectedDerivation:a,onSelect:i,networkId:r.id})},borderRadius:12,px:2,py:3,space:3,justifyContent:"space-between"}):null}function _e(e){var t=e.intl,n=e.handleSubmit,r=e.submitDisabled,i=e.onSubmit,s=e.control,p=e.inputCategory,b=e.onPaste,m=e.mode,j=e.children,O=e.showSubmitButton,v=e.showPasteButton,x=e.onNameServiceChange,w=e.nameServiceAddress,I=e.onTextChange,M=e.trigger,E=e.getValues,D=Object(F.useManageNetworks)().enabledNetworks,N=Object(C.useActiveWalletAccount)().network,L=Object(k.default)(),U=Object(y.useState)(),H=h()(U,2),W=H[0],z=H[1],G=Object(P.useNameServiceStatus)(),K=G.onChange,q=G.disableSubmitBtn,Z=G.address,X=Object(f.default)(),Y=Object(y.useCallback)((function(){return Object(ce.jsx)(u.default,{children:Object(ce.jsx)(d.default,{size:"xl",type:"plain",onPromise:b,children:t.formatMessage({id:"action__paste"})})})}),[t,b]),Q=Object(y.useMemo)((function(){var e=[];return"watching"!==m&&"all"!==m||(e=[].concat(l()(e),["scan"])),v&&(e=[].concat(l()(e),["paste"])),e}),[m,v]),$=Object(y.useMemo)((function(){return D.filter((function(e){return"imported"===m?e.settings.importedAccountEnabled:"watching"!==m||e.settings.watchingAccountEnabled}))}),[D,m]),J=Object(y.useMemo)((function(){if(N){if("imported"===m&&null!=N&&N.settings.importedAccountEnabled)return N;if("watching"===m&&null!=N&&N.settings.watchingAccountEnabled)return N}return $[0]}),[N,m,$]),ee=Object(y.useState)(J),te=h()(ee,2),ne=te[0],re=te[1],oe=Object(y.useCallback)((function(e){re(c()(D,{id:e})),L()}),[L,D]),ae=Object(y.useCallback)((function(e){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(P.default,{name:e,disable:"imported"===m||"mnemonic"===m,onChange:x||K,networkId:ne.id,disableBTC:!0}),Object(ce.jsx)(we,{value:e,mode:m,selectedDerivation:W,setSelectedDerivation:z,inputCategory:p,network:ne})]})}),[p,m,x,K,W,ne]),ie=Object(y.useMemo)((function(){return[""+("mnemonic"===m||"all"===m?t.formatMessage({id:"form__recovery_phrase"}):""),""+("imported"===m||"all"===m?t.formatMessage({id:"form__private_key"}):""),""+("watching"===m||"all"===m?"watching"===m&&ne.id===A.OnekeyNetwork.btc?t.formatMessage({id:"content__public_key"}):t.formatMessage({id:"form__import_watch_only_account_placeholder"}):"")].filter(Boolean).join(", ")}),[t,m,ne.id]);return Object(y.useEffect)((function(){var e=E("text");(w||Z||e)&&M("text")}),[E,w,Z,ne.id,M]),Object(ce.jsxs)(o.default,{display:"flex",flexDirection:"column",justifyContent:X?"space-between":"flex-start",flex:1,children:["mnemonic"===m?Object(ce.jsx)(Oe,{onSubmit:function(){var e=g()((function*(e){yield i(e),yield Object(V.wait)(600)}));return function(t){return e.apply(this,arguments)}}()}):Object(ce.jsxs)(a.default,{children:["mnemonic"!==m&&Object(ce.jsx)(B.ImportAccountNetworkSelectorTrigger,{selectedNetwork:ne,selectableNetworks:$,onSelected:oe}),Object(ce.jsx)(a.default.Item,{isLabelAddonActions:!0,labelAddon:Q,control:s,name:"text",rules:{validate:function(){var e=g()((function*(e){var n=w||Z||e;if(!n)return!0;if((yield T.default.validator.validateCreateInput({input:n,onlyFor:p,selectedNetwork:ne})).filter((function(e){return e.category!==S.UserInputCategory.ADDRESS})).length>0)return!0;if(ne.id===A.OnekeyNetwork.btc)try{return yield T.default.validator.validateAddress(A.OnekeyNetwork.btc,n),t.formatMessage({id:"form__address_btc_as_wachted_account"})}catch(r){}return p===S.UserInputCategory.IMPORTED?t.formatMessage({id:"msg__invalid_private_key"}):p===S.UserInputCategory.MNEMONIC?t.formatMessage({id:"msg__engine__invalid_mnemonic"}):t.formatMessage({id:"form__add_exsting_wallet_invalid"})}));return function(t){return e.apply(this,arguments)}}(),onChange:function(e){var t,n=null==e||null==(t=e.target)?void 0:t.value;I&&"string"===typeof n&&I(n)}},helpText:ae,children:"imported"===m?Object(ce.jsx)(a.default.Input,{inputAccessoryViewID:"1",autoFocusDelay:600,placeholder:ie,autoFocus:!0,backgroundColor:"action-secondary-default",secureTextEntry:!0,size:"xl",rightCustomElement:R.default.canGetClipboard?Y():null}):Object(ce.jsx)(a.default.Textarea,{inputAccessoryViewID:"1",autoFocus:!0,autoCorrect:!1,totalLines:X?3:5,placeholder:ie,trimValue:!["all","mnemonic"].includes(m)})}),O?Object(ce.jsx)(d.default,{isDisabled:r||q,type:"primary",size:"xl",onPromise:n(function(){var e=g()((function*(e){!q&&Z&&(e.text=Z),e.selectedNetwork=ne,e.selectedDerivation=W,yield i(e),yield Object(V.wait)(600)}));return function(t){return e.apply(this,arguments)}}()),children:t.formatMessage({id:"action__confirm"})}):null]}),R.default.isNativeIOS&&["all","mnemonic"].includes(m)&&Object(ce.jsx)(_.default,{nativeID:"1",children:Object(ce.jsx)(o.default,{})}),j]})}function ke(e){var t=e.inputMode,n=e.valueTextForMnemonic,r=e.onChangeTextForMnemonic,o=Object(x.useNavigation)(),a=Object(z.useOnboardingContext)(),i=null==a?void 0:a.forceVisibleUnfocused,c=Object(y.useCallback)((function(e){D.default.onBoarding.info("OnboardingAddExistingWallet > onMultipleResults",e.checkResults),null==i||i(),o.navigate(M.RootRoutes.Modal,{screen:M.ModalRoutes.CreateWallet,params:{screen:M.CreateWalletModalRoutes.AddImportedOrWatchingAccountModal,params:e}})}),[i,o]),s=Object(y.useCallback)((function(){D.default.onBoarding.info("OnboardingAddExistingWallet > onAddWatchingDone")}),[]),l=xe({onMultipleResults:c,onAddMnemonicAuth:Object(y.useCallback)((function(e){D.default.onBoarding.info("OnboardingAddExistingWallet > onAddMnemonicAuth"),o.navigate(M.RootRoutes.Onboarding,{screen:G.EOnboardingRoutes.SetPassword,params:{mnemonic:e.mnemonic}})}),[o]),onAddWatchingDone:s,onAddImportedAuth:Object(y.useCallback)((function(e){D.default.onBoarding.info("OnboardingAddExistingWallet > onAddImportedAuth",{networkId:e.networkId,name:e.name}),null==i||i(),o.navigate(M.RootRoutes.Modal,{screen:M.ModalRoutes.CreateWallet,params:{screen:M.CreateWalletModalRoutes.AddImportedAccountDoneModal,params:e}})}),[i,o]),inputMode:t,onTextChange:r,textValue:n});return Object(ce.jsx)(_e,ve(ve({},l),{},{showSubmitButton:!0,showPasteButton:!0}))}function Ie(){var e=Object(w.default)(),t=Object(x.useNavigation)(),n=Object(y.useCallback)((function(){t.navigate(M.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal)}),[t]);return Object(ce.jsx)(d.default,{size:"xl",type:"plain",rightIconName:"ChevronRightOutline",iconSize:16,onPress:function(){return n()},children:e.formatMessage({id:"action__restore_with_onekey_lite"})})}t.default=function(){var e,t=Object(x.useNavigation)(),n=Object(x.useRoute)(),a=Object(W.useWalletName)({wallet:null==n||null==(e=n.params)?void 0:e.wallet}),i=xe({onMultipleResults:Object(y.useCallback)((function(e){t.navigate(M.CreateWalletModalRoutes.AddImportedOrWatchingAccountModal,e)}),[t]),onAddMnemonicAuth:Object(y.useCallback)((function(e){t.navigate(M.CreateWalletModalRoutes.AppWalletDoneModal,e)}),[t]),onAddWatchingDone:Object(y.useCallback)((function(){}),[]),onAddImportedAuth:Object(y.useCallback)((function(e){t.navigate(M.CreateWalletModalRoutes.AddImportedAccountDoneModal,e)}),[t])}),c=Object(P.useNameServiceStatus)(),s=c.onChange,l=c.disableSubmitBtn,u=c.address,d=c.name,f=i.intl,p=i.onSubmit,b=i.handleSubmit,m=i.submitDisabled,h=i.mode,j=Object(y.useMemo)((function(){return E.default&&"all"===h?Object(ce.jsxs)(o.default,{children:[Object(ce.jsx)(o.default,{flex:1}),Object(ce.jsx)(o.default,{h:2}),Object(ce.jsx)(Ie,{})]}):null}),[h]);return Object(ce.jsx)(r.default,{header:f.formatMessage({id:"action__i_already_have_a_wallet"}),headerDescription:a,primaryActionTranslationId:"action__import",primaryActionProps:{onPromise:b((function(e){return!l&&u&&(e.defaultName=d,e.text=u),p(e)})),isDisabled:m||l},hideSecondaryAction:!0,scrollViewProps:{children:Object(ce.jsx)(_e,ve(ve({},i),{},{showPasteButton:!0,showSubmitButton:!1,nameServiceAddress:u,onNameServiceChange:s,children:j}))}})}},2440:function(e,t,n){"use strict";n.r(t),n.d(t,"PreSendAmountPreview",(function(){return z})),n.d(t,"PreSendAmount",(function(){return G}));n(1348);var r=n(54),o=n(48),a=n(27),i=n(2),c=n.n(i),s=n(3),l=n.n(s),u=n(4),d=n.n(u),f=n(50),p=n(76),b=n(41),m=n(12),h=n(20),j=n(51),O=n(1),g=n(44),v=n(21),y=n.n(v),x=n(88),w=n(301),_=n(108),k=n(24),I=n(17),S=n(1608),T=n(125),P=n(25),C=n(707),M=n(203),A=n(46),E=n(217),D=n(183),R=n(36),N=n(0);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){var t=e.accountId,n=e.networkId,r=e.tokenId,o=Object(x.default)(),a=Object(M.useFrozenBalance)({accountId:t,networkId:n,tokenId:r});return new y.a(a).isNegative()?Object(N.jsx)(m.default,{mb:2,children:Object(N.jsx)(D.default,{dismiss:!1,title:o.formatMessage({id:"msg__the_spendable_balance_on_the_chain_will_be_0_when_a_transfer_in_in_progress"}),alertType:"warn"})}):null}function F(e){return e.networkId===R.OnekeyNetwork.xmr?Object(N.jsx)(B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):null}var U=n(178),H=n(82);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=e.title,n=e.titleAction,r=e.text,o=e.onChangeText,a=e.loading,i=e.desc,c=e.placeholder,s=void 0===c?"0":c,l=Object(O.useMemo)((function(){return i?Object(O.isValidElement)(i)?Object(N.jsx)(j.default,{children:i}):Object(N.jsx)(h.default,{typography:"Body1Strong",textAlign:"center",isTruncated:!0,children:i}):null}),[i]);return Object(N.jsxs)(m.default,{height:"140px",children:[!!t&&Object(N.jsxs)(b.default,{space:2,alignItems:"center",justifyContent:"center",children:[Object(N.jsx)(m.default,{opacity:0,children:n}),Object(N.jsx)(h.default,{textAlign:"center",typography:"DisplayLarge",color:"text-subdued",children:t}),n]}),Object(N.jsx)(j.default,{flex:1,maxH:"64px",mt:2,mb:3,children:Object(N.jsx)(S.AutoSizeText,{autoFocus:!0,text:r,onChangeText:o,placeholder:s})}),a?Object(N.jsx)(p.default,{size:"sm"}):l]})}function G(){var e,t,n,i,s,l=Object(x.default)(),u=(Object(w.default)().height,Object(f.default)()),p=Object(O.useState)(!1),b=d()(p,2),j=b[0],v=b[1],S=Object(g.useNavigation)(),D=Object(g.useRoute)(),R=Object(O.useMemo)((function(){return V({},D.params)}),[D.params]),L=Object(O.useState)(""),B=d()(L,2),W=B[0],G=B[1],K=Object(P.useActiveSideAccount)(R),q=K.account,Z=K.accountId,X=K.networkId,Y=K.network,Q=I.default.engine,$=R.token,J=Object(M.useSingleToken)(X,null!=$?$:"").token,ee=Object(C.useTokenBalanceWithoutFrozen)({networkId:X,accountId:Z,token:V(V({},J),{},{sendAddress:R.tokenSendAddress}),fallback:"0"}),te=Object(M.useFrozenBalance)({networkId:X,accountId:Z,tokenId:(null==J?void 0:J.tokenIdOnNetwork)||"main"}),ne=Object(C.useTokenBalance)({networkId:X,accountId:Z,token:V(V({},J),{},{sendAddress:R.tokenSendAddress}),fallback:"0"}),re=Object(O.useCallback)((function(){if(!J||!W)return"error";var e,t,n=new y.a(W),r=new y.a(ee);return n.isNaN()||r.isNaN()?l.formatMessage({id:"form__amount_invalid"},{0:null!=(e=null==J?void 0:J.symbol)?e:""}):r.isLessThan(n)?l.formatMessage({id:"form__amount_invalid"},{0:null!=(t=null==J?void 0:J.symbol)?t:""}):void 0}),[W,l,ee,J])(),oe=Object(O.useMemo)((function(){return new y.a((null==Y?void 0:Y.settings.minTransferAmount)||"0")}),[Y]),ae=Object(O.useMemo)((function(){if(!oe.isNaN()&&oe.gt("0")){var e=new y.a(W);if(e.isNaN())return[!1,!1];if(e.lt(oe))return[!1,e.gt("0")]}return[!0,!1]}),[oe,W]),ie=d()(ae,2),ce=ie[0],se=ie[1],le=Object(O.useState)(null),ue=d()(le,2),de=ue[0],fe=ue[1],pe=Object(O.useCallback)(c()((function*(){if(!ce)return{result:!0,errorInfo:null};try{return yield Q.validateSendAmount({accountId:Z,networkId:X,amount:W,tokenBalance:ne,to:R.to}),{result:!0,errorInfo:null}}catch(e){return{result:!1,errorInfo:{key:e.key,info:e.info}}}})),[Z,X,W,Q,R,ne,ce]);Object(O.useEffect)((function(){(function(){var e=c()((function*(){var e=yield pe(),t=e.result,n=e.errorInfo;fe(t?null:n)}));return function(){return e.apply(this,arguments)}})()()}),[pe]);var be=Object(O.useMemo)((function(){return se?Object(N.jsx)(a.default.Body1Strong,{color:"text-critical",children:l.formatMessage({id:"form__str_minimum_transfer"},{0:oe.toFixed(),1:null==J?void 0:J.symbol})}):de?Object(N.jsx)(a.default.Body1Strong,{color:"text-critical",children:l.formatMessage({id:de.key},V({},de.info))}):void 0}),[l,oe,se,null==J?void 0:J.symbol,de]),me=function(e){var t,n,r,o=e.tokenInfo,a=e.desc,i=e.network,c=e.amount,s=e.setAmount,l=e.tokenBalance,u=e.networkId,f=e.accountId,p=null!=(t=null!=o&&o.tokenIdOnNetwork?null==i?void 0:i.tokenDisplayDecimals:null==i?void 0:i.nativeDisplayDecimals)?t:2,b=null!=(n=null==o?void 0:o.decimals)?n:18,m=Object(O.useMemo)((function(){var e="^(0|([1-9][0-9]*))?\\.?([0-9]{1,"+b+"})?$";return 0===b&&(e="^(0|([1-9][0-9]*))?$"),new RegExp(e)}),[b]),j=Object(M.useSimpleTokenPriceValue)({networkId:u,contractAdress:null==o?void 0:o.tokenIdOnNetwork}),g=Object(P.useSettings)().selectedFiatMoneySymbol,v=void 0===g?"usd":g,x=v.toUpperCase().trim(),w=Object(O.useState)(!1),_=d()(w,2),I=_[0],S=_[1],C=I?"btc"===v?8:2:b,A=Object(O.useMemo)((function(){var e="^(0|([1-9][0-9]*))?\\.?([0-9]{1,"+C+"})?$";return 0===C&&(e="^(0|([1-9][0-9]*))?$"),new RegExp(e)}),[C]),E=Object(O.useState)(c),D=d()(E,2),R=D[0],L=D[1],B=Object(O.useMemo)((function(){return new y.a(null!=j?j:0)}),[j]),F=!B.isNaN()&&B.gt(0),U=Object(O.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e?t?B.times(t||"0").toFixed(C,n):"":t}),[C,B]),W=Object(O.useCallback)((function(e){var t=U(I,e,y.a.ROUND_FLOOR);L(t)}),[U,I]),V=Object(O.useCallback)((function(e){var t=e.replace(/\u3002/g,".");if(k.default.isRuntimeBrowser&&"."===e&&!R&&(t="0."),t.length<R.length)L(t);else if(A.test(t))L(t);else{var n=new y.a(t);if(!n.isNaN()){var r=n.toFixed(C,y.a.ROUND_FLOOR);L(r)}}}),[R,C,A]),z=Object(O.useCallback)((function(e){if(e.length<c.length)s(e);else if(m.test(e))s(e);else{var t=new y.a(e);if(!t.isNaN()){var n=t.toFixed(b,y.a.ROUND_FLOOR);s(n)}}}),[c.length,b,s,m]),G=Object(N.jsx)(H.default,{name:"ArrowsUpDownOutline",size:"lg",type:"plain",circle:!0,onPress:function(){var e;R&&R===l&&!I&&(e=y.a.ROUND_FLOOR);var t=!I;S(t),L(U(t,c,e))}}),K=Object(O.useMemo)((function(){return a||(I?Object(N.jsxs)(h.default,{children:[(null==(e=Object(T.formatBalanceDisplay)(c||"0","",{fixed:p}))?void 0:e.amount)||c||"0"," ",null==o?void 0:o.symbol]}):Object(N.jsx)(T.FormatCurrencyTokenOfAccount,{accountId:f,networkId:u,token:o,value:c,render:function(e){return Object(N.jsx)(h.default,{children:e})}}));var e}),[f,c,p,a,I,u,o]);return Object(O.useEffect)((function(){return z(I?R?new y.a(R).div(B).toFixed():"":R)}),[I,z,R,B]),{validAmountRegex:m,title:null!=(r=I?x:null==o?void 0:o.symbol)?r:"--",titleAction:F?G:void 0,isFiatMode:I,descView:K,text:R,onTextChange:V,setTextByAmount:W}}({tokenInfo:J,desc:be,network:Y,amount:W,setAmount:G,tokenBalance:ee,accountId:Z,networkId:X}),he=me.title,je=me.titleAction,Oe=me.descView,ge=me.text,ve=me.onTextChange,ye=(me.validAmountRegex,me.setTextByAmount),xe=me.isFiatMode;return Object(N.jsx)(E.BaseSendModal,{accountId:Z,networkId:X,header:l.formatMessage({id:"content__amount"}),primaryActionTranslationId:"action__next",hideSecondaryAction:!0,primaryActionProps:{isDisabled:!!re||!ce||!!de,isLoading:j},onPrimaryActionPress:c()((function*(){if(q&&Y&&J){var e=xe?W:ge;R&&(R.amount=e,R.from=q.address);try{var t;v(!0),yield Object(A.wait)(100);var n=yield Q.buildEncodedTxFromTransfer({networkId:X,accountId:Z,transferInfo:R});S.navigate(U.SendModalRoutes.SendConfirm,{accountId:Z,networkId:X,encodedTx:n,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:U.SendModalRoutes.PreSendAddress,payload:{payloadType:"Transfer",account:q,network:Y,token:V(V({},J),{},{sendAddress:R.tokenSendAddress,idOnNetwork:null!=(t=null==J?void 0:J.tokenIdOnNetwork)?t:""}),to:R.to,value:e,isMax:!1}})}catch(i){var r,a=i.key;if("form__amount_invalid"===(void 0===a?"":a))o.default.show({title:l.formatMessage({id:"form__amount_invalid"},{0:null!=(r=null==J?void 0:J.symbol)?r:""})},{type:"error"});else o.default.show({title:"string"===typeof i?i:i.message},{type:"error"})}finally{v(!1)}}})),children:Object(N.jsxs)(m.default,{flex:1,flexDirection:"column",style:{userSelect:"none"},children:[Object(N.jsx)(F,{accountId:Z,networkId:X,tokenId:null!=(e=null==J?void 0:J.id)?e:""}),Object(N.jsxs)(m.default,{flexDirection:"row",alignItems:"baseline",children:[Object(N.jsxs)(a.default.Body2Strong,{mr:2,color:"text-subdued",children:[l.formatMessage({id:"content__to"}),":"]}),Object(N.jsx)(a.default.Body1,{children:Object(_.shortenAddress)(null!=(t=null==R?void 0:R.to)?t:"")})]}),Object(N.jsx)(m.default,{py:u?4:void 0,my:6,flex:1,justifyContent:"center",children:Object(N.jsx)(z,{title:he,titleAction:je,desc:Oe,text:ge,onChangeText:ve})}),Object(N.jsxs)(m.default,{mt:"auto",children:[Object(N.jsxs)(m.default,{flexDirection:"row",alignItems:"center",children:[Object(N.jsxs)(m.default,{flex:1,children:[Object(N.jsx)(a.default.Caption,{color:"text-subdued",children:l.formatMessage({id:"content__available_balance"})}),Object(N.jsx)(m.default,{children:Object(N.jsx)(T.FormatBalanceTokenOfAccount,{accountId:Z,networkId:X,token:V(V({id:null!=(n=null==J?void 0:J.id)?n:"",name:null!=(i=null==J?void 0:J.name)?i:""},J||{}),{},{sendAddress:R.tokenSendAddress}),render:function(e){return Object(N.jsx)(a.default.Body1Strong,{color:re&&W?"text-critical":"text-default",children:e})}})}),new y.a(null!=te?te:"0").isGreaterThan(0)?Object(N.jsx)(a.default.Caption,{color:"text-subdued",mt:2,children:l.formatMessage({id:"form__frozen_balance"})+": "+new y.a(null!=te?te:"0").toFixed()+" "+(null!=(s=null==J?void 0:J.symbol)?s:"")}):null]}),Object(N.jsx)(r.default,{onPress:function(){ye(null!=ee?ee:"0")},children:l.formatMessage({id:"action__max"})})]}),!1]})]})})}},2441:function(e,t,n){"use strict";n.r(t),n.d(t,"useGridListLayout",(function(){return X}));var r=n(20),o=n(2),a=n.n(o),i=n(12),c=n(54),s=n(3),l=n.n(s),u=n(299),d=n(471),f=n(4),p=n.n(f),b=n(50),m=n(1),h=n(44),j=n(88),O=n(69),g=n(391),v=n(1070),y=n(11),x=(n(24),n(17)),w=n(25),_=n(16),k=n(264),I=n(64),S=n(236),T=n(15),P=n.n(T),C=n(40),M=n(21),A=n.n(M),E=n(1244),D=n(2417),R=n(612),N=n(0);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=Object(m.createContext)(null);function U(e){var t=e.children,n=e.listData,r=e.multiSelect,o=Object(m.useState)({multiSelect:!1,listData:[]}),a=p()(o,2),i=a[0],c=a[1];Object(m.useEffect)((function(){c((function(e){return B(B({},e),{},{listData:n,multiSelect:r})}))}),[r,n]);var s=Object(m.useMemo)((function(){return{context:i,setContext:c}}),[i]);return Object(N.jsx)(F.Provider,{value:s,children:t})}function H(){return Object(m.useContext)(F)}var W=["accountId","networkId","cardWidth","asset"];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e){var t=e.multiSelect,n=e.selected,r=e.width;return!1===t&&!1===n?null:Object(N.jsx)(i.default,{borderRadius:"full",justifyContent:"center",alignItems:"center",bgColor:"icon-on-primary",size:r+"px",children:n&&Object(N.jsx)(E.View,{from:{scale:0},animate:{scale:1},transition:{type:"timing",duration:150},children:Object(N.jsx)(C.default,{name:"CheckCircleMini",color:"interactive-default",size:r})})})}var K=Object(m.memo)((function(e){var t=e.accountId,n=e.networkId,o=e.cardWidth,a=e.asset,c=P()(e,W),s=H(),l=Object(w.useActiveSideAccount)({accountId:t,networkId:n}).networkImpl,u=null==s?void 0:s.context.multiSelect,d=Object(m.useMemo)((function(){if(null!=a&&a.amount&&Number(null==a?void 0:a.amount)>1&&"erc1155"===a.ercType){var e=new A.a(a.amount).gt(9999)?"9999+":a.amount,t=(new A.a(a.selectAmount).gt(9999)?"9999+":a.selectAmount)+"/"+e;return Object(N.jsx)(S.default,{position:"absolute",left:"6px",bottom:"6px",title:t,size:"sm",type:"default"})}return null}),[a.amount,a.ercType,a.selectAmount]),f=Object(m.useCallback)((function(e,t){null==s||s.setContext((function(n){var r=n.listData.map((function(n){return l===y.IMPL_EVM&&n.contractAddress===a.contractAddress&&n.tokenId===a.tokenId||l===y.IMPL_SOL&&n.tokenAddress&&n.tokenAddress===a.tokenAddress?z(z({},n),{},{selected:e,selectAmount:t}):n}));return z(z({},n),{},{listData:r})}))}),[a,s,l]),p=Object(m.useCallback)((function(){a.selected?f(!1,"0"):a.amount&&new A.a(a.amount).gt(1)?Object(D.showAmountInputDialog)({total:a.amount,onConfirm:function(e){f(!0,e)}}):f(!0,"1")}),[a,f]);return Object(N.jsx)(i.default,z(z({mb:"16px"},c),{},{children:Object(N.jsx)(I.default,{flexDirection:"column",width:o,onPress:p,children:function(e){var t,n,c=e.isHovered,s=e.isPressed;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(E.View,{animate:{opacity:c||s?.8:1},transition:{type:"timing",duration:150},children:Object(N.jsxs)(i.default,{children:[Object(N.jsx)(R.default,{asset:a,borderRadius:"12px",size:o}),d]})}),Object(N.jsx)(r.default,{typography:"Body2Strong",numberOfLines:2,mt:"8px",children:null!=(t=null!=(n=a.name)?n:a.collection.contractName)?t:""}),Object(N.jsx)(i.default,{position:"absolute",right:"6px",top:"6px",children:Object(N.jsx)(G,{multiSelect:u,selected:a.selected,width:20})})]})}})}))}));function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=e.maxCardWidth,n=e.pageWidth,r=e.numColumns,o=e.margin,a=Object(b.default)();return Object(m.useMemo)((function(){var e,i;return 0===n?{cardWidth:t,numColumns:r}:(a?(i=r,e=Math.floor((n-o*(r-1))/r)):(i=Math.floor((n+o)/(t+o)),e=Math.floor((n-o*(i-1))/i)),{cardWidth:e,numColumns:i})}),[a,o,t,r,n])}function Y(e){var t,n=e.accountId,r=e.networkId,o=H(),a=(null!=(t=null==o?void 0:o.context)?t:{listData:[]}).listData,i=Object(m.useState)(0),c=p()(i,2),s=c[0],l=c[1],u=X({maxCardWidth:112,numColumns:3,margin:8,pageWidth:s}),f=u.cardWidth,b=u.numColumns,h=Object(m.useCallback)((function(e){var t,o=e.item;return Object(N.jsx)(K,{accountId:n,networkId:r,cardWidth:f,marginRight:"8px",asset:o},null!=(t=o.tokenId)?t:o.tokenAddress)}),[n,f,r]);return Object(N.jsx)(d.default,{onLayout:function(e){s!==e.nativeEvent.layout.width&&l(e.nativeEvent.layout.width)},numColumns:b,data:a,renderItem:h,showsVerticalScrollIndicator:!1,py:"24px"},b)}function Q(e){var t,n=e.accountId,r=e.networkId,o=H(),a=Object(u.default)().bottom,s=Object(j.default)(),l=Object(h.useNavigation)(),d=null!=(t=null==o?void 0:o.context.listData)?t:[],f=null==o?void 0:o.context.multiSelect;if(0===d.length)return null;var p=d.filter((function(e){return!0===e.selected})),b=0===p.length,m=p.map((function(e){var t,n,r;return{from:"",to:"",isNFT:!0,amount:null!=(t=e.selectAmount)?t:"1",token:null!=(n=e.contractAddress)?n:e.tokenAddress,nftTokenId:null!=(r=e.tokenId)?r:e.tokenAddress,nftType:e.ercType}}));return Object(N.jsx)(i.default,{pt:"16px",pb:{base:16+a+"px",md:"24px"},children:Object(N.jsx)(c.default,{isDisabled:b,size:"lg",type:"primary",onPress:function(){var e=Z(Z({},m[0]),{},{accountId:n,networkId:r,transferInfos:m});l.navigate(_.RootRoutes.Modal,{screen:_.ModalRoutes.Send,params:{screen:_.SendModalRoutes.PreSendAddress,params:e}})},children:f&&p.length>0?s.formatMessage({id:"action__send_count_nfts"},{count:p.length}):s.formatMessage({id:"action__send_nft"})})})}t.default=function(e){var t=e.accountId,n=e.networkId,o=Object(j.default)(),c=Object(w.useAppSelector)((function(e){return e.general})),s=c.activeNetworkId,l=c.activeAccountId,u=Object(w.useActiveSideAccount)({networkId:n,accountId:t}),d=u.network,f=u.accountAddress,p=Boolean(d&&(v.batchTransferContractAddress[d.id]||d.impl===y.IMPL_SOL)),b=Object(g.isCollectibleSupportedChainId)(n),h=Object(m.useCallback)(a()((function*(){t&&n&&b&&null!=d&&d.settings.sendNFTEnable&&(yield x.default.serviceNFT.fetchNFT({accountId:t,networkId:n}))})),[t,b,n,d]),_=Object(w.useAccountPortfolios)({networkId:s,accountId:l,type:k.EOverviewScanTaskType.nfts}).data,I=Object(m.useMemo)((function(){return Object(O.isAllNetworks)(s)?_.filter((function(e){return e.networkId===n&&e.accountAddress===f})):_}),[f,s,_,n]);Object(m.useEffect)((function(){h()}),[h]);var S=Object(m.useMemo)((function(){return I.map((function(e){return e.assets})).flat().map((function(e){return Z(Z({},e),{},{selected:!1,selectAmount:"0"})}))}),[I]);return S.length>0?Object(N.jsxs)(U,{listData:S,multiSelect:p,children:[Object(N.jsx)(Y,{accountId:t,networkId:n}),Object(N.jsx)(Q,{accountId:t,networkId:n})]}):Object(N.jsxs)(i.default,{flex:1,justifyContent:"center",alignItems:"center",children:[Object(N.jsx)(r.default,{typography:"Display2XLarge",fontSize:48,lineHeight:60,children:"\ud83d\uddbc\ufe0f"}),Object(N.jsx)(r.default,{typography:"DisplayMedium",mt:"12px",children:o.formatMessage({id:"empty__no_nfts"})})]})}},2442:function(e,t,n){"use strict";n.r(t),n.d(t,"TxActionsListView",(function(){return z}));var r=n(12),o=n(63),a=n(100),i=n(3),c=n.n(i),s=n(2),l=n.n(s),u=n(4),d=n.n(u),f=n(1),p=n(21),b=n.n(p),m=n(88),h=n(17),j=n(25),O=n(514),g=n(20),v=n(6),y=n.n(v),x=n(9),w=n.n(x),_=n(14),k=n.n(_),I=n(7),S=n.n(I),T=n(868),P=n(0);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var M=function(e){w()(n,e);var t=C(n);function n(){return t.apply(this,arguments)}return n.prototype.render=function(){return this.state.error?Object(P.jsx)(g.default,{children:this.state.error.message}):this.props.children},y()(n)}(T.ErrorBoundaryBase),A=n(51),E=n(54),D=n(40),R=n(415),N=n(369),L=n(260);function B(e){var t=e.titleInfo,n=e.decodedTx,r=Object(R.useNetwork)({networkId:n.networkId}).network,o=Object(N.default)(r),a=o.hasAvailable&&n.txid;return Object(P.jsx)(A.default,{children:a?Object(P.jsx)(E.default,{isDisabled:!a,onPress:function(){return o.openTransactionDetails(n.txid)},type:"basic",size:"base",rightIcon:Object(P.jsx)(D.default,{name:"ArrowTopRightOnSquareMini",color:"icon-default",size:16}),children:null==t?void 0:t.title}):Object(P.jsx)(g.default,{typography:"Body1Strong",color:"text-subdued",textAlign:"center",children:null==t?void 0:t.title})})}var F=n(1311),U=n(381);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={T0:function(e){var t=e.iconInfo,n=e.titleInfo;return Object(P.jsx)(L.TxListActionBox,{iconInfo:t,titleInfo:n})},T1:B,T2:B};function z(e){var t=e.historyTx,n=e.decodedTx,i=e.transformType,c=void 0===i?"T0":i,s=e.space,u=void 0===s?0:s,p=e.showDivider,g=void 0!==p&&p,v=e.showConnectionLine,y=void 0!==v&&v,x=e.transferAmount,w=Object(m.default)(),_=function(e){var t=Object(f.useState)(),n=d()(t,2),r=n[0],o=n[1];return Object(f.useEffect)((function(){l()((function*(){var t=yield h.default.serviceHistory.getOriginHistoryTxOfCancelTx(e);o(t)}))()}),[e]),r}(t),k=Object(j.useNetworkSimple)(n.networkId),I=Object(f.useMemo)((function(){var e=W({},n);_&&(e.actions=_.decodedTx.actions,e.outputActions=_.decodedTx.outputActions);for(var r=Object(U.getDisplayedActions)({decodedTx:e}),o=[],a=r.length,i=0,s=b.a.min(a,O.MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM).toNumber();i<s;i+=1){var l=r[i],u=Object(F.getTxActionMeta)({action:l,decodedTx:e,intl:w,historyTx:t});u.meta.transferAmount=x;var d=u.meta,f=u.components[c];o.push(Object(P.jsx)(M,{children:Object(P.jsx)(f,W(W({},u.props),{},{meta:d,network:k}),i)},"error-boundary-"+i)),g&&r.length}if(a>O.MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM){var p=V[c];o.push(Object(P.jsx)(p,{decodedTx:e,iconInfo:{icon:{name:"EllipsisVerticalMini"}},titleInfo:{title:w.formatMessage({id:"action__str_more_actions"},{count:a-O.MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM})}}))}return o}),[n,t,w,k,_,g,x,c]),S=I.length>1&&y?Object(P.jsx)(a.default,{testID:"TxActionsListView-ConnectionLine",orientation:"vertical",position:"absolute",left:4,top:6,bottom:7,height:"auto",thickness:2}):null;return Object(P.jsxs)(r.default,{testID:"TxActionsListView",children:[S,Object(P.jsx)(o.default,{space:u,children:I})]})}},2444:function(e,t,n){"use strict";n.r(t),n.d(t,"hasPermission",(function(){return c})),n.d(t,"checkPushNotificationPermission",(function(){return s})),n.d(t,"initJpush",(function(){return l}));var r,o=n(2),a=n.n(o),i=(n(1045),n(1521));!function(e){e[e.NOT_DETERMINED=0]="NOT_DETERMINED",e[e.DENIED=1]="DENIED",e[e.AUTHORIZED=2]="AUTHORIZED",e[e.PROVISIONAL=3]="PROVISIONAL",e[e.EPHEMERAL=4]="EPHEMERAL"}(r||(r={}));n(338),n(19),n(24);var c=function(e){var t;return e.granted||(null==(t=e.ios)?void 0:t.status)===r.PROVISIONAL},s=function(){var e=a()((function*(){var e=yield Object(i.getPermissionsAsync)();return c(e)}));return function(){return e.apply(this,arguments)}}(),l=function(){}},2452:function(e,t,n){"use strict";n.r(t),n.d(t,"homescreensT1",(function(){return a})),n.d(t,"homescreenTouch",(function(){return i})),n.d(t,"getHomescreenKeys",(function(){return c})),n.d(t,"getHomescreenData",(function(){return s}));var r={default:{name:"default",staticPath:n(3645)},original:{name:"original",staticPath:n(3646)},circleweb:{name:"circleweb",staticPath:n(3647)},circuit:{name:"circuit",staticPath:n(3648)},starweb:{name:"starweb",staticPath:n(3649)},stars:{name:"stars",staticPath:n(3650)},bitcoin_b2:{name:"bitcoin_b2",staticPath:n(3651)},bitcoin_shade:{name:"bitcoin_shade",staticPath:n(3652)},bitcoin_b:{name:"bitcoin_b",staticPath:n(3653)},bitcoin_full:{name:"bitcoin_full",staticPath:n(3654)},bitcat:{name:"bitcat",staticPath:n(3655)},nyancat:{name:"nyancat",staticPath:n(3656)},coffee:{name:"coffee",staticPath:n(3657)},flower:{name:"flower",staticPath:n(3658)},saturn:{name:"saturn",staticPath:n(3659)},jupiter:{name:"jupiter",staticPath:n(3660)},einstein:{name:"einstein",staticPath:n(3661)},piggy:{name:"piggy",staticPath:n(3662)},honeybadger:{name:"honeybadger",staticPath:n(3663)},dragon:{name:"dragon",staticPath:n(3664)},narwal:{name:"narwal",staticPath:n(3665)},rabbit:{name:"rabbit",staticPath:n(3666)},bunny:{name:"bunny",staticPath:n(3667)},rooster:{name:"rooster",staticPath:n(3668)},genesis:{name:"genesis",staticPath:n(3669)},my_bank:{name:"my_bank",staticPath:n(3670)},candle:{name:"candle",staticPath:n(3671)},ancap:{name:"ancap",staticPath:n(3672)},anonymous:{name:"anonymous",staticPath:n(3673)},mushroom:{name:"mushroom",staticPath:n(3674)},invader:{name:"invader",staticPath:n(3675)},mtgox:{name:"mtgox",staticPath:n(3676)},electrum:{name:"electrum",staticPath:n(3677)},mycelium:{name:"mycelium",staticPath:n(3678)},ethereum:{name:"ethereum",staticPath:n(3679)},litecoin:{name:"litecoin",staticPath:n(3680)},myetherwallet:{name:"myetherwallet",staticPath:n(3681)},zcash:{name:"zcash",staticPath:n(3682)},dash:{name:"dash",staticPath:n(3683)},bitcoin_cash:{name:"bitcoin_cash",staticPath:n(3684)},bitcoin_gold:{name:"bitcoin_gold",staticPath:n(3685)},vertcoin:{name:"vertcoin",staticPath:n(3686)},namecoin:{name:"namecoin",staticPath:n(3687)},monacoin:{name:"monacoin",staticPath:n(3688)},doge:{name:"doge",staticPath:n(3689)},digibyte:{name:"digibyte",staticPath:n(3690)},decred:{name:"decred",staticPath:n(3691)},multibit:{name:"multibit",staticPath:n(3692)},reddit:{name:"reddit",staticPath:n(3693)},hacker:{name:"hacker",staticPath:n(3694)},polis:{name:"polis",staticPath:n(3695)},carlos:{name:"carlos",staticPath:n(3696)},xrc:{name:"xrc",staticPath:n(3697)}},o={"wallpaper-1":{name:"wallpaper-1",staticPath:n(3698)},"wallpaper-2":{name:"wallpaper-2",staticPath:n(3699)},"wallpaper-3":{name:"wallpaper-3",staticPath:n(3700)},"wallpaper-4":{name:"wallpaper-4",staticPath:n(3701)}},a=["default","original","circleweb","circuit","starweb","stars","bitcoin_b2","bitcoin_shade","bitcoin_b","bitcoin_full","bitcat","nyancat","coffee","flower","saturn","jupiter","einstein","piggy","honeybadger","dragon","narwal","rabbit","bunny","rooster","genesis","my_bank","candle","ancap","anonymous","mushroom","invader","mtgox","electrum","mycelium","ethereum","litecoin","myetherwallet","zcash","dash","bitcoin_cash","bitcoin_gold","vertcoin","namecoin","monacoin","doge","digibyte","decred","multibit","reddit","hacker","polis","carlos","xrc"],i=["wallpaper-1","wallpaper-2","wallpaper-3","wallpaper-4"],c=function(e){switch(e){case"classic":case"mini":return a;case"touch":return i;default:return[]}},s=function(e){switch(e){case"classic":case"mini":return c(e).reduce((function(e,t){return e[t]=r[t],e}),{});case"touch":return c(e).reduce((function(e,t){return e[t]=o[t],e}),{});default:return{}}}},2464:function(e,t,n){"use strict";n.r(t);t.default=[]},2465:function(e,t,n){"use strict";n.r(t),n.d(t,"persistWhiteList",(function(){return r}));var r=["settings","status","dapp","general","discover","tokens","contacts","swapTransactions","fiatMoney","cloudBackup","staking","webTabs","overview"]},2477:function(e,t){},2508:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountRootLandingPathSchema",(function(){return f})),n.d(t,"buildAccountLandingLink",(function(){return p}));var r=n(2),o=n.n(r),a=n(1),i=n(44),c=n(180),s=n(17),l=n(111),u=n(46),d=n(16),f="/account/:address/:networkId?";function p(e){return"https://app.onekey.so"+("/account/"+e.address+"/"+(e.networkId||""))}t.default=function(){var e=s.default.serviceAccount,t=Object(i.useRoute)(),n=Object(l.default)(),r=t.params,f=Object(a.useMemo)((function(){return(null==r?void 0:r.networkId)||""}),[null==r?void 0:r.networkId]),p=Object(a.useMemo)((function(){return(null==r?void 0:r.address)||""}),[null==r?void 0:r.address]),b=Object(a.useCallback)(o()((function*(){var e=yield s.default.validator.validateCreateInput({input:p,onlyFor:c.UserInputCategory.WATCHING});return Boolean(null==e?void 0:e.length)})),[p]);return Object(a.useEffect)((function(){o()((function*(){n.navigate(d.RootRoutes.Main),!(yield e.changeActiveAccountByAddress({address:p,networkId:f}))&&(yield b())&&(yield Object(u.wait)(300),n.navigate(d.RootRoutes.Modal,{screen:d.ModalRoutes.CreateWallet,params:{screen:d.CreateWalletModalRoutes.AddExistingWalletModal,params:{mode:"watching",presetText:null==r?void 0:r.address}}}))}))()}),[p,b,n,f,r,e]),null}},2517:function(e,t,n){"use strict";n.r(t),n.d(t,"slice",(function(){return o})),n.d(t,"setEnabled",(function(){return a}));var r=n(128),o=Object(r.createSlice)({name:"HttpServer",initialState:{enabled:!1,address:""},reducers:{setEnabled:function(e,t){e.enabled=t.payload}}}),a=o.actions.setEnabled;t.default=o.reducer},2523:function(e,t){},2567:function(e,t,n){"use strict";n.r(t),t.default={getHostNameFromUrl:function(e){var t=e.url;try{return new URL(t).hostname||""}catch(n){}return""}}},2578:function(e,t,n){"use strict";n.r(t),function(e){var r=n(2),o=n.n(r),a=n(142),i=n(4),c=n.n(i),s=n(12),l=n(1),u=n(2658),d=n(2659),f=n(17),p=n(24),b=n(0),m=f.default.serviceApp,h=(f.default.serviceCronJob,Object(l.memo)((function(t){var r,o=t.bgColor,a=t.initDataReady,i=t.children;null==(r=e.$$onekeyPerfTrace)||r.log({name:"AppLoading SplashScreen render",payload:{initDataReady:a,bgColor:o}});var c=Object(l.useMemo)((function(){return p.default.isRuntimeBrowser?n(3596):n(1513)}),[a]),u=Object(l.useMemo)((function(){return Object(b.jsx)(d.default,{preload:!0,disableAppScale:!1,disableImageBackgroundAnimation:!1,translucent:!p.default.isNativeAndroid,isLoaded:a,logoImage:c,backgroundColor:o,logoHeight:p.default.isRuntimeBrowser?"80px":"100%",logoWidth:p.default.isRuntimeBrowser?"80px":"100%",children:i})}),[o,i,a,c]);return Object(b.jsx)(s.default,{flex:1,bg:o,children:u})})));h.displayName="AnimatedSplashView";t.default=function(e){var t=e.children,n=Object(l.useState)(!1),r=c()(n,2),i=r[0],s=r[1],d=Object(a.default)("background-default");return p.default.isRuntimeBrowser&&(d=void 0),Object(l.useEffect)((function(){function e(){return(e=o()((function*(){yield m.checkLockStatus(),s(!0),setTimeout(u.hideAsync,50)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(b.jsx)(h,{initDataReady:i,bgColor:d,children:t})}}.call(this,n(58))},259:function(e,t,n){"use strict";n.r(t),n.d(t,"swapTransactionsSlice",(function(){return i})),n.d(t,"addTransaction",(function(){return s})),n.d(t,"updateTransaction",(function(){return l})),n.d(t,"archiveTransaction",(function(){return u})),n.d(t,"setTransactionViewed",(function(){return d})),n.d(t,"clearTransactions",(function(){return f})),n.d(t,"clearAccountTransactions",(function(){return p})),n.d(t,"updateTokenList",(function(){return b})),n.d(t,"setSwapMaintain",(function(){return m})),n.d(t,"setLimitOrderMaintain",(function(){return h})),n.d(t,"setSwapChartMode",(function(){return j})),n.d(t,"setSwapFeePresetIndex",(function(){return O})),n.d(t,"setSlippage",(function(){return g})),n.d(t,"setCoingeckoIds",(function(){return v})),n.d(t,"setRecommendedSlippage",(function(){return y})),n.d(t,"setWrapperTokens",(function(){return x})),n.d(t,"setApprovalIssueTokens",(function(){return w})),n.d(t,"setPayments",(function(){return _})),n.d(t,"setDefaultPayment",(function(){return k})),n.d(t,"setReservedNetworkFees",(function(){return I})),n.d(t,"addLimitOrderTransaction",(function(){return S})),n.d(t,"resetLimitOrderTransactions",(function(){return T})),n.d(t,"updateLimitOrderTransaction",(function(){return P})),n.d(t,"deleteLimitOrderTransaction",(function(){return C}));var r=n(13),o=n.n(r),a=n(128),i=Object(a.createSlice)({name:"swapTransactions",initialState:{transactions:{},swapFeePresetIndex:"1"},reducers:{addTransaction:function(e,t){var n,r=t.payload,a=r.accountId,i=r.networkId,c=r.transaction;e.transactions[a]||(e.transactions[a]={});var s=null!=(n=e.transactions[a][i])?n:[],l=[c].concat(o()(s));l.length>30&&(l.length=30),e.transactions[a][i]=l},updateTransaction:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.hash,c=r.transaction,s=(null==(n=e.transactions[o])?void 0:n[a]).filter((function(e){return e.hash===i}))[0];s&&(c.status&&(s.status=c.status),c.confirmedTime&&(s.confirmedTime=c.confirmedTime),c.destinationTransactionHash&&(s.destinationTransactionHash=c.destinationTransactionHash),c.networkFee&&(s.networkFee=c.networkFee),c.actualReceived&&(s.actualReceived=c.actualReceived))},archiveTransaction:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.txs;(null==(n=e.transactions[o])?void 0:n[a]).forEach((function(e){i.includes(e.hash)&&(e.archive=!0)}))},setTransactionViewed:function(e,t){var n=t.payload.txids;Object.values(e.transactions).reduce((function(e,t){return e.concat.apply(e,o()(Object.values(t)))}),[]).forEach((function(e){n.includes(e.hash)&&(e.viewed=!0)}))},clearTransactions:function(e){e.transactions={}},clearAccountTransactions:function(e,t){var n=t.payload.accountId;e.transactions[n]={}},updateTokenList:function(e,t){e.tokenList=t.payload},setSwapMaintain:function(e,t){e.swapMaintain=t.payload},setLimitOrderMaintain:function(e,t){e.limitOrderMaintain=t.payload},setSwapChartMode:function(e,t){e.swapChartMode=t.payload},setSwapFeePresetIndex:function(e,t){e.swapFeePresetIndex=t.payload},setSlippage:function(e,t){e.slippage=t.payload},setCoingeckoIds:function(e,t){e.coingeckoIds=t.payload},setRecommendedSlippage:function(e,t){e.recommendedSlippage=t.payload},setWrapperTokens:function(e,t){e.wrapperTokens=t.payload},setApprovalIssueTokens:function(e,t){e.approvalIssueTokens=t.payload},setPayments:function(e,t){e.payments=t.payload},setDefaultPayment:function(e,t){e.defaultPayment=t.payload},setReservedNetworkFees:function(e,t){e.reservedNetworkFees=t.payload},addLimitOrderTransaction:function(e,t){var n,r,a=t.payload,i=a.accountId,c=a.networkId,s=a.limitOrder;e.limitOrderDetails||(e.limitOrderDetails={}),e.limitOrderDetails[i]||(e.limitOrderDetails[i]={});var l=null!=(n=null==(r=e.limitOrderDetails[i])?void 0:r[c])?n:[],u=[s].concat(o()(l));u.length>30&&(u.length=30),e.limitOrderDetails[i][c]=u},resetLimitOrderTransactions:function(e,t){var n=t.payload,r=n.accountId,o=n.networkId,a=n.limitOrders;e.limitOrderDetails||(e.limitOrderDetails={}),e.limitOrderDetails[r]||(e.limitOrderDetails[r]={}),e.limitOrderDetails[r][o]=a},deleteLimitOrderTransaction:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.orderHash;if(e.limitOrderDetails){var c=null==(n=e.limitOrderDetails[o])?void 0:n[a];c&&0!==c.length&&(c=c.filter((function(e){return e.orderHash!==i})),e.limitOrderDetails[o][a]=c)}},updateLimitOrderTransaction:function(e,t){var n,r,o,a=t.payload,i=a.orderHash,c=a.networkId,s=a.accountId,l=a.details,u=(null!=(n=null==(r=e.limitOrderDetails)||null==(o=r[s])?void 0:o[c])?n:[]).find((function(e){return e.orderHash===i}));u&&(l.remainingFillable&&(u.remainingFillable=l.remainingFillable),l.canceled&&(u.canceled=l.canceled))}}}),c=i.actions,s=c.addTransaction,l=c.updateTransaction,u=c.archiveTransaction,d=c.setTransactionViewed,f=c.clearTransactions,p=c.clearAccountTransactions,b=c.updateTokenList,m=c.setSwapMaintain,h=c.setLimitOrderMaintain,j=c.setSwapChartMode,O=c.setSwapFeePresetIndex,g=c.setSlippage,v=c.setCoingeckoIds,y=c.setRecommendedSlippage,x=c.setWrapperTokens,w=c.setApprovalIssueTokens,_=c.setPayments,k=c.setDefaultPayment,I=c.setReservedNetworkFees,S=c.addLimitOrderTransaction,T=c.resetLimitOrderTransactions,P=c.updateLimitOrderTransaction,C=c.deleteLimitOrderTransaction;t.default=i.reducer},2599:function(e,t,n){"use strict";n.r(t);var r=n(109),o=n(48),a=n(2),i=n.n(a),c=n(215),s=n(4),l=n.n(s),u=n(1),d=n(88),f=n(151),p=n(104),b=n(17),m=n(25),h=n(46),j=n(0);t.default=function(e){var t,n=e.deleteWallet,a=e.onClose,s=Object(d.default)(),O=b.default.engine,g=b.default.serviceAccount,v=Object(m.useNavigationActions)().closeWalletSelector,y=null!=n?n:{},x=y.walletId,w=y.password,_=y.hardware,k=Object(u.useState)(!1),I=l()(k,2),S=I[0],T=I[1],P=Object(u.useState)(null!=(t=!!_)&&t),C=l()(P,2),M=C[0],A=C[1],E=Object(u.useMemo)((function(){return _?_.isPassphrase?s.formatMessage({id:"dialog__delete_hardware_passphrase_wallet_desc"}):s.formatMessage({id:"dialog__delete_hardware_wallet_desc"}):s.formatMessage({id:"dialog__delete_wallet_desc"})}),[_,s]);return Object(j.jsx)(r.default,{visible:!0,canceledOnTouchOutside:!1,onClose:function(){A(!1),null==a||a()},contentProps:{iconType:"danger",title:s.formatMessage({id:!_||null!=_&&_.isPassphrase?"action__delete_wallet":"action__delete_device"}),content:E,input:_?void 0:Object(j.jsx)(c.default,{w:"full",mt:"4",isChecked:M,defaultIsChecked:!1,onChange:function(e){A(e)},title:s.formatMessage({id:"checkbox__i_have_written_down_phrase"}),description:s.formatMessage({id:"checkbox__i_have_written_down_phrase_desc"})})},footerButtonProps:{secondaryActionProps:{size:"xl"},primaryActionProps:{size:"xl",type:"destructive",children:s.formatMessage({id:"action__remove"}),isLoading:S,disabled:!_&&!M,isDisabled:!_&&!M},onPrimaryActionPress:function(){var e=i()((function*(e){var t=e.onClose;x&&(T(!0),yield Object(h.wait)(100),p.default.clear(p.ETimelinePerfNames.removeWallet),p.default.mark({name:p.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> remove wallet start ======================="}),O.getWallet(x).then(function(){var e=i()((function*(e){p.default.mark({name:p.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> engine.getWallet DONE"}),!_||null!=_&&_.isPassphrase||!e.associatedDevice?yield g.removeWallet(x,w):yield g.removeWalletAndDevice(x,e.associatedDevice),p.default.mark({name:p.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> serviceAccount.removeWallet DONE"}),o.default.show({title:s.formatMessage({id:"msg__wallet_deleted"},{0:e.name})}),f.appUIEventBus.emit(f.AppUIEventBusNames.RemoveWallet,e),null==t||t(),setTimeout((function(){v()}),100)}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.default.show({title:s.formatMessage({id:"msg__unknown_error"})})})).finally((function(){T(!1),A(!1),p.default.mark({name:p.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> remove wallet end"})})))}));return function(t){return e.apply(this,arguments)}}()}})}},260:function(e,t,n){"use strict";n.r(t),n.d(t,"TxListActionBoxTitleText",(function(){return j})),n.d(t,"TxListActionBoxContentText",(function(){return O})),n.d(t,"TxListActionBoxSubTitleText",(function(){return g})),n.d(t,"TxListActionBoxExtraText",(function(){return v})),n.d(t,"TxListActionBox",(function(){return y}));var r=n(121),o=n(41),a=n(12),i=n(3),c=n.n(i),s=n(20),l=n(69),u=n(25),d=n(1050),f=n(643),p=n(381),b=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){return Object(b.jsx)(s.default,h({typography:"Body1Strong"},e))}function O(e){return Object(b.jsx)(s.default,h({typography:"Body1Strong",textAlign:"right"},e))}function g(e){return Object(b.jsx)(s.default,h({typography:"Body2",color:"text-subdued"},e))}function v(e){return Object(b.jsx)(s.default,h({testID:"TxListActionBoxExtraText",numberOfLines:2,isTruncated:!0,typography:"Body2",color:"text-subdued",textAlign:"right"},e))}function y(e){var t,n=e.icon,i=e.iconInfo,c=e.title,s=e.titleInfo,m=e.content,h=e.extra,y=e.subTitle,x=e.footer,w=e.symbol,_=e.network,k=Object(u.useAppSelector)((function(e){return e.general})).activeNetworkId,I=null!=(t=Object(p.fallbackTextComponent)(c,j))?t:Object(b.jsx)(f.TxActionElementTitleNormal,{titleInfo:s}),S=null!=n?n:Object(b.jsx)(d.TxActionElementIconLarge,{iconInfo:i,name:w}),T=Object(p.fallbackTextComponent)(m,O),P=Object(p.fallbackTextComponent)(y,g),C=Object(p.fallbackTextComponent)(h,v),M=!!C;return Object(b.jsxs)(a.default,{children:[Object(b.jsxs)(o.default,{space:2,children:[S?Object(b.jsx)(a.default,{py:"6px",children:S}):null,Object(b.jsxs)(a.default,{flex:1,flexDirection:"column",justifyContent:"center",children:[Object(b.jsxs)(o.default,{space:2,flexDirection:"row",justifyContent:"space-between",children:[Object(b.jsx)(a.default,{maxW:T?"50%":"100%",children:I}),!!T&&Object(b.jsx)(a.default,{flex:1,justifyContent:"flex-end",children:T})]}),Boolean(P||C)&&Object(b.jsxs)(o.default,{space:2,flexDirection:"row",justifyContent:"space-between",children:[Object(b.jsxs)(o.default,{testID:"TxListActionBox-subTitleView",flex:M?void 0:1,alignItems:"center",children:[Object(l.isAllNetworks)(k)&&null!=_&&_.logoURI?Object(b.jsx)(r.default,{token:{logoURI:null==_?void 0:_.logoURI},showInfo:!1,size:4,mr:"2px"}):null,P]}),M&&Object(b.jsx)(a.default,{testID:"TxListActionBox-extraView",flex:1,children:C})]})]})]}),x?Object(b.jsx)(a.default,{pl:"40px",children:x}):null]})}},2600:function(e,t,n){"use strict";n.r(t);var r=n(109),o=n(76),a=n(48),i=n(1),c=n(88),s=n(23),l=n(17),u=n(80),d=n(90),f=n(0);t.default=function(e){var t=e.deviceId,n=e.onlyPassphrase,p=e.onClose,b=Object(c.default)(),m=l.default.serviceAccount,h=l.default.engine;return Object(i.useEffect)((function(){h.getHWDevice(t).then((function(e){var t;if(!e)throw new d.DeviceNotFind;if(null==e||!e.features)throw new d.DeviceNotFind;return m.createHWWallet({features:JSON.parse(e.features),onlyPassphrase:n,connectId:null!=(t=e.mac)?t:""})})).catch((function(e){var t=e||{},n=t.className,r=t.data;if(n!==s.OneKeyErrorClassNames.OneKeyAlreadyExistWalletError)u.deviceUtils.showErrorToast(e);else{var o=(r||{}).walletName;o&&a.default.show({title:b.formatMessage({id:"msg__wallet_already_exist_activated_automatically"},{0:o})},{type:"default"})}})).finally((function(){null==p||p()}))}),[]),Object(f.jsx)(r.default,{visible:!0,contentProps:{icon:Object(f.jsx)(o.default,{size:"lg"}),title:b.formatMessage({id:"model__create_passphrase_wallet"})},footerButtonProps:{hidePrimaryAction:!0,hideSecondaryAction:!0}})}},2601:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(100),i=n(2),c=n.n(i),s=n(1),l=n(11),u=(n(24),n(625)),d=n(25),f=n(16),p=n(190),b=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.walletId,n=e.networkId,r=Object(d.useNavigation)(),o=Object(d.useNetwork)({networkId:n}).network,i=Object(s.useMemo)((function(){return(null==o?void 0:o.impl)===l.IMPL_LIGHTNING}),[null==o?void 0:o.impl]),m=Object(u.useCreateAccountInWallet)({networkId:n,walletId:t,isFromAccountSelector:!0}).createAccount,j=Object(s.useCallback)(c()((function*(){t&&(yield m())})),[t,m]),O=Object(s.useCallback)((function(){setTimeout((function(){r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.CreateAccount,params:{screen:f.CreateAccountModalRoutes.CreateAccountAuthentication,params:{walletId:t,onDone:function(e){setTimeout((function(){r.replace(f.CreateAccountModalRoutes.RecoverAccountsList,{walletId:t,network:n,password:e,purpose:"",template:""})}),20)}}}})}))}),[r,t,n]),g=Object(s.useCallback)((function(){setTimeout((function(){r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.CreateAccount,params:{screen:f.CreateAccountModalRoutes.CreateAccountAuthentication,params:{walletId:t,onDone:function(e){setTimeout((function(){r.replace(f.CreateAccountModalRoutes.BulkCopyAddresses,{walletId:t,networkId:n,password:e,entry:"accountSelector"})}),20)}}}})}))}),[r,t,n]),v=Object(s.useMemo)((function(){return[{id:"action__add_account",onPress:j,icon:"PlusMini"},!i&&{id:"action__manage_account",onPress:O,icon:"SquaresPlusMini"},!i&&function(){return Object(b.jsx)(a.default,{my:1})},!i&&{id:"title__bulk_copy_addresses",onPress:g,icon:"Square2StackOutline"}]}),[j,O,g,i]);return Object(b.jsx)(p.default,h(h({options:v},e),{},{menuWidth:239}))}},261:function(e,t,n){"use strict";n.r(t),n.d(t,"walletSlice",(function(){return u})),n.d(t,"setOnBoardingLoadingBehindModal",(function(){return f})),n.d(t,"updateWallets",(function(){return p})),n.d(t,"updateWallet",(function(){return b})),n.d(t,"addWallet",(function(){return m})),n.d(t,"updateNetworks",(function(){return h})),n.d(t,"updateAccounts",(function(){return j})),n.d(t,"updateAccountDetail",(function(){return O})),n.d(t,"addDisplayPassphraseWallet",(function(){return g})),n.d(t,"clearDisplayPassphraseWallet",(function(){return v}));var r=n(13),o=n.n(r),a=n(3),i=n.n(a),c=n(128);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(c.createSlice)({name:"runtime",initialState:{onBoardingLoadingBehindModal:!1,wallets:[],networks:[],accounts:[],displayPassphraseWalletIdList:[]},reducers:{setOnBoardingLoadingBehindModal:function(e,t){e.onBoardingLoadingBehindModal=t.payload},updateAccountDetail:function(e,t){var n=t.payload,r=n.id,o=n.name,a=e.accounts.findIndex((function(e){return e.id===r}));e.accounts[a]=l(l({},e.accounts[a]),{},{name:o})},updateAccounts:function(e,t){e.accounts=t.payload},updateNetworks:function(e,t){e.networks=t.payload},updateWallets:function(e,t){e.wallets=t.payload},updateWallet:function(e,t){e.wallets=e.wallets.map((function(e){return e.id===t.payload.id?t.payload:e}))},addWallet:function(e,t){e.wallets.push(t.payload)},addDisplayPassphraseWallet:function(e,t){e.displayPassphraseWalletIdList.includes(t.payload)||(e.displayPassphraseWalletIdList=[].concat(o()(e.displayPassphraseWalletIdList),[t.payload]))},clearDisplayPassphraseWallet:function(e){e.displayPassphraseWalletIdList=[]}}}),d=u.actions,f=d.setOnBoardingLoadingBehindModal,p=d.updateWallets,b=d.updateWallet,m=d.addWallet,h=d.updateNetworks,j=d.updateAccounts,O=d.updateAccountDetail,g=d.addDisplayPassphraseWallet,v=d.clearDisplayPassphraseWallet;t.default=u.reducer},2627:function(e,t,n){"use strict";n.r(t),n.d(t,"parseUriScheme",(function(){return l}));var r=n(3),o=n.n(r),a=n(824),i=n(19);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){try{var t=Object(a.parse)(e).protocol;return"bitcoin:"===t||"bitcoincash:"===t?s(s({},function(e){try{var t=new URL(e);return{address:t.pathname,amount:t.searchParams.get("amount")||"",label:t.searchParams.get("label")||"",message:t.searchParams.get("message")||""}}catch(n){throw new Error("parseBitcoinUri : "+e)}}(e)),{},{protocol:t}):"ethereum:"===t&&s(s({},function(e){try{var t=new URL(e);return{address:t.pathname,contractAddress:t.searchParams.get("contractAddress")||"",data:t.searchParams.get("data")||"",gas:t.searchParams.get("gas")||""}}catch(n){throw new Error("parseEthereumUri : "+e)}}(e)),{},{protocol:t})}catch(n){return i.default.common.error(n),!1}}},263:function(e,t,n){"use strict";n.r(t),n.d(t,"MARKET_FAVORITES_CATEGORYID",(function(){return b})),n.d(t,"MARKET_SEARCH_HISTORY_MAX",(function(){return m})),n.d(t,"MarketCategoryType",(function(){return p})),n.d(t,"MarketSlicer",(function(){return j})),n.d(t,"saveMarketCategorys",(function(){return g})),n.d(t,"updateMarketTokens",(function(){return v})),n.d(t,"updateSelectedCategory",(function(){return y})),n.d(t,"updateMarketChats",(function(){return x})),n.d(t,"updateMarketTokenDetail",(function(){return w})),n.d(t,"cancleMarketFavorite",(function(){return _})),n.d(t,"saveMarketFavorite",(function(){return k})),n.d(t,"moveTopMarketFavorite",(function(){return I})),n.d(t,"updateMarketListSort",(function(){return S})),n.d(t,"updateMarketTokensBaseInfo",(function(){return T})),n.d(t,"switchMarketTopTab",(function(){return P})),n.d(t,"syncMarketSearchTokenHistorys",(function(){return C})),n.d(t,"clearMarketSearchTokenHistory",(function(){return M})),n.d(t,"saveMarketSearchTokenHistory",(function(){return A})),n.d(t,"updateSearchTabCategory",(function(){return E})),n.d(t,"updateSearchTokens",(function(){return D})),n.d(t,"updateSearchKeyword",(function(){return R})),n.d(t,"updateMarketTokenPriceSubscribe",(function(){return N}));var r=n(13),o=n.n(r),a=n(3),i=n.n(a),c=n(128),s=n(690),l=n.n(s),u=n(749);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p,b="favorites",m=10;!function(e){e.MRKET_CATEGORY_TYPE_TAB="tab",e.MRKET_CATEGORY_TYPE_SEARCH="search"}(p||(p={}));var h={categorys:{},marketTokens:{},listSort:null,charts:{},details:{},searchTokens:{},marketTopTabName:void 0};var j=Object(c.createSlice)({name:"market",initialState:h,reducers:{saveMarketCategorys:function(e,t){t.payload.forEach((function(t){var n=t.recommendedTokens,r=f({},t);null!=n&&n.length&&(r.recommendedTokens=n.map((function(e){return e.symbol=e.symbol?e.symbol.toUpperCase():"",e})));var o=e.categorys[t.categoryId];o?(o.name=t.name,o.recommendedTokens=t.recommendedTokens,o.type=t.type):o=r,e.categorys[t.categoryId]=o}))},updateMarketTokens:function(e,t){var n,r,o=t.payload,a=o.categoryId,i=o.marketTokens,c=e.categorys;if(a){var s=c[a];if(s){var l=i.map((function(e){return e.coingeckoId}));s.coingeckoIds?(n=s.coingeckoIds,r=l,n.length===r.length&&n.every((function(e,t){return e===r[t]}))||null!==e.listSort||(s.coingeckoIds=l)):s.coingeckoIds=l}}var u=c[b];i.forEach((function(t){var n;t.favorited=u&&(null==(n=u.coingeckoIds)?void 0:n.includes(t.coingeckoId)),t.symbol=t.symbol?t.symbol.toUpperCase():"";var r=e.marketTokens[t.coingeckoId];r?Object.assign(r,t):e.marketTokens[t.coingeckoId]=t}))},updateSelectedCategory:function(e,t){var n=t.payload;e.selectedCategoryId=n},updateSearchTabCategory:function(e,t){var n=t.payload;e.searchTabCategoryId=n},saveMarketFavorite:function(e,t){var n=t.payload,r=e.categorys[b];n.forEach((function(t){var n,o;!r||null!=(n=r.coingeckoIds)&&n.includes(t)||(null==(o=r.coingeckoIds)||o.push(t));e.marketTokens[t]?e.marketTokens[t].favorited=!0:e.marketTokens[t]={favorited:!0,coingeckoId:t}}))},cancleMarketFavorite:function(e,t){var n=t.payload,r=e.categorys[b];if(r){var o,a,i=null==(o=r.coingeckoIds)?void 0:o.indexOf(n);if(void 0!==i&&-1!==i)null==(a=r.coingeckoIds)||a.splice(i,1)}e.marketTokens[n].favorited=!1},moveTopMarketFavorite:function(e,t){var n=t.payload,r=e.categorys[b];if(r){var a=r.coingeckoIds||[],i=null==a?void 0:a.indexOf(n);void 0!==i&&-1!==i&&(null==a||a.splice(i,1),r.coingeckoIds=[n].concat(o()(a)))}},updateMarketChats:function(e,t){var n=t.payload,r=n.coingeckoId,o=n.chart,a=n.days;e.charts[r]=e.charts[r]||{},e.charts[r][a]=o},updateMarketTokenDetail:function(e,t){var n=t.payload,r=n.coingeckoId,o=n.data,a=e.details[r]||{};e.details[r]=f(f({},a),o)},updateMarketListSort:function(e,t){var n=t.payload;if(e.listSort=n,n){var r=e.selectedCategoryId,a=e.marketTokens,i=e.categorys;if(r){var c=i[r].coingeckoIds;if(c){var s=o()(c);s=s.sort((function(e,t){switch(n.id){case u.EMarketCellData.TokenInfo:var r,o,i,c,s,d,f,p;return"down"===n.direction?l()({insensitive:!0})(null!=(r=null==(o=a[t])?void 0:o.symbol)?r:"",null!=(i=null==(c=a[e])?void 0:c.symbol)?i:""):l()({insensitive:!0})(null!=(s=null==(d=a[e])?void 0:d.symbol)?s:"",null!=(f=null==(p=a[t])?void 0:p.symbol)?f:"");case u.EMarketCellData.TokenPrice:var b,m,h,j,O,g,v,y;return"down"===n.direction?(null!=(b=null==(m=a[t])?void 0:m.price)?b:0)-(null!=(h=null==(j=a[e])?void 0:j.price)?h:0):(null!=(O=null==(g=a[e])?void 0:g.price)?O:0)-(null!=(v=null==(y=a[t])?void 0:y.price)?v:0);case u.EMarketCellData.Token24hChange:case u.EMarketCellData.TokenSparklineChart:var x,w,_,k,I,S,T,P;return"down"===n.direction?(null!=(x=null==(w=a[t])?void 0:w.priceChangePercentage24H)?x:0)-(null!=(_=null==(k=a[e])?void 0:k.priceChangePercentage24H)?_:0):(null!=(I=null==(S=a[e])?void 0:S.priceChangePercentage24H)?I:0)-(null!=(T=null==(P=a[t])?void 0:P.priceChangePercentage24H)?T:0);case u.EMarketCellData.Token24hVolume:var C,M,A,E,D,R,N,L;return"down"===n.direction?(null!=(C=null==(M=a[t])?void 0:M.totalVolume)?C:0)-(null!=(A=null==(E=a[e])?void 0:E.totalVolume)?A:0):(null!=(D=null==(R=a[e])?void 0:R.totalVolume)?D:0)-(null!=(N=null==(L=a[t])?void 0:L.totalVolume)?N:0);case u.EMarketCellData.TokenMarketCap:var B,F,U,H,W,V,z,G;return"down"===n.direction?(null!=(B=null==(F=a[t])?void 0:F.marketCap)?B:0)-(null!=(U=null==(H=a[e])?void 0:H.marketCap)?U:0):(null!=(W=null==(V=a[e])?void 0:V.marketCap)?W:0)-(null!=(z=null==(G=a[t])?void 0:G.marketCap)?z:0);default:return 0}})),e.categorys[r].coingeckoIds=s}}}},updateMarketTokensBaseInfo:function(e,t){t.payload.forEach((function(t){var n,r=e.marketTokens[t.coingeckoId]||{};r.tokens=t.tokens,null!=(n=t.logoURI)&&n.length?r.logoURI=t.logoURI:r.image?r.logoURI=r.image:r.logoURI="",e.marketTokens[t.coingeckoId]=r}))},updateMarketTokenPriceSubscribe:function(e,t){var n=t.payload,r=n.coingeckoIds,o=n.enable;r.forEach((function(t){var n=e.details[t]||{};n.priceSubscribe=o,e.details[t]=n}))},switchMarketTopTab:function(e,t){e.marketTopTabName!==t.payload&&(e.marketTopTabName=t.payload)},saveMarketSearchTokenHistory:function(e,t){var n=t.payload.token,r=e.searchHistory?o()(e.searchHistory):[],a=r.findIndex((function(e){return e.coingeckoId===n.coingeckoId}));-1!==a&&r.splice(a,1),r.length>=m&&r.pop(),e.searchHistory=[n].concat(o()(r))},clearMarketSearchTokenHistory:function(e){e.searchHistory=[]},syncMarketSearchTokenHistorys:function(e,t){e.searchHistory=t.payload.tokens},updateSearchTokens:function(e,t){var n=t.payload,r=n.searchKeyword,o=n.coingeckoIds;e.searchTokens[r]=o},updateSearchKeyword:function(e,t){e.searchKeyword=t.payload}}}),O=j.actions,g=O.saveMarketCategorys,v=O.updateMarketTokens,y=O.updateSelectedCategory,x=O.updateMarketChats,w=O.updateMarketTokenDetail,_=O.cancleMarketFavorite,k=O.saveMarketFavorite,I=O.moveTopMarketFavorite,S=O.updateMarketListSort,T=O.updateMarketTokensBaseInfo,P=O.switchMarketTopTab,C=O.syncMarketSearchTokenHistorys,M=O.clearMarketSearchTokenHistory,A=O.saveMarketSearchTokenHistory,E=O.updateSearchTabCategory,D=O.updateSearchTokens,R=O.updateSearchKeyword,N=O.updateMarketTokenPriceSubscribe;t.default=j.reducer},2633:function(e,t,n){"use strict";n.r(t),n.d(t,"analyticLogEvent",(function(){return i}));var r=n(1572),o=n(2634),a=(n(24),n(1573)),i=function(e,t){if(a.apiKey)return Object(r.logEvent)(function(){var e=Object(o.initializeApp)(a);return Object(r.getAnalytics)(e)}(),e,t)}},2636:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(3714),a=(n(24),n(0));t.default=function(e){var t=e.children,n=Object(o.default)();return Object(r.useEffect)((function(){var e,t,r,o,a;var i=(null!=(e=null==(t=window)||null==(r=t.location)?void 0:r.hash)?e:"").replace(/^#/,"");i&&"/"!==i&&(n(i),null!=(o=window)&&null!=(a=o.location)&&a.hash&&(window.location.hash=""))}),[]),Object(a.jsx)(a.Fragment,{children:t})}},264:function(e,t,n){"use strict";var r,o,a;n.r(t),n.d(t,"EOverviewScanTaskType",(function(){return r})),n.d(t,"OverviewDeFiPoolType",(function(){return o})),n.d(t,"OverviewModalRoutes",(function(){return a})),function(e){e.token="token",e.defi="defi",e.nfts="nfts"}(r||(r={})),function(e){e.Pool="Pool",e.Locked="Locked",e.Farming="Farming",e.Liquidity="Liquidity",e.Staked="Staked",e.Deposited="Deposited",e.Vesting="Vesting",e.Governance="Governance",e.Lending="Lending",e.Borrowed="Borrowed",e.Rewards="Rewards"}(o||(o={})),function(e){e.OverviewProtocolDetail="OverviewProtocolDetail"}(a||(a={}))},2644:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(1),i=n(250),c=n(45),s=(n(1521),n(2444),n(24)),l=n(17),u=n(846),d=n(901),f=n(86),p=n(99),b=n(0),m=function(e){var t=e.launchNotification,n=Object(c.useSettings)().pushNotification,r=l.default.dispatch,m=l.default.serviceNotification,h=Object(a.useCallback)(o()((function*(){if(null==n||!n.pushEnable)return!1;if(s.default.isRuntimeBrowser&&"Notification"in window){if("granted"===Notification.permission)return!0;if("granted"===(yield Notification.requestPermission()))return!0}return r(Object(f.setPushNotificationConfig)({pushEnable:!1})),Object(p.showDialog)(Object(b.jsx)(u.default,{type:"notification"})),!1})),[r,null==n?void 0:n.pushEnable]),j=Object(a.useCallback)(o()((function*(){(yield h())&&s.default.isNativeIOS&&i.default.JPushManager.registerNotification()})),[h]);Object(a.useEffect)((function(){return m.init(t),function(){return m.clear()}}),[m,t]);var O=Object(a.useCallback)((function(e){["background","inactive"].includes(e)||m.clearBadge()}),[m]);return Object(a.useEffect)((function(){m.clearBadge(),null!=n&&n.pushEnable&&j()}),[m,null==n?void 0:n.pushEnable,j]),Object(d.useAppStateChange)(O,{unFilter:!0}),null};m.displayName="NotificationProvider",t.default=Object(a.memo)(m)},2646:function(e,t,n){"use strict";n.r(t),n.d(t,"WhenAppActive",(function(){return c}));var r=n(1),o=n(17),a=n(1253),i=n(0),c=function(){var e=Object(r.useCallback)((function(){o.default.serviceSwap.getSwapConfig(),o.default.serviceSetting.updateRemoteSetting(),o.default.serviceTranslation.fetchData()}),[]);return Object(i.jsx)(a.AppStatusActiveListener,{onActive:e})}},2655:function(e,t,n){"use strict";n.r(t),n.d(t,"RootStackNavigator",(function(){return E}));var r=n(1),o=n(44),a=n(17),i=n(305),c=n(45),s=n(86),l=(n(177),n(1351),n(24),n(1187)),u=n(16),d=n(3),f=n.n(d),p=n(50),b=n(737),m=n(88),h=n(28),j=n(608),O=n.n(j),g=n(719),v=n(475),y=n(234),x=n(0);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=Object(g.createLazyComponent)((function(){return n.e(823).then(n.bind(null,6088))})),I=Object(g.createLazyComponent)((function(){return n.e(825).then(n.bind(null,6089))})),S=Object(g.createLazyComponent)((function(){return n.e(818).then(n.bind(null,6119))})),T=Object(g.createLazyComponent)((function(){return Promise.resolve().then(n.bind(null,2508))})),P=Object(g.createLazyComponent)((function(){return n.e(29).then(n.bind(null,6103))})),C=Object(y.default)(),M=function(e){var t=e.children,n=Object(p.default)(),o=u.RootRoutes.Main,a=Object(r.useMemo)((function(){return _({headerShown:!1},n?b.TransitionPresets.ScaleFromCenterAndroid:b.TransitionPresets.FadeFromBottomAndroid)}),[n]);return Object(x.jsx)(C.Navigator,{initialRouteName:o,screenOptions:a,children:t})},A=function(){var e=Object(m.default)(),t=Object(p.default)();Object(r.useEffect)((function(){"ios"===h.default.OS&&(O.a.setEnable(!0),O.a.setEnableDebugging(!1),O.a.setKeyboardDistanceFromTextField(10),O.a.setLayoutIfNeededOnUpdate(!0),O.a.setEnableAutoToolbar(!0),O.a.setToolbarDoneBarButtonItemText(e.formatMessage({id:"action__done"})),O.a.setToolbarPreviousNextButtonEnable(!1),O.a.setKeyboardAppearance("default"),O.a.setShouldPlayInputClicks(!0))}),[e]);var n=Object(r.useMemo)((function(){return _({presentation:"transparentModal"},Object(v.buildModalOpenAnimationOptions)({isVerticalLayout:t}))}),[t]);return Object(x.jsxs)(M,{children:[Object(x.jsx)(C.Screen,{name:u.RootRoutes.Main,component:S}),Object(x.jsx)(C.Screen,{name:u.RootRoutes.Modal,component:k,options:n}),Object(x.jsx)(C.Screen,{name:u.RootRoutes.Onboarding,component:P,options:{presentation:"fullScreenModal",animation:"fade"}}),Object(x.jsx)(C.Screen,{name:u.RootRoutes.Account,component:T}),Object(x.jsx)(C.Screen,{name:u.RootRoutes.OnLanding,component:I}),Object(x.jsx)(C.Screen,{name:u.RootRoutes.OnLandingWalletConnect,component:I}),!1]})},E=Object(r.memo)((function(){var e=Object(c.useSettings)(),t=e.version,n=e.buildNumber,u=a.default.dispatch,d=(Object(o.useNavigation)(),"4.10.0"!==t||"2023080300"!==n);return Object(r.useEffect)((function(){if(d){0,u(Object(s.updateVersionAndBuildNumber)({version:"4.10.0",buildNumber:"2023080300"}))}}),[u,!0,d]),Object(r.useEffect)((function(){0}),[u]),Object(l.useHtmlPreloadSplashLogoRemove)({isDelay:!0}),Object(x.jsx)(i.AppLock,{children:Object(x.jsx)(A,{})})}));E.displayName="RootStackNavigator";n(1667),n(1666),n(1665),n(1672),n(1664),n(1675),n(1661),n(1676),n(1670),n(1673),n(1669),n(1668)},267:function(e,t,n){"use strict";n.r(t),n.d(t,"mockStorage",(function(){return b}));var r=n(2),o=n.n(r);var a=n(6),i=n.n(a),c=function(){function e(){}var t=e.prototype;return t.getItem=function(){return Promise.resolve(null)},t.setItem=function(){return Promise.resolve(void 0)},t.removeItem=function(){return Promise.resolve(void 0)},t.clear=function(e){return Promise.resolve(void 0)},t.getAllKeys=function(e){return Promise.resolve([])},t.mergeItem=function(e,t,n){return Promise.resolve(void 0)},t.multiGet=function(e,t){return Promise.resolve([])},t.multiMerge=function(e,t){return Promise.resolve(void 0)},t.multiRemove=function(){return Promise.resolve(void 0)},t.multiSet=function(e,t){return Promise.resolve(void 0)},t.flushGetRequests=function(){return Promise.resolve(void 0)},i()(e)}(),s=n(4),l=n.n(s),u=n(2652),d=n(388),f=n.n(d);f.a.config({name:"OneKeyStorage"});var p=new(function(){function e(){this.mutex=new u.Semaphore(1),this.isMigrated=!1,this.migrateFromLocalStorage()}var t=e.prototype;return t.migrateFromLocalStorage=function(){var e=o()((function*(){var e=this;return this.mutex.runExclusive(o()((function*(){if(e.isMigrated)return e.isMigrated=!0,!0;if("undefined"!==typeof window&&window.localStorage){if(yield f.a.ready(),f.a.driver()===f.a.LOCALSTORAGE)return e.isMigrated=!0,!0;if(window.localStorage.getItem("$$ONEKEY_MIGRATED_TO_INDEXED_DB"))return e.isMigrated=!0,!0;if(yield f.a.getItem("persist:ONEKEY_WALLET"))return e.isMigrated=!0,!0;if(f.a.driver()===f.a.LOCALSTORAGE)return e.isMigrated=!0,!0;var t=Object.entries(window.localStorage).map((function(e){var t=l()(e,2),n=t[0],r=t[1];return f.a.setItem(n,r)}));yield Promise.all(t),window.localStorage.setItem("$$ONEKEY_MIGRATED_TO_INDEXED_DB",Date.now().toString(10))}return e.isMigrated=!0,!0})))}));return function(){return e.apply(this,arguments)}}(),t.clear=function(){var e=o()((function*(e){return yield this.migrateFromLocalStorage(),yield f.a.clear(),Promise.resolve(void 0)}));return function(t){return e.apply(this,arguments)}}(),t.getAllKeys=function(){var e=o()((function*(e){return yield this.migrateFromLocalStorage(),f.a.keys()}));return function(t){return e.apply(this,arguments)}}(),t.getItem=function(){var e=o()((function*(e,t){var n;return yield this.migrateFromLocalStorage(),null!=(n=yield f.a.getItem(e,t))?n:null}));return function(t,n){return e.apply(this,arguments)}}(),t.setItem=function(){var e=o()((function*(e,t,n){return yield this.migrateFromLocalStorage(),yield f.a.setItem(e,t,n),Promise.resolve(void 0)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.removeItem=function(){var e=o()((function*(e,t){return yield this.migrateFromLocalStorage(),yield f.a.removeItem(e,t),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.flushGetRequests=function(){var e=o()((function*(){yield this.migrateFromLocalStorage()}));return function(){return e.apply(this,arguments)}}(),t.mergeItem=function(){var e=o()((function*(e,t,n){return yield this.migrateFromLocalStorage(),this.setItem(e,t,n)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.multiGet=function(){var e=o()((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map(function(){var e=o()((function*(e){var t=yield n.getItem(e,void 0);return[e,null!=t?t:null]}));return function(t){return e.apply(this,arguments)}}());return Promise.all(r)}));return function(t,n){return e.apply(this,arguments)}}(),t.multiMerge=function(){var e=o()((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map((function(e){return n.mergeItem(e[0],e[1],void 0)}));return yield Promise.all(r),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.multiRemove=function(){var e=o()((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map((function(e){return n.removeItem(e,void 0)}));return yield Promise.all(r),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.multiSet=function(){var e=o()((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map((function(e){return n.setItem(e[0],e[1],void 0)}));return yield Promise.all(r),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),i()(e)}()),b=new c;t.default=p},2673:function(e,t,n){"use strict";n.r(t);var r=n(474),o=n(76),a=n(2),i=n.n(a),c=n(50),s=n(12),l=n(27),u=n(486),d=n(353),f=n(4),p=n.n(f),b=n(1),m=n(70),h=n(88),j=n(17),O=n(80),g=n(99),v=n(716),y=n(0),x=function(e){var t=e.deviceConnectId,n=e.onClose,r=e.onSuccess,o=e.onError,a=j.default.serviceHardware;return Object(y.jsx)(v.default,{onClose:n,onHandler:function(){return a.applySettings(t,{usePassphrase:!1}).then((function(){null==r||r()})).catch((function(e){null==o||o(e),setTimeout((function(){O.deviceUtils.showErrorToast(e)}),500)}))}})},w=n(1254);function _(e){var t=e.walletId,n=e.deviceId,r=e.deviceConnectId,o=e.deviceType,a=e.deviceFeatures,i=Object(h.default)(),c=j.default.engine,f=j.default.serviceHardware,m=Object(b.useState)(!0),v=p()(m,2),_=v[0],k=v[1],I=Object(b.useState)(!1),S=p()(I,2),T=S[0],P=S[1],C=Object(b.useMemo)((function(){return"classic"===o||"mini"===o}),[o]),M=function(){c.getHWDeviceByWalletId(t).then((function(e){var t,n;k(null!=(t=null==e||null==(n=e.payload)?void 0:n.onDeviceInputPin)&&t)})).catch((function(e){}))};Object(b.useEffect)((function(){P(!0===a.passphrase_protection)}),[a.passphrase_protection]),Object(b.useEffect)((function(){M()}),[]);var A=Object(b.useCallback)((function(){if(n&&r){var e=T,t=!T;Object(g.showOverlay)((function(n){return e?Object(y.jsx)(x,{deviceConnectId:r,onClose:n,onSuccess:function(){P(t),n()},onError:n}):Object(y.jsx)(w.default,{deviceConnectId:r,onClose:n,onSuccess:function(){P(t),n()},onError:n})}))}}),[r,n,T]);return Object(y.jsxs)(s.default,{children:[!!C&&Object(y.jsx)(u.default.Item,{titleColor:"text-default",title:i.formatMessage({id:"content__enter_pin_in_app"}),px:0,py:3,children:Object(y.jsx)(d.default,{labelType:"false",isChecked:!_,onToggle:function(){if(n&&r){var e=!_;k(e),f.setOnDeviceInputPin(r,n,e).catch((function(e){O.deviceUtils.showErrorToast(e)})).finally((function(){M()}))}}})}),Object(y.jsx)(u.default.Item,{titleColor:"text-default",title:i.formatMessage({id:"action__passphrase"}),px:0,py:3,children:Object(y.jsx)(d.default,{labelType:"false",isChecked:T,onToggle:A})}),Object(y.jsx)(l.default.Body2,{color:"text-subdued",children:i.formatMessage({id:"msg__passphrase_open_dsc"})})]})}function k(e){var t=e.walletId,n=e.deviceType,a=e.closeOverlay,u=Object(h.default)(),d=Object(c.default)(),f=j.default.engine,g=j.default.serviceHardware,v=Object(b.useState)(),x=p()(v,2),w=x[0],k=x[1],I=Object(b.useState)(),S=p()(I,2),T=S[0],P=S[1],C=Object(b.useState)(),M=p()(C,2),A=M[0],E=M[1];return Object(b.useEffect)((function(){i()((function*(){try{var e=yield f.getHWDeviceByWalletId(t);if(!e)return;var n,r=null==e?void 0:e.mac;k(null==e?void 0:e.mac),P(null==e?void 0:e.deviceId);try{n=yield g.getFeatures(r)}catch(o){if((o||{}).code!==m.HardwareErrorCode.PollingStop)throw o}yield g.unlockDevice(r),n||(n=yield g.getFeatures(r)),E(n)}catch(o){if((o||{}).code===m.HardwareErrorCode.PollingStop)return;a(),O.deviceUtils.showErrorToast(o,"action__connection_timeout")}}))()}),[a,f,g,t]),Object(y.jsx)(r.default,{closeOverlay:a,showCloseButton:!d,title:u.formatMessage({id:"content__advanced"}),children:T&&w&&A?Object(y.jsx)(_,{walletId:t,deviceId:T,deviceConnectId:w,deviceType:n,deviceFeatures:A,closeOverlay:a}):Object(y.jsxs)(s.default,{justifyContent:"center",alignItems:"center",children:[Object(y.jsx)(o.default,{size:"lg"}),Object(y.jsx)(l.default.DisplayMedium,{mt:8,mb:8,children:u.formatMessage({id:"modal__device_status_check"})})]})})}t.default=function(e){var t=e.walletId,n=e.deviceType;Object(g.showOverlay)((function(e){return Object(y.jsx)(k,{walletId:t,deviceType:n,closeOverlay:e})}))}},268:function(e,t,n){"use strict";n.r(t),n.d(t,"IS_REPLACE_ROUTE_TO_FEE_EDIT",(function(){return r})),n.d(t,"SEND_EDIT_FEE_PRICE_UP_RATIO",(function(){return o})),n.d(t,"FEE_INFO_POLLING_INTERVAL",(function(){return a})),n.d(t,"FEE_LEVEL_TEXT_COLOR_MAP",(function(){return i})),n.d(t,"FEE_LEVEL_BADGE_TYPE_MAP",(function(){return c}));var r=!1,o=1.1,a=6e3,i=["decorative-icon-one","text-warning","decorative-icon-five"],c=["success","warning","critical"]},2705:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ExplorerShortcutEvents",(function(){return r})),n.d(t,"getShortcutsMap",(function(){return o})),n.d(t,"getDisplayKeysMap",(function(){return a})),function(e){e.NewTab="NewTab",e.NewTabAndFocus="NewTabAndFocus",e.JumpToNextTab="JumpToNextTab",e.GobackHistory="GobackHistory",e.GoForwardHistory="GoForwardHistory",e.CloseTab="CloseTab",e.CloseTabOnWinOrLinux="CloseTabOnWinOrLinux"}(r||(r={}));var o=function(e){var t;return(t={})[r.NewTab]={keys:"CmdOrCtrl+N",desc:"New Tab"},t[r.NewTabAndFocus]={keys:"CmdOrCtrl+T",desc:"New Tab"},t[r.JumpToNextTab]={keys:e?"Cmd+Alt+Right":"Ctrl+Tab",desc:"New Tab"},t[r.GobackHistory]={keys:"Alt+Left",desc:"New Tab"},t[r.GoForwardHistory]={keys:"Alt+Right",desc:"New Tab"},t[r.CloseTab]={keys:"CmdOrCtrl+W",desc:"Close Tab"},t[r.CloseTabOnWinOrLinux]={keys:e?null:"Ctrl+F4",desc:"Close Tab"},t},a=function(e){return{CmdOrCtrl:e?"\u2318":"Ctrl",Alt:e?"\u2325":"Alt",Shift:e?"\u21e7":"Shift",Left:"\u2190",Right:"\u2192",Up:"\u2191",Down:"\u2193"}}},274:function(e,t,n){"use strict";n.r(t),n.d(t,"hasHardwareSupported",(function(){return r})),n.d(t,"localAuthenticate",(function(){return o})),n.d(t,"savePassword",(function(){return a})),n.d(t,"getPassword",(function(){return i}));var r=function(){return new Promise((function(e){e(!1)}))},o=function(){return Promise.resolve({success:!1,error:"no supported"})},a=function(e){return Promise.resolve()},i=function(){return Promise.resolve(null)}},277:function(e,t,n){"use strict";n.r(t),n.d(t,"CUSTOM_UI_RESPONSE",(function(){return r})),n.d(t,"UI_REQUEST",(function(){return o}));var r={CUSTOM_CANCEL:"ui-custom_cancel",CUSTOM_REQUEST_PIN_ON_DEVICE:"ui-custom_request_pin_on_device",CUSTOM_NEED_ONEKEY_BRIDGE:"ui-custom_need_onekey_bridge",CUSTOM_FORCE_UPGRADE_FIRMWARE:"ui-custom_force_onekey_bridge",CUSTOM_NEED_UPGRADE_FIRMWARE:"ui-custom_need_upgrade_firmware",CUSTOM_NEED_OPEN_PASSPHRASE:"ui-custom_need_open_passphrase",CUSTOM_NEED_CLOSE_PASSPHRASE:"ui-custom_need_close_passphrase"},o={REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_BUTTON:"ui-button",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",CLOSE_UI_WINDOW:"ui-close_window",BLUETOOTH_PERMISSION:"ui-bluetooth_permission",LOCATION_PERMISSION:"ui-location_permission",LOCATION_SERVICE_PERMISSION:"ui-location_service_permission",FIRMWARE_PROGRESS:"ui-firmware-progress"}},2777:function(e,t){},2782:function(e,t){var n=void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"web",slug:"web",version:"0.0.1",web:{},description:"Multi-chain support for BTC/ETH/BNB/NEAR/Polygon/Solana/Avalanche/Fantom and others",sdkVersion:"48.0.0",platforms:["ios","android","web"]},CI:"true"}).JEST_WORKER_ID||!1;e.exports={isJest:n,isDev:!1,isProduction:!0,isWeb:!0,isWebEmbed:!1,isDesktop:!1,isExtension:!1,isNative:!1,isExtChrome:!1,isExtFirefox:!1}},2820:function(e,t){},2851:function(e,t){},2858:function(e,t){},288:function(e,t,n){"use strict";n.r(t),n.d(t,"hardwareSlice",(function(){return s})),n.d(t,"addConnectedConnectId",(function(){return u})),n.d(t,"removeConnectedConnectId",(function(){return d})),n.d(t,"setHardwarePopup",(function(){return f})),n.d(t,"closeHardwarePopup",(function(){return p})),n.d(t,"updateDevicePassphraseOpenedState",(function(){return b})),n.d(t,"setUpdateFirmwareStep",(function(){return m})),n.d(t,"setPendingRememberWalletConnectId",(function(){return h})),n.d(t,"setPreviousAddress",(function(){return j})),n.d(t,"clearPreviousAddress",(function(){return O}));var r=n(13),o=n.n(r),a=n(128),i=n(24),c={connected:[],passphraseOpened:[],lastCheckUpdateTime:{},updateFirmwareStep:"",pendingRememberWalletConnectId:void 0,previousAddress:void 0},s=Object(a.createSlice)({name:"hardware",initialState:c,reducers:{addConnectedConnectId:function(e,t){-1===e.connected.indexOf(t.payload)&&(e.connected=[].concat(o()(e.connected),[t.payload]))},removeConnectedConnectId:function(e,t){e.connected=e.connected.filter((function(e){return e!==t.payload}))},setHardwarePopup:function(e,t){i.default.isExtensionBackground||n(1204).default(t.payload)},closeHardwarePopup:function(){i.default.isExtensionBackground||n(1204).closeHardwarePopup()},updateDevicePassphraseOpenedState:function(e,t){t.payload.opened?-1===e.passphraseOpened.indexOf(t.payload.deviceId)&&(e.passphraseOpened=[].concat(o()(e.passphraseOpened),[t.payload.deviceId])):e.passphraseOpened=e.passphraseOpened.filter((function(e){return e!==t.payload.deviceId}))},setUpdateFirmwareStep:function(e,t){e.updateFirmwareStep=t.payload},setPendingRememberWalletConnectId:function(e,t){e.pendingRememberWalletConnectId=t.payload},setPreviousAddress:function(e,t){e.previousAddress=t.payload},clearPreviousAddress:function(e){e.previousAddress=void 0}}}),l=s.actions,u=l.addConnectedConnectId,d=l.removeConnectedConnectId,f=l.setHardwarePopup,p=l.closeHardwarePopup,b=l.updateDevicePassphraseOpenedState,m=l.setUpdateFirmwareStep,h=l.setPendingRememberWalletConnectId,j=l.setPreviousAddress,O=l.clearPreviousAddress;t.default=s.reducer},291:function(e,t,n){"use strict";n.r(t),n.d(t,"discoverSlice",(function(){return u})),n.d(t,"updateHistory",(function(){return f})),n.d(t,"updateFirstRemindDAPP",(function(){return p})),n.d(t,"addWebSiteHistory",(function(){return b})),n.d(t,"updateWebSiteHistory",(function(){return m})),n.d(t,"setDappHistory",(function(){return h})),n.d(t,"removeDappHistory",(function(){return j})),n.d(t,"removeWebSiteHistory",(function(){return O})),n.d(t,"clearHistory",(function(){return g})),n.d(t,"setShowBookmark",(function(){return v})),n.d(t,"cleanOldState",(function(){return y})),n.d(t,"setHomeData",(function(){return x})),n.d(t,"setUserBrowserHistory",(function(){return w})),n.d(t,"removeUserBrowserHistory",(function(){return _})),n.d(t,"addBookmark",(function(){return k})),n.d(t,"removeBookmark",(function(){return I})),n.d(t,"updateBookmark",(function(){return S})),n.d(t,"resetBookmarks",(function(){return T})),n.d(t,"setFavoritesMigrated",(function(){return P})),n.d(t,"setNetworkPrice",(function(){return C}));var r=n(3),o=n.n(r),a=n(128);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){if(e)try{return new URL(e).hostname.toLowerCase()}catch(t){return}}function l(e,t){var n=e||{},r=n.title,o=n.url,a=n.favicon,i=t||{},c=i.title,s=i.url,l=i.favicon;return{title:c&&""!==c?c:r,url:s&&""!==s?s:o,favicon:l&&""!==l?l:a}}var u=Object(a.createSlice)({name:"discover",initialState:{history:{},firstRemindDAPP:!0,dappHistory:{}},reducers:{updateHistory:function(e,t){var n,r=e.history[t.payload];r?e.history[t.payload]={clicks:(null!=(n=null==r?void 0:r.clicks)?n:1)+1,timestamp:(new Date).getTime()}:e.history[t.payload]={clicks:1,timestamp:(new Date).getTime()}},addWebSiteHistory:function(e,t){var n=t.payload.keyUrl;if(n||(n=s(t.payload.webSite.url)),n){var r,o,a,i=e.history[n];if(i)e.history[n]={webSite:l(null==i?void 0:i.webSite,null==t||null==(r=t.payload)?void 0:r.webSite),clicks:(null!=(o=null==i?void 0:i.clicks)?o:1)+1,timestamp:(new Date).getTime()};else e.history[n]={webSite:l(void 0,null==t||null==(a=t.payload)?void 0:a.webSite),clicks:1,timestamp:(new Date).getTime()}}},removeWebSiteHistory:function(e,t){delete e.history[t.payload]},updateWebSiteHistory:function(e,t){var n=t.payload.keyUrl;if(n||(n=s(t.payload.webSite.url)),n&&function(e,t){if(!t)return!1;try{return new URL(t).hostname.toLowerCase()===e}catch(n){return!1}}(n,t.payload.webSite.url)){var r,o=e.history[n];if(o&&o.webSite)e.history[n]=c(c({},o),{},{webSite:l(null==o?void 0:o.webSite,null==t||null==(r=t.payload)?void 0:r.webSite)})}},updateFirstRemindDAPP:function(e,t){e.firstRemindDAPP=t.payload},setDappHistory:function(e,t){e.dappHistory||(e.dappHistory={});var n,r=e.dappHistory[t.payload];r?e.dappHistory[t.payload]={clicks:(null!=(n=null==r?void 0:r.clicks)?n:1)+1,timestamp:(new Date).getTime()}:e.dappHistory[t.payload]={clicks:1,timestamp:(new Date).getTime()}},removeDappHistory:function(e,t){e.dappHistory||(e.dappHistory={}),delete e.dappHistory[t.payload]},clearHistory:function(e){e.dappHistory={},e.userBrowserHistories=[]},addBookmark:function(e,t){e.bookmarks||(e.bookmarks=[]),e.bookmarks.map((function(e){return e.url})).includes(t.payload.url)||(e.bookmarks=[t.payload].concat(e.bookmarks))},updateBookmark:function(e,t){e.bookmarks||(e.bookmarks=[]);var n=e.bookmarks.find((function(e){return e.id===t.payload.id}));if(n){var r=t.payload,o=r.url,a=r.title,i=r.icon;o&&(n.url=o),a&&(n.title=a),i&&(n.icon=i)}},resetBookmarks:function(e,t){e.bookmarks=t.payload},removeBookmark:function(e,t){e.bookmarks||(e.bookmarks=[]);var n=e.bookmarks,r=n.findIndex((function(e){return e.url===t.payload.url}));r>=0&&n.splice(r,1),e.bookmarks=n},setShowBookmark:function(e,t){e.showBookmark=t.payload},cleanOldState:function(e){e.dappItems=void 0,e.listedCategories=void 0,e.listedTags=void 0,e.categoryDapps=void 0,e.tagDapps=void 0},setHomeData:function(e,t){e.home=t.payload},setUserBrowserHistory:function(e,t){e.userBrowserHistories||(e.userBrowserHistories=[]);var n=e.userBrowserHistories.findIndex((function(e){return e.url===t.payload.url}));if(n<0)e.userBrowserHistories.unshift(t.payload);else{var r=c(c({},e.userBrowserHistories[n]),t.payload);e.userBrowserHistories.splice(n,1),e.userBrowserHistories.unshift(r)}},removeUserBrowserHistory:function(e,t){e.userBrowserHistories&&(e.userBrowserHistories=e.userBrowserHistories.filter((function(e){return e.url!==t.payload.url})))},setFavoritesMigrated:function(e){e.favoritesMigrated=!0},setNetworkPrice:function(e,t){var n=t.payload;e.networkPrices||(e.networkPrices={}),e.networkPrices[n.networkId]=n.price}}}),d=u.actions,f=d.updateHistory,p=d.updateFirstRemindDAPP,b=d.addWebSiteHistory,m=d.updateWebSiteHistory,h=d.setDappHistory,j=d.removeDappHistory,O=d.removeWebSiteHistory,g=d.clearHistory,v=d.setShowBookmark,y=d.cleanOldState,x=d.setHomeData,w=d.setUserBrowserHistory,_=d.removeUserBrowserHistory,k=d.addBookmark,I=d.removeBookmark,S=d.updateBookmark,T=d.resetBookmarks,P=d.setFavoritesMigrated,C=d.setNetworkPrice;t.default=u.reducer},292:function(e,t,n){"use strict";n.r(t),n.d(t,"limitOrderSlice",(function(){return a})),n.d(t,"setTokenIn",(function(){return c})),n.d(t,"setTokenOut",(function(){return s})),n.d(t,"setTypedValue",(function(){return l})),n.d(t,"setActiveAccount",(function(){return u})),n.d(t,"setLoading",(function(){return d})),n.d(t,"setInstantRate",(function(){return f})),n.d(t,"setMktRate",(function(){return p})),n.d(t,"resetState",(function(){return b})),n.d(t,"setExpireIn",(function(){return m})),n.d(t,"setTypedPrice",(function(){return h})),n.d(t,"setProgressStatus",(function(){return j}));var r=n(128),o={tokenIn:void 0,tokenOut:void 0,typedValue:"",expireIn:10080,instantRate:"",mktRate:"",typedPrice:{value:""}},a=Object(r.createSlice)({name:"limitOrder",initialState:o,reducers:{setTokenIn:function(e,t){e.tokenIn=t.payload},setTokenOut:function(e,t){e.tokenOut=t.payload},setTypedValue:function(e,t){e.typedValue=t.payload},setActiveAccount:function(e,t){e.activeAccount=t.payload},setLoading:function(e,t){e.loading=t.payload},setMktRate:function(e,t){e.mktRate=t.payload},setInstantRate:function(e,t){e.instantRate=t.payload},resetState:function(e){e.typedValue="",e.mktRate="",e.instantRate="",e.typedPrice={reversed:!1,value:""},e.loading=!1},setExpireIn:function(e,t){e.expireIn=t.payload},setTypedPrice:function(e,t){e.typedPrice=t.payload},setProgressStatus:function(e,t){e.progressStatus=t.payload}}}),i=a.actions,c=i.setTokenIn,s=i.setTokenOut,l=i.setTypedValue,u=i.setActiveAccount,d=i.setLoading,f=i.setInstantRate,p=i.setMktRate,b=i.resetState,m=i.setExpireIn,h=i.setTypedPrice,j=i.setProgressStatus;t.default=a.reducer},2924:function(e,t){},2926:function(e,t){},2936:function(e,t){},2938:function(e,t){},2957:function(e,t){},2959:function(e,t){},297:function(e,t,n){"use strict";n.r(t),n.d(t,"legacyLinkingPathMap",(function(){return a})),n.d(t,"linkingPathMap",(function(){return i})),n.d(t,"unlockWhiteListUrls",(function(){return c}));var r=n(1451),o=n(2508),a={revokeDesktop:"/root/initial/tab/home/Revoke",revokeMobile:"/root/Revoke"},i={walletConnectUniversalLink:r.WalletConnectUniversalLinkPathSchema,watchingAccountAdding:o.AccountRootLandingPathSchema,onLanding:"/onlanding",tabHome:"/",tabSwap:"/swap",tabMarket:"/market",tabNFT:"/nft",tabMe:"/menu",tabDiscover:"/explorer",tabDeveloper:"/developer",revoke:"/revoke",tokenDetail:"/tokenDetail",marketDetail:"/marketDetail",pnlAtHome:"/pnl",pnlAtNFT:"/nft/pnl",bulkSender:"/bulkSender"},c=["/account/","/wc/connect","/wc/connect/wc",i.onLanding,i.revoke,a.revokeMobile,a.revokeDesktop,i.pnlAtHome,i.pnlAtNFT]},2987:function(e,t){},2989:function(e,t){},2990:function(e,t){},2995:function(e,t){},2997:function(e,t){},3003:function(e,t){},3005:function(e,t){},302:function(e,t,n){"use strict";n.r(t),n.d(t,"openUrlByWebview",(function(){return a})),n.d(t,"openUrl",(function(){return i})),n.d(t,"openDapp",(function(){return c})),n.d(t,"openUrlExternal",(function(){return s}));n(276),n(24);var r=n(111),o=n(16),a=(n(389),function(e,t,n){var a;Object(r.getAppNavigation)().navigate(o.RootRoutes.Modal,{screen:o.ModalRoutes.Webview,params:{url:e,title:t,modalMode:null==(a=null==n?void 0:n.modalMode)||a}})}),i=function(e,t,n){window.open(e,"_blank")},c=function(e){window.open(e,"_blank")},s=function(e){window.open(e,"_blank")}},3024:function(e,t){},3036:function(e,t){},3039:function(e,t){},3043:function(e,t){},3044:function(e,t){},3073:function(e,t){},3099:function(e,t){},3246:function(e,t){},325:function(e,t,n){"use strict";n.r(t),n.d(t,"check",(function(){return r})),n.d(t,"checkIsDefined",(function(){return o})),n.d(t,"checkIsUndefined",(function(){return a}));var r=function(e,t){if(!e)throw t=(t=t||"Invalid statement")instanceof Error?t:new Error(t)},o=function(e,t){return r("undefined"!==typeof e,t||"Expect defined but actually undefined"),e},a=function(e,t){r("undefined"===typeof e,t||"Expect undefined but actually "+e)}},328:function(e,t,n){"use strict";n.r(t);var r=n(154),o=n.n(r),a=n(26),i=n(73);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";return o()(e)?a.Buffer.from(e,t):e instanceof Uint8Array?a.Buffer.from(e):e}t.default={toBuffer:c,bytesToHex:function(e){return o()(e)?e:Object(i.bytesToHex)(c(e))},hexToBytes:i.hexToBytes,textToHex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return c(e,t||"utf8").toString("hex")},hexToText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return c(e,"hex").toString(t||"utf8")},utf8ToBytes:i.utf8ToBytes,bytesToUtf8:function(e){return c(e).toString("utf8")}}},3320:function(e,t){},3329:function(e,t){},3331:function(e,t){},3337:function(e,t){},334:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"EOnboardingRoutes",(function(){return r})),function(e){e.Welcome="welcome",e.ConnectWallet="ConnectWallet",e.ConnectHardwareModal="ConnectHardwareModal",e.ImportWallet="ImportWallet",e.RecoveryWallet="RecoveryWallet",e.SetPassword="SetPassword",e.RecoveryPhrase="RecoveryPhrase",e.ShowRecoveryPhrase="ShowRecoveryPhrase",e.BehindTheScene="BehindTheScene",e.ThirdPartyWallet="ThirdPartyWallet",e.RestoreFromCloud="RestoreFromCloud",e.CloudBackupDetails="CloudBackupDetails",e.KeyTag="KeyTag",e.Migration="Migration",e.MigrationPreview="MigrationPreview"}(r||(r={}))},3349:function(e,t){},3351:function(e,t){},338:function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_PAGE_CONTAINER_WIDTH",(function(){return r})),n.d(t,"COVALENT_API_KEY",(function(){return o})),n.d(t,"JPUSH_KEY",(function(){return a})),n.d(t,"SHORT_ONEKEYSO_URL",(function(){return i})),n.d(t,"SHORT_ONEKEYCN_URL",(function(){return c})),n.d(t,"HARDWARE_SDK_IFRAME_SRC_ONEKEYSO",(function(){return s})),n.d(t,"HARDWARE_SDK_IFRAME_SRC_ONEKEYCN",(function(){return l})),n.d(t,"HARDWARE_SDK_VERSION",(function(){return u})),n.d(t,"HARDWARE_BRIDGE_DOWNLOAD_URL",(function(){return d})),n.d(t,"CERTIFICATE_URL",(function(){return f}));var r=1024,o="-",a=Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"web",slug:"web",version:"0.0.1",web:{},description:"Multi-chain support for BTC/ETH/BNB/NEAR/Polygon/Solana/Avalanche/Fantom and others",sdkVersion:"48.0.0",platforms:["ios","android","web"]},CI:"true"}).JPUSH_KEY,i="onekey.so",c="onekeycn.com",s="https://jssdk.onekey.so",l=Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"web",slug:"web",version:"0.0.1",web:{},description:"Multi-chain support for BTC/ETH/BNB/NEAR/Polygon/Solana/Avalanche/Fantom and others",sdkVersion:"48.0.0",platforms:["ios","android","web"]},CI:"true"}).HARDWARE_SDK_CONNECT_SRC_ONEKEYCN||"https://jssdk.onekeycn.com",u="0.3.15",d="https://onekey.so/download/?client=bridge",f="https://certificate.onekey.so/verify"},3385:function(e,t){},339:function(e,t,n){"use strict";n.r(t),n.d(t,"RpcSpeed",(function(){return k})),n.d(t,"measureRpc",(function(){return S})),n.d(t,"useRPCUrls",(function(){return T})),n.d(t,"getRpcMeasureStatus",(function(){return P})),n.d(t,"useRpcMeasureStatus",(function(){return C})),n.d(t,"allNetworksSelectAccount",(function(){return M})),n.d(t,"useAllNetworksSelectNetworkAccount",(function(){return A}));var r=n(13),o=n.n(r),a=n(378),i=n.n(a),c=n(4),s=n.n(c),l=n(3),u=n.n(l),d=n(2),f=n.n(d),p=n(1),b=n(69),m=n(17),h=n(25),j=n(537),O=n(418),g=n(16),v=n(46),y=n(1296),x=n(231);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={Fast:{iconColor:"icon-success",textColor:"text-success",text:"content__fast"},Slow:{iconColor:"icon-warning",textColor:"text-warning",text:"content__slow"},Unavailable:{iconColor:"icon-critical",textColor:"text-critical",text:"content__check_node"}},I=function(e){return"undefined"===typeof e?k.Unavailable:e<=800?k.Fast:k.Slow},S=function(){var e=f()((function*(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var r=yield m.default.serviceNetwork.getRPCEndpointStatus(t,e,n),o=r.responseTime,a=r.latestBlock;return _({latestBlock:a,responseTime:o},I(o))}catch(i){}return _({latestBlock:void 0,responseTime:void 0},k.Unavailable)}));return function(t,n){return e.apply(this,arguments)}}(),T=function(e){var t=Object(p.useState)(!1),n=s()(t,2),r=n[0],a=n[1],c=Object(p.useState)(),l=s()(c,2),u=l[0],d=l[1],b=Object(p.useState)([]),h=s()(b,2),j=h[0],O=h[1],g=Object(p.useState)([]),v=s()(g,2),y=v[0],x=v[1],w=Object(p.useCallback)(f()((function*(){if(e){a(!0);try{var t=m.default.serviceNetwork,n=yield t.getPresetRpcEndpoints(e),r=n.urls,c=void 0===r?[]:r,s=n.defaultRpcURL,l=yield t.getCustomRpcUrls(e);d(s),(yield t.networkIsPreset(e))?(x(null!=l?l:[]),O(c)):(x(i()([].concat(o()(c),o()(l)))),O([]))}finally{a(!1)}}})),[e]);return Object(p.useEffect)((function(){w()}),[w]),{loading:r,defaultRpc:u,preset:j,custom:y,refresh:w}};function P(e){var t,n=Date.now()-(null!=(t=null==e?void 0:e.updatedAt)?t:0)>Object(v.getTimeDurationMs)({minute:2});return!e||n?{status:_({latestBlock:void 0,responseTime:void 0},k.Unavailable),loading:!0}:{status:_(_({},e),I(e.responseTime)),loading:!e}}var C=function(e){var t=Object(h.useAppSelector)((function(e){return e.general.activeNetworkId})),n=Object(h.useAppSelector)((function(n){var r,o;return null==(r=n.status.rpcStatus)?void 0:r[null!=(o=null!=e?e:t)?o:""]}));return Object(p.useMemo)((function(){return P(n)}),[n])},M=function(e){var t=e.networkId,n=e.accounts,r=Object(O.getManageNetworks)().enabledNetworks.find((function(e){return e.id===t}));return new Promise((function(e){return r&&n.length?1===n.length?e({network:r,account:n[0]}):void Object(y.showAllNetworksAccountDerivationsSelector)({network:r,accounts:n,onConfirm:function(t){e({network:r,account:t})}}):e(void 0)}))},A=function(e){var t=e.walletId,n=e.accountId,r=e.networkId,o=e.filter,a=void 0===o?function(){return!0}:o,i=Object(O.useManageNetworks)().enabledNetworks,c=Object(h.useNetwork)({networkId:r}).network,s=Object(h.useAccount)({networkId:r,accountId:n}).account,l=Object(j.useAllNetworksWalletAccounts)({accountId:n}).data,u=Object(h.useNavigation)();return Object(p.useCallback)((function(e){return new Promise((function(o){var d,f;if(Object(b.isAllNetworks)(r)){var p=null!=e?e:a,m=i.map((function(e){var t,n=(null!=(t=l[e.id])?t:[]).filter((function(t){return!p||p({network:e,account:t})}));return _(_({},e),{},{accounts:n})})).filter((function(e){var t=e.accounts;return!!t.length&&!(p&&!p({network:e,account:t[0]}))}));1===m.length&&1===(null==m||null==(d=m[0])||null==(f=d.accounts)?void 0:f.length)?o({network:m[0],account:m[0].accounts[0]}):u.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.ManageNetwork,params:{screen:x.ManageNetworkModalRoutes.AllNetworksNetworkSelector,params:{filter:p,walletId:t,accountId:n,onConfirm:function(e){e&&o(e)}}}})}else c&&s&&o({network:c,account:s})}))}),[l,i,u,n,t,a,c,s,r])}},3416:function(e,t){},3536:function(e,t){},36:function(e,t,n){"use strict";n.r(t),n.d(t,"OnekeyNetwork",(function(){return r}));var r=n(1006).serverPresetNetworks.reduce((function(e,t){return e[t.shortcode]=t.id,e}),{})},3715:function(e,t,n){var r=n(3716),o=n(3717);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},3717:function(e,t,n){(t=n(3718)(!1)).push([e.i,'/*\n  global css which apply to Desktop, Web and Extension\n  copy from:\n    node_modules/@expo/webpack-config/web-default/index.html\n */\n\n/* ---------------------------------------------- */\n\n/**\n * Extend the react-native-web reset:\n * https://github.com/necolas/react-native-web/blob/master/packages/react-native-web/src/exports/StyleSheet/initialRules.js\n */\nhtml,\nbody,\n#root {\n  width: 100%;\n  /* To smooth any scrolling behavior */\n  -webkit-overflow-scrolling: touch;\n  margin: 0px;\n  padding: 0px;\n  /* Allows content to fill the viewport and go beyond the bottom */\n  height: 100%;\n  overflow: hidden;\n}\n\n#root {\n  flex-shrink: 0;\n  flex-basis: auto;\n  flex-grow: 1;\n  display: flex;\n  flex: 1;\n}\n\nhtml {\n  scroll-behavior: smooth;\n  /* Prevent text size change on orientation change https://gist.github.com/tfausak/2222823#file-ios-8-web-app-html-L138 */\n  -webkit-text-size-adjust: 100%;\n  height: calc(100% + env(safe-area-inset-top));\n}\n\nbody {\n  display: flex;\n  /* Allows you to scroll below the viewport; default value is visible */\n  overflow-y: auto;\n  overscroll-behavior-y: none;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -ms-overflow-style: scrollbar;\n}\n\n/* Enable for apps that support dark-theme */\n/*@media (prefers-color-scheme: dark) {\n  body {\n    background-color: black;\n  }\n}*/\n\n/*\n  hide Scrollbar\n  in JS: extendTheme()\n*/\n/* set width=0 to hide scrollbar */\n::-webkit-scrollbar {\n  width: 0;\n  background: transparent;\n}\n\n/* Track */\n::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n  /* gray color palette comes from design file "illustration" */\n  background: #74748b;\n  border-radius: 3px;\n}\n\ninput {\n  outline: none;\n  min-width: 0;\n}\n\n[role="button"] {\n  outline: none;\n}\n\ntextarea {\n  outline: none;\n  min-width: 0;\n}\n\n/* data-testid="Segment_Button" */\n[data-testid=\'Segment_Button\'] {\n  width: 100%;\n}\n\n/* WallectConnect Modal */\n.walletconnect-modal__base {\n  max-width: 400px !important;\n}\n\n.debug-render-tracker-animated-bg {\n  position: relative;\n}\n\n.debug-render-tracker-animated-bg:before {\n  pointer-events: none;\n  content: "";\n  position: absolute;\n  z-index: 999999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  animation: debugRenderTrackerColorFade 1s forwards;\n}\n\n@keyframes debugRenderTrackerColorFade {\n  from {\n    background-color: #E2C6C4;\n  }\n  to {\n    background-color: transparent;\n  }\n}\n\n.debug-render-tracker-animated-bg0 {\n  position: relative;\n}\n\n.debug-render-tracker-animated-bg0:before {\n  pointer-events: none;\n  content: "";\n  position: absolute;\n  z-index: 999999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  animation: debugRenderTrackerColorFade0 1s forwards;\n}\n\n@keyframes debugRenderTrackerColorFade0 {\n  from {\n    background-color: #AAB8AB;\n  }\n  to {\n    background-color: transparent;\n  }\n}\n',""]),e.exports=t},3720:function(e,t,n){"use strict";n.r(t);var r=n(3891),o=(n(2777),n(532)),a=n.n(o),i=n(154),c=n.n(i),s=n(60),l=n.n(s),u=n(6),d=n.n(u),f=n(9),p=n.n(f),b=n(14),m=n.n(b),h=n(7),j=n.n(h),O=n(107),g=n.n(O),v=n(646);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var o=j()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var x=function(e){p()(n,e);var t=y(n);function n(e){var n;return(n=t.call(this)).requestLibName=v.RequestLibNames.axios,n.axiosConfig=e,n}var r=n.prototype;return r.setDefaultRetry=function(e){},r.setDefaultTimeout=function(e){l()(this.axiosConfig.timeout)&&(this.axiosConfig.timeout=e)},r.setHeader=function(e,t){this.axiosConfig.headers=this.axiosConfig.headers||{},this.axiosConfig.headers[e]=t},d()(n)}(v.RequestInterceptorBase);function w(e){var t=e.originRequest;return function(e,n){try{var r=e;if(c()(r)&&(l()(n)&&(n={}),r=n),r){var o,a=new x(r),i=(null==(o=r)?void 0:o.url)||(c()(e)?e:"")||"";i.startsWith("http://")||i.startsWith("https://")||!this.defaults.baseURL||(i=this.defaults.baseURL),a.interceptRequest({url:i})}}catch(s){}return t.call(this,e,n)}}var _=n(1503),k=n(33),I=n.n(k),S=n(1097),T=n.n(S);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var o=j()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var C=function(e){p()(n,e);var t=P(n);function n(e){var n;return(n=t.call(this)).requestLibName=v.RequestLibNames.superagent,n.superagentRequest=e,n}var r=n.prototype;return r.setDefaultRetry=function(e){l()(this.superagentRequest._maxRetries)&&this.superagentRequest.retry(e)},r.setDefaultTimeout=function(e){l()(this.superagentRequest._timeout)&&this.superagentRequest.timeout(e)},r.setHeader=function(e,t){this.superagentRequest.set(e,t)},d()(n)}(v.RequestInterceptorBase),M=T.a.Request,A=function(e){p()(n,e);var t=P(n);function n(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this].concat(n))}var r=n.prototype;return r.send=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=I()(j()(n.prototype),"send",this)).call.apply(e,[this].concat(r))},r._end=function(){var e,t=this,r=new C(t),o=t.url;o=c()(o)?o:"",r.interceptRequest({url:o});for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=I()(j()(n.prototype),"_end",this)).call.apply(e,[this].concat(i))},d()(n)}(M);var E=n(1021);g.a.requestOrigin=g.a.request,g.a.request=w({originRequest:g.a.requestOrigin}),g.a.Axios.prototype.requestOrigin=g.a.Axios.prototype.request,g.a.Axios.prototype.request=w({originRequest:g.a.Axios.prototype.requestOrigin}),T.a.RequestOrigin=M,T.a.Request=A,Object(_.normalizeCrossFetch)({fetch:a.a}),E.default.interceptTimerWithDisable();var D=n(2454),R=(n(3715),D.KitProvider);Object(r.default)(R)},376:function(e,t,n){"use strict";n.r(t),n.d(t,"toBigIntHex",(function(){return i})),n.d(t,"fromBigIntHex",(function(){return c}));var r=n(21),o=n.n(r),a=n(325),i=function(e){var t=e.integerValue().toString(16);return t="0x"+t},c=function(e){return Object(a.check)(e&&e.startsWith("0x"),"Invalid hex string. value: "+e),new o.a(e).integerValue()}},381:function(e,t,n){"use strict";n.r(t),n.d(t,"fallbackTextComponent",(function(){return c})),n.d(t,"getTxStatusInfo",(function(){return s})),n.d(t,"getDisplayedActions",(function(){return l}));var r=n(154),o=n.n(r),a=n(52),i=n(0);function c(e,t){if(e)return o()(e)?Object(i.jsx)(t,{children:e}):e}function s(e){var t="transaction__failed",n="text-critical",r="TxStatusFailureCircleIllus",o="icon-critical",i="surface-critical-default";switch(e.decodedTx.status){case a.IDecodedTxStatus.Pending:t="transaction__pending",r="TxStatusWarningCircleIllus",o="icon-warning",n="text-warning",i="surface-warning-default";break;case a.IDecodedTxStatus.Confirmed:t="transaction__success",r="TxStatusSuccessCircleIllus",o="icon-success",n="text-success",i="surface-success-default";break;case a.IDecodedTxStatus.Dropped:t="transaction__dropped"}return{text:t,textColor:n,iconName:r,iconColor:o,iconContainerColor:i}}function l(e){var t=e.decodedTx,n=t.outputActions,r=t.actions;return(n&&n.length?n:r)||[]}},3848:function(e,t,n){e.exports=n(3720)},389:function(e,t,n){"use strict";n.r(t),n.d(t,"homeTab",(function(){return h})),n.d(t,"homeResettingFlags",(function(){return j})),n.d(t,"isTabLimitReached",(function(){return O})),n.d(t,"webTabsObs",(function(){return g})),n.d(t,"incomingUrlObs",(function(){return v})),n.d(t,"getCurrentTabId",(function(){return x})),n.d(t,"webTabsActions",(function(){return w}));var r=n(48),o=n(13),a=n.n(o),i=n(3),c=n.n(i),s=n(934),l=n(1250),u=n(2667),d=n(285),f=(n(24),n(485)),p=n(2506);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(l.configureObservablePersistence)({persistLocal:p.ObservablePersistLocalStorage});var h={id:"home",url:"about:blank",title:"OneKey",isCurrent:!0,canGoBack:!1,loading:!1},j={},O=function(e){return!1},g=Object(s.observable)([m({},h)]),v=Object(s.observable)(""),y="",x=function(){var e;y||(y=(null==(e=g.peek().find((function(e){return e.isCurrent})))?void 0:e.id)||"");return y};Object(l.persistObservable)(g,{local:"webTabs"});var w={addWebTab:function(e){var t=a()(g.get());if(O(t))r.default.show({title:Object(d.formatMessage)({id:"msg__tab_has_reached_the_maximum_limit_of_str"},{0:99})},{type:"error"});else{if(e.id&&e.id!==h.id||(e.id=Object(u.nanoid)()),e.isCurrent){for(var n of t)n.isCurrent=!1;y=e.id}e.timestamp=Date.now(),t.push(e),g.set(t)}},addBlankWebTab:function(){w.addWebTab(m({},h))},setWebTabData:function(e){var t=a()(g.get()),n=-1,r=m({},t.find((function(t,r){return t.id===e.id&&(n=r,!0)})));r&&(Object.keys(e).forEach((function(t){var n=e[t];if(void 0!==n&&n!==r[t]){if("title"===t&&!n)return;if(r[t]=n,"url"===t&&(r.timestamp=Date.now(),n===h.url&&e.id&&(j[e.id]=r.timestamp),!e.favicon))try{var o;r.favicon=new URL(null!=(o=r.url)?o:"").origin+"/favicon.ico"}catch(a){}}})),r.url===h.url&&(r.title=h.title),t[n]=r,g.set(t))},closeWebTab:function(e){delete f.webviewRefs[e];var t=a()(g.get()),r=-1;(t.some((function(n,o){if(n.id===e){if(n.isCurrent){var a=t[o-1];a.isCurrent=!0,y=a.id}return r=o,!0}return!1})),t.splice(r,1),1===t.length)&&(n(1592).showTabGridAnim.value=0);g.set(t)},closeAllWebTabs:function(){for(var e of Object.getOwnPropertyNames(f.webviewRefs))delete f.webviewRefs[e];g.set([m({},h)]),y=h.id,n(1592).showTabGridAnim.value=0},setCurrentWebTab:function(e){var t=x();if(t!==e){Object(f.pauseDappInteraction)(t);for(var n=a()(g.get()),r=!1,o=!1,i=0;i<n.length;i++){var c=n[i];if(c.isCurrent?(n[i]=m(m({},c),{},{isCurrent:!1}),r=!0):c.id===e&&(n[i]=m(m({},c),{},{isCurrent:!0}),o=!0),r&&o)break}g.set(n),Object(f.resumeDappInteraction)(e),y=e}},setIncomingUrl:function(e){v.set(e)}}},393:function(e,t,n){"use strict";n.r(t),n.d(t,"parseDeviceInfo",(function(){return g})),n.d(t,"deviceInfo",(function(){return v})),n.d(t,"OneKeyMigrateQRCodePrefix",(function(){return y})),n.d(t,"MigrationEnable",(function(){return x})),n.d(t,"generatePassword",(function(){return j})),n.d(t,"randomString",(function(){return h})),n.d(t,"shuffle",(function(){return m})),n.d(t,"addressWithoutHttp",(function(){return O})),n.d(t,"parseCloudData",(function(){return b}));var r=n(3),o=n.n(r),a=n(15),i=n.n(a),c=n(743),s=n(185),l=n(24),u=n(101),d=["public","private","publicData","privateData"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=e.public,n=e.private,r=e.publicData,o=e.privateData,a=i()(e,d);return p(r&&o?{public:r,private:o}:{public:t,private:n},a)}function m(e){for(var t=e.split(""),n=t.length-1;n>0;n-=1){var r=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}return t.join("")}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$";return Array.from(crypto.getRandomValues(new Uint32Array(e))).map((function(e){return t[e%t.length]})).join("")};function j(e){if(e<10)throw new Error("password too short");return m(h(Math.floor(e/3),"0123456789")+h(Math.floor(e/3),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz")+h(Math.floor(e/3),"~!@-#$^"))}function O(e){var t=e;return t.startsWith("http://")&&(t=t.replace("http://","")),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t}function g(e){var t=e.platform,n=e.channel,r="Unknow",o="QuestionMarkOutline";return"app"===t?null!=n&&n.includes("native-ios-pad")?(r="Tablet",o="DeviceTabletSolid"):(r="Mobile",o="DevicePhoneMobileSolid"):"web"===t?(r="Web",o="GlobeAltSolid"):"desktop"===t?(r="Desktop",o="ComputerDesktopSolid"):"ext"===t&&(r="Extension",o="PuzzlePieceSolid"),{name:r,logo:o}}function v(){var e=s.default.getState().settings,t=e.version,n=e.buildNumber;return{deviceName:null!=c.deviceName?c.deviceName:"unknown",platform:null!="web"?"web":"unknown",channel:l.default.distributionChannel,version:t,buildNumber:n}}var y=u.ONEKEY_APP_DEEP_LINK+"migrate/",x=!1},431:function(e,t,n){"use strict";n.r(t),n.d(t,"generateConnectSrc",(function(){return h})),n.d(t,"getHardwareSDKInstance",(function(){return j})),n.d(t,"CoreSDKLoader",(function(){return O})),n.d(t,"HardwareSDK",(function(){return r}));var r,o,a=n(3),i=n.n(a),c=n(2),s=n.n(c),l=n(338),u=n(19),d=n(24),f=n(150),p=function(){var e=s()((function*(){return(yield n.e(7).then(n.t.bind(null,6077,7))).default.HardwareWebSdk}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=s()((function*(){return(yield n.e(7).then(n.t.bind(null,6077,7))).default.HardwareSDKLowLevel}));return function(){return e.apply(this,arguments)}}();function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(e){var t=l.HARDWARE_SDK_IFRAME_SRC_ONEKEYSO+"/"+l.HARDWARE_SDK_VERSION+"/";return e&&e.indexOf("onekeycn.com")>-1&&(t=l.HARDWARE_SDK_IFRAME_SRC_ONEKEYCN+"/"+l.HARDWARE_SDK_VERSION+"/"),t},j=Object(f.memoizee)(function(){var e=s()((function*(e){return new Promise(function(){var t=s()((function*(t,n){if(r)t(r);else{var a={debug:!1};r=yield p();var c,s=h(e.hardwareConnectSrc);a.connectSrc=s,o=yield b(),d.default.isExtensionBackgroundServiceWorker||null==(c=o)||c.addHardwareGlobalEventListener((function(e){r.emit(e.event,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})),a.preRelease=e.isPreRelease;try{yield r.init(a,o),u.default.hardwareSDK.info("HardwareSDK initialized success"),t(r)}catch(l){n(l)}}}));return function(e,n){return t.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),{promise:!0,max:1}),O=function(){var e=s()((function*(){return Promise.all([n.e(6),n.e(74),n.e(845)]).then(n.t.bind(null,6076,7))}));return function(){return e.apply(this,arguments)}}()},451:function(e,t,n){"use strict";n.r(t),n.d(t,"slicer",(function(){return o})),n.d(t,"refreshHistory",(function(){return i})),n.d(t,"refreshAccountSelector",(function(){return c})),n.d(t,"refreshConnectedSites",(function(){return s})),n.d(t,"closeDappConnectionPreloading",(function(){return l})),n.d(t,"resetDappConnectionPreloading",(function(){return u})),n.d(t,"backgroundShowToast",(function(){return d}));var r=n(128),o=Object(r.createSlice)({name:"refresher",initialState:{refreshHistoryTs:0,refreshAccountSelectorTs:0,refreshConnectedSitesTs:0,closeDappConnectionPreloadingTs:0,backgroundShowToastTs:0,backgroundShowToastOptions:{title:"",type:"info"}},reducers:{refreshHistory:function(e){e.refreshHistoryTs=Date.now()},refreshAccountSelector:function(e){e.refreshAccountSelectorTs=Date.now()},refreshConnectedSites:function(e){e.refreshConnectedSitesTs=Date.now()},closeDappConnectionPreloading:function(e){e.closeDappConnectionPreloadingTs=Date.now()},resetDappConnectionPreloading:function(e){e.closeDappConnectionPreloadingTs=0},backgroundShowToast:function(e,t){e.backgroundShowToastOptions=t.payload,e.backgroundShowToastTs=Date.now()}}}),a=o.actions,i=a.refreshHistory,c=a.refreshAccountSelector,s=a.refreshConnectedSites,l=a.closeDappConnectionPreloading,u=a.resetDappConnectionPreloading,d=a.backgroundShowToast;t.default=o.reducer},459:function(e,t,n){"use strict";n.r(t),n.d(t,"tokensSlice",(function(){return u})),n.d(t,"setTokenPriceMap",(function(){return f})),n.d(t,"setAccountTokens",(function(){return p})),n.d(t,"setAccountTokensBalances",(function(){return b}));var r=n(590),o=n.n(r),a=n(3),i=n.n(a),c=n(128);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(c.createSlice)({name:"tokens",initialState:{tokenPriceMap:{},accountTokens:{},accountTokensBalance:{}},reducers:{setTokenPriceMap:function(e,t){var n=t.payload,r=n.prices,o=n.vsCurrency;e.tokenPriceMap||(e.tokenPriceMap={}),Object.keys(r).forEach((function(t){var n,a=e.tokenPriceMap[t]||{};e.tokenPriceMap[t]=l(l(l({},a),r[t]),{},((n={})["updatedAt--"+o]=Date.now(),n))}))},setAccountTokens:function(e,t){var n=t.payload,r=n.accountId,a=n.networkId,i=n.tokens;r&&a&&(e.accountTokens[a]||(e.accountTokens[a]={}),e.accountTokens[a][r]=o()(i.filter((function(e,t,n){return!(!e.sendAddress&&n.some((function(t){return t.sendAddress&&t.address===e.address})))&&(!e.autoDetected||!n.some((function(t){return!t.autoDetected&&t.address===e.address})))})),(function(e){var t;return e.tokenIdOnNetwork+"-"+(null!=(t=e.sendAddress)?t:"")})))},setAccountTokensBalances:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.tokensBalance;if(o&&a){e.accountTokensBalance[a]||(e.accountTokensBalance[a]={});var c=e.accountTokensBalance[a][o]||{};c.main=null!=(n=c.main)?n:{balance:"0"},e.accountTokensBalance[a][o]=l(l({},c),i)}}}}),d=u.actions,f=d.setTokenPriceMap,p=d.setAccountTokens,b=d.setAccountTokensBalances;t.default=u.reducer},46:function(e,t,n){"use strict";n.r(t),n.d(t,"getTimeStamp",(function(){return c})),n.d(t,"getTimeDurationMs",(function(){return s})),n.d(t,"wait",(function(){return l})),n.d(t,"timeout",(function(){return u})),n.d(t,"generateUUID",(function(){return d})),n.d(t,"hexlify",(function(){return f})),n.d(t,"isHexString",(function(){return p})),n.d(t,"removeTrailingZeros",(function(){return b}));var r=n(3728),o=n(290),a=n(167),i=n.n(a),c=function(){return Object(r.default)(new Date)};function s(e){var t=e.seconds,n=void 0===t?0:t,r=e.minute,o=void 0===r?0:r,a=e.hour,i=void 0===a?0:a,c=e.day,s=void 0===c?0:c,l=e.week,u=void 0===l?0:l,d=e.month,f=void 0===d?0:d,p=e.year;return 1e3*n+6e4*o+36e5*i+864e5*s+6048e5*u+26784e5*f+31536e6*(void 0===p?0:p)}var l=function(e){return new Promise((function(t){setTimeout(t,e)}))},u=function(e,t,n){return new Promise((function(r,o){setTimeout((function(){return o(new Error(n||"Timeout"))}),t),e.then((function(e){return r(e)})).catch((function(e){return o(e)}))}))},d=function(){return i.a.v4()},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.utils.hexlify.apply(o.utils.hexlify,t)},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.utils.isHexString.apply(o.utils.isHexString,t)},b=function(e){var t=e.toString().split(".");if(t.length>1){var n=t[1].replace(/0+$/,"");return n.length>0?t[0]+"."+n:t[0]}return e.toString()}},475:function(e,t,n){"use strict";n.r(t),n.d(t,"buildModalOpenAnimationOptions",(function(){return f})),n.d(t,"buildModalStackNavigatorOptions",(function(){return p}));var r=n(60),o=n.n(r),a=n(3),i=n.n(a),c=n(737),s=n(134),l=n(24);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}s.default.bezier(.4,0,.2,1),s.default.bezier(.4,0,.2,1);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isVerticalLayout;return l.default.isNativeAndroid?{animation:"none",animationEnabled:!1}:t?d({animationEnabled:!0},c.TransitionPresets.ModalSlideFromBottomIOS):l.default.isRuntimeBrowser?{animationEnabled:!1}:l.default.isNativeIOSPad?d({animationEnabled:!0},c.TransitionPresets.ModalSlideFromBottomIOS):{}}function p(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.isVerticalLayout,a=n.navInfo,i=d({headerShown:!1},d({},c.TransitionPresets.SlideFromRightIOS));return o()(r)||(i.animationEnabled=Boolean(r)),l.default.isNativeAndroid&&(i.animation="none"),null!=a&&null!=(e=a.route)&&null!=(t=e.params)&&t._disabledAnimationOfNavigate&&(i.animationEnabled=!1),i}},485:function(e,t,n){"use strict";n.r(t),n.d(t,"webHandler",(function(){return o})),n.d(t,"isValidWebUrl",(function(){return a})),n.d(t,"validateUrl",(function(){return i})),n.d(t,"webviewRefs",(function(){return c})),n.d(t,"getWebviewWrapperRef",(function(){return s})),n.d(t,"crossWebviewLoadUrl",(function(){return l})),n.d(t,"pauseDappInteraction",(function(){return u})),n.d(t,"resumeDappInteraction",(function(){return d}));var r=n(19),o=(n(24),"browser"),a=function(e){return/\.(ai|app|art|co|com|club|dev|ee|fi|finance|game|im|info|io|is|it|net|network|news|org|so|xyz)(\/\S*)*$/.test(e)},i=function(e){try{new URL(e)}catch(t){return a(e)?"https://"+e:"https://www.google.com/search?q="+e}return e},c={};function s(e){var t=e;t||(t=(0,n(389).getCurrentTabId)());var r=t?c[t]:null;return null!=r?r:null}function l(e){var t,n=e.url,o=s(e.tabId);r.default.webview.info("crossWebviewLoadUrl >>>>",n),null==o||null==(t=o.innerRef)||t.loadUrl(n)}function u(e){var t=s(e);t&&(t.jsBridge&&(t.jsBridge.globalOnMessageEnabled=!1))}function d(e){var t=s(e);t&&(t.jsBridge&&(t.jsBridge.globalOnMessageEnabled=!0))}},489:function(e,t,n){"use strict";function r(e,t){return(null==e?void 0:e.toUpperCase())===(null==t?void 0:t.toUpperCase())}n.r(t),n.d(t,"equalsIgnoreCase",(function(){return r}))},490:function(e,t,n){"use strict";n.r(t),n.d(t,"stakingSlice",(function(){return i})),n.d(t,"setKeleNetworkDashboardGlobal",(function(){return s})),n.d(t,"setKeleUnstakeOverview",(function(){return l})),n.d(t,"setKeleWithdrawOverview",(function(){return u})),n.d(t,"setKeleMinerOverviews",(function(){return d})),n.d(t,"setKeleIncomes",(function(){return f})),n.d(t,"setKelePendingWithdraw",(function(){return p})),n.d(t,"setKeleOpHistory",(function(){return b})),n.d(t,"setETHStakingApr",(function(){return m})),n.d(t,"setLidoOverview",(function(){return h})),n.d(t,"addTransaction",(function(){return j})),n.d(t,"addKeleTransaction",(function(){return O})),n.d(t,"archiveTransaction",(function(){return g})),n.d(t,"archiveKeleTransaction",(function(){return v})),n.d(t,"setStEthRate",(function(){return y}));var r=n(13),o=n.n(r),a=n(128),i=Object(a.createSlice)({name:"staking",initialState:{},reducers:{setKeleNetworkDashboardGlobal:function(e,t){var n=t.payload,r=n.networkId,o=n.dashboard;e.keleNetworkDashboardGlobal||(e.keleNetworkDashboardGlobal={}),e.keleNetworkDashboardGlobal[r]=o},setKeleUnstakeOverview:function(e,t){var n;e.keleUnstakeOverviews||(e.keleUnstakeOverviews={});var r=t.payload,o=r.networkId,a=r.accountId,i=r.unstakeOverview;null!=(n=e.keleUnstakeOverviews)&&n[a]||(e.keleUnstakeOverviews[a]={}),e.keleUnstakeOverviews[a][o]=i},setKeleWithdrawOverview:function(e,t){e.keleWithdrawOverviews||(e.keleWithdrawOverviews={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.withdrawOverview;e.keleWithdrawOverviews[o]||(e.keleWithdrawOverviews[o]={}),e.keleWithdrawOverviews[o][r]=a},setKeleMinerOverviews:function(e,t){e.keleMinerOverviews||(e.keleMinerOverviews={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.minerOverview;e.keleMinerOverviews[o]||(e.keleMinerOverviews[o]={}),e.keleMinerOverviews[o][r]=a},setKeleIncomes:function(e,t){e.keleIncomes||(e.keleIncomes={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.incomes;e.keleIncomes[o]||(e.keleIncomes[o]={}),e.keleIncomes[o][r]=a},setKelePendingWithdraw:function(e,t){var n=t.payload,r=n.networkId,o=n.accountId,a=n.amount;Number.isNaN(a)||(e.kelePendingWithdraw||(e.kelePendingWithdraw={}),e.kelePendingWithdraw[o]||(e.kelePendingWithdraw[o]={}),e.kelePendingWithdraw[o][r]=a)},setKeleOpHistory:function(e,t){e.keleOpHistory||(e.keleOpHistory={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.items;e.keleOpHistory[o]||(e.keleOpHistory[o]={}),e.keleOpHistory[o][r]=a},setETHStakingApr:function(e,t){e.ethStakingApr=t.payload},setLidoOverview:function(e,t){e.lidoOverview||(e.lidoOverview={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.overview;e.lidoOverview[o]||(e.lidoOverview[o]={}),e.lidoOverview[o][r]=a},addTransaction:function(e,t){var n,r=t.payload,a=r.accountId,i=r.networkId,c=r.transaction;e.transactions||(e.transactions={}),e.transactions[a]||(e.transactions[a]={});var s=null!=(n=e.transactions[a][i])?n:[],l=[c].concat(o()(s));l.length>30&&(l.length=30),e.transactions[a][i]=l},archiveTransaction:function(e,t){var n;if(e.transactions){var r=t.payload,o=r.accountId,a=r.networkId,i=r.txs;(null==(n=e.transactions[o])?void 0:n[a]).forEach((function(e){i.includes(e.hash)&&(e.archive=!0)}))}},addKeleTransaction:function(e,t){var n,r=t.payload,a=r.accountId,i=r.networkId,c=r.transaction;e.keleTransactions||(e.keleTransactions={}),e.keleTransactions[a]||(e.keleTransactions[a]={});var s=null!=(n=e.keleTransactions[a][i])?n:[],l=[c].concat(o()(s));l.length>30&&(l.length=30),e.keleTransactions[a][i]=l},archiveKeleTransaction:function(e,t){var n;if(e.keleTransactions){var r=t.payload,o=r.accountId,a=r.networkId,i=r.txs;(null==(n=e.keleTransactions[o])?void 0:n[a]).forEach((function(e){i.includes(e.hash)&&(e.archive=!0)}))}},setStEthRate:function(e,t){e.stEthRate||(e.stEthRate={});var n=t.payload,r=n.networkId,o=n.value;e.stEthRate[r]=o}}}),c=i.actions,s=c.setKeleNetworkDashboardGlobal,l=c.setKeleUnstakeOverview,u=c.setKeleWithdrawOverview,d=c.setKeleMinerOverviews,f=c.setKeleIncomes,p=c.setKelePendingWithdraw,b=c.setKeleOpHistory,m=c.setETHStakingApr,h=c.setLidoOverview,j=c.addTransaction,O=c.addKeleTransaction,g=c.archiveTransaction,v=c.archiveKeleTransaction,y=c.setStEthRate;t.default=i.reducer},493:function(e,t,n){"use strict";n.r(t),n.d(t,"backupPlatform",(function(){return a})),n.d(t,"isAvailable",(function(){return i})),n.d(t,"loginIfNeeded",(function(){return c})),n.d(t,"logoutFromGoogleDrive",(function(){return l})),n.d(t,"sync",(function(){return u})),n.d(t,"listFiles",(function(){return d})),n.d(t,"deleteFile",(function(){return f})),n.d(t,"downloadFromCloud",(function(){return p})),n.d(t,"uploadToCloud",(function(){return m}));var r=n(2),o=n.n(r);function a(){return{cloudName:"",platform:""}}function i(){return Promise.resolve(!1)}function c(e){return s.apply(this,arguments)}function s(){return(s=o()((function*(e){return Promise.resolve(!0)}))).apply(this,arguments)}function l(e){return Promise.resolve(!0)}function u(){return Promise.resolve(!0)}function d(e){return Promise.resolve([])}function f(e){return Promise.resolve(!1)}function p(e){return b.apply(this,arguments)}function b(){return(b=o()((function*(e){return Promise.resolve("")}))).apply(this,arguments)}function m(e,t){return Promise.resolve()}},496:function(e,t,n){"use strict";n.r(t),n.d(t,"TxDetailActionBox",(function(){return y}));var r=n(570),o=n(12),a=n(64),i=n(40),c=n(3),s=n.n(c),l=n(60),u=n.n(l),d=n(100),f=n(41),p=n(63),b=n(1),m=n(1244),h=n(1300),j=n(723),O=n(0);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t,n=e.title,c=e.subTitle,s=e.desc,l=e.icon,g=e.content,y=e.details,x=e.showTitleDivider,w=e.showContentDivider,_=e.isSingleTransformMode,k=Object(j.useTxDetailContext)(),I=null==k||null==(t=k.context)?void 0:t.isCollapse,S=!!n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(f.default,{space:2,pb:4,alignItems:"center",children:[l,Object(O.jsxs)(p.default,{children:[n,c]})]}),x&&null!=y&&y.length&&g?Object(O.jsx)(d.default,{mb:4,ml:-4,mr:-4,w:"auto"}):null]}),T=Object(b.useCallback)((function(e){return n?Object(O.jsxs)(f.default,{p:2,space:2,alignItems:"center",flex:1,children:[l,Object(O.jsxs)(p.default,{flex:1,children:[Object(O.jsxs)(f.default,{alignItems:"baseline",space:2,children:[n,e?s:null]}),c]})]}):null}),[s,l,c,n]),P=Object(O.jsxs)(O.Fragment,{children:[g,Object(O.jsx)(p.default,{space:4,children:(null!=y?y:[]).filter(Boolean).map((function(e,t){var n;return u()(e)?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.TxActionElementDetailCell,v({},e),t),w&&t!==(null!=(n=null==y?void 0:y.length)?n:0)-1&&Object(O.jsx)(d.default,{})]})}))})]});return I&&n?Object(O.jsxs)(r.default,{arrowPosition:"right",renderCustomTrigger:function(e,t){return Object(O.jsx)(a.default,{onPress:e,p:"8px",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:Object(O.jsxs)(f.default,{alignItems:"center",justifyContent:"space-between",children:[T(t),Object(O.jsx)(m.View,{animate:{rotate:t?"0deg":"90deg"},children:Object(O.jsx)(i.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})})]})})},triggerWrapperProps:{borderRadius:0},triggerProps:{flex:1},children:[Object(O.jsx)(d.default,{w:"auto"}),Object(O.jsx)(o.default,{p:4,children:P})]}):_?Object(O.jsxs)(o.default,{children:[S,P]}):Object(O.jsxs)(o.default,{bg:"surface-default",borderRadius:12,borderWidth:1,borderColor:"border-subdued",p:4,children:[S,P]})}},498:function(e,t,n){"use strict";n.r(t),n.d(t,"NotImplementedError",(function(){return b})),n.d(t,"IncorrectPassword",(function(){return m})),n.d(t,"InvalidMnemonic",(function(){return h})),n.d(t,"NotAutoPrintError",(function(){return j})),n.d(t,"HardwareError",(function(){return O}));var r=n(6),o=n.n(r),a=n(9),i=n.n(a),c=n(14),s=n.n(c),l=n(7),u=n.n(l),d=n(131),f=n.n(d);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);if(t){var o=u()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var b=function(e){i()(n,e);var t=p(n);function n(){return t.apply(this,arguments)}return o()(n)}(f()(Error)),m=function(e){i()(n,e);var t=p(n);function n(){return t.apply(this,arguments)}return o()(n)}(f()(Error)),h=function(e){i()(n,e);var t=p(n);function n(){return t.apply(this,arguments)}return o()(n)}(f()(Error)),j=function(e){i()(n,e);var t=p(n);function n(){return t.apply(this,arguments)}return o()(n)}(f()(Error)),O=function(e){i()(n,e);var t=p(n);function n(e){var n;return(n=t.call(this,e.error)).payload=e,n}return o()(n)}(f()(Error))},499:function(e,t,n){"use strict";n.r(t),n.d(t,"autoUpdaterSlice",(function(){return a})),n.d(t,"enable",(function(){return c})),n.d(t,"disable",(function(){return s})),n.d(t,"checking",(function(){return l})),n.d(t,"available",(function(){return u})),n.d(t,"notAvailable",(function(){return d})),n.d(t,"downloading",(function(){return f})),n.d(t,"ready",(function(){return p})),n.d(t,"skip",(function(){return b})),n.d(t,"error",(function(){return m})),n.d(t,"setUpdateWindow",(function(){return h})),n.d(t,"setLastCheckTimestamp",(function(){return j}));var r=n(128),o={enabled:!1,state:"not-available",window:"maximized",progress:{},lastCheckTimestamp:void 0},a=Object(r.createSlice)({name:"autoUpdater",initialState:o,reducers:{enable:function(e){e.enabled=!0},disable:function(e){e.enabled=!1},checking:function(e){e.state="checking"},available:function(e,t){e.state="available",t.payload&&(e.latest=t.payload)},notAvailable:function(e,t){e.state="not-available",t.payload&&(e.latest=t.payload)},downloading:function(e,t){e.state="downloading",e.progress=t.payload},ready:function(e,t){e.state="ready",e.latest=t.payload},skip:function(e,t){e.state="not-available",e.skip=t.payload},error:function(e){"checking"===e.state&&(e.state="not-available"),"downloading"===e.state&&(e.state="available")},setUpdateWindow:function(e,t){e.window=t.payload},setLastCheckTimestamp:function(e,t){e.lastCheckTimestamp=t.payload}}}),i=a.actions,c=i.enable,s=i.disable,l=i.checking,u=i.available,d=i.notAvailable,f=i.downloading,p=i.ready,b=i.skip,m=i.error,h=i.setUpdateWindow,j=i.setLastCheckTimestamp;t.default=a.reducer},503:function(e,t,n){"use strict";n.r(t),n.d(t,"overviewSlice",(function(){return f})),n.d(t,"addOverviewPendingTasks",(function(){return b})),n.d(t,"removeOverviewPendingTasks",(function(){return m})),n.d(t,"setOverviewPortfolioUpdatedAt",(function(){return h})),n.d(t,"setAllNetworksAccountsMap",(function(){return j})),n.d(t,"clearOverviewPendingTasks",(function(){return O})),n.d(t,"removeAllNetworksAccountsMapByAccountId",(function(){return g}));var r=n(13),o=n.n(r),a=n(1077),i=n.n(a),c=n(3),s=n.n(c),l=n(128);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=Object(l.createSlice)({name:"overview",initialState:{tasks:{},updatedTimeMap:{},allNetworksAccountsMap:{}},reducers:{setOverviewPortfolioUpdatedAt:function(e,t){var n=t.payload,r=n.data,o=n.key;e.updatedTimeMap||(e.updatedTimeMap={}),e.updatedTimeMap[o]=r},addOverviewPendingTasks:function(e,t){var n=t.payload.data;e.tasks||(e.tasks={}),e.tasks=d(d({},e.tasks),n)},clearOverviewPendingTasks:function(e){e.tasks={}},removeOverviewPendingTasks:function(e,t){var n=t.payload.ids,r=void 0===n?[]:n;e.tasks&&(e.tasks=i.a.apply(void 0,[e.tasks].concat(o()(r))))},setAllNetworksAccountsMap:function(e,t){var n=t.payload,r=n.accountId,o=n.data;e.allNetworksAccountsMap||(e.allNetworksAccountsMap={}),e.allNetworksAccountsMap[r]=o},removeAllNetworksAccountsMapByAccountId:function(e,t){var n,r=t.payload.accountId;e.allNetworksAccountsMap&&(null==(n=e.allNetworksAccountsMap)||delete n[r])}}}),p=f.actions,b=p.addOverviewPendingTasks,m=p.removeOverviewPendingTasks,h=p.setOverviewPortfolioUpdatedAt,j=p.setAllNetworksAccountsMap,O=p.clearOverviewPendingTasks,g=p.removeAllNetworksAccountsMapByAccountId;t.default=f.reducer},514:function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM",(function(){return r})),n.d(t,"MAX_ACTIONS_DISPLAY_IN_CONFIRM",(function(){return o})),n.d(t,"MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM",(function(){return a}));var r=5,o=5,a=5},517:function(e,t,n){"use strict";n.r(t),n.d(t,"slice",(function(){return a})),n.d(t,"setIsAvailable",(function(){return c})),n.d(t,"setInProgress",(function(){return s})),n.d(t,"setNotInProgress",(function(){return l})),n.d(t,"setEnabled",(function(){return u})),n.d(t,"setDisabled",(function(){return d})),n.d(t,"incrBackupRequests",(function(){return f}));var r=n(128),o={isAvailable:!1,inProgress:!1,enabled:!1,backupRequests:1,lastBackup:void 0},a=Object(r.createSlice)({name:"cloudBackup",initialState:o,reducers:{setIsAvailable:function(e,t){e.isAvailable=t.payload},setInProgress:function(e){e.inProgress||(e.backupRequests=0,e.inProgress=!0)},setNotInProgress:function(e){e.inProgress&&(e.lastBackup=Date.now(),e.inProgress=!1)},setEnabled:function(e){e.enabled=!0},setDisabled:function(e){e.enabled=!1,e.backupRequests=0,e.lastBackup=void 0},incrBackupRequests:function(e){e.backupRequests+=1}}}),i=a.actions,c=i.setIsAvailable,s=i.setInProgress,l=i.setNotInProgress,u=i.setEnabled,d=i.setDisabled,f=i.incrBackupRequests;t.default=a.reducer},533:function(e,t,n){"use strict";n.r(t),n.d(t,"getDefaultLocale",(function(){return c}));var r=n(2661),o=n(726),a=n(150),i=o.LOCALES_OPTION.map((function(e){return e.value})),c=Object(a.memoizee)((function(){for(var e=r.locale,t=0;t<i.length;t+=1){var n=i[t];if(n===e)return n}for(var o=0;o<i.length;o+=1){var a=i[o];if(e.split("-")[0]===e)return a}for(var c=0;c<i.length;c+=1){var s=i[c],l=e.split("-")[0];if(s.startsWith(l))return s}return i[0]}))},552:function(e,t,n){"use strict";n.r(t),n.d(t,"TestnetLidoContractAddress",(function(){return r})),n.d(t,"MainnetLidoContractAddress",(function(){return o})),n.d(t,"TestnetKeleContractAddress",(function(){return a})),n.d(t,"MainnetKeleContractAddress",(function(){return i})),n.d(t,"TestnetLidoWithdrawalERC721",(function(){return c})),n.d(t,"MainnetLidoWithdrawalERC721",(function(){return s}));var r="0x1643E812aE58766192Cf7D2Cf9567dF2C37e9B7F",o="0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",a="0xdCAe38cC28606e61B1e54D8b4b134588e4ca7Ab7",i="0xACBA4cFE7F30E64dA787c6Dc7Dc34f623570e758",c="0xCF117961421cA9e546cD7f50bC73abCdB3039533",s="0x889edC2eDab5f40e902b864aD4d7AdE8E412F9B1"},553:function(e,t,n){"use strict";n.r(t),n.d(t,"FROM_INDEX_MAX",(function(){return x}));var r=n(57),o=n(225),a=n(20),i=n(47),c=n(100),s=n(847),l=n(126),u=n(4),d=n.n(u),f=n(50),p=n(12),b=n(121),m=n(1),h=n(44),j=n(21),O=n.n(j),g=n(88),v=n(25),y=n(0),x=2**31-1,w=function(e){var t=e.networkId,n=Object(v.useNetwork)({networkId:t}).network;return Object(y.jsx)(p.default,{children:Object(y.jsx)(b.default,{size:4,showInfo:!0,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==n?void 0:n.name,logoURI:null==n?void 0:n.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})})};t.default=function(){var e=Object(f.default)(),t=Object(g.default)(),n=Object(h.useRoute)(),u=Object(h.useNavigation)(),b=n.params,j=b.fromIndex,v=b.generateCount,_=b.onApply,k=b.networkId,I=Object(m.useState)([10,50,100]),S=d()(I,1)[0],T=Object(l.default)({defaultValues:{fromIndex:""+j,generateCount:v?""+v:"10"},mode:"onChange"}),P=T.control,C=T.handleSubmit,M=T.setValue,A=T.getValues,E=T.setError,D=T.formState.isValid,R=function(e){var t=0;if("string"===typeof e)try{t=parseInt(e)}catch(n){return!1}return"number"===typeof t&&Number.isFinite(t)&&Math.floor(t)===t},N=Object(m.useCallback)((function(e){var t=A().generateCount;if(R(e)&&R(t))return{max:x-parseInt(null!=t?t:"10"),error:new O.a(e).plus(null!=t?t:"10").isGreaterThan(x)}}),[A]),L=Object(m.useCallback)((function(e){var n=N(e.fromIndex);null!=n&&n.error?E("fromIndex",{message:t.formatMessage({id:"form__field_too_large"},{0:null==n?void 0:n.max})},{shouldFocus:!0}):(null!=u&&null!=u.canGoBack&&u.canGoBack()&&u.goBack(),null==_||_({fromIndex:parseInt(""+e.fromIndex),generateCount:e.generateCount?parseInt(""+e.generateCount):void 0}))}),[t,u,_,E,N]),B=Object(m.useMemo)((function(){return Object(y.jsxs)(y.Fragment,{children:[S.map((function(e,t){return Object(y.jsxs)(p.default,{alignItems:"center",flexDirection:"row",children:[Object(y.jsx)(s.default,{size:"sm",value:"true",onPress:function(){M("generateCount",""+e,{shouldValidate:!0})},title:e.toString()}),t!==S.length-1&&Object(y.jsx)(c.default,{orientation:"vertical",h:5,ml:1,mr:1})]},"box-"+e)})),Object(y.jsx)(p.default,{w:1})]})}),[S,M]);return Object(y.jsx)(r.default,{header:t.formatMessage({id:"action__bulk_add"}),headerDescription:Object(y.jsx)(w,{networkId:k}),primaryActionProps:{onPromise:C(L),isDisabled:!D},primaryActionTranslationId:"action__preview",hideSecondaryAction:!0,children:Object(y.jsx)(o.default,{children:Object(y.jsxs)(i.default,{children:[Object(y.jsx)(i.default.Item,{name:"fromIndex",control:P,label:t.formatMessage({id:"form__from",defaultMessage:"From"}),rules:{required:{value:!0,message:t.formatMessage({id:"form__field_is_required"})},min:{value:1,message:t.formatMessage({id:"form__field_too_small"},{0:1})},pattern:{value:/^[0-9]*$/,message:t.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!R(e))return t.formatMessage({id:"form__field_is_required"});if("boolean"!==typeof e){var n=N(e);if(null!=n&&n.error)return t.formatMessage({id:"form__field_too_large"},{0:null==n?void 0:n.max})}}},children:Object(y.jsx)(i.default.Input,{type:"number",keyboardType:"number-pad",size:e?"xl":"default"})}),Object(y.jsx)(i.default.Item,{name:"generateCount",control:P,label:t.formatMessage({id:"form__generate_amount",defaultMessage:"Generate Amount"}),rules:{required:{value:!0,message:t.formatMessage({id:"form__field_is_required"})},min:{value:1,message:t.formatMessage({id:"form__field_too_small"},{0:1})},max:{value:100,message:t.formatMessage({id:"form__field_too_large"},{0:100})},pattern:{value:/^[0-9]*$/,message:t.formatMessage({id:"form__field_only_integer"})}},children:Object(y.jsx)(i.default.Input,{type:"number",keyboardType:"number-pad",size:e?"xl":"default",rightCustomElement:B})}),Object(y.jsx)(a.default,{typography:{sm:"Body2",md:"Body2"},color:"text-subdued",mt:"-20px",children:t.formatMessage({id:"msg__up_to_str_can_be_generated_at_a_time"},{0:100})})]})})})}},556:function(e,t,n){"use strict";n.r(t),n.d(t,"ResponseError",(function(){return h})),n.d(t,"JsonPRCResponseError",(function(){return j}));var r=n(3),o=n.n(r),a=n(6),i=n.n(a),c=n(9),s=n.n(c),l=n(14),u=n.n(l),d=n(7),f=n.n(d),p=n(131);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var h=function(e){s()(n,e);var t=m(n);function n(e,n){var r;return r=t.call(this,e),n&&(r.response="jsonrpc"in n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n):n),r}return i()(n)}(n.n(p)()(Error)),j=function(e){s()(n,e);var t=m(n);function n(e,n,r){var o;return(o=t.call(this,e,n)).error=r,o}return i()(n)}(h)},568:function(e,t,n){"use strict";n.r(t),n.d(t,"swftcCustomerSupportUrl",(function(){return l})),n.d(t,"zeroXenabledNetworkIds",(function(){return u})),n.d(t,"quoterServerEndpoints",(function(){return d})),n.d(t,"estimatedTime",(function(){return f})),n.d(t,"networkProviderInfos",(function(){return p})),n.d(t,"limitOrderNetworkIds",(function(){return b})),n.d(t,"WETH9",(function(){return m})),n.d(t,"wToken",(function(){return h})),n.d(t,"ZeroExchangeAddress",(function(){return j})),n.d(t,"networkIdDontSupportRecipientAddress",(function(){return O}));var r,o,a,i,c=n(136),s=n(36),l="https://www.bangwo8.com/osp2016/im/pc/index.php?vendorID=782460&uid=&customSource=onekey",u=[s.OnekeyNetwork.eth,s.OnekeyNetwork.bsc,s.OnekeyNetwork.polygon,s.OnekeyNetwork.fantom,s.OnekeyNetwork.avalanche,s.OnekeyNetwork.celo,s.OnekeyNetwork.optimism,s.OnekeyNetwork.arbitrum],d=((r={})[s.OnekeyNetwork.heco]="https://0x.onekey.so/swap/v1/quote",r[s.OnekeyNetwork.goerli]="https://goerli.api.0x.org/swap/v1/quote",r),f=((o={})[s.OnekeyNetwork.eth]=60,o[s.OnekeyNetwork.bsc]=30,o[s.OnekeyNetwork.polygon]=30,o[s.OnekeyNetwork.fantom]=30,o[s.OnekeyNetwork.avalanche]=30,o[s.OnekeyNetwork.celo]=60,o[s.OnekeyNetwork.optimism]=60,o[s.OnekeyNetwork.heco]=15,o[s.OnekeyNetwork.okt]=15,o),p=((a={})[s.OnekeyNetwork.okt]=[{name:"CherrySwap",logoUrl:"https://common.onekey-asset.com/logo/CherrySwap.png"}],a[s.OnekeyNetwork.heco]=[{name:"MDex",logoUrl:"https://common.onekey-asset.com/logo/MdexSwap.png"}],a[s.OnekeyNetwork.xdai]=[{name:"HoneySwap",logoUrl:"https://common.onekey-asset.com/logo/HoneySwap.png"}],a),b=[s.OnekeyNetwork.eth,s.OnekeyNetwork.bsc,s.OnekeyNetwork.polygon],m=((i={})[s.OnekeyNetwork.eth]=Object(c.formatServerToken)({name:"Wrapped Ether",symbol:"WETH",address:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",decimals:18,logoURI:"https://common.onekey-asset.com/token/evm-1/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2.jpg",impl:"evm",chainId:"1"}),i[s.OnekeyNetwork.bsc]=Object(c.formatServerToken)({name:"Wrapped BNB",symbol:"WBNB",address:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",decimals:18,logoURI:"https://common.onekey-asset.com/token/evm-56/0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c.jpg",impl:"evm",chainId:"56"}),i[s.OnekeyNetwork.polygon]=Object(c.formatServerToken)({name:"Wrapped Matic",symbol:"WMATIC",address:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",decimals:18,logoURI:"https://common.onekey-asset.com/token/evm-137/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270.jpg",impl:"evm",chainId:"137"}),i);function h(e){return!e.tokenIdOnNetwork&&m[e.networkId]?m[e.networkId]:e}var j="0xdef1c0ded9bec7f1a1670819833240f027b25eff",O=[s.OnekeyNetwork.sol,s.OnekeyNetwork.apt]},595:function(e,t,n){"use strict";n.r(t);var r=n(57),o=n(1072),a=n(12),i=n(1657),c=n(27),s=n(305),l=n(0);t.default=function(e){var t=e.title,n=e.description,u=e.securityReminder,d=e.onComplete;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(s.SkipAppLock,{}),Object(l.jsx)(r.default,{header:"PIN",footer:null,children:Object(l.jsx)(o.default,{flex:1,keyboardVerticalOffset:120,children:Object(l.jsxs)(a.default,{flexDirection:"column",alignItems:"center",h:"100%",justifyContent:"space-between",children:[Object(l.jsxs)(a.default,{alignItems:"center",children:[Object(l.jsx)(c.default.DisplayXLarge,{mt:8,mx:9,color:"text-default",textAlign:"center",children:t}),Object(l.jsx)(c.default.Body1,{mt:2,mx:9,color:"text-subdued",textAlign:"center",children:n}),Object(l.jsx)(a.default,{mt:8,children:Object(l.jsx)(i.default,{autoFocus:!0,onCodeCompleted:function(e){return null==d?void 0:d(e)}})})]}),Object(l.jsx)(c.default.Body2,{mb:3,px:8,textAlign:"center",children:u})]})})})]})}},596:function(e,t,n){"use strict";n.r(t),n.d(t,"FeeSpeedLabel",(function(){return h}));var r=n(41),o=n(3),a=n.n(o),i=n(20),c=n(15),s=n.n(c),l=n(1),u=n(88),d=n(24),f=n(0),p=["index","isCustom","iconSize","prices"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t,n=e.index,o=e.isCustom,a=e.iconSize,c=void 0===a?18:a,b=e.prices,h=s()(e,p),j=Object(u.default)(),O=parseInt(n,10);b&&1===b.length&&(O=1);var g="";if(o)g="\u2699\ufe0f",t="form__gear_custom";else switch(O){case 0:g="\ud83d\udeb4\ud83c\udffb",t="form__low";break;case 1:g="\ud83d\ude95",t="form__normal";break;case 2:g="\ud83d\ude85",t="form__high";break;default:g="\ud83d\ude95",t="form__normal"}var v=Object(l.useCallback)((function(){if(!o&&1===O&&d.default.isNativeAndroid)return c>20?{mt:"-10px"}:{mt:"-5px"}}),[c,O,o]);return Object(f.jsxs)(r.default,m(m({alignItems:"center"},h),{},{children:[Object(f.jsx)(i.default,m(m({},v()),{},{fontSize:c,children:g})),Object(f.jsx)(i.default,{typography:"Body1Strong",children:j.formatMessage({id:t})})]}))}},599:function(e,t,n){"use strict";n.r(t),n.d(t,"toPlainErrorObject",(function(){return o})),n.d(t,"safeConsoleLogError",(function(){return a}));var r=n(24);function o(e){return{name:e.name,message:e.message,code:e.code,data:e.data,className:e.className,info:e.info,key:e.key,stack:r.default.isNativeAndroid?"Access error.stack failed in Android hermes engine: unable to serialize, circular reference is too complex to analyze":e.stack}}function a(e){r.default.isNativeAndroid&&delete e.stack}},600:function(e,t,n){"use strict";n.r(t),n.d(t,"generalSlice",(function(){return o})),n.d(t,"changeActiveAccount",(function(){return i})),n.d(t,"changeActiveNetwork",(function(){return c})),n.d(t,"setActiveIds",(function(){return s})),n.d(t,"changeActiveExternalWalletName",(function(){return l}));var r=n(128),o=Object(r.createSlice)({name:"general",initialState:{activeAccountId:null,activeNetworkId:null,activeWalletId:null,activeExternalWalletName:null},reducers:{setActiveIds:function(e,t){var n=t.payload,r=n.activeAccountId,o=n.activeNetworkId,a=n.activeWalletId;e.activeAccountId=r,e.activeWalletId=a,e.activeNetworkId=o},changeActiveAccount:function(e,t){var n=t.payload,r=n.activeAccountId,o=n.activeWalletId;e.activeAccountId=r,e.activeWalletId=o},changeActiveNetwork:function(e,t){e.activeNetworkId=t.payload},changeActiveExternalWalletName:function(e,t){e.activeExternalWalletName=t.payload}}}),a=o.actions,i=a.changeActiveAccount,c=a.changeActiveNetwork,s=a.setActiveIds,l=a.changeActiveExternalWalletName;t.default=o.reducer},612:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n(3),a=n.n(o),i=n(15),c=n.n(i),s=n(391),l=n(2623),u=n(1525),d=n(0),f=["url","thumbnail","asset","resizeMode","size","skeleton"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t,n=e.url,o=e.thumbnail,a=void 0===o||o,i=e.asset,p=e.resizeMode,m=e.size,h=e.skeleton,j=void 0!==h&&h,O=c()(e,f),g=null!=n?n:i.nftscanUri,v=a?i.image.thumbnail:i.image.source,y=Object(s.getImageWithAsset)(i),x=null!=(t=i.contractTokenId)?t:i.tokenAddress;return y&&x?Object(d.jsx)(r.default,b(b({size:m+"px"},O),{},{overflow:"hidden",children:Object(d.jsx)(l.default,{alt:void 0,resizeMode:p,width:m+"px",height:m+"px",url:g,s3Url:v,nftSource:{contractAddress:i.contractAddress,tokenId:x,url:y},skeleton:j,bgColor:"surface-neutral-default",fallbackElement:Object(d.jsx)(u.MemoFallbackElement,b({contentType:i.contentType,logoUrl:i.collection.logoUrl,size:m},O))})})):Object(d.jsx)(u.MemoFallbackElement,b({contentType:i.contentType,logoUrl:i.collection.logoUrl,size:m},O))}},631:function(e,t,n){"use strict";n.r(t),n.d(t,"fileToDataUrl",(function(){return v})),n.d(t,"fileToBuffer",(function(){return y})),n.d(t,"elementToImageData",(function(){return x})),n.d(t,"checkImage",(function(){return w})),n.d(t,"check",(function(){return _})),n.d(t,"imageDataToHex",(function(){return k})),n.d(t,"isValid",(function(){return I})),n.d(t,"elementToHomescreen",(function(){return S})),n.d(t,"imageCache",(function(){return T})),n.d(t,"compressHomescreen",(function(){return P})),n.d(t,"formatBytes",(function(){return C})),n.d(t,"generateUploadResParams",(function(){return M}));var r=n(3),o=n.n(r),a=n(2),i=n.n(a),c=n(13),s=n.n(c),l=n(26),u=n(73),d=n(1663),f=n(2443),p=n(426),b=n(19);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j="homescreen-canvas",O=/^data:image\/(jpeg|png)/,g=function(e){return s()(Array(e).keys())},v=function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(e){return n(e.target.result)},t.onerror=function(e){r(e)},t.readAsDataURL(e)}))},y=function(e){var t=new FileReader;return new Promise((function(n,r){t.onerror=function(e){r(e)},t.onload=function(e){var t,o=null==e||null==(t=e.target)?void 0:t.result;if(o&&"string"!==typeof o){var a=l.Buffer.from(o);return n(a)}r(new Error("FileReader readAsArrayBuffer failed, reader.result is not valid ArrayBuffer"))},t.readAsArrayBuffer(e)}))},x=function(e,t,n){var r=function(){var e=document.getElementById(j);if(null!=e&&e instanceof HTMLCanvasElement)return e;var t=document.createElement("canvas");t.id=j,t.style.visibility="hidden",t.style.position="absolute",t.style.height="0";var n=document.body;if(null==n)throw new Error("document.body is null");return n.appendChild(t),t}().getContext("2d");if(null==r)throw new Error("2D context is null");return r.clearRect(0,0,t,n),r.drawImage(e,0,0),r.getImageData(0,0,t,n)},w=function(e,t){if(64!==e.height)throw new Error("Not a correct height.");if(128!==e.width)throw new Error("Not a correct width.");var n=x(e,128,64);1===t&&g(n.height).forEach((function(e){g(n.width).forEach((function(t){var r=4*e*n.width+4*t,o=n.data[r],a=n.data[r+1],i=n.data[r+2];if(255!==n.data[r+3])throw new Error("Unexpected alpha.");var c=!1;if(0===o&&0===a&&0===i&&(c=!0),255===o&&255===a&&255===i&&(c=!0),!c)throw new Error("wrong color combination "+o+" "+a+" "+i+".")}))}))},_=function(e,t){return v(e).then((function(e){return function(e){var t=new Image;return new Promise((function(n,r){t.onload=function(){n(t)},t.onerror=function(e){r(e)},t.src=e}))}(e)})).then((function(e){return w(e,t)}))},k=function(e){return function(e,t,n){return g(t).map((function(t){return g(e/8).map((function(r){var o=g(8).map((function(n){return 4*(t*e+8*r+n)})).map((function(e){return 0===n.data[e]?"0":"1"})).join("");return String.fromCharCode(parseInt(o,2))})).join("")})).join("").split("").map((function(e){return e.charCodeAt(0)})).map((function(e){return 255&e})).map((function(e){return e.toString(16)})).map((function(e){return e.length<2?"0"+e:e})).join("")}(128,64,e)},I=function(e){return!!e&&O.test(e)},S=function(e){var t=x(e,128,64),n=k(t);return function(){var e=document.getElementById(j);e&&e.remove()}(),n},T={};var P=function(){var e=i()((function*(e,t,n,r,o){var a;if(e){var i=[{resize:{height:n}}],c=function(e,t,n,r){var o=Math.ceil(r/t*e);return o<=n?null:Math.ceil(Math.ceil(o/2)-Math.ceil(n/2))}(r,o,t,n);null!==c&&i.push({crop:{height:n,width:t,originX:c,originY:0}});var s=yield Object(f.manipulateAsync)(e,i,{compress:.9,format:p.SaveFormat.JPEG,base64:!0}),u=l.Buffer.from(null!=(a=s.base64)?a:"","base64"),d=new Uint8Array(u);return h(h({},s),{},{arrayBuffer:d})}}));return function(t,n,r,o,a){return e.apply(this,arguments)}}();function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";var n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/n**a).toFixed(r))+" "+o[a]}var M=function(){var e=i()((function*(e,t,n){var r,o,a,i,c=yield P(e,480,800,t,n),s=yield P(e,144,240,t,n);if(null!=c&&c.arrayBuffer||null!=s&&s.arrayBuffer)return b.default.hardwareSDK.info("homescreen data byte length: ",C(null!=(r=null==c||null==(o=c.arrayBuffer)?void 0:o.byteLength)?r:0,3)),b.default.hardwareSDK.info("homescreen thumbnail byte length: ",C(null!=(a=null==s||null==(i=s.arrayBuffer)?void 0:i.byteLength)?a:0,3)),{resType:d.ResourceType.WallPaper,suffix:"jpeg",dataHex:Object(u.bytesToHex)(null==c?void 0:c.arrayBuffer),thumbnailDataHex:Object(u.bytesToHex)(null==s?void 0:s.arrayBuffer),nftMetaData:""}}));return function(t,n,r){return e.apply(this,arguments)}}()},642:function(e,t,n){"use strict";n.r(t);var r=n(16);n.d(t,"ReceiveTokenModalRoutes",(function(){return r.ReceiveTokenModalRoutes}))},643:function(e,t,n){"use strict";n.r(t),n.d(t,"TxActionElementTitle",(function(){return p})),n.d(t,"TxActionElementTitleHeading",(function(){return b})),n.d(t,"TxActionElementTitleNormal",(function(){return m}));var r=n(3),o=n.n(r),a=n(20),i=n(15),c=n.n(i),s=n(88),l=n(0),u=["titleInfo","iconInfo","transferAmount"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=e.titleInfo,n=(e.iconInfo,e.transferAmount,c()(e,u)),r=Object(s.default)(),o="";return null!=t&&t.titleKey&&(o=r.formatMessage({id:null==t?void 0:t.titleKey})),null!=t&&t.title&&(o=null==t?void 0:t.title),o?Object(l.jsx)(a.default,f(f({whiteSpace:"nowrap"},n),{},{children:o||""})):null}function b(e){return Object(l.jsx)(p,f({typography:"Heading"},e))}function m(e){return Object(l.jsx)(p,f({typography:"Body1Strong"},e))}},645:function(e,t,n){"use strict";n.r(t),n.d(t,"TxDetailView",(function(){return ve}));var r=n(12),o=n(183),a=n(20),i=n(486),c=n(3),s=n.n(c),l=n(1),u=n(21),d=n.n(u),f=n(88),p=n(25),b=n(514),m=n(570),h=n(54),j=n(40),O=n(82),g=n(496),v=n(578),y=n(190),x=n(0);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _=function(e){var t=e.decodedTx,n=Object(v.useClipboard)().copyText,r=Object(l.useMemo)((function(){return[{id:"action__copy",onPress:function(){var e,r;return n(null!=(e=null==(r=t.encodedTx)?void 0:r.data)?e:"")}}]}),[n,t.encodedTx]);return Object(x.jsx)(y.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:r},e))};function k(e){var t,n,o=e.decodedTx,i=e.isSendConfirm,c=Object(f.default)(),s=[];(o.nonce&&o.nonce>=0&&s.push({title:c.formatMessage({id:"form__nonce"}),content:""+new u.BigNumber(o.nonce).toFixed()}),null!=(t=o.encodedTx)&&t.data)&&s.push({title:c.formatMessage({id:"form__hex_data"}),content:Object(x.jsx)(a.default,{numberOfLines:1,typography:"Body2Strong",children:null==(n=o.encodedTx)?void 0:n.data}),extra:Object(x.jsx)(_,{decodedTx:o,children:Object(x.jsx)(O.default,{circle:!0,type:"plain",iconSize:18,name:"EllipsisVerticalOutline"})})});return i?null:s&&0!==s.length?Object(x.jsx)(m.default,{arrowPosition:"right",renderCustomTrigger:function(e,t){return t?Object(x.jsx)(h.default,{rightIcon:Object(x.jsx)(j.default,{size:12,name:"ChevronDownMini",color:"icon-subdued"}),type:"plain",size:"sm",mt:2,onPress:e,children:Object(x.jsx)(a.default,{textAlign:"center",typography:"Body1Strong",fontSize:"14px",color:"text-subdued",children:c.formatMessage({id:"action__advance"})})}):null},children:Object(x.jsxs)(r.default,{mt:6,children:[i?null:Object(x.jsx)(a.default,{typography:"Subheading",textTransform:"uppercase",mb:3,color:"text-subdued",children:c.formatMessage({id:"action__advance"})}),Object(x.jsx)(g.TxDetailActionBox,{details:s,showContentDivider:!0})]})}):null}var I=n(64),S=n(196),T=n(415),P=n(212),C=n(1300),M=n(369);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=function(e){var t=e.decodedTx,n=Object(v.useClipboard)().copyText,r=Object(T.useNetwork)({networkId:t.networkId}).network,o=Object(M.default)(r),a=Object(l.useMemo)((function(){return[{id:"action_copy_hash",onPress:function(){return n(t.txid)}},o.hasAvailable&&{id:"action__view_in_browser",onPress:function(){return o.openTransactionDetails(t.txid)}}]}),[n,t.txid,o]);return Object(x.jsx)(y.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:a},e))};function D(e){var t=e.decodedTx,n=t.feeInfo,r=t.totalFeeInNative,o=e.network;if(r&&o)return r+" "+o.symbol;if(!n||!o)return"--";var a=Object(S.calculateTotalFeeRange)(n);return Object(S.calculateTotalFeeNative)({amount:a.max,info:{defaultPresetIndex:"0",prices:[],feeSymbol:o.feeSymbol,feeDecimals:o.feeDecimals,nativeSymbol:o.symbol,nativeDecimals:o.decimals}})+" "+o.symbol}function R(e){var t=e.decodedTx,n=e.historyTx,o=e.feeInput,i=e.isBatchSendConfirm,c=e.isSendConfirm,s=e.isHistoryDetail,u=Object(T.useNetwork)({networkId:t.networkId}).network,d=[],p=Object(f.default)(),b=Object(v.useClipboard)().copyText,m=Object(l.useRef)(0);return null!=u&&u.settings.hiddenFeeOnTxDetail&&!s||d.push({title:p.formatMessage({id:"content__fee"}),content:o||D({network:u,decodedTx:t})}),function(e){var t=e.txid,n=e.txidPattern;return!!t&&(!n||new RegExp(n).test(t))}({txid:t.txid,txidPattern:null==u?void 0:u.settings.transactionIdPattern})&&d.push({title:Object(x.jsx)(I.default,{cursor:"default",style:{cursor:"default"},onPress:function(){m.current+=1,m.current>5&&(m.current=0,b(JSON.stringify(null!=n?n:t,null,2)))},children:Object(x.jsx)(C.TxActionElementDetailCellTitleText,{children:p.formatMessage({id:"content__hash"})})}),content:Object(x.jsx)(P.TxActionElementAddressNormal,{address:t.txid,isCopy:!1,isLabelShow:!1}),extra:Object(x.jsx)(E,{decodedTx:t,children:Object(x.jsx)(O.default,{circle:!0,type:"plain",iconSize:18,name:"EllipsisVerticalOutline"})})}),null!=u&&u.settings.txExtraInfo&&(null==u||u.settings.txExtraInfo.forEach((function(e){var n=t.extraInfo&&t.extraInfo[e.key];n&&d.push({title:p.formatMessage({id:e.title}),content:Object(x.jsx)(P.TxActionElementAddressNormal,{address:n,isCopy:e.canCopy,isLabelShow:!1,isShorten:e.isShorten})})}))),d.length?i?null:Object(x.jsxs)(r.default,{children:[c?null:Object(x.jsx)(a.default,{typography:"Subheading",textTransform:"uppercase",mb:3,color:"text-subdued",children:p.formatMessage({id:"content__details"})}),Object(x.jsx)(g.TxDetailActionBox,{details:d,showContentDivider:!0})]}):null}var N=n(100),L=n(60),B=n.n(L),F=n(52),U=n(76),H=n(48),W=n(2),V=n.n(W),z=n(4),G=n.n(z),K=n(17);function q(e){var t=Object(f.default)(),n=e.tokensInTx,a=Object(l.useState)([]),i=G()(a,2),c=i[0],s=i[1],u=Object(l.useState)([]),d=G()(u,2),b=d[0],m=d[1],h=Object(l.useState)(!1),j=G()(h,2),O=j[0],g=j[1],v=Object(p.useActiveWalletAccount)(),y=v.accountId,w=v.networkId,_=Object(l.useCallback)(V()((function*(){if(!O){g(!0);for(var e=!1,n=0,r=c.length;n<r;n+=1){var o=c[n];(yield K.default.serviceToken.addAccountToken(w,y,o.tokenIdOnNetwork))&&(e=!0)}if(e){var a=yield K.default.engine.getTokens(w,y);m(a),H.default.show({title:t.formatMessage({id:"msg__token_added",defaultMessage:"Token Added"})})}g(!1)}})),[y,t,O,w,c]),k=Object(l.useMemo)((function(){return c.map((function(e){return e.symbol})).join(", ")}),[c]);return Object(l.useEffect)((function(){(function(){var e=V()((function*(){var e=yield K.default.engine.getTokens(w,y);m(e)}));return function(){return e.apply(this,arguments)}})()()}),[y,w]),Object(l.useEffect)((function(){!function(){for(var e=[],t=function(){var t=n[r];b.some((function(e){return t.tokenIdOnNetwork===e.tokenIdOnNetwork&&!e.autoDetected}))||e.push(t)},r=0,o=n.length;r<o;r+=1)t();s(e)}()}),[n,s,b]),c&&0!==c.length?Object(x.jsx)(r.default,{mb:6,children:Object(x.jsx)(o.default,{title:t.formatMessage({id:"msg__add_str_to_your_token_list"},{0:k}),alertType:"info",dismiss:!1,action:O?Object(x.jsx)(U.default,{}):t.formatMessage({id:"action__add"}),onAction:_})}):null}var Z=n(41),X=n(106),Y=n(44),Q=n(1659),$=n.n(Q),J=n(2603),ee=n.n(J),te=n(2604),ne=n.n(te),re=n(2605),oe=n.n(re),ae=n(11),ie=n(16),ce=n(381);function se(e){var t=e.decodedTx,n=e.isSendConfirm,o=e.tokensInTx,i=Object(Y.useNavigation)(),c=Object(f.default)(),s=Object(ce.getTxStatusInfo)({decodedTx:t}).text,u=Object(l.useMemo)((function(){return t.status===F.IDecodedTxStatus.Pending?ne.a:t.status===F.IDecodedTxStatus.Confirmed?oe.a:ee.a}),[t.status]),d=Object(l.useCallback)((function(e){K.default.serviceSwap.sellToken(e),i.navigate(ie.TabRoutes.Swap)}),[i]),p=Object(l.useMemo)((function(){return o.map((function(e){var t;return{textValue:null!=(t=null==e?void 0:e.symbol)?t:"",onPress:function(){return d(e)}}}))}),[d,o]),b=Object(ae.isLightningNetworkByNetworkId)(t.networkId);return n?null:Object(x.jsx)(r.default,{mb:6,children:Object(x.jsxs)(Z.default,{justifyContent:"space-between",alignItems:"center",children:[Object(x.jsxs)(Z.default,{space:2,alignItems:"center",children:[Object(x.jsx)(X.default,{size:10,source:u}),Object(x.jsxs)(r.default,{children:[Object(x.jsx)(a.default,{typography:"Body1Strong",children:c.formatMessage({id:s})}),(t.createdAt||t.updatedAt)&&Object(x.jsx)(a.default,{typography:"Body2",color:"text-subdued",children:$()(t.createdAt||t.updatedAt).format("MMM DD YYYY, HH:mm")})]})]}),1===o.length&&!b&&Object(x.jsx)(h.default,{size:"sm",type:"basic",onPress:function(){return d(o[0])},children:c.formatMessage({id:"title__swap"})}),o.length>1&&Object(x.jsx)(y.default,{options:p,children:Object(x.jsx)(h.default,{size:"sm",type:"basic",children:c.formatMessage({id:"title__swap"})})})]})})}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=e.decodedTx,n=e.isSendConfirm,o=Object(l.useMemo)((function(){var e,n={};return(null!=(e=t.outputActions)?e:t.actions).forEach((function(e){var t,r,o,a,i,c,s=[];switch(e.type){case F.IDecodedTxActionType.NATIVE_TRANSFER:s=[null==(t=e.nativeTransfer)?void 0:t.tokenInfo];break;case F.IDecodedTxActionType.TOKEN_TRANSFER:s=[null==(r=e.tokenTransfer)?void 0:r.tokenInfo];break;case F.IDecodedTxActionType.TOKEN_APPROVE:s=[null==(o=e.tokenApprove)?void 0:o.tokenInfo];break;case F.IDecodedTxActionType.TOKEN_ACTIVATE:var l=e.tokenActivate;s=[ue(ue({},l),{},{id:l.tokenAddress,tokenIdOnNetwork:l.tokenAddress,networkId:l.networkId})];break;case F.IDecodedTxActionType.INTERNAL_SWAP:s=[null==(a=e.internalSwap)?void 0:a.send.tokenInfo,null==(i=e.internalSwap)?void 0:i.receive.tokenInfo];break;case F.IDecodedTxActionType.INTERNAL_STAKE:s=[null==(c=e.internalStake)?void 0:c.tokenInfo]}s.length>0&&s.filter((function(e){return!B()(e)})).forEach((function(e){return n[e.tokenIdOnNetwork]=e}))})),Object.values(n)}),[t.actions,t.outputActions]);return n?null:Object(x.jsxs)(r.default,{mb:6,children:[Object(x.jsx)(se,ue({tokensInTx:o},e)),Object(x.jsx)(q,ue({tokensInTx:o},e)),Object(x.jsx)(N.default,{})]})}var fe=n(1302),pe=function(e){var t=e.origin,n=e.networkId,o=Object(l.useMemo)((function(){try{return new URL(t)}catch(e){}}),[t]);return o?Object(x.jsx)(r.default,{bg:"surface-default",borderRadius:12,p:4,mb:6,children:Object(x.jsx)(fe.DappSecurityView,{hostname:o.hostname,origin:o.origin,networkId:n})}):null},be=n(1303),me=n(2442),he=n(723),je=n(1311);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t,n,c,s,u,m=e.historyTx,h=e.decodedTx,j=e.isHistoryDetail,O=e.isSendConfirm,g=e.isBatchSendConfirm,v=e.sendConfirmParamsParsed,y=e.advancedSettingsForm,w=e.transferAmount,_=e.transformType,I=void 0===_?"T1":_,S=e.isSingleTransformMode,T=Object(be.getReplacedTxAlertTextKeys)({historyTx:m}),P=Object(p.useNetworkSimple)(h.networkId),C=Object(f.default)(),M=Object(ce.getDisplayedActions)({decodedTx:h}),A=M.length>1,E=Object(l.useCallback)((function(){for(var e=[],t=M.length,n=0,r=d.a.min(t,b.MAX_ACTIONS_DISPLAY_IN_CONFIRM).toNumber();n<r;n+=1){var o=M[n],c=Object(je.getTxActionMeta)({action:o,decodedTx:h,intl:C,historyTx:void 0});c.meta.transferAmount=w;var s=c.meta,l=c.components[I];e.push(Object(x.jsx)(i.default.Item,{wrap:Object(x.jsx)(l,ge(ge({},c.props),{},{meta:s,network:P})),hidePadding:!0},n))}return t>b.MAX_ACTIONS_DISPLAY_IN_CONFIRM&&e.push(Object(x.jsx)(a.default,{typography:"Body2Strong",color:"text-subdued",paddingY:4,textAlign:"center",children:C.formatMessage({id:"action__str_more_actions"},{count:t-b.MAX_ACTIONS_DISPLAY_IN_CONFIRM})})),e}),[h,M,C,P,w,I]),D=j?A:!S||A;return Object(x.jsxs)(x.Fragment,{children:[T&&T.length?Object(x.jsx)(r.default,{testID:"replacedTxTextKeys",mb:6,children:Object(x.jsx)(o.default,{title:C.formatMessage({id:T[0]}),description:C.formatMessage({id:T[1]}),alertType:"info"})}):null,Object(x.jsx)(he.TxDetailContextProvider,{isMultipleActions:!0,isHistoryDetail:j,isSendConfirm:O,sendConfirmParamsParsed:v,isCollapse:D,isBatchSendConfirm:g,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de,ge({},e)),Object(x.jsx)(pe,{origin:null!=(t=null!=(n=null==h||null==(c=h.interactInfo)?void 0:c.url)?n:null==v||null==(s=v.sourceInfo)?void 0:s.origin)?t:"",networkId:null!=(u=null==h?void 0:h.networkId)?u:""}),Object(x.jsx)(R,ge({},e)),Object(x.jsx)(k,ge({},e)),y,Object(x.jsxs)(r.default,{mt:S||j?6:0,flex:1,children:[O?null:Object(x.jsx)(a.default,{typography:"Subheading",textTransform:"uppercase",mb:3,color:"text-subdued",children:C.formatMessage({id:"form__transaction"})}),D?Object(x.jsx)(i.default.Box,{p:"0",borderWidth:1,borderColor:"border-subdued",flex:1,children:E()}):Object(x.jsx)(me.TxActionsListView,ge(ge({},e),{},{transformType:"T1",space:6}))]})]})})]})}},646:function(e,t,n){"use strict";n.r(t),n.d(t,"RequestLibNames",(function(){return r})),n.d(t,"RequestInterceptorBase",(function(){return l}));var r,o=n(6),a=n.n(o),i=n(167),c=n.n(i),s=n(24);!function(e){e.axios="axios",e.fetch="fetch",e.superagent="superagent"}(r||(r={}));var l=function(){function e(){}var t=e.prototype;return t.normalizeHeaderKey=function(e){var t;return null!=(t=null==e?void 0:e.toLowerCase())?t:e},t.interceptRequest=function(e){var t=e.url;if(t&&function(e){var t=e.url;for(var n of["onekey.so","onekeycn.com","onekeytest.com","localhost","127.0.0.1","192.168"])if(t.includes(n))return!0;return!1}({url:t})){var n=c.a.v4();this.setHeader(this.normalizeHeaderKey("X-Request-By"),JSON.stringify({agent:"OneKey/"+this.requestLibName,isNativeIOS:s.default.isNativeIOS,isNativeAndroid:s.default.isNativeAndroid,isDesktop:!1,isExtChrome:!1,isExtFirefox:!1,version:s.default.version,buildNumber:s.default.buildNumber,requestId:n})),this.setHeader(this.normalizeHeaderKey("x-onekey-request-id"),n),this.setHeader(this.normalizeHeaderKey("traceparent"),function(e){return"00-"+e.replace(/-/g,"")+"-08e5841cdcbc1c47-01"}(n))}this.setDefaultTimeout(6e4),this.setDefaultRetry(0)},a()(e)}()},663:function(e,t,n){"use strict";n.r(t),n.d(t,"calculateGains",(function(){return c})),n.d(t,"getSuggestedDecimals",(function(){return s})),n.d(t,"getTokenValue",(function(){return l})),n.d(t,"getTokenValues",(function(){return u})),n.d(t,"getPreBaseValue",(function(){return d})),n.d(t,"getSummedValues",(function(){return f})),n.d(t,"formatAmount",(function(){return p}));var r=n(21),o=n.n(r),a=n(136),i=n(822);function c(e){var t=e.basePrice,n=e.price,r="text-subdued",a="surface-neutral-subdued";if(!t||!n)return{gain:0,gainNumber:0,gainText:"0.00",percentageGain:"0.00%",isPositive:!1,gainTextColor:r,gainTextBg:a};var c=new o.a("string"===typeof n?+n:n).minus(null!=t?t:0),s=c.toNumber(),l=s>0,u=t?c.dividedBy(t).multipliedBy(100).toNumber():0;return s<0?(r="text-critical",a="surface-critical-default"):s>0&&(r="text-success",a="surface-success-default"),{gain:c,gainNumber:s,gainText:l?"+"+Object(i.formatDecimalZero)(s):Object(i.formatDecimalZero)(s),gainTextColor:r,gainTextBg:a,percentageGain:u=l?"+"+u.toFixed(2)+"%":u.toFixed(2)+"%",isPositive:l}}function s(e){return e<1?Math.min(8,e.toString().slice(2).slice().search(/[^0]/g)+3):2}function l(e){var t=e.token,n=e.price,r=(e.balances[Object(a.getBalanceKey)(t)]||{balance:"0"}).balance;if(void 0!==r){var i=new o.a(n||0);return new o.a(r).times(i)}}function u(e){var t=e.tokens,n=e.prices,r=e.balances,i=e.vsCurrency;return t.map((function(e){var t,c=null!=e&&e.tokenIdOnNetwork?(null==e?void 0:e.networkId)+"-"+e.tokenIdOnNetwork:null!=(t=null==e?void 0:e.networkId)?t:"",s=(r[Object(a.getBalanceKey)(e)]||{balance:0}).balance;if(void 0!==s){var l,u,d=new o.a(0);if(null!=n&&n[c])if("number"===typeof(null==n?void 0:n[c]))d=new o.a((null==n?void 0:n[c])||0);else d=new o.a((null==n||null==(u=n[c])?void 0:u[i])||0);return new o.a(s).times(null!=(l=d)?l:0)}return new o.a(0)}))}function d(e){var t=e.priceInfo,n=e.vsCurrency,r=void 0===n?"usd":n,a=new o.a((null==t?void 0:t[r+"_24h_change"])||0),i=new o.a((null==t?void 0:t[r])||0),c={};return c[r]=i.dividedBy(a.plus(100)).times(100).toNumber(),c}function f(e){var t=e.tokens,n=e.prices,r=e.balances,a=e.vsCurrency,i=void 0===a?"usd":a,c=e.hideSmallBalance,s=void 0!==c&&c;return r&&!Object.values(r).every((function(e){return"undefined"===typeof e}))&&n?u({tokens:t,prices:n,balances:r,vsCurrency:i}).reduce((function(e,t){return t.isNaN()||s&&t.isLessThan(1)?e:e.plus(t)}),new o.a(0)):new o.a(NaN)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return"";var r=new o.a(e);return r.isNaN()?"":r.decimalPlaces(t,n).toFixed()}},683:function(e,t,n){"use strict";n.r(t),n.d(t,"UI_HTML_DEFAULT_MIN_WIDTH",(function(){return d})),n.d(t,"UI_HTML_DEFAULT_MIN_HEIGHT",(function(){return f}));var r=n(60),o=n.n(r),a=n(2),i=n.n(a),c=n(24),s=n(1285),l=n(998);n.d(t,"getExtensionIndexHtml",(function(){return l.getExtensionIndexHtml}));var u,d=375,f=600;function p(e,t){var n=t.routes,r=t.params,o=void 0===r?{}:r,a=[].concat(n).join("/"),i=new URLSearchParams(o).toString(),c=s.normalRouteWhiteList.find((function(e){return e.screen===a&&e.exact}));null!=c&&c.path&&(a=c.path.replace(/^\//g,""));var l="";return(a||i)&&(l="#/"+(a||""),i&&(l=l+"?"+(i||""))),chrome.runtime.getURL("/"+e+l)}function b(e){return m.apply(this,arguments)}function m(){return(m=i()((function*(e){return new Promise((function(t){chrome.tabs.get(e,t)}))}))).apply(this,arguments)}function h(e){return j.apply(this,arguments)}function j(){return(j=i()((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o()(n.tabId)||(t=yield b(n.tabId)),new Promise((function(n){t&&t.id?chrome.tabs.update(t.id,{url:e,active:!0},n):chrome.tabs.create({url:e},n)}))}))).apply(this,arguments)}function O(){return(O=i()((function*(e){var t=p("ui-expand-tab.html",e),n=yield h(t,{tabId:u});return u=null==n?void 0:n.id,n}))).apply(this,arguments)}function g(){return(g=i()((function*(e){var t=p("ui-standalone-window.html",e),n=0,r=0;try{var o=yield browser.windows.getLastFocused();o&&o.top&&o.left&&o.width&&(r=o.top,n=o.left+(o.width-d))}catch(l){var a=window,i=a.screenX,c=a.screenY,s=a.outerWidth;r=Math.max(c,0),n=Math.max(i+(s-d),0)}return chrome.windows.create({focused:!0,type:"popup",height:f+50,width:d,url:t,top:r,left:n})}))).apply(this,arguments)}t.default={openUrl:function(e){window.open(e,"_blank")},openUrlInTab:h,openExpandTab:function(e){return O.apply(this,arguments)},openStandaloneWindow:function(e){return g.apply(this,arguments)},updatBrowserActionIcon:function(e){var t,n,r,o,a="icon-128"+(e?"":"-disable")+".png";c.default.isManifestV3?null==(t=chrome)||null==(n=t.action)||n.setIcon({path:a}):null==(r=chrome)||null==(o=r.browserAction)||o.setIcon({path:a})}}},686:function(e,t,n){"use strict";n.r(t),n.d(t,"isPortalExisted",(function(){return f})),n.d(t,"enterPortal",(function(){return p})),n.d(t,"PortalEntry",(function(){return b})),n.d(t,"PortalExit",(function(){return m}));var r=n(4),o=n.n(r),a=n(1),i=n(1025),c=n(1026),s=n(0),l=new Map,u=0;function d(e){return"portal:"+e}function f(e){return l.has(e)}function p(e,t,n){var r=l.get(e),o=d(++u);if(!r)throw new Error("react-native-root-portal: Can not find target PortalExit named:'"+e+"'.");return r.update(o,t,n),{update:function(e,t){r.update(o,e,t)},destroy:function(e){r.destroy(o,e)}}}function b(e){var t=e.children,n=e.target,r=n?l.get(n):null,i=Object(a.useState)((function(){return++u})),c=o()(i,1)[0];if(Object(a.useEffect)((function(){if(r)return function(){return r.destroy(d(c))}}),[r]),r)r.update(d(c),Object(s.jsx)(s.Fragment,{children:t}));else if(!n)return Object(s.jsx)(s.Fragment,{children:t});return null}function m(e){var t=e.name,n=e.renderSibling,r=e.children,o=Object(a.useMemo)((function(){var e=Object(c.default)(i.default,n),r=e.Root,o=e.manager;return f(t),l.set(t,o),{Root:r,manager:o}}),[]);Object(a.useEffect)((function(){return l.has(t)||l.set(t,o.manager),function(){l.delete(t)}}),[t]);var u=o.Root;return Object(s.jsxs)(s.Fragment,{children:[r,Object(s.jsx)(u,{})]})}t.default={Entry:b,Exit:m,isExisted:f,enter:p}},697:function(e,t,n){"use strict";var r,o;n.r(t),n.d(t,"ScanSubResultCategory",(function(){return r})),n.d(t,"ScanQrcodeRoutes",(function(){return o})),function(e){e.URL="url",e.TEXT="text",e.MIGRATE="migrate"}(r||(r={})),function(e){e.ScanQrcode="ScanQrcode",e.ScanQrcodeResult="ScanQrcodeResult",e.PreviewSend="PreviewSend"}(o||(o={}))},699:function(e,t,n){"use strict";n.r(t),n.d(t,"MockExternalAccountImg",(function(){return y}));var r=n(2),o=n.n(r),a=n(15),i=n.n(a),c=n(3),s=n.n(c),l=n(106),u=n(1),d=n(2596),f=n.n(d),p=n(163),b=n(17),m=n(497),h=n(46),j=n(0),O=["accountId","account","walletName","size","radius"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=f.a;return Object(j.jsx)(l.default,v({source:t,w:6,h:6,borderRadius:"6px"},e))}t.default=Object(u.memo)((function(e){var t=e.accountId,n=e.account,r=e.walletName,a=e.size,c=void 0===a?6:a,s=e.radius,u=void 0===s?"6":s,d=i()(e,O),f=b.default.serviceExternalAccount,g=Object(m.usePromiseResult)(o()((function*(){if(t=t||(null==n?void 0:n.id)||"",Object(p.isExternalAccount)({accountId:t})){var e,r,o,a=yield f.getExternalAccountImage({accountId:t});return a||(yield Object(h.wait)(1e3),a=yield f.getExternalAccountImage({accountId:t})),(null==(e=a)?void 0:e.sm)||(null==(r=a)?void 0:r.md)||(null==(o=a)?void 0:o.lg)||""}return""})),[t,n,r],{checkIsMounted:!0}).result;if(g){var y={uri:g};return Object(j.jsx)(l.default,v({source:y,w:c,h:c,borderRadius:u},d),g)}return null}))},716:function(e,t,n){"use strict";n.r(t);var r=n(109),o=n(12),a=n(27),i=n(76),c=n(1),s=n(88),l=n(17),u=n(0);t.default=function(e){var t=e.deviceId,n=e.connectId,d=e.onHandler,f=e.onClose,p=Object(s.default)(),b=l.default.serviceHardware;return Object(c.useEffect)((function(){t&&n?b.getFeatures(n).finally((function(){return null==f?void 0:f()})):d&&d().finally((function(){return null==f?void 0:f()}))}),[]),Object(u.jsx)(r.default,{visible:!0,children:Object(u.jsxs)(o.default,{flexDirection:"column",alignItems:"center",px:{base:4,md:6},my:{base:12,md:6},children:[Object(u.jsx)(i.default,{size:"lg"}),Object(u.jsx)(a.default.DisplayMedium,{mt:6,children:p.formatMessage({id:"modal__device_status_check"})})]})})}},719:function(e,t,n){"use strict";n.r(t),n.d(t,"createLazyComponent",(function(){return l}));var r=n(3),o=n.n(r),a=n(1),i=n(0);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){var n=(t||{}).fallback,r=void 0===n?null:n,o=Object(a.lazy)(e);return function(e){return Object(i.jsx)(a.Suspense,{fallback:r,children:Object(i.jsx)(o,s({},e))})}}},721:function(e,t,n){"use strict";n.r(t);var r=n(40),o=n(57),a=n(12),i=n(106),c=n(1355),s=n(336),l=n(27),u=n(48),d=n(4),f=n.n(d),p=n(1),b=n(88),m=n(54),h=n(2595),j=n.n(h),O=n(1079),g=n(19),v=n(24),y=n(0);t.default=function(e){var t=e.title,d=e.actionState,h=e.actionDescription,x=e.operateType,w=e.onCloseConnect,_=e.onActionPress,k=e.actionPressStyle,I=e.actionPressContent,S=Object(b.default)(),T=Object(p.useState)(!1),P=f()(T,2),C=P[0],M=P[1],A=Object(p.useState)(n(1494)),E=f()(A,2),D=E[0],R=E[1],N=Object(p.useState)(!v.default.isNativeIOS),L=f()(N,2),B=L[0],F=L[1],U=Object(p.useState)(!0),H=f()(U,2),W=H[0],V=H[1];return Object(p.useEffect)((function(){F("guide"!==x),V("complete"!==x&&"done"!==x),"guide"===x&&(R(n(1494)),v.default.isNativeIOS&&M(!1)),"connect"===x&&(R(n(1494)),v.default.isNativeIOS&&M(!0)),"transfer"===x&&(R(n(3638)),setTimeout((function(){R(n(3639))}),1e3),v.default.isNativeIOS&&M(!1)),"complete"!==x&&"done"!==x||(R(n(3640)),v.default.isNativeIOS&&M(!1))}),[x]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.default,{hideSecondaryAction:!0,header:t,onClose:function(){g.default.onekeyLite.debug("HardwareConnect: onClose"),null==w||w()},footer:Object(y.jsx)(m.default,{size:"xl",mx:4,mb:v.default.isNativeIOS?12:4,onPress:function(){O.default?null==_||_():u.default.show({title:S.formatMessage({id:"empty__not_supported"})})},type:k,children:I}),scrollViewProps:{pt:4,children:Object(y.jsxs)(a.default,{alignItems:"center",children:[Object(y.jsx)(l.default.DisplayXLarge,{textAlign:"center",mt:8,mx:9,color:"text-default",children:d}),Object(y.jsx)(l.default.Body1,{textAlign:"center",mt:2,mx:9,color:"text-subdued",children:h}),Object(y.jsxs)(c.default,{w:"100%",h:"560px",alignItems:"center",children:[Object(y.jsx)(c.default,{h:"360px",w:"100%",alignItems:"center",justifyContent:"center",children:Object(y.jsx)(s.default,{source:D,autoPlay:B,loop:W})}),Object(y.jsx)(i.default,{w:"100%",h:"55%",resizeMode:"cover",mt:"202px",source:j.a})]})]})}}),!!C&&Object(y.jsx)(a.default,{w:"100%",p:4,h:"212px",position:"absolute",children:Object(y.jsxs)(a.default,{w:"100%",h:"212px",zIndex:99999,bg:"action-secondary-default",borderColor:"border-hovered",borderWidth:"1px",borderRadius:36,borderStyle:"dashed",alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(r.default,{name:"CursorClickOutline",size:48}),Object(y.jsx)(l.default.DisplayMedium,{px:12,mt:5,textAlign:"center",children:S.formatMessage({id:"content__place_your_onekey_lite_close_to_the_back_of_here"})})]})})]})}},722:function(e,t,n){"use strict";n.r(t);var r=n(109),o=n(88),a=n(296),i=n(0);t.default=function(e){var t=e.code,n=e.pinRetryCount,c=e.onRetry,s=e.onRetryConnect,l=e.onExit,u=e.onDialogClose,d=e.onIntoNfcSetting,f=Object(o.default)();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r.default,{visible:t===a.CardErrors.NotExistsNFC,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__unable_to_connect"}),content:f.formatMessage({id:"modal__unable_to_connect_desc"})},footerButtonProps:{hideSecondaryAction:!0,primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==l?void 0:l()}),500)}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.NotEnableNFC||t===a.CardErrors.NotNFCPermission,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__turn_on_nfc_and_let_onekey_connect_your_hardware_devices"}),content:f.formatMessage({id:"modal__onekey_wants_to_use_nfc_desc"})},footerButtonProps:{hideSecondaryAction:!0,primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==d?void 0:d()}),500)}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.InitChannel||t===a.CardErrors.ConnectionFail||t===a.CardErrors.ExecFailure,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__failed_to_connect"}),content:f.formatMessage({id:"modal__failed_to_connect_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__retry"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==s?void 0:s()}),500)},onSecondaryActionPress:function(){return null==l?void 0:l()}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.InterruptError,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__failed_to_connect"}),content:f.formatMessage({id:"modal__failed_to_connect_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__retry"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==s||s()},onSecondaryActionPress:function(){return null==l?void 0:l()}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.NotInitializedError,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"danger",title:f.formatMessage({id:"modal__this_device_has_no_backup_inbside"}),content:f.formatMessage({id:"modal__this_device_has_no_backup_inbside_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==l||l()},onSecondaryActionPress:function(){return null==l?void 0:l()}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.InitializedError,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"danger",title:f.formatMessage({id:"modal__this_device_contains_backup"}),content:f.formatMessage({id:"modal__this_device_contains_backup_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__overwrite"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==s||s()},onSecondaryActionPress:function(){return null==l?void 0:l()}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.PasswordWrong||t===a.CardErrors.InputPasswordEmpty||t===a.CardErrors.NotSetPassword||t===a.CardErrors.InitPasswordError,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"danger",title:f.formatMessage({id:"transaction__failed"}),content:f.formatMessage({id:"content__pin_error_the_data_of_this_device_will_be_erased_after_str_more_wrong_tries"},{count:n})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==c?void 0:c()}),500)},onSecondaryActionPress:function(){return null==l?void 0:l()}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.CardLock,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"danger",title:"\u5361\u7247\u5df2\u7ecf\u9501\u5b9a",content:"\u5361\u7247\u5df2\u7ecf\u9501\u5b9a\uff0c\u9700\u8981\u624b\u52a8\u91cd\u7f6e\u3002"},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==l||l()},onSecondaryActionPress:function(){return null==l?void 0:l()}}}),Object(i.jsx)(r.default,{visible:t===a.CardErrors.UpperErrorAutoReset,canceledOnTouchOutside:!1,onClose:function(){return null==u?void 0:u()},contentProps:{iconType:"danger",title:f.formatMessage({id:"modal__onekey_lite_has_been_reset"}),content:f.formatMessage({id:"modal__onekey_lite_has_been_reset_desc"})},footerButtonProps:{hideSecondaryAction:!0,primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==l||l()},onSecondaryActionPress:function(){return null==l?void 0:l()}}}),t===a.CardErrors.UserCancel&&(null==l?void 0:l())]})}},723:function(e,t,n){"use strict";n.r(t),n.d(t,"TxDetailContextProvider",(function(){return f})),n.d(t,"useTxDetailContext",(function(){return p}));var r=n(3),o=n.n(r),a=n(4),i=n.n(a),c=n(1),s=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object(c.createContext)(null);function f(e){var t=e.children,n=e.isHistoryDetail,r=e.isMultipleActions,o=e.isSendConfirm,a=e.sendConfirmParamsParsed,l=e.isCollapse,f=Object(c.useState)({isHistoryDetail:n,isMultipleActions:r,isSendConfirm:o,sendConfirmParamsParsed:a,isCollapse:l}),p=i()(f,2),b=p[0],m=p[1];Object(c.useEffect)((function(){m((function(e){return u(u({},e),{},{isHistoryDetail:n,isMultipleActions:r,isSendConfirm:o,sendConfirmParamsParsed:a,isCollapse:l})}))}),[n,r,o,a,l]);var h=Object(c.useMemo)((function(){return{context:b,setContext:m}}),[b]);return Object(s.jsx)(d.Provider,{value:h,children:t})}function p(){return Object(c.useContext)(d)}},749:function(e,t,n){"use strict";n.r(t),n.d(t,"SUBMIT_TOKEN_URL",(function(){return o})),n.d(t,"MARKET_FAKE_SKELETON_LIST_ARRAY",(function(){return a})),n.d(t,"MARKET_FAKE_SKELETON_CATEGORY_ARRAY",(function(){return i})),n.d(t,"EMarketCellData",(function(){return r})),n.d(t,"ListHeadTagsForSearch",(function(){return c})),n.d(t,"ListHeadTags",(function(){return s}));var r,o="https://gr4yl99ujhl.typeform.com/to/ZM0qyr9e",a=new Array(5).fill(null),i=new Array(5).fill(0);!function(e){e.CollectionStar="CollectionStar",e.TokenInfo="TokenInfo",e.TokenPrice="TokenPrice",e.Token24hChange="Token24hChange",e.Token24hVolume="Token24hVolume",e.TokenMarketCap="TokenMarketCap",e.TokenSparklineChart="TokenSparklineChart",e.TokenSwapStatus="TokenSwapStatus"}(r||(r={}));var c=[{id:r.CollectionStar,minW:"52px",textAlign:"center",showVerticalLayout:!0,showNorMalDevice:!0,isSearch:!0},{id:r.TokenInfo,title:"form__name_uppercase",minW:"100px",textAlign:"left",showVerticalLayout:!0,showNorMalDevice:!0,isSearch:!0},{id:r.TokenPrice,title:"form__price_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!0,showNorMalDevice:!0,isSearch:!0},{id:r.Token24hChange,title:"form__24h%_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!0,showNorMalDevice:!0,isSearch:!0}],s=[{id:r.CollectionStar,minW:"52px",textAlign:"center",showVerticalLayout:!1,showNorMalDevice:!0},{id:r.TokenInfo,title:"form__name_uppercase",minW:"100px",textAlign:"left",showVerticalLayout:!0,showNorMalDevice:!0,dislocation:{id:r.TokenMarketCap,title:"form__market_cap_uppercase"}},{id:r.TokenPrice,title:"form__price_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!0,showNorMalDevice:!0},{id:r.Token24hChange,title:"form__24h%_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!0,showNorMalDevice:!0},{id:r.TokenMarketCap,title:"form__market_cap_uppercase",minW:"130px",textAlign:"right",showVerticalLayout:!1},{id:r.Token24hVolume,title:"form__24h_volume_uppercase",minW:"120px",textAlign:"right",showVerticalLayout:!1},{id:r.TokenSparklineChart,title:"form__last_7_days_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!1},{id:r.TokenSwapStatus,minW:"100px",showVerticalLayout:!1,showNorMalDevice:!0}]},771:function(e,t,n){"use strict";n.r(t),n.d(t,"BottomSheetSettings",(function(){return p})),n.d(t,"BottomSheetSettingRow",(function(){return b}));var r=n(57),o=n(12),a=n(142),i=n(4),c=n.n(i),s=n(50),l=n(1),u=n(88),d=n(861),f=n(0),p=function(e){var t,n=e.closeOverlay,i=e.children,p=e.titleI18nKey,b=Object(l.useRef)(null),m=Object(s.default)(),h=Object(u.default)(),j=Object(a.default)(["surface-subdued","icon-subdued"]),O=c()(j,2),g=O[0],v=O[1];return Object(l.useEffect)((function(){setTimeout((function(){var e;return null==(e=b.current)?void 0:e.open()}))}),[]),m?Object(f.jsx)(d.Modalize,{ref:b,onClosed:n,closeOnOverlayTap:!0,adjustToContentHeight:!0,handlePosition:"inside",modalStyle:{backgroundColor:g,borderTopLeftRadius:24,borderTopRightRadius:24,overflow:"hidden"},handleStyle:{backgroundColor:v},tapGestureEnabled:!1,children:Object(f.jsx)(o.default,{px:"16px",py:"24px",bg:"surface-subdued",children:i})}):Object(f.jsx)(r.default,{visible:!0,forceDesktop:!0,hideBackButton:!0,header:h.formatMessage({id:null!=(t=p)?t:"title__settings"}),footer:null,closeAction:n,staticChildrenProps:{pt:6,pb:6,px:{base:4,md:6},borderRadius:"24px"},children:i})},b=function(e){var t=e.children,n=e.mt;return Object(f.jsx)(o.default,{justifyContent:"space-between",flexDirection:"row",alignItems:"center",mt:n,children:t})}},8:function(e,t,n){"use strict";n.r(t),n.d(t,"bindThis",(function(){return d})),n.d(t,"backgroundClass",(function(){return i})),n.d(t,"permissionRequired",(function(){return u})),n.d(t,"backgroundMethod",(function(){return s})),n.d(t,"providerApiMethod",(function(){return l})),n.d(t,"INTERNAL_METHOD_PREFIX",(function(){return o})),n.d(t,"PROVIDER_API_METHOD_PREFIX",(function(){return a}));n(6),n(18),n(9),n(14),n(7);var r=n(93);var o="INTERNAL_",a="PROVIDER_API_";function i(){return function(e){return e}}function c(e){var t=e.prefix;return function(e,n,o){return"function"!==typeof o.value&&Object(r.throwCrossError)("@backgroundMethod() / providerApiMethod only available for method or function.",n),e[""+t+n]=o.value,o}}function s(){return c({prefix:o})}function l(){return c({prefix:a})}function u(){return function(e,t,n){var r=n.value;return function(e){return!!e&&"[object Function]"==={}.toString.call(e)}(r)&&(n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=r.apply(this,t);return o}),n}}function d(){return function(e,t,n){if(!n||"function"!==typeof n.value)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}}},80:function(e,t,n){"use strict";n.r(t),n.d(t,"deviceUtils",(function(){return P})),n.d(t,"getDeviceTypeByDeviceId",(function(){return I.getDeviceTypeByDeviceId}));var r=n(48),o=n(4),a=n.n(o),i=n(3),c=n.n(i),s=n(2),l=n.n(s),u=n(6),d=n.n(u),f=n(70),p=(n(1579),n(309)),b=n.n(p),m=n(285),h=n(23),j=n(431),O=n(19),g=n(24),v=n(599),y=n(489),x=n(17),w=n(1204),_=n(277),k=n(90),I=n(1131);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var T=null,P=new(function(){function e(){this.connectedDeviceType="classic",this.scanMap={},this.searchIndex=0,this.tryCount=0,this.checkBonded=!1}var t=e.prototype;return t.getBleManager=function(){var e=l()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),t.startDeviceScan=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:15,i=null!=a?a:15,c=function(){var r=l()((function*(){if(T)return yield T.promise,void O.default.hardwareSDK.info("search throttling, await search promise and return");var r;T=Object(f.createDeferred)(),t("start");try{var o;r=yield null==(o=x.default.serviceHardware)?void 0:o.searchDevices()}finally{var a;null==(a=T)||a.resolve(),T=null,O.default.hardwareSDK.info("search finished, reset searchPromise")}return e(r),n.tryCount+=1,t("stop"),r}));return function(){return r.apply(this,arguments)}}(),s=function(){var e=l()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5;if(n.scanMap[t]){if(!(n.tryCount>i))return yield c(),new Promise((function(n){return setTimeout((function(){return n(s(e*r,t,r))}),e)}));n.stopScan()}}));return function(){return e.apply(this,arguments)}}();this.searchIndex+=1,this.scanMap[this.searchIndex]=!0;var u=g.default.isNativeAndroid?2e3:null!=o?o:1e3,d=null!=r?r:1.5;s(u,this.searchIndex,d)},t.stopScan=function(){var e=this;Object.keys(this.scanMap).forEach((function(t){return e.scanMap[t]=!1})),this.tryCount=0},t.syncDeviceConnectStatus=function(){var e=l()((function*(){if(T)return yield T.promise,void O.default.hardwareSDK.info("sync device connect status throttling, await search promise and return");T=Object(f.createDeferred)();try{yield x.default.serviceHardware.searchDevices()}finally{T.resolve(),T=null}}));return function(){return e.apply(this,arguments)}}(),t.checkDeviceBonded=function(){var e=l()((function*(e){var t=this,n=0,r=function(){var o=l()((function*(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;if(t.checkBonded){n+=1;var a=yield t.getBondedDevices(),i=!!a.find((function(t){return Object(y.equalsIgnoreCase)(t.id,e)}));return i?(t.checkBonded=!1,Promise.resolve(!0)):n>5?(t.checkBonded=!1,Promise.resolve(!1)):new Promise((function(e){return setTimeout((function(){return e(r(4500))}),o)}))}}));return function(){return o.apply(this,arguments)}}();return this.checkBonded=!0,r()}));return function(t){return e.apply(this,arguments)}}(),t.getBondedDevices=function(){var e=l()((function*(){var e=yield this.getBleManager();return e?(yield e.getBondedPeripherals()).map((function(e){var t=e.id,n=e.name,r=e.advertising;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t,name:n},void 0===r?{}:r)})):[]}));return function(){return e.apply(this,arguments)}}(),t.stopCheckBonded=function(){this.checkBonded=!1},t.delayShowHardwarePopup=function(e){var t=e.uiRequest,n=e.payload,r=e.content,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;setTimeout((function(){Object(w.default)({uiRequest:t,payload:n,content:r})}),o)},t.checkTouchNeedUpdateResource=function(){var e=l()((function*(e,t){var n=(0,(yield Object(j.CoreSDKLoader)()).getDeviceType)(e),r=t.version,o=t.fullResourceRange,i=void 0===o?["3.5.0","3.5.0"]:o;if("touch"!==n)return{error:null,needUpdate:!1};var c=Object(I.getDeviceFirmwareVersion)(e).join("."),s=r.join("."),l=a()(i,2),u=l[0],d=l[1];return b.a.lt(c,u)&&b.a.gte(s,d)?{error:"USE_DESKTOP",needUpdate:!0,minVersion:u,limitVersion:d}:{error:null,needUpdate:!1}}));return function(t,n){return e.apply(this,arguments)}}(),t.showErrorToast=function(e,t){O.default.common.info("record showErrorToast handle error:",Object(v.toPlainErrorObject)(e));try{var n=e||{},o=n.className,a=n.key,i=n.code,c=n.info;if(i===f.HardwareErrorCode.DeviceInterruptedFromOutside)return!1;if(i===k.CustomOneKeyHardwareError.NeedOneKeyBridge)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_ONEKEY_BRIDGE}),!0;if(o===h.OneKeyErrorClassNames.OneKeyHardwareError){var s=(e||{}).data,l=Object(m.formatMessage)({id:a},null!=c?c:{}),u=s||{},d=u.connectId,p=u.deviceId;if(d&&i===f.HardwareErrorCode.NewFirmwareForceUpdate)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_FORCE_UPGRADE_FIRMWARE,payload:{deviceId:p,deviceConnectId:d},content:l}),!0;if(d&&p){if(i===f.HardwareErrorCode.CallMethodNeedUpgradeFirmware||i===f.HardwareErrorCode.DeviceNotSupportPassphrase)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_UPGRADE_FIRMWARE,payload:{deviceId:p,deviceConnectId:d},content:l}),!0;if(i===f.HardwareErrorCode.DeviceOpenedPassphrase)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_CLOSE_PASSPHRASE,payload:{deviceId:p,deviceConnectId:d},content:l}),!0;if(i===f.HardwareErrorCode.DeviceNotOpenedPassphrase)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_OPEN_PASSPHRASE,payload:{deviceId:p,deviceConnectId:d},content:l}),!0}if(l)return r.default.show({title:l},{type:"error"}),!0}else{var b;if(a&&!["msg__engine__internal_error","onekey_error"].includes(a)?b=Object(m.formatMessage)({id:a},c):t?b=Object(m.formatMessage)({id:t},c):a&&"onekey_error"!==a&&(b=Object(m.formatMessage)({id:a},c)),b)return r.default.show({title:b},{type:"error"}),!0}}catch(j){O.default.common.info("record showErrorToast unexpected error:","unexpected error:",Object(v.toPlainErrorObject)(j),"handle error:",Object(v.toPlainErrorObject)(e))}return!1},t.convertDeviceError=function(e){var t,n=e||{},r=n.code,o=n.error,a=n.message,i=null!=(t=null!=o?o:a)?t:"Unknown error";if(this.caputureSpecialError(r,i))return this.caputureSpecialError(r,i);switch(O.default.hardwareSDK.info("Device Utils Convert Device Error:",r,i),r){case f.HardwareErrorCode.UnknownError:return new k.UnknownHardwareError(e);case f.HardwareErrorCode.DeviceFwException:return new k.FirmwareVersionTooLow(e);case f.HardwareErrorCode.DeviceUnexpectedMode:return"string"===typeof i&&-1!==i.indexOf("ui-device_bootloader_mode")?new k.NotInBootLoaderMode(e):new k.UnknownHardwareError(e);case f.HardwareErrorCode.DeviceCheckDeviceIdError:return new k.DeviceNotSame(e);case f.HardwareErrorCode.DeviceNotFound:return new k.DeviceNotFind(e);case f.HardwareErrorCode.DeviceUnexpectedBootloaderMode:return new k.NotInBootLoaderMode(e);case f.HardwareErrorCode.DeviceInterruptedFromOutside:case f.HardwareErrorCode.DeviceInterruptedFromUser:return new k.UserCancelFromOutside(e);case f.HardwareErrorCode.DeviceNotSupportPassphrase:return new k.NotSupportPassphraseError(e);case f.HardwareErrorCode.IFrameLoadFail:return new k.InitIframeLoadFail(e);case f.HardwareErrorCode.IframeTimeout:return new k.InitIframeTimeout(e);case f.HardwareErrorCode.FirmwareUpdateDownloadFailed:return new k.FirmwareDownloadFailed(e);case f.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot:return new k.FirmwareUpdateManuallyEnterBoot(e);case f.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure:return new k.FirmwareUpdateAutoEnterBootFailure(e);case f.HardwareErrorCode.FirmwareUpdateLimitOneDevice:return new k.FirmwareUpdateLimitOneDevice(e);case f.HardwareErrorCode.CallMethodNeedUpgradeFirmware:return new k.FirmwareVersionTooLow(e);case f.HardwareErrorCode.NewFirmwareUnRelease:return new k.NewFirmwareUnRelease(e);case f.HardwareErrorCode.NewFirmwareForceUpdate:return new k.NewFirmwareForceUpdate(e);case f.HardwareErrorCode.NetworkError:return new k.NetworkError(e);case f.HardwareErrorCode.BlePermissionError:return new k.NeedBluetoothTurnedOn(e);case f.HardwareErrorCode.BleLocationError:return new k.NeedBluetoothPermissions({message:i});case f.HardwareErrorCode.BleLocationServicesDisabled:return new k.BleLocationServiceError({message:i});case f.HardwareErrorCode.BleDeviceNotBonded:return new k.DeviceNotBonded(e);case f.HardwareErrorCode.BleDeviceBondError:return new k.DeviceBondError(e);case f.HardwareErrorCode.BleWriteCharacteristicError:return new k.BleWriteCharacteristicError(e);case f.HardwareErrorCode.BleScanError:return new k.BleScanError({message:i});case f.HardwareErrorCode.BleAlreadyConnected:return new k.BleAlreadyConnectedError(e);case f.HardwareErrorCode.RuntimeError:return-1!==i.indexOf("EIP712 blind sign is disabled")?new k.OpenBlindSign(e):-1!==i.indexOf("Unknown message")||-1!==i.indexOf("Failure_UnexpectedMessage")?new k.UnknownMethod(e):new k.UnknownHardwareError(e);case f.HardwareErrorCode.PinInvalid:return new k.InvalidPIN(e);case f.HardwareErrorCode.DeviceCheckPassphraseStateError:return new k.InvalidPassphrase(e);case f.HardwareErrorCode.DeviceOpenedPassphrase:return new k.DeviceOpenedPassphrase(e);case f.HardwareErrorCode.DeviceNotOpenedPassphrase:return new k.DeviceNotOpenedPassphrase(e);case f.HardwareErrorCode.PinCancelled:case f.HardwareErrorCode.ActionCancelled:return new k.UserCancel(e);case f.HardwareErrorCode.BridgeNotInstalled:case k.CustomOneKeyHardwareError.NeedOneKeyBridge:return new k.NeedOneKeyBridge(e);case f.HardwareErrorCode.BridgeNetworkError:return new k.BridgeNetworkError(e);case f.HardwareErrorCode.BridgeTimeoutError:return new k.BridgeTimeoutError(e);case f.HardwareErrorCode.PollingTimeout:return new k.ConnectTimeoutError(e);case f.HardwareErrorCode.BlindSignDisabled:return new k.OpenBlindSign(e);case f.HardwareErrorCode.FileAlreadyExists:return new k.FileAlreadyExistError(e);case f.HardwareErrorCode.CheckDownloadFileError:return new k.IncompleteFileError(e);case f.HardwareErrorCode.NotInSigningMode:return new k.NotInSigningModeError(e);default:return new k.UnknownHardwareError(e)}},t.caputureSpecialError=function(e,t){return"string"!==typeof t?null:e===f.HardwareErrorCode.DeviceInitializeFailed&&t.includes("ECONNABORTED")?new k.ConnectTimeoutError({message:t}):t.includes("Bridge network error")?new k.BridgeNetworkError({message:t}):null},t.detectIsPublicBetaTouch=function(e,t){if(!e)return!1;var n=e.slice(0,2),r=e.slice(7,15),o=Number(r);return"TC"===(null==n||null==n.toUpperCase?void 0:n.toUpperCase())&&!!(o<20221020&&b.a.gt("3.3.0",null!=t?t:"3.3.0"))},d()(e)}())},801:function(e,t,n){"use strict";n.r(t),n.d(t,"networkSlice",(function(){return o})),n.d(t,"setNFTPrice",(function(){return i})),n.d(t,"setNFTPriceType",(function(){return c})),n.d(t,"setNFTSymbolPrice",(function(){return s}));var r=n(128),o=Object(r.createSlice)({name:"nft",initialState:{nftPrice:{},nftSymbolPrice:{},disPlayPriceType:"lastSalePrice"},reducers:{setNFTPrice:function(e,t){var n,r,o=t.payload,a=o.accountId,i=o.networkId,c=o.price;if(i&&a){var s=null!=(n=e.nftPrice[a])?n:{};(null!=(r=s[i])?r:{})!==c&&(s[i]=c,e.nftPrice[a]=s)}},setNFTPriceType:function(e,t){e.disPlayPriceType!==t.payload&&(e.disPlayPriceType=t.payload)},setNFTSymbolPrice:function(e,t){var n,r=t.payload,o=r.networkId,a=r.price;o&&((null!=(n=e.nftSymbolPrice[o])?n:{})!==a&&(e.nftSymbolPrice[o]=a))}}}),a=o.actions,i=a.setNFTPrice,c=a.setNFTPriceType,s=a.setNFTSymbolPrice;t.default=o.reducer},807:function(e,t,n){"use strict";n.r(t),n.d(t,"showJumpPageDialog",(function(){return g}));var r=n(3),o=n.n(r),a=n(109),i=n(63),c=n(41),s=n(54),l=n(47),u=n(20),d=n(50),f=n(126),p=n(1),b=n(88),m=n(99),h=n(0);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var O=function(e){var t=e.onClose,n=e.onConfirm,r=e.maxPage,o=e.currentPage,m=Object(b.default)(),j=Object(f.default)({defaultValues:{pageNumber:""+(o?o+1:"")}}),O=j.control,g=j.handleSubmit,v=(0,j.watch)("pageNumber",""),y=Object(p.useMemo)((function(){return!v||!Number.isSafeInteger(parseInt(v,10))}),[v]),x=Object(d.default)(),w=Object(p.useCallback)((function(e){var r=e.pageNumber;null==t||t(),setTimeout((function(){return n(parseInt(r))}))}),[n,t]);return Object(h.jsx)(a.default,{visible:!0,onClose:t,children:Object(h.jsxs)(i.default,{w:"full",h:"auto",testID:"JumpPageBox",children:[Object(h.jsx)(u.default,{typography:{sm:"DisplayMedium",md:"DisplayMedium"},children:m.formatMessage({id:"title__jump_to_page"})}),Object(h.jsx)(l.default,{w:"full",mt:5,children:Object(h.jsx)(l.default.Item,{name:"pageNumber",control:O,rules:{pattern:{value:/^[0-9]*$/,message:m.formatMessage({id:"form__field_only_integer"})},validate:function(e){var t=parseInt(e);return t<=0?m.formatMessage({id:"form__field_only_integer"}):t>r?m.formatMessage({id:"msg__page_number_cannot_be_larger_than_str"},{number:r}):void 0}},children:Object(h.jsx)(l.default.Input,{onKeyPress:function(e){"Enter"!==e.nativeEvent.key?"Escape"===e.nativeEvent.key&&(null==t||t()):g(w)()},placeholder:m.formatMessage({id:"form__page_number_placeholder"})})})}),Object(h.jsxs)(c.default,{mt:6,mb:4,space:3,alignItems:"center",justifyContent:"center",children:[Object(h.jsx)(s.default,{size:x?"xl":"lg",type:"basic",flex:1,onPress:function(){return null==t?void 0:t()},children:m.formatMessage({id:"action__cancel"})}),Object(h.jsx)(s.default,{size:x?"xl":"lg",type:"primary",flex:1,onPress:g(w),isDisabled:y,children:m.formatMessage({id:"action__confirm"})})]})]})})},g=function(e){Object(m.showDialog)(Object(h.jsx)(O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))}},813:function(e,t,n){"use strict";n.r(t),n.d(t,"validateSignMessageData",(function(){return m})),n.d(t,"validateTypedSignMessageDataV1",(function(){return h})),n.d(t,"validateTypedSignMessageDataV3V4",(function(){return j})),n.d(t,"sanitizeMessage",(function(){return g})),n.d(t,"getValidUnsignedMessage",(function(){return v}));var r=n(13),o=n.n(r),a=n(4),i=n.n(a),c=n(21),s=n.n(c),l=n(1459),u=n(247),d=n(2518),f=n(23),p=n(114);function b(e,t){if(!e||"string"!==typeof e||!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowNonPrefixed,r=void 0===n||n,o=r?Object(u.addHexPrefix)(e):e;return!!Object(u.isHexString)(o)&&Object(u.isValidAddress)(o)}(e))throw new Error('Invalid "'+t+'" address: '+String(e)+" must be a valid string.")}function m(e){var t,n,r=e.payload,o=void 0===r?[]:r;if(e.type===p.ETHMessageTypes.PERSONAL_SIGN){var a=o,c=i()(a,2);t=c[0],n=c[1]}else if(e.type===p.ETHMessageTypes.ETH_SIGN){var s=o,l=i()(s,2);n=l[0],t=l[1]}if(b(n,"from"),!t||"string"!==typeof t)throw new f.OneKeyError("Invalid message: "+String(t)+" must be a valid string.")}function h(e){var t=e.payload,n=void 0===t?[]:t,r=i()(n,2),o=r[0];if(b(r[1],"from"),!o||!Array.isArray(o))throw new f.OneKeyError("Invalid message: "+String(o)+" must be a valid array.");try{Object(l.typedSignatureHash)(o)}catch(a){throw new Error("Expected EIP712 typed data.")}}function j(e,t){var n,r=e.payload,o=void 0===r?[]:r,a=i()(o,2),c=a[0],u=a[1];if(b(c,"from"),!u||Array.isArray(u)||"object"!==typeof u&&"string"!==typeof u)throw new Error("Invalid message: Must be a valid string or object.");if("object"===typeof u)n=u;else try{n=JSON.parse(u)}catch(j){throw new Error("Message data must be passed as a valid JSON string.")}if(Object(d.validate)(n,l.TYPED_MESSAGE_SCHEMA).errors.length>0)throw new f.OneKeyError("Message Data must conform to EIP-712 schema.");if(!t)throw new f.OneKeyError("Current chainId cannot be null or undefined.");var p=n.domain.chainId;if(p){var m=new s.a(t),h=new s.a(p);if(m.isNaN())throw new f.OneKeyError('Cannot sign messages for chainId "'+h.toFixed()+'", because OneKey is switching networks.');if(!m.isEqualTo(h))throw new f.OneKeyError('Provided chainId "'+h.toFixed()+'" must match the active chainId "'+m.toFixed()+'"')}}var O=function(){var e=Array.from(new Array(32)).map((function(e,t){return"int"+8*(t+1)})),t=Array.from(new Array(32)).map((function(e,t){return"uint"+8*(t+1)})),n=Array.from(new Array(32)).map((function(e,t){return"bytes"+(t+1)})),r=Array.from(new Array(32)).map((function(e,t){return"fixed"+8*(t+1)})),a=Array.from(new Array(32)).map((function(e,t){return"ufixed"+8*(t+1)})),i=Array.from(new Array(80)).map((function(e,t){return r.map((function(e){return e+"x"+(t+1)}))})),c=Array.from(new Array(80)).map((function(e,t){return a.map((function(e){return e+"x"+(t+1)}))}));return[].concat(["bool","address","string","bytes","int","uint","fixed","ufixed"],o()(e),o()(t),o()(n),o()(i.flat()),o()(c.flat()))}();function g(e,t,n){if(!n)throw new Error("Invalid types definition");var r,o=t&&null!==t.match(/\[[0-9\[]*\]*/);if(o)return e.map((function(e){return g(e,function(e){return e.replace(/\[[0-9\[]*\]/,"")}(t),n)}));if(r=t,O.includes(r))return e;var a=o?function(e){return e.replace(/\[[0-9\[]*\]*/g,"")}(t):t,i=n[a];if(!i)throw new Error("Invalid primary type definition");var c={};return Object.keys(e).forEach((function(t){var r=Object.values(i).find((function(e){return e.name===t}));r&&(c[t]=g(e[t],r.type,n))})),c}function v(e){try{var t=e.type,n=e.message;if(t===p.ETHMessageTypes.TYPED_DATA_V3||t===p.ETHMessageTypes.TYPED_DATA_V4){var r,o=g((r="object"===typeof n?n:JSON.parse(n)).message,r.primaryType,r.types);r.message=o,e.message=JSON.stringify(r)}return e}catch(a){return e}}},820:function(e,t,n){"use strict";n.r(t),n.d(t,"useWebTabs",(function(){return i})),n.d(t,"getWebTabs",(function(){return c}));var r=n(1),o=n(1184),a=n(389),i=function(e){var t=Object(o.useSelector)(a.webTabsObs),n=Object(a.getCurrentTabId)(),i=e||n;return Object(r.useMemo)((function(){var e;return{tabs:t,tab:null!=(e=t.find((function(e){return(null==e?void 0:e.id)===i})))?e:t[0],currentTabId:n}}),[i,n,t])},c=function(e){var t=a.webTabsObs.peek(),n=Object(a.getCurrentTabId)(),r=e||n;return{tabs:t,tab:t.find((function(e){return e.id===r})),currentTabId:n}}},822:function(e,t,n){"use strict";function r(e){if(!e)return 0;var t=/\d(?:\.(\d*))?e([+-]\d+)/.exec(e.toExponential());return t?e.toFixed(Math.max(0,(t[1]||"").length-parseInt(t[2]))):e}function o(e){if(e){for(var t="",n=r(e).toString(),o=n.indexOf("."),a=-1===o?n:n.substring(0,o),i=-1!==o?n.substring(o+1):null;a.length>3;)t=","+a.slice(-3)+t,a=a.slice(0,a.length-3);return a&&(t=a+t),i&&(t=t+"."+i),t}return"0.00"}function a(e,t){return e?t?e.toFixed(t):e.toFixed(2):"0.00"}function i(e,t){return e?(e>=0?"+":"")+a(e,t):"0.00"}function c(e){if(e>=1)return a(e);var t=r(e).toString().search(/[^-.0]/g),n=t-2,o=a(e,3+n);return n>=3?"0.{"+n+"}"+o.toString().substring(t):o}n.r(t),n.d(t,"parseExponential",(function(){return r})),n.d(t,"formatMarketValueForComma",(function(){return o})),n.d(t,"formatMarketValueForFiexd",(function(){return a})),n.d(t,"formatMarketVolatility",(function(){return i})),n.d(t,"formatDecimalZero",(function(){return c})),n.d(t,"formatMarketValueForInfo",(function(){return s})),n.d(t,"formatLocalDate",(function(){return l})),n.d(t,"formatMarketUnitPosition",(function(){return u}));function s(e){if(e){var t=0;return(t="string"===typeof e?e.startsWith("$")?parseFloat(e.substring(1).replaceAll(",","")):Number.isNaN(parseFloat(e))?0:parseFloat(e):e)>=1e9?a(t/1e9)+"B":t>=1e6?a(t/1e6)+"M":t>=1e3?a(t/1e3)+"K":t>=1?a(t):c(t)}return"0.00"}function l(e,t){return e&&e.length>0?new Date(e).toLocaleString(t):""}function u(e,t){return"sats"===(null==e?void 0:e.toLowerCase())?(null!=t?t:"")+" "+(null!=e?e:""):""+(null!=e?e:"")+(null!=t?t:"")}},826:function(e,t,n){"use strict";n.r(t),n.d(t,"navigationShortcuts",(function(){return c}));var r=n(111),o=n(16),a=n(1174);function i(e){var t=Object(r.getAppNavigation)();null==t||t.navigate(o.RootRoutes.Main,{screen:o.MainRoutes.Tab,params:{screen:e,params:{screen:Object(a.buildAppRootTabName)(e)}}})}var c={navigateToAppRootTab:i,navigateToHome:function(){i(o.TabRoutes.Home)},navigateToDiscover:function(){i(o.TabRoutes.Discover)},navigateToMarket:function(){i(o.TabRoutes.Market)},navigateToSwap:function(){i(o.TabRoutes.Swap)},navigateToDeveloper:function(){i(o.TabRoutes.Developer)},navigateToNFT:function(){i(o.TabRoutes.NFT)},navigateToMe:function(){i(o.TabRoutes.Me)},navigateToTokenDetail:function(e){var t=e.accountId,n=e.networkId,a=e.tokenId,i=e.walletId,c=Object(r.getAppNavigation)();null==c||c.navigate(o.RootRoutes.Main,{screen:o.MainRoutes.Tab,params:{screen:o.TabRoutes.Home,params:{screen:o.HomeRoutes.ScreenTokenDetail,params:{walletId:i,accountId:t,networkId:n,tokenAddress:a}}}})},navigateToMarketDetail:function(e){var t=e.marketTokenId,n=Object(r.getAppNavigation)();null==n||n.navigate(o.RootRoutes.Main,{screen:o.MainRoutes.Tab,params:{screen:o.TabRoutes.Market,params:{screen:o.HomeRoutes.MarketDetail,params:{marketTokenId:t}}}})}}},844:function(e,t,n){"use strict";n.r(t),n.d(t,"supportedHaptics",(function(){return r})),n.d(t,"defaultHapticStatus",(function(){return o})),n.d(t,"enableHaptics",(function(){return a})),n.d(t,"doHapticsWhenEnabled",(function(){return i}));var r=!1,o=!1,a=function(){},i=a},856:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"WalletHomeTabEnum",(function(){return r})),function(e){e.Tokens="Tokens",e.Collectibles="Collectibles",e.History="History",e.Tools="Tools"}(r||(r={}))},86:function(e,t,n){"use strict";n.r(t),n.d(t,"defaultPushNotification",(function(){return y})),n.d(t,"THEME_PRELOAD_STORAGE_KEY",(function(){return w})),n.d(t,"setThemePreloadToLocalStorage",(function(){return _})),n.d(t,"settingsSlice",(function(){return k})),n.d(t,"setTheme",(function(){return S})),n.d(t,"setLocale",(function(){return T})),n.d(t,"setEnableAppLock",(function(){return P})),n.d(t,"toggleEnableLocalAuthentication",(function(){return C})),n.d(t,"setSelectedFiatMoneySymbol",(function(){return M})),n.d(t,"setRefreshTS",(function(){return A})),n.d(t,"setAppLockDuration",(function(){return E})),n.d(t,"setAutoRefreshTimeStamp",(function(){return D})),n.d(t,"updateVersionAndBuildNumber",(function(){return R})),n.d(t,"setEnableLocalAuthentication",(function(){return N})),n.d(t,"setSwapSlippagePercent",(function(){return L})),n.d(t,"setValidationState",(function(){return B})),n.d(t,"setEnableTestFiatEndpoint",(function(){return F})),n.d(t,"setDevMode",(function(){return U})),n.d(t,"setPreReleaseUpdate",(function(){return H})),n.d(t,"setUpdateDeviceBle",(function(){return W})),n.d(t,"setUpdateDeviceSys",(function(){return V})),n.d(t,"setUpdateDeviceRes",(function(){return z})),n.d(t,"setDeviceUpdates",(function(){return G})),n.d(t,"setDeviceDoneUpdate",(function(){return K})),n.d(t,"setEnableHaptics",(function(){return q})),n.d(t,"setHideSmallBalance",(function(){return Z})),n.d(t,"setPushNotificationConfig",(function(){return X})),n.d(t,"setEnableZeroNotificationThreshold",(function(){return Y})),n.d(t,"setEnablePerfCheck",(function(){return Q})),n.d(t,"setIncludeNFTsInTotal",(function(){return $})),n.d(t,"setHideBalance",(function(){return J})),n.d(t,"setUpdateSetting",(function(){return ee})),n.d(t,"setDisableSwapExactApproveAmount",(function(){return te})),n.d(t,"updateCustomNetworkRpc",(function(){return ne})),n.d(t,"setHideRiskTokens",(function(){return re})),n.d(t,"setEnableWebAuthn",(function(){return oe})),n.d(t,"toggleDisableExt",(function(){return ae})),n.d(t,"disableExtSwitchTips",(function(){return ie})),n.d(t,"setPutMainTokenOnTop",(function(){return ce})),n.d(t,"setOverviewDefiBuildByService",(function(){return se})),n.d(t,"setHideDiscoverContent",(function(){return le})),n.d(t,"setWalletSwitch",(function(){return ue})),n.d(t,"toggleWalletSwitch",(function(){return de})),n.d(t,"setHideScamHistory",(function(){return fe})),n.d(t,"setAccountDerivationDbMigrationVersion",(function(){return pe})),n.d(t,"setOnRamperTestMode",(function(){return be})),n.d(t,"setShowWebEmbedWebviewAgent",(function(){return me})),n.d(t,"setShowContentScriptReloadButton",(function(){return he})),n.d(t,"clearNetworkCustomRpcs",(function(){return je})),n.d(t,"rememberPassphraseWallet",(function(){return Oe})),n.d(t,"forgetPassphraseWallet",(function(){return ge})),n.d(t,"setVerification",(function(){return ve})),n.d(t,"setDeviceVersion",(function(){return ye})),n.d(t,"setForceUpdateVersionInfo",(function(){return xe})),n.d(t,"setLeftSidebarCollapsed",(function(){return we})),n.d(t,"setEnableETH2Unstake",(function(){return _e})),n.d(t,"setAdvancedSettings",(function(){return ke})),n.d(t,"setHardwareConnectSrc",(function(){return Ie})),n.d(t,"setGasPanelEIP1559Enabled",(function(){return Se}));var r,o=n(378),a=n.n(o),i=n(3),c=n.n(i),s=n(152),l=n.n(s),u=n(128),d=n(2509),f=n(167),p=n.n(f),b=n(46),m=n(338),h=n(844),j=n(24),O=n(637);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={threshold:5,pushEnable:!1,priceAlertEnable:!1,btcAndEthPriceAlertEnable:!1,favoriteTokensPriceAlertEnable:!1,accountActivityPushEnable:!1},x={theme:"system",lastLocale:"system",locale:"system",version:null!="4.10.0"?"4.10.0":"1.0.0",buildNumber:null!="2023080300"?"2023080300":"2022010100",instanceId:p.a.v4(),enableAppLock:!1,enableLocalAuthentication:!1,disableExt:!1,disableExtSwitchTips:!1,appLockDuration:240,enableHaptics:h.defaultHapticStatus,selectedFiatMoneySymbol:"usd",refreshTimeStamp:Object(b.getTimeStamp)(),autoRefreshTimeStamp:Object(b.getTimeStamp)(),swapSlippagePercent:"1",deviceUpdates:{},walletSwitchData:{},devMode:{enable:!1,preReleaseUpdate:!1,updateDeviceBle:!1,updateDeviceSys:!1,updateDeviceRes:!1,enableTestFiatEndpoint:!1,enableZeroNotificationThreshold:!1,enablePerfCheck:!1,defiBuildService:void 0,onRamperTestMode:!1},pushNotification:y,validationSetting:(r={},r[O.ValidationFields.Account]=!1,r[O.ValidationFields.Payment]=!1,r[O.ValidationFields.Secret]=!1,r[O.ValidationFields.Wallet]=!1,r),hideSmallBalance:!1,hideRiskTokens:!0,putMainTokenOnTop:!1,hideScamHistory:!0,includeNFTsInTotal:!0,hideBalance:!1,updateSetting:{autoDownload:!0,updateLatestVersion:null,updateLatestTimeStamp:null},disableSwapExactApproveAmount:!1,customNetworkRpcMap:{},accountDerivationDbMigrationVersion:"",hardware:{rememberPassphraseWallets:[],verification:{},versions:{}},softwareUpdate:{forceUpdateVersionInfo:void 0},advancedSettings:{useDustUtxo:!0},hardwareConnectSrc:m.SHORT_ONEKEYSO_URL,gasPanelEIP1559Enabled:!0},w="ONEKEY_THEME_PRELOAD",_=l()((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=w;j.default.isRuntimeBrowser&&(!t&&localStorage.getItem(n)||localStorage.setItem(n,e),"dark"===e&&(document.documentElement.style.backgroundColor="rgb(19, 19, 27)"))}catch(r){}}),600,{leading:!1,trailing:!0});_(x.theme,!1);var k=Object(u.createSlice)({name:"settings",initialState:x,reducers:{updateVersionAndBuildNumber:function(e,t){e.version=t.payload.version,e.buildNumber=t.payload.buildNumber},setTheme:function(e,t){e.theme=t.payload},setLocale:function(e,t){e.lastLocale=e.locale,e.locale=t.payload},setEnableAppLock:function(e,t){e.enableAppLock=t.payload},toggleEnableLocalAuthentication:function(e){e.enableLocalAuthentication=!e.enableLocalAuthentication},setEnableLocalAuthentication:function(e,t){e.enableLocalAuthentication=t.payload},setAppLockDuration:function(e,t){e.appLockDuration=t.payload},setSelectedFiatMoneySymbol:function(e,t){e.selectedFiatMoneySymbol=t.payload},setRefreshTS:function(e){e.refreshTimeStamp=Object(b.getTimeStamp)()},setAutoRefreshTimeStamp:function(e){e.autoRefreshTimeStamp=Object(b.getTimeStamp)()},setSwapSlippagePercent:function(e,t){e.swapSlippagePercent=t.payload},setOverviewDefiBuildByService:function(e,t){var n=t.payload;e.devMode=v(v({},e.devMode),{},{defiBuildService:"all"===n?void 0:n})},setValidationState:function(e,t){e.validationSetting||(e.validationSetting={});var n=t.payload,r=n.key,o=n.value;e.validationSetting[r]=o},setDevMode:function(e,t){e.devMode=v(v({},e.devMode),{},{enable:t.payload})},setPreReleaseUpdate:function(e,t){e.devMode=v(v({},e.devMode),{},{preReleaseUpdate:t.payload})},setUpdateDeviceBle:function(e,t){e.devMode=v(v({},e.devMode),{},{updateDeviceBle:t.payload})},setUpdateDeviceSys:function(e,t){e.devMode=v(v({},e.devMode),{},{updateDeviceSys:t.payload})},setUpdateDeviceRes:function(e,t){e.devMode=v(v({},e.devMode),{},{updateDeviceRes:t.payload})},setHideDiscoverContent:function(e,t){e.devMode=v(v({},e.devMode),{},{hideDiscoverContent:t.payload})},setOnRamperTestMode:function(e,t){e.devMode=v(v({},e.devMode),{},{onRamperTestMode:t.payload})},setShowWebEmbedWebviewAgent:function(e,t){e.devMode=v(v({},e.devMode),{},{showWebEmbedWebviewAgent:t.payload})},setShowContentScriptReloadButton:function(e,t){e.devMode=v(v({},e.devMode),{},{showContentScriptReloadButton:t.payload})},setEnableTestFiatEndpoint:function(e,t){e.devMode=v(v({},e.devMode),{},{enableTestFiatEndpoint:t.payload})},setEnableZeroNotificationThreshold:function(e,t){e.devMode=v(v({},e.devMode),{},{enableZeroNotificationThreshold:t.payload})},setEnablePerfCheck:function(e,t){e.devMode=v(v({},e.devMode),{},{enablePerfCheck:t.payload})},setDeviceUpdates:function(e,t){var n,r,o,a="firmware"===t.payload.type?{forceFirmware:t.payload.value.forceFirmware,firmware:t.payload.value.firmware}:{forceBle:t.payload.value.forceBle,ble:t.payload.value.ble},i=null!=(n=null==(r=e.deviceUpdates)?void 0:r[t.payload.connectId])?n:{},c=v(v({},i),a);(function(e,t){try{var n=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(t));return Object(d.dequal)(n,r)}catch(o){return!1}})(i,c)||(e.deviceUpdates=v(v({},e.deviceUpdates),{},((o={})[t.payload.connectId]=c,o)))},setDeviceDoneUpdate:function(e,t){if(e.deviceUpdates){var n=t.payload,r=n.connectId,o=n.type;"firmware"===o?(e.deviceUpdates[r].forceFirmware=!1,e.deviceUpdates[r].firmware=void 0):"ble"===o&&(e.deviceUpdates[r].forceBle=!1,e.deviceUpdates[r].ble=void 0)}},setEnableHaptics:function(e,t){e.enableHaptics=t.payload},setHideSmallBalance:function(e,t){e.hideSmallBalance=t.payload},setHideScamHistory:function(e,t){e.hideScamHistory=t.payload},setHideRiskTokens:function(e,t){e.hideRiskTokens=t.payload},setPutMainTokenOnTop:function(e,t){e.putMainTokenOnTop=t.payload},setHideBalance:function(e,t){e.hideBalance=t.payload},setIncludeNFTsInTotal:function(e,t){e.includeNFTsInTotal=t.payload},setPushNotificationConfig:function(e,t){var n,r,o=v(v(v({},y),e.pushNotification),t.payload);null==(n=t.payload)||!n.pushEnable||null!=(r=e.pushNotification)&&r.pushEnable||Object.assign(o,{priceAlertEnable:!0,btcAndEthPriceAlertEnable:!0,favoriteTokensPriceAlertEnable:!0,accountActivityPushEnable:!0}),e.pushNotification=o},setUpdateSetting:function(e,t){var n=v(v({},e.updateSetting),t.payload);e.updateSetting=n},setDisableSwapExactApproveAmount:function(e,t){e.disableSwapExactApproveAmount=t.payload},updateCustomNetworkRpc:function(e,t){var n=t.payload,r=n.type,o=n.networkId,i=n.rpc,c=v({},e.customNetworkRpcMap||{});Array.isArray(c[o])||(c[o]=[]),"add"===r?(c[o].push(i),c[o]=a()(c[o])):"remove"===r&&(c[o]=c[o].filter((function(e){return e!==i}))),e.customNetworkRpcMap=c},clearNetworkCustomRpcs:function(e,t){var n=t.payload.networkId,r=v({},e.customNetworkRpcMap||{});delete r[n],e.customNetworkRpcMap=r},setEnableWebAuthn:function(e,t){e.enableWebAuthn=t.payload},toggleDisableExt:function(e){e.disableExt=!e.disableExt},disableExtSwitchTips:function(e){e.disableExtSwitchTips=!0},setWalletSwitch:function(e,t){var n=t.payload,r=e.walletSwitchData||{},o=v(v({},n),r);e.walletSwitchData=o},toggleWalletSwitch:function(e,t){var n=t.payload,r=n.walletId,o=n.enable;((e.walletSwitchData||{})[r]||{}).enable=o},setAccountDerivationDbMigrationVersion:function(e,t){e.accountDerivationDbMigrationVersion=t.payload},rememberPassphraseWallet:function(e,t){var n,r=t.payload,o=(null==(n=e.hardware)?void 0:n.rememberPassphraseWallets)||[];o.includes(r)||o.push(r),e.hardware=v(v({},e.hardware),{},{rememberPassphraseWallets:o})},forgetPassphraseWallet:function(e,t){var n,r=t.payload,o=(null==(n=e.hardware)?void 0:n.rememberPassphraseWallets)||[];(Array.isArray(r)?r:[r]).forEach((function(e){var t=o.indexOf(e);t>-1&&o.splice(t,1)})),e.hardware=v(v({},e.hardware),{},{rememberPassphraseWallets:o})},setVerification:function(e,t){var n,r;e.hardware=v(v({},e.hardware),{},{verification:v(v({},null==(n=e.hardware)?void 0:n.verification),{},(r={},r[t.payload.connectId]=t.payload.verified,r))})},setDeviceVersion:function(e,t){var n,r;e.hardware=v(v({},e.hardware),{},{versions:v(v({},null==(n=e.hardware)?void 0:n.versions),{},(r={},r[t.payload.connectId]=t.payload.version,r))})},setForceUpdateVersionInfo:function(e,t){e.softwareUpdate=v(v({},e.softwareUpdate),{},{forceUpdateVersionInfo:t.payload})},setLeftSidebarCollapsed:function(e,t){e.leftSidebarCollapsed=t.payload},setEnableETH2Unstake:function(e,t){e.enableETH2Unstake=t.payload},setAdvancedSettings:function(e,t){var n,r=null!=(n=e.advancedSettings)?n:{};e.advancedSettings=v(v({},r),t.payload)},setHardwareConnectSrc:function(e,t){e.hardwareConnectSrc=t.payload},setGasPanelEIP1559Enabled:function(e,t){e.gasPanelEIP1559Enabled=t.payload}}}),I=k.actions,S=I.setTheme,T=I.setLocale,P=I.setEnableAppLock,C=I.toggleEnableLocalAuthentication,M=I.setSelectedFiatMoneySymbol,A=I.setRefreshTS,E=I.setAppLockDuration,D=I.setAutoRefreshTimeStamp,R=I.updateVersionAndBuildNumber,N=I.setEnableLocalAuthentication,L=I.setSwapSlippagePercent,B=I.setValidationState,F=I.setEnableTestFiatEndpoint,U=I.setDevMode,H=I.setPreReleaseUpdate,W=I.setUpdateDeviceBle,V=I.setUpdateDeviceSys,z=I.setUpdateDeviceRes,G=I.setDeviceUpdates,K=I.setDeviceDoneUpdate,q=I.setEnableHaptics,Z=I.setHideSmallBalance,X=I.setPushNotificationConfig,Y=I.setEnableZeroNotificationThreshold,Q=I.setEnablePerfCheck,$=I.setIncludeNFTsInTotal,J=I.setHideBalance,ee=I.setUpdateSetting,te=I.setDisableSwapExactApproveAmount,ne=I.updateCustomNetworkRpc,re=I.setHideRiskTokens,oe=I.setEnableWebAuthn,ae=I.toggleDisableExt,ie=I.disableExtSwitchTips,ce=I.setPutMainTokenOnTop,se=I.setOverviewDefiBuildByService,le=I.setHideDiscoverContent,ue=I.setWalletSwitch,de=I.toggleWalletSwitch,fe=I.setHideScamHistory,pe=I.setAccountDerivationDbMigrationVersion,be=I.setOnRamperTestMode,me=I.setShowWebEmbedWebviewAgent,he=I.setShowContentScriptReloadButton,je=I.clearNetworkCustomRpcs,Oe=I.rememberPassphraseWallet,ge=I.forgetPassphraseWallet,ve=I.setVerification,ye=I.setDeviceVersion,xe=I.setForceUpdateVersionInfo,we=I.setLeftSidebarCollapsed,_e=I.setEnableETH2Unstake,ke=I.setAdvancedSettings,Ie=I.setHardwareConnectSrc,Se=I.setGasPanelEIP1559Enabled;t.default=k.reducer},888:function(e,t,n){"use strict";n.r(t),n.d(t,"SiteSection",(function(){return m}));var r=n(3),o=n.n(r),a=n(41),i=n(20),c=n(40),s=n(15),l=n.n(s),u=n(0),d=["url"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){return["https","wss"].some((function(t){return e.startsWith(t)}))},m=function(e){var t=e.url,n=l()(e,d);return t?Object(u.jsxs)(a.default,p(p({alignItems:"center",justifyContent:"center",flex:"1"},n),{},{children:[b(t)?Object(u.jsx)(c.default,{name:"LockClosedMini",size:12}):null,Object(u.jsx)(i.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},ml:"1",numberOfLines:1,isTruncated:!0,children:t})]})):null}},90:function(e,t,n){"use strict";n.r(t),n.d(t,"CustomOneKeyHardwareError",(function(){return r})),n.d(t,"InvalidPIN",(function(){return m})),n.d(t,"InvalidPassphrase",(function(){return h})),n.d(t,"DeviceNotOpenedPassphrase",(function(){return j})),n.d(t,"DeviceOpenedPassphrase",(function(){return O})),n.d(t,"UserCancel",(function(){return g})),n.d(t,"UserCancelFromOutside",(function(){return v})),n.d(t,"UnknownMethod",(function(){return y})),n.d(t,"ConnectTimeout",(function(){return x})),n.d(t,"NeedOneKeyBridge",(function(){return w})),n.d(t,"BridgeNetworkError",(function(){return _})),n.d(t,"BridgeTimeoutError",(function(){return k})),n.d(t,"BridgeTimeoutErrorForDesktop",(function(){return I})),n.d(t,"ConnectTimeoutError",(function(){return S})),n.d(t,"ConnectPollingStopError",(function(){return T})),n.d(t,"DeviceNotBonded",(function(){return P})),n.d(t,"DeviceBondError",(function(){return C})),n.d(t,"NeedBluetoothTurnedOn",(function(){return M})),n.d(t,"NeedBluetoothPermissions",(function(){return A})),n.d(t,"BleLocationServiceError",(function(){return E})),n.d(t,"BleWriteCharacteristicError",(function(){return D})),n.d(t,"BleScanError",(function(){return R})),n.d(t,"BleAlreadyConnectedError",(function(){return N})),n.d(t,"OpenBlindSign",(function(){return L})),n.d(t,"FirmwareVersionTooLow",(function(){return B})),n.d(t,"NotInBootLoaderMode",(function(){return F})),n.d(t,"FirmwareDownloadFailed",(function(){return U})),n.d(t,"FirmwareUpdateManuallyEnterBoot",(function(){return H})),n.d(t,"FirmwareUpdateAutoEnterBootFailure",(function(){return W})),n.d(t,"FirmwareUpdateLimitOneDevice",(function(){return V})),n.d(t,"NewFirmwareUnRelease",(function(){return z})),n.d(t,"NewFirmwareForceUpdate",(function(){return G})),n.d(t,"DeviceNotSame",(function(){return K})),n.d(t,"DeviceNotFind",(function(){return q})),n.d(t,"InitIframeLoadFail",(function(){return Z})),n.d(t,"InitIframeTimeout",(function(){return X})),n.d(t,"NetworkError",(function(){return Y})),n.d(t,"NotSupportPassphraseError",(function(){return Q})),n.d(t,"FileAlreadyExistError",(function(){return $})),n.d(t,"IncompleteFileError",(function(){return J})),n.d(t,"NotInSigningModeError",(function(){return ee})),n.d(t,"UnknownHardwareError",(function(){return te}));var r,o=n(6),a=n.n(o),i=n(9),c=n.n(i),s=n(14),l=n.n(s),u=n(7),d=n.n(u),f=n(70),p=n(23);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}!function(e){e[e.NeedOneKeyBridge=3030]="NeedOneKeyBridge",e[e.NeedFirmwareUpgrade=4030]="NeedFirmwareUpgrade"}(r||(r={}));var m=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.PinInvalid,e.key="msg__hardware_invalid_pin_error",e}return a()(n)}(p.OneKeyHardwareError),h=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.DeviceCheckPassphraseStateError,e.key="msg__hardware_device_passphrase_state_error",e}return a()(n)}(p.OneKeyHardwareError),j=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.DeviceNotOpenedPassphrase,e.key="msg__hardware_not_opened_passphrase",e}return a()(n)}(p.OneKeyHardwareError),O=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.DeviceOpenedPassphrase,e.key="msg__hardware_opened_passphrase",e}return a()(n)}(p.OneKeyHardwareError),g=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.ActionCancelled,e.key="msg__hardware_user_cancel_error",e}return a()(n)}(p.OneKeyHardwareError),v=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.DeviceInterruptedFromOutside,e.key="msg__hardware_user_cancel_error",e}return a()(n)}(p.OneKeyHardwareError),y=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.RuntimeError,e.key="msg__hardware_unknown_message_error",e}return a()(n)}(p.OneKeyHardwareError),x=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).key="msg__hardware_connect_timeout_error",e}return a()(n)}(p.OneKeyHardwareError),w=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).code=r.NeedOneKeyBridge,e.key="modal__need_install_onekey_bridge",e}return a()(n)}(p.OneKeyHardwareError),_=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BridgeNetworkError,e.key="msg__hardware_bridge_network_error",e}return a()(n)}(p.OneKeyHardwareError),k=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BridgeTimeoutError,e.key="msg__hardware_bridge_timeout",e}return a()(n)}(p.OneKeyHardwareError),I=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BridgeTimeoutError,e.key="msg__hardware_bridge_timeout_for_desktop",e}return a()(n)}(p.OneKeyHardwareError),S=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.PollingTimeout,e.key="msg__hardware_polling_connect_timeout_error",e}return a()(n)}(p.OneKeyHardwareError),T=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.PollingStop,e.key="msg__hardware_polling_connect_timeout_error",e}return a()(n)}(p.OneKeyHardwareError),P=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BleDeviceNotBonded,e.key="msg__hardware_bluetooth_not_paired_error",e}return a()(n)}(p.OneKeyHardwareError),C=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BleDeviceBondError,e.key="msg__hardware_bluetooth_pairing_failed",e}return a()(n)}(p.OneKeyHardwareError),M=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BlePermissionError,e.key="msg__hardware_bluetooth_need_turned_on_error",e}return a()(n)}(p.OneKeyHardwareError),A=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BleLocationError,e.key="msg__hardware_bluetooth_requires_permission_error",e}return a()(n)}(p.OneKeyHardwareError),E=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BleLocationServicesDisabled,e.key="msg__hardware_device_ble_location_disabled",e}return a()(n)}(p.OneKeyHardwareError),D=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BleWriteCharacteristicError,e.key="msg__hardware_device_need_restart",e}return a()(n)}(p.OneKeyHardwareError),R=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BleScanError,e.key="msg__hardware_device_ble_scan_error",e}return a()(n)}(p.OneKeyHardwareError),N=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BleAlreadyConnected,e.key="msg__hardware_device_ble_already_connected",e}return a()(n)}(p.OneKeyHardwareError),L=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.BlindSignDisabled,e.key="msg__hardware_open_blind_sign_error",e}return a()(n)}(p.OneKeyHardwareError),B=function(e){c()(n,e);var t=b(n);function n(e){var n;return(n=t.call(this,e,{0:"require"})).code=f.HardwareErrorCode.CallMethodNeedUpgradeFirmware,n.key="msg__hardware_version_need_upgrade_error",n}return a()(n)}(p.OneKeyHardwareError),F=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.DeviceUnexpectedBootloaderMode,e}return a()(n)}(p.OneKeyHardwareError),U=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.FirmwareUpdateDownloadFailed,e.data={reconnect:!0},e.key="msg__hardware_firmware_download_error",e}return a()(n)}(p.OneKeyHardwareError),H=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot,e.data={reconnect:!0},e.key="msg__hardware_manually_enter_boot",e}return a()(n)}(p.OneKeyHardwareError),W=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure,e.data={reconnect:!0},e.key="msg__hardware_enter_boot_failure",e}return a()(n)}(p.OneKeyHardwareError),V=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.FirmwareUpdateLimitOneDevice,e.data={reconnect:!0},e.key="modal__only_one_device_can_be_connected_desc",e}return a()(n)}(p.OneKeyHardwareError),z=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.NewFirmwareUnRelease,e.data={reconnect:!0},e.key="msg__str_not_supported_by_hardware_wallets",e}return a()(n)}(p.OneKeyHardwareError),G=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.NewFirmwareForceUpdate,e.key="msg__need_force_upgrade_firmware",e}return a()(n)}(p.OneKeyHardwareError),K=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.DeviceCheckDeviceIdError,e.key="msg__device_information_is_inconsistent_it_may_caused_by_device_reset",e}return a()(n)}(p.OneKeyHardwareError),q=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.DeviceNotFound,e.data={reconnect:!0},e.key="msg__hardware_device_not_find_error",e}return a()(n)}(p.OneKeyHardwareError),Z=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.IFrameLoadFail,e.key="msg__hardware_init_iframe_load_error",e}return a()(n)}(p.OneKeyHardwareError),X=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.IframeTimeout,e.key="msg__hardware_init_iframe_load_error",e}return a()(n)}(p.OneKeyHardwareError),Y=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.NetworkError,e.data={reconnect:!0},e.key="title__no_connection_desc",e}return a()(n)}(p.OneKeyHardwareError),Q=function(e){c()(n,e);var t=b(n);function n(e){var n;return(n=t.call(this,e,{0:"require"})).code=f.HardwareErrorCode.DeviceNotSupportPassphrase,n.key="msg__not_support_passphrase_need_upgrade",n}return a()(n)}(p.OneKeyHardwareError),$=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.FileAlreadyExists,e.key="msg__file_already_exists",e}return a()(n)}(p.OneKeyHardwareError),J=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.CheckDownloadFileError,e.key="msg__incomplete_file",e}return a()(n)}(p.OneKeyHardwareError),ee=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=f.HardwareErrorCode.NotInSigningMode,e.key="msg__transaction_signing_error_not_in_signing_mode",e}return a()(n)}(p.OneKeyHardwareError),te=function(e){c()(n,e);var t=b(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).data={reconnect:!0},e}return a()(n)}(p.OneKeyHardwareError)},904:function(e,t,n){"use strict";n.r(t),n.d(t,"RestfulRequest",(function(){return h}));var r=n(3),o=n.n(r),a=n(2),i=n.n(a),c=n(6),s=n.n(c),l=n(26),u=n(532),d=n.n(u),f=n(1040),p=n(556);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;this.baseUrl=e.endsWith("/")?e.slice(0,-1):e,this.timeout=n,this.headers={},t&&Object.assign(this.headers,t)}e.handleResponse=function(e){if(!e.ok)throw new p.ResponseError("Wrong response<"+e.status+">",e);return Promise.resolve(e)};var t=e.prototype;return t.createAbortSignal=function(e){var t=e.timeout;return Object(f.default)(t||this.timeout)},t.get=function(){var t=i()((function*(t,n,r,o){r=this.assembleHeaders(r);var a=this.buildUrl(t);"object"===typeof n&&(a.search=new URLSearchParams(n).toString());var i=yield d()(a.toString(),{headers:r,signal:this.createAbortSignal({timeout:o})});return e.handleResponse(i)}));return function(e,n,r,o){return t.apply(this,arguments)}}(),t.post=function(){var t=i()((function*(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;o=this.assembleHeaders(o),r&&(o["Content-Type"]="application/json");var i=this.buildUrl(t),c="application/x-binary"===o["Content-Type"]?l.Buffer.from(n,"hex"):"object"===typeof n?r?JSON.stringify(n):new URLSearchParams(n).toString():n,s=yield d()(i.toString(),{method:"POST",headers:o,body:c,signal:this.createAbortSignal({timeout:a})});return e.handleResponse(s)}));return function(e,n){return t.apply(this,arguments)}}(),t.buildUrl=function(e){e=e.startsWith("/")?e:"/"+e;var t=""+this.baseUrl+e;return new URL(t)},t.assembleHeaders=function(e){return e=e||{},m(m({},this.headers),e)},s()(e)}()},91:function(e,t,n){"use strict";n.r(t),n.d(t,"appEventBus",(function(){return r})),n.d(t,"AppEventBusNames",(function(){return o}));var r,o,a=n(689),i=n(24);!function(e){e.AccountNameChanged="AccountNameChanged",e.NetworkChanged="NetworkChanged",e.AccountChanged="AccountChanged",e.CurrencyChanged="CurrencyChanged",e.BackupRequired="BackupRequired",e.NotificationStatusChanged="NotificationStatusChanged",e.StoreInitedFromPersistor="StoreInitedFromPersistor",e.Unlocked="Unlocked",e.HttpServerRequest="HttpServerRequest"}(o||(o={})),r=i.isExtensionUi?new Proxy({},{get:function(){throw new Error("[appEventBus] is NOT allowed in UI process currently. use [appUIEventBus] instead")}}):new a.CrossEventEmitter},917:function(e,t,n){"use strict";n.r(t),n.d(t,"formatDerivationLabel",(function(){return r}));var r=function(e,t){return t?"string"===typeof t?t:"object"===typeof t?e.formatMessage({id:t.id}):void 0:""}},922:function(e,t,n){"use strict";n.r(t),n.d(t,"SendEditFeeOverview",(function(){return p}));var r=n(12),o=n(3),a=n.n(o),i=n(20),c=n(88),s=n(196),l=n(125),u=n(0);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t,n,o=e.accountId,a=e.networkId,d=e.feeInfo,p=e.price,b=e.limit,m=e.btcCustomFee,h=e.onlyCurrency,j=e.currencyProps,O=Object(c.default)(),g=null==d?void 0:d.eip1559,v=null==d?void 0:d.isBtcForkChain,y="",x="";if(g){var w=Object(s.calculateTotalFeeRange)({eip1559:!0,limit:b,price1559:p}),_=w.min,k=w.max,I=_;x=Object(s.calculateTotalFeeNative)({amount:k,info:d}),y=Object(s.calculateTotalFeeNative)({amount:I,info:d})}else if(v){var S;if(m)S=parseInt(m);else{var T,P=d.prices.findIndex((function(e){return e===p}));S=null==(T=d.feeList)?void 0:T[P]}var C=Object(s.calculateTotalFeeRange)({limit:b,price:p,btcFee:S,isBtcForkChain:!0}).max;x=Object(s.calculateTotalFeeNative)({amount:C,info:d})}else{var M=Object(s.calculateTotalFeeRange)({limit:b,price:p}).max;x=Object(s.calculateTotalFeeNative)({amount:M,info:d})}return h?Object(u.jsx)(i.default,f(f({},j),{},{children:y?Object(u.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:a,value:y,render:function(e){return Object(u.jsx)(u.Fragment,{children:y?e:"-"})}}):Object(u.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:a,value:x,render:function(e){return Object(u.jsx)(u.Fragment,{children:x?e:"-"})}})})):Object(u.jsxs)(r.default,{children:[Object(u.jsxs)(i.default,{typography:"Body2Strong",textAlign:"center",children:[y||x,null!=(t=null==d?void 0:d.nativeSymbol)?t:""]}),Object(u.jsx)(i.default,{typography:"Display2XLarge",textAlign:"center",children:y?Object(u.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:a,value:y,render:function(e){return Object(u.jsx)(u.Fragment,{children:y?e:"-"})}}):Object(u.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:a,value:x,render:function(e){return Object(u.jsx)(u.Fragment,{children:x?e:"-"})}})}),y&&Object(u.jsxs)(i.default,{typography:"Body2",color:"text-subdued",textAlign:"center",mt:1,children:[O.formatMessage({id:"content__max_fee"}),":",Object(u.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:a,value:x,render:function(e){return Object(u.jsx)(u.Fragment,{children:x?e:"-"})}}),"("+x+(null!=(n=null==d?void 0:d.nativeSymbol)?n:"")+")"]})]})}},93:function(e,t,n){"use strict";n.r(t),n.d(t,"throwCrossError",(function(){return D})),n.d(t,"isSerializable",(function(){return R})),n.d(t,"ensureSerializable",(function(){return N})),n.d(t,"ensurePromiseObject",(function(){return L})),n.d(t,"throwMethodNotFound",(function(){return B})),n.d(t,"warningIfNotRunInBackground",(function(){return F})),n.d(t,"ensureBackgroundObject",(function(){return U})),n.d(t,"waitAsync",(function(){return H})),n.d(t,"makeTimeoutPromise",(function(){return W})),n.d(t,"waitForDataLoaded",(function(){return V})),n.d(t,"MAX_LOG_LENGTH",(function(){return G})),n.d(t,"ENABLED_DAPP_SCOPE",(function(){return q})),n.d(t,"getNetworkImplFromDappScope",(function(){return Z})),n.d(t,"isDappScopeMatchNetwork",(function(){return X})),n.d(t,"DISPATCH_ACTION_BROADCAST_METHOD_NAME",(function(){return Y})),n.d(t,"REPLACE_WHOLE_STATE",(function(){return Q})),n.d(t,"buildReduxBatchAction",(function(){return $})),n.d(t,"fetchData",(function(){return J}));var r=n(316),o=n.n(r),a=n(60),i=n.n(a),c=n(340),s=n.n(c),l=n(2),u=n.n(l),d=n(237),f=n.n(d),p=n(782),b=n.n(p),m=n(154),h=n.n(m),j=n(1159),O=n.n(j),g=n(2456),v=n.n(g),y=n(1022),x=n.n(y),w=n(1639),_=n.n(w),k=n(87),I=n(107),S=n.n(I),T=n(446),P=n.n(T),C=n(923),M=n(118),A=n(11),E=(n(498),n(19));n(24);function D(e){throw new Error(e)}function R(e){if(_()(e)||x()(e)||v()(e)||O()(e)||h()(e)||e instanceof Error)return!0;if(!b()(e)&&!f()(e))return!1;for(var t in e)if(!R(e[t]))return!1;return!0}function N(e){return e}function L(e,t){t.serviceName,t.methodName}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="DApp Provider or Background method not support (method="+t.join(".")+"), try to add method decorators @backgroundMethod() or @providerApiMethod()";D(r)}function F(e){e.name,e.target}function U(e){return e}function H(e){return new Promise((function(t){setTimeout(t,e)}))}function W(e){var t=e.asyncFunc,n=e.timeout,r=e.timeoutResult;return new Promise((function(e){var o=!1,a=setTimeout((function(){o||(o=!0,e(r))}),n);t().then((function(t){o||(o=!0,clearTimeout(a),e(t))}))}))}function V(e){return z.apply(this,arguments)}function z(){return(z=u()((function*(e){var t=e.data,n=e.wait,r=void 0===n?600:n,a=e.logName,c=e.timeout,s=void 0===c?0:c,l=!1,d=null,p=[].concat(t);s&&(d=setTimeout((function(){l=!0}),s));for(var m=function*(){var e=!0;if(yield Promise.all(p.map(function(){var t=u()((function*(t){var n=yield t();!1!==n?(i()(n)||o()(n)&&(b()(n)||f()(n)))&&(e=!1):e=!1}));return function(e){return t.apply(this,arguments)}}())),e||l)return"break";yield H(r)};;){if("break"===(yield*m()))break}if(clearTimeout(d),l)throw new Error("waitForDataLoaded: "+(null!=a?a:"")+" timeout")}))).apply(this,arguments)}var G=1e3,K={ethereum:A.IMPL_EVM,near:A.IMPL_NEAR,conflux:A.IMPL_CFX,solana:A.IMPL_SOL,sollet:A.IMPL_SOL,starcoin:A.IMPL_STC,aptos:A.IMPL_APTOS,martian:A.IMPL_APTOS,tron:A.IMPL_TRON,algo:A.IMPL_ALGO,sui:A.IMPL_SUI,cardano:A.IMPL_ADA,cosmos:A.IMPL_COSMOS,polkadot:A.IMPL_DOT,$hardware_sdk:void 0,$private:void 0},q=[k.IInjectedProviderNames.ethereum,k.IInjectedProviderNames.starcoin,k.IInjectedProviderNames.near,k.IInjectedProviderNames.solana,k.IInjectedProviderNames.aptos,k.IInjectedProviderNames.conflux,k.IInjectedProviderNames.tron,k.IInjectedProviderNames.algo,k.IInjectedProviderNames.sui,k.IInjectedProviderNames.cardano,k.IInjectedProviderNames.cosmos,k.IInjectedProviderNames.polkadot];function Z(e){return K[e]}var X=function(e,t){return!e||!t||K[e]===t},Y="dispatchActionBroadcast",Q="REPLACE_WHOLE_STATE";function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t&&t.length){if(t&&t.length>1){var r=function(e,n){Object(C.batch)((function(){t.forEach((function(t){if(s()(t))throw new Error("backgroundApi.dispatch ERROR:  async action is NOT allowed.");t&&(t.$isDispatchFromBackground=!0),e(t)}))}))};return r}var o=null==t?void 0:t[0];return o&&(o.$isDispatchFromBackground=!0),o}}function J(e){return ee.apply(this,arguments)}function ee(){return(ee=u()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET",o=Object(M.getFiatEndpoint)(),a=["post","put"].includes(r.toLowerCase()),i=""+o+e+(a?"":"?"+P.a.stringify(t));try{var c=a?t:void 0,s={url:i,method:r,data:c},l=yield S.a.request(s),u=l.data;return u}catch(d){return E.default.http.error("backgroundApi.fetchData ERROR: request api "+i,d),n}}))).apply(this,arguments)}},938:function(e,t,n){"use strict";n.r(t),n.d(t,"NetworkListEmpty",(function(){return c})),n.d(t,"strIncludes",(function(){return s}));var r=n(225),o=n(201),a=n(88),i=n(0),c=function(){var e=Object(a.default)();return Object(i.jsx)(r.default,{children:Object(i.jsx)(o.default,{flex:"1",emoji:"\ud83d\udd0d",title:e.formatMessage({id:"content__no_results",defaultMessage:"No Result"})})})},s=function(e,t){return e.toLowerCase().includes(t.toLowerCase())}},946:function(e,t,n){"use strict";var r,o,a;n.r(t),n.d(t,"SwapRoutes",(function(){return r})),n.d(t,"SwapError",(function(){return o})),n.d(t,"QuoterType",(function(){return a})),function(e){e.Swap="Swap",e.Input="Input",e.Output="Output",e.OutputCrosschain="OutputCrosschain",e.Settings="Settings",e.CustomToken="CustomToken",e.Transaction="Transaction",e.Webview="Webview",e.Share="Share",e.SwftcHelp="SwftcHelp",e.PickRecipient="PickRecipient",e.PickAccount="PickAccount",e.SelectSendingAccount="SelectSendingAccount",e.SelectRecipient="SelectRecipient",e.EnterAddress="EnterAddress",e.Welcome="Welcome",e.SelectRoutes="SelectRoutes",e.Slippage="Slippage",e.SlippageCheck="SlippageCheck",e.LimitOrderInput="LimitOrderInput",e.LimitOrderOutput="LimitOrderOutput",e.LimitOrderDetails="LimitOrderDetails",e.TransactionSubmitted="TransactionSubmitted",e.HardwareContinue="HardwareContinue",e.ChainSelector="ChainSelector"}(r||(r={})),function(e){e.QuoteFailed="QuoteFailed",e.InsufficientBalance="InsufficientBalance",e.NotSupport="NotSupport",e.DepositMax="DepositMax",e.DepositMin="DepositMin"}(o||(o={})),function(e){e.swftc="swftc",e.socket="socket",e.mdex="mdex",e.zeroX="0x",e.jupiter="jupiter",e.onekey="onekey"}(a||(a={}))},95:function(e,t,n){"use strict";n.r(t),n.d(t,"EditableNonceStatusEnum",(function(){return r}));var r,o=n(178);n.d(t,"SendModalRoutes",(function(){return o.SendModalRoutes})),function(e){e.None="None",e.Equal="Equal",e.Less="Less",e.Greater="Greater"}(r||(r={}))},950:function(e,t,n){"use strict";var r,o,a,i;n.r(t),n.d(t,"BulkSenderTypeEnum",(function(){return r})),n.d(t,"TokenReceiverEnum",(function(){return o})),n.d(t,"BulkSenderRoutes",(function(){return a})),n.d(t,"ReceiverExampleType",(function(){return i})),function(e){e.NativeToken="NativeToken",e.Token="Token",e.NFT="NFT"}(r||(r={})),function(e){e.Address="Address",e.Amount="Amount"}(o||(o={})),function(e){e.TokenSelector="TokenSelectorModal",e.AmountEditor="AmountEditorModal"}(a||(a={})),function(e){e.TXT="TXT",e.CSV="CSV",e.Excel="Excel"}(i||(i={}))},99:function(e,t,n){"use strict";n.r(t),n.d(t,"FULLWINDOW_OVERLAY_PORTAL",(function(){return s})),n.d(t,"showOverlay",(function(){return l})),n.d(t,"showDialog",(function(){return u}));var r=n(1),o=n(29),a=n(38),i=n(686),c=n(0),s="Root-FullWindowOverlay";function l(e){var t,n=function(){var e;null==(e=t)||e.destroy(),t=null},r=Object(c.jsx)(a.default,{pointerEvents:"box-none",style:o.default.absoluteFill,children:e(n)});return setTimeout((function(){t=Object(i.enterPortal)(s,r)})),n}var u=function(e){return l((function(t){return Object(r.cloneElement)(e,{onClose:function(){null==e.props.onClose||e.props.onClose(),t()}})}))}},998:function(e,t,n){"use strict";n.r(t),n.d(t,"EXT_HTML_FILES",(function(){return o})),n.d(t,"getExtensionIndexHtml",(function(){return a}));var r=n(24),o={background:"background.html",uiPopup:"ui-popup.html",uiExpandTab:"ui-expand-tab.html",uiStandAloneWindow:"ui-standalone-window.html"};function a(){return r.default.isExtensionBackgroundHtml?o.background:r.default.isExtensionUiPopup?o.uiPopup:r.default.isExtensionUiExpandTab?o.uiExpandTab:r.default.isExtensionUiStandaloneWindow?o.uiStandAloneWindow:o.uiExpandTab}}}]);