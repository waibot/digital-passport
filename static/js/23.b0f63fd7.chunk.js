(this.webpackJsonp=this.webpackJsonp||[]).push([[23],{3928:function(e,t,n){"use strict";n.r(t),n.d(t,"useAllDapps",(function(){return s})),n.d(t,"useAllDappMap",(function(){return d})),n.d(t,"useHistoryHostMap",(function(){return f})),n.d(t,"useUserBrowserHistories",(function(){return b})),n.d(t,"useDiscoverHistory",(function(){return j})),n.d(t,"useDiscoverFavorites",(function(){return p})),n.d(t,"useTaggedDapps",(function(){return O})),n.d(t,"useCategoryDapps",(function(){return m})),n.d(t,"useTagDapps",(function(){return x})),n.d(t,"useCategories",(function(){return h})),n.d(t,"useShowBookmark",(function(){return g}));var r=n(4),o=n.n(r),a=n(1),i=n(25),c=n(24),l=n(17);function s(){return Object(i.useAppSelector)((function(e){return e.discover.dappItems||[]}))}var u=function(e){return e.split(".").slice(-2).join(".")};function d(){for(var e=s(),t={},n={},r=0;r<e.length;r+=1){var o=e[r];if(t[o._id]=o,o.url){var a=new URL(o.url).host;if(a)n[a]=o;else{var i=u(a);i&&(n[i]=o)}}}return{idsMap:t,hostMap:n}}function f(){var e=Object(i.useAppSelector)((function(e){return e.discover.history}));return Object(a.useMemo)((function(){var t={};return Object.values(e).forEach((function(e){var n=e.webSite;if(n){var r=n.url;if(r){var o=new URL(r).host;t[o]=n}}})),t}),[e])}function b(){var e=Object(i.useAppSelector)((function(e){return e.discover.userBrowserHistories}));return Object(a.useMemo)((function(){return e?e.map((function(e){return{id:e.url,webSite:{url:e.url,title:e.title,favicon:e.logoUrl}}})):[]}),[e])}function j(){var e=Object(a.useState)([]),t=o()(e,2),n=t[0],r=t[1],c=Object(i.useAppSelector)((function(e){return e.discover.dappHistory})),s=Object(a.useMemo)((function(){return c?Object.entries(c).sort((function(e,t){return t[1].timestamp-e[1].timestamp})).map((function(e){return e[0]})).filter((function(e){return!Number.isNaN(e)})):[]}),[c]);return Object(a.useEffect)((function(){s&&l.default.serviceDiscover.getDappsByIds(s).then((function(e){r(e.map((function(e){return{id:e._id,dapp:e}})))}))}),[s]),n}function p(){var e=Object(i.useAppSelector)((function(e){return e.discover.bookmarks}));return Object(a.useMemo)((function(){return e?e.map((function(e){return{id:e.url,webSite:{title:e.title,favicon:e.icon,url:e.url}}})):[]}),[e])}function O(){var e=Object(i.useAppSelector)((function(e){return e.discover.home}));return Object(a.useMemo)((function(){return e?e.tagDapps.filter((function(e){return e.items.length>0})):[]}),[e])}function m(e){var t=Object(a.useState)([]),n=o()(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){e&&l.default.serviceDiscover.getCategoryDapps(e).then(i)}),[e]),r}function x(e){var t=Object(a.useState)([]),n=o()(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){e&&l.default.serviceDiscover.getTagDapps(e).then(i)}),[e]),r}function h(){var e=Object(i.useAppSelector)((function(e){return e.discover.home}));return Object(a.useMemo)((function(){return e?e.categories:[]}),[e])}function g(){var e=c.default.isNativeIOS||c.default.isMas,t=Object(i.useAppSelector)((function(e){return e.discover.showBookmark})),n=Object(i.useAppSelector)((function(e){var t;return null==(t=e.settings.devMode)?void 0:t.hideDiscoverContent}));return Object(a.useMemo)((function(){return!n&&(!e||t)}),[t,e,n])}},3930:function(e,t,n){"use strict";var r,o,a;n.r(t),n.d(t,"StakingRoutes",(function(){return r})),n.d(t,"EthStakingSource",(function(){return o})),n.d(t,"KeleStakingMode",(function(){return a})),function(e){e.StakingAmount="StakingAmount",e.StakedETHOnKele="StakedETHOnKele",e.StakedETHOnLido="StakedETHOnLido",e.UnstakeAmount="UnstakeAmount",e.WithdrawAmount="WithdrawAmount",e.Feedback="Feedback",e.KeleEthStakeShouldUnderstand="KeleEthStakeShouldUnderstand",e.KeleEthUnstakeShouldUnderstand="KeleEthUnstakeShouldUnderstand",e.LidoEthStakeShouldUnderstand="LidoEthStakeShouldUnderStand",e.LidoEthUnstakeShouldUnderstand="LidoEthUnstakeShouldUnderStand",e.LidoEthUnstake="LidoEthUnstake",e.LidoEthUnstakeRoutes="LidoEthUnstakeRoutes",e.ETHPoolSelector="ETHPoolSelector",e.KeleStakingModeSelector="KeleStakingModeSelector",e.ETHStake="ETHStake"}(r||(r={})),function(e){e.Kele="Kele",e.Lido="Lido"}(o||(o={})),function(e){e.normal="normal",e.fast="fast"}(a||(a={}))},3933:function(e,t,n){"use strict";n.r(t);var r=n(4071);n.d(t,"default",(function(){return r.Hidden}))},3934:function(e,t,n){"use strict";n.r(t),n.d(t,"useDefaultNetWork",(function(){return s})),n.d(t,"useCollectionDetail",(function(){return u}));var r=n(1),o=n(44),a=n(36),i=n(45),c=n(16),l=a.OnekeyNetwork.eth;function s(){var e=Object(i.useNetworks)();return Object(r.useMemo)((function(){return e.find((function(e){return e.id===l}))}),[e])}function u(){var e=Object(o.useNavigation)();return Object(r.useCallback)((function(t){var n=t.collection,r=t.networkId,o=t.contractAddress,a=t.title;e.navigate(c.HomeRoutes.NFTMarketCollectionScreen,{networkId:r,contractAddress:o,collection:n,title:a})}),[e])}},3941:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(40),i=n(15),c=n.n(i),l=n(747),s=n(12),u=n(106),d=n(4281),f=n.n(d),b=n(4282),j=n.n(b),p=n(25),O=n(0),m=["url","size","networkIds"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return{24:{borderRadius:8,innerSize:22,innerRadius:6,chainIconPadding:1.57},28:{borderRadius:9,innerSize:25,innerRadius:6,chainIconPadding:1.57},38:{borderRadius:10,innerSize:36,innerRadius:10,chainIconPadding:1.57},40:{borderRadius:12,innerSize:36,innerRadius:10,chainIconPadding:1.57},48:{borderRadius:12,innerSize:44,innerRadius:10,chainIconPadding:2.69}}[e]}var v=function(e){var t=e.networkIds,n=e.size,r=g(n).chainIconPadding,o=Object(p.useNetworkSimple)(t[0]);return t.length>1?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.default,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:f.a}),Object(O.jsx)(s.default,{position:"absolute",bottom:(null!=r?r:0)+"px",right:(null!=r?r:0)+"px",borderRadius:"full",children:Object(O.jsx)(u.default,{width:.2*n+"px",height:.2*n+"px",source:j.a})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.default,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:f.a}),Object(O.jsx)(s.default,{position:"absolute",bottom:(null!=r?r:0)+"px",right:(null!=r?r:0)+"px",children:Object(O.jsx)(l.default,{width:.2*n+"px",height:.2*n+"px",src:null==o?void 0:o.logoURI,borderRadius:"full"})})]})};t.default=function(e){var t=e.url,n=e.size,r=e.networkIds,o=c()(e,m),i=g(n),u=i.innerSize,d=i.innerRadius,f=i.borderRadius;return Object(O.jsx)(s.default,h(h({justifyContent:"center",alignItems:"center",width:n+"px",height:n+"px",borderRadius:f+"px",borderWidth:"1px",borderColor:"border-subdued"},o),{},{children:Object(O.jsxs)(s.default,{width:u+"px",height:u+"px",children:[t?Object(O.jsx)(l.default,{src:t,width:u+"px",height:u+"px",borderRadius:d+"px",bgColor:"surface-neutral-default",fallbackElement:Object(O.jsx)(s.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:u+"px",height:u+"px",children:Object(O.jsx)(a.default,{size:16,name:"GlobeAltMini"})})}):Object(O.jsx)(s.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:u+"px",height:u+"px",children:Object(O.jsx)(a.default,{size:16,name:"GlobeAltMini"})}),r&&r.length>0?Object(O.jsx)(v,{size:n,networkIds:r}):null]})}))}},3942:function(e,t,n){"use strict";n.r(t),n.d(t,"floorPriceSymbolMap",(function(){return j})),n.d(t,"PriceString",(function(){return p}));var r,o=n(3),a=n.n(o),i=n(20),c=n(15),l=n.n(c),s=n(36),u=n(0),d=["prefix","price","networkId","symbol"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=((r={})[s.OnekeyNetwork.eth]="ETH",r[s.OnekeyNetwork.optimism]="ETH",r[s.OnekeyNetwork.bsc]="BNB",r[s.OnekeyNetwork.polygon]="MATIC",r[s.OnekeyNetwork.arbitrum]="ETH",r[s.OnekeyNetwork.sol]="SOL",r[s.OnekeyNetwork.avalanche]="AVAX",r);function p(e){var t=e.prefix,n=e.price,r=e.networkId,o=e.symbol,a=null!=o?o:j[null!=r?r:""],i="\u2013";return n&&null!==n&&(i=n+" "+(null!=a?a:"")),t?t+" "+i:""+i}t.default=function(e){var t=e.prefix,n=void 0===t?"":t,r=e.price,o=e.networkId,a=e.symbol,c=l()(e,d);return Object(u.jsx)(i.default,b(b({},c),{},{children:p({prefix:n,price:r,networkId:o,symbol:a})}))}},3959:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n(3),a=n.n(o),i=n(747),c=n(51),l=n(40),s=n(15),u=n.n(s),d=n(1),f=n(0),b=["verified"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(d.memo)((function(e){var t=e.verified,n=u()(e,b),o=n.width,a=n.height,s=n.src,j=Object(d.useMemo)((function(){return Object(f.jsx)(c.default,{width:o,height:o,borderRadius:"12px",bgColor:"surface-neutral-subdued",children:Object(f.jsx)(l.default,{name:"ImageBrokenIllus",size:20})})}),[o]);return s&&s.length>0?Object(f.jsxs)(r.default,{width:o,height:a,children:[Object(f.jsx)(i.default,p({preview:!1,skeleton:!0,borderRadius:"12px",fallbackElement:j},n)),!0===t?Object(f.jsx)(r.default,{bgColor:"background-default",position:"absolute",right:"-4px",bottom:"-4px",borderRadius:"full",children:Object(f.jsx)(l.default,{size:16,name:"BadgeCheckMini",color:"icon-success"})}):null]}):j}))},3967:function(e,t,n){"use strict";n.r(t),n.d(t,"DiscoverContext",(function(){return o}));var r=n(1),o=Object(r.createContext)({itemSource:"Favorites",categoryId:"",setCategoryId:function(){},setItemSource:function(){},onItemSelect:function(){},onItemSelectHistory:function(){}})},3973:function(e,t,n){"use strict";n.r(t),n.d(t,"useCurrencyData",(function(){return d})),n.d(t,"useCurrencyListData",(function(){return f})),n.d(t,"useCurrencyUnit",(function(){return b}));var r=n(13),o=n.n(r),a=n(4014),i=n.n(a),c=n(1),l=n(25),s=["usd","eur","gbp","jpy","cny","hkd"],u=["btc","eth","sats","bits"],d=function(e){var t=Object(l.useAppSelector)((function(e){return e.fiatMoney.map}));return Object(c.useMemo)((function(){var n;return null!=(n=t[e])?n:{}}),[t,e])},f=function(){var e=Object(l.useAppSelector)((function(e){return e.fiatMoney.symbolList})),t=Object(l.useAppSelector)((function(e){return e.fiatMoney.map})),n=i()(s,e),r=i()(u,e);return{popularList:n,ratesSectionList:[{title:"crypto",data:o()(r)},{title:"fiat",data:e.filter((function(e){var n,r;return null==(n=t[e])||null==(r=n.type)?void 0:r.includes("fiat")}))}]}},b=function(e){var t=d(e).unit;return Object(c.useMemo)((function(){return null!=t?t:"$"}),[t])}},3974:function(e,t,n){"use strict";n.r(t),n.d(t,"StatsListContext",(function(){return o})),n.d(t,"useStatsListContext",(function(){return a}));var r=n(1),o=Object(r.createContext)(null);function a(){return Object(r.useContext)(o)}},3975:function(e,t,n){"use strict";n.r(t),n.d(t,"useMarketSelectedCategoryId",(function(){return d})),n.d(t,"useMarketSelectedCategory",(function(){return b})),n.d(t,"useMarketCategoryList",(function(){return j})),n.d(t,"useMarketFavoriteRecommentedList",(function(){return p})),n.d(t,"useMarketFavoriteCategoryTokenIds",(function(){return O})),n.d(t,"useMarketSearchCategoryList",(function(){return m}));var r=n(13),o=n.n(r),a=n(50),i=n(1),c=n(44),l=n(17),s=n(25),u=n(263),d=function(){return Object(s.useAppSelector)((function(e){return e.market.selectedCategoryId}))},f=function(){return Object(s.useAppSelector)((function(e){return e.market.categorys}))},b=function(){var e=d(),t=f();return Object(i.useMemo)((function(){return e?t[e]:null}),[t,e])},j=function(){var e=Object(c.useIsFocused)(),t=f();return Object(i.useEffect)((function(){e&&l.default.serviceMarket.fetchMarketCategorys()}),[e]),Object(i.useMemo)((function(){return t&&Object.values(t).length>0?Object.values(t).filter((function(e){return e.type===u.MarketCategoryType.MRKET_CATEGORY_TYPE_TAB})):[]}),[t])},p=function(){var e=f(),t=Object(a.default)(),n=e[u.MARKET_FAVORITES_CATEGORYID];return Object(i.useMemo)((function(){var e,r,a;return n&&null!=(e=n.recommendedTokens)&&e.length?(null==(r=n.recommendedTokens)?void 0:r.length)>12?o()(n.recommendedTokens).slice(0,t?8:12):(null==(a=n.recommendedTokens)?void 0:a.length)>8&&t?o()(n.recommendedTokens).slice(0,8):o()(n.recommendedTokens):[]}),[n,t])},O=function(){var e=f()[u.MARKET_FAVORITES_CATEGORYID];return Object(i.useMemo)((function(){return e&&e.coingeckoIds?e.coingeckoIds:[]}),[e])},m=function(){var e=f();return Object(i.useMemo)((function(){return e&&Object.values(e).length>0?Object.values(e).filter((function(e){return e.type===u.MarketCategoryType.MRKET_CATEGORY_TYPE_SEARCH})):[]}),[e])}},3976:function(e,t,n){"use strict";n.r(t),n.d(t,"useMarketTokenChart",(function(){return s})),n.d(t,"useMarketTokenItem",(function(){return u}));var r=n(50),o=n(1),a=n(44),i=n(17),c=n(25),l=n(3977),s=function(e){var t=e.coingeckoId,n=e.days,r=void 0===n?"1":n,l=e.points,s=e.pollingIntervall,u=void 0===s?120:s,d=Object(c.useAppSelector)((function(e){return e.market.charts})),f=Object(a.useIsFocused)();return Object(o.useEffect)((function(){var e;return f&&(i.default.serviceMarket.fetchMarketTokenChart({coingeckoId:t,days:r,points:l}),e=setInterval((function(){i.default.serviceMarket.fetchMarketTokenChart({coingeckoId:t,days:r,points:l})}),1e3*u)),function(){e&&clearInterval(e)}}),[u,r,l,t,f]),{chart:Object(o.useMemo)((function(){var e=d[t];return e?e[r]:null}),[d,t,r])}},u=function(e){var t=e.coingeckoId,n=e.isList,a=Object(r.default)(),s=Object(l.useMarketMidLayout)(),u=Object(c.useAppSelector)((function(e){return e.market.marketTokens}));return Object(o.useEffect)((function(){if(null!=t&&t.length){var e=u[t];n||e||i.default.serviceMarket.fetchMarketListDebounced({ids:t,sparkline:!a&&!s})}}),[t,n,s,a,u]),Object(o.useMemo)((function(){if(t)return u[t]}),[u,t])}},3977:function(e,t,n){"use strict";n.r(t),n.d(t,"GridLayoutContext",(function(){return u})),n.d(t,"GridLayout",(function(){return d})),n.d(t,"GRID_MAX_WIDTH",(function(){return f})),n.d(t,"useGridBoxStyle",(function(){return b})),n.d(t,"useMarketMidLayout",(function(){return j})),n.d(t,"useDevicePixelRatio",(function(){return p}));var r=n(563),o=n(50),a=n(12),i=n(4),c=n.n(i),l=n(1),s=(n(24),n(0)),u=Object(l.createContext)({}),d=function(e){var t=e.children,n=Object(l.useState)({}),r=c()(n,2),o=r[0],i=r[1],d=Object(l.useCallback)((function(e){var t=e.nativeEvent.layout.width;i({width:t})}),[]);return Object(s.jsx)(u.Provider,{value:o,children:Object(s.jsxs)(a.default,{w:"full",children:[Object(s.jsx)(a.default,{onLayout:d,w:"full"}),Object(s.jsx)(a.default,{children:t})]})})},f=700,b=function(e){var t=e.index,n=e.space,a=e.maxW,i=e.outPadding,c=Object(o.default)(),s=Object(r.default)(),d=s.screenWidth,b=s.size,j=Object(l.useMemo)((function(){return["XLARGE"].includes(b)?256:224}),[b]),p=Object(l.useContext)(u).width,O=null!=n?n:c?12:24,m=null!=a?a:f,x=c?d-(null!=i?i:0):d-j-(null!=i?i:0);p&&(x=p);var h=x<m?x:m,g=c?2:h>f?4:3;return{ml:Object(l.useMemo)((function(){return t?(t%(c?2:g)!==0?O:0)+"px":"0px"}),[t,c,O,g]),my:Object(l.useMemo)((function(){return O/2+"px"}),[O]),width:Object(l.useMemo)((function(){return void 0===t?"full":Math.floor((h-O*(g-1))/g)}),[h,O,g,t])}},j=function(){var e=Object(r.default)().size;return Object(l.useMemo)((function(){return"NORMAL"===e}),[e])},p=function(){return Object(l.useMemo)((function(){return window.devicePixelRatio||1}),[])}},3982:function(e,t,n){"use strict";n.r(t);var r=n(4032),o=n(3),a=n.n(o),i=n(1),c=n(17),l=n(25),s=n(0);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.url,n=e.children,o=e.hoverButtonProps,a=Object(i.useCallback)((function(){c.default.serviceDiscover.toggleFavorite(t),null==o||null==o.onPress||o.onPress()}),[o,t]),u=Object(l.useAppSelector)((function(e){return e.discover.bookmarks})),f=null==u?void 0:u.some((function(e){return e.url===t}));return Object(s.jsx)(r.default,{hoverButtonProps:d(d({type:"plain",position:"absolute",zIndex:1,pt:0,pr:0,pb:0,pl:0,iconSize:16,leftIconName:f?"StarSolid":"StarOutline",iconColor:f?"icon-warning":"icon-default"},o),{},{onPress:a}),children:n})}},3994:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"DiscoverModalRoutes",(function(){return r})),function(e){e.SearchHistoryModal="SearchHistoryModal",e.ShareModal="ShareModal",e.DAppListModal="DAppListModal",e.MyDAppListModal="MyDAppListModal",e.EditBookmark="EditBookmark"}(r||(r={}))},3995:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(262),i=n(175),c=n(89),l=n(818),s=n(50),u=n(15),d=n.n(u),f=n(12),b=n(1),j=n(0),p=["isTab","numberOfData"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){return Object(j.jsx)(f.default,{h:"4px"})};t.default=function(e){e.isTab;var t=e.numberOfData,n=d()(e,p),r=Object(s.default)(),o=new Array(t).fill(0),u=Object(b.useMemo)((function(){return r?{ItemSeparatorComponent:x}:{showDivider:!0}}),[r]);return Object(j.jsx)(a.default,m(m({data:o,renderItem:function(){return Object(j.jsxs)(c.default,{children:[Object(j.jsx)(c.default.Column,{children:Object(j.jsx)(l.default,{width:r?"56px":"40px",height:r?"56px":"40px",borderRadius:"12px"})}),Object(j.jsx)(c.default.Column,{flex:1,text:{label:Object(j.jsx)(i.default,{shape:"Body1"}),description:Object(j.jsx)(i.default,{shape:"Body2"})}}),Object(j.jsx)(c.default.Column,{children:Object(j.jsx)(f.default,{pb:{base:"24px",md:0},children:Object(j.jsx)(i.default,{shape:"Body1"})})})]})},keyExtractor:function(e,t){return""+t}},u),n))}},3996:function(e,t,n){"use strict";n.r(t),n.d(t,"useRevokeAddress",(function(){return h})),n.d(t,"useTokenAllowances",(function(){return g})),n.d(t,"useSpenderAppName",(function(){return v})),n.d(t,"useAccountCanTransaction",(function(){return y})),n.d(t,"useUpdateAllowance",(function(){return w})),n.d(t,"useIsVerticalOrMiddleLayout",(function(){return k}));var r=n(563),o=n(2),a=n.n(o),i=n(4),c=n.n(i),l=n(1),s=n(44),u=n(1071),d=n(108),f=n(245),b=n(74),j=n(151),p=n(17),O=n(25),m=n(16),x=n(1062),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(l.useState)(""),n=c()(t,2),r=n[0],o=n[1],i=Object(l.useState)(!0),s=c()(i,2),u=s[0],d=s[1],f=Object(l.useCallback)(a()((function*(){d(!0);var t=yield p.default.serviceRevoke.getAddress(e);o(null!=t?t:""),setTimeout((function(){d(!1)}),1e3)})),[e]);return Object(l.useEffect)((function(){f()}),[e,f]),{updateAddress:f,address:r,loading:u}},g=function(e,t,n){var r,o,i,c,s=Object(u.useAsync)(a()((function*(){return p.default.serviceRevoke.fetchTokenAllowance(e,t,n,!1)})),[e,t,n]),d=s.result,f=s.loading,b=s.error,O=s.execute;return Object(l.useEffect)((function(){return j.appUIEventBus.on(j.AppUIEventBusNames.RevokeRefresh,O),function(){j.appUIEventBus.off(j.AppUIEventBusNames.RevokeRefresh,O)}}),[O]),b?{address:"",prices:{},allowances:[],loading:!1,isFromRpc:!1}:{address:null!=(r=null==d?void 0:d.address)?r:"",prices:null!=(o=null==d?void 0:d.prices)?o:{},allowances:null!=(i=null==d?void 0:d.allowance)?i:[],isFromRpc:null!=(c=null==d?void 0:d.isFromRpc)&&c,loading:f,error:b}},v=function(e,t){var n=Object(l.useState)(""),r=c()(n,2),o=r[0],i=r[1],s=Object(l.useCallback)(a()((function*(){var n=yield p.default.serviceRevoke.getSpenderName(e,t);i(n)})),[t,e]);return Object(l.useEffect)((function(){s()}),[s]),o||Object(d.shortenAddress)(t)},y=function(e){var t=Object(O.useActiveWalletAccount)(),n=t.account,r=t.wallet;return Object(l.useMemo)((function(){return n&&n.id&&(null==n?void 0:n.address.toLowerCase())===e.toLowerCase()&&(null==r?void 0:r.type)!==b.WALLET_TYPE_WATCHING}),[n,e,null==r?void 0:r.type])},w=function(e){var t=e.networkId,n=e.spender,r=e.contract,o=Object(s.useNavigation)(),i=Object(O.useActiveWalletAccount)(),c=i.accountId,u=i.accountAddress;return Object(l.useCallback)(function(){var e=a()((function*(e){var a,i=e.amount,l=e.tokenId;a=e.assetType===x.AssetType.tokens?yield p.default.engine.buildEncodedTxFromApprove({amount:i,networkId:t,spender:n,accountId:c,token:r}):"undefined"!==typeof l?yield p.default.serviceRevoke.buildEncodedTxsFromApprove({from:u,to:null!=r?r:"",approve:f.ADDRESS_ZERO,tokenId:l}):yield p.default.serviceRevoke.buildEncodedTxsFromSetApprovalForAll({from:u,to:null!=r?r:"",approved:!1,spender:n}),o.navigate(m.RootRoutes.Modal,{screen:m.ModalRoutes.Send,params:{screen:m.SendModalRoutes.SendConfirm,params:{accountId:c,networkId:t,feeInfoEditable:!0,feeInfoUseFeeInTx:!1,encodedTx:a,onSuccess:function(){j.appUIEventBus.emit(j.AppUIEventBusNames.RevokeRefresh)}}}})}));return function(t){return e.apply(this,arguments)}}(),[c,r,o,t,n,u])},k=function(){var e=Object(r.default)().size;return Object(l.useMemo)((function(){return["SMALL","NORMAL"].includes(e)}),[e])}},3997:function(e,t,n){e.exports=n.p+"static/media/lido_pool.3f0c026b.png"},3998:function(e,t,n){"use strict";n.r(t),n.d(t,"StakingTypes",(function(){return o})),n.d(t,"coingeckoId2StakingTypes",(function(){return j})),n.d(t,"getStakeSelectNetworkAccountFilter",(function(){return O})),n.d(t,"isAccountCompatibleWithStakingTypes",(function(){return m})),n.d(t,"isSupportStakingType",(function(){return x})),n.d(t,"getLidoTokenEvmAddress",(function(){return h})),n.d(t,"isSTETH",(function(){return g})),n.d(t,"fetchStEthRate",(function(){return v})),n.d(t,"buildWithdrawStEthTransaction",(function(){return w}));var r,o,a=n(2),i=n.n(a),c=n(130),l=n(36),s=n(17),u=n(4e3),d=n(552),f=[l.OnekeyNetwork.eth,l.OnekeyNetwork.goerli],b=[];!function(e){e.eth="eth",e.matic="matic"}(o||(o={}));var j={ethereum:o.eth},p=((r={})[o.eth]=[l.OnekeyNetwork.eth,l.OnekeyNetwork.goerli],r[o.matic]=[l.OnekeyNetwork.eth,l.OnekeyNetwork.goerli],r),O=function(e){var t=p[e];if(t&&0!==t.length)return function(e){var n=e.network;return!!n&&t.includes(n.id)}},m=function(e,t){var n=p[t];return!(!n||0===n.length)&&n.some((function(t){return Object(c.isAccountCompatibleWithNetwork)(e,t)}))},x=function(e){var t=function(e){var t=e.tokenIdOnNetwork,n=e.networkId;return n?t?n+"--"+t:""+n:""}({networkId:e.networkId,tokenIdOnNetwork:e.tokenIdOnNetwork});return f.includes(t)?o.eth:b.includes(t)?o.matic:void 0},h=function(e,t){if(e)return e!==l.OnekeyNetwork.goerli||t?e!==l.OnekeyNetwork.eth||t?void 0:d.MainnetLidoContractAddress:d.TestnetLidoContractAddress},g=function(e,t){return!(!e||!t)&&(e===l.OnekeyNetwork.goerli&&t.toLowerCase()===d.TestnetLidoContractAddress.toLowerCase()||e===l.OnekeyNetwork.eth&&t.toLowerCase()===d.MainnetLidoContractAddress.toLowerCase())};function v(e){return y.apply(this,arguments)}function y(){return(y=i()((function*(e){var t=e.networkId,n=e.account,r=e.amount||"0.1",o=yield s.default.engine.getNativeTokenInfo(t),a=yield s.default.serviceStaking.getStEthToken({networkId:t}),i=yield s.default.engine.getNetwork(t),c={networkOut:i,networkIn:i,tokenOut:o,tokenIn:a,slippagePercentage:"1",typedValue:r,independentField:"INPUT",activeAccount:n,receivingAddress:n.address};return yield u.SwapQuoter.client.fetchQuote(c)}))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=i()((function*(e){var t=e.networkId,n=e.account,r=e.typedValue,o=yield s.default.engine.getNativeTokenInfo(t),a=yield s.default.serviceStaking.getStEthToken({networkId:t}),i=yield s.default.engine.getNetwork(t),c={networkOut:i,networkIn:i,tokenOut:o,tokenIn:a,slippagePercentage:"1",typedValue:r,independentField:"INPUT",activeAccount:n,receivingAddress:n.address},l=yield u.SwapQuoter.client.fetchQuote(c),d=null==l?void 0:l.data;if(!d)throw new Error("failed to build unstake params");return{params:c,quote:d}}))).apply(this,arguments)}},3999:function(e,t,n){"use strict";n.r(t),n.d(t,"gotoSite",(function(){return u})),n.d(t,"openMatchDApp",(function(){return d})),n.d(t,"onItemSelect",(function(){return f}));var r=n(17),o=n(185),a=n(389),i=n(291),c=n(302),l=n(485),s=n(820),u=function(e){var t=e.url,n=e.title,u=e.favicon,d=e.dAppId,f=e.isNewWindow,b=e.isInPlace,j=e.id,p=e.userTriggered,O=Object(o.appSelector)((function(e){return e})).discover.bookmarks,m=Object(s.getWebTabs)(),x=m.tabs,h=m.currentTabId,g=j||h,v=x.find((function(e){return e.id===g})),y=r.default.dispatch;if(t&&v){var w=Object(l.validateUrl)(t);if(!w)return;if("browser"===l.webHandler)return Object(c.openUrl)(w);var k=v.id,_=!w.startsWith("http")&&"about:blank"!==w,C=(f||"home"===k||_)&&"tabbedWebview"===l.webHandler;d&&y(Object(i.setDappHistory)(d)),p&&(y(Object(i.setUserBrowserHistory)({url:w,dappId:d,title:n})),r.default.serviceDiscover.updateUserBrowserHistoryLogo({dappId:d,url:w}));var S=null==O?void 0:O.map((function(e){return e.url})),I=null==S?void 0:S.includes(t);return C?a.webTabsActions.addWebTab({title:n,url:w,favicon:u,isCurrent:!0,isBookmarked:I}):a.webTabsActions.setWebTabData({id:k,url:w,title:n,favicon:u,isBookmarked:I}),y(d?Object(i.updateHistory)(d):Object(i.addWebSiteHistory)({webSite:{url:w,title:n,favicon:u}})),C||b||Object(l.crossWebviewLoadUrl)({url:w,tabId:k}),_&&"tabbedWebview"===l.webHandler&&setTimeout((function(){a.webTabsActions.closeWebTab(k)}),1e3),!0}return!1},d=function(e){var t=e.dapp,n=e.webSite,r=e.isNewWindow;return n?u({url:n.url,title:n.title,favicon:n.favicon,isNewWindow:r,userTriggered:!0}):t?u({url:t.url,title:t.name,dAppId:t._id,favicon:t.logoURL,userTriggered:!0,isNewWindow:r}):void 0},f=function(e){d({id:e._id,dapp:e})}},4011:function(e,t,n){"use strict";n.r(t),n.d(t,"Chains",(function(){return s}));var r=n(12),o=n(106),a=n(51),i=n(40),c=n(25),l=n(0),s=function(e){var t=e.networkIds,n=Object(c.useAppSelector)((function(e){return e.runtime.networks})).filter((function(e){return null==t?void 0:t.includes(e.id)}));return Object(l.jsx)(r.default,{flexDirection:"row",children:null==n?void 0:n.map((function(e,t){return Object(l.jsx)(r.default,{ml:t>0?-1:0,children:Object(l.jsx)(o.default,{size:4,borderRadius:"full",src:e.logoURI,fallbackElement:Object(l.jsx)(a.default,{width:4,height:4,borderRadius:"full",bg:"background-selected",children:Object(l.jsx)(i.default,{name:"QuestionMarkOutline"})})})},e.id)}))})}},4013:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(50),i=n(142),c=n(1),l=n(29),s=n(4314),u=n(27),d=n(0);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.children,n=Object(i.default)("text-default"),r=Object(i.default)("text-subdued"),o=Object(a.default)(),f=Object(i.default)("divider"),j=Object(i.default)("background-selected"),p=Object(c.useMemo)((function(){return l.default.create({body:b({color:r,lineHeight:28},o?u.Body1Props:u.Body2Props),paragraph:{marginVertical:4},code_inline:{paddingVertical:2,paddingHorizontal:8,fontWeight:700},fence:{marginVertical:4,paddingVertical:4,paddingHorizontal:8,backgroundColor:j},heading1:b({marginTop:12,marginBottom:4,color:n},u.DisplayMediumProps),heading2:b({marginTop:12,marginBottom:4,color:n},u.DisplayMediumProps),heading3:b({marginTop:24,marginBottom:4,color:n},u.DisplaySmallProps),list_item:{lineHeight:28,marginVertical:4,flexDirection:"row"},hr:{marginTop:24,marginBottom:12,backgroundColor:f,height:1}})}),[j,r,n,f,o]);return Object(d.jsx)(s.default,{mergeStyle:!1,style:p,children:t})}},4017:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"NFTMarketRoutes",(function(){return r})),function(e){e.SearchModal="SearchModal",e.FilterModal="FilterModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(r||(r={}))},4018:function(e,t,n){"use strict";n.r(t),n.d(t,"useEvmWalletsAndAccounts",(function(){return h})),n.d(t,"useEnabledAccountDynamicAccounts",(function(){return g})),n.d(t,"usePriceAlertlist",(function(){return v})),n.d(t,"checkAccountCanSubscribe",(function(){return y}));var r=n(3),o=n.n(r),a=n(2),i=n.n(a),c=n(4),l=n.n(c),s=n(1),u=n(182),d=n(245),f=n(93),b=n(11),j=n(17),p=n(45);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){return[d.ADDRESS_ZERO,d.DUMMY_ADDRESS,d.DUMMY_ADDRESS_2,d.DUMMY_ADDRESS_3].includes(e)},h=function(){var e=j.default.engine,t=Object(s.useState)([]),n=l()(t,2),r=n[0],o=n[1],a=Object(p.useRuntime)().wallets,c=Object(s.useCallback)(i()((function*(){var t=yield Promise.all(a.map(function(){var t=i()((function*(t){var n,r=yield e.getAccounts(t.accounts);return m(m({},t),{},{accounts:null!=(n=null==r?void 0:r.filter((function(e){if(!e)return!1;var t=e||{},n=t.address,r=t.coinType;return!x(n)&&!!Object(u.isCoinTypeCompatibleWithImpl)(r,b.IMPL_EVM)})))?n:[]})}));return function(e){return t.apply(this,arguments)}}()));return o(t),t})),[e,a]);return Object(s.useEffect)((function(){c()}),[c]),{wallets:r,getWalletsAndAccounts:c}},g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.useState)(!1),n=l()(t,2),r=n[0],o=n[1],a=j.default.serviceNotification,c=h(),u=c.wallets,d=c.getWalletsAndAccounts,f=Object(s.useState)([]),b=l()(f,2),p=b[0],O=b[1],m=Object(s.useCallback)(i()((function*(){var e=yield a.queryAccountDynamic();O(e)})),[a]),x=Object(s.useCallback)(i()((function*(){o(!0);try{yield m(),yield d()}finally{o(!1)}})),[m,d]);return Object(s.useEffect)((function(){e&&x()}),[x,e]),{loading:r,wallets:u,enabledAccounts:p,refresh:x}},v=function(){var e=j.default.serviceNotification,t=Object(s.useState)(!1),n=l()(t,2),r=n[0],o=n[1],a=Object(s.useState)([]),c=l()(a,2),u=c[0],d=c[1],f=Object(s.useCallback)(i()((function*(){o(!0);try{var t=yield e.queryPriceAlertList();d(t||[])}catch(n){}o(!1)})),[e]);return Object(s.useEffect)((function(){f()}),[f]),{alerts:u,loading:r,fetchPriceAlerts:f}},y=function(){var e=i()((function*(e,t){if(!e)return!1;var n=e||{},r=n.address,o=n.coinType;return!x(r)&&(!!Object(u.isCoinTypeCompatibleWithImpl)(o,b.IMPL_EVM)&&!(yield Object(f.makeTimeoutPromise)({asyncFunc:function(){var e=i()((function*(){return j.default.validator.isContractAddress(t,r)}));return function(){return e.apply(this,arguments)}}(),timeout:6e3,timeoutResult:!1})))}));return function(t,n){return e.apply(this,arguments)}}()},4030:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n(314),a=n(299),i=n(0),c=function(e){var t=e.children,n=e.footer,c=Object(a.default)().bottom;return c=0===c?20:c,Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o.default,{alignSelf:"stretch",flex:1,px:4,py:{base:4,sm:8},_contentContainerStyle:{w:"full",maxW:800,mx:"auto"},children:t}),n?Object(i.jsx)(r.default,{mx:4,py:4,mb:c+"px",children:n}):null]})};c.defaultProps={},t.default=c},4032:function(e,t,n){"use strict";n.r(t),n.d(t,"AnimatedButton",(function(){return b}));var r=n(3),o=n.n(r),a=n(54),i=n(5147),c=n(207),l=n(171),s=n(902),u=n(0);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=c.default.createAnimatedComponent(a.default),j={code:"function anonymous(){const{isHovered}=this._closure;return{display:isHovered.value?'flex':'none',opacity:isHovered.value?1:0};}",location:"/home/runner/work/digital-passport/digital-passport/packages/components/src/HoverContainer/index.tsx"};t.default=function(e){var t=e.children,n=e.hoverButtonProps,r=Object(l.useSharedValue)(!1),o=Object(s.useAnimatedStyle)(function(){var e=function(){return{display:r.value?"flex":"none",opacity:r.value?1:0}};return e._closure={isHovered:r},e.__initData=j,e.__workletHash=0xbd90e3e89ab,e}(),[]);return Object(u.jsxs)(i.MotiPressable,{hoveredValue:r,children:[t,Object(u.jsx)(b,f({style:o},n))]})}},4034:function(e,t,n){"use strict";n.r(t);var r=n(331),o=n(3),a=n.n(o),i=n(12),c=n(40),l=n(20),s=n(121),u=n(50),d=n(1),f=n(649),b=n(88),j=n(25),p=n(36),O=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=[p.OnekeyNetwork.eth,p.OnekeyNetwork.bsc,p.OnekeyNetwork.optimism,p.OnekeyNetwork.polygon,p.OnekeyNetwork.arbitrum,p.OnekeyNetwork.avalanche];t.default=function(e){var t=e.tiggerProps,n=e.selectedNetwork,o=e.triggerSize,a=e.onChange,p=Object(b.default)(),m=Object(u.default)(),g=Object(j.useManageNetworks)().enabledNetworks,v=Object(d.useMemo)((function(){return g?g.filter((function(e){return h.includes(e.id)})).map((function(e){return{title:e.shortName,label:e.name,value:e,tokenProps:{token:{logoURI:null==e?void 0:e.logoURI,name:null==e?void 0:e.name}}}})):[]}),[g]);return Object(O.jsx)(i.default,{children:Object(O.jsx)(r.default,{title:p.formatMessage({id:"network__network"}),dropdownPosition:"right",dropdownProps:m?{}:{minW:"240px"},headerShown:!1,options:v,isTriggerPlain:!0,activatable:!0,footer:null,onChange:a,renderTrigger:function(e){var r=e.isHovered,a=e.isPressed;return Object(O.jsx)(i.default,x(x({m:"-8px"},t),{},{children:Object(O.jsxs)(f.default,{alignItems:"center",p:"8px",bgColor:a?"surface-pressed":r?"surface-hovered":"transparent",borderRadius:"xl",children:[Object(O.jsx)(s.default,{size:"lg"===o?"24px":"20px",token:{logoURI:null==n?void 0:n.logoURI}}),!m&&Object(O.jsx)(l.default,{ml:"8px",typography:"Body2Strong",children:null==n?void 0:n.name}),Object(O.jsx)(i.default,{ml:"4px",children:Object(O.jsx)(c.default,{size:20,name:"ChevronDownMini",color:"icon-subdued"})})]})}))}})})}},4035:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(15),i=n.n(a),c=n(20),l=n(108),s=n(0),u=["text","short","prefix"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.text,n=e.short,r=e.prefix,o=i()(e,u),a=t;return n&&(a=Object(l.shortenAddress)(a)),Object(s.jsxs)(c.default,f(f({},o),{},{children:[!!r&&r,a]}))};b.displayName="Address",b.defaultProps={short:!1},t.default=b},4037:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"GasPanelRoutes",(function(){return r})),function(e){e.GasPanelModal="GasPanelModal"}(r||(r={}))},4038:function(e,t,n){"use strict";n.r(t),n.d(t,"DesktopDragZoneAbsoluteBar",(function(){return o}));var r=n(1),o=(n(0),r.Fragment);t.default=r.Fragment},4039:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(142),i=n(50),c=n(15),l=n.n(c),s=n(1),u=n(29),d=n(38),f=n(945),b=n(12),j=n(82),p=n(111),O=n(826),m=n(0),x=function(e){var t=e.navigation,n=void 0===t?Object(p.getAppNavigation)():t,r=Object(i.default)();return Object(m.jsx)(j.default,{type:"plain",size:"lg",name:r?"ArrowLeftOutline":"ArrowSmallLeftOutline",onPress:function(){null!=n&&n.canGoBack()?null==n||n.goBack():O.navigationShortcuts.navigateToHome()},circle:!0})},h=n(4),g=n.n(h),v=n(88),y=n(20),w=function(e){var t=e.title,n=e.subtitle,r=e.i18nTitle,o=e.i18nSubtitle,a=e.inCenter,c=void 0===a||a,l=e.children,d=Object(i.default)(),f=Object(v.default)(),j=Object(s.useMemo)((function(){return[r?f.formatMessage({id:r}):t,o?f.formatMessage({id:o}):n]}),[r,f,t,o,n]),p=g()(j,2),O=p[0],x=p[1],h=Object(s.useMemo)((function(){return Object(m.jsxs)(b.default,{flex:1,justifyContent:"center",alignItems:c?"center":"flex-start",style:u.default.absoluteFill,zIndex:-1,children:[l,!!O&&Object(m.jsx)(y.default,{typography:c?"Heading":"PageHeading",children:O}),!!x&&Object(m.jsx)(y.default,{typography:"Caption",color:"text-subdued",children:x})]})}),[l,c,x,O]),w=Object(s.useMemo)((function(){return Object(m.jsxs)(b.default,{flex:1,flexDirection:"row",alignItems:"baseline",children:[l,!!O&&Object(m.jsx)(y.default,{typography:"Heading",children:O}),!!x&&Object(m.jsx)(y.default,{typography:"Body2",ml:"12px",color:"text-subdued",children:x})]})}),[l,x,O]);return d?h:w},k=["headerLeft","headerRight","headerTitle","safeTop","alwaysShowBackButton","style","navigation","options","route","back"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=u.default.create({content:{flex:1,flexDirection:"row",alignItems:"center"},left:{justifyContent:"center",alignItems:"flex-start"},right:{justifyContent:"center",alignItems:"flex-end"},expand:{flexGrow:1,flexBasis:0}});t.default=function(e){var t=e.headerLeft,n=e.headerRight,r=e.headerTitle,o=e.safeTop,c=e.alwaysShowBackButton,j=e.style,p=e.navigation,O=e.options,h=void 0===O?{}:O,g=e.route,v=e.back,y=l()(e,k),_=Object(f.useSafeAreaInsets)(),I=Object(i.default)(),P=Object(a.default)("background-default"),M=I?56:64,A=Boolean(v||c||t),T=Object(s.useMemo)((function(){if(r)return Object(m.jsx)(w,{inCenter:A,children:r()});if("function"===typeof h.headerTitle)return Object(m.jsx)(w,{inCenter:A,children:h.headerTitle()});var e=h,t=C({title:e.title,i18nTitle:e.i18nTitle,subtitle:e.subtitle,i18nSubtitle:e.i18nSubtitle},y);return Object(m.jsx)(w,C({inCenter:A},t))}),[A,r,y,h]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.default,{pointerEvents:"box-none",style:[u.default.absoluteFill,{zIndex:0,backgroundColor:P}]}),Object(m.jsx)(d.default,{testID:"App-General-Nav-Header--"+((null==g?void 0:g.name)||""),pointerEvents:"box-none",style:[{height:M,marginTop:null!=o?o:_.top,backgroundColor:P},j],children:Object(m.jsxs)(d.default,{pointerEvents:"box-none",style:[S.content,{marginHorizontal:I?16:32}],children:[Object(m.jsxs)(d.default,{pointerEvents:"box-none",style:[S.left,{marginStart:_.left}],children:[(!!v||c)&&Object(m.jsx)(b.default,{ml:"-6px",mr:"8px",children:Object(m.jsx)(x,{navigation:p})}),t?t():null==h.headerLeft?void 0:h.headerLeft()]}),T,Object(m.jsx)(d.default,{pointerEvents:"box-none",style:[S.right,S.expand,{marginEnd:_.right}],children:n?n():null==h.headerRight?void 0:h.headerRight()})]})})]})}},4072:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(12),i=n(40),c=n(20),l=n(50),s=n(15),u=n.n(s),d=n(1),f=n(819),b=n(0),j=["backupTime","numOfHDWallets","numOfImportedAccounts","numOfWatchingAccounts","numOfContacts","size"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.backupTime,n=e.numOfHDWallets,r=e.numOfImportedAccounts,o=e.numOfWatchingAccounts,s=e.numOfContacts,p=e.size,m=u()(e,j),x=Object(l.default)(),h=Object(f.default)(),g=Object(d.useMemo)((function(){return[{iconName:"WalletOutline",count:n},{iconName:"InboxArrowDownOutline",count:r},{iconName:"EyeOutline",count:o},{iconName:"BookOpenOutline",count:s}]}),[s,n,r,o]);return Object(b.jsxs)(a.default,O(O({alignItems:"heading"===p&&x?"center":void 0},m),{},{children:[Object(b.jsx)(c.default,{typography:"heading"===p?"PageHeading":"Body1Strong",children:h.format(new Date(t),"MMM d, yyyy, HH:mm")}),Object(b.jsx)(a.default,{flexDirection:"row",mt:"heading"===p?3:1,mx:-3,flexWrap:"wrap",children:g.map((function(e,t){return Object(b.jsxs)(a.default,{flexDirection:"row",mx:3,children:[Object(b.jsx)(i.default,{name:e.iconName,size:20,color:"icon-subdued"}),Object(b.jsx)(c.default,{typography:"Body2",color:"text-subdued",pl:2,children:e.count})]},t)}))})]}))}},4075:function(e,t,n){"use strict";n.r(t),n.d(t,"convertToMoneyFormat",(function(){return a})),n.d(t,"navigateToNFTCollection",(function(){return i})),n.d(t,"navigateToNFTDetail",(function(){return c}));var r=n(111),o=n(16);function a(e){var t=Math.abs(Number(e));for(var n of[{unit:"B",value:1e9},{unit:"M",value:1e6},{unit:"K",value:1e3}]){var r=n.unit,o=n.value;if(t>=o)return""+(t/o).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+r}return t.toString()}function i(e){var t=e.account,n=e.network,a=e.collection,i=Object(r.getAppNavigation)();t&&n&&i.navigate(o.RootRoutes.Modal,{screen:o.ModalRoutes.Collectibles,params:{screen:o.CollectiblesModalRoutes.CollectionModal,params:{collectible:a,network:n}}})}function c(e){var t=e.account,n=e.network,a=e.asset,i=Object(r.getAppNavigation)();t&&n&&n&&i.navigate(o.RootRoutes.Modal,{screen:o.ModalRoutes.Collectibles,params:{screen:o.CollectiblesModalRoutes.NFTDetailModal,params:{asset:a,network:n,isOwner:!0}}})}},4077:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(4035),i=n(12),c=n(27),l=n(0);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.name,n=e.address,r=e.amount,o=e.priorityAmount,s=e.notShowAddress,d=e.containerProps,f=void 0===d?{}:d,b=e.color,j=null,p=!1,O=!1;null!=t?j=t:null==n||s||(p=!0);var m=null;return o||p||!n||s?(null!=j||p)&&(m=null!=r?r:null):O=!0,Object(l.jsx)(i.default,u(u({alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},f),{},{children:!!(j||m||p||O)&&Object(l.jsxs)(i.default,{children:[!(!j&&!p)&&(p?Object(l.jsx)(a.default,{typography:"Body2Strong",text:n,short:!0,color:b||"text-default"}):Object(l.jsx)(c.default.Body2Strong,{color:b||"text-default",isTruncated:!0,children:j})),!(!m&&!O)&&(O?Object(l.jsx)(a.default,{color:b||"text-subdued",typography:"Body2",text:n,short:!0}):Object(l.jsx)(c.default.Body2,{color:b||"text-subdued",children:m}))]})}))};d.defaultProps={avatarSize:"md",hiddenAvatar:!1},t.default=d},4079:function(e,t,n){"use strict";n.r(t),n.d(t,"OverlayPanel",(function(){return g}));var r=n(50),o=n(1587),a=n(12),i=n(3),c=n.n(i),l=n(57),s=n(299),u=n(142),d=n(1),f=n(861),b=n(1623),j=n(331),p=n(0);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.closeOverlay,n=e.modalProps,r=e.children,o=e.modalLizeProps,a=Object(d.useRef)(null),i=Object(u.default)("surface-subdued"),c=Object(s.default)().bottom;return Object(d.useEffect)((function(){setTimeout((function(){var e;return null==(e=a.current)?void 0:e.open()}),10)}),[]),Object(p.jsx)(f.Modalize,m(m({ref:a,onClosed:t,closeOnOverlayTap:!0,adjustToContentHeight:!0,withHandle:!1,modalStyle:{backgroundColor:i,borderTopLeftRadius:24,borderTopRightRadius:24,overflow:"hidden"}},o),{},{children:Object(p.jsx)(l.default,m(m({visible:!0,footer:null,closeAction:t,staticChildrenProps:{padding:"8px",paddingBottom:c+8+"px"}},n),{},{children:r}))}))},h=function(e){var t=e.closeOverlay,n=e.children,r=e.triggerEle,i=e.dropdownStyle,c=e.useDropdownProps,l=Object(d.useRef)(),s=Object(b.useDropdownPosition)(m({contentRef:l,triggerEle:r,visible:!0,translateY:2,dropdownPosition:"right",autoAdjust:!1},c)),u=s.position,f=s.toPxPositionValue,O=s.isPositionNotReady;return Object(p.jsxs)(a.default,{position:"absolute",w:"full",h:"full",children:[Object(p.jsx)(j.CloseBackDrop,{onClose:t}),Object(p.jsx)(o.default,{visible:!O,initial:{opacity:0,translateY:0},animate:{opacity:1,translateY:2,transition:{duration:150}},children:Object(p.jsx)(a.default,m(m({overflow:"hidden",bg:"surface-subdued",position:"absolute",w:"240px",p:"4px",borderRadius:"12px",borderWidth:1,borderColor:"border-subdued",ref:l,left:f(u.left),right:f(u.right),top:f(u.top),bottom:f(u.bottom)},i),{},{children:n}))})]})},g=function(e){return Object(r.default)()?Object(p.jsx)(x,m({},e)):Object(p.jsx)(h,m({},e))}},4128:function(e,t,n){"use strict";n.r(t),n.d(t,"gteIgnore",(function(){return i})),n.d(t,"gtIgnore",(function(){return c})),n.d(t,"lteIgnore",(function(){return l})),n.d(t,"ltIgnore",(function(){return s}));var r=n(309),o=n.n(r);function a(e,t,n,r){var a=o.a.parse(e),i=o.a.parse(t);if(null===a||null===i)return!1;if("major"===n)throw new Error("major is not supported");return"minor"===n&&(a.minor=0,i.minor=0),"minor"!==n&&"patch"!==n||(a.patch=0,i.patch=0),r(a.format(),i.format())}var i=function(e,t,n){return a(e,t,n,o.a.gte)},c=function(e,t,n){return a(e,t,n,o.a.gt)},l=function(e,t,n){return a(e,t,n,o.a.lte)},s=function(e,t,n){return a(e,t,n,o.a.lt)}},4129:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(16),o=n(111);function a(){var e=Object(o.default)();return{requestBackupPassword:function(t,n,o,a){e.navigate(r.RootRoutes.Modal,{screen:r.ModalRoutes.ImportBackupPassword,params:{screen:r.ImportBackupPasswordModalRoutes.ImportBackupPassword,params:{withPassword:t,onSuccess:n,onError:o,onCancel:a}}})}}}},4130:function(e,t,n){"use strict";n.r(t),n.d(t,"GroupedBackupDetails",(function(){return K})),n.d(t,"checkHasRemoteData",(function(){return X}));var r=n(76),o=n(109),a=n(48),i=n(2),c=n.n(i),l=n(50),s=n(54),u=n(15),d=n.n(u),f=n(3),b=n.n(f),j=n(4),p=n.n(j),O=n(40),m=n(12),x=n(51),h=n(20),g=n(1),v=n(44),y=n(690),w=n.n(y),k=n(88),_=n(29),C=n(493),S=n(1085),I=n(4128),P=n(17),M=n(25),A=n(45),T=n(4129),D=n(1073),R=n(226),E=n(16),B=n(99),N=n(4131),L=n(4072),W=n(4132),H=n(4030),z=n(0),F=["size","ready","onImport","onDelete"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t,n=e.name,r=e.avatar,o=e.accountUUIDs,a=Object(k.default)();return Object(z.jsxs)(m.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(z.jsx)(x.default,{rounded:"full",size:"8",bgColor:null!=(t=null==r?void 0:r.bgColor)?t:"surface-neutral-default",children:null!=r&&r.emoji?Object(z.jsx)(h.default,{typography:"DisplayMedium",children:r.emoji}):void 0}),Object(z.jsx)(h.default,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(z.jsx)(h.default,{typography:"Body2",color:"text-subdued",children:a.formatMessage({id:"form__str_accounts"},{count:o.length})})]})},q=function(e){var t=e.iconName,n=e.name,r=e.address;return Object(z.jsxs)(m.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(z.jsx)(x.default,{rounded:"full",size:"8",bgColor:"surface-neutral-default",children:Object(z.jsx)(O.default,{name:t,size:20,color:"icon-default"})}),Object(z.jsx)(h.default,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(z.jsx)(h.default,{typography:"Body2",color:"text-subdued",children:r})]})},K=function(e){var t,n,r=e.onDevice,o=e.showTitle,a=void 0===o||o,i=e.publicBackupData,c=Object(k.default)(),l=Object.entries(i.HDWallets).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),s=Object.entries(i.importedAccounts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),u=Object.entries(i.watchingAccounts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),d=Object.entries(i.contacts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),f=null==i||null==(t=i.simpleDb)||null==(n=t.utxoAccounts)?void 0:n.utxos;return Object(z.jsxs)(m.default,{my:4,mx:12,children:[a&&Object(z.jsx)(h.default,{typography:"Heading",pb:"4",children:c.formatMessage({id:r?"content__active_on_this_device":"content__not_on_this_device"})}),l.map((function(e){var t=e.uuid,n=e.name,r=e.avatar,o=e.accountUUIDs;return Object(z.jsx)(G,{name:n,avatar:r,accountUUIDs:o},t)})),s.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(z.jsx)(q,{iconName:"InboxArrowDownOutline",name:n,address:r},t)})),u.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(z.jsx)(q,{iconName:"EyeOutline",name:n,address:r},t)})),d.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(z.jsx)(q,{iconName:"BookOpenOutline",name:n,address:r},t)})),null!=f&&f.length?Object(z.jsx)(q,{iconName:"TagOutline",name:c.formatMessage({id:"form__utxo_label"}),address:c.formatMessage({id:"content__int_items"},{0:null==f?void 0:f.length})}):null]})},Z=function(e){var t=e.size,n=e.ready,r=e.onImport,o=e.onDelete,a=d()(e,F),i=Object(k.default)();return Object(z.jsxs)(m.default,V(V({flexDirection:"row"},a),{},{children:["undefined"===typeof r||n?void 0:Object(z.jsx)(s.default,{onPress:r,type:"primary",size:t,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__import"})}),"undefined"===typeof o||n?void 0:Object(z.jsx)(s.default,{onPress:o,type:"destructive",size:t,ml:4,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__delete"})})]}))};function X(e){var t,n;return!(null==e||null==(t=e.simpleDb)||null==(n=t.utxoAccounts)||!n.utxos.length)||Object.entries(e).filter((function(e){var t=p()(e,2),n=t[0],r=t[1];return"simpleDb"!==n&&Object.keys(r).length>0})).length>0}t.default=function(e){var t=e.onboarding,n=void 0!==t&&t,i=Object(k.default)(),s=Object(l.default)(),u=Object(M.useNavigation)(),d=Object(v.useRoute)(),f=Object(A.useAppSelector)((function(e){return e.settings.version})),b=Object(A.useData)().isPasswordSet,j=P.default.serviceCloudBackup,O=Object(D.default)().showVerify,x=Object(T.default)().requestBackupPassword,h=Object(R.useOnboardingDone)();Object(g.useLayoutEffect)((function(){var e=i.formatMessage({id:"title__backup_details"});u.setOptions({title:e})}),[u,i]);var y=d.params,w=y.backupUUID,F=y.backupTime,U=y.numOfHDWallets,V=y.numOfImportedAccounts,G=y.numOfWatchingAccounts,q=y.numOfContacts,Y=Object(g.useState)(!0),Q=p()(Y,2),J=Q[0],$=Q[1],ee=Object(g.useState)({alreadyOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}},notOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}}}),te=p()(ee,2),ne=te[0],re=te[1],oe=Object(g.useState)(!1),ae=p()(oe,2),ie=ae[0],ce=ae[1],le=Object(g.useState)(),se=p()(le,2),ue=se[0],de=se[1],fe=Object(g.useState)(!1),be=p()(fe,2),je=be[0],pe=be[1],Oe=Object(g.useCallback)((function(){return void 0===ue||(!ue||!Object(I.gtIgnore)(ue,f,"patch"))}),[f,ue]);Object(g.useEffect)((function(){j.getBackupDetails(w).then((function(e){var t=e.backupDetails,n=e.appVersion;de(n),re(t),ce(Object.values(t.alreadyOnDevice).some((function(e){return Object.keys(e).length>0}))),pe(X(t.notOnDevice)),$(!1)}))}),[$,j,w]);var me=Object(g.useCallback)(c()((function*(){a.default.show({title:i.formatMessage({id:"msg__backup_imported"})}),n?yield h({delay:200}):null==u||u.navigate(E.RootRoutes.Main,{screen:E.MainRoutes.Tab,params:{screen:E.TabRoutes.Home}})})),[i,n,h,u]),xe=Object(g.useCallback)((function(){a.default.show({title:i.formatMessage({id:"msg__import_icloud_backup_failed_version"})},{type:"error"}),u.goBack()}),[i,u]),he=Object(g.useCallback)((function(){!1!==Oe()?b?O((function(e){j.restoreFromBackup({backupUUID:w,notOnDevice:ne.notOnDevice,localPassword:e}).then((function(t){t===S.RestoreResult.SUCCESS?me():t===S.RestoreResult.WRONG_PASSWORD?x((function(t){return j.restoreFromBackup({backupUUID:w,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:t})}),me,xe):xe()}))}),(function(){})):x((function(e){return j.restoreFromBackup({backupUUID:w,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:e})}),me,xe):Object(W.showUpgrateDialog)()}),[b,Oe,O,j,w,ne.notOnDevice,me,x,xe]),ge=Object(g.useCallback)((function(){Object(B.showOverlay)((function(e){return Object(z.jsx)(o.default,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__delete",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"destructive",onPromise:function(){var t=c()((function*(){yield j.removeBackup(w),e(),u.pop(2)}));return function(){return t.apply(this,arguments)}}()}},contentProps:{iconType:"danger",title:i.formatMessage({id:"dialog__delete_backup"}),content:i.formatMessage({id:"dialog__delete_backup_desc"},{cloudName:Object(C.backupPlatform)().cloudName})}})}))}),[w,i,u,j]);return Object(z.jsxs)(H.default,{footer:s?Object(z.jsx)(Z,{ready:J,onImport:je?he:void 0,onDelete:n?void 0:ge,size:"xl",position:"absolute",bottom:0}):void 0,children:[Object(z.jsxs)(m.default,{flexDirection:s?"column":"row",alignItems:"center",children:[Object(z.jsx)(m.default,{mb:{base:6,sm:0},mr:{sm:6},children:Object(z.jsx)(N.default,{size:"lg",enabled:!0})}),Object(z.jsx)(L.default,{backupTime:F,numOfHDWallets:U,numOfImportedAccounts:V,numOfWatchingAccounts:G,numOfContacts:q,size:"heading"}),s?void 0:Object(z.jsx)(Z,{ready:J,onImport:je?he:void 0,onDelete:n?void 0:ge,size:"base",ml:"auto"})]}),Object(z.jsx)(m.default,{borderBottomWidth:_.default.hairlineWidth,borderBottomColor:"divider",mt:{base:6,sm:8},mb:{base:2,sm:4}}),J?Object(z.jsx)(r.default,{size:"lg"}):Object(z.jsxs)(m.default,{flexDirection:s?"column":"row",mx:-12,children:[ie?Object(z.jsx)(K,{onDevice:!0,publicBackupData:ne.alreadyOnDevice}):void 0,je?Object(z.jsx)(K,{onDevice:!1,publicBackupData:ne.notOnDevice}):void 0]})]})}},4131:function(e,t,n){"use strict";n.r(t);var r=n(51),o=n(40),a=n(0);t.default=function(e){var t=e.enabled,n=e.size;return Object(a.jsx)(r.default,{rounded:"full",size:"lg"===n?"56px":"48px",bgColor:"surface-"+(t?"success":"warning")+"-subdued",children:Object(a.jsx)(o.default,{name:"CloudOutline",size:24,color:"icon-"+(t?"success":"warning")})})}},4132:function(e,t,n){"use strict";n.r(t),n.d(t,"showUpgrateDialog",(function(){return f}));var r=n(109),o=n(48),a=n(2),i=n.n(a),c=n(88),l=n(1351),s=n(99),u=n(0);function d(e){var t=e.onClose,n=Object(c.default)();return Object(u.jsx)(r.default,{visible:!0,onClose:t,footerButtonProps:{primaryActionTranslationId:"action__upgrade",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary",onPromise:function(){var e=i()((function*(){try{var e=yield l.default.getPackageInfo();e&&(l.default.openAppUpdate({package:e}),null==t||t())}catch(r){o.default.show({title:n.formatMessage({id:"msg__network_request_failed"})})}}));return function(){return e.apply(this,arguments)}}()}},contentProps:{iconType:"info",title:n.formatMessage({id:"dialog__import_data_upgrade_required"}),content:n.formatMessage({id:"dialog__import_data_upgrade_required_desc"})}})}var f=function(){Object(s.showDialog)(Object(u.jsx)(d,{}))}},4139:function(e,t,n){"use strict";n.r(t),n.d(t,"ListEmptyComponent",(function(){return l}));var r=n(201),o=n(51),a=n(76),i=n(88),c=n(0),l=function(e){var t=e.isLoading,n=e.symbol,l=e.desc,s=Object(i.default)();if(t)return Object(c.jsx)(o.default,{w:"full",h:"20",children:Object(c.jsx)(a.default,{size:"lg"})});var u=n?s.formatMessage({id:"title__no_alert_desc"},{0:n}):"";return Object(c.jsx)(o.default,{w:"full",h:"full",children:Object(c.jsx)(r.default,{emoji:"\ud83d\udd14",title:s.formatMessage({id:"title__no_alert"}),subTitle:l||u})})}},4140:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"PushNotificationRoutes",(function(){return r})),function(e){e.GuideToPushFirstTime="GuideToPushFirstTime"}(r||(r={}))},4142:function(e,t,n){"use strict";n.r(t),n.d(t,"Options",(function(){return l}));var r=n(64),o=n(27),a=n(12),i=n(106),c=n(0),l=function(e){var t=e.title,l=e.subtitle,s=e.logo,u=e.num,d=e.onPress;return Object(c.jsxs)(r.default,{onPress:d,bg:"surface-default",px:"4",py:"3",flexDirection:"row",justifyContent:"space-between",borderRadius:12,children:[Object(c.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[Object(c.jsxs)(a.default,{mr:"3",position:"relative",children:[Object(c.jsx)(a.default,{w:"10",h:"10",borderRadius:"full",overflow:"hidden",children:Object(c.jsx)(i.default,{w:"10",h:"10",source:n(4143)})}),Object(c.jsx)(a.default,{w:"5",h:"5",background:"surface-subdued",flexDirection:"row",justifyContent:"center",alignItems:"center",borderRadius:"full",position:"absolute",bottom:"-1",right:"-1",children:Object(c.jsx)(i.default,{w:"4",h:"4",source:s})})]}),Object(c.jsxs)(a.default,{children:[Object(c.jsx)(o.default.Body1Strong,{children:t}),Object(c.jsx)(o.default.Body2,{color:"text-subdued",children:l})]})]}),Object(c.jsx)(a.default,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:Object(c.jsx)(o.default.Body1Strong,{color:"text-success",children:u})})]})}},4143:function(e,t,n){e.exports=n.p+"static/media/eth_logo.ff687f08.png"},4144:function(e,t,n){"use strict";n.r(t),n.d(t,"SwapTransactionsCancelApprovalBottomSheetModal",(function(){return d}));var r=n(474),o=n(41),a=n(54),i=n(51),c=n(27),l=n(1),s=n(88),u=n(0),d=function(e){var t=e.close,n=e.onSubmit,d=Object(s.default)(),f=Object(l.useCallback)((function(){t(),n()}),[t,n]);return Object(u.jsxs)(r.default,{closeOverlay:t,title:"",showHeader:!1,children:[Object(u.jsx)(i.default,{h:"16",children:Object(u.jsx)(c.default.Heading,{fontSize:60,children:" \u2139\ufe0f "})}),Object(u.jsx)(c.default.DisplayMedium,{mt:"4",children:d.formatMessage({id:"msg__need_to_send_str_transactions_to_change_allowance"},{0:"2"})}),Object(u.jsx)(c.default.Body1,{color:"text-subdued",my:"4",children:d.formatMessage({id:"msg__modifying_the_authorized_limit_of_usdt_requires_resetting_it_to_zero_first_so_two_authorization_transactions_may_be_initiated"})}),Object(u.jsxs)(o.default,{flexDirection:"row",space:"4",children:[Object(u.jsx)(a.default,{size:"xl",type:"basic",onPress:t,flex:"1",children:d.formatMessage({id:"action__cancel"})}),Object(u.jsx)(a.default,{size:"xl",type:"primary",onPress:f,flex:"1",children:d.formatMessage({id:"action__confirm"})})]})]})}},4147:function(e,t,n){"use strict";n.r(t);t.default=function(e){}},4149:function(e,t,n){"use strict";n.r(t),n.d(t,"showMarketCellMoreMenu",(function(){return x}));var r=n(12),o=n(20),a=n(40),i=n(48),c=n(50),l=n(1),s=n(88),u=n(775),d=n(17),f=n(263),b=n(99),j=n(4079),p=n(3975),O=n(0),m=function(e){var t=e.closeOverlay,n=e.token,b=Object(s.default)(),j=Object(p.useMarketSelectedCategoryId)(),m=Object(c.default)(),x=Object(l.useMemo)((function(){var e={id:b.formatMessage({id:"action__remove_from_favorites"}),onPress:function(){d.default.serviceMarket.cancelMarketFavoriteToken(n.coingeckoId),i.default.show({title:b.formatMessage({id:"msg__removed"})})},icon:"TrashMini",textColor:"text-critical",iconColor:"icon-critical"};return j&&j===f.MARKET_FAVORITES_CATEGORYID?[e,{id:b.formatMessage({id:"action__move_to_top"}),onPress:function(){d.default.serviceMarket.moveTopMarketFavoriteToken(n.coingeckoId)},icon:"ArrowUpMini"}]:n.favorited?[e]:[{id:b.formatMessage({id:"action__add_to_favorites"}),onPress:function(){d.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:n.coingeckoId,symbol:n.symbol}]),i.default.show({title:b.formatMessage({id:"msg__added_to_favorites"})})},icon:"StarOutline"}]}),[b,j,n.favorited,n.coingeckoId,n.symbol]);return Object(O.jsx)(r.default,{children:x.map((function(e){var n=e.id,r=e.onPress,i=e.icon,c=e.textColor,l=e.iconColor;return Object(O.jsxs)(u.default,{flexDirection:"row",alignItems:"center",py:{base:"12px",sm:"8px"},px:{base:"16px",sm:"8px"},bg:"transparent",borderRadius:"12px",onPress:function(){t(),r()},children:[Object(O.jsx)(a.default,{size:m?24:20,name:i,color:null!=l?l:"icon-default"}),Object(O.jsx)(o.default,{typography:m?"Body1Strong":"Body2Strong",ml:"12px",color:null!=c?c:"text-default",children:n})]},n)}))})},x=function(e,t,n){return Object(b.showOverlay)((function(r){return Object(O.jsx)(j.OverlayPanel,{triggerEle:n,closeOverlay:r,modalProps:t,useDropdownProps:{autoAdjust:!0},children:Object(O.jsx)(m,{closeOverlay:r,token:e})})}))}},4150:function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=Object(r.createContext)(void 0)},4152:function(e,t,n){"use strict";n.r(t);var r,o,a=n(50),i=n(4),c=n.n(i),l=n(1),s=n(44),u=n(17),d=n(24),f=n(3967),b=n(0);d.default.isNativeIOSPad&&(o=n(4547).Desktop);t.default=function(e){var t=e.onItemSelect,i=e.onItemSelectHistory;Object(s.useFocusEffect)(Object(l.useCallback)((function(){u.default.serviceDiscover.fetchData(),u.default.serviceTranslation.fetchData()}),[]));var d=Object(l.useState)(""),j=c()(d,2),p=j[0],O=j[1],m=Object(a.default)();m&&!r?r=n(5300).Mobile:m||o||(o=n(4547).Desktop);var x=Object(l.useState)("Favorites"),h=c()(x,2),g=h[0],v=h[1],y=Object(l.useMemo)((function(){return{categoryId:p,setCategoryId:O,itemSource:g,setItemSource:v,onItemSelect:t,onItemSelectHistory:i}}),[p,g,t,i]);return Object(b.jsx)(f.DiscoverContext.Provider,{value:y,children:m?Object(b.jsx)(r,{}):Object(b.jsx)(o,{})})}},4156:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),a=n(50),i=n(142),c=n(1),l=n(39),s=n(333),u=n(4317),d=n(0),f=function(){var e=Object(c.useRef)(new l.default.Value(0)).current,t=Object(i.default)("interactive-default"),n=Object(a.default)();return Object(c.useEffect)((function(){l.default.loop(l.default.sequence([l.default.timing(e,{toValue:1,duration:300,useNativeDriver:!0}),l.default.timing(e,{toValue:0,duration:300,useNativeDriver:!0})])).start()}),[e]),Object(d.jsx)(l.default.View,{style:{width:32,height:n?48:56,borderBottomWidth:4,borderBottomColor:t,opacity:e}})},b=function(e){var t=e.children,n=e.onTypingEnd,r=e.isPending,s=void 0===r||r,b=e.isFadeOut,j=Object(c.useRef)(new l.default.Value(1)).current,p=Object(a.default)();Object(c.useEffect)((function(){if(b){var e=l.default.timing(j,{toValue:.3,duration:300,useNativeDriver:!1});setTimeout((function(){e.start()}),150)}}),[b,j]);var O=Object(c.useState)(!1),m=o()(O,2),x=m[0],h=m[1];Object(c.useEffect)((function(){s||setTimeout((function(){h(!0)}),650)}),[s]);var g=Object(i.default)("text-default"),v=Object(c.useMemo)((function(){return t}),[]);return Object(d.jsx)(l.default.View,{style:{minHeight:p?48:56,opacity:j},children:x?Object(d.jsx)(u.default,{typing:1,style:{color:g,fontSize:p?42:48,lineHeight:p?48:56,fontWeight:"bold"},initialDelay:0,minDelay:12,maxDelay:12,onTypingEnd:n,children:v}):Object(d.jsx)(f,{})})};b.Highlight=function(e){var t=e.children,n=Object(i.default)("interactive-default");return Object(d.jsx)(s.default,{style:{color:n},children:t})},b.NormalText=function(e){var t=e.children,n=Object(i.default)("text-default");return Object(d.jsx)(s.default,{style:{color:n},children:t})};var j=b;t.default=j},4270:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(20),i=n(51),c=n(76),l=n(2),s=n.n(l),u=n(4),d=n.n(u),f=n(64),b=n(12),j=n(40),p=n(1),O=n(88),m=n(29),x=n(17),h=n(25),g=n(16),v=n(4072),y=n(4030),w=n(0);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _=function(e){var t=e.backupUUID,n=e.backupTime,r=e.numOfHDWallets,o=e.numOfImportedAccounts,a=e.numOfWatchingAccounts,i=e.numOfContacts,c=Object(h.useNavigation)();return Object(w.jsxs)(f.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:2,mt:2,rounded:"xl",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){c.navigate(g.HomeRoutes.CloudBackupDetails,{backupUUID:t,backupTime:n,numOfHDWallets:r,numOfImportedAccounts:o,numOfWatchingAccounts:a,numOfContacts:i})},children:[Object(w.jsx)(v.default,{backupTime:n,numOfHDWallets:r,numOfImportedAccounts:o,numOfWatchingAccounts:a,numOfContacts:i,size:"normal"}),Object(w.jsx)(b.default,{children:Object(w.jsx)(j.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})};t.default=function(){var e=Object(O.default)(),t=Object(h.useNavigation)(),n=x.default.serviceCloudBackup;Object(p.useLayoutEffect)((function(){var n=e.formatMessage({id:"content__previous_backups"});t.setOptions({title:n})}),[t,e]);var r=Object(p.useState)(!0),l=d()(r,2),u=l[0],f=l[1],g=Object(p.useState)([]),v=d()(g,2),C=v[0],S=v[1];return Object(p.useEffect)((function(){(function(){var e=s()((function*(){S(yield n.getPreviousBackups()),f(!1)}));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(w.jsx)(y.default,{children:u?Object(w.jsx)(i.default,{py:16,children:Object(w.jsx)(c.default,{size:"lg"})}):Object(w.jsx)(w.Fragment,{children:C.map((function(e,t){return Object(w.jsxs)(b.default,{children:[0!==t?Object(w.jsx)(b.default,{borderBottomWidth:m.default.hairlineWidth,borderBottomColor:"divider",my:6,bgColor:"divider"}):null,Object(w.jsxs)(b.default,{flexDirection:"row",children:[Object(w.jsx)(j.default,{name:"iPadOS"===e[0].deviceInfo.osName?"DeviceTabletOutline":"DeviceMobileOutline",size:20}),Object(w.jsx)(a.default,{typography:"Body2Strong",color:"text-subdued",ml:2,children:e[0].deviceInfo.deviceName})]}),Object(w.jsx)(b.default,{mx:-2,children:e.map((function(e){return Object(w.jsx)(_,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.backupUUID)}))})]},t)}))})})}},4277:function(e,t,n){"use strict";n.r(t),n.d(t,"keyExtractor",(function(){return I}));var r=n(3),o=n.n(r),a=n(64),i=n(41),c=n(121),l=n(20),s=n(12),u=n(236),d=n(1584),f=n(563),b=n(50),j=n(15),p=n.n(j),O=n(1),m=n(69),x=n(338),h=n(125),g=n(25),v=n(203),y=n(4075),w=n(612),k=n(0),_=["onSelect","data"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){var n=e.data;return n.contractAddress&&n.tokenId?n.contractAddress+n.tokenId:n.tokenAddress?n.tokenAddress:"NFTAsset "+t}t.default=Object(O.memo)((function(e){var t,n,r,o=e.onSelect,j=e.data,C=p()(e,_),I=Object(b.default)(),P=Object(f.default)().screenWidth,M=Object(g.useActiveWalletAccount)().networkId,A=Object(g.useNetwork)({networkId:j.networkId}).network,T=I?16:20,D=I?8:12,R=I?P:Math.min(x.MAX_PAGE_CONTAINER_WIDTH,P-224),E=I?Math.floor((R-3*T)/2):177,B=Object(d.default)().themeVariant,N=j.latestTradePrice,L=Object(v.useTokenPrice)({networkId:null!=(t=j.networkId)?t:"",tokenIdOnNetwork:"",vsCurrency:"usd"}),W=(null!=L?L:0)*(null!=N?N:0),H=Object(O.useMemo)((function(){return Object(m.isAllNetworks)(M)?null:null==A?void 0:A.logoURI}),[A,M]),z=Object(O.useMemo)((function(){return null!=j&&j.amount&&Number(null==j?void 0:j.amount)>1&&"erc1155"===j.ercType?Object(k.jsx)(u.default,{position:"absolute",right:"8px",bottom:"8px",title:"X "+Object(y.convertToMoneyFormat)(j.amount),size:"sm",type:"default"}):null}),[null==j?void 0:j.amount,j.ercType]);return Object(k.jsx)(s.default,S(S({mb:"16px"},C),{},{children:Object(k.jsxs)(a.default,{flexDirection:"column",bgColor:"surface-default",padding:D+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===B?1:void 0,width:E,_hover:{bg:"surface-hovered"},onPress:function(){o&&o(j)},children:[Object(k.jsxs)(s.default,{children:[Object(k.jsx)(w.default,{asset:j,borderRadius:"6px",size:E-2*D}),z]}),Object(k.jsxs)(i.default,{mt:D+"px",w:"100%",justifyContent:"space-between",children:[Object(k.jsx)(l.default,{flex:1,typography:"Body2",height:"20px",numberOfLines:1,children:null!=(n=null!=(r=j.name)?r:j.collection.contractName)?n:""}),H?Object(k.jsx)(c.default,{size:4,token:{logoURI:H}}):null]}),N?Object(k.jsx)(l.default,{typography:"Body2",height:"20px",color:"text-subdued",children:Object(k.jsx)(h.FormatCurrencyNumber,{value:0,decimals:2,convertValue:W>0?W:""})}):Object(k.jsx)(s.default,{height:"20px"})]})}))}))},4279:function(e,t,n){"use strict";n.r(t);var r,o,a=n(12),i=n(3),c=n.n(i),l=n(50),s=n(1),u=n(44),d=n(25),f=n(0);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(){var e=Object(u.useNavigation)(),t=Object(d.useTranslation)(),i=Object(u.useRoute)(),c=i.params,b=c.title,p=c._title,O=Object(l.default)();return O&&!r?r=n(4280).Mobile:O||o||(o=n(4285).Desktop),Object(s.useLayoutEffect)((function(){var n;e.setOptions({title:null!=(n=t(p))?n:b})}),[e,b,t,p]),Object(f.jsx)(a.default,{flex:"1",bg:"background-default",children:O?Object(f.jsx)(r,j({},i.params)):Object(f.jsx)(o,j({},i.params))})}},4280:function(e,t,n){"use strict";n.r(t),n.d(t,"Mobile",(function(){return g}));var r=n(64),o=n(27),a=n(195),i=n.n(a),c=n(471),l=n(818),s=n(12),u=n(1),d=n(29),f=n(25),b=n(3941),j=n(3982),p=n(3928),O=n(0),m=d.default.create({container:{paddingTop:24,paddingBottom:24}}),x=function(){return Object(O.jsx)(s.default,{h:"8"})},h=function(){return Object(O.jsx)(c.default,{contentContainerStyle:m.container,data:[1,2,3,4,5],renderItem:function(){return Object(O.jsxs)(s.default,{px:"4",w:"full",flexDirection:"row",alignItems:"center",children:[Object(O.jsx)(s.default,{w:"12",h:"12",borderRadius:12,mr:"3",overflow:"hidden",children:Object(O.jsx)(l.default,{})}),Object(O.jsxs)(s.default,{flex:"1",children:[Object(O.jsx)(s.default,{h:"4",borderRadius:8,mb:"3",overflow:"hidden",children:Object(O.jsx)(l.default,{})}),Object(O.jsx)(s.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:Object(O.jsx)(l.default,{})})]})]})},showsVerticalScrollIndicator:!1,keyExtractor:function(e){return String(e)},ItemSeparatorComponent:x})},g=function(e){var t=Object.assign({},(i()(e),e)),n=t.onItemSelect,a=t.tagId,l=Object(p.useTagDapps)(a),d=Object(f.useTranslation)(),x=Object(u.useCallback)((function(e){var t,a=e.item;return Object(O.jsx)(j.default,{url:a.url,hoverButtonProps:{right:"4px",top:"5px"},children:Object(O.jsxs)(r.default,{w:"full",mb:"5",flexDirection:"row",flex:1,alignItems:"center",onPress:function(){null==n||n(a)},children:[Object(O.jsx)(b.default,{size:48,url:a.logoURL,networkIds:a.networkIds}),Object(O.jsxs)(s.default,{flexDirection:"column",ml:"12px",flex:1,children:[Object(O.jsx)(o.default.Body2Strong,{flex:"1",numberOfLines:1,children:a.name}),Object(O.jsx)(o.default.Caption,{color:"text-subdued",mt:"4px",numberOfLines:1,children:null!=(t=d(a._subtitle))?t:a.subtitle})]})]})})}),[n,d]);return Object(O.jsx)(s.default,{flex:"1",bg:"background-default",children:Object(O.jsx)(c.default,{contentContainerStyle:m.container,data:l,px:"16px",renderItem:x,keyExtractor:function(e){return e._id},ListEmptyComponent:h})})}},4281:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAA/CAYAAABgkd/rAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJdSURBVHgB7ZztcdNQEEWvaQDTgTrAqQBTAVABoQLoAFEBoYKYClKCTAfuwKICQgWb3XlPM5okTuxET9qr7JlZyx4rP3LmzurjrQwEwVwQkeUrBGNQhehxCNEj8RFBebRH7xGURSWvtSRaR3nOEZRFg1xJBkE51O8mRBdG3Z5LDwTDk1vGvxBdkCx5L7dAMByHJIfoAVGXq0OSQ/RAqMfv8ggIno6kq769HAGC01Bny5zgowR3LPACMVm6saqO2N32ea210lof+Td3eBGis9jPeKas5zBr0dZDdfMVSe4SEzJL0TnBF0gpdsHsRKtkW824xMQJvs2s7kfb2YBuruBMsjGbRGfJNZwyC9HeJRv0onNPvoJzqEWr5Eo3DSY4Lz4V9oNhDQLJBm2ic5pp5iWYE12DCGbR70AEpeh8D6MCEayJphsaZBX9FmSwiq7ARRuix4FWNBv/Q/Q47EL0OGwpL8EJ5yTeRKLLs10sFtchujwbewnR5fljLyG6LNY2WntDJzrPbLDwo3vDmOgKHLSa5m33IUSX40v/A6PoNfyz6afZYBTtfWWlRa83d1CJzguyK/im7s40+rAluoZvfqnk3/d9QXOvg2BYZqeSzw59yZRoGyiv4JNW69NDO1Ak2vmwTKv1/r6+3Md9ovOVYAOf7LTOHpNsMLQOm96v4A878Jnka7Cjab4Uf9ivFnzDHJD00GQj/mgkHS/4kRMe+x2RRtIYGj+SUvxTfNHIQIInP73L/4jN0tkzgR7uNW+RVkUuhjzQjSpaUn8zmatcHzDdGUWrZSJ3uf4iL6SiADfgDPvDqYetVAAAAABJRU5ErkJggg=="},4282:function(e,t,n){e.exports=n.p+"static/media/dappIcon_multichain.54d7ea07.png"},4285:function(e,t,n){"use strict";n.r(t),n.d(t,"EmptySkeleton",(function(){return k})),n.d(t,"Desktop",(function(){return _}));var r=n(27),o=n(195),a=n.n(o),i=n(471),c=n(64),l=n(175),s=n(818),u=n(12),d=n(1),f=n(29),b=n(301),j=n(25),p=n(4011),O=n(3941),m=n(3982),x=n(3928),h=n(0),g=f.default.create({container:{paddingTop:32,paddingBottom:32}}),v=function(){return Object(h.jsx)(u.default,{h:"3"})},y=function(){return Object(h.jsx)(u.default,{h:"8"})},w=function(){var e=Object(b.default)().width-270-48,t=Math.floor(e/250),n=e/t,r=Object(d.useMemo)((function(){return[1,2,3,4,5,6,7,8]}),[]),o=Object(d.useCallback)((function(){return Object(h.jsx)(u.default,{width:n,maxWidth:n,minWidth:n,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(h.jsxs)(c.default,{bgColor:"surface-default",flexDirection:"column",borderRadius:"12px",padding:"4",width:n-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",children:[Object(h.jsxs)(u.default,{flexDirection:"row",mb:"3",children:[Object(h.jsx)(u.default,{w:"12",h:"12",overflow:"hidden",borderRadius:12,children:Object(h.jsx)(s.default,{})}),Object(h.jsxs)(u.default,{ml:"3",children:[Object(h.jsx)(l.default,{shape:"Body1"}),Object(h.jsx)(l.default,{shape:"Caption"})]})]}),Object(h.jsx)(u.default,{h:"4",w:"full",mb:"2",borderRadius:8,overflow:"hidden",children:Object(h.jsx)(s.default,{})}),Object(h.jsx)(u.default,{h:"3",w:"80%",borderRadius:6,overflow:"hidden",children:Object(h.jsx)(s.default,{})})]})})}),[n]),a=Object(d.useMemo)((function(){return Object(h.jsx)(i.default,{paddingLeft:"24px",data:r,renderItem:o,numColumns:t,removeClippedSubviews:!0,windowSize:5,showsHorizontalScrollIndicator:!1,keyExtractor:function(e){return""+e},ItemSeparatorComponent:v},"key"+t)}),[r,t,o]);return Object(h.jsx)(u.default,{width:"100%",children:a})},k=function(){return Object(h.jsx)(i.default,{contentContainerStyle:{paddingBottom:24,paddingTop:24},data:[1,2],renderItem:function(){return Object(h.jsx)(w,{})},keyExtractor:function(e){return String(e)},ItemSeparatorComponent:y})},_=function(e){var t=Object.assign({},(a()(e),e)),n=t.tagId,o=t.onItemSelect,l=Object(x.useTagDapps)(n),s=Object(j.useTranslation)(),f=Object(b.default)().width-72-256,v=Math.floor(f/250),y=f/v,w=Object(d.useCallback)((function(e){var t,n=e.item;return Object(h.jsx)(m.default,{url:n.url,hoverButtonProps:{right:"20px",top:"20px",iconSize:20},children:Object(h.jsx)(u.default,{width:y,maxWidth:y,minWidth:y,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(h.jsxs)(c.default,{flexDirection:"column",borderRadius:"12px",padding:"4",width:y-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",onPress:function(){o&&o(n)},children:[Object(h.jsxs)(u.default,{flexDirection:"row",children:[Object(h.jsx)(O.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(h.jsxs)(u.default,{ml:"3",flex:"1",children:[Object(h.jsx)(r.default.Body2Strong,{numberOfLines:1,mb:"1",flex:"1",children:n.name}),Object(h.jsx)(p.Chains,{networkIds:n.networkIds})]})]}),Object(h.jsx)(r.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:null!=(t=s(n._subtitle))?t:n.subtitle})]})})})}),[y,o,s]),_=Object(d.useMemo)((function(){return Object(h.jsx)(i.default,{contentContainerStyle:g.container,paddingLeft:"24px",data:l,renderItem:w,numColumns:v,keyExtractor:function(e,t){return v+"key"+t+(null==e?void 0:e._id)},ListEmptyComponent:k},"key"+v)}),[l,v,w]);return Object(h.jsx)(u.default,{width:"100%",height:"100%",children:_})}},4286:function(e,t,n){"use strict";n.r(t),n.d(t,"useSearchLocalDapp",(function(){return u}));var r=n(4),o=n.n(r),a=n(1),i=n(3928),c=n(4012),l=n(17),s={includeScore:!0,threshold:.4,keys:[{name:"name",weight:1},{name:"url",weight:.5},{name:"subtitle",weight:.3}]};var u=function(e,t){var n=Object(a.useState)(!1),r=o()(n,2),u=r[0],d=r[1],f=Object(a.useState)([]),b=o()(f,2),j=b[0],p=b[1],O=Object(i.useShowBookmark)();return Object(a.useEffect)((function(){e?l.default.serviceDiscover.searchDapps(e).then(p):p([])}),[e,t]),{loading:u,searchedDapps:Object(a.useMemo)((function(){if(0===e.length)return d(!1),[];d(!0);try{var t=j;return O||(t=[]),function(e,t){return new c.default(e,s).search(t).filter((function(e){return e.score&&e.score<.9})).map((function(e){return e.item}))}(t,e).map((function(e){return{id:e._id,dapp:e}}))}finally{d(!1)}}),[j,e,O])}}},4287:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"EnableLocalAuthenticationRoutes",(function(){return r})),function(e){e.EnableLocalAuthenticationModal="EnableLocalAuthenticationModal",e.EnableWebAuthn="EnableWebAuthn"}(r||(r={}))},4292:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ManageConnectedSitesRoutes",(function(){return r})),function(e){e.ManageConnectedSitesModel="ManageConnectedSitesModal"}(r||(r={}))},4293:function(e,t,n){"use strict";n.r(t),n.d(t,"FormatCurrencyNumber",(function(){return k}));var r=n(12),o=n(82),a=n(76),i=n(20),c=n(121),l=n(358),s=n.n(l),u=n(2),d=n.n(u),f=n(4),b=n.n(f),j=n(15),p=n.n(j),O=n(1),m=n(37),x=n(19),h=n(17),g=n(822),v=n(3973),y=n(0),w=["divider","alert"];function k(e){var t=e.value,n=e.onlyNumber,r=e.unit;return"number"!==typeof t?null:"sats"===r.toLowerCase()?Object(y.jsxs)(y.Fragment,{children:[t<.01?""+Object(g.formatDecimalZero)(t):Object(y.jsx)(m.FormattedNumber,{value:null!=t?t:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:10})," "+(n?"":r)]}):Object(y.jsxs)(y.Fragment,{children:[""+(n?"":r),t<.01?""+Object(g.formatDecimalZero)(t):Object(y.jsx)(m.FormattedNumber,{value:null!=t?t:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:10})]})}t.default=function(e){var t=e.divider,n=e.alert,l=p()(e,w),u=n.price,f=n.currency,j=Object(v.useCurrencyUnit)(f),m=Object(O.useState)(!1),g=b()(m,2),_=g[0],C=g[1],S=Object(O.useCallback)(d()((function*(){C(!0);try{yield h.default.serviceNotification.removePriceAlertConfig(s()(n,"price","currency","coingeckoId"))}catch(e){x.default.common.error("remove PriceAlert",e instanceof Error?null==e?void 0:e.message:e)}setTimeout((function(){C(!1),null==l||l.onRemove(n.price)}),200)})),[l,n]);return Object(y.jsx)(r.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:t?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:t?void 0:"12px",children:Object(y.jsxs)(r.default,{flex:"1",flexDirection:"row",alignItems:"center",children:[Object(y.jsx)(c.default,{size:8,token:n,showNetworkIcon:!0}),Object(y.jsxs)(i.default,{typography:"Body1Strong",numberOfLines:1,ml:3,flex:"1",children:["1 "+n.symbol+" = ",Object(y.jsx)(k,{value:+(u||0),unit:j})]}),Object(y.jsx)(r.default,{w:"8",h:"8",alignItems:"center",justifyContent:"center",children:_?Object(y.jsx)(a.default,{size:"sm"}):Object(y.jsx)(o.default,{name:"TrashMini",type:"plain",circle:!0,onPress:S})})]})})}},4294:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(262),i=n(12),c=n(20),l=n(89),s=n(15),u=n.n(s),d=n(1),f=n(21),b=n(1244),j=n(88),p=n(3959),O=n(3942),m=n(3934),x=n(3974),h=n(3995),g=n(0),v=["onSelectCollection","selectNetwork","listData"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t,n,r,o=e.onSelectCollection,s=e.selectNetwork,y=e.listData,k=u()(e,v),_=null==(t=Object(x.useStatsListContext)())?void 0:t.context,C=Object(j.default)(),S=Object(m.useCollectionDetail)(),I=null!=(n=null==_?void 0:_.selectedNetwork)?n:s,P=Object(d.useCallback)((function(e){var t,n,r,a,s,u,d,b=e.item,j=e.index,m=null!=(t=b.volume_change)?t:"-";return null!=b&&null!=(n=b.volume_change)&&n.startsWith("-")?(u="surface-critical-subdued",d="text-critical"):null!=b&&null!=(r=b.volume_change)&&r.startsWith("0.00%")?d="text-subdued":(u="surface-success-subdued",d="text-success"),Object(g.jsxs)(l.default,{onPress:function(){o?o({contractAddress:b.contract_address,networkId:null==I?void 0:I.id,title:b.contract_name}):S({contractAddress:b.contract_address,networkId:null==I?void 0:I.id,title:b.contract_name})},children:[Object(g.jsx)(l.default.Column,{children:Object(g.jsx)(p.default,{src:b.logo_url,width:"56px",height:"56px",verified:b.openseaVerified})}),Object(g.jsx)(l.default.Column,{text:{label:""+(j+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(g.jsx)(l.default.Column,{flex:1,text:{label:b.contract_name,labelProps:{isTruncated:!0},description:Object(O.PriceString)({prefix:C.formatMessage({id:"content__floor"}),price:b.floor_price,networkId:null==I?void 0:I.id}),descriptionProps:{numberOfLines:1}}}),Object(g.jsx)(l.default.Column,{alignItems:"flex-end",text:{label:Object(O.PriceString)({price:new f.BigNumber(null!=(a=b.volume)?a:"0").decimalPlaces(2).toString(),networkId:null==_||null==(s=_.selectedNetwork)?void 0:s.id}),labelProps:{textAlign:"right",numberOfLines:1},description:Object(g.jsx)(i.default,{borderRadius:"6px",bgColor:u,paddingX:"6px",paddingY:"2px",children:Object(g.jsx)(c.default,{typography:"CaptionStrong",color:d,textAlign:"right",numberOfLines:1,children:m})})}})]})}),[C,null==I?void 0:I.id,null==_||null==(r=_.selectedNetwork)?void 0:r.id,o,S]),M=Object(d.useCallback)((function(){return Object(g.jsx)(i.default,{h:"4px"})}),[]),A=Object(d.useCallback)((function(){return Object(g.jsx)(i.default,{height:"20px"})}),[]);return void 0===y||0===(null==y?void 0:y.length)||null!=_&&_.loading?Object(g.jsx)(h.default,{isTab:null==_?void 0:_.isTab,numberOfData:null!=_&&_.isTab?5:10,ListHeaderComponent:k.ListHeaderComponent}):Object(g.jsx)(b.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:Object(g.jsx)(a.default,w({data:y,renderItem:P,keyExtractor:function(e,t){return""+e.contract_address+t},ItemSeparatorComponent:M,ListFooterComponent:A},k))})}},4295:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"PasswordRoutes",(function(){return r})),function(e){e.PasswordRoutes="PasswordRoutes"}(r||(r={}))},4296:function(e,t,n){"use strict";n.r(t),n.d(t,"GuideToPushFirstTimeCheck",(function(){return P}));var r=n(57),o=n(63),a=n(12),i=n(20),c=n(51),l=n(27),s=n(3),u=n.n(s),d=n(2),f=n.n(d),b=n(1),j=n(44),p=n(88),O=n(163),m=n(19),x=(n(24),n(17)),h=n(111),g=n(16),v=n(86),y=n(177),w=n(46),k=n(4018),_=n(4140),C=n(0);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){var e=Object(h.default)(),t=x.default.serviceBootstrap,n=Object(b.useCallback)((function(){var n=!0;return function(){var r=f()((function*(){yield Object(w.wait)(1e3);var r=yield t.checkShouldShowNotificationGuide();n&&r&&e.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.PushNotification,params:{screen:_.PushNotificationRoutes.GuideToPushFirstTime}})}));return function(){return r.apply(this,arguments)}}()(),function(){n=!1}}),[e,t]);return Object(j.useFocusEffect)(n),null}t.default=function(){var e=Object(p.default)(),t=x.default.dispatch,n=x.default.serviceNotification,s=Object(k.useEvmWalletsAndAccounts)().wallets;Object(b.useEffect)((function(){t(Object(y.setGuideToPushFistTime)(!0))}),[t]);var u=Object(b.useCallback)(f()((function*(){var e=s.map((function(e){return e.accounts.map((function(t){return I(I({},t),{},{passphrase:Object(O.isPassphraseWallet)(e)})}))})).flat().slice(0,50),t=yield n.filterContractAddresses(e.map((function(e){return e.address})));yield n.addAccountDynamicBatch({data:e.filter((function(e){return t.some((function(t){return t===e.address}))})).map((function(e){return{passphrase:e.passphrase,accountId:e.id,address:e.address,name:e.name}}))})})),[s,n]),d=Object(b.useCallback)(function(){var e=f()((function*(e){var r=e.close;null==r||r(),t(Object(v.setPushNotificationConfig)({pushEnable:!0,priceAlertEnable:!0,btcAndEthPriceAlertEnable:!0,favoriteTokensPriceAlertEnable:!0,accountActivityPushEnable:!0}));try{yield n.syncPushNotificationConfig(),yield u()}catch(o){m.default.notification.error("close notification addAccountDynamics error",o)}}));return function(t){return e.apply(this,arguments)}}(),[t,u,n]),j=Object(b.useMemo)((function(){return[{icon:"\ud83d\udea8",title:e.formatMessage({id:"form__price_volatility"}),desc:e.formatMessage({id:"form__price_volatility_desc"})},{icon:"\ud83d\udcc8",title:e.formatMessage({id:"form__price_alert"}),desc:e.formatMessage({id:"title__no_alert_desc"},{0:"tokens"})},{icon:"\ud83d\udc64",title:e.formatMessage({id:"form__account_activity"}),desc:e.formatMessage({id:"account_activity_desc"})}]}),[e]);return Object(C.jsx)(r.default,{height:"560px",hideSecondaryAction:!0,onPrimaryActionPress:d,primaryActionProps:{type:"primary"},primaryActionTranslationId:"action__allow",children:Object(C.jsxs)(o.default,{position:"relative",height:"full",children:[Object(C.jsx)(c.default,{position:"absolute",bottom:"-12px",width:"full",children:Object(C.jsx)(l.default.Body2,{children:e.formatMessage({id:"content__you_can_change_this_option_later_in_the_settings"})})}),Object(C.jsxs)(c.default,{children:[Object(C.jsx)(i.default,{fontSize:56,children:"\ud83d\udd14"}),Object(C.jsx)(l.default.DisplayLarge,{children:e.formatMessage({id:"title__notifications"})})]}),j.map((function(e,t){return Object(C.jsxs)(a.default,{px:"4",flexDirection:"row",mt:0===t?"64px":4,children:[Object(C.jsx)(l.default.DisplayLarge,{mr:"4",children:e.icon}),Object(C.jsxs)(a.default,{flex:1,children:[Object(C.jsx)(l.default.Body1Strong,{mb:"1",children:e.title}),Object(C.jsx)(l.default.Body2,{flex:1,numberOfLines:2,color:"text-subdued",children:e.desc})]})]},e.icon)}))]})})}},4297:function(e,t,n){"use strict";n.r(t),n.d(t,"useSwapSubmit",(function(){return R}));var r=n(3),o=n.n(r),a=n(4),i=n.n(a),c=n(48),l=n(2),s=n.n(l),u=n(1),d=n(21),f=n.n(d),b=n(88),j=n(130),p=n(151),O=n(19),m=n(17),x=n(25),h=n(16),g=n(185),v=n(186),y=n(259),w=n(46),k=n(99),_=n(4144),C=n(4e3),S=n(946),I=n(188),P=n(4036),M=n(0);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){var e=s()((function*(e){var t,n,r,o,a=e.hash,i=e.decodedTx,c=e.params,l=e.response,s=e.recipient,u=e.quote,d=null==l?void 0:l.result;if(void 0!==l&&void 0!==d){var b,j=[Object(v.clearState)()],O=d.sellAmount||u.sellAmount,x=d.buyAmount||u.buyAmount,h=u.type,w=u.quoterlogo,k=yield m.default.engine.getNetwork(c.tokenIn.networkId),_=yield m.default.engine.getNetwork(c.tokenIn.networkId),S=Object(I.getTokenAmountValue)(c.tokenIn,O),P=Object(I.getTokenAmountValue)(c.tokenOut,x),M=null==i?void 0:i.nonce;i&&(b=Object(I.calculateDecodedTxNetworkFee)(i,k));var A={networkId:c.tokenIn.networkId,token:c.tokenIn,amount:Object(I.formatAmount)(new f.a(d.sellAmount).shiftedBy(-c.tokenIn.decimals))||Object(I.formatAmount)(S)},T={networkId:c.tokenOut.networkId,token:c.tokenOut,amount:Object(I.formatAmount)(new f.a(d.buyAmount).shiftedBy(-c.tokenOut.decimals))||Object(I.formatAmount)(P)};j.push(Object(y.addTransaction)({accountId:c.activeAccount.id,networkId:c.tokenIn.networkId,transaction:{hash:a,from:c.activeAccount.address,addedTime:Date.now(),status:"pending",type:"swap",accountId:c.activeAccount.id,networkId:c.tokenIn.networkId,quoterType:h,quoterLogo:w,nonce:M,attachment:l.attachment,receivingAccountId:null==s?void 0:s.accountId,receivingAddress:null==s?void 0:s.address,providers:null!=(t=null==d?void 0:d.sources)?t:u.providers,arrivalTime:u.arrivalTime,percentageFee:u.percentageFee,protocalFees:u.protocolFees,networkFee:b,viewed:!1,tokens:{from:A,to:T,rate:Number(null!=(n=null==d?void 0:d.instantRate)?n:u.instantRate)}}}));var D,R=Object(g.appSelector)((function(e){return e.swapTransactions.slippage}));if(R&&R.autoReset&&j.push(Object(y.setSlippage)({mode:"auto"})),m.default.dispatch.apply(m.default,j),m.default.serviceToken.addAccountToken(c.tokenIn.networkId,c.activeAccount.id,c.tokenIn.tokenIdOnNetwork),c.tokenIn.networkId===c.tokenOut.networkId&&m.default.serviceToken.addAccountToken(c.tokenOut.networkId,c.activeAccount.id,c.tokenOut.tokenIdOnNetwork),"swftc"===(null==(r=l.result)?void 0:r.quoter)&&null!=(o=l.attachment)&&o.swftcOrderId)C.SwapQuoter.client.swftModifyTxId(null==(D=l.attachment)?void 0:D.swftcOrderId,a);var E=null==k?void 0:k.shortName,B=null==_?void 0:_.shortName;m.default.serviceSwap.addRecord({txid:a,from:{networkId:A.networkId,networkName:null!=E?E:"",tokenAddress:A.token.tokenIdOnNetwork,tokenName:A.token.name,amount:A.amount},to:{networkId:T.networkId,networkName:null!=B?B:"",tokenAddress:T.token.tokenIdOnNetwork,tokenName:T.token.name,amount:T.amount},params:c,response:l}),p.appUIEventBus.emit(p.AppUIEventBusNames.SwapAddTransaction)}}));return function(t){return e.apply(this,arguments)}}();var R=function(){var e=Object(b.default)(),t=Object(P.useSwapSend)(),n=Object(x.useNavigation)();return Object(u.useCallback)(function(){var r=s()((function*(r){var o,a,l=r.params,u=r.quote,d=r.recipient,b=r.onSuccess,x=r.setProgressStatus,v=r.openProgressStatus,y=r.closeProgressStatus;if(l&&u&&d){var P=l.activeAccount,A=new I.TokenAmount(l.tokenIn,Object(I.getTokenAmountValue)(l.tokenIn,u.sellAmount).toFixed()),R=new I.TokenAmount(l.tokenOut,Object(I.getTokenAmountValue)(l.tokenOut,u.buyAmount).toFixed());if(yield m.default.serviceSwap.checkAccountInWallets(P.id)){var E=l.tokenIn.networkId,B=yield m.default.engine.getNetwork(E);if(B){var N=Object(I.createLoggerTimer)();N.start(I.LoggerTimerTags.checkTokenBalance),null==x||x({title:e.formatMessage({id:"action__confirming_balance_str"},{0:""})});var L=yield m.default.serviceToken.getAccountBalanceFromRpc(B.id,P.id,[],!0),W=i()(L,1)[0],H=null==W||null==(o=W.main)?void 0:o.balance;H?O.default.swap.info(l.tokenIn.networkId+" native token balance is "+H):O.default.swap.info(l.tokenIn.networkId+" failed to fetch native token balance"),N.end(I.LoggerTimerTags.checkTokenBalance);var z=new f.a(null!=H?H:"0");if(z.isZero()){var F=yield m.default.engine.getNativeTokenInfo(E);c.default.show({title:e.formatMessage({id:"msg__str_insufficient_balance_to_pay_for_gas_fee"},{0:F.symbol.toUpperCase()})},{type:"error"})}else{var U=yield m.default.serviceSwap.getReservedNetworkFee(B.id);if((l.tokenIn.tokenIdOnNetwork?z:z.minus(A.typedValue)).lt(U)){var V=yield m.default.engine.getNativeTokenInfo(E);c.default.show({title:e.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:U+" "+V.symbol.toUpperCase()})},{type:"error"})}else{var G,q=T(T({},l),{},{activeAccount:P,receivingAddress:null==d?void 0:d.address,txData:u.txData,additionalParams:u.additionalParams,sellAmount:u.sellAmount,buyAmount:u.buyAmount,disableValidate:!0});try{N.start(I.LoggerTimerTags.buildTransaction),null==x||x({title:e.formatMessage({id:"action__building_transaction_data_str"},{0:""})}),G=yield C.SwapQuoter.client.buildTransaction(u.type,q),N.end(I.LoggerTimerTags.buildTransaction)}catch(pe){var K,Z,X=(null==pe||null==(K=pe.response)||null==(Z=K.data)?void 0:Z.message)||pe.message;return void c.default.show({title:X},{type:"error"})}if(void 0!==G&&null!=(a=G)&&a.data){var Y=function(e){var t=e.swapQuote,n=e.quoteParams,r=e.inputAmount,o=e.outputAmount,a=e.account,i=e.receivingAddress,c=n.networkIn,l=n.networkOut,s=n.tokenIn,u=n.tokenOut,d=n.slippagePercentage,f=n.independentField;return{accountAddress:a.address,receivingAddress:i,send:{networkId:c.id,tokenInfo:s,amount:r.typedValue,amountValue:r.amount.toFixed()},receive:{networkId:l.id,tokenInfo:u,amount:o.typedValue,amountValue:o.amount.toFixed()},slippagePercentage:d,independentField:f,swapQuote:t}}({quoteParams:l,inputAmount:A,outputAmount:R,swapQuote:u,account:P,receivingAddress:null==d?void 0:d.address}),Q=G.data;if(void 0!==Q){var J=G.result;if(J){var $,ee,te=Object(j.getWalletIdFromAccountId)(P.id),ne=yield m.default.engine.getWallet(te),re=!1;if(J.allowanceTarget&&l.tokenIn.tokenIdOnNetwork){N.start(I.LoggerTimerTags.checkTokenAllowance);var oe=yield m.default.engine.getTokenAllowance({networkId:l.tokenIn.networkId,accountId:l.activeAccount.id,tokenIdOnNetwork:l.tokenIn.tokenIdOnNetwork,spender:J.allowanceTarget});N.end(I.LoggerTimerTags.checkTokenAllowance),oe?(O.default.swap.info(l.tokenIn.networkId+" "+l.tokenIn.symbol+" allowance is "+oe),re=new f.a(Object(I.getTokenAmountString)(l.tokenIn,oe)).lt(J.sellAmount)):O.default.swap.info(l.tokenIn.networkId+" "+l.tokenIn.symbol+" failed to fetch token allowance");var ae=yield m.default.serviceSwap.needToResetApproval(l.tokenIn);if(re&&ae&&Number(oe||"0")>0&&(ee=yield m.default.engine.buildEncodedTxFromApprove({spender:J.allowanceTarget,networkId:l.tokenIn.networkId,accountId:P.id,token:l.tokenIn.tokenIdOnNetwork,amount:"0"})),re){var ie=Object(g.appSelector)((function(e){return e.settings.disableSwapExactApproveAmount}))?"unlimited":Object(I.getTokenAmountValue)(l.tokenIn,J.sellAmount).toFixed();$=yield m.default.engine.buildEncodedTxFromApprove({spender:J.allowanceTarget,networkId:l.tokenIn.networkId,accountId:P.id,token:l.tokenIn.tokenIdOnNetwork,amount:ie}),ee&&ee.nonce&&($.nonce=Number(ee.nonce)+1)}}var ce=[],le=function(){var r=s()((function*(){null==x||x({title:e.formatMessage({id:"action__swapping_str"},{0:""})}),yield t({accountId:P.id,networkId:E,gasEstimateFallback:Boolean($),encodedTx:Q,showSendFeedbackReceipt:!0,payloadInfo:{type:"InternalSwap",swapInfo:Y},onDetail:function(e){n.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.Swap,params:{screen:S.SwapRoutes.Transaction,params:{txid:e}}})},onSuccess:function(){var e=s()((function*(e){var t=e.result,n=e.decodedTx;G&&(yield D({hash:t.txid,decodedTx:n,params:q,response:G,quote:u,recipient:d}),p.appUIEventBus.emit(p.AppUIEventBusNames.SwapCompleted),null==b||b({result:t,decodedTx:n}))}));return function(t){return e.apply(this,arguments)}}(),onFail:function(){p.appUIEventBus.emit(p.AppUIEventBusNames.SwapError)}})}));return function(){return r.apply(this,arguments)}}();if(ce.unshift(le),$){var se=function(){var r=s()((function*(r){var o={type:"InternalSwap"};"external"!==ne.type&&(o.swapInfo=T(T({},Y),{},{isApprove:!0})),N.start(I.LoggerTimerTags.approval),null==x||x({title:e.formatMessage({id:"action__authorizing_str"},{0:""})}),yield t({accountId:P.id,networkId:E,payloadInfo:o,encodedTx:$,gasEstimateFallback:Boolean(ee),onSuccess:function(){var e=s()((function*(){"hw"===ne.type&&n.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.Send,params:{screen:h.SendModalRoutes.HardwareSwapContinue,params:{networkId:E,accountId:P.id}}}),yield null==r?void 0:r()}));return function(){return e.apply(this,arguments)}}()}),N.end(I.LoggerTimerTags.approval)}));return function(e){return r.apply(this,arguments)}}();ce.unshift(se)}if(ee){var ue=function(){var n=s()((function*(n){var r={type:"InternalSwap"};"external"!==ne.type&&(r.swapInfo=T(T({},Y),{},{isApprove:!0})),N.start(I.LoggerTimerTags.cancelApproval),null==x||x({title:e.formatMessage({id:"action__resetting_authorizing_str"},{0:""})}),yield t({accountId:P.id,networkId:E,payloadInfo:r,encodedTx:ee,onSuccess:function(){var e=s()((function*(){yield null==n?void 0:n()}));return function(){return e.apply(this,arguments)}}()}),N.end(I.LoggerTimerTags.cancelApproval)}));return function(e){return n.apply(this,arguments)}}();ce.unshift(ue)}ee?Object(k.showOverlay)((function(e){return Object(M.jsx)(_.SwapTransactionsCancelApprovalBottomSheetModal,{close:e,onSubmit:s()((function*(){try{null==v||v(),yield Object(I.combinedTasks)(ce)}finally{null==y||y()}}))})})):yield Object(I.combinedTasks)(ce),yield Object(w.wait)(1e3)}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else{var de,fe,be,je=null!=(de=null==(fe=G)||null==(be=fe.error)?void 0:be.msg)?de:e.formatMessage({id:"msg__unknown_error"});c.default.show({title:je},{type:"error"})}}}}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else c.default.show({title:e.formatMessage({id:"msg__account_deleted"},{0:P.name})},{type:"error"})}else c.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}));return function(e){return r.apply(this,arguments)}}(),[])}},4302:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAfCAMAAACmqq93AAAAUVBMVEUAAAAMDAwLCwv6+vr+/v79/f339/f6+vr7+/vu7u7Hx8f////v7+/6+vrh4eH////7+/v8/Pze3t7+/v78/Pz5+fnf39/////39/empqb///+KJeaPAAAAGnRSTlMABgqj4KGkk4JFKfBmYiTfwXET0MKyNzAiGkjwtncAAACUSURBVDjL5dFLDsIwDEXRxPknDaXl7/0vlCAxaC2ZvjnX0yNZls1/t+K0w/IZYDqjdA2MUVs8H9Gy5JyTazxy9hec+dsRzcwgXRilJw/Tzii1V5xeJE0q9ZJOOK0GpWfSKDV0v7kLGUmjNuylr/qvpCTwq7eXur633e2FNPlIwTkXx7gY01QHHFLL0jYBpR2R/bR1b4y2G5MTsa3dAAAAAElFTkSuQmCC"},4310:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"MarketRoutes",(function(){return r})),function(e){e.MarketSearchModal="MarketSearchModal"}(r||(r={}))},4311:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"CurrencySelectModal",(function(){return r})),function(e){e.CurrencySelectHome="CurrencySelectHome"}(r||(r={}))},4312:function(e,t,n){"use strict";n.r(t),n.d(t,"browserSettingUrl",(function(){return u}));var r=n(57),o=n(12),a=n(82),i=n(20),c=n(88),l=(n(24),n(578)),s=n(0);function u(){}t.default=function(){var e=Object(c.default)(),t=Object(l.useClipboard)().copyText;return Object(s.jsx)(r.default,{hidePrimaryAction:!0,hideSecondaryAction:!0,header:e.formatMessage({id:"action__clear_cache"}),footer:null,staticChildrenProps:{flex:1},children:Object(s.jsxs)(o.default,{justifyContent:"center",alignItems:"center",height:"200px",children:[Object(s.jsx)(i.default,{typography:"Body1Strong",children:e.formatMessage({id:"title__open_this_link_in_browser"})}),Object(s.jsx)(i.default,{mt:"8px",typography:"Body1",color:"text-subdued",children:void 0}),Object(s.jsx)(a.default,{onPress:function(){t(void 0)},mt:"24px",name:"DocumentDuplicateMini",children:e.formatMessage({id:"action__copy"})})]})})}},4313:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(1),o=n(4150);function a(){var e=Object(r.useContext)(o.default);if(void 0===e)throw new Error("Couldn't find the bottom tab bar height. Are you inside a screen in Bottom Tab Navigator?");return e}},4315:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n(50),a=n(1),i=n(44),c=n(88),l=Object(a.createContext)({}),s=n(411),u=n(471),d=n(4),f=n.n(d),b=n(563),j=n(64),p=n(27),O=n(82),m=n(201),x=n(675),h=n(25),g=n(3),v=n.n(g),y=n(48),w=n(15),k=n.n(w),_=n(235),C=n(17),S=n(16),I=n(3994),P=n(190),M=n(0),A=["item","isFav"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=function(e){var t=e.item,n=e.isFav,r=k()(e,A),i=Object(o.default)(),l=Object(c.default)(),s=Object(h.useAppSelector)((function(e){return e.discover.bookmarks})),u=Object(h.useNavigation)(),d=Object(a.useMemo)((function(){return[!!i&&{id:"title__share",onPress:function(){var e,n,r,o,a,i,c,l,s,d,f,b=null!=(e=null==(n=t.dapp)?void 0:n.logoURL)?e:null==(r=t.webSite)?void 0:r.favicon,j=null!=(o=null!=(a=null==(i=t.dapp)?void 0:i.name)?a:null==(c=t.webSite)?void 0:c.title)?o:"Unknown",p=null!=(l=null!=(s=null==(d=t.dapp)?void 0:d.url)?s:null==(f=t.webSite)?void 0:f.url)?l:"";u.navigate(S.RootRoutes.Modal,{screen:S.ModalRoutes.Discover,params:{screen:I.DiscoverModalRoutes.ShareModal,params:{url:p,name:j,logoURL:b}}})},icon:"ShareOutline"},{id:"action__copy_url",onPress:function(){setTimeout((function(){var e,n,r=(null==t||null==(e=t.dapp)?void 0:e.url)||(null==t||null==(n=t.webSite)?void 0:n.url)||"";Object(_.copyToClipboard)(r)}),600),y.default.show({title:l.formatMessage({id:"msg__copied"})})},icon:"LinkMini"},n&&{id:"action__edit",onPress:function(){var e,n,r,o,a=null!=(e=null!=(n=null==(r=t.dapp)?void 0:r.url)?n:null==(o=t.webSite)?void 0:o.url)?e:"",i=null==s?void 0:s.find((function(e){return e.url===a}));i?u.navigate(S.RootRoutes.Modal,{screen:S.ModalRoutes.Discover,params:{screen:I.DiscoverModalRoutes.EditBookmark,params:{bookmark:i}}}):y.default.show({title:l.formatMessage({id:"msg__engine__internal_error"})})},icon:"PencilAltOutline"},{id:"action__remove",onPress:function(){n?C.default.serviceDiscover.removeFavorite(t.id):C.default.serviceDiscover.removeMatchItem(t),y.default.show({title:l.formatMessage({id:"transaction__success"})})},icon:"TrashMini",variant:"desctructive"}]}),[i,n,t,u,l,s]);return Object(M.jsx)(P.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:d},r))},R=n(4011),E=n(3941),B=n(3928),N=function(e){try{return new URL(e).host}catch(t){return e}},L=function(){var e=Object(c.default)();return Object(M.jsx)(m.default,{emoji:"\u2b50\ufe0f",title:e.formatMessage({id:"title__no_favorite_dapp"}),subTitle:e.formatMessage({id:"title__no_favorite_dapp_desc"})})},W=function(){var e=Object(c.default)();return Object(M.jsx)(m.default,{emoji:"\ud83d\udd58",title:e.formatMessage({id:"title__no_history"}),subTitle:e.formatMessage({id:"title__no_history_desc"})})},H=function(e){var t,n,o,i,c,s,u,d,f,b,m,x,g=e.item,v=e.cardWidth,y=e.isFav,w=Object(h.useTranslation)(),k=Object(a.useContext)(l).onItemSelect,_=null!=(t=null==(n=g.dapp)?void 0:n.logoURL)?t:null==(o=g.webSite)?void 0:o.favicon,C=null!=(i=null!=(c=null==(s=g.dapp)?void 0:s.name)?c:null==(u=g.webSite)?void 0:u.title)?i:"Unknown",S=null!=(d=null==(f=g.dapp)?void 0:f.url)?d:null==(b=g.webSite)?void 0:b.url,I=null==(m=g.dapp)?void 0:m.networkIds,P="Unknown";g.dapp?P=null!=(x=w(g.dapp._subtitle))?x:g.dapp.subtitle:S&&(P=N(S));return Object(M.jsx)(r.default,{width:v,maxWidth:v,minWidth:v,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(M.jsxs)(j.default,{bgColor:"surface-default",flexDirection:"column",borderRadius:"12",padding:"4",width:v-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",position:"relative",onPress:function(){null==k||k(g)},children:[Object(M.jsx)(r.default,{position:"absolute",top:"0",right:"0",children:Object(M.jsx)(D,{item:g,isFav:y,children:Object(M.jsx)(O.default,{type:"plain",name:"DotsHorizontalMini"})})}),Object(M.jsxs)(r.default,{children:[Object(M.jsxs)(r.default,{flexDirection:"row",children:[Object(M.jsx)(E.default,{size:48,url:_,networkIds:I},_),Object(M.jsxs)(r.default,{ml:"3",flex:"1",children:[Object(M.jsx)(p.default.Body2Strong,{flex:1,numberOfLines:1,mb:"1",children:C}),I?Object(M.jsx)(R.Chains,{networkIds:I}):null]})]}),Object(M.jsx)(p.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:P})]})]})})},z=function(e){var t=e.isFav,n=Object(B.useDiscoverFavorites)(),r=Object(B.useUserBrowserHistories)(),o=Object(b.default)().screenWidth,i=o>x.SCREEN_SIZE.LARGE?720:o,c=Object(a.useState)(i),l=f()(c,2),s=l[0],d=l[1],j=Math.floor(s/250),p=s/j,O=Object(a.useCallback)((function(e){var n=e.item;return Object(M.jsx)(H,{cardWidth:p,item:n,isFav:t})}),[p,t]),m=Object(a.useCallback)((function(e){var t=e.nativeEvent.layout.width;t&&d(t)}),[]);return Object(M.jsx)(u.default,{flex:1,onLayout:m,contentContainerStyle:{paddingTop:32,paddingBottom:32},data:t?n:r,renderItem:O,numColumns:j,keyExtractor:function(e){return j+"key"+e.id},ListEmptyComponent:t?L:W},"key"+j)},F=function(){var e=Object(c.default)(),t=Object(i.useNavigation)(),n=Object(a.useContext)(l).defaultIndex,o=Object(a.useState)(null!=n?n:0),u=f()(o,2),d=u[0],b=u[1];Object(a.useLayoutEffect)((function(){t.setOptions({headerShown:!1})}),[t]);var j=Object(a.useCallback)((function(){t.goBack()}),[t]);return Object(M.jsxs)(r.default,{w:"full",h:"full",mb:"4",px:"8",children:[Object(M.jsxs)(r.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(M.jsxs)(r.default,{flexDirection:"row",alignItems:"center",py:"5",children:[Object(M.jsx)(O.default,{onPress:j,type:"plain",name:"ArrowLeftOutline"}),Object(M.jsx)(p.default.DisplayLarge,{px:"4",children:e.formatMessage({id:"title__my_dapps"})})]}),Object(M.jsx)(r.default,{width:"56",children:Object(M.jsx)(s.default,{values:[e.formatMessage({id:"title__favorites"}),e.formatMessage({id:"transaction__history"})],selectedIndex:d,onChange:b})})]}),Object(M.jsx)(z,{isFav:0===d})]})},U=n(109),V=function(e){var t,n,o,i,c,s,u,d,f,b,m,x,g=e.item,v=e.isFav,y=Object(a.useContext)(l).onItemSelect,w=Object(h.useTranslation)(),k=null!=(t=null==(n=g.dapp)?void 0:n.logoURL)?t:null==(o=g.webSite)?void 0:o.favicon,_=null!=(i=null!=(c=null==(s=g.dapp)?void 0:s.name)?c:null==(u=g.webSite)?void 0:u.title)?i:"Unknown",C=null!=(d=null==(f=g.dapp)?void 0:f.url)?d:null==(b=g.webSite)?void 0:b.url,S=null==(m=g.dapp)?void 0:m.networkIds,I="Unknown";g.dapp?I=null!=(x=w(g.dapp._subtitle))?x:g.dapp.subtitle:C&&(I=N(C));return Object(M.jsxs)(j.default,{mb:"5",onPress:function(){null==y||y(g)},flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between",children:[Object(M.jsxs)(r.default,{flexDirection:"row",flex:1,alignItems:"center",children:[Object(M.jsx)(E.default,{size:48,url:k,networkIds:S},k),Object(M.jsxs)(r.default,{flexDirection:"column",ml:"12px",flex:1,children:[Object(M.jsx)(p.default.Body2Strong,{children:_}),Object(M.jsx)(p.default.Caption,{color:"text-subdued",mt:"4px",numberOfLines:1,children:I})]})]}),Object(M.jsx)(D,{item:g,isFav:v,children:Object(M.jsx)(O.default,{type:"plain",name:"DotsHorizontalMini"})})]})},G=function(){var e=Object(c.default)();return Object(M.jsx)(m.default,{emoji:"\u2b50\ufe0f",title:e.formatMessage({id:"title__no_favorite_dapp"}),subTitle:e.formatMessage({id:"title__no_favorite_dapp_desc"})})},q=function(){var e=Object(c.default)();return Object(M.jsx)(m.default,{emoji:"\ud83d\udd58",title:e.formatMessage({id:"title__no_history"}),subTitle:e.formatMessage({id:"title__no_history_desc"})})},K=function(){var e=Object(B.useDiscoverFavorites)(),t=Object(a.useCallback)((function(e){var t=e.item;return Object(M.jsx)(V,{item:t,isFav:!0})}),[]);return Object(M.jsx)(u.default,{contentContainerStyle:{paddingVertical:24},data:e,px:"4",renderItem:t,keyExtractor:function(e){return""+e.id},ListEmptyComponent:G})},Z=function(){var e=Object(B.useUserBrowserHistories)(),t=Object(a.useCallback)((function(e){var t=e.item;return Object(M.jsx)(V,{item:t})}),[]);return Object(M.jsx)(u.default,{contentContainerStyle:{paddingVertical:24},data:e,px:"4",renderItem:t,keyExtractor:function(e){return""+e.id},ListEmptyComponent:q})},X=function(){var e=Object(c.default)(),t=Object(a.useState)(!1),n=f()(t,2),o=n[0],i=n[1],l=Object(a.useCallback)((function(){i(!0)}),[]),s=Object(a.useCallback)((function(){C.default.serviceDiscover.clearHistory(),i(!1)}),[]);return Object(M.jsxs)(r.default,{px:"4",children:[Object(M.jsx)(O.default,{type:"plain",name:"TrashOutline",onPress:l}),Object(M.jsx)(U.default,{visible:o,contentProps:{iconName:"TrashMini",iconType:"danger",title:e.formatMessage({id:"modal__clear_history"}),content:e.formatMessage({id:"modal__clear_history_desc"})},footerButtonProps:{primaryActionTranslationId:"action__clear",primaryActionProps:{type:"destructive"},onPrimaryActionPress:s,onSecondaryActionPress:function(){i(!1)}}})]})},Y=function(){var e=Object(c.default)(),t=Object(h.useNavigation)(),n=Object(a.useContext)(l).defaultIndex,o=Object(a.useState)(null!=n?n:0),i=f()(o,2),u=i[0],d=i[1],b=Object(a.useMemo)((function(){return Object(M.jsx)(K,{})}),[]),j=Object(a.useMemo)((function(){return Object(M.jsx)(Z,{})}),[]);return Object(a.useLayoutEffect)((function(){t.setOptions({headerRight:function(){return 0===u?null:Object(M.jsx)(X,{})}})}),[t,u]),Object(M.jsxs)(r.default,{flex:"1",bg:"background-default",children:[Object(M.jsx)(r.default,{px:{base:4,md:6},mt:4,children:Object(M.jsx)(s.default,{values:[e.formatMessage({id:"title__favorites"}),e.formatMessage({id:"transaction__history"})],selectedIndex:u,onChange:d})}),Object(M.jsx)(r.default,{flex:"1",children:0===u?b:j})]})};t.default=function(){var e=Object(o.default)(),t=Object(i.useNavigation)(),n=Object(c.default)(),s=Object(i.useRoute)().params,u=s.onItemSelect,d=s.defaultIndex;Object(a.useLayoutEffect)((function(){t.setOptions({title:n.formatMessage({id:"title__my_dapps"})})}),[t,n]);var f=Object(a.useCallback)((function(e){null==u||u(e),t.canGoBack()&&t.goBack()}),[t,u]),b=Object(a.useMemo)((function(){return{onItemSelect:f,defaultIndex:d}}),[d,f]);return Object(M.jsx)(l.Provider,{value:b,children:Object(M.jsx)(r.default,{flex:"1",bg:"background-default",children:e?Object(M.jsx)(Y,{}):Object(M.jsx)(F,{})})})}},4318:function(e,t,n){"use strict";n.r(t),n.d(t,"useOpenProtocolUrl",(function(){return V})),n.d(t,"OverviewDefiProtocol",(function(){return q}));var r=n(570),o=n(4),a=n.n(o),i=n(20),c=n(50),l=n(109),s=n(63),u=n(27),d=n(12),f=n(106),b=n(1),j=n(21),p=n.n(j),O=n(88),m=n(4302),x=n.n(m),h=n(868),g=n(125),v=n(25),y=n(203),w=n(302),k=n(99),_=n(64),C=n(40),S=n(82),I=n(41),P=n(121),M=n(1089),A=n(0),T=function(e){var t=e.icon,n=e.name,r=e.rate,o=e.desc,a=e.extra,l=e.toggle,u=e.collapsed,d=e.onOpenDapp,f=Object(c.default)(),j=Object(b.useMemo)((function(){return Object(A.jsx)(M.OverviewBadge,{rate:r})}),[r]);return f?Object(A.jsxs)(s.default,{px:4,py:4,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[Object(A.jsxs)(I.default,{w:"full",mb:"2",children:[Object(A.jsx)(I.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:Object(A.jsxs)(I.default,{flex:"1",children:[Object(A.jsx)(P.TokenIcon,{size:6,token:{logoURI:t,name:n}}),Object(A.jsx)(i.default,{onPress:d,typography:"Body1Strong",ml:"2",children:n}),r.isNaN()?null:j]})}),Object(A.jsx)(S.default,{type:"plain",onPress:l,name:u?"ChevronDownMini":"ChevronUpMini"})]}),Object(A.jsxs)(s.default,{w:"full",children:[o,a]})]}):Object(A.jsxs)(I.default,{px:6,py:3,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[Object(A.jsx)(I.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:Object(A.jsxs)(I.default,{flex:"1",children:[Object(A.jsx)(P.TokenIcon,{size:8,token:{logoURI:t,name:n}}),Object(A.jsx)(i.default,{typography:"Heading",ml:"2",onPress:d,children:n}),r.isNaN()?null:j]})}),Object(A.jsx)(_.default,{onPress:l,children:Object(A.jsxs)(I.default,{alignItems:"center",children:[Object(A.jsxs)(s.default,{children:[o,a]}),u?Object(A.jsx)(C.default,{name:"ChevronDownMini",size:20}):Object(A.jsx)(C.default,{name:"ChevronUpMini",size:20})]})})]})},D=n(316),R=n.n(D),E=n(3),B=n.n(E),N=n(1659),L=n.n(N);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){var t,n=e.pool,r=e.tokenKey,o=Object(c.default)();return Object(A.jsx)(s.default,{children:null==n||null==(t=n[r])?void 0:t.map((function(e,t){var n,r;return Object(A.jsxs)(I.default,{alignItems:"center",mt:t>0?"4px":0,flexWrap:"wrap",children:[Object(A.jsx)(P.TokenIcon,{token:e,size:o?5:4,mr:"1"}),Object(A.jsx)(i.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mr:"1",children:Object(A.jsx)(g.FormatCurrencyNumber,{onlyNumber:!0,value:new p.a(null!=(n=e.balanceParsed)?n:0)})}),Object(A.jsx)(i.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mx:"1",children:e.symbol}),Object(A.jsx)(u.default.Body2,{color:"text-subdued",children:Object(A.jsx)(g.FormatCurrencyNumber,{value:0,convertValue:new p.a(null!=(r=e.value)?r:0)})})]},e.tokenAddress)}))})},F=function(e){var t=e.pools,n=Object(O.default)(),r=Object(c.default)(),o=Object(b.useCallback)((function(e){return!e.visibleOn||(null==e.visibleOn?void 0:e.visibleOn({pools:t,isVertical:r}))}),[r,t]),a=Object(b.useMemo)((function(){var e,t,n=[{dataIndex:"supplyTokens",header:"form__pool_uppercase",render:function(e){return Object(A.jsx)(z,H(H({},e),{},{tokenKey:"supplyTokens"}))},visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.supplyTokens)?void 0:t.length)>0}))}},{dataIndex:"borrowTokens",header:"form__borrowed_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.borrowTokens)?void 0:t.length)>0}))},render:function(e){return Object(A.jsx)(z,H(H({},e),{},{tokenKey:"borrowTokens"}))}},{dataIndex:"rewardTokens",header:"form__rewards_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.rewardTokens)?void 0:t.length)>0}))},render:function(e){return Object(A.jsx)(z,H(H({},e),{},{tokenKey:"rewardTokens"}))}}].filter(o),r=[{dataIndex:"lockedInfo",header:"form__unlock_time_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return!(null==e||null==(t=e.lockedInfo)||!t.unlockTime)}))},render:function(e){var t,n=e.pool,r=null==n||null==(t=n.lockedInfo)?void 0:t.unlockTime;return"number"!==typeof r?r:Object(A.jsx)(u.default.Body2Strong,{children:L()(1e3*r).format("YYYY/MM/DD HH:mm")})}},{dataIndex:"apr",header:"form__apr_uppercase",visibleOn:function(e){return e.pools.some((function(e){return!!e.apr}))},render:function(e){var t,n=e.pool;return Object(A.jsxs)(u.default.Body2Strong,{children:[Object(A.jsx)(g.FormatCurrencyNumber,{onlyNumber:!0,value:new p.a(null!=(t=n.apr)?t:0)}),"%"]})}},{dataIndex:"poolValue",header:"form__value_uppercase",render:function(e){var t,n=e.pool;return Object(A.jsx)(u.default.Body2Strong,{children:Object(A.jsx)(g.FormatCurrencyNumber,{value:0,convertValue:new p.a(null!=(t=n.poolValue)?t:0)})})},boxProps:{textAlign:"right",justifyContent:"flex-end"}}].filter(o);return 1===(null==n?void 0:n.length)&&null!=n&&null!=(e=n[0])&&e.dataIndex&&n.push({header:"content__price",render:function(e){var n=e.pool;return Object(A.jsx)(s.default,{children:null==n?void 0:n[t].map((function(e){var t;return Object(A.jsx)(u.default.Body2Strong,{children:Object(A.jsx)(g.FormatCurrencyNumber,{value:0,convertValue:new p.a(null!=(t=e.price)?t:0)})},e.tokenAddress)}))})},dataIndex:t=n[0].dataIndex}),n.concat(r)}),[o]),i=Object(b.useMemo)((function(){return t.length}),[t]),l=Object(b.useCallback)((function(e,t){var r=t===i-1;return Object(A.jsx)(s.default,{mb:"4",pb:r?0:4,borderBottomWidth:r?0:"1px",borderBottomColor:"border-subdued",mx:"4",children:a.map((function(t,r){return t.dataIndex&&R()(e[t.dataIndex])?null:Object(A.jsxs)(s.default,{mt:0===r?0:"4",children:[Object(A.jsx)(u.default.Subheading,{mb:"4",color:"text-subdued",children:n.formatMessage({id:t.header})}),t.dataIndex&&!R()(e[t.dataIndex])?t.render({pool:e}):null]},t.header)}))},e.poolCode)}),[a,n,i]),f=Object(b.useCallback)((function(e,n){var r=n===t.length-1;return Object(A.jsx)(I.default,{alignItems:"flex-start",borderBottomColor:"border-subdued",borderBottomWidth:r?0:"1px",mx:"6",py:"4",children:a.map((function(t){var n;return Object(b.createElement)(d.default,H(H({flex:"1"},null!=(n=t.boxProps)?n:{}),{},{key:t.header}),t.render({pool:e}))}))},e.poolCode)}),[t,a]),j=Object(b.useMemo)((function(){return r?null:Object(A.jsx)(I.default,{mx:"6",py:"0",flex:"1",children:a.map((function(e){var t;return Object(A.jsx)(d.default,H(H({flex:"1"},null!=(t=e.boxProps)?t:{}),{},{children:Object(A.jsx)(u.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:e.header})})}),e.header)}))})}),[a,n,r]);return a.length?Object(A.jsxs)(d.default,{children:[j,t.map((function(e,t){return(r?l:f)(e,t)}))]}):null},U=function(e){var t,n,r=e.onConfirm,o=e.protocol,a=e.onClose,i=Object(O.default)(),c=Object(v.useActiveWalletAccount)().network;return Object(A.jsx)(l.default,{visible:!0,onClose:a,contentProps:{icon:Object(A.jsxs)(d.default,{size:"52px",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",overflow:"hidden",position:"relative",children:[Object(A.jsx)(f.default,{size:"full",src:o.protocolIcon,alt:o.protocolName}),Object(A.jsx)(f.default,{source:x.a,w:"35px",h:"25px",position:"absolute",bottom:"0",right:"0",zIndex:"1"}),Object(A.jsx)(f.default,{src:null!=(t=null==c?void 0:c.logoURI)?t:"",w:"12px",h:"12px",position:"absolute",bottom:"2px",right:"2px",zIndex:"2"})]}),title:o.protocolName,contentElement:Object(A.jsxs)(s.default,{children:[Object(A.jsx)(u.default.Body2,{textAlign:"center",children:null!=(n=o.protocolUrl)?n:""}),Object(A.jsx)(u.default.Body2,{mt:"6",textAlign:"center",children:i.formatMessage({id:"content__you_are_about_to_visit_this_site_in_a_dapp_browser_do_you_want_to_continue"})})]})},footerButtonProps:{primaryActionTranslationId:"action__visit",onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==r||r()}}})},V=function(e){var t=Object(v.useNavigation)(),n=Object(c.default)(),r=Object(b.useCallback)((function(){var n;Object(w.openDapp)(null!=(n=null==e?void 0:e.protocolUrl)?n:""),t.canGoBack()&&t.goBack()}),[null==e?void 0:e.protocolUrl,t]);return Object(b.useCallback)((function(){if(null!=e&&e.protocolUrl)return n?void Object(k.showDialog)(Object(A.jsx)(U,{protocol:e,onConfirm:r})):r()}),[e,n,r])},G=function(e){var t=e.poolType,n=Object(c.default)();return Object(A.jsx)(i.default,{ml:n?4:6,my:"4",children:Object(A.jsx)(d.default,{px:"6px",bg:"surface-highlight-default",borderRadius:"6px",children:Object(A.jsx)(u.default.Body2Strong,{color:"text-default",numberOfLines:1,children:t})})})},q=function(e){var t=e._id,n=e.pools,o=e.protocolValue,l=e.protocolName,u=e.protocolIcon,f=e.claimableValue,j=e.showHeader,m=void 0===j||j,x=e.bgColor,w=e.poolCode,k=Object(O.default)(),_=Object(c.default)(),C=Object(y.useCurrentFiatValue)(),S=Object(v.useActiveWalletAccount)(),I=S.networkId,P=S.accountId,M=Object(v.useAccountValues)({networkId:I,accountId:P}),D=V(e),R=Object(b.useMemo)((function(){return new p.a(o).multipliedBy(C).div(M.value).multipliedBy(100)}),[o,M,C]),E=Object(b.useMemo)((function(){return w?n.filter((function(e){return a()(e,2)[1].filter((function(e){return e.poolCode===w})).length>0})).map((function(e){var t=a()(e,2);return[t[0],t[1].filter((function(e){return e.poolCode===w}))]})).map((function(e,n){var r,o=a()(e,2),i=o[0],c=o[1];return Object(A.jsxs)(s.default,{borderTopWidth:0===n?0:"1px",borderTopColor:"divider",children:[Object(A.jsx)(G,{poolType:i,poolName:null==c||null==(r=c[0])?void 0:r.poolName}),Object(A.jsx)(F,{networkId:t.networkId,poolType:i,pools:c})]},i)})):Object(A.jsx)(d.default,{bg:x,children:n.map((function(e,n){var r,o=a()(e,2),i=o[0],c=o[1];return Object(A.jsxs)(s.default,{borderTopWidth:0===n?0:"1px",borderTopColor:"divider",children:[Object(A.jsx)(G,{poolType:i,poolName:null==c||null==(r=c[0])?void 0:r.poolName}),Object(A.jsx)(F,{networkId:t.networkId,poolType:i,pools:c})]},i)}))})}),[x,n,t,w]);return Object(A.jsx)(h.ErrorBoundary,{children:Object(A.jsx)(r.default,{borderRadius:"12px",bg:"surface-default",borderWidth:"1px",borderColor:"border-subdued",mb:"6",value:!1,overflow:"hidden",renderCustomTrigger:function(e,t){return m?Object(A.jsx)(T,{name:l,onOpenDapp:D,rate:R,desc:Object(A.jsx)(i.default,{typography:{md:"Heading",sm:"Body1Strong"},textAlign:_?"left":"right",children:Object(A.jsx)(g.FormatCurrencyNumber,{value:0,convertValue:new p.a(o)})}),extra:+f>0?Object(A.jsx)(i.default,{color:"text-subdued",typography:{md:"Body2Strong",sm:"CaptionStrong"},textAlign:_?"left":"right",children:k.formatMessage({id:"form__claimable_str"},{0:Object(A.jsx)(g.FormatCurrencyNumber,{value:0,convertValue:new p.a(f)})})}):void 0,icon:u,toggle:e,collapsed:t}):null},children:E})})}},4321:function(e,t,n){"use strict";n.r(t),n.d(t,"useAddressBook",(function(){return D}));var r=n(57),o=n(262),a=n(51),i=n(201),c=n(82),l=n(236),s=n(89),u=n(12),d=n(27),f=n(48),b=n(299),j=n(1),p=n(44),O=n(88),m=n(235),x=n(25),h=n(16),g=n(1066),v=n(3),y=n.n(v),w=n(15),k=n.n(w),_=n(17),C=n(1074),S=n(190),I=n(0),P=["contact"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var A=function(e){var t=e.contact,n=k()(e,P),r=Object(O.default)(),o=t.name,a=t.address,i=t.networkId,c=t.id,l=Object(p.useNavigation)(),s=Object(j.useCallback)((function(){l.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.AddressBook,params:{screen:g.AddressBookRoutes.EditAddressRoute,params:{uuid:c,defaultValues:{name:o,address:a,networkId:i}}}})}),[l,o,a,i,c]),u=Object(j.useCallback)((function(){setTimeout((function(){Object(m.copyToClipboard)(a),f.default.show({title:r.formatMessage({id:"msg__address_copied"})})}),200)}),[r,a]),d=Object(j.useCallback)((function(){_.default.dispatch(Object(C.remove)({uuid:c})),f.default.show({title:r.formatMessage({id:"msg__address_deleted"})})}),[c,r]),b=Object(j.useMemo)((function(){return[{id:"action__edit",onPress:s,icon:"PencilMini"},{id:"action__copy_address",onPress:u,icon:"Square2StackOutline"},{id:"action__delete",onPress:d,icon:"TrashMini",variant:"desctructive"}]}),[u,d,s]);return Object(I.jsx)(S.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({w:190,options:b},n))},T=function(e){var t=e.networkId,n=e.onNew,r=e.onSelected,h=Object(O.default)(),g=Object(x.useAppSelector)((function(e){return e.contacts.contacts})),v=Object(b.default)().bottom,y=Object(j.useMemo)((function(){var e=Object.values(g);if(e=e.sort((function(e,t){return e.createAt,t.createAt,-1})),t){var n=t.split("--")[0];e=e.filter((function(e){return e.badge.toUpperCase()===n.toUpperCase()}))}return e}),[g,t]),w=Object(j.useCallback)((function(e){Object(m.copyToClipboard)(e),f.default.show({title:h.formatMessage({id:"msg__address_copied"})})}),[h]),k=Object(p.useNavigation)(),_=Object(j.useCallback)((function(e){r&&(null==r||r({address:e.address,name:e.name}),k.goBack())}),[r,k]),C=Object(j.useCallback)((function(e){var t=e.item,n=t.name,r=t.badge,o=t.address;return Object(I.jsxs)(s.default,{onLongPress:function(){w(o)},onPress:function(){return _(t)},children:[Object(I.jsx)(s.default.Column,{children:Object(I.jsx)(u.default,{w:"40px",h:"40px",borderRadius:"full",bg:"decorative-surface-one",justifyContent:"center",alignItems:"center",children:Object(I.jsx)(d.default.Body2,{color:"decorative-icon-one",children:n.toUpperCase()[0]})})}),Object(I.jsx)(s.default.Column,{flex:1,text:{label:Object(I.jsxs)(u.default,{flexDirection:"row",alignItems:"center",children:[Object(I.jsx)(d.default.Body1Strong,{mr:"8px",isTruncated:!0,children:n}),Object(I.jsx)(l.default,{size:"sm",title:r.toUpperCase()})]}),description:Object(I.jsx)(d.default.Body2,{color:"text-subdued",children:o})}}),Object(I.jsx)(s.default.Column,{children:Object(I.jsx)(A,{contact:t,children:Object(I.jsx)(c.default,{name:"EllipsisVerticalMini",circle:!0,type:"plain"})})})]})}),[w,_]);return 0===y.length?Object(I.jsx)(a.default,{w:"full",h:"full",children:Object(I.jsx)(i.default,{title:h.formatMessage({id:"title__no_cantact"}),subTitle:h.formatMessage({id:"title__no_cantact_desc"}),actionTitle:h.formatMessage({id:"action__add_new_address"}),actionProps:{leftIconName:"PlusMini"},handleAction:n,emoji:"\ud83d\udcc7"})}):Object(I.jsx)(o.default,{data:y,renderItem:C,keyExtractor:function(e){return String(e.id)},ListFooterComponent:v>0?Object(I.jsx)(u.default,{h:v+"px"}):null})};function D(){var e=Object(p.useNavigation)();return{showAddressBookModal:Object(j.useCallback)((function(t){e.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.AddressBook,params:{screen:g.AddressBookRoutes.NewPickAddressRoute,params:t}})}),[e])}}t.default=function(){var e,t=Object(O.default)(),n=null!=(e=Object(p.useRoute)().params)?e:{},o=n.networkId,a=n.onSelected,i=Object(p.useNavigation)(),l=Object(j.useCallback)((function(){i.navigate(g.AddressBookRoutes.NewAddressRoute)}),[i]);return Object(I.jsx)(r.default,{rightContent:Object(I.jsx)(c.default,{onPress:l,name:"PlusCircleOutline",type:"plain",size:"lg",circle:!0}),header:t.formatMessage({id:"title__contacts"}),hideSecondaryAction:!0,footer:null,height:"480px",children:Object(I.jsx)(T,{networkId:o,onSelected:a,onNew:l})})}},4324:function(e,t,n){"use strict";n.r(t);var r=n(82),o=n(20),a=n(12),i=n(121),c=n(89),l=n(41),s=n(64),u=n(27),d=n(40),f=n(48),b=n(563),j=n(50),p=n(175),O=n(54),m=n(1),x=n(44),h=n(88),g=n(17),v=n(25),y=n(16),w=n(263),k=n(3973),_=n(749),C=n(3975),S=n(3976),I=n(822),P=n(4149),M=n(13),A=n.n(M),T=n(2),D=n.n(T),R=(n(4021),n(24),n(3977)),E=n(0),B=Object(m.memo)((function(e){var t=e.data,n=e.lineColor,r=void 0===n?"rgba(0, 184, 18, 1)":n,o=e.linearGradientColor,a=void 0===o?"rgba(0, 184, 18, 0.3)":o,i=e.height,c=void 0===i?40:i,l=e.width,s=void 0===l?50:l,u=e.lineWidth,d=void 0===u?2:u,f=e.smooth,b=void 0===f||f,j=e.scale,p=void 0===j?.1:j,O=Object(R.useDevicePixelRatio)(),x=Object(m.useCallback)(function(){var e=D()((function*(e){if(e){e.width=s*O,e.height=c*O;var n=c-5,o=t||[],i=Math.max.apply(Math,A()(o)),l=Math.min.apply(Math,A()(o)),u=n/(i-l),f=e.getContext("2d");if(f){f.scale(O,O),f.beginPath(),f.lineWidth=d,f.strokeStyle=r;var j=s/(o.length-1),m=0,x=0;o.forEach((function(e,t){var r=n-(e-l)*u;if(b&&t>=2&&t<o.length-1){var a=j*(t-1),i=n-(o[t-1]-l)*u,c=j*(t-2),s=n-(o[t-2]-l)*u,d=j*(t+1),O=n-(o[t+1]-l)*u,h=a+(m-c)*p,g=i+(r-s)*p,v=m-(d-a)*p,y=r-(O-i)*p;g<0&&(g=0),y<0&&(y=0),f.bezierCurveTo(h,g,v,y,m,r)}else f.lineTo(m,r);t===o.length-1&&(x=r),m+=j})),f.lineTo(m+j,x),f.lineTo(m+j,c),f.lineTo(0,c),f.stroke(),f.closePath();var h=f.createLinearGradient(0,0,0,n);h.addColorStop(0,a),h.addColorStop(1,"rgba(255,255,255,0)"),f.fillStyle=h,f.fill(),f.clearRect(0,c-d,s,d)}}}));return function(t){return e.apply(this,arguments)}}(),[s,O,c,t,d,r,b,p,a]);return Object(E.jsx)("div",{style:{width:s,height:c},children:Object(E.jsx)("canvas",{style:{width:s+"px",height:c+"px"},ref:x})})})),N=function(e){var t=e.tokens,n=Object(x.useNavigation)(),r=Object(h.default)();return t?Object(E.jsx)(O.default,{borderRadius:12,isDisabled:!t.length,type:"basic",size:"xs",onPress:function(){g.default.serviceSwap.buyToken(t[0]),n.navigate(y.TabRoutes.Swap)},children:r.formatMessage({id:"title__swap"})}):Object(E.jsx)(p.default,{shape:"Caption"})};t.default=Object(m.memo)((function(e){var t=e.onPress,n=e.marketTokenId,O=e.headTags,x=e.onLongPress,y=Object(j.default)(),M=Object(v.useSettings)().selectedFiatMoneySymbol,A=Object(k.useCurrencyUnit)(M),T=Object(b.default)().size,D=Object(m.useMemo)((function(){return["NORMAL"].includes(T)}),[T]),R=Object(C.useMarketSelectedCategoryId)(),L=Object(h.default)(),W=Object(S.useMarketTokenItem)({coingeckoId:n,isList:!0}),H=Object(m.useRef)(),z=Object(m.useCallback)((function(){var e,t;return W&&Object(P.showMarketCellMoreMenu)(W,{header:""+(null!=(e=null!=(t=null==W?void 0:W.symbol)?t:null==W?void 0:W.name)?e:"")},H.current)}),[W]);return Object(E.jsx)(c.default,{onLongPress:function(){y&&W&&x&&x(W)},onPress:function(){W&&t&&t(W)},children:O.map((function(e){switch(e.id){case _.EMarketCellData.CollectionStar:var t;return Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(l.default,{alignItems:"center",justifyContent:"center",w:e.isSearch?void 0:e.minW,children:W?Object(E.jsxs)(s.default,{p:e.isSearch?0:1,flexDirection:"row",alignItems:"center",rounded:"full",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){W.favorited?(g.default.serviceMarket.cancelMarketFavoriteToken(W.coingeckoId),f.default.show({title:L.formatMessage({id:"msg__removed"})})):(g.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:W.coingeckoId,symbol:W.symbol}]),f.default.show({title:L.formatMessage({id:"msg__added_to_favorites"})}))},children:[Object(E.jsx)(d.default,{name:W.favorited?"StarSolid":"StarOutline",size:20,color:W.favorited?"icon-warning":"icon-subdued"}),!e.isSearch&&Object(E.jsx)(u.default.Body2Strong,{ml:.5,children:null!=(t=W.serialNumber)?t:"-"})]}):Object(E.jsx)(p.default,{shape:"Avatar",size:20})})},e.id);case _.EMarketCellData.TokenInfo:return Object(E.jsx)(c.default.Column,{children:Object(E.jsxs)(l.default,{alignItems:"center",flex:1,space:3,children:[W&&void 0!==W.logoURI?Object(E.jsx)(i.default,{size:8,token:{logoURI:W.logoURI,name:W.name,symbol:W.symbol}}):Object(E.jsx)(a.default,{children:Object(E.jsx)(p.default,{shape:"Avatar",size:32})}),Object(E.jsxs)(a.default,{children:[W&&void 0!==W.symbol?Object(E.jsx)(o.default,{typography:e.isSearch?"Body2Strong":"Body1Strong",children:W.symbol}):Object(E.jsx)(p.default,{shape:"Body2"}),W&&void 0!==W.marketCap?Object(E.jsx)(u.default.Body2,{numberOfLines:1,color:"text-subdued",children:y||D?Object(I.formatMarketUnitPosition)(A,Object(I.formatMarketValueForInfo)(W.marketCap)):W.name}):Object(E.jsx)(p.default,{shape:"Body2"})]})]})},e.id);case _.EMarketCellData.TokenPrice:return W&&void 0!==W.price?Object(E.jsx)(c.default.Column,{text:{label:Object(I.formatMarketUnitPosition)(A,W.price<=1?Object(I.formatDecimalZero)(W.price):Object(I.formatMarketValueForComma)(W.price)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.Token24hChange:return W&&void 0!==W.priceChangePercentage24H?y?Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{w:e.minW,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(a.default,{width:"72px",height:"32px",borderRadius:"6px",backgroundColor:W.priceChangePercentage24H>=0?"surface-success-subdued":"surface-critical-subdued",alignItems:"center",justifyContent:"center",children:Object(E.jsx)(u.default.Body2Strong,{textAlign:"center",color:W.priceChangePercentage24H>=0?"text-success":"text-critical",children:Object(I.formatMarketVolatility)(W.priceChangePercentage24H)+"%"})})})},e.id):Object(E.jsx)(c.default.Column,{text:{label:Object(I.formatMarketVolatility)(W.priceChangePercentage24H)+"%",labelProps:{textAlign:e.textAlign,color:W.priceChangePercentage24H>=0?"text-success":"text-critical"},size:"sm"},w:e.minW},e.id):Object(E.jsx)(c.default.Column,{flex:1,alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.Token24hVolume:return W&&void 0!==W.totalVolume?Object(E.jsx)(c.default.Column,{text:{label:Object(I.formatMarketUnitPosition)(A,Object(I.formatMarketValueForComma)(W.totalVolume)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.TokenMarketCap:return W&&void 0!==W.marketCap?Object(E.jsx)(c.default.Column,{text:{label:Object(I.formatMarketUnitPosition)(A,Object(I.formatMarketValueForComma)(W.marketCap)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(E.jsx)(p.default,{shape:"Body2"})})},e.id);case _.EMarketCellData.TokenSparklineChart:return Object(E.jsx)(c.default.Column,{children:Object(E.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:W&&W.sparkline?Object(E.jsx)(B,{data:W.sparkline,width:100,height:40,lineColor:W.priceChangePercentage24H&&W.priceChangePercentage24H>=0?"#33C641":"#FF6259",linearGradientColor:W.priceChangePercentage24H&&W.priceChangePercentage24H>=0?"rgba(0, 184, 18, 0.2)":"rgba(255, 98, 89, 0.2)"}):Object(E.jsx)(p.default,{shape:"Caption"})})},e.id);case _.EMarketCellData.TokenSwapStatus:return Object(E.jsx)(c.default.Column,{children:Object(E.jsxs)(a.default,{flexDirection:"row",justifyContent:"center",flex:1,ref:H,children:[W?Object(E.jsx)(N,{tokens:W.tokens}):Object(E.jsx)(p.default,{shape:"Caption"}),R===w.MARKET_FAVORITES_CATEGORYID?Object(E.jsx)(r.default,{isDisabled:Boolean(!W),size:"xs",name:"EllipsisVerticalMini",type:"plain",ml:"2",circle:!0,onPress:z}):null]})},e.id);default:return null}}))})}))},4328:function(e,t,n){"use strict";n.r(t),n.d(t,"onNavigation",(function(){return p})),n.d(t,"useWebController",(function(){return O}));var r=n(3),o=n.n(r),a=n(4),i=n.n(a),c=n(1),l=(n(24),n(389)),s=n(485),u=n(3999),d=n(820);var f=function(e){var t=e.ref,n=e.onNavigation,r=e.tabId,o=Object(c.useRef)(!1);Object(c.useEffect)((function(){}),[t,n]);var a=Object(c.useCallback)((function(){o.current&&(null==t||t.goBack())}),[t]),i=Object(c.useCallback)((function(){o.current&&(null==t||t.goForward())}),[t]),l=Object(c.useCallback)((function(){o.current&&(null==t||t.stop())}),[t]),u=Object(c.useCallback)((function(){var e=Object(s.getWebviewWrapperRef)(r);null==e||e.reload()}),[r]);return{goBack:a,goForward:i,stopLoading:l,loadURL:Object(c.useCallback)((function(e){Object(s.crossWebviewLoadUrl)({url:e,tabId:r})}),[r]),reload:u}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.url,n=e.isNewWindow,r=e.isInPlace,o=e.title,a=e.favicon,i=e.canGoBack,c=e.canGoForward,s=e.loading,f=e.id,b=Date.now(),j=Object(d.getWebTabs)(f).tab;if(j){var p=j.id;if("string"===typeof t&&t!==j.url){if(j.timestamp&&b-j.timestamp<500)return;if(l.homeResettingFlags[p]&&t!==l.homeTab.url&&b-l.homeResettingFlags[p]<1e3)return;Object(u.gotoSite)({url:t,title:o,favicon:a,isNewWindow:n,isInPlace:r,id:p})}l.webTabsActions.setWebTabData({id:p,title:o,favicon:a,canGoBack:i,canGoForward:c,loading:s})}},O=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.navigationStateChangeEvent,o=Object(d.useWebTabs)(n),a=o.currentTabId,u=o.tabs,b=o.tab,O=n||a,m=Object(c.useState)(null==(e=s.webviewRefs[O])?void 0:e.innerRef),x=i()(m,2),h=x[0],g=x[1];Object(c.useEffect)((function(){var e;null!=b&&b.refReady&&g(null==(e=s.webviewRefs[O])?void 0:e.innerRef)}),[O,null==b?void 0:b.refReady]);var v=f({ref:h,onNavigation:p,navigationStateChangeEvent:r,tabId:O}),y=v.goBack,w=v.goForward,k=v.stopLoading,_=v.reload;return{tabs:u,currentTabId:a,currentTab:b,goBack:function(){var e=(null==b?void 0:b.refReady)&&(null==b?void 0:b.canGoBack);k(),e?y():l.webTabsActions.setWebTabData(j(j({},l.homeTab),{},{id:O}))},goForward:w,stopLoading:k,reload:_}}},4526:function(e,t,n){"use strict";n.r(t),n.d(t,"useDomID",(function(){return i})),n.d(t,"default",(function(){return c}));var r=n(1),o=n(167),a=n.n(o);function i(e){return{domId:Object(r.useMemo)((function(){return e+"-"+a.a.v4()}),[e])}}function c(e){var t=e.name,n=e.visible,o=e.toggleVisible,a=i(t).domId;return Object(r.useEffect)((function(){var e=function(e){if(n&&o){var t=document.getElementById(a);t&&e.target&&function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(t,e.target)||setTimeout((function(){n&&(document.getElementById(a)&&o())}),150)}};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[a,o,n]),{domId:a}}},4527:function(e,t,n){"use strict";n.r(t),function(e){var r=n(4),o=n.n(r),a=n(1),i=n(4151),c=n(0);t.default=function(t){var n=t.freeze,r=t.children,l=Object(a.useState)(!1),s=o()(l,2),u=s[0],d=s[1];return Object(a.useEffect)((function(){e((function(){d(n)}))}),[n]),Object(c.jsx)(i.Freeze,{freeze:!!n&&u,children:r})}}.call(this,n(952).setImmediate)},4528:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(4152),i=n(3999),c=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.alwaysOpenNewWindow;return Object(c.jsx)(a.default,{onItemSelect:function(e){Object(i.openMatchDApp)({id:e._id,dapp:e,isNewWindow:t})},onItemSelectHistory:function(e){return Object(i.openMatchDApp)(s(s({},e),{},{isNewWindow:t}))}})};u.displayName="WebHomeContainer",t.default=u},4529:function(e,t,n){"use strict";n.r(t);var r;n(24);r=n(5245).Unknown,t.default=r},4530:function(e,t,n){"use strict";n.r(t),n.d(t,"SectionTitle",(function(){return j}));var r=n(54),o=n(12),a=n(27),i=n(50),c=n(1),l=n(44),s=n(88),u=n(16),d=(n(24),n(25)),f=n(111),b=(n(3994),n(0)),j=function(e){var t,n=e.title,j=e._title,p=e.tagId,O=e.onItemSelect,m=Object(s.default)(),x=Object(d.useTranslation)(),h=Object(i.default)(),g=Object(l.useNavigation)(),v=Object(c.useCallback)((function(e){null==O||O(e),Object(f.getAppNavigation)().goBack()}),[O]);return Object(b.jsxs)(o.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pl:h?"16px":"32px",pr:h?"8px":"32px",mb:"14px",children:[Object(b.jsx)(o.default,{flex:1,children:Object(b.jsx)(a.default.Heading,{numberOfLines:1,children:null!=(t=x(j))?t:n})}),Object(b.jsx)(r.default,{onPress:function(){g.navigate(u.HomeRoutes.DAppListScreen,{tagId:p,title:n,_title:j,onItemSelect:v})},height:"32px",type:"plain",size:"sm",rightIconName:"ChevronRightMini",textProps:{color:"text-subdued"},children:m.formatMessage({id:"action__see_all"})})]})}},4531:function(e,t,n){"use strict";n.r(t),n.d(t,"GasPrice",(function(){return p}));var r=n(51),o=n(12),a=n(818),i=n(27),c=n(2),l=n.n(c),s=n(1),u=n(36),d=n(17),f=n(25),b=n(291),j=n(0),p=function(){var e=Object(f.useAppSelector)((function(e){return e.discover.networkPrices})),t=null==e?void 0:e[u.OnekeyNetwork.eth];return Object(s.useEffect)((function(){function e(){return(e=l()((function*(){var e,t=(yield d.default.serviceGas.getGasInfo({networkId:u.OnekeyNetwork.eth})).prices[0],n="";"string"===typeof t?n=t:n=null!=(e=t.price)?e:"";d.default.dispatch(Object(b.setNetworkPrice)({networkId:u.OnekeyNetwork.eth,price:n}))}))).apply(this,arguments)}var t=setInterval((function(){return e.apply(this,arguments)}),3e4);return function(){return clearInterval(t)}}),[]),Object(j.jsxs)(r.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:[t?Object(j.jsx)(i.default.Body2Strong,{lineHeight:14,color:"text-warning",children:t}):Object(j.jsx)(o.default,{w:"8",h:"3",mb:"1",overflow:"hidden",borderRadius:12,children:Object(j.jsx)(a.default,{})}),Object(j.jsx)(i.default.CaptionStrong,{lineHeight:12,color:"text-warning",children:"Gwei"})]})}},4532:function(e,t,n){e.exports=n.p+"static/media/dapp_colour.5dd0344d.png"},4533:function(e,t,n){"use strict";n.r(t),n.d(t,"useExplorerSearch",(function(){return f}));var r=n(3),o=n.n(r),a=n(1),i=n(25),c=n(16),l=n(3999),s=n(3994);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){var e=Object(i.useNavigation)();return Object(a.useCallback)((function(t){var n=t.isNewWindow,r=t.defaultUrl;e.navigate(c.RootRoutes.Modal,{screen:c.ModalRoutes.Discover,params:{screen:s.DiscoverModalRoutes.SearchHistoryModal,params:{url:r,onSelectorItem:function(e){if("string"===typeof e)return Object(l.gotoSite)({url:e,isNewWindow:n,userTriggered:!0});Object(l.openMatchDApp)(d(d({},e),{},{isNewWindow:n}))}}}})}),[e])}},4534:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(3986),a=n(389),i=n(485),c=n(0),l=function(e){var t=e.id,n=e.url;return Object(r.useMemo)((function(){return Object(c.jsx)(o.default,{id:t,src:n,onWebViewRef:function(e){e&&e.innerRef&&(i.webviewRefs[t]||a.webTabsActions.setWebTabData({id:t,refReady:!0}),i.webviewRefs[t]=e)},allowpopups:!0})}),[t])};l.displayName="WebContent",t.default=l},4535:function(e,t,n){"use strict";n.r(t),n.d(t,"useIncomingUrl",(function(){return l}));var r=n(1),o=n(1184),a=n(389),i=n(3999),c=function(){return a.webTabsActions.setIncomingUrl("")},l=function(){var e=Object(o.useSelector)((function(){return a.incomingUrlObs.get()})),t=Object(r.useCallback)((function(){e&&(Object(i.gotoSite)({url:e,isNewWindow:!0,userTriggered:!0}),c())}),[e]);return{incomingUrl:e,clearIncomingUrl:c,handleIncomingUrl:t}}},4536:function(e,t,n){"use strict";n.r(t),n.d(t,"useNotifyChanges",(function(){return b}));var r=n(2393),o=n.n(r),a=n(1),i=n(19),c=(n(24),n(17)),l=n(4537),s=n(484),u=n(16),d=n(485),f=n(820),b=(o()((function(e,t){i.default.webview.info("webview notify changed events",e,t),c.default.serviceAccount.notifyAccountsChanged(),c.default.serviceNetwork.notifyChainChanged()}),150,{leading:!1,trailing:!0}),function(){var e=Object(s.useIsMounted)(),t=Object(f.useWebTabs)().tab,n=null==t?void 0:t.url,r=null==t?void 0:t.id,o=Object(d.getWebviewWrapperRef)(r),i=Object(l.useIsFocusedInTab)(u.TabRoutes.Discover);Object(a.useEffect)((function(){}),[o,i]),Object(a.useEffect)((function(){}),[i,e,n,o])})},4537:function(e,t,n){"use strict";n.r(t),n.d(t,"useIsFocusedInTab",(function(){return i}));var r=n(1),o=n(44),a=n(1359),i=function(e){var t=Object(o.useIsFocused)();return Object(r.useMemo)((function(){var n=t;return t||(n=Object(a.isAtAppRootTab)(e)),n}),[t,e])}},4546:function(e,t,n){"use strict";n.r(t);var r=n(4038),o=n(12),a=n(299);var i=n(4528),c=n(485),l=n(41),s=n(64),u=n(82),d=n(3),f=n.n(d),b=n(368),j=n(4),p=n.n(j),O=n(15),m=n.n(O),x=n(1),h=n(88),g=n(17),v=n(1594),y=n(111),w=n(16),k=n(389),_=n(4037),C=n(818),S=n(27),I=n(40),P=n(2),M=n.n(P),A=n(36),T=n(25),D=n(291),R=n(0),E=function(){var e=Object(T.useAppSelector)((function(e){return e.discover.networkPrices})),t=null==e?void 0:e[A.OnekeyNetwork.eth];return Object(x.useEffect)((function(){function e(){return(e=M()((function*(){var e,t=(yield g.default.serviceGas.getGasInfo({networkId:A.OnekeyNetwork.eth})).prices[0],n="";"string"===typeof t?n=t:n=null!=(e=t.price)?e:"";g.default.dispatch(Object(D.setNetworkPrice)({networkId:A.OnekeyNetwork.eth,price:n}))}))).apply(this,arguments)}var t=setInterval((function(){return e.apply(this,arguments)}),3e4);return function(){return clearInterval(t)}}),[]),Object(R.jsx)(o.default,{flexDirection:"row",alignItems:"center",h:"full",children:t?Object(R.jsxs)(o.default,{flexDirection:"row",alignItems:"center",children:[Object(R.jsx)(I.default,{name:"GasIllus",size:16,color:"text-warning"}),Object(R.jsx)(o.default,{ml:"1",children:Object(R.jsx)(S.default.Button2,{color:"text-warning",children:t})})]}):Object(R.jsx)(o.default,{w:"8",h:"3",mb:"1",overflow:"hidden",borderRadius:12,children:Object(R.jsx)(C.default,{})})})},B=n(3999),N=n(4328),L=n(569),W=n(20),H=n(1540),z=n(1244),F=n(301),U=n(471),V=n(4526),G=n(1623),q=n(3941),K=n(3928),Z=n(4286),X=Object(x.forwardRef)((function(e,t){var n=e.visible,r=e.searchContent,a=void 0===r?"":r,i=e.relativeComponent,c=e.onSelectorItem,u=e.onHoverItem,d=Object(h.default)(),f=Object(x.useState)(),b=p()(f,2),j=b[0],O=b[1],m=Object(T.useDebounce)(null!=a?a:"",150),g=Object(x.useRef)(null),v=Object(x.useRef)(null),y=Object(Z.useSearchLocalDapp)(m,a).searchedDapps,w=Object(K.useDiscoverHistory)(),k=Object(x.useMemo)((function(){return m?y:w}),[m,w,y]),_=Object(x.useMemo)((function(){return k.map((function(e){return e.dapp})).filter(Boolean)}),[k]),C=Object(F.default)(),I=Object(x.useMemo)((function(){return.6*C.height}),[C]),P=Object(V.default)({name:"SelectSearch",visible:n}).domId,M=Object(G.useDropdownPosition)({triggerEle:i,contentRef:g,visible:!0,dropdownPosition:"right",translateY:9,setPositionOnlyMounted:!1,autoAdjust:!0}),A=M.position,D=M.toPxPositionValue,E=M.triggerWidth,B=function(e){if("ArrowDown"===e)void 0!==j&&j<_.length-1?O(j+1):void 0===j&&O(0);else if("ArrowUp"===e)void 0!==j&&j>0?O(j-1):0===j&&O(void 0);else{if("Enter"!==e)return!1;if(void 0===j||!_.length)return!1;var t=_[j];null==c||c({id:t._id,dapp:t})}return!0};return Object(x.useEffect)((function(){O(void 0)}),[a]),Object(x.useEffect)((function(){if(void 0!==j){var e,t=_[j];null==u||u({id:t._id,dapp:t}),null==v||null==(e=v.current)||e.scrollToIndex({index:j,viewOffset:I/2})}}),[j]),Object(x.useImperativeHandle)(t,(function(){return{onKeyPress:B}})),Object(R.jsx)(L.default,{children:Object(R.jsx)(H.AnimatePresence,{children:n&&Object(R.jsx)(z.View,{from:{opacity:0,translateY:0},animate:{opacity:1,translateY:9},transition:{type:"timing",duration:150},exit:{opacity:0,translateY:0},children:Object(R.jsx)(o.default,{ref:g,maxH:D(I),nativeID:P,position:"absolute",width:E?D(E+35):"full",left:D(A.left),right:D(A.right),top:D(A.top),borderRadius:"12",bg:"surface-default",borderColor:"border-subdued",borderWidth:_.length>0?"1px":"0px",shadow:"depth.3",overflow:"hidden",children:Object(R.jsx)(U.FlatListRef,{ref:v,data:_,renderItem:function(e){var t=e.item,n=e.index,r=t||{},o=r.name,a=r.url,i=r.logoURL;return Object(R.jsx)(s.default.Item,{focusable:j===n,px:3,py:2,borderColor:j===n?"border-success-subdued":"surface-default",borderWidth:1,borderRadius:12,onPress:function(){null==c||c({id:t._id,dapp:t})},children:Object(R.jsxs)(l.default,{space:3,w:"100%",alignItems:"center",children:[i?Object(R.jsx)(q.default,{size:24,url:i}):null,Object(R.jsx)(W.default,{flexWrap:"wrap",typography:{sm:"Body1Strong",md:"Body2Strong"},children:function(){var e=null!=o?o:"Unknown";return e.length>24?e.slice(0,24)+"...":e}()}),Object(R.jsx)(S.default.Body2,{flex:1,numberOfLines:1,color:"text-subdued",children:a})]})})},keyboardShouldPersistTaps:"handled",ListHeaderComponent:_.length>0?Object(R.jsx)(o.default,{p:3,children:Object(R.jsx)(S.default.Subheading,{color:"text-subdued",children:d.formatMessage({id:m?"title__search_results":"transaction__history"})})}):null,keyExtractor:function(e){return e._id},showsVerticalScrollIndicator:!1})})})})})}));X.displayName="SearchView";var Y=X,Q=["value","onClear","onChangeText","customLeftIcon"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $=Object(x.forwardRef)((function(e,t){var n=e.value,r=e.onClear,o=e.onChangeText,a=e.customLeftIcon,i=m()(e,Q),c=Object(x.useState)(n),l=p()(c,2),s=l[0],u=l[1],d=Object(x.useCallback)((function(e){"undefined"===typeof n?u(e):"undefined"!==typeof o&&o(e)}),[n,o]);return Object(R.jsx)(b.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,value:null!=n?n:s,leftIconName:null!=a?a:"MagnifyingGlassMini",placeholder:"Search...",autoCorrect:!1,autoCapitalize:"none",onPressRightIcon:r,onChangeText:d},i))}));$.displayName="BrowserURLInput";var ee=function(){var e=Object(h.default)(),t=Object(x.useState)(!1),n=p()(t,2),r=n[0],a=n[1],i=Object(N.useWebController)(),c=i.currentTab,d=i.stopLoading,f=i.goBack,b=i.goForward,j=i.reload,O=c.loading,m=c.canGoBack,C=c.canGoForward,S=function(e){if("string"===typeof e)return Object(B.gotoSite)({url:e,userTriggered:!0});Object(B.openMatchDApp)(e)},I=(null==c?void 0:c.url)||"",P=Object(x.useState)(I),M=p()(P,2),A=M[0],T=M[1],D=function(e){try{if(!e)return"SearchOutline";var t=new URL(e);if("https:"===t.protocol)return"LockClosedMini";if("http:"===t.protocol)return"ExclamationTriangleMini"}catch(n){return"SearchOutline"}return"SearchOutline"}(I);Object(x.useEffect)((function(){T(I)}),[I]);var L=Object(x.useRef)(null),W=Object(x.useRef)(null),H=function(e){var t;return null==(t=W.current)?void 0:t.onKeyPress(e)},z=Object(x.useCallback)((function(){Object(y.getAppNavigation)().navigate(w.RootRoutes.Modal,{screen:w.ModalRoutes.GasPanel,params:{screen:_.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(l.default,{bg:"background-default",w:"100%",h:"48px",px:8,space:3,alignItems:"center",children:[Object(R.jsx)(u.default,{type:"plain",name:"ArrowLeftOutline",disabled:!m,isDisabled:!m,onPress:f}),Object(R.jsx)(u.default,{type:"plain",name:"ArrowRightOutline",disabled:!C,isDisabled:!C,onPress:b}),Object(R.jsx)(u.default,{type:"plain",name:O?"XMarkOutline":"ArrowPathOutline",onPress:O?d:j}),Object(R.jsx)(s.default,{flex:1,style:{WebkitAppRegion:"no-drag"},children:Object(R.jsx)($,{ref:L,w:"100%",h:"32px",placeholder:e.formatMessage({id:"content__search_or_enter_dapp_url"}),customLeftIcon:D,size:"base",value:A,onClear:function(){return T("")},onChangeText:T,onSubmitEditing:function(e){var t=e.nativeEvent.text.trim();t&&(T(t),S(t))},onKeyPress:function(e){var t=e.nativeEvent.key;"ArrowUp"!==t&&"ArrowDown"!==t&&"Enter"!==t||null!=H&&H(t)&&e.preventDefault()},selectTextOnFocus:!0,onFocus:function(){a(!0)},onBlur:function(){""===(null==A?void 0:A.trim())&&T(I),a(!1)},rightElement:(null==c?void 0:c.id)!==k.homeTab.id?Object(R.jsx)(u.default,{onPress:function(){return c&&g.default.serviceDiscover.toggleFavorite(c.url)},type:"plain",name:"StarMini",iconColor:null!=c&&c.isBookmarked?"icon-warning":"icon-default"}):void 0})}),Object(R.jsx)(v.NetworkAccountSelectorTriggerDesktop,{}),Object(R.jsx)(s.default,{h:"full",onPress:z,children:function(e){var t=e.isHovered,n=e.isPressed;return Object(R.jsx)(o.default,{flexDirection:"row",h:"full",alignItems:"center",children:Object(R.jsx)(o.default,{px:2,py:1,bg:n?"surface-pressed":t?"surface-hovered":void 0,borderRadius:"full",children:Object(R.jsx)(E,{})})})}})]}),Object(R.jsx)(Y,{ref:W,visible:r,onSearchContentChange:T,searchContent:A,onSelectorItem:function(e){var t;S(e),null==(t=L.current)||t.blur()},relativeComponent:L.current})]})};ee.displayName="ControllerBarDesktop";var te=ee,ne=n(54),re=n(238),oe=n(4326),ae=n(24),ie=n(2705),ce=(n(412),Object(ie.getDisplayKeysMap)(ae.default.isDesktopMac)),le=function(e){var t=e.children,n=ce[t]||t;return Object(R.jsx)(o.default,{bg:"surface-neutral-subdued",borderRadius:"6px",px:"6px",height:"20px",justifyContent:"center",alignItems:"center",ml:"2px",children:Object(R.jsx)(S.default.CaptionStrong,{children:n})})};Object(x.memo)((function(e){var t=e.desc,n=e.keys,r=null==n?void 0:n.split("+").map((function(e,t){return Object(R.jsx)(le,{children:e},t)}));return Object(R.jsxs)(o.default,{p:"8px",flexDirection:"row",justifyContent:"space-between",children:[Object(R.jsx)(S.default.Body2,{children:t}),Object(R.jsx)(o.default,{ml:"6px",flexDirection:"row",children:r})]})})).displayName="ShortcutsDescription";var se=x.Fragment,ue=n(5248),de=n.n(ue),fe=n(820);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=Object(ie.getShortcutsMap)(ae.default.isDesktopMac),Oe=function(e){var t=e.isCurrent,n=e.id,r=e.title,o=e.onLayout,a=e.favicon,i=Object(x.useCallback)((function(){k.webTabsActions.setCurrentWebTab(n)}),[n]),c=Object(x.useCallback)((function(){k.webTabsActions.closeWebTab(n)}),[n]);return"home"===n?Object(R.jsx)(ne.default,{type:"plain",w:"52px",borderRadius:0,bg:t?"background-default":"background-hovered",leftIconName:"HomeMini",iconSize:16,iconColor:t?"icon-hovered":"icon-default",onPress:i,borderRightColor:"border-default",borderRightWidth:"0.5px",onLayout:o}):Object(R.jsxs)(s.default,{_hover:{bg:t?"background-default":"action-secondary-hovered"},borderRightColor:"border-default",borderRightWidth:"0.5px",px:"12px",bg:t?"background-default":"background-hovered",onPress:i,flexDirection:"row",justifyContent:"space-between",alignItems:"center",onLayout:o,children:[Object(R.jsx)(re.default,{style:{width:16,height:16,marginRight:8},source:{uri:a},defaultSource:de.a}),Object(R.jsx)(S.default.Caption,{maxW:"82px",mr:"10px",isTruncated:!0,color:t?"text-default":"text-subdued",children:r}),Object(R.jsx)(se,{desc:pe[ie.ExplorerShortcutEvents.CloseTab].desc,keys:pe[ie.ExplorerShortcutEvents.CloseTab].keys,children:Object(R.jsx)(ne.default,{size:"xs",type:"plain",iconSize:12,leftIconName:"XMarkMini",onPress:c})})]})},me=function(){return Object(R.jsx)(se,{desc:pe[ie.ExplorerShortcutEvents.NewTabAndFocus].desc,keys:pe[ie.ExplorerShortcutEvents.NewTabAndFocus].keys,children:Object(R.jsx)(ne.default,{flex:1,borderRadius:0,type:"plain",leftIconName:"PlusMini",onPress:k.webTabsActions.addBlankWebTab})})},xe=function(){var e=Object(fe.useWebTabs)().tabs,t=Object(x.useMemo)((function(){return e.slice(1)}),[e]),n=Object(x.useRef)(null);return Object(x.useEffect)((function(){setTimeout((function(){var e;return null==(e=n.current)?void 0:e.scrollToEnd()}),50)}),[n,e.length]),Object(R.jsxs)(o.default,{flexDirection:"row",w:"100%",h:"32px",alignItems:"center",children:[Object(R.jsx)(Oe,je({},e[0])),Object(R.jsx)(o.default,{flex:1,h:"32px",children:Object(R.jsxs)(oe.default,{ref:n,style:{maxWidth:"100%",flexGrow:0,height:32},leftButtonProps:{borderRadius:null},rightButtonProps:{borderRadius:null},children:[t.map((function(e){return Object(R.jsx)(Oe,je({},e),e.id)})),Object(R.jsx)(me,{})]})})]})};xe.displayName="TabBarDesktop";var he=xe,ge=n(44),ve=n(4151),ye=n(29),we=n(38),ke=n(4152),_e=n(4534),Ce=n(4535),Se=n(4536);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=ye.default.create({blankPage:Pe(Pe({},ye.default.absoluteFillObject),{},{zIndex:1})}),Ae=Object(x.memo)((function(){Object(Se.useNotifyChanges)();var e=Object(fe.useWebTabs)(),t=e.tabs,n=e.tab,r=Object(Ce.useIncomingUrl)().handleIncomingUrl,a=(null==n?void 0:n.url)===k.homeTab.url;return Object(ge.useFocusEffect)(r),Object(R.jsxs)(o.default,{flex:1,zIndex:3,children:[t.map((function(e){return Object(R.jsx)(ve.Freeze,{freeze:!e.isCurrent,children:Object(R.jsx)(_e.default,Pe({},e))},e.id)})),Object(R.jsx)(ve.Freeze,{freeze:!a,children:Object(R.jsx)(we.default,{style:Me.blankPage,children:Object(R.jsx)(ke.default,{onItemSelect:B.onItemSelect,onItemSelectHistory:B.openMatchDApp})})})]})}));Ae.displayName="TabbedWebContainer";var Te=Ae,De="browser"!==c.webHandler;t.default=function(){var e=Object(a.default)().top;return Object(R.jsxs)(o.default,{flex:"1",zIndex:3,children:[De&&Object(R.jsx)(r.default,{children:Object(R.jsxs)(o.default,{mt:(e?e+10:0)+"px",bg:"surface-subdued",zIndex:5,children:[Object(R.jsx)(he,{}),Object(R.jsx)(te,{})]})}),"tabbedWebview"===c.webHandler?Object(R.jsx)(Te,{}):Object(R.jsx)(i.default,{})]})}},4547:function(e,t,n){"use strict";n.r(t),n.d(t,"DesktopUnrestricted",(function(){return le})),n.d(t,"DesktopRestricted",(function(){return se})),n.d(t,"Desktop",(function(){return ue}));var r=n(12),o=n(1),a=n(3928),i=n(3967),c=n(314),l=n(3),s=n.n(l),u=n(201),d=n(44),f=n(88),b=n(29),j=(n(24),n(25)),p=n(4529),O=n(4023),m=n(4),x=n.n(m),h=n(0),g=function(){var e=Object(f.default)(),t=Object(j.useTranslation)(),n=Object(o.useContext)(i.DiscoverContext),r=n.categoryId,c=n.setCategoryId,l=Object(a.useCategories)(),s=Object(o.useMemo)((function(){return l?[{name:e.formatMessage({id:"msg__mine"}),_id:""}].concat(l):[]}),[l,e]),u=Object(o.useState)((function(){return s.findIndex((function(e){return e._id===r}))})),d=x()(u,2),b=d[0],p=d[1],m=Object(o.useCallback)((function(e){var t=s[e]._id;c(t),p(e)}),[s,c]),g=Object(o.useMemo)((function(){return s.map((function(e){var n;return{text:null!=(n=t(e._name))?n:e.name}}))}),[s,t]);return s.length?Object(h.jsx)(O.default,{px:"8",buttons:g,selectedIndex:b,onButtonPress:m,bg:"background-default"}):null},v=n(41),y=n(471),w=n(64),k=n(175),_=n(818),C=n(301),S=function(){return Object(h.jsx)(r.default,{h:"3"})},I=function(e){var t=e.offset,n=Object(C.default)().width-270-48+(null!=t?t:0),a=Math.floor(n/250),i=n/a,c=Object(o.useMemo)((function(){return[1,2,3,4,5,6,7,8]}),[]),l=Object(o.useCallback)((function(){return Object(h.jsx)(r.default,{width:i,maxWidth:i,minWidth:i,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(h.jsxs)(w.default,{bgColor:"surface-default",flexDirection:"column",borderRadius:"12px",padding:"4",width:i-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",children:[Object(h.jsxs)(r.default,{flexDirection:"row",mb:"3",children:[Object(h.jsx)(r.default,{w:"12",h:"12",overflow:"hidden",borderRadius:12,children:Object(h.jsx)(_.default,{})}),Object(h.jsxs)(r.default,{ml:"3",children:[Object(h.jsx)(k.default,{shape:"Body1"}),Object(h.jsx)(k.default,{shape:"Caption"})]})]}),Object(h.jsx)(r.default,{h:"4",w:"full",mb:"2",borderRadius:8,overflow:"hidden",children:Object(h.jsx)(_.default,{})}),Object(h.jsx)(r.default,{h:"3",w:"80%",borderRadius:6,overflow:"hidden",children:Object(h.jsx)(_.default,{})})]})})}),[i]),s=Object(o.useMemo)((function(){return Object(h.jsx)(y.default,{paddingLeft:"24px",data:c,renderItem:l,numColumns:a,removeClippedSubviews:!0,windowSize:5,showsHorizontalScrollIndicator:!1,keyExtractor:function(e){return""+e},ItemSeparatorComponent:S},"key"+a)}),[c,a,l]);return Object(h.jsx)(r.default,{width:"100%",children:s})},P=function(){return Object(h.jsx)(r.default,{h:"8"})},M=function(e){var t=e.ListHeaderComponent,n=e.offset;return Object(h.jsx)(y.default,{contentContainerStyle:{paddingBottom:24,paddingTop:24},data:[1,2,3,4],ListHeaderComponent:t,renderItem:function(){return Object(h.jsx)(I,{offset:n})},keyExtractor:function(e){return String(e)},ItemSeparatorComponent:P})},A=function(){return Object(h.jsx)(v.default,{px:"4",my:"4",space:3,children:[1,2,3,4].map((function(e){return Object(h.jsx)(r.default,{h:"7",w:"12",borderRadius:12,overflow:"hidden",children:Object(h.jsx)(_.default,{})},e)}))})},T=function(e){var t=e.offset;return Object(h.jsx)(M,{offset:t,ListHeaderComponent:A})},D=n(662),R=n(51),E=n(27),B=n(3999),N=n(4548),L=function(e){return Object(h.jsx)(E.default.DisplayXLarge,{color:"text-success",children:e})},W=function(){var e=Object(f.default)(),t=Object(o.useState)(""),n=x()(t,2),a=n[0],i=n[1],c=Object(o.useCallback)((function(){a&&Object(B.gotoSite)({url:a,userTriggered:!0})}),[a]);return Object(h.jsx)(R.default,{children:Object(h.jsxs)(r.default,{width:"640px",children:[Object(h.jsx)(R.default,{mx:"4",mt:"8",mb:"6",children:Object(h.jsx)(E.default.DisplayXLarge,{children:e.formatMessage({id:"title__explore_web_3_world_with_onekey"},{a:L})})}),Object(h.jsx)(R.default,{children:Object(h.jsx)(D.default,{size:"xl",w:"full",placeholder:e.formatMessage({id:"content__search_dapps_or_type_url"}),value:a,onChangeText:i,onSubmitEditing:c})}),Object(h.jsx)(R.default,{children:Object(h.jsx)(r.default,{w:"360px",children:Object(h.jsx)(N.BrowserShortcuts,{})})})]})})};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=b.default.create({container:{paddingBottom:12,paddingTop:12}}),U=function(){return Object(j.useAppSelector)((function(e){return e.discover.home}))?Object(h.jsxs)(r.default,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(r.default,{mt:"8",children:Object(h.jsx)(g,{})})]}):null},V=function(){return Object(j.useAppSelector)((function(e){return e.discover.home}))?Object(h.jsx)(u.default,{title:""}):Object(h.jsx)(T,{})},G=function(){var e=Object(f.default)(),t=Object(d.useNavigation)(),n=Object(a.useTaggedDapps)(),l=Object(o.useContext)(i.DiscoverContext).onItemSelect,s=Object(o.useMemo)((function(){return n.map((function(e){return{title:e.label,data:e.items,tagId:e.id,_title:e._label}}))}),[n]);return Object(o.useLayoutEffect)((function(){0}),[t,e]),0===n.length?Object(h.jsx)(V,{}):Object(h.jsx)(r.default,{flex:"1",bg:"background-default",children:Object(h.jsxs)(c.default,{contentContainerStyle:F.container,children:[Object(h.jsx)(U,{}),s.map((function(e){return Object(h.jsx)(p.default,z(z({},e),{},{onItemSelect:l}),e.title)}))]})})},q=n(100),K=n(106),Z=n(121),X=n(4532),Y=n.n(X),Q=n(4011),J=n(3941),$=n(3982),ee=Object(o.createContext)({selectedNetworkId:"",setSelectedNetworkId:function(){}}),te=function(e){var t=e.logoURI,n=e.networkId,a=Object(o.useContext)(ee),i=a.selectedNetworkId,c=a.setSelectedNetworkId,l=i===n;return Object(h.jsx)(w.default,{onPress:function(){c(n)},children:function(e){var n=e.isHovered,o=e.isPressed;return Object(h.jsx)(r.default,{p:1.5,m:1,borderWidth:2,borderColor:l?"interactive-default":o?"border-default":n?"border-subdued":"transparent",rounded:"full",children:t?Object(h.jsx)(Z.default,{size:8,token:{logoURI:t}}):Object(h.jsx)(K.default,{size:8,source:Y.a})})}})},ne=function(e){var t=e.networkIds,n=Object(j.useAppSelector)((function(e){return e.runtime.networks})),r=Object(o.useMemo)((function(){var e=n.filter((function(e){return t.includes(e.id)})).map((function(e){return{logoURI:e.logoURI,networkId:e.id}}));return[{networkId:""}].concat(e)}),[n,t]),a=Object(o.useCallback)((function(e){var t=e.item;return Object(h.jsx)(te,{logoURI:t.logoURI,networkId:t.networkId})}),[]);return Object(h.jsx)(y.default,{data:r,renderItem:a,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e.networkId}})},re=function(){return Object(h.jsx)(M,{offset:-120})},oe=function(e){var t=e.dapps,n=Object(o.useContext)(ee).selectedNetworkId,a=Object(j.useTranslation)(),c=Object(o.useContext)(i.DiscoverContext).onItemSelect,l=Object(C.default)().width-256-72-24-80,s=Math.floor(l/250),u=l/s,d=Object(o.useCallback)((function(e){var t,n=e.item;return Object(h.jsx)($.default,{url:n.url,hoverButtonProps:{right:"20px",top:"20px",iconSize:20},children:Object(h.jsx)(r.default,{width:u,maxWidth:u,minWidth:u,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(h.jsxs)(w.default,{flexDirection:"column",borderRadius:"12px",padding:"4",width:u-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",onPress:function(){c&&c(n)},children:[Object(h.jsxs)(r.default,{flexDirection:"row",children:[Object(h.jsx)(J.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(h.jsxs)(r.default,{ml:"3",flex:"1",children:[Object(h.jsx)(E.default.Body2Strong,{numberOfLines:1,mb:"1",flex:"1",children:n.name}),Object(h.jsx)(Q.Chains,{networkIds:n.networkIds})]})]}),Object(h.jsx)(E.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:null!=(t=a(n._subtitle))?t:n.subtitle})]})})})}),[u,c,a]),f=Object(o.useMemo)((function(){return n?t.filter((function(e){return e.networkIds.includes(n)})):t}),[n,t]);return Object(h.jsx)(y.default,{paddingLeft:"24px",paddingRight:"24px",data:f,removeClippedSubviews:!0,windowSize:5,showsHorizontalScrollIndicator:!1,renderItem:d,numColumns:s,keyExtractor:function(e){return e._id},ListEmptyComponent:re},"key"+s)};function ae(){var e=Object(o.useContext)(i.DiscoverContext).categoryId,t=Object(a.useCategoryDapps)(e),n=Object(o.useMemo)((function(){var e=t.reduce((function(e,t){return e.concat(t.networkIds)}),[]);return Array.from(new Set(e))}),[t]);return Object(h.jsxs)(r.default,{flex:"1",bg:"background-default",pt:"3",children:[Object(h.jsx)(r.default,{h:"9",children:Object(h.jsx)(g,{})}),Object(h.jsxs)(r.default,{flex:"1",flexDirection:"row",mt:"4",children:[Object(h.jsx)(r.default,{pl:"4",pr:"2",children:Object(h.jsx)(ne,{networkIds:n})}),Object(h.jsx)(q.default,{orientation:"vertical"}),Object(h.jsx)(r.default,{flex:"1",children:Object(h.jsx)(oe,{dapps:t})})]})]})}var ie=function(){var e=Object(o.useContext)(i.DiscoverContext).categoryId,t=Object(o.useState)(""),n=x()(t,2),r=n[0],a=n[1];Object(o.useEffect)((function(){a("")}),[e]);var c=Object(o.useMemo)((function(){return{selectedNetworkId:r,setSelectedNetworkId:a}}),[r]);return Object(h.jsx)(ee.Provider,{value:c,children:Object(h.jsx)(ae,{})})},ce=function(){var e=Object(f.default)(),t=Object(d.useNavigation)();return Object(o.useLayoutEffect)((function(){0}),[t,e]),Object(h.jsx)(r.default,{flex:"1",background:"background-default",children:Object(h.jsx)(W,{})})},le=function(){var e=Object(o.useContext)(i.DiscoverContext).categoryId;return Object(h.jsx)(r.default,{flex:"1",bg:"background-default",children:e?Object(h.jsx)(ie,{}):Object(h.jsx)(G,{})})},se=function(){return Object(h.jsx)(r.default,{flex:"1",bg:"background-default",children:Object(h.jsx)(ce,{})})},ue=function(){return Object(a.useShowBookmark)()?Object(h.jsx)(le,{}):Object(h.jsx)(se,{})}},4548:function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserShortcuts",(function(){return w}));var r=n(3928),o=n(64),a=n(12),i=n(27),c=n(40),l=n(51),s=n(1),u=n(88),d=(n(24),n(25)),f=n(111),b=n(16),j=n(4037),p=n(4531),O=(n(3994),n(3967)),m=n(747),x=n(17),h=n(0),g=function(e){var t=e.logoURL,n=e.url,r=e.isHovered;return Object(s.useEffect)((function(){!t&&n&&x.default.serviceDiscover.updateUserBrowserHistoryLogo({url:n})}),[]),Object(h.jsx)(a.default,{justifyContent:"center",alignItems:"center",width:"12",height:"12",borderRadius:12,borderWidth:"1px",bgColor:r?"surface-hovered":"surface-subdued",borderColor:r?"border-hovered":"border-subdued",children:Object(h.jsx)(a.default,{width:"8",height:"8",children:t?Object(h.jsx)(m.default,{src:t,width:"32px",height:"32px",borderRadius:"8px",fallbackElement:Object(h.jsx)(a.default,{borderRadius:8,overflow:"hidden",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",children:Object(h.jsx)(c.default,{size:16,name:"GlobeAltMini"})})}):Object(h.jsx)(a.default,{borderRadius:8,justifyContent:"center",alignItems:"center",width:"32px",height:"32px",children:Object(h.jsx)(c.default,{size:16,name:"GlobeAltMini"})})})})},v=function(e){var t,n,r,c,l,u,d=e.item,f=Object(s.useContext)(O.DiscoverContext).onItemSelectHistory,b=(null==(t=d.dapp)?void 0:t.logoURL)||(null==(n=d.webSite)?void 0:n.favicon)||"",j=(null==(r=d.dapp)?void 0:r.name)||(null==(c=d.webSite)?void 0:c.title)||"",p=(null==(l=d.dapp)?void 0:l.url)||(null==(u=d.webSite)?void 0:u.url)||"",m=Object(s.useCallback)((function(){f({id:d.id,webSite:{title:j,url:p,favicon:b}})}),[f,j,p,b,d]);return Object(h.jsx)(o.default,{onPress:m,children:function(e){var t=e.isPressed,n=e.isHovered;return Object(h.jsxs)(a.default,{py:"2",borderRadius:12,justifyContent:"center",alignItems:"center",children:[Object(h.jsx)(g,{logoURL:b,url:p,isHovered:n||t}),Object(h.jsx)(i.default.Caption,{w:"16",mt:"2",numberOfLines:2,textAlign:"center",noOfLines:2,children:null!=j?j:"Unknown"})]})}})},y=function(e){var t=e.histories,n=Object(u.default)(),r=Object(d.useNavigation)(),m=Object(s.useContext)(O.DiscoverContext).onItemSelectHistory,x=Object(s.useMemo)((function(){return t.slice(0,4)}),[t]),g=Object(s.useCallback)((function(e){r.navigate(b.HomeRoutes.MyDAppListScreen,{onItemSelect:m,defaultIndex:"Favorites"===e?0:1})}),[r,m]),y=Object(s.useCallback)((function(){g("Favorites")}),[g]),w=Object(s.useCallback)((function(){g("History")}),[g]),k=Object(s.useCallback)((function(){Object(f.getAppNavigation)().navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.GasPanel,params:{screen:j.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[]);return Object(h.jsxs)(a.default,{w:"full",flexDirection:"row",mt:"8",flexWrap:"wrap",alignItems:"flex-start",children:[Object(h.jsx)(l.default,{flexDirection:"row",alignItems:"flex-start",w:"full",children:x.slice(0,4).map((function(e){return Object(h.jsx)(l.default,{w:"72px",mb:"4",children:Object(h.jsx)(v,{item:e})},e.id)}))}),Object(h.jsxs)(l.default,{flexDirection:"row",alignItems:"flex-start",w:"full",children:[Object(h.jsx)(l.default,{w:"72px",mb:"4",children:Object(h.jsxs)(o.default,{alignItems:"center",onPress:y,children:[Object(h.jsx)(l.default,{w:"12",h:"12",borderRadius:12,borderColor:"border-subdued",borderWidth:.5,bg:"surface-subdued",children:Object(h.jsx)(c.default,{name:"StarMini"})}),Object(h.jsx)(a.default,{mt:"2",children:Object(h.jsx)(i.default.Caption,{children:n.formatMessage({id:"title__favorite"})})})]})}),Object(h.jsx)(l.default,{w:"72px",mb:"4",children:Object(h.jsxs)(o.default,{alignItems:"center",onPress:w,children:[Object(h.jsx)(l.default,{w:"12",h:"12",borderRadius:12,borderColor:"border-subdued",borderWidth:.5,bg:"surface-subdued",children:Object(h.jsx)(c.default,{name:"ClockMini"})}),Object(h.jsx)(a.default,{mt:"2",children:Object(h.jsx)(i.default.Caption,{children:n.formatMessage({id:"transaction__history"})})})]})}),Object(h.jsx)(l.default,{w:"72px",mb:"4",children:Object(h.jsxs)(o.default,{alignItems:"center",onPress:k,children:[Object(h.jsx)(p.GasPrice,{}),Object(h.jsx)(a.default,{mt:"2",children:Object(h.jsx)(i.default.Caption,{children:"\ud83d\udd25Gas"})})]})})]})]})},w=function(){var e=Object(r.useUserBrowserHistories)();return Object(h.jsx)(y,{histories:e})}},5245:function(e,t,n){"use strict";n.r(t),n.d(t,"Unknown",(function(){return b}));var r,o,a=n(3),i=n.n(a),c=n(50),l=n(195),s=n.n(l),u=n(0);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=Object.assign({},(s()(e),e)),a=Object(c.default)();return a&&!r?r=n(5246).Mobile:a||o||(o=n(5247).Desktop),a?Object(u.jsx)(r,f({},t)):Object(u.jsx)(o,f({},t))}},5246:function(e,t,n){"use strict";n.r(t),n.d(t,"Mobile",(function(){return O}));var r=n(314),o=n(4),a=n.n(o),i=n(64),c=n(12),l=n(27),s=n(25),u=n(3941),d=n(3982),f=n(4530),b=n(0),j=function(e){var t,n=e.item,r=e.onItemSelect,o=e.mt,a=Object(s.useTranslation)();return Object(b.jsx)(d.default,{url:n.url,hoverButtonProps:{right:"4px",bottom:"30px"},children:Object(b.jsxs)(i.default,{w:"260px",ml:"4",borderRadius:"12px",alignItems:"center",flexDirection:"row",onPress:function(){null==r||r(n)},mt:o,children:[Object(b.jsx)(u.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(b.jsxs)(c.default,{flex:1,ml:"2",children:[Object(b.jsx)(l.default.Body2Strong,{numberOfLines:1,children:n.name}),Object(b.jsx)(l.default.Caption,{numberOfLines:1,mt:"1",color:"text-subdued",overflow:"hidden",children:null!=(t=a(n._subtitle))?t:n.subtitle})]})]})})},p=function(e){var t=a()(e.items,2),n=t[0],r=t[1],o=e.onItemSelect;return Object(b.jsxs)(c.default,{children:[n?Object(b.jsx)(j,{item:n,onItemSelect:o}):null,r?Object(b.jsx)(j,{item:r,onItemSelect:o,mt:"5"}):null]})},O=function(e){var t=e.title,n=e.data,o=e.tagId,a=e._title,i=e.onItemSelect,l=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}(n);return Object(b.jsxs)(c.default,{width:"100%",mt:"8",children:[Object(b.jsx)(f.SectionTitle,{tagId:o,title:t,_title:a,onItemSelect:i}),Object(b.jsx)(r.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:l.map((function(e,t){return Object(b.jsx)(p,{items:e,onItemSelect:i},t)}))})]})}},5247:function(e,t,n){"use strict";n.r(t),n.d(t,"Desktop",(function(){return x}));var r=n(1132),o=n.n(r),a=n(64),i=n(12),c=n(27),l=n(301),s=n(25),u=n(4011),d=n(3941),f=n(3982),b=n(4530),j=n(0),p=function(e){var t,n=e.item,r=e.cardWidth,o=e.onItemSelect,l=Object(s.useTranslation)();return Object(j.jsx)(f.default,{url:n.url,hoverButtonProps:{right:"20px",top:"20px",iconSize:20},children:Object(j.jsx)(i.default,{width:r,maxWidth:r,minWidth:r,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:Object(j.jsxs)(a.default,{flexDirection:"column",borderRadius:"12px",padding:"4",width:r-16,height:128,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",onPress:function(){null==o||o(n)},children:[Object(j.jsxs)(i.default,{flexDirection:"row",children:[Object(j.jsx)(d.default,{size:48,url:n.logoURL,networkIds:n.networkIds}),Object(j.jsxs)(i.default,{ml:"3",flex:"1",children:[Object(j.jsx)(c.default.Body2Strong,{numberOfLines:1,mb:"1",flex:"1",children:n.name}),Object(j.jsx)(u.Chains,{networkIds:n.networkIds})]})]}),Object(j.jsx)(c.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:null!=(t=l(n._subtitle))?t:n.subtitle})]})})})},O=function(e){var t=e.items,n=e.cardWidth,r=e.onItemSelect;return Object(j.jsx)(i.default,{flexDirection:"row",alignItems:"center",children:t.map((function(e){return Object(j.jsx)(p,{item:e,cardWidth:n,onItemSelect:r},e._id)}))})},m=function(e){var t=e.width,n=e.data,r=e.onItemSelect,a=t-270-48,c=Math.floor(a/250),l=a/c,s=n.slice(0,8),u=o()(s,c).map((function(e){return{key:e[0]._id,items:e}}));return Object(j.jsx)(i.default,{pl:"6",children:null==u?void 0:u.map((function(e){return Object(j.jsx)(O,{items:e.items,onItemSelect:r,cardWidth:l},e.key)}))})},x=function(e){var t=e.title,n=e._title,r=e.data,o=e.onItemSelect,a=e.tagId,c=Object(l.default)().width,u=Object(s.useDebounce)(c,1e3);return Object(j.jsxs)(i.default,{w:"100%",mt:"8",children:[Object(j.jsx)(b.SectionTitle,{title:t,_title:n,tagId:a,onItemSelect:o}),Object(j.jsx)(m,{data:r,onItemSelect:o,width:u})]})}},5248:function(e,t,n){e.exports=n.p+"static/media/dapp_favicon.79b7c17c.png"},5257:function(e,t,n){e.exports=n.p+"static/media/nft_pnl_empty_image.829dbd23.png"},5258:function(e,t,n){e.exports=n.p+"static/media/nft_pnl_empty_image_light.bf388bb9.png"},5260:function(e){e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"\u5408\u6210 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"\u4fee\u526a\u8def\u5f84 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"ef":[{"ty":26,"nm":"\u5f84\u5411\u64e6\u9664","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"\u8fc7\u6e21\u5b8c\u6210","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"\u8d77\u59cb\u89d2\u5ea6","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"\u64e6\u9664\u4e2d\u5fc3","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"\u64e6\u9664","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"\u7fbd\u5316","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')},5261:function(e){e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"\u5408\u6210 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"\u4fee\u526a\u8def\u5f84 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.83137254902,0.83137254902,0.866666666667,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"ef":[{"ty":26,"nm":"\u5f84\u5411\u64e6\u9664","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"\u8fc7\u6e21\u5b8c\u6210","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"\u8d77\u59cb\u89d2\u5ea6","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"\u64e6\u9664\u4e2d\u5fc3","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"\u64e6\u9664","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"\u7fbd\u5316","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')},5262:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"OneKeyPerfTraceLog",(function(){return a}));var r=n(1),o={};function a(t){var n=t.name,a=t.once,i=void 0===a||a,c=Object(r.useCallback)((function(){var t;null==(t=e.$$onekeyPerfTrace)||t.log({name:n})}),[n]);return n&&(i&&!o[n]&&(c(),o[n]=!0),i||c()),null}}.call(this,n(58))},5263:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"DevSettingSection",(function(){return T}));var r=n(2),o=n.n(r),a=n(331),i=n(41),c=n(54),l=n(64),s=n(20),u=n(486),d=n(353),f=n(12),b=n(27),j=n(48),p=n(1584),O=n(1),m=n(88),x=n(108),h=n(235),g=n(118),v=n(17),y=n(45),w=n(86),k=n(104),_=n(24),C=n(1594),S=n(239),I=n(5264),P=n(0),M={};var A=Object.freeze({}),T=function(){var t,n,r=Object(p.default)().themeVariant,T=Object(y.useSettings)(),D=T.devMode,R=T.pushNotification,E=T.instanceId,B=null==R?void 0:R.registrationId,N=D||A,L=N.enable,W=N.preReleaseUpdate,H=N.updateDeviceBle,z=N.updateDeviceSys,F=N.updateDeviceRes,U=N.enableTestFiatEndpoint,V=N.enableZeroNotificationThreshold,G=N.enablePerfCheck,q=N.defiBuildService,K=N.hideDiscoverContent,Z=N.onRamperTestMode,X=N.showWebEmbedWebviewAgent,Y=N.showContentScriptReloadButton,Q=v.default.dispatch,J=Object(m.default)();!function(e){var t=e.enablePerfCheck;Object(O.useEffect)((function(){if(t&&_.default.isRuntimeBrowser){var e=function(e){var t,n=e.detail,r=(null==n?void 0:n.testID)||[null==n?void 0:n.componentName,null==n||null==(t=n.flatListInfo)?void 0:t.cellKey].filter(Boolean).join("--");r&&n&&(M[r]=n)};return window.addEventListener("OneKeyEventPerfCheck",e),function(){window.removeEventListener("OneKeyEventPerfCheck",e)}}}),[t])}({enablePerfCheck:G});var $=Object(O.useMemo)((function(){return E}),[B,E]),ee=Object(O.useCallback)((function(){Q(Object(w.setPreReleaseUpdate)(!W))}),[W,Q]),te=Object(O.useCallback)((function(){Q(Object(w.setDevMode)(!L))}),[L,Q]),ne=Object(O.useCallback)((function(){Object(h.copyToClipboard)($||""),j.default.show({title:J.formatMessage({id:"msg__copied"})})}),[J,$]),re=Object(O.useMemo)(g.getFiatEndpoint,[U]);return Object(P.jsxs)(f.default,{w:"full",mb:"6",children:[Object(P.jsx)(f.default,{pb:"2",children:Object(P.jsx)(b.default.Subheading,{color:"text-critical",children:J.formatMessage({id:"form__dev_mode"})})}),Object(P.jsxs)(u.default.Box,{borderWidth:"light"===r?1:void 0,borderColor:"border-critical-default",borderRadius:"12",bg:"surface-default",children:[Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"form__dev_mode"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:L,onToggle:te})}),Object(P.jsx)(u.default.Item,{title:"Build Hash",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(s.default,{color:"text-subdued",children:Object(x.shortenAddress)("8eb98dab42c5099e7221f1b6708c71aa93f5bb73")})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"form__dev_pre_update"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:W,onToggle:ee})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_update_ble_firmware"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:H,onToggle:function(){Q(Object(w.setUpdateDeviceBle)(!H))}})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_update_firmware"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:z,onToggle:function(){Q(Object(w.setUpdateDeviceSys)(!z))}})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_update_resource"}),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:F,onToggle:function(){Q(Object(w.setUpdateDeviceRes)(!F))}})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"action__test_onekey_service"}),subDescribe:"\u8303\u56f4: \n[token\u3001\u4ef7\u683c\u3001\u4f59\u989d\u3001\u63a8\u9001\u3001\u5386\u53f2\u8bb0\u5f55] \n "+re+"\n "+Object(g.getSocketEndpoint)()+" \n "+Object(g.getCovalentApiEndpoint)(),titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:U,onToggle:function(){Q(Object(w.setEnableTestFiatEndpoint)(!U))}})}),Object(P.jsx)(u.default.Item,{title:"\u5141\u8bb8\u63a8\u9001\u9608\u503c\u8bbe\u7f6e\u4e3a0",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:!!V,onToggle:function(){Q(Object(w.setEnableZeroNotificationThreshold)(!V))}})}),Object(P.jsx)(u.default.Item,{title:"registrationId",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(l.default,{onPress:ne,children:Object(P.jsx)(s.default,{color:"text-subdued",children:Object(x.shortenAddress)($||"")})})}),Object(P.jsx)(u.default.Item,{title:J.formatMessage({id:"form__dev_platform_channel"}),titleColor:"text-critical",subDescribe:[(null!=(t=_.default.symbol)?t:"")+" / "+(null!=(n=_.default.distributionChannel)?n:"")]}),Object(P.jsx)(u.default.Item,{title:"Perf Check",titleColor:"text-critical",children:Object(P.jsxs)(i.default,{space:4,children:[Object(P.jsx)(c.default,{size:"xs",onPress:function(){var t,n=k.default.getTimelineData();Object(h.copyToClipboard)(JSON.stringify({$$onekeyPerfTrace:null==(t=e)?void 0:t.$$onekeyPerfTrace,perfCheckResult:M,timelinePerfTraceData:n})),j.default.show({title:J.formatMessage({id:"msg__copied"})})},children:"Export"}),Object(P.jsx)(d.default,{labelType:"false",isChecked:!!G,onToggle:function(){Q(Object(w.setEnablePerfCheck)(!G))}})]})}),Object(P.jsx)(u.default.Item,{title:"All-Chain Send",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(C.NetworkAccountSelectorTrigger,{mode:S.EAccountSelectorMode.Transfer})}),Object(P.jsx)(u.default.Item,{title:"Overview build by service",titleColor:"text-critical",subDescribeCustom:Object(P.jsx)(a.default,{isTriggerPlain:!0,headerShown:!1,footer:null,containerProps:{style:{minWidth:100}},onChange:function(e){Q(Object(w.setOverviewDefiBuildByService)(e))},value:q||"all",options:["all","3","5","6","9","12"].map((function(e){return{label:e,value:e}}))})}),Object(P.jsx)(u.default.Item,{title:"Hidden Discover Content",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:K,onToggle:function(){Q(Object(w.setHideDiscoverContent)(!K))}})}),Object(P.jsx)(u.default.Item,{title:"Enable OnRamper Test Mode",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:Z,onToggle:function(){Q(Object(w.setOnRamperTestMode)(!Z))}})}),Object(P.jsx)(u.default.Item,{title:"Show WebEmbed Webview Agent",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:X,onToggle:function(){Q(Object(w.setShowWebEmbedWebviewAgent)(!X))}})}),Object(P.jsx)(u.default.Item,{title:"Show content-script reload BUTTON",titleColor:"text-critical",children:Object(P.jsx)(d.default,{labelType:"false",isChecked:Y,onToggle:function(){Q(Object(w.setShowContentScriptReloadButton)(!Y))}})}),Object(P.jsx)(u.default.Item,{title:"Request intercept check",titleColor:"text-critical",children:Object(P.jsx)(c.default,{size:"xs",onPress:o()((function*(){(yield Object(I.requestsInterceptTest)()).failed.length?j.default.show({title:"failed, please check console log"},{type:"error"}):j.default.show({title:"success"})})),children:"Intercept Test"})})]})]})}}.call(this,n(58))},5264:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"requestsInterceptTest2",(function(){return v})),n.d(t,"requestsInterceptTest",(function(){return w}));var r=n(340),o=n.n(r),a=n(13),i=n.n(a),c=n(2),l=n.n(c),s=n(107),u=n.n(s),d=n(532),f=n.n(d),b=n(1097),j=n.n(b),p="https://node.onekeytest.com/health";function O(e){return m.apply(this,arguments)}function m(){return(m=l()((function*(e){var t=e.name,n=e.doRequest,r=yield n({url:"https://node.onekeytest.com/health?name="+t}),o={"x-request-by":null==r?void 0:r.requestMeta.headers["x-request-by"]};return{name:t,isOk:!!o["x-request-by"],res:{headers:o}}}))).apply(this,arguments)}function x(e){var t=e.type,n=e.instance;return[O({name:t+"__axios.get",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.get(t)).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.post",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.post(t)).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.request",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.request(t)).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.request2",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.request({url:t})).data}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__axios.request(post)",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.request({url:t,method:"post"})).data}));return function(t){return e.apply(this,arguments)}}()})]}function h(e){var t=e.type,n=e.instance;return[O({name:t+"__fetch-(get)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(t);return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__fetch-(post)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(t,{method:"post"});return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__fetch2-(get)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(new Request(t));return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__fetch2-(post)",doRequest:function(){var e=l()((function*(e){var t=e.url,r=yield n(new Request(t,{method:"post"}));return yield r.json()}));return function(t){return e.apply(this,arguments)}}()})]}function g(e){var t=e.type,n=e.instance;return[O({name:t+"__superagent.get",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.get(t)).body}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__superagent.post",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n.post(t)).body}));return function(t){return e.apply(this,arguments)}}()})].concat(i()(o()(n)?[O({name:t+"__superagent(GET,url)",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n("GET",t)).body}));return function(t){return e.apply(this,arguments)}}()}),O({name:t+"__superagent(POST,url)",doRequest:function(){var e=l()((function*(e){var t=e.url;return(yield n("POST",t)).body}));return function(t){return e.apply(this,arguments)}}()})]:[]))}function v(){return y.apply(this,arguments)}function y(){return(y=l()((function*(){try{return(yield u.a.get(p)).data}catch(e){}}))).apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return(k=l()((function*(){var t=yield Promise.all([].concat(i()(x({type:"axios-singleton",instance:u.a})),i()(x({type:"axios.create()",instance:u.a.create()})),i()(h({type:"global.fetch",instance:e.fetch})),i()(h({type:"cross-fetch",instance:f.a})),i()(g({type:"superagent-singleton",instance:j.a})),i()(g({type:"superagent.agent()",instance:j.a.agent()}))));return{success:t.filter((function(e){return e.isOk})),failed:t.filter((function(e){return!e.isOk}))}}))).apply(this,arguments)}}.call(this,n(58))},5265:function(e,t,n){e.exports=n.p+"static/media/aptos_martian.dd5b922f.png"},5266:function(e,t,n){e.exports=n.p+"static/media/aptos_petra.d4714ff0.png"},5267:function(e,t,n){e.exports=n.p+"static/media/cardano_nami.140c2ac2.png"},5268:function(e,t,n){e.exports=n.p+"static/media/conflux_fluent_wallet.cd92ec97.png"},5269:function(e,t,n){e.exports=n.p+"static/media/cosmos_keplr.195006d9.png"},5270:function(e,t,n){e.exports=n.p+"static/media/evm_metamask.1303c551.png"},5271:function(e,t,n){e.exports=n.p+"static/media/polkadot_polkadot_js.589a5ff6.png"},5272:function(e,t,n){e.exports=n.p+"static/media/solana_phantom.6c01f5ac.png"},5273:function(e,t,n){e.exports=n.p+"static/media/starcoin_starmask.a72e9185.png"},5274:function(e,t,n){e.exports=n.p+"static/media/sui_sui_wallet.a00ad119.png"},5275:function(e,t,n){e.exports=n.p+"static/media/tron_tronlink.c03ba81e.png"},5276:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAXVBMVEUAAACIiIiHh4eJiYmJiYmJiYmHh4eJiYmIiIiAgICIiIiHh4eJiYmIiIiHh4ePj4+IiIgAAABERESAgIBmZmZVVVV3d3cRERFdXV0iIiIaGhpubm5MTEw7OzszMzMlTVMMAAAAEHRSTlMA34Dvr3BAz58QvyB/z6AQLJ3m/wAAAPtJREFUOMt901mOgzAQBNAyXoBAkjYmELa5/zHHgmhckIH3h1xG1WoZf5wt7koidTeZw0FZa9lRRQVitXyr0/Wb/MuU2Bg5ccOqllMWUSVJG3WS6DIGCjr3USMkiwGVPn++AhpwkoRuXgPEIRP2OgYszHWgQH4dyKGuAwqyE7ouyA6EtUPfD6/zQONXzSHABcZ57r1/S8IlR99LNPiBSvKYn6tv7wON+UgTfAItBwws/2HZVtbzOt1uiGbqlt0YDtDccjVyR/A6w+KjJvCugKcWMk1BSIXIyqkMq5ucMNg8zcmzKLGhokRbkOqhDsdZiQOXmXx7/nlh0/P/BZPzNqaZgMwaAAAAAElFTkSuQmCC"},5277:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMmSURBVHgBxZdNTBNBFIDf7C5KtSUlRBMkEKoJAWzSNSR68GCNNfFY41kjZw9w80h70iMc9OoPd6k3E4j2qtFYgvxoDCAJNkEMDRSpurvPebNss7VtmF1b+ZLJ7MzszLyZ9+bNGwYSJBajcUBFRzRjCmM6AAsjYK/7HwZsFQALCLAKCLOgQHZm4EP2oLFZvYbkih4ulowRQDbKBw6DD4RQCFlVUdMvBnKrtf+pwdWl6AhaLOV34jrSpPiOpKurXYhV7xlT/DMOzSETDGjDmUiu4FQo7tbinvmoiZMTyf0FQpUA3NDG+JYnofnEEwtnR52CUMG1Rb3XQGNFdoStN7sV5UDXEWjtagEPFLgqIqQKjUqmZY7VPw/Vk7+7XSnr6TsnRfJAuPjDoF1I2Spg8nrPPy9AQ2AwIjLbycAr2X7GjgXGtgnfXm7Dx3t5UedjBxwhLmtg8dVLbj+hhRSR1JAC/wyizkdhMTgkkEGMC1Dp0/8nCjKd3y2sce7WMyzMEgtRBB84xkhobaqwCz9o4APyBcsPN2Bv/ZcokyM6lWyHzqT3zfQswPKDDZHclNZ/C6FIIK/H0ZMA+UyhPHmoP8BXba94bfK7mJzaQv2tcOJKm/SYih3JyLE2uSly2vILz85A960OkS5O90H7+eNlYWShuRVElPatO4slkffd7axq67nZIXJShbFjghxYoGM4K/PrQYNqIRW8whf/RUGwcjI/0wQtbfYkW293q9qdS4rUIy8MyynAmJQARPf+Nq893RQGRyqhE/Dpfh6+Tm2JNk9HkUfO4hrizoh6S/V8feNz2Rb+hk4GGacMZIDTg3MR230hTIAkQ48j0MMt31EHQd90/oeeREAaBlk748Tf62HtqAjJPLmy4pK9E61C795csca0CL0VRK/sOQqTlTR4JMidDiXP9wBC+aFSEYpwW6DIKA5NhWVmBueuO6UK0Y2fGjVkoHlkgwF12F1RMxhLzEdTvGUMGgbjKrbSM4Pz41Ut9brQW8FEM8U/L6HvqIlPjDgRPKaNu59jUgK4EZGzHbzGuAH1UhRV63lO9wqvzzGmzgKzcjLP8z+L/Cy1PByZMQAAAABJRU5ErkJggg=="},5300:function(e,t,n){"use strict";n.r(t),n.d(t,"Mobile",(function(){return re}));var r=n(12),o=n(1),a=n(3967),i=n(471),c=n(3),l=n.n(c),s=n(4),u=n.n(s),d=n(201),f=n(44),b=n(88),j=n(29),p=(n(24),n(25)),O=n(3928),m=n(4529),x=n(41),h=n(818),g=n(0),v=function(){return Object(g.jsx)(r.default,{h:"4"})},y=function(e){var t=e.ListHeaderComponent;return Object(g.jsx)(i.default,{contentContainerStyle:{paddingBottom:24,paddingTop:24},ListHeaderComponent:t,data:[1,2,3,4],renderItem:function(){return Object(g.jsxs)(r.default,{px:"4",w:"full",flexDirection:"row",alignItems:"center",children:[Object(g.jsx)(r.default,{mr:"3",children:Object(g.jsx)(r.default,{w:"12",h:"12",borderRadius:12,overflow:"hidden",children:Object(g.jsx)(h.default,{})})}),Object(g.jsxs)(r.default,{flex:"1",children:[Object(g.jsx)(r.default,{h:"4",borderRadius:8,mb:"3",overflow:"hidden",children:Object(g.jsx)(h.default,{})}),Object(g.jsx)(r.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:Object(g.jsx)(h.default,{})})]})]})},showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return String(e)},ItemSeparatorComponent:v})},w=function(){return Object(g.jsx)(x.default,{px:"4",my:"4",space:3,children:[1,2,3,4].map((function(e){return Object(g.jsx)(r.default,{h:"7",w:"12",borderRadius:12,overflow:"hidden",children:Object(g.jsx)(h.default,{})},e)}))})},k=function(){return Object(g.jsx)(y,{ListHeaderComponent:w})},_=n(27),C=n(64),S=n(40),I=n(1067),P=function(e){var t=e.onSearch,n=Object(b.default)();return Object(g.jsxs)(r.default,{mt:"12px",mx:"4",h:"42px",bg:"action-secondary-default",flexDirection:"row",alignItems:"center",borderColor:"border-default",borderWidth:"1px",borderRadius:"12px",children:[Object(g.jsxs)(C.default,{px:"13px",py:"13px",onPress:t,flex:1,flexDirection:"row",alignItems:"center",children:[Object(g.jsx)(S.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),Object(g.jsx)(_.default.Body2,{flex:1,h:"full",color:"text-subdued",numberOfLines:1,ml:"13px",children:n.formatMessage({id:"content__search_dapps_or_type_url"})})]}),Object(g.jsx)(C.default,{h:"42px",justifyContent:"center",alignItems:"center",px:"15px",onPress:function(){Object(I.gotoScanQrcode)()},children:Object(g.jsx)(S.default,{name:"ViewfinderCircleMini",size:20,color:"icon-subdued"})})]})},M=n(4533),A=n(4548),T=n(4023),D=function(){var e=Object(b.default)(),t=Object(o.useContext)(a.DiscoverContext),n=t.categoryId,r=t.setCategoryId,i=Object(O.useCategories)(),c=Object(p.useTranslation)(),l=Object(o.useMemo)((function(){return i?[{name:e.formatMessage({id:"msg__mine"}),_id:""}].concat(i):[]}),[i,e]),s=Object(o.useState)((function(){return l.findIndex((function(e){return e._id===n}))})),d=u()(s,2),f=d[0],j=d[1],m=Object(o.useCallback)((function(e){var t=l[e]._id;r(t),j(e)}),[l,r]),x=Object(o.useMemo)((function(){return l.map((function(e){var t;return{text:null!=(t=c(e._name))?t:e.name}}),[])}),[l,c]);return l.length?Object(g.jsx)(T.default,{px:"4",buttons:x,selectedIndex:f,onButtonPress:m,bg:"background-default"}):null},R=function(e){return Object(g.jsx)(_.default.DisplayXLarge,{color:"text-success",children:e})},E=function(e){var t=e.showDappCategories,n=Object(b.default)(),o=Object(M.useExplorerSearch)();return Object(g.jsxs)(r.default,{children:[Object(g.jsx)(r.default,{mx:"4",mt:"8",mb:"6",children:Object(g.jsx)(_.default.DisplayXLarge,{children:n.formatMessage({id:"title__explore_web_3_world_with_onekey_multiline"},{a:R})})}),Object(g.jsx)(P,{onSearch:function(){return o({isNewWindow:!0,defaultUrl:""})}}),Object(g.jsx)(A.BrowserShortcuts,{}),t?Object(g.jsx)(r.default,{mt:"8",children:Object(g.jsx)(D,{})}):null]})};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=j.default.create({listContentContainer:{paddingBottom:62,paddingTop:12}}),W=function(){return Object(p.useAppSelector)((function(e){return e.discover.home}))?Object(g.jsx)(d.default,{title:""}):Object(g.jsx)(k,{})},H=function(){return Object(g.jsx)(E,{showDappCategories:!0})},z=function(){var e=Object(b.default)(),t=Object(f.useNavigation)(),n=Object(O.useTaggedDapps)(),c=Object(o.useState)([]),l=u()(c,2),s=l[0],d=l[1],j=Object(o.useState)(10),p=u()(j,2),x=p[0],h=p[1],v=Object(o.useContext)(a.DiscoverContext).onItemSelect,y=Object(o.useMemo)((function(){var e=s.map((function(e){return{title:e.label,data:e.items,tagId:e.id,_title:e._label}}));return x<e.length?e.slice(0,x):e}),[s,x]);Object(o.useEffect)((function(){setTimeout((function(){d(n)}))}),[t,e,n]);var w=Object(o.useCallback)((function(e){var t=e.item;return Object(g.jsx)(m.default,N(N({},t),{},{onItemSelect:v}))}),[v]),k=Object(o.useCallback)((function(){s.length>=x&&h(2*x)}),[s.length,x]);return Object(g.jsx)(r.default,{flex:"1",bg:"background-default",children:Object(g.jsx)(i.default,{contentContainerStyle:L.listContentContainer,data:y,removeClippedSubviews:!0,windowSize:10,renderItem:w,keyExtractor:function(e,t){var n;return""+(null!=(n=e.title)?n:"")+t},ListHeaderComponent:H,ListEmptyComponent:W,showsVerticalScrollIndicator:!1,onEndReached:k,onEndReachedThreshold:.5})})},F=n(100),U=n(106),V=n(121),G=n(4532),q=n.n(G),K=n(3941),Z=n(3982),X=j.default.create({listContentContainer:{paddingBottom:50}}),Y=Object(o.createContext)({selectedNetworkId:"",setSelectedNetworkId:function(){}}),Q=function(e){var t=e.logoURI,n=e.networkId,a=Object(o.useContext)(Y),i=a.selectedNetworkId,c=a.setSelectedNetworkId,l=i===n;return Object(g.jsx)(C.default,{onPress:function(){c(n)},children:function(e){var n=e.isHovered,o=e.isPressed;return Object(g.jsx)(r.default,{p:1.5,m:1,borderWidth:2,borderColor:l?"interactive-default":o?"border-default":n?"border-subdued":"transparent",rounded:"full",children:t?Object(g.jsx)(V.default,{size:8,token:{logoURI:t}}):Object(g.jsx)(U.default,{size:8,source:q.a})})}})},J=function(e){var t=e.networkIds,n=Object(p.useAppSelector)((function(e){return e.runtime.networks})),r=Object(o.useMemo)((function(){var e=n.filter((function(e){return t.includes(e.id)})).map((function(e){return{logoURI:e.logoURI,networkId:e.id}}));return[{networkId:""}].concat(e)}),[n,t]),a=Object(o.useCallback)((function(e){var t=e.item;return Object(g.jsx)(Q,{logoURI:t.logoURI,networkId:t.networkId})}),[]);return Object(g.jsx)(i.default,{contentContainerStyle:X.listContentContainer,data:r,renderItem:a,removeClippedSubviews:!0,windowSize:5,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e.networkId}})},$=function(e){var t,n=e.item,i=Object(o.useContext)(a.DiscoverContext).onItemSelect,c=Object(p.useTranslation)();return Object(g.jsx)(Z.default,{url:n.url,hoverButtonProps:{right:"20px",top:"4px"},children:Object(g.jsxs)(C.default,{flexDirection:"row",px:"4",pb:"4",alignItems:"center",onPress:function(){return null==i?void 0:i(n)},children:[Object(g.jsx)(r.default,{mr:3,children:Object(g.jsx)(K.default,{size:48,url:n.logoURL,networkIds:n.networkIds})}),Object(g.jsxs)(r.default,{flex:1,children:[Object(g.jsx)(_.default.Body2Strong,{numberOfLines:1,children:n.name}),Object(g.jsx)(_.default.Caption,{numberOfLines:1,color:"text-subdued",children:null!=(t=c(n._subtitle))?t:n.subtitle})]})]})})},ee=function(e){var t=e.dapps,n=Object(o.useContext)(Y).selectedNetworkId,r=Object(o.useMemo)((function(){return n?t.filter((function(e){return e.networkIds.includes(n)})):t}),[n,t]),a=Object(o.useCallback)((function(e){var t=e.item;return Object(g.jsx)($,{item:t})}),[]);return Object(g.jsx)(i.default,{contentContainerStyle:X.listContentContainer,data:r,renderItem:a,removeClippedSubviews:!0,windowSize:5,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e._id},ListEmptyComponent:y})};function te(){var e=Object(o.useContext)(a.DiscoverContext).categoryId,t=Object(O.useCategoryDapps)(e),n=Object(o.useMemo)((function(){var e=t.reduce((function(e,t){return e.concat(t.networkIds)}),[]);return Array.from(new Set(e))}),[t]);return Object(g.jsxs)(r.default,{flex:"1",bg:"background-default",pt:"3",children:[Object(g.jsx)(D,{}),Object(g.jsxs)(r.default,{flex:"1",flexDirection:"row",mt:"4",children:[Object(g.jsx)(r.default,{w:"56px",children:Object(g.jsx)(J,{networkIds:n})}),Object(g.jsx)(F.default,{orientation:"vertical"}),Object(g.jsx)(r.default,{flex:"1",children:Object(g.jsx)(ee,{dapps:t})})]})]})}var ne=function(){var e=Object(o.useContext)(a.DiscoverContext).categoryId,t=Object(o.useState)(""),n=u()(t,2),r=n[0],i=n[1];Object(o.useEffect)((function(){i("")}),[e]);var c=Object(o.useMemo)((function(){return{selectedNetworkId:r,setSelectedNetworkId:i}}),[r]);return Object(g.jsx)(Y.Provider,{value:c,children:Object(g.jsx)(te,{})})},re=function(){var e=Object(o.useContext)(a.DiscoverContext).categoryId;return Object(g.jsx)(r.default,{flex:"1",bg:"background-default",children:e?Object(g.jsx)(ne,{}):Object(g.jsx)(z,{})})}},5301:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n(4),a=n.n(o),i=n(299),c=n(1),l=n(4151),s=(n(24),n(4537)),u=n(16),d=n(4533),f=n(4528),b=n(4535),j=n(1592),p=n(64),O=n(29),m=n(301),x=n(207),h=n(902),g=n(429),v=n(4527),y=n(4147),w=n(820),k=n(40),_=n(54),C=n(51),S=n(27),I=n(82),P=n(3),M=n.n(P),A=n(142),T=n(88),D=n(4313),R=n(775),E=n(389),B=n(99),N=n(4079),L=n(686),W=n(4328),H=n(474),z=n(100),F=n(41),U=n(48),V=n(28),G=n(1624),q=n(235),K=n(17),Z=n(111),X=n(302),Y=n(4037),Q=n(4531),J=n(3994),$=n(0);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.onClose,n=Object(T.default)(),o=Object(W.useWebController)(),a=o.currentTab,i=o.stopLoading,l=o.reload,s=Object(c.useCallback)((function(){var e;return null!=(e=null==a?void 0:a.url)?e:""}),[a]),d=Object(c.useCallback)((function(){t(),l()}),[l,t]),f=Object(c.useCallback)((function(){t(),Object(q.copyToClipboard)(s()),U.default.show({title:n.formatMessage({id:"msg__copied"})})}),[n,s,t]),b=Object(c.useCallback)((function(){setTimeout((function(){t(),G.default.share("ios"===V.default.OS?{url:s()}:{message:s()}).catch()}),100)}),[s,t]),j=Object(c.useCallback)((function(){t(),i(),E.webTabsActions.setWebTabData(te(te({},E.homeTab),{},{id:a.id}))}),[t,i,a]),O=Object(c.useCallback)((function(){a&&(t(),a.isBookmarked?K.default.serviceDiscover.removeFavorite(a.url):K.default.serviceDiscover.addFavorite(a.url),U.default.show({title:n.formatMessage({id:"msg__success"})}))}),[a,n,t]),m=Object(c.useCallback)((function(){t(),Object(X.openUrlExternal)(s())}),[s,t]),x=Object(c.useCallback)((function(){t(),Object(Z.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Discover,params:{screen:J.DiscoverModalRoutes.MyDAppListModal,params:{onItemSelect:function(){},defaultIndex:0}}})}),[t]),h=Object(c.useCallback)((function(){t(),Object(Z.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Discover,params:{screen:J.DiscoverModalRoutes.MyDAppListModal,params:{onItemSelect:function(){},defaultIndex:1}}})}),[t]),g=Object(c.useCallback)((function(){t(),Object(Z.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.GasPanel,params:{screen:Y.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[t]);return Object($.jsx)(H.default,{title:n.formatMessage({id:"action__more"}),closeOverlay:t,children:Object($.jsxs)(r.default,{children:[Object($.jsxs)(F.default,{space:6,children:[Object($.jsxs)(p.default,{alignItems:"center",onPress:x,children:[Object($.jsx)(C.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:Object($.jsx)(k.default,{size:20,name:"StarMini"})}),Object($.jsx)(S.default.Caption,{mt:"2",children:n.formatMessage({id:"title__favorites"})})]}),Object($.jsxs)(p.default,{alignItems:"center",onPress:h,children:[Object($.jsx)(C.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:Object($.jsx)(k.default,{size:20,name:"ClockMini"})}),Object($.jsx)(S.default.Caption,{mt:"2",children:n.formatMessage({id:"transaction__history"})})]}),Object($.jsxs)(p.default,{alignItems:"center",onPress:g,children:[Object($.jsx)(Q.GasPrice,{}),Object($.jsx)(S.default.Caption,{mt:"2",children:"\ud83d\udd25Gas"})]})]}),Object($.jsx)(z.default,{my:"4",w:"full"}),Object($.jsxs)(r.default,{children:[Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:d,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"ArrowPathOutline"})}),Object($.jsx)(S.default.Body1Strong,{children:n.formatMessage({id:"action__refresh"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:b,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"ShareOutline"})}),Object($.jsx)(S.default.Body1Strong,{children:n.formatMessage({id:"action__share"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:f,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"LinkOutline"})}),Object($.jsx)(S.default.Body1Strong,{children:n.formatMessage({id:"action__copy_url"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:O,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"SquaresPlusOutline"})}),Object($.jsx)(S.default.Body1Strong,{children:null!=a&&a.isBookmarked?n.formatMessage({id:"action__remove_from_favorites"}):n.formatMessage({id:"action__add_to_favorites"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:m,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"GlobeAltOutline"})}),Object($.jsx)(S.default.Body1Strong,{children:n.formatMessage({id:"action__open_in_browser"})})]}),Object($.jsxs)(p.default,{flexDirection:"row",px:"4",py:"3",onPress:j,children:[Object($.jsx)(r.default,{mr:"3",children:Object($.jsx)(k.default,{name:"HomeOutline"})}),Object($.jsx)(S.default.Body1Strong,{children:n.formatMessage({id:"action__back_to_home_page"})})]})]})]})})},re=function(){return Object(B.showOverlay)((function(e){return Object($.jsx)(ne,{onClose:e})}))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={code:"function anonymous(){const{showTabGridAnim,MAX_OR_SHOW}=this._closure;return{zIndex:showTabGridAnim.value===MAX_OR_SHOW?-1:1,display:showTabGridAnim.value===MAX_OR_SHOW?'none':'flex',opacity:1-showTabGridAnim.value};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},ce={code:"function anonymous(){const{showTabGridAnim,MIN_OR_HIDE}=this._closure;return{zIndex:showTabGridAnim.value===MIN_OR_HIDE?-1:1,display:showTabGridAnim.value===MIN_OR_HIDE?'none':'flex',opacity:showTabGridAnim.value};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},le={code:"function anonymous(){const{bgColor,expandAnim,MIN_OR_HIDE,interpolate,MAX_OR_SHOW,tabBarHeight}=this._closure;return{backgroundColor:bgColor,zIndex:expandAnim.value===MIN_OR_HIDE?-1:1,display:expandAnim.value===MIN_OR_HIDE?'none':'flex',translateY:interpolate(expandAnim.value,[MIN_OR_HIDE,MAX_OR_SHOW],[-tabBarHeight,0]),opacity:expandAnim.value};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},se=function(){var e=Object(W.useWebController)(),t=e.currentTab,n=e.goBack,o=e.goForward,a=e.tabs,l=Object(i.default)().bottom,s=Object(T.default)(),d=Object(D.default)(),f=Object(A.default)("surface-subdued"),b=t.canGoForward,p=Object(E.isTabLimitReached)(a),m=Object($.jsxs)(x.default.View,{style:[ae(ae({},O.default.absoluteFillObject),{},{flexDirection:"row"}),Object(h.useAnimatedStyle)(function(){var e=function(){return{zIndex:j.showTabGridAnim.value===j.MAX_OR_SHOW?-1:1,display:j.showTabGridAnim.value===j.MAX_OR_SHOW?"none":"flex",opacity:1-j.showTabGridAnim.value}};return e._closure={showTabGridAnim:j.showTabGridAnim,MAX_OR_SHOW:j.MAX_OR_SHOW},e.__initData=ie,e.__workletHash=6053321607959,e}(),[])],children:[Object($.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:t.url===E.homeTab.url,onPress:n,name:"ChevronLeftOutline"}),Object($.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:!b,onPress:o,name:"ChevronRightOutline"}),Object($.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:p,onPress:E.webTabsActions.addBlankWebTab,iconSize:26,name:"PlusCircleMini"}),Object($.jsx)(_.default,{justifyContent:"center",alignItems:"center",textAlign:"center",type:"plain",pl:0,pr:0,flex:1,onPress:j.showTabGrid,children:Object($.jsx)(C.default,{w:"20px",h:"20px",borderRadius:"2px",borderWidth:"2px",borderColor:"icon-pressed",children:Object($.jsx)(S.default.CaptionStrong,{children:a.length-1})})}),Object($.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:t.url===E.homeTab.url,onPress:re,name:"DotsHorizontalOutline"})]}),v=Object(c.useCallback)((function(){Object(B.showOverlay)((function(e){return Object($.jsx)(N.OverlayPanel,{closeOverlay:e,modalProps:{headerShown:!1},children:Object($.jsxs)(R.default,{flexDirection:"row",alignItems:"center",py:{base:"12px",sm:"8px"},px:{base:"16px",sm:"8px"},bg:"transparent",borderRadius:"12px",onPress:function(){e(),E.webTabsActions.closeAllWebTabs()},children:[Object($.jsx)(k.default,{color:"text-critical",size:24,name:"XMarkMini"}),Object($.jsx)(S.default.Body1Strong,{ml:"12px",color:"text-critical",children:s.formatMessage({id:"action__close_all_tabs"})})]})})}))}),[s]),y=Object($.jsxs)(x.default.View,{style:[ae(ae({},O.default.absoluteFillObject),{},{flexDirection:"row"}),Object(h.useAnimatedStyle)(function(){var e=function(){return{zIndex:j.showTabGridAnim.value===j.MIN_OR_HIDE?-1:1,display:j.showTabGridAnim.value===j.MIN_OR_HIDE?"none":"flex",opacity:j.showTabGridAnim.value}};return e._closure={showTabGridAnim:j.showTabGridAnim,MIN_OR_HIDE:j.MIN_OR_HIDE},e.__initData=ce,e.__workletHash=2508689585526,e}(),[])],children:[Object($.jsx)(I.default,{flex:1,type:"plain",onPress:function(){return Object(j.hideTabGrid)()},name:"ChevronLeftOutline"}),Object($.jsx)(I.default,{flex:1,type:"plain",disabled:p,onPress:E.webTabsActions.addBlankWebTab,iconSize:26,name:"PlusCircleMini"}),Object($.jsx)(I.default,{name:"TrashOutline",flex:1,type:"plain",onPress:v})]});return Object($.jsx)(L.PortalEntry,{target:"BottomTab-Overlay-"+u.TabRoutes.Discover,children:Object($.jsx)(x.default.View,{style:[O.default.absoluteFill,Object(h.useAnimatedStyle)(function(){var e=function(){return{backgroundColor:f,zIndex:j.expandAnim.value===j.MIN_OR_HIDE?-1:1,display:j.expandAnim.value===j.MIN_OR_HIDE?"none":"flex",translateY:Object(g.interpolate)(j.expandAnim.value,[j.MIN_OR_HIDE,j.MAX_OR_SHOW],[-d,0]),opacity:j.expandAnim.value}};return e._closure={bgColor:f,expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE,interpolate:g.interpolate,MAX_OR_SHOW:j.MAX_OR_SHOW,tabBarHeight:d},e.__initData=le,e.__workletHash=0xe3e14a87a99,e}(),[f])],children:Object($.jsxs)(r.default,{flex:1,flexDirection:"row",overflow:"hidden",mb:l+"px",children:[m,y]})})})},ue=n(747),de=n(1594),fe=function(e){var t=e.favicon,n=e.text;return Object($.jsxs)(r.default,{bg:"surface-subdued",px:"12px",py:"8px",h:"48px",w:"full",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(ue.default,{width:"30px",height:"30px",borderRadius:"6px",src:t},t),Object($.jsx)(S.default.Body2Strong,{color:"text-default",flex:1,textAlign:"left",mx:"8px",numberOfLines:1,children:n}),Object($.jsx)(k.default,{name:"ArrowsPointingOutOutline"})]})},be=function(e){var t,n=e.onSearch,o=Object(w.useWebTabs)().tab;return Object($.jsxs)(r.default,{bg:"background-default",px:"16px",h:"56px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(k.default,{name:"ChevronDownMini",color:"icon-subdued"}),Object($.jsxs)(p.default,{flex:"1",bg:"action-secondary-default",h:"42px",borderRadius:"full",borderWidth:"1px",borderColor:"border-default",ml:"12px",px:"5px",flexDirection:"row",alignItems:"center",onPress:n,children:[Object($.jsx)(S.default.Body2,{mx:"6px",flex:"1",color:"text-subdued",numberOfLines:1,children:null==o||null==(t=o.url)?void 0:t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"")}),Object($.jsx)(de.NetworkAccountSelectorTriggerMobile,{bg:"surface-neutral-default",type:"basic",labelTypography:"CaptionStrong",iconSize:5})]})]})},je={code:"function anonymous(){const{expandAnim,MIN_OR_HIDE}=this._closure;return{opacity:1-expandAnim.value,display:expandAnim.value===MIN_OR_HIDE?'flex':'none'};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/FloatingBar.tsx"},pe={code:"function anonymous(){const{expandAnim,MIN_OR_HIDE}=this._closure;return{opacity:expandAnim.value,display:expandAnim.value===MIN_OR_HIDE?'none':'flex'};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/FloatingBar.tsx"},Oe=function(e){var t=e.favicon,n=e.text,r=e.onSearch;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(x.default.View,{style:Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:1-j.expandAnim.value,display:j.expandAnim.value===j.MIN_OR_HIDE?"flex":"none"}};return e._closure={expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE},e.__initData=je,e.__workletHash=0xe88693ffbb2,e}(),[]),children:Object($.jsx)(fe,{favicon:t,text:n})}),Object($.jsx)(x.default.View,{style:Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:j.expandAnim.value,display:j.expandAnim.value===j.MIN_OR_HIDE?"none":"flex"}};return e._closure={expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE},e.__initData=pe,e.__workletHash=1626461086830,e}(),[]),children:Object($.jsx)(be,{onSearch:r})})]})};Oe.displayName="FloatingBar";var me=Oe,xe=n(38),he=n(3983),ge=n(4152),ve=n(4534),ye=n(3999),we=n(4536);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=O.default.create({container:{flex:1},blankPage:_e(_e({},O.default.absoluteFillObject),{},{zIndex:1})}),Se=Object(c.memo)((function(){Object(we.useNotifyChanges)();var e=Object(w.useWebTabs)(),t=e.tabs,n=e.tab,r=(null==n?void 0:n.url)===E.homeTab.url,o=Object(c.useMemo)((function(){return t.slice(1).map((function(e){return Object($.jsx)(l.Freeze,{freeze:!e.isCurrent,children:Object($.jsx)(ve.default,_e({},e))},e.id)}))}),[t]),a=Object(c.useCallback)((function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height;Object(j.setThumbnailRatio)(r/n)}),[]);return Object($.jsxs)(he.default,{style:Ce.container,ref:j.tabViewShotRef,onLayout:a,children:[o,Object($.jsx)(l.Freeze,{freeze:!r,children:Object($.jsx)(xe.default,{style:Ce.blankPage,children:Object($.jsx)(ge.default,{onItemSelect:ye.onItemSelect,onItemSelectHistory:ye.openMatchDApp})})})]})}));Se.displayName="WebTabFront";var Ie=Se,Pe=n(238),Me=n(2258),Ae=n(606),Te=n(784);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=O.default.create({image:{flex:1},contentContainer:{paddingVertical:j.WEB_TAB_CELL_GAP}}),Be=function(e){var t=e.width,n=e.isCurrent,o=e.title,a=e.favicon,i=e.id,c=e.thumbnail;return Object($.jsx)(p.default,{w:t,h:t,borderRadius:"12px",borderWidth:"1px",borderColor:n?"interactive-default":"border-subdued",overflow:"hidden",ml:j.WEB_TAB_CELL_GAP+"px",mt:j.WEB_TAB_CELL_GAP+"px",onPress:function(){n||E.webTabsActions.setCurrentWebTab(i),Object(j.hideTabGrid)(i)},children:Object($.jsxs)(r.default,{flex:1,collapsable:!1,ref:function(e){j.tabGridRefs[i]=e},children:[Object($.jsxs)(r.default,{bg:"surface-default",px:"9px",h:"32px",w:"full",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object($.jsx)(ue.default,{width:"18px",height:"18px",borderRadius:"4px",src:a},a),Object($.jsx)(S.default.CaptionStrong,{color:"text-default",flex:1,textAlign:"left",numberOfLines:1,mx:"4px",children:o}),Object($.jsx)(I.default,{size:"sm",type:"plain",name:"XMarkMini",onPress:function(){E.webTabsActions.closeWebTab(i)}})]}),!!c&&Object($.jsx)(Pe.default,{style:Ee.image,resizeMode:"cover",source:{uri:c}})]})})},Ne={code:"function anonymous(){const{scrollTo,listRef,tabGridScrollY}=this._closure;scrollTo(listRef,0,tabGridScrollY.value,true);}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/WebTabGrid.tsx"},Le={code:"function anonymous(){const{showTabGridAnim}=this._closure;return{opacity:showTabGridAnim.value};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/WebTabGrid.tsx"},We=function(){var e=Object(w.useWebTabs)().tabs,t=(Object(m.default)().width-3*j.WEB_TAB_CELL_GAP)/2,n=Object(Me.useAnimatedRef)(),r=Object(c.useState)(!1),o=a()(r,2),i=o[0],l=o[1];Object(c.useEffect)((function(){setTimeout((function(){l(!0)}),100)}),[]),Object(y.default)(Object(c.useCallback)((function(){return j.showTabGridAnim.value!==j.MIN_OR_HIDE&&(Object(j.hideTabGrid)(),!0)}),[])),Object(Ae.useDerivedValue)(function(){var e=function(){Object(Te.scrollTo)(n,0,j.tabGridScrollY.value,!0)};return e._closure={scrollTo:Te.scrollTo,listRef:n,tabGridScrollY:j.tabGridScrollY},e.__initData=Ne,e.__workletHash=6478403035559,e}(),[]);var s=Object(c.useMemo)((function(){return e.slice(1)}),[e]),u=Object(c.useCallback)((function(e){var n=e.item;return Object($.jsx)(Be,Re(Re({},n),{},{width:t}))}),[t]),d=Object(c.useCallback)((function(e){return e.id}),[]),f=Object(A.default)("background-default"),b=Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:j.showTabGridAnim.value}};return e._closure={showTabGridAnim:j.showTabGridAnim},e.__initData=Le,e.__workletHash=2597616415075,e}());return i?Object($.jsx)(x.default.FlatList,{ref:n,style:[Re(Re({},O.default.absoluteFillObject),{},{backgroundColor:f}),b],numColumns:2,showsVerticalScrollIndicator:!1,contentContainerStyle:Ee.contentContainer,data:s,renderItem:u,keyExtractor:d}):null};We.displayName="WebTabGrid";var He=We,ze={code:"function anonymous(){const{containerHeight,hasTabs,interpolate,expandAnim,MIN_OR_HIDE,MAX_OR_SHOW}=this._closure;return{opacity:containerHeight>0?1:0,zIndex:containerHeight>0&&hasTabs?1:-1,transform:[{translateY:interpolate(expandAnim.value,[MIN_OR_HIDE,MAX_OR_SHOW],[containerHeight-48,0])}]};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/FloatingContainer.tsx"},Fe={code:"function anonymous(){const{targetPreviewWidth,targetPreviewHeight,targetPreviewX,screenWidth,targetPreviewY,containerHeight,top,showTabGridAnim,MAX_OR_SHOW,interpolate,screenHeight}=this._closure;const targetWidth=targetPreviewWidth.value;const targetHeight=targetPreviewHeight.value;const offsetX=targetPreviewX.value-(screenWidth-targetWidth)/2;const offsetY=targetPreviewY.value-(containerHeight-targetHeight)/2-top;return{opacity:1-showTabGridAnim.value,zIndex:showTabGridAnim.value===MAX_OR_SHOW?-1:1,display:showTabGridAnim.value===MAX_OR_SHOW?'none':'flex',transform:[{translateX:interpolate(showTabGridAnim.value,[0,1],[0,offsetX])},{translateY:interpolate(showTabGridAnim.value,[0,1],[0,offsetY])},{scaleX:interpolate(showTabGridAnim.value,[0,1],[1,targetWidth/screenWidth])},{scaleY:interpolate(showTabGridAnim.value,[0,1],[1,targetHeight/(containerHeight||screenHeight)])}]};}",location:"/home/runner/work/digital-passport/digital-passport/packages/kit/src/views/Discover/Explorer/Mobile/FloatingContainer.tsx"},Ue=function(e){var t=e.beforeMaximize,n=e.afterMaximize,o=e.beforeMinimize,l=e.afterMinimize,s=e.onSearch,u=Object(w.useWebTabs)(),d=u.tabs,f=u.tab,b=d.length>1,k=Object(c.useRef)(d.length),_=Object(c.useState)(0),C=a()(_,2),S=C[0],I=C[1],P=Object(c.useState)(!1),M=a()(P,2),A=M[0],T=M[1],D=Object(i.default)().top,R=Object(c.useCallback)((function(){Object(j.hideTabGrid)(),A||T(!0),null==t||t()}),[t,A]),E=Object(c.useCallback)((function(){A&&T(!1),null==l||l()}),[l,A]);Object(y.default)(Object(c.useCallback)((function(){return j.expandAnim.value!==j.MIN_OR_HIDE&&(Object(j.minimizeFloatingWindow)({before:o}),!0)}),[o])),Object(c.useEffect)((function(){var e=d.length>k.current;k.current=d.length,e&&j.expandAnim.value===j.MIN_OR_HIDE?(R(),setTimeout((function(){Object(j.expandFloatingWindow)({after:n})}),100)):1===d.length&&(Object(j.hideTabGrid)(),Object(j.minimizeFloatingWindow)({before:o}))}),[d.length,R]);var B=Object(m.default)(),N=B.height,L=B.width,W=Object(c.useCallback)((function(e){var t=e.nativeEvent.layout.height;return I(t)}),[]);return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(x.default.View,{style:[O.default.absoluteFill,Object(h.useAnimatedStyle)(function(){var e=function(){return{opacity:S>0?1:0,zIndex:S>0&&b?1:-1,transform:[{translateY:Object(g.interpolate)(j.expandAnim.value,[j.MIN_OR_HIDE,j.MAX_OR_SHOW],[S-48,0])}]}};return e._closure={containerHeight:S,hasTabs:b,interpolate:g.interpolate,expandAnim:j.expandAnim,MIN_OR_HIDE:j.MIN_OR_HIDE,MAX_OR_SHOW:j.MAX_OR_SHOW},e.__initData=ze,e.__workletHash=0xa7be659de7e,e}(),[S,b])],onLayout:W,children:[Object($.jsx)(x.default.View,{style:[O.default.absoluteFill,Object(h.useAnimatedStyle)(function(){var e=function(){var e=j.targetPreviewWidth.value,t=j.targetPreviewHeight.value,n=j.targetPreviewX.value-(L-e)/2,r=j.targetPreviewY.value-(S-t)/2-D;return{opacity:1-j.showTabGridAnim.value,zIndex:j.showTabGridAnim.value===j.MAX_OR_SHOW?-1:1,display:j.showTabGridAnim.value===j.MAX_OR_SHOW?"none":"flex",transform:[{translateX:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[0,n])},{translateY:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[0,r])},{scaleX:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[1,e/L])},{scaleY:Object(g.interpolate)(j.showTabGridAnim.value,[0,1],[1,t/(S||N)])}]}};return e._closure={targetPreviewWidth:j.targetPreviewWidth,targetPreviewHeight:j.targetPreviewHeight,targetPreviewX:j.targetPreviewX,screenWidth:L,targetPreviewY:j.targetPreviewY,containerHeight:S,top:D,showTabGridAnim:j.showTabGridAnim,MAX_OR_SHOW:j.MAX_OR_SHOW,interpolate:g.interpolate,screenHeight:N},e.__initData=Fe,e.__workletHash=0xe715944a96b,e}(),[S,L,N,D])],children:Object($.jsxs)(r.default,{flex:1,bg:"background-default",children:[Object($.jsx)(p.default,{h:"56px",onPress:function(){Object(j.toggleFloatingWindow)({beforeMinimize:o,afterMaximize:n,beforeMaximize:R,afterMinimize:E})},children:Object($.jsx)(me,{favicon:null==f?void 0:f.favicon,text:null==f?void 0:f.title,onSearch:s})}),Object($.jsx)(v.default,{freeze:!A,children:Object($.jsx)(Ie,{})})]})}),Object($.jsx)(He,{},String(b))]}),Object($.jsx)(se,{})]})};Ue.displayName="FloatingContainer";t.default=function(){var e=Object(i.default)().top,t=Object(b.useIncomingUrl)().handleIncomingUrl,n=Object(c.useState)(!1),o=a()(n,2),p=o[0],O=o[1],m=Object(c.useState)(!0),x=a()(m,2),h=x[0],g=x[1],v=Object(c.useCallback)((function(){return g(!0)}),[]),y=Object(s.useIsFocusedInTab)(u.TabRoutes.Discover);Object(c.useEffect)((function(){y?p?t():setTimeout((function(){O(!0),t()}),100):Object(j.minimizeFloatingWindow)({before:v})}),[v,t,y,p]);Object(d.useExplorerSearch)();return Object($.jsxs)(r.default,{flex:"1",bg:"background-default",mt:e+"px",children:[Object($.jsx)(l.Freeze,{freeze:!h,children:Object($.jsx)(f.default,{alwaysOpenNewWindow:!0})}),p&&!1]})}},6101:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(142),i=n(1),c=n(6098),l=n(144),s=n(105),u=(n(816),function(){var e=.85*l.default.get("window").width;return Math.min(400,e)}),d=(Object(s.makeMutable)(0),Object(s.makeMutable)(-u()),n(24)),f=n(2451),b=n(16),j=n(50),p=n(15),O=n.n(p),m=n(4),x=n.n(m),h=n(13),g=n.n(h),v=n(5325),y=n(88),w=n(44),k=n(1017),_=n.n(k),C=n(3880),S=n(3879),I=n(3878),P=n(5082),M=n(28),A=n(29),T=n(51),D=n(412),R=n(1600),E=n(1540),B=n(1244),N=n(12),L=n(2698),W=n(17),H=n(25),z=n(1181),F=n(239),U=n(869),V=n(569),G=n(1587),q=n(4526),K=n(331),Z=n(19),X=n(2435),Y=n(0),Q=Object(i.forwardRef)((function(e,t){var n=e.visible,r=e.toggleVisible,o=d.default.isRuntimeBrowser,a=Object(q.useDomID)("AccountSelectorDesktop").domId;Object(i.useImperativeHandle)(t,(function(){return{toggleVisible:r,getVisible:function(){return n},domId:a}})),Object(i.useEffect)((function(){return Z.default.accountSelector.info("WalletSelectorDesktop mount"),function(){Z.default.accountSelector.info("WalletSelectorDesktop unmounted")}}),[]);var c=Object(i.useMemo)((function(){return Object(Y.jsx)(N.default,{marginTop:"4px",nativeID:a,left:o?0:"16px",top:o?-8:"52px",position:"absolute",width:"320px",height:"564px",borderRadius:"xl",bg:"background-default",borderColor:"border-subdued",borderWidth:"1px",flexDirection:"row",shadow:"depth.3",children:Object(Y.jsx)(X.default,{})})}),[a,o]),l=Object(i.useRef)();l.current=c;var s=Object(Y.jsxs)(Y.Fragment,{children:[n&&Object(Y.jsx)(K.CloseBackDrop,{onClose:r}),Object(Y.jsx)(G.default,{visible:n,initial:{opacity:0,translateY:0},animate:{opacity:1,translateY:12,transition:{duration:150}},style:{width:n?"100%":0},children:l.current})]});return o?s:Object(Y.jsx)(V.default,{children:s})}));Q.displayName="WalletSelectorDesktop";var J=Object(i.memo)(Q),$=n(64),ee=n(40),te=n(27),ne=n(175),re=n(54),oe=n(5),ae=n(45),ie=n(626),ce=n(1198),le=n(473),se=function(e){var t=e.visible,n=e.showWalletName,r=e.handleToggleVisible,o=Object(y.default)(),a=Object(j.default)(),i=Object(ae.useActiveWalletAccount)().wallet,c=Object(w.useNavigation)(),l=Object(ae.useAppSelector)((function(e){return e.accountSelector.isLoading})),s=Object(ie.useWalletName)({wallet:i}),u=Object(ce.useDeviceStatusOfHardwareWallet)().devicesStatus;if(!i)return Object(Y.jsx)(re.default,{onPress:function(){c.navigate(b.RootRoutes.Onboarding)},children:o.formatMessage({id:"action__create_wallet"})});var d=s||"Wallet";return Object(Y.jsx)($.default,{onPress:r,hitSlop:8,w:"full",children:function(e){var r=e.isHovered;return Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",m:{base:-1,md:void 0},p:1,pr:{base:1,md:2},borderRadius:"12px",bg:t&&!a?"surface-selected":r?"surface-hovered":"transparent",children:[Object(Y.jsx)(N.default,{children:l?Object(Y.jsx)(N.default,{size:8,children:Object(Y.jsx)(ne.default,{size:32,children:Object(Y.jsx)(oe.Rect,{x:"0",y:"0",width:"32",height:"32",rx:"12",ry:"12"})})}):Object(Y.jsx)(le.WalletAvatarPro,{wallet:i,devicesStatus:u,size:"sm"})}),Object(Y.jsx)(E.AnimatePresence,{initial:!1,children:n&&Object(Y.jsxs)(B.View,{from:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"timing",duration:150},style:{flex:1,flexDirection:"row",alignItems:"center"},children:[Object(Y.jsx)(te.default.Body2Strong,{flex:1,isTruncated:!0,ml:3,mr:1,children:d}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{size:20,name:"ChevronUpDownMini",color:"icon-subdued"})})]})})]})}})},ue=F.default.actions.updateDesktopWalletSelectorVisible,de=Object(i.memo)((function(e){var t,n=e.renderTrigger,r=e.showWalletName,o=Object(j.default)(),a=Object(i.useRef)(null),c=W.default.dispatch,l=Object(H.useAppSelector)((function(e){return e.accountSelector.isDesktopWalletSelectorVisible})),s=Object(H.useNavigationActions)().toggleWalletSelector,u=Object(U.useWalletSelectorStatus)().visible;Object(z.useCloseOnEsc)(Object(i.useCallback)((function(){l&&c(ue(!1))}),[c,l]));var d=Object(i.useCallback)((function(){s()}),[s]),f=Object(i.useRef)(null),b=Object(i.useCallback)((function(e){e?(f.current=e,Object(L.addNewRef)(e)):Object(L.removeOldRef)(f.current)}),[]),p=Object(i.useMemo)((function(){return o?null:Object(Y.jsx)(J,{ref:b,visible:u,toggleVisible:d})}),[o,u,d,b]),O=Object(i.useCallback)((function(){u||d()}),[d,u]);return Object(Y.jsxs)(N.default,{ref:a,position:"relative",alignItems:"flex-start",justifyContent:"center",w:"full",children:[null!=(t=null==n?void 0:n({visible:u,handleToggleVisible:d}))?t:Object(Y.jsx)(se,{visible:u,showWalletName:r,handleToggleVisible:O}),p]})})),fe=n(4038),be=n(674),je=n(299),pe=n(314),Oe=n(63);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he,ge=function(e){var t=e.navigation,n=e.state,r=e.descriptors,o=n.routes,c=Object(i.useContext)(be.Context),l=c.leftSidebarCollapsed,s=c.setLeftSidebarCollapsed,u=Object(je.default)().top,f=d.default.isDesktopMac?20:0,b=12+u+f,j=Object(a.default)(["surface-subdued","text-default","text-subdued","interactive-default"]),p=x()(j,4),O=p[0],m=p[1],h=p[2],g=p[3],v=Object(i.useMemo)((function(){return o.map((function(e,a){var i,c=a===n.index,s=r[e.key].options;return Object(Y.jsx)(D.default,{label:s.tabBarLabel,isDisabled:!l,placement:"right",children:Object(Y.jsxs)($.default,{onPress:function(){var r=t.emit({type:"tabPress",target:e.key,canPreventDefault:!0});c||r.defaultPrevented||t.dispatch(xe(xe({},w.CommonActions.navigate({name:e.name,merge:!0})),{},{target:n.key}))},flexDirection:"row",alignItems:"center",mt:a===o.length-1?"auto":void 0,p:"8px",borderRadius:"xl",bg:c?"surface-selected":void 0,_hover:c?void 0:{bg:"surface-hovered"},"aria-current":c?"page":void 0,children:[Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:null==s||null==s.tabBarIcon?void 0:s.tabBarIcon(),color:c?"icon-default":"icon-subdued",size:24})}),Object(Y.jsx)(E.AnimatePresence,{initial:!1,children:!l&&Object(Y.jsx)(B.View,{from:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"timing",duration:150},style:{flex:1,flexDirection:"row",alignItems:"center"},children:Object(Y.jsx)(te.default.Body2Strong,{flex:1,ml:"3",color:c?m:h,isTruncated:!0,children:null!=(i=s.tabBarLabel)?i:e.name})})})]},e.name)},e.key)}))}),[m,r,h,l,t,o,n.index,n.key]);return Object(Y.jsxs)(B.View,{animate:{width:l?72:224},transition:{type:"timing",duration:150},style:{height:"100%",width:224,backgroundColor:O,paddingHorizontal:16,paddingTop:b,paddingBottom:20},testID:"Desktop-AppSideBar-Container",children:[Object(Y.jsx)(fe.DesktopDragZoneAbsoluteBar,{testID:"Desktop-AppSideBar-DragZone",h:f}),Object(Y.jsx)(N.default,{zIndex:1,testID:"Desktop-AppSideBar-WalletSelector-Container",children:Object(Y.jsx)(de,{showWalletName:!l})}),Object(Y.jsx)(Oe.default,{testID:"Desktop-AppSideBar-Content-Container",flex:1,mt:4,mb:2,children:Object(Y.jsx)(pe.default,{_contentContainerStyle:{flex:1},children:Object(Y.jsx)(Oe.default,{space:1,flex:1,children:v})})}),Object(Y.jsx)(N.default,{testID:"Legacy-Desktop-AppSideBar-NetworkAccountSelector-Container"}),Object(Y.jsx)($.default,{onPress:function(){null==s||s(!l)},position:"absolute",top:"0",bottom:"0",right:"-10px",w:"20px",testID:"Desktop-AppSideBar-Collapse-Bar",children:function(e){var t=e.isHovered,n=e.isPressed;return Object(Y.jsxs)(B.View,{animate:{opacity:t||n?1:0},transition:{type:"timing",duration:150},style:{height:"100%",flexDirection:"row"},children:[Object(Y.jsx)(R.LinearGradient,{colors:["transparent",g],start:{x:0,y:0},end:{x:1,y:0},style:{flex:1,height:"100%",opacity:.1}}),Object(Y.jsx)(N.default,{h:"full",w:"1px",bgColor:"interactive-default",alignItems:"center",children:Object(Y.jsx)(T.default,{mt:b+"px",size:"40px",children:Object(Y.jsx)(N.default,{p:"4px",rounded:"full",bgColor:"background-default",borderWidth:"1px",borderColor:"border-subdued",shadow:"depth.1",children:Object(Y.jsx)(B.View,{animate:{rotate:l?"180deg":"0deg"},transition:{type:"timing"},children:Object(Y.jsx)(ee.default,{name:"ChevronLeftMini",size:16})})})})}),Object(Y.jsx)(N.default,{flex:1})]})}})]})},ve=n(20),ye=n(563),we=n(826),ke=[b.TabRoutes.Home,b.TabRoutes.Market,b.TabRoutes.Swap,b.TabRoutes.NFT,b.TabRoutes.Discover,b.TabRoutes.Me];var _e=[b.TabRoutes.Swap,b.TabRoutes.Market],Ce=((he={})[b.TabRoutes.Home]={name:b.TabRoutes.Home,tabBarIcon:function(e){return e?"CreditCardSolid":"CreditCardOutline"},translationId:"wallet__wallet",navHeaderType:"AccountSelector"},he[b.TabRoutes.Market]={name:b.TabRoutes.Market,tabBarIcon:function(e){return e?"ChartLineSquareSolid":"ChartLineSquareOutline"},translationId:"market__market",hideDesktopNavHeader:!0,hideMobileNavHeader:!0,hideOnMobile:!0},he[b.TabRoutes.Swap]={name:b.TabRoutes.Swap,tabBarIcon:function(e){return"ArrowsRightLeftOutline"},translationId:"form__trade",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[b.TabRoutes.NFT]={name:b.TabRoutes.NFT,tabBarIcon:function(e){return e?"PhotoSolid":"PhotoOutline"},translationId:"title__nft",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[b.TabRoutes.Discover]={name:b.TabRoutes.Discover,tabBarIcon:function(e){return e?"CompassSolid":"CompassOutline"},translationId:"title__explore",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[b.TabRoutes.Me]={name:b.TabRoutes.Me,tabBarIcon:function(e){return e?"Bars4Solid":"Bars4Outline"},translationId:"title__menu",navHeaderType:"AccountSelector"},he[b.TabRoutes.Developer]={name:b.TabRoutes.Developer,tabBarIcon:function(e){return"ChipOutline"},translationId:"form__dev_mode",hideOnProduction:!0},he),Se=ke.map((function(e){return Ce[e].hideOnMobile||Ce[e].hideOnProduction?null:{name:e,key:e}})).filter(Boolean),Ie=Object.entries(Ce).reduce((function(e,t,n){var r=x()(t,2),o=r[0],a=r[1];return e[o]={options:a},e}),{}),Pe=n(686);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=function(e){return Math.max(e.bottom-M.default.select({ios:4,default:0}),0)},De=function(e){var t=e.insets;return 49+Te(t)};function Re(e){var t,r,o=e.inlineMode,a=e.navigation,c=e.state,l=e.descriptors,s=e.backgroundColor,u=Object(ye.default)().size,f=Object(je.default)(),p=c.routes,O=Object(y.default)(),m=!o&&d.default.isNewRouteMode,x=Te(f),h=De({insets:f}),g=function(e){var t=e.deviceSize;return!!["NORMAL"].includes(t)}({deviceSize:u}),v=Object(j.default)(),k=Object(i.useMemo)((function(){return p.map((function(e,t){var r=t===c.index,i=l[e.key].options,u=null==i?void 0:i.translationId;return Object(Y.jsx)(N.default,{testID:"Mobile-AppTabBar-TabItem",flex:1,px:1,py:m?0:1,backgroundColor:s,children:Object(Y.jsxs)($.default,{testID:"Mobile-AppTabBar-TabItem-Icon",alignItems:"center",px:.5,py:m?0:1.5,onPress:function(){if(o){var t=_e.includes(e.name);if(v&&t){var i=(0,n(185).appSelector)((function(e){return e.market.marketTopTabName}))||b.TabRoutes.Swap;we.navigationShortcuts.navigateToAppRootTab(i)}else we.navigationShortcuts.navigateToAppRootTab(e.name)}else{var l=a.emit({type:"tabPress",target:e.key,canPreventDefault:!0});r||l.defaultPrevented||a.dispatch(Ae(Ae({},w.CommonActions.navigate({name:e.name,merge:!0})),{},{target:c.key}))}},_hover:{bg:"surface-hovered"},rounded:"xl",justifyContent:"center",style:g?{flexDirection:"row"}:{flexDirection:"column"},children:[Object(Y.jsx)(ee.default,{name:null==i||null==i.tabBarIcon?void 0:i.tabBarIcon(r),color:r?"icon-default":"icon-subdued",size:28}),(null!=u&&u.length,null)]},e.name)},e.name)}))}),[s,l,g,o,O,m,v,a,p,c.index,c.key]);return m?null:Object(Y.jsxs)(N.default,{testID:"Mobile-AppTabBar",borderTopWidth:A.default.hairlineWidth,left:"0",right:"0",bottom:"0",bg:"background-default",zIndex:99999,borderTopColor:"divider",paddingBottom:x+"px",height:m?"0":h,py:m?0:Math.max(null!=(t=f.left)?t:0,null!=(r=f.right)?r:0),children:[Object(Y.jsx)(N.default,{testID:"Mobile-AppTabBar-Content",accessibilityRole:"tablist",flex:"1",flexDirection:"row",children:k}),Object(Y.jsx)(Pe.PortalExit,{name:"BottomTab-Overlay-"+c.key})]})}function Ee(e){var t=e.name,n=Object(w.useNavigation)(),r=Object(j.default)(),o=Se,a=Ie,c=Object(i.useMemo)((function(){var e=o.findIndex((function(e){return e.name===t}));return e<0&&r&&_e.includes(t)&&(e=o.findIndex((function(e){return _e.includes(e.name)}))),e}),[t,o,r]);return r&&d.default.isNewRouteMode?Object(Y.jsx)(Re,{inlineMode:!0,navigation:n,descriptors:a,state:{routes:o,index:c,key:t}}):null}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){return Object(j.default)()?Object(Y.jsx)(Re,Ne({},e)):Object(Y.jsx)(ge,Ne({},e))}var We,He=Object(i.createContext)(void 0),ze=n(4150),Fe=n(6094),Ue=n(38),Ve=["enabled"],Ge=["visible","children"];function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}try{We=n(1373)}catch(sm){}var Ze=function(e){var t,n=e.enabled,r=O()(e,Ve);return null!=(t=We)&&null!=t.screensEnabled&&t.screensEnabled()?Object(Y.jsx)(We.ScreenContainer,Ke({enabled:n},r)):Object(Y.jsx)(Ue.default,Ke({},r))};function Xe(e){var t,n=e.visible,r=e.children,o=O()(e,Ge);return null!=(t=We)&&null!=t.screensEnabled&&t.screensEnabled()?Object(Y.jsx)(We.Screen,Ke(Ke({activityState:n?2:0},o),{},{children:r})):Object(Y.jsx)(Fe.default,Ke(Ke({visible:n},o),{},{children:r}))}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e){var t=Object(j.default)(),n=Object(a.default)("background-default"),r=e.state,o=e.navigation,c=e.descriptors,l=e.detachInactiveScreens,s=void 0===l?"web"===M.default.OS||"android"===M.default.OS||"ios"===M.default.OS:l,u=e.sceneContainerStyle,d=r.routes[r.index].key,f=Object(i.useState)([d]),b=x()(f,2),p=b[0],O=b[1];p.includes(d)||O([].concat(g()(p),[d]));var m=C.default.initialMetrics.frame,h=Object(i.useState)((function(){return De({insets:Qe(Qe({},C.default.initialMetrics.insets),e.safeAreaInsets)})})),v=x()(h,2),y=v[0],w=v[1],k=Object(i.useMemo)((function(){return Object(Y.jsx)(Le,{navigation:o,state:r,descriptors:c})}),[c,o,r]),_=r.routes;return Object(Y.jsxs)(C.default,{style:{flexDirection:t?"column":"row-reverse"},children:[Object(Y.jsx)(Ze,{enabled:s,hasTwoStates:!0,style:$e.container,children:_.map((function(e,t){var o=c[e.key],a=o.options,i=a.lazy,l=void 0===i||i,d=a.unmountOnBlur,f=r.index===t;if(d&&!f)return null;if(l&&!p.includes(e.key)&&!f)return null;var b=o.options,j=b.freezeOnBlur,O=b.header,x=void 0===O?function(t){var n=t.layout,r=t.options;return Object(Y.jsx)(S.default,Qe(Qe({},r),{},{layout:n,title:Object(I.default)(r,e.name)}))}:O;return Object(Y.jsx)(Xe,{style:[A.default.absoluteFill,{zIndex:f?0:-1}],visible:f,enabled:s,freezeOnBlur:j,children:Object(Y.jsx)(ze.default.Provider,{value:y,children:Object(Y.jsx)(P.default,{focused:f,route:o.route,navigation:o.navigation,headerShown:o.options.headerShown,headerTransparent:o.options.headerTransparent,headerStatusBarHeight:o.options.headerStatusBarHeight,header:x({layout:m,route:o.route,navigation:o.navigation,options:o.options}),style:[u,{backgroundColor:n}],children:o.render()})})},e.key)}))}),Object(Y.jsx)(He.Provider,{value:w,children:k})]})}var $e=A.default.create({container:{flex:1,overflow:"hidden"}}),et=["initialRouteName","backBehavior","children","screenListeners","screenOptions","sceneContainerStyle"],tt=["lazy","tabBarOptions"];function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=Object(w.createNavigatorFactory)((function(e){var t,n,r=e.initialRouteName,o=e.backBehavior,a=e.children,i=e.screenListeners,c=e.screenOptions,l=e.sceneContainerStyle,s=O()(e,et),u=s.lazy,d=s.tabBarOptions,f=O()(s,tt),b={};d&&(Object.assign(b,{tabBarHideOnKeyboard:d.keyboardHidesTabBar,tabBarActiveTintColor:d.activeTintColor,tabBarInactiveTintColor:d.inactiveTintColor,tabBarActiveBackgroundColor:d.activeBackgroundColor,tabBarInactiveBackgroundColor:d.inactiveBackgroundColor,tabBarAllowFontScaling:d.allowFontScaling,tabBarShowLabel:d.showLabel,tabBarLabelStyle:d.labelStyle,tabBarIconStyle:d.iconStyle,tabBarItemStyle:d.tabStyle,tabBarLabelPosition:null!=(n=d.labelPosition)?n:!1===d.adaptive?"below-icon":void 0,tabBarStyle:[{display:d.tabBarVisible?"none":"flex"},b.tabBarStyle]}),Object.keys(b).forEach((function(e){void 0===b[e]&&delete b[e]})),_()(d,"Bottom Tab Navigator: 'tabBarOptions' is deprecated. Migrate the options to 'screenOptions' instead.\n\nPlace the following in 'screenOptions' in your code to keep current behavior:\n\n"+JSON.stringify(b,null,2)+"\n\nSee https://reactnavigation.org/docs/bottom-tab-navigator#options for more details.")),"boolean"===typeof u&&(b.lazy=u,_()(!0,"Bottom Tab Navigator: 'lazy' in props is deprecated. Move it to 'screenOptions' instead.\n\nSee https://reactnavigation.org/docs/bottom-tab-navigator/#lazy for more details."));var j=Object(w.useNavigationBuilder)(w.TabRouter,{initialRouteName:r,backBehavior:o,children:a,screenListeners:i,screenOptions:c,defaultScreenOptions:b}),p=j.state,m=j.descriptors,x=j.navigation,h=j.NavigationContent;return Object(Y.jsx)(h,{children:Object(Y.jsx)(Je,rt(rt({},f),{},{foldableList:null!=(t=null==c?void 0:c.foldableList)?t:[],state:p,navigation:x,descriptors:m,sceneContainerStyle:l}))})})),at=(n(4313),n(1153)),it=n(1174),ct=n(4077),lt=n(4035),st=n(183),ut=(n(6107),n(236)),dt=n(474),ft=n(301),bt=n(106),jt=["children","image","title"];function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(i.memo)((function(e){e.children;var t=e.image,n=e.title,r=O()(e,jt),o=["SMALL","NORMAL"].includes(Object(ye.default)().size),a=Object(ft.default)(),c=o?Math.floor((a.width-48)/2):171,l=Object(i.useMemo)((function(){return Object(Y.jsx)(T.default,{width:c,height:c,bgColor:"surface-neutral-subdued",children:Object(Y.jsx)(ee.default,{name:"QuestionMarkCircleOutline",size:36})})}),[c]),s=Object(i.useMemo)((function(){return t&&"string"===typeof t?Object(i.isValidElement)(t)?t:Object(Y.jsx)(bt.default,{source:{uri:t},alt:"image of "+("string"===typeof n?n:"nft"),size:c,bgColor:"surface-neutral-subdued",fallbackElement:l}):l}),[l,t,n,c]);return Object(Y.jsxs)($.default.Item,Ot(Ot({px:0,py:0,overflow:"hidden",borderRadius:"xl",borderWidth:0,width:c},r),{},{children:[s,Object(Y.jsx)(N.default,{p:o?"3":"4",children:Object(Y.jsx)(te.default.Body2,{numberOfLines:1,children:n})})]}))}));var mt=n(215),xt=n(100),ht=n(201),gt=n(471),vt=(n(1186),n(41)),yt=n(82),wt=n(368),kt=(n(4013),n(627));n(57),n(1657),n(285),n(1065),n(1626),n(847);n(1627);var _t=n(662),Ct=n(567),St=n(411),It=n(76),Pt=n(1625),Mt=n(353),At=n(687),Tt=n(121),Dt=(n(1355),n(109));n(47);var Rt=n(747),Et=n(597),Bt=(n(1122),n(1645),n(81),n(1571),n(3770));n(486),n(1501),n(1087),n(6097),n(1348),n(1072),n(225);var Nt=n(3733),Lt=n(5305);Object(Nt.default)(Lt.KeyboardAwareScrollView),n(1658);n(1080),n(4156);var Wt=n(3933),Ht=(n(570),n(4023)),zt=n(336),Ft=n(1063),Ut=n(818);var Vt,Gt=n(262),qt=n(89),Kt=(n(1090),n(48)),Zt=(n(1636),n(126),n(1647),n(1075)),Xt=n(1584),Yt=(n(1637),n(580),n(437)),Qt=(n(171),n(902),n(141),n(606),n(4032),n(859));!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM"}(Vt||(Vt={}));n(1646);function Jt(e,t){return function(){return Object(Y.jsxs)(N.default,{flex:1,children:[Object(Y.jsx)(N.default,{flex:1,children:Object(Y.jsx)(e,{})}),Object(Y.jsx)(Ee,{name:t})]})}}var $t=n(1359),en=n(4527);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e){var t=e.children,n=e.unmountWhenBlur,r=e.freezeWhenBlur,o=void 0===r||r,a=e.rootTabName,c=Object(i.useRef)(!1),l=Object(w.useIsFocused)();Object(i.useEffect)((function(){l&&(c.current=!0)}),[l]);var s=Object(i.useMemo)((function(){var e=!l,t=!1;e&&(Object($t.isModalRouteExisting)()&&(e=!1));if(d.default.isNativeIOS&&((e=!1)&&a&&(t=Object($t.isAtAppRootTab)(a))&&(e=!1),e&&a&&t)){var n,r=Object($t.getAppRootTabInfoOfTab)(a),o=null==r||null==(n=r.state)?void 0:n.routes;o&&(null==o?void 0:o.length)<=2&&(e=!1)}return e}),[a,l]);return s&&n?null:Object(Y.jsx)(en.default,{freeze:s&&o,children:c.current||l?t:null})}function on(e,t){if(d.default.isNativeIOS)return e;var n=function(n){return Object(Y.jsx)(rn,nn(nn({},t),{},{children:Object(Y.jsx)(e,nn({},n))}))};return n.displayName=null==e?void 0:e.displayName,n}var an=n(625),cn=W.default.serviceAccount;function ln(e){var t=e.wallet,n=e.networkId,r=null==t?void 0:t.id;return Object(i.useEffect)((function(){t&&r&&n&&cn.autoAddFirstHdOrHwAccount({wallet:t,networkId:n})}),[n,t,r]),null}var sn,un,dn=function(e){var t=e.children,n=e.checkCompatibleNetwork,r=void 0===n||n,o=Object(y.default)(),a=Object(w.useNavigation)(),i=Object(ae.useActiveWalletAccount)(),c=i.walletId,l=i.accountId,s=i.networkId,u=i.isCompatibleNetwork,d=i.network,f=i.wallet,j=Object(an.useCreateAccountInWallet)({walletId:c,networkId:s}),p=j.createAccount,O=j.isCreateAccountSupported,m=!!l&&(!r||u);return!c?Object(Y.jsxs)(N.default,{testID:"IdentityAssertion-noWallet",flex:"1",justifyContent:"center",bg:"background-default",children:[Object(Y.jsx)(ht.default,{emoji:"\ud83e\udd11",title:o.formatMessage({id:"empty__no_wallet_title"}),subTitle:o.formatMessage({id:"empty__no_wallet_desc"})}),Object(Y.jsx)(N.default,{position:"relative",w:{md:"full"},alignItems:"center",h:"56px",justifyContent:"center",children:Object(Y.jsx)(re.default,{leftIconName:"PlusOutline",type:"primary",onPress:function(){a.navigate(b.RootRoutes.Onboarding)},size:"lg",children:o.formatMessage({id:"action__create_wallet"})})})]}):m?Object(Y.jsx)(Y.Fragment,{children:t}):Object(Y.jsxs)(N.default,{testID:"IdentityAssertion-noAccount",flex:"1",justifyContent:"center",bg:"background-default",children:[Object(Y.jsx)(ht.default,{emoji:"\ud83d\udcb3",title:o.formatMessage({id:"empty__no_account_title"}),subTitle:o.formatMessage({id:"empty__no_account_desc"})}),Object(Y.jsxs)(N.default,{position:"relative",w:{md:"full"},alignItems:"center",h:"56px",justifyContent:"center",children:[O&&f?Object(Y.jsx)(ln,{wallet:f,networkId:s}):null,Object(Y.jsx)(re.default,{leftIconName:O?"PlusOutline":"BanOutline",type:"primary",onPress:function(){O?p():Kt.default.show({title:o.formatMessage({id:an.NETWORK_NOT_SUPPORT_CREATE_ACCOUNT_I18N_KEY},{0:null==d?void 0:d.shortName})})},size:"lg",children:o.formatMessage({id:"action__create_account"})})]})]})};d.default.isNativeIOSPad&&(un=n(4546).default);var fn=Object(i.memo)((function(){var e=Object(j.default)();return e&&!sn?sn=n(5301).default:e||un||(un=n(4546).default),Object(Y.jsx)(N.default,{flex:1,bg:"background-default",children:e?Object(Y.jsx)(sn,{}):Object(Y.jsx)(un,{})})}));var bn=n(4279),jn=n(4152),pn=n(4315);function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xn=b.TabRoutes.Discover,hn=mn(mn({},Ce[xn]),{},{component:Jt(on((function(){return Object(Y.jsx)(dn,{checkCompatibleNetwork:!1,children:Object(Y.jsx)(fn,{})})}),{rootTabName:xn}),xn),children:[{name:b.HomeRoutes.ExploreScreen,component:jn.default},{name:b.HomeRoutes.DAppListScreen,component:bn.default},{name:b.HomeRoutes.MyDAppListScreen,component:pn.default}]}),gn=n(3899),vn=n(1588),yn=n(1070),wn=n(1594),kn=n(111),_n=n(1606);function Cn(e){var t=e.networkId,n=Object(H.useManageNetworks)().allNetworks,r=Object(H.useNetwork)({networkId:t}).network,o=W.default.serviceNetwork,a=Object(y.default)(),c=n.filter((function(e){return e.enabled&&(null==e?void 0:e.settings.supportBatchTransfer)&&(!(null==e||!e.settings.nativeSupportBatchTransfer)||yn.batchTransferContractAddress[e.id])})),l=Object(i.useCallback)((function(e){e.enabled&&o.changeActiveNetwork(e.id)}),[o]);return Object(Y.jsx)(T.default,{children:Object(Y.jsxs)(N.default,{maxW:"340px",children:[Object(Y.jsx)(ve.default,{fontSize:"56px",textAlign:"center",mt:8,children:"\ud83e\udd37\u200d\u2640\ufe0f"}),Object(Y.jsx)(ve.default,{typography:"DisplayMedium",mt:3,textAlign:"center",children:a.formatMessage({id:"title__str_network_is_not_supported_yet"},{chain:null==r?void 0:r.name})}),Object(Y.jsx)(ve.default,{typography:"Body1",color:"text-subdued",mt:2,textAlign:"center",children:a.formatMessage({id:"content__choose_a_supported_network"})}),Object(Y.jsx)(vt.default,{space:2,mt:6,flexWrap:"wrap",justifyContent:"center",children:c.map((function(e){return Object(Y.jsx)(D.default,{label:null==e?void 0:e.name,placement:"top",children:Object(Y.jsx)($.default,{onPress:function(){return l(e)},children:Object(Y.jsx)(N.default,{mb:3,children:Object(Y.jsx)(Tt.default,{position:"relative",mb:3,size:8,token:{logoURI:null==e?void 0:e.logoURI}})})})},e.id)}))})]})})}var Sn=n(2),In=n.n(Sn),Pn=n(21),Mn=n.n(Pn),An=n(11),Tn=n(99);function Dn(e){var t=e.option,n=e.isChecked,r=e.onSelected,o=e.isAlreadyUnlimited,a=t.title,i=t.subtitle,c=t.content,l=t.isUnlimited,s=Object(y.default)();return Object(Y.jsx)($.default,{borderRadius:12,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed",borderColor:"surface-pressed"},paddingX:3,paddingY:2,marginX:-3,onPress:function(){return r(l)},children:Object(Y.jsxs)(vt.default,{space:4,alignItems:"center",children:[Object(Y.jsxs)(N.default,{flex:1,children:[i?Object(Y.jsxs)(vt.default,{space:2,children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:a}),Object(Y.jsx)(ut.default,{title:i,size:"sm"}),o&&l&&Object(Y.jsx)(ut.default,{title:s.formatMessage({id:"form__approved"}),size:"sm",color:"text-success",bgColor:"surface-success-default"})]}):Object(Y.jsxs)(vt.default,{space:2,children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:a}),o&&l&&Object(Y.jsx)(ut.default,{title:s.formatMessage({id:"form__approved"}),size:"sm",color:"text-success",bgColor:"surface-success-default"})]}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",lineHeight:"20px",children:c})]}),Object(Y.jsx)(N.default,{opacity:n?1:0,children:Object(Y.jsx)(ee.default,{name:"CheckMini",color:"icon-success"})})]})})}function Rn(e){var t=e.closeOverlay,n=e.isUnlimited,r=e.setIsUnlimited,o=e.isAlreadyUnlimited,a=Object(y.default)(),c=Object(j.default)(),l=Object(i.useState)(n),s=x()(l,2),u=s[0],d=s[1],f=[{title:a.formatMessage({id:"form__exact_amount"}),subtitle:a.formatMessage({id:"content__safer"}),content:a.formatMessage({id:"content__approve_the_amount_to_tokens_to_be_sent"}),isUnlimited:!1},{title:a.formatMessage({id:"form__unlimited"}),content:a.formatMessage({id:"content__you_dont_need _to_approve_again_in_the_future"}),isUnlimited:!0}],b=Object(i.useCallback)((function(e){d(e)}),[]);return Object(Y.jsx)(dt.default,{closeOverlay:t,showCloseButton:!c,title:a.formatMessage({id:"title__approval"}),children:Object(Y.jsxs)(N.default,{pb:c?6:0,children:[f.map((function(e){return Object(Y.jsx)(Dn,{isChecked:u===e.isUnlimited,option:e,onSelected:b,isAlreadyUnlimited:o},e.title)})),Object(Y.jsx)(re.default,{type:"primary",size:"xl",mt:6,onPress:function(){r(u),t()},children:a.formatMessage({id:"action__done"})})]})})}var En=n(1677),Bn=n(4538),Nn=n(950);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hn=n(5249),zn=n.n(Hn),Fn=n(302);function Un(e){var t="";switch(e){case Nn.ReceiverExampleType.CSV:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.csv";break;case Nn.ReceiverExampleType.TXT:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.txt";break;case Nn.ReceiverExampleType.Excel:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.xlsx";break;default:t="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.txt"}Object(Fn.openUrlExternal)(t)}function Vn(){var e=Object(y.default)();return Object(Y.jsxs)(vt.default,{space:"10px",children:[Object(Y.jsxs)(ve.default,{fontSize:14,color:"text-subdued",children:[e.formatMessage({id:"content__download_example"}),":"]}),Object(Y.jsx)($.default,{onPress:function(){return Un(Nn.ReceiverExampleType.CSV)},children:Object(Y.jsx)(ve.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"CSV,"})}),Object(Y.jsx)($.default,{onPress:function(){return Un(Nn.ReceiverExampleType.TXT)},children:Object(Y.jsx)(ve.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"TXT,"})}),Object(Y.jsx)($.default,{onPress:function(){return Un(Nn.ReceiverExampleType.Excel)},children:Object(Y.jsx)(ve.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"Excel"})})]})}function Gn(e){var t=Object(i.useRef)(),n=Object(i.useRef)(),r=e.receiverString,o=e.setReceiverString,a=Object(y.default)(),c=function(e){return e.split("\n").map((function(e,t){return""+(t+1)+new Array(e.length+3).join(" ")})).join("\n")}(r),l=Object(i.useCallback)((function(){var e,r;null==(e=n.current)||e.scrollTo({top:null==(r=t.current)?void 0:r.scrollTop})}),[]);return Object(i.useLayoutEffect)((function(){n.current&&(n.current.style.whiteSpace="break-spaces")}),[]),Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsx)(At.default,{ref:t,placeholder:a.formatMessage({id:"form__receiver_address_amount"}),onScroll:l,bgColor:"transparent",bg:"transparent",value:r,pl:"46px",h:"240px",margin:"1px",shadow:"none",fontFamily:d.default.isNativeIOS?"Menlo":"monospace",onChangeText:function(e){return o(e)}}),Object(Y.jsx)(At.default,{ref:n,borderColor:"transparent",color:"text-disabled",value:c,h:"240px",fontFamily:"monospace",position:"absolute",zIndex:-1,left:"1px",top:"1px",right:"1px",bottom:"1px",isReadOnly:!0})]})}function qn(e){var t=e.receiverErrors,n=e.showFileError,r=Object(y.default)(),o=Object(i.useMemo)((function(){for(var e=[],n=t.length,o=0,a=Mn.a.min(n,3).toNumber();o<a;o+=1){var i=t[o];e.push(Object(Y.jsxs)(vt.default,{space:"10px",alignItems:"center",children:[Object(Y.jsx)(ee.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),Object(Y.jsxs)(ve.default,{typography:"Caption",color:"text-warning",fontSize:12,children:[r.formatMessage({id:"form__line_str"},{0:i.lineNumber}),": ",i.message]},i.lineNumber)]},i.lineNumber))}return n>3&&e.push(Object(Y.jsxs)(vt.default,{space:"10px",alignItems:"center",children:[Object(Y.jsx)(ee.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),Object(Y.jsx)(ve.default,{typography:"Caption",fontSize:12,color:"text-warning",children:r.formatMessage({id:"msg__other_str_lines_errors"},{count:n-3})})]})),e}),[t,r]);return Object(Y.jsxs)(Y.Fragment,{children:[n&&Object(Y.jsxs)(vt.default,{space:"10px",alignItems:"center",children:[Object(Y.jsx)(ee.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),Object(Y.jsx)(ve.default,{typography:"Caption",color:"text-warning",fontSize:12,children:r.formatMessage({id:"msg__the_content_format_of_the_upload_file_is_incorrect"})})]}),o]})}function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xn(e){var t=e.receiverFromOut,n=e.setReceiverFromOut,r=e.setReceiver,o=e.type,a=e.receiverErrors,c=e.showFileError,l=e.setShowFileError,s=Object(y.default)(),u=Object(i.useState)(""),d=x()(u,2),f=d[0],b=d[1],j=function(e){var t=e.header,n=Object(i.useState)([]),r=x()(n,2),o=r[0],a=r[1],c=Object(En.useDropzone)(Wn({multiple:!1,accept:{"text/csv":[".csv"],"text/plain":[".txt"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDropAccepted:function(){var e=In()((function*(e){try{var n=yield e[0].arrayBuffer(),r=Object(Bn.read)(n,{raw:!0}),o=Bn.utils.sheet_to_json(r.Sheets[r.SheetNames[0]],{header:t});a(o)}catch(i){}}));return function(t){return e.apply(this,arguments)}}()},e));return Wn(Wn({},c),{},{data:o})}({header:[Nn.TokenReceiverEnum.Address,Nn.TokenReceiverEnum.Amount],noClick:!0,onDrop:function(e,t){t.length>0&&l(!0)}}),p=j.isDragAccept,O=j.data,m=j.getRootProps,h=Object(H.useDebounce)(f,500,{leading:!0});return Object(i.useEffect)((function(){r(function(e,t){var n=[];if(""===e)return[];for(var r=e.split("\n"),o=0;o<r.length;o+=1){var a=r[o].split(",");(t===Nn.BulkSenderTypeEnum.Token||Nn.BulkSenderTypeEnum.NativeToken)&&n.push({Address:zn()(a[0]),Amount:zn()(a[1])})}return n}(h,o))}),[h,r,o]),Object(i.useEffect)((function(){t.length>0&&b(function(e){var t=e.length;return e.reduce((function(e,n,r){return""+e+[n.Address,n.Amount].join(",")+(r===t-1?"":"\n")}),"")}(t))}),[t]),Object(i.useEffect)((function(){O&&O[0]&&O[0].Address&&O[0].Amount?(l(!1),n(O.filter((function(e){return e.Address!==Nn.TokenReceiverEnum.Address&&e.Amount!==Nn.TokenReceiverEnum.Amount})))):O&&O[0]&&l(!0)}),[O,s,n,l]),Object(Y.jsxs)(N.default,{children:[Object(Y.jsxs)("div",Zn(Zn({style:{width:"100%",height:"100%",position:"relative"}},m()),{},{children:[Object(Y.jsx)(Gn,{receiverString:f,setReceiverString:b}),p&&Object(Y.jsx)(T.default,{flex:"1",bg:"backdrop",zIndex:999,position:"absolute",left:"0",right:"0",top:"0",bottom:"0",borderRadius:12,children:Object(Y.jsx)(N.default,{bg:"surface-default",borderWidth:1,borderColor:"interactive-default",w:"358px",borderRadius:12,h:"148px",children:Object(Y.jsxs)(T.default,{h:"full",children:[Object(Y.jsx)(ee.default,{name:"DocumentArrowUpOutline",size:38}),Object(Y.jsx)(ve.default,{mt:5,children:s.formatMessage({id:"form__drag_file_here"})})]})})})]})),Object(Y.jsx)(N.default,{mt:3,children:Object(Y.jsx)(qn,{receiverErrors:a,showFileError:c})})]})}function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e){var t=e.setReceiverFromOut,n=e.setIsUploadMode,r=e.showFileError,o=e.setShowFileError,i=Object(a.default)(["surface-default","border-default","interactive-default"]),c=x()(i,3),l=c[0],s=c[1],u=c[2],d=Object(y.default)(),f=Object(En.useDropzone)({multiple:!1,accept:{"text/csv":[".csv"],"text/plain":[".txt"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDropAccepted:function(){var e=In()((function*(e){try{var r=yield e[0].arrayBuffer(),a=Object(Bn.read)(r,{raw:!0}),i=Bn.utils.sheet_to_json(a.Sheets[a.SheetNames[0]],{header:[Nn.TokenReceiverEnum.Address,Nn.TokenReceiverEnum.Amount]});i&&i[0]&&i[0].Address&&i[0].Amount?(t(i.filter((function(e){return e.Address!==Nn.TokenReceiverEnum.Address&&e.Amount!==Nn.TokenReceiverEnum.Amount}))),o(!1),n(!1)):o(!0)}catch(c){o(!0)}}));return function(t){return e.apply(this,arguments)}}(),onDropRejected:function(){o(!0)}}),b=f.isDragAccept,j=f.getRootProps,p=f.getInputProps;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",Qn(Qn({},j()),{},{style:{cursor:"pointer",background:l,borderWidth:1,borderStyle:"solid",borderRadius:"12px",height:"148px",borderColor:b?u:s},children:[Object(Y.jsx)("input",Qn({},p())),Object(Y.jsxs)(T.default,{w:"full",h:"full",children:[Object(Y.jsx)(ee.default,{name:"UploadOutline",size:40,color:"icon-subdued"}),Object(Y.jsx)(ve.default,{fontSize:14,mt:"20px",children:d.formatMessage({id:"form__drag_or_drop_file_to_import"})})]})]})),Object(Y.jsx)(N.default,{mt:3,children:Object(Y.jsx)(qn,{receiverErrors:[],showFileError:r})}),Object(Y.jsx)(N.default,{mt:4,children:Object(Y.jsx)(Vn,{})})]})}function $n(e){var t=e.accountId,n=e.networkId,r=e.receiverFromOut,o=e.setReceiverFromOut,a=e.setReceiver,c=e.type,l=e.receiverErrors,s=e.isUploadMode,u=e.setIsUploadMode,d=Object(y.default)(),f=Object(j.default)(),b=Object(i.useState)(!1),p=x()(b,2),O=p[0],m=p[1];return Object(i.useEffect)((function(){m(!1)}),[s]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(vt.default,{justifyContent:"space-between",alignItems:"center",mb:f?7:8,children:[Object(Y.jsx)(ve.default,{fontSize:18,typography:"Heading",children:d.formatMessage({id:"form__receiver_address_amount"})}),Object(Y.jsx)($.default,{_hover:{backgroundColor:"transparent"},color:"text-subdued",onPress:function(){return u(!s)},children:function(e){var t=e.isHovered;return Object(Y.jsxs)(vt.default,{alignItems:"center",space:"5px",children:[Object(Y.jsx)(ee.default,{size:16,name:s?"PencilOutline":"UploadOutline",color:t?"text-default":"text-subdued"}),Object(Y.jsx)(ve.default,{color:t?"text-default":"text-subdued",fontSize:16,children:d.formatMessage({id:s?"action__edit":"action__upload"})})]})}})]}),Object(Y.jsx)(N.default,{display:s?"flex":"none",children:Object(Y.jsx)(Jn,{showFileError:O,setShowFileError:m,setReceiverFromOut:o,setIsUploadMode:u})}),Object(Y.jsx)(N.default,{display:s?"none":"flex",children:Object(Y.jsx)(Xn,{accountId:t,networkId:n,setReceiver:a,receiverFromOut:r,setReceiverFromOut:o,type:c,receiverErrors:l,showFileError:O,setShowFileError:m})}),Object(Y.jsx)(ve.default,{fontSize:12,color:"text-subdued",mt:f?4:3,children:d.formatMessage({id:"form__each_line_should_include_the_address_and_the_amount_seperated_by_commas"})})]})}function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e){var t,n,r=e.accountId,o=e.networkId,a=e.accountAddress,c=e.type,l=Object(i.useState)(null),s=x()(l,2),u=s[0],d=s[1],f=Object(i.useState)([]),p=x()(f,2),O=p[0],m=p[1],h=Object(i.useState)([]),v=x()(h,2),k=v[0],_=v[1],C=Object(i.useState)(!1),S=x()(C,2),I=S[0],P=S[1],M=Object(i.useState)(!1),A=x()(M,2),T=A[0],D=A[1],R=Object(i.useState)(!1),E=x()(R,2),B=E[0],L=E[1],z=Object(i.useState)(!1),F=x()(z,2),U=F[0],V=F[1],G=Object(y.default)(),q=Object(j.default)(),K=Object(w.useNavigation)(),Z=Object(H.useNetwork)({networkId:o}).network,X=Object(H.useAccountTokenLoading)(o,r),Q=Object(H.useAccountTokensOnChain)(o,r,!0),J=Q.find((function(e){return e.isNative})),te=Q.filter((function(e){return!e.isNative&&((null==Z?void 0:Z.impl)!==An.IMPL_TRON||!new Mn.a(e.tokenIdOnNetwork).isInteger())})),ne=W.default.serviceBatchTransfer,oe=W.default.serviceToken,ae=W.default.serviceOverview,ie=c===Nn.BulkSenderTypeEnum.NativeToken,ce=ie?J:te[0],le=u||ce,se=Object(H.useTokenBalance)({accountId:r,networkId:o,token:le,fallback:"0"}),ue=Object(i.useMemo)((function(){var e;return G.formatMessage({id:"content__balance_str"},{0:se+" "+(null!=(e=null==le?void 0:le.symbol)?e:"")})}),[null==le?void 0:le.symbol,G,se]),de=function(e){var t=e.networkId,n=e.receiver,r=e.type,o=e.token,a=Object(i.useState)(!1),c=x()(a,2),l=c[0],s=c[1],u=Object(i.useState)(!0),d=x()(u,2),f=d[0],b=d[1],j=Object(i.useState)([]),p=x()(j,2),O=p[0],m=p[1],h=Object(y.default)(),g=Object(H.useNetworkSimple)(t);return Object(i.useEffect)((function(){In()((function*(){var e=[];if(b(!0),r===Nn.BulkSenderTypeEnum.NativeToken||r===Nn.BulkSenderTypeEnum.Token){for(var a=0;a<n.length;a+=1){var i=n[a],c=i.Address,l=i.Amount,u=!1,d=new Mn.a(l);if(u||(d.isNaN()||d.isNegative())&&(e.push({lineNumber:a+1,message:h.formatMessage({id:"form__modify_the_line_with_the_correct_format"})}),u=!0),!u&&null!=o&&o.decimals&&(d.shiftedBy(o.decimals).isInteger()||(e.push({lineNumber:a+1,message:h.formatMessage({id:"msg__please_limit_the_amount_of_tokens_to_str_decimal_places_or_less"},{0:o.decimals})}),u=!0)),!u)try{yield W.default.validator.validateAddress(t,c.trim())}catch(j){e.push({lineNumber:a+1,message:h.formatMessage({id:"form__incorrect_address_format"})}),u=!0}if(!u&&null!=g&&g.settings.minTransferAmount){var f=new Mn.a(g.settings.minTransferAmount);d.lt(f)&&(e.push({lineNumber:a+1,message:h.formatMessage({id:"form__str_minimum_transfer"},{0:f.toFixed(),1:null==o?void 0:o.symbol})}),u=!0)}}b(!1),s(0===e.length),m(e)}}))()}),[h,null==g?void 0:g.settings.minTransferAmount,t,n,null==o?void 0:o.decimals,null==o?void 0:o.symbol,r]),{isValid:l,isValidating:f,errors:O}}({networkId:o,receiver:O,type:c,token:u||ce}),fe=de.isValid,be=de.isValidating,je=de.errors,pe=Object(i.useCallback)((function(e){d(e)}),[]),Oe=Object(i.useCallback)((function(e){var t=O.map((function(t){return tr(tr({},t),{},{Amount:e})}));_(t)}),[O,_]),me=Object(i.useCallback)((function(){K.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.BulkSender,params:{screen:Nn.BulkSenderRoutes.TokenSelector,params:{accountId:r,networkId:o,tokens:te,onTokenSelected:pe}}})}),[r,pe,K,o,te]),xe=Object(i.useCallback)((function(){K.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.BulkSender,params:{screen:Nn.BulkSenderRoutes.AmountEditor,params:{onAmountChanged:Oe}}})}),[Oe,K]),he=Object(i.useCallback)((function(){!function(e){var t=e.isUnlimited,n=e.setIsUnlimited,r=e.isAlreadyUnlimited;Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(Rn,{isUnlimited:t,setIsUnlimited:n,isAlreadyUnlimited:r,closeOverlay:e})}))}({isUnlimited:B,setIsUnlimited:L,isAlreadyUnlimited:U})}),[B,U]),ge=Object(i.useCallback)((function(e,t){return!e.reduce((function(e,t){return e.plus(t.amount)}),new Mn.a(0)).gt(se)||(Kt.default.show({title:G.formatMessage({id:"form__amount_invalid"},{0:null==t?void 0:t.symbol})},{type:"error"}),!1)}),[se,G]),ye=Object(i.useCallback)(In()((function*(){var e,t;if(0!==O.length&&!be&&!T&&fe){var n,i=[];D(!0);for(var l=u||ce,s=0;s<O.length;s+=1)i.push({from:a,to:O[s].Address,amount:O[s].Amount,token:null==l?void 0:l.tokenIdOnNetwork,tokenSendAddress:null==l?void 0:l.sendAddress});if(ge(i,l)){var d=yield ne.buildEncodedTxsFromBatchApprove({networkId:o,accountId:r,transferInfos:i,isUnlimited:B}),f=d[d.length-1];f&&(n=void 0!==(n=f.nonce)?new Mn.a(n).toNumber():n);var j=(null==Z||null==(e=Z.settings)?void 0:e.maxActionsInTx)||0,p=[];if(j>0&&(null==Z||null==(t=Z.settings)||!t.hardwareMaxActionsEnabled||r.startsWith("hw-")))for(var m=0,x=i.length;m<x;m+=j)p.push(i.slice(m,m+j));else p.push(i);for(var h=[],v=0,y=p.length;v<y;v+=1){var w=yield ne.buildEncodedTxFromBatchTransfer({networkId:o,accountId:r,transferInfos:p[v],prevNonce:n});n=void 0!==(n=w.nonce)?new Mn.a(n).toNumber():n,h.push(w)}D(!1),K.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Send,params:{screen:b.SendModalRoutes.BatchSendConfirm,params:{networkId:o,accountId:r,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,encodedTxs:[].concat(g()(d),h),transferCount:i.length,transferType:c,payloadInfo:{type:"Transfer",transferInfos:i}}}})}else D(!1)}})),[a,r,ce,T,B,fe,be,K,null==Z||null==(t=Z.settings)?void 0:t.hardwareMaxActionsEnabled,null==Z||null==(n=Z.settings)?void 0:n.maxActionsInTx,o,O,u,ne,c,ge]);return Object(w.useFocusEffect)(Object(i.useCallback)((function(){return r&&o&&(ae.startQueryPendingTasks(),oe.fetchAccountTokens({accountId:r,networkId:o})),function(){ae.stopQueryPendingTasks()}}),[r,o,ae,oe])),Object(i.useEffect)((function(){(function(){var e=In()((function*(){var e=yn.batchTransferContractAddress[o];if(!ie&&null!=Z&&Z.settings.batchTransferApprovalRequired&&null!=le&&le.tokenIdOnNetwork&&e){var t=(yield ne.checkIsUnlimitedAllowance({networkId:o,owner:a,spender:e,token:null==le?void 0:le.tokenIdOnNetwork})).isUnlimited;L(t),V(t)}}));return function(){return e.apply(this,arguments)}})()()}),[a,null==le?void 0:le.tokenIdOnNetwork,ie,null==Z?void 0:Z.settings.batchTransferApprovalRequired,o,ne]),Object(i.useEffect)((function(){r&&o&&d(null)}),[r,o]),Object(Y.jsx)(vn.Tabs.ScrollView,{children:Object(Y.jsxs)(N.default,{paddingX:q?4:0,paddingY:5,children:[Object(Y.jsx)($.default.Item,{disabled:X||ie,px:4,py:2,borderColor:"border-default",borderWidth:1,borderRadius:12,onPress:me,children:Object(Y.jsxs)(vt.default,{alignItems:"center",children:[Object(Y.jsx)(Tt.default,{flex:1,size:8,showInfo:!0,showTokenVerifiedIcon:!1,token:u||ce,name:(null==u?void 0:u.name)||(null==ce?void 0:ce.name),showExtra:!1,description:ue}),!ie&&Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})}),Object(Y.jsx)(N.default,{mt:6,children:Object(Y.jsx)($n,{accountId:r,networkId:o,setReceiver:m,receiverFromOut:k,setReceiverFromOut:_,receiverErrors:je,type:c,isUploadMode:I,setIsUploadMode:P})}),Object(Y.jsxs)(N.default,{display:I?"none":"flex",children:[Object(Y.jsx)(ve.default,{fontSize:12,color:"text-subdued",mt:q?4:3,children:G.formatMessage({id:"content__deflationary_token_transfers_are_not_supported_at_this_moment"})}),Object(Y.jsxs)(vt.default,{space:4,alignItems:"center",flexWrap:"wrap",children:[Object(Y.jsx)(re.default,{mt:4,type:"basic",size:"sm",leftIconName:"CurrencyDollarSolid",onPress:xe,children:Object(Y.jsx)(ve.default,{typography:"CaptionStrong",children:G.formatMessage({id:"action__edit_amount"})})}),!ie&&(null==Z?void 0:Z.settings.batchTransferApprovalRequired)&&Object(Y.jsx)(re.default,{mt:4,type:"basic",size:"sm",leftIconName:"CurrencyDollarSolid",onPress:he,paddingTop:U?"4px":"6px",paddingBottom:U?"4px":"6px",children:Object(Y.jsxs)(vt.default,{space:2,alignItems:"center",children:[Object(Y.jsx)(ve.default,{typography:"CaptionStrong",children:G.formatMessage({id:B?"action__approval_unlimited":"action__approval_exact_amount"})}),U&&B&&Object(Y.jsx)(ut.default,{size:"sm",color:"text-success",bgColor:"surface-success-default",title:G.formatMessage({id:"form__approved"})})]})})]}),Object(Y.jsx)(N.default,{mt:4,children:Object(Y.jsx)(re.default,{isLoading:be||T,isDisabled:be||!fe||0===O.length||T,type:"primary",size:"xl",maxW:q?"full":"280px",onPress:ye,children:G.formatMessage({id:"action__preview"})})}),Object(Y.jsx)(N.default,{mt:4,children:Object(Y.jsx)(Vn,{})})]})]})})}var rr=function(){return Object(Y.jsx)(ve.default,{})};var or=function(){var e=Object(y.default)(),t=Object(kn.useNavigationBack)(),n=Object(w.useNavigation)(),r=Object(j.default)(),o=Object(a.default)(["background-default"]),c=x()(o,1)[0],l=Object(H.useActiveWalletAccount)(),s=l.accountId,u=l.networkId,d=l.accountAddress,f=l.network,b=(null==f?void 0:f.enabled)&&(null==f?void 0:f.settings.supportBatchTransfer)&&(!(null==f||!f.settings.nativeSupportBatchTransfer)||yn.batchTransferContractAddress[u]),p=Object(H.useNativeToken)(u),O=Object(_n.useConnectAndCreateExternalAccount)({networkId:u}).connectAndCreateExternalAccount,m=Object(i.useMemo)((function(){return s?null:Object(Y.jsx)(re.default,{onPress:O,mr:6,children:e.formatMessage({id:"action__connect_wallet"})})}),[e,O,s]),h=Object(i.useCallback)((function(e){var n=e.tintColor;return Object(Y.jsxs)(vt.default,{alignItems:"center",children:[Object(Y.jsx)(gn.default,{tintColor:n,onPress:t,canGoBack:!0}),!r&&Object(Y.jsx)(ve.default,{typography:"Heading",color:"text-default",children:"Bulk Send"})]})}),[t,r]),g=Object(i.useCallback)((function(){return s?Object(Y.jsx)(N.default,{pr:"6",children:Object(Y.jsx)(wn.NetworkAccountSelectorTrigger,{type:r?"basic":"plain"})}):m}),[s,r,m]);Object(i.useLayoutEffect)((function(){n.setOptions({title:"",headerRight:g})}),[n,h,g]);var v=Object(i.useMemo)((function(){var t,n=[Object(Y.jsx)(vn.Tabs.Tab,{name:Nn.BulkSenderTypeEnum.NativeToken,label:null!=(t=null==p?void 0:p.symbol)?t:"",children:Object(Y.jsx)(nr,{accountId:s,networkId:u,accountAddress:d,type:Nn.BulkSenderTypeEnum.NativeToken})})];return null!=f&&f.settings.tokenEnabled&&n.push(Object(Y.jsx)(vn.Tabs.Tab,{name:Nn.BulkSenderTypeEnum.Token,label:e.formatMessage({id:"form__token"}),children:Object(Y.jsx)(nr,{accountId:s,networkId:u,accountAddress:d,type:Nn.BulkSenderTypeEnum.Token})})),n}),[d,s,e,null==p?void 0:p.symbol,null==f?void 0:f.settings.tokenEnabled,u]);return b?Object(Y.jsx)(vn.Tabs.Container,{headerContainerStyle:{width:"100%",maxWidth:768},containerStyle:{width:"100%",maxWidth:768,marginHorizontal:"auto",backgroundColor:c,alignSelf:"center",flex:1},renderHeader:rr,headerHeight:r?0:30,disableRefresh:!0,children:v}):Object(Y.jsx)(Cn,{networkId:u})},ar=n(1671),ir=function(){var e=Object(je.default)().bottom,t=Object(H.useActiveWalletAccount)(),n=t.accountId,r=t.networkId,o=t.walletId;return Object(Y.jsx)(ar.default,{walletId:o,accountId:n,networkId:r,flatStyle:!0,ListFooterComponent:Object(Y.jsx)(N.default,{h:48+e+"px"})})},cr=n(4017),lr=Object(i.createContext)(null);function sr(){return Object(i.useContext)(lr)}var ur=n(1035),dr=n(649),fr=n(414),br=n(484),jr=n(612),pr=n(2441),Or=["asset","cardWidth","margin","marginBottom"];function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e){switch(e){case 3:return 45;case 4:return 48;case 5:return 50;default:return 48}}var gr=function(e){var t=e.numColumns,n=e.margin,r=e.cardWidth,o=e.marginBottom,a=new Array(2).fill(0),i=new Array(t).fill(0),c=Object(j.default)();return Object(Y.jsx)(ur.default,{width:"full",space:o+"px",children:a.map((function(e,t){return Object(Y.jsx)(dr.default,{width:"full",space:n+"px",children:i.map((function(e,n){return Object(Y.jsxs)(N.default,{flexDirection:"column",children:[Object(Y.jsx)(Ut.default,{width:r,height:r,borderRadius:"12px"}),Object(Y.jsx)(N.default,{mt:"8px",children:Object(Y.jsx)(ne.default,{shape:c?"Body2":"Body1"})})]},"row"+n+t)}))},"col"+t)}))})},vr=function(e){var t=e.asset,n=e.cardWidth,r=(e.margin,e.marginBottom,O()(e,Or)),o="";o=t.name&&t.name.length>0?t.name:"#"+t.tokenId;var a="";t.latestTradePrice&&"number"===typeof t.latestTradePrice&&(a=t.latestTradePrice+" "+t.latestTradeSymbol);var i=r.onPress,c=Object(j.default)();return Object(Y.jsxs)(fr.default,{style:{marginHorizontal:c?4:12,width:n},onPress:i,children:[Object(Y.jsx)(jr.default,{asset:t,borderRadius:"12px",size:n}),Object(Y.jsxs)(N.default,{mt:"8px",alignSelf:"stretch",children:[Object(Y.jsx)(ve.default,{typography:{sm:"Body2Strong",md:"Body1Strong"},isTruncated:!0,children:o}),a?Object(Y.jsx)(ve.default,{typography:"Body2",mt:"4px",color:"text-subdued",numberOfLines:1,children:a}):null]})]})},yr=function(e){var t,n,r=e.contractAddress,o=e.networkId,a=e.ListHeaderComponent,c=Object(j.default)(),l=Object(ye.default)().screenWidth,s=Object(br.useIsMounted)(),u=Object(w.useNavigation)(),d=null==(t=sr())?void 0:t.context,f=null==(n=sr())?void 0:n.setContext,p=Object(i.useRef)(),O=Object(i.useRef)(),m=W.default.serviceNFT,x=c?16:32,h=c?16:24,g=c?8:24,v=c?l-32:Math.min(992,l-224-2*x),y=Object(pr.useGridListLayout)({maxCardWidth:145,numColumns:3,margin:g,pageWidth:v}),k=y.cardWidth,_=y.numColumns,C=Object(i.useCallback)(function(){var e=In()((function*(e){var t=yield m.getCollectionAssets(e);null!=t&&t.content&&(p.current=t.next,f&&f((function(e){return null!=d&&d.refreshing?xr(xr({},e),{},{assetList:t.content}):xr(xr({},e),{},{assetList:e.assetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==d?void 0:d.refreshing,m,f]);Object(i.useEffect)((function(){0===(null==d?void 0:d.selectedIndex)&&s&&0===(null==d?void 0:d.attributes.length)&&(null!=d&&d.refreshing&&(p.current=void 0),null!==p.current&&C({chain:o,contractAddress:r,cursor:p.current,limit:hr(_)}).then((function(){f&&f((function(e){return xr(xr({},e),{},{refreshing:!1})}))})))}),[null==d?void 0:d.attributes.length,null==d?void 0:d.refreshing,null==d?void 0:d.selectedIndex,r,C,s,o,_,f]);var S=Object(i.useCallback)(function(){var e=In()((function*(e){var t=yield m.getAssetsWithAttributes(e);null!=t&&t.content&&(O.current=t.next,f&&f((function(e){return null!=d&&d.refreshing?xr(xr({},e),{},{filterAssetList:t.content}):xr(xr({},e),{},{filterAssetList:e.filterAssetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==d?void 0:d.refreshing,m,f]);Object(i.useEffect)((function(){0===(null==d?void 0:d.selectedIndex)&&s&&(null==d?void 0:d.attributes.length)>0&&(null!=d&&d.refreshing&&(O.current=void 0,f&&f((function(e){return xr(xr({},e),{},{filterAssetList:[]})}))),null!==O.current&&S({chain:o,attributes:d.attributes,contractAddress:r,cursor:O.current,limit:hr(_)}).then((function(){f&&f((function(e){return xr(xr({},e),{},{refreshing:!1})}))})))}),[null==d?void 0:d.attributes,null==d?void 0:d.refreshing,null==d?void 0:d.selectedIndex,r,S,s,o,_,f]);var I=Object(ae.useNetworks)().find((function(e){return e.id===o})),P=Object(i.useCallback)((function(e){I&&u.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Collectibles,params:{screen:b.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,network:I,isOwner:!1}}})}),[u,I]),M=Object(i.useCallback)((function(e){var t=e.item;return Object(Y.jsx)(vr,{onPress:function(){P(t)},asset:t,cardWidth:k})}),[k,P]),A=Object(i.useMemo)((function(){return Object(Y.jsx)(gr,{numColumns:_,cardWidth:k,margin:g,marginBottom:h})}),[k,g,h,_]),T=Object(i.useMemo)((function(){var e;return d?(null==d||null==(e=d.attributes)?void 0:e.length)>0?null==d?void 0:d.filterAssetList:null==d?void 0:d.assetList:[]}),[d]),D=Object(i.useCallback)((function(){d&&(0===(null==d?void 0:d.attributes.length)&&null!==p.current&&C({chain:o,contractAddress:r,cursor:p.current,limit:hr(_)}),(null==d?void 0:d.attributes.length)>0&&null!==O.current&&S({chain:o,attributes:d.attributes,contractAddress:r,cursor:O.current,limit:hr(_)}))}),[d,r,C,S,o,_]),R=Object(i.useCallback)((function(){return d&&(null!==p.current&&0===(null==d?void 0:d.attributes.length)||null!==O.current&&(null==d?void 0:d.attributes.length)>0)?A:Object(Y.jsx)(N.default,{})}),[A,d]);return Object(Y.jsx)(vn.Tabs.FlatList,{numColumns:_,ListHeaderComponent:a,style:{padding:x},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},columnWrapperStyle:{marginHorizontal:c?-4:-12,paddingBottom:c?16:24},ListFooterComponent:R,data:T,renderItem:M,keyExtractor:function(e){return""+e.tokenId},onEndReached:D},_)},wr=n(195),kr=n.n(wr),_r=n(3959),Cr=n(3942);function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pr=function(e){var t,n,r,o,a=Object.assign({},(kr()(e),e)),c=null==(t=sr())?void 0:t.context,l=null==c?void 0:c.collection,s=null!=(n=null!=(r=null==l?void 0:l.contractName)?r:null==l?void 0:l.name)?n:"",u=Object(y.default)(),d=Object(j.default)(),f=Object(H.useNavigation)();Object(i.useEffect)((function(){d||f.setOptions({title:s})}),[d,s,f]);var b=Object(i.useMemo)((function(){var e;return[d?null:{key:u.formatMessage({id:"content__items"}),value:null==l?void 0:l.itemsTotal},{key:u.formatMessage({id:"content__owners"}),value:null==l?void 0:l.ownersTotal},{key:u.formatMessage({id:"content__floor"}),value:Object(Cr.PriceString)({price:null==l?void 0:l.floorPrice,symbol:null==l?void 0:l.priceSymbol,networkId:null==c?void 0:c.networkId})},{key:u.formatMessage({id:"content__blue_chip_rates"}),value:null==l||null==(e=l.blueChip)?void 0:e.next_blue_chip_probability},{key:u.formatMessage({id:"content__int_hours_volume"},{0:24}),value:Object(Cr.PriceString)({price:null==l?void 0:l.volume24h,symbol:null==l?void 0:l.priceSymbol,networkId:null==c?void 0:c.networkId})}]}),[null==l||null==(o=l.blueChip)?void 0:o.next_blue_chip_probability,null==l?void 0:l.floorPrice,null==l?void 0:l.itemsTotal,null==l?void 0:l.ownersTotal,null==l?void 0:l.priceSymbol,null==l?void 0:l.volume24h,null==c?void 0:c.networkId,u,d]),p=Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",numberOfLines:2,children:(null==l?void 0:l.description)||u.formatMessage({id:"content__no_description"})});return Object(Y.jsxs)(N.default,Ir(Ir({},a),{},{children:[Object(Y.jsxs)(N.default,{flexDirection:"row",children:[Object(Y.jsx)(_r.default,{src:null==l?void 0:l.logoUrl,width:"64px",height:"64px",verified:null==l?void 0:l.openseaVerified}),Object(Y.jsxs)(N.default,{ml:{base:"16px",md:"24px"},maxW:"576px",flex:1,children:[Object(Y.jsx)(ve.default,{typography:"PageHeading",mb:"4px",numberOfLines:1,children:s||"\u2013"}),Object(Y.jsx)(N.default,{mt:"4px",children:d?Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:u.formatMessage({id:"content__int_items"},{0:null==l?void 0:l.itemsTotal})}):p})]})]}),d?Object(Y.jsx)(N.default,{mt:"16px",children:p}):null,Object(Y.jsx)(N.default,{flexDirection:"row",mt:"24px",flexWrap:"wrap",mb:{base:"-16px",md:0},children:b.map((function(e){return e?Object(Y.jsxs)(N.default,{mr:{md:"32px"},mb:{base:"16px",md:0},width:{base:"50%",sm:"33.33%",md:"auto"},children:[Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.key}),Object(Y.jsx)(ve.default,{typography:"Body1Strong",mt:"4px",children:e.value||"-"})]}):null}))})]}))},Mr=n(369),Ar=n(819);function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rr,Er=function(){return Object(Y.jsx)(Y.Fragment,{children:[1,2,3,4,5].map((function(){return Object(Y.jsxs)(qt.default,{px:0,children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Ut.default,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"}),description:Object(Y.jsx)(ne.default,{shape:"Body2"})}}),Object(Y.jsx)(qt.default.Column,{text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"})}})]})}))})},Br=function(){var e=Object(y.default)();return Object(j.default)()?null:Object(Y.jsxs)(qt.default,{width:"full",px:0,children:[Object(Y.jsx)(qt.default.Column,{flex:2.7,text:{label:e.formatMessage({id:"title__nft"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:"FROM",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(Y.jsx)(N.default,{size:"20px"}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:"TO",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:e.formatMessage({id:"content__price"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]})},Nr=function(e){var t,n,r,o,a,i,c,l=e.item,s=Object(Ar.default)().formatDistanceToNow,u="# "+(null!=(t=null==(n=l.asset)?void 0:n.tokenId)?t:"");null!=(r=l.asset)&&r.name&&(null==(o=l.asset)?void 0:o.name.length)>0&&(u=null==(c=l.asset)?void 0:c.name);return Object(Y.jsxs)(qt.default,{width:"full",px:0,children:[l.asset&&Object(Y.jsx)(jr.default,{asset:l.asset,borderRadius:"6px",size:40}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:l.timestamp?s(l.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{text:{label:(null!=(a=l.tradePrice)?a:0)+" "+(null!=(i=l.tradeSymbol)?i:""),labelProps:{typography:"Body1Strong",textAlign:"right",mb:"24px"}}})]})},Lr=function(e){var t,n,r,o,a,i,c,l=e.network,s=e.item,u="# "+(null!=(t=null==(n=s.asset)?void 0:n.tokenId)?t:"");null!=(r=s.asset)&&r.name&&(null==(o=s.asset)?void 0:o.name.length)>0&&(u=null==(c=s.asset)?void 0:c.name);var d=Object(Ar.default)().formatDistanceToNow,f=Object(Mr.default)(l).openAddressDetails;return Object(Y.jsxs)(qt.default,{width:"full",px:0,children:[Object(Y.jsxs)(dr.default,{flex:2.7,space:"12px",alignItems:"center",children:[s.asset&&Object(Y.jsx)(jr.default,{asset:s.asset,borderRadius:"6px",size:40}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:s.timestamp?d(s.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}})]}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:Object(Y.jsx)($.default,{onPress:function(){f(s.send)},flex:1,justifyContent:"center",children:Object(Y.jsx)(ve.default,{numberOfLines:1,typography:"Body1Underline",children:s.send})})}}),Object(Y.jsx)(ee.default,{name:"ChevronDoubleRightMini",size:20}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:Object(Y.jsx)($.default,{onPress:function(){f(s.receive)},flex:1,justifyContent:"center",children:Object(Y.jsx)(ve.default,{numberOfLines:1,typography:"Body1Underline",children:s.receive})})}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:(null!=(a=s.tradePrice)?a:0)+" "+(null!=(i=s.tradeSymbol)?i:""),labelProps:{typography:"Body1Strong",textAlign:"right"}}})]})},Wr=function(e){var t,n,r=e.contractAddress,o=e.networkId,a=e.ListHeaderComponent,c=Object(j.default)(),l=null==(t=sr())?void 0:t.context,s=null==(n=sr())?void 0:n.setContext,u=Object(i.useRef)(),d=W.default.serviceNFT,f=Object(br.useIsMounted)(),b=Object(i.useCallback)(function(){var e=In()((function*(e){var t=yield d.getCollectionTransactions(e);null!=t&&t.content&&(u.current=t.next,s&&s((function(e){return null!=l&&l.refreshing?Dr(Dr({},e),{},{txList:t.content}):Dr(Dr({},e),{},{txList:e.txList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==l?void 0:l.refreshing,d,s]);Object(i.useEffect)((function(){1===(null==l?void 0:l.selectedIndex)&&f&&(null!=l&&l.refreshing&&(u.current=void 0),null!==u.current&&b({chain:o,contractAddress:r,cursor:u.current,eventTypes:"sale",showAsset:!0}).then((function(){s&&s((function(e){return Dr(Dr({},e),{},{refreshing:!1})}))})))}),[null==l?void 0:l.refreshing,null==l?void 0:l.selectedIndex,r,b,f,o,s]);var p=Object(ae.useNetworks)(),O=Object(i.useMemo)((function(){return p.find((function(e){return e.id===o}))}),[o,p]),m=Object(i.useCallback)((function(e){var t=e.item;return c?Object(Y.jsx)(Nr,{item:t}):Object(Y.jsx)(Lr,{item:t,network:O})}),[O,c]),x=Object(i.useCallback)((function(){return null!==u.current?Object(Y.jsx)(Er,{}):Object(Y.jsx)(N.default,{})}),[]);return Object(Y.jsx)(gt.default,{ListHeaderComponent:null!=a?a:Br,data:null==l?void 0:l.txList,renderItem:m,ListFooterComponent:x,style:{padding:c?16:32},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},onEndReached:function(){null!==u.current&&b({chain:o,contractAddress:r,cursor:u.current,eventTypes:"sale",showAsset:!0})}})};!function(e){e.Items="items",e.Sales="sales"}(Rr||(Rr={}));var Hr=["items","itemWidth","selectedIndex","onChange"];function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ur=Object(i.memo)(Pr),Vr=function(e){var t=e.items,n=e.itemWidth,r=e.selectedIndex,o=e.onChange,a=O()(e,Hr);return Object(Y.jsxs)(N.default,Fr(Fr({},a),{},{w:"100%",mt:{base:"24px",md:"32px"},children:[Object(Y.jsx)(N.default,{h:"1px",position:"absolute",left:0,bottom:0,right:0,bgColor:"divider"}),Object(Y.jsx)(vt.default,{space:"32px",children:t.map((function(e,t){var a=t===r;return Object(Y.jsx)($.default,{alignItems:"center",pt:"16px",pb:"14px",borderBottomWidth:2,borderBottomColor:a?"interactive-default":"transparent",width:n,onPress:function(){o(t)},children:function(t){var n=t.isHovered,r=t.isPressed;return Object(Y.jsx)(ve.default,{typography:"Body2Strong",textAlign:"center",color:a||n||r?"text-default":"text-subdued",children:e.title})}},""+e.label+t)}))})]}))},Gr=function(){var e,t,n=Object(y.default)(),r=Object(j.default)(),o=null==(e=sr())?void 0:e.context,a=null==(t=sr())?void 0:t.setContext;return Object(Y.jsxs)(N.default,{flexDirection:"column",alignItems:"flex-start",children:[Object(Y.jsx)(Ur,{},"MemoCollectionInfo"),Object(Y.jsx)(Vr,{mb:r?"24px":"32px",selectedIndex:null==o?void 0:o.selectedIndex,onChange:function(e){a&&a((function(t){return Fr(Fr({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:Rr.Items},{title:n.formatMessage({id:"content__sales"}),label:Rr.Sales}]})]})},qr=function(){var e,t,n=Object(y.default)(),r=null==(e=sr())?void 0:e.context,o=null==(t=sr())?void 0:t.setContext;return Object(Y.jsxs)(N.default,{flexDirection:"column",alignItems:"flex-start",children:[Object(Y.jsx)(Ur,{},"MemoCollectionInfo"),Object(Y.jsx)(Vr,{mb:{md:"8px"},selectedIndex:null==r?void 0:r.selectedIndex,onChange:function(e){o&&o((function(t){return Fr(Fr({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:Rr.Items},{title:n.formatMessage({id:"content__sales"}),label:Rr.Sales}]}),Object(Y.jsx)(Br,{})]})},Kr=function(){return Object(Y.jsx)(Gr,{})},Zr=function(){return Object(Y.jsx)(qr,{})},Xr=function(){var e,t=Object(w.useRoute)().params,n=t.networkId,r=t.contractAddress,o=null==(e=sr())?void 0:e.context;return Object(Y.jsx)(Y.Fragment,{children:0===(null==o?void 0:o.selectedIndex)?Object(Y.jsx)(yr,{contractAddress:r,networkId:n,ListHeaderComponent:Kr}):Object(Y.jsx)(Wr,{contractAddress:r,networkId:n,ListHeaderComponent:Zr})})};function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jr=function(e){var t=e.onPromise,n=e.isDisabled,r=Object(y.default)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Wt.default,{from:"md",children:Object(Y.jsx)(yt.default,{isDisabled:n,name:"BarsShrinkOutline",size:"lg",type:"plain",circle:!0,onPromise:t})}),Object(Y.jsx)(Wt.default,{till:"md",children:Object(Y.jsx)(re.default,{isDisabled:n,leftIconName:"BarsShrinkMini",onPromise:t,children:r.formatMessage({id:"title__filter"})})})]})},$r=function(){var e=Object(w.useRoute)().params,t=e.networkId,n=e.collection,r=e.contractAddress,o=e.title,a=Object(i.useState)({selectedIndex:0,collection:n,assetList:[],filterAssetList:[],attributes:[],txList:[],networkId:t}),c=x()(a,2),l=c[0],s=c[1],u=Object(w.useNavigation)(),d=W.default.serviceNFT;Object(i.useLayoutEffect)((function(){u.setOptions({title:""})}),[null==n?void 0:n.contractName,null==n?void 0:n.name,u,o]);var f=Object(i.useMemo)((function(){return!!l.attributes.find((function(e){return e.attribute_values.length>0}))}),[l.attributes]),j=l.collection,p=Object(i.useCallback)((function(){if(j)return Object(Y.jsxs)(N.default,{mr:{base:2.5,md:8},children:[Object(Y.jsx)(Jr,{isDisabled:!j.hasAttributes,onPromise:In()((function*(){if("undefined"===typeof j.attributes||0===j.attributes.length){var e=yield d.getCollectionAttributes({chain:t,contractAddress:r});j.attributes=e}u.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:cr.NFTMarketRoutes.FilterModal,params:{collection:j,attributes:l.attributes,onAttributeSelected:function(e){s((function(t){return Qr(Qr({},t),{},{refreshing:!0,attributes:e})}))}}}})}))}),f&&Object(Y.jsx)(N.default,{top:{base:1,md:-1.5},right:{base:1,md:-1.5},position:"absolute",size:"12px",bgColor:"interactive-default",borderRadius:"full",borderWidth:"2px",borderColor:"background-default"})]})}),[l.attributes,r,j,f,u,t,d]);Object(i.useEffect)((function(){j&&u.setOptions({headerRight:p})}),[j,p,u]),Object(i.useEffect)((function(){In()((function*(){var e=yield d.getCollection({chain:t,contractAddress:r,showStatistics:!0});e&&s((function(t){return Qr(Qr({},t),{},{collection:e})}))}))()}),[r,t,d]);var O=Object(i.useMemo)((function(){return{context:l,setContext:s}}),[l]);return Object(Y.jsx)(lr.Provider,{value:O,children:Object(Y.jsx)(Xr,{})})},eo=n(108),to=n(235),no=n(2405),ro=n(3934),oo=n(36);function ao(e){var t=e.keyword,n=e.onAddressSearch,r=Object(H.useDebounce)(t,500).toLowerCase(),o=Object(i.useState)(!1),a=x()(o,2),c=a[0],l=a[1],s=Object(i.useState)(""),u=x()(s,2),d=u[0],f=u[1],b=Object(i.useState)(""),j=x()(b,2),p=j[0],O=j[1],m=Object(i.useCallback)(function(){var e=In()((function*(e){return W.default.serviceRevoke.lookupEnsName(e)}));return function(t){return e.apply(this,arguments)}}(),[]),h=Object(i.useCallback)(function(){var e=In()((function*(e){try{return yield W.default.validator.validateAddress(oo.OnekeyNetwork.eth,e),!0}catch(sm){return!1}}));return function(t){return e.apply(this,arguments)}}(),[]),g=Object(i.useCallback)(function(){var e=In()((function*(e){return yield W.default.serviceRevoke.getAddress(e,oo.OnekeyNetwork.eth)}));return function(t){return e.apply(this,arguments)}}(),[]);return Object(i.useEffect)((function(){(null==r?void 0:r.length)>0&&In()((function*(){if(r!==d&&r.toLowerCase()!==p.toLowerCase()){l(!0);var e=yield Promise.all([m(r),g(r)]),t=x()(e,2),o=t[0],a=t[1];if(a){if(yield h(a)){var i=o;r.toLowerCase()!==a.toLowerCase()&&f(i=r),O(a),n({address:a.toLocaleLowerCase(),ens:i})}}else f("");l(!1)}}))()}),[r]),Object(i.useMemo)((function(){return{loading:c}}),[c])}var io=["network","loading"];function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var lo=function(){return Object(Y.jsx)(Y.Fragment,{children:[1,2,3,4,5].map((function(e){return Object(Y.jsxs)(qt.default,{children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Ut.default,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"}),description:Object(Y.jsx)(ne.default,{shape:"Body2"})}}),Object(Y.jsx)(qt.default.Column,{w:"200px",text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"}),description:Object(Y.jsx)(ne.default,{shape:"Body2"})}}),Object(Y.jsx)(qt.default.Column,{w:"160px",text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"}),description:Object(Y.jsx)(ne.default,{shape:"Body2"})}}),Object(Y.jsx)(qt.default.Column,{w:"140px",alignItems:"flex-end",text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"})}}),Object(Y.jsx)(Wt.default,{till:"lg",children:Object(Y.jsx)(qt.default.Column,{w:"140px",alignItems:"flex-end",text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"})}})})]},"Skeleton"+e)}))})},so=function(e){var t=e.network,n=e.loading,r=O()(e,io),a=Object(Ar.default)(),c=a.formatDistanceStrict,l=a.format,s=Object(y.default)(),u=Object(w.useNavigation)(),d=Object(i.useCallback)((function(e){t&&u.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Collectibles,params:{screen:b.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,network:t,isOwner:!1}}})}),[u,t]),f=Object(i.useCallback)((function(e){var n,r,o,a,i,u,f,b,j=e.item,p=j.asset,O=j.entry,m=j.exit,x=j.profit,h=Object(Cr.PriceString)({price:new Pn.BigNumber(x).decimalPlaces(3).toString(),symbol:j.exit.tradeSymbol});h=(x>=0?"+":"")+h,"Mint"===O.eventType?b=s.formatMessage({id:"content__mint"}):"Transfer"===O.eventType&&(b=s.formatMessage({id:"action__receive"}));var g,v=new Pn.BigNumber(null!=(n=O.tradePrice)?n:0).decimalPlaces(3).toString(),y=new Pn.BigNumber(null!=(r=null!=(o=null!=(a=m.internalTxValue)?a:m.tokenTxValue)?o:m.tradePrice)?r:0).decimalPlaces(3).toString(),w=j.tokenId?"#"+j.tokenId:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(i=j.contractAddress)?void 0:i.toLowerCase())&&(w=null==(g=j.asset)?void 0:g.name);return Object(Y.jsxs)(qt.default,{children:[Object(Y.jsx)($.default,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){p&&d(p)},children:function(e){var t=e.isHovered;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(qt.default.Column,{children:j.asset&&Object(Y.jsx)(jr.default,{asset:p,borderRadius:"12px",size:40,opacity:t?80:void 0})}),Object(Y.jsx)(qt.default.Column,{flex:1,ml:"12px",text:{label:j.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:w,descriptionProps:{isTruncated:!0}}})]})}}),Object(Y.jsx)(Wt.default,{till:"md",children:Object(Y.jsx)(D.default,{label:l(new Date(O.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:Object(Y.jsx)(qt.default.Column,{w:"200px",text:{label:Object(Y.jsxs)(vt.default,{space:1,alignItems:"center",children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",numberOfLines:1,children:Object(Cr.PriceString)({price:v,symbol:O.tradeSymbol})}),b&&Object(Y.jsx)(ut.default,{type:"default",size:"sm",title:b})]}),description:Object(Y.jsxs)(vt.default,{space:1,alignItems:"center",children:[Object(Y.jsx)(ee.default,{name:"GasIllus",size:16,color:"icon-subdued"}),Object(Y.jsx)(ve.default,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:Object(Cr.PriceString)({price:new Pn.BigNumber(null!=(u=O.gasFee)?u:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),Object(Y.jsx)(Wt.default,{till:"md",children:Object(Y.jsx)(D.default,{label:l(new Date(m.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:Object(Y.jsx)(qt.default.Column,{w:"160px",text:{label:Object(Cr.PriceString)({price:y,symbol:m.tradeSymbol}),description:Object(Y.jsxs)(vt.default,{space:1,alignItems:"center",children:[Object(Y.jsx)(ee.default,{name:"GasIllus",size:16,color:"icon-subdued"}),Object(Y.jsx)(ve.default,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:Object(Cr.PriceString)({price:new Pn.BigNumber(null!=(f=m.gasFee)?f:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),Object(Y.jsx)(qt.default.Column,{w:"140px",text:{label:h,labelProps:{isTruncated:!0,textAlign:"right",numberOfLines:1,color:x>0?"text-success":"text-critical"},description:c(m.timestamp,O.timestamp),descriptionProps:{display:{lg:"none"},textAlign:"right"}}}),Object(Y.jsx)(Wt.default,{till:"lg",children:Object(Y.jsx)(qt.default.Column,{w:"140px",text:{label:c(m.timestamp,O.timestamp),labelProps:{typography:"Body1Strong",textAlign:"right"}}})})]})}),[l,c,d,s,t.id]),j=Object(i.useCallback)((function(){return n?Object(Y.jsx)(lo,{}):null}),[n]);return Object(Y.jsx)(Gt.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({renderItem:f,showDivider:!0,keyExtractor:function(e){return e.contractAddress+e.tokenId},showsVerticalScrollIndicator:!1,ListFooterComponent:j,contentContainerStyle:{width:"100%",maxWidth:1072,alignSelf:"center",padding:32}},r))},uo=["network","loading"];function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jo=function(){return Object(Y.jsx)(Y.Fragment,{children:[1,2,3,4,5].map((function(e){return Object(Y.jsxs)(qt.default,{children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Ut.default,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"}),description:Object(Y.jsx)(ne.default,{shape:"Body2"})}}),Object(Y.jsx)(qt.default.Column,{alignItems:"flex-end",flex:1,text:{label:Object(Y.jsx)(ne.default,{shape:"Body1"}),description:Object(Y.jsx)(ne.default,{shape:"Body2"})}})]},"Skeleton"+e)}))})},po=function(e){var t=e.network,n=e.loading,r=O()(e,uo),o=Object(w.useNavigation)(),a=Object(i.useCallback)((function(e){t&&o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Collectibles,params:{screen:b.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,network:t,isOwner:!1}}})}),[o,t]),c=Object(Ar.default)().formatDistanceStrict,l=Object(i.useCallback)((function(e){var t,n=e.item,r=n.asset,o=n.entry,i=n.exit,l=n.profit,s=Object(Cr.PriceString)({price:new Pn.BigNumber(l).decimalPlaces(3).toString(),symbol:n.exit.tradeSymbol});s=(l>=0?"+":"")+s;var u,d=n.tokenId?"#"+n.tokenId:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(t=n.contractAddress)?void 0:t.toLowerCase())&&(d=null==(u=n.asset)?void 0:u.name);return Object(Y.jsxs)(qt.default,{children:[Object(Y.jsxs)($.default,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){r&&a(r)},children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(jr.default,{asset:r,borderRadius:"12px",size:40})}),Object(Y.jsx)(qt.default.Column,{flex:1,ml:"12px",text:{label:n.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:d,descriptionProps:{isTruncated:!0}}})]}),Object(Y.jsx)(qt.default.Column,{text:{label:s,labelProps:{textAlign:"right",color:l>0?"text-success":"text-critical"},description:c(i.timestamp,o.timestamp),descriptionProps:{isTruncated:!0,textAlign:"right"}}})]})}),[c,a]),s=Object(i.useCallback)((function(){return n?Object(Y.jsx)(jo,{}):Object(Y.jsx)(N.default,{h:"24px"})}),[n]);return Object(Y.jsx)(N.default,{flex:1,children:Object(Y.jsx)(Gt.default,bo(bo({renderItem:l,keyExtractor:function(e){return e.contractAddress+" "+e.tokenId},showsVerticalScrollIndicator:!1,ListFooterComponent:s},r),{},{p:4}))})},Oo=n(608),mo=n.n(Oo),xo=n(5257),ho=n.n(xo),go=n(5258),vo=n.n(go),yo=function(e){var t,n=e.onAddressSearch,r=Object(w.useNavigation)(),o=Object(H.useActiveWalletAccount)(),a=o.network,c=o.account,l=Object(y.default)(),s=Object(Xt.default)().themeVariant,u=Object(_n.useConnectAndCreateExternalAccount)({networkId:null!=(t=null==a?void 0:a.id)?t:""}).connectAndCreateExternalAccount,d=Object(i.useCallback)((function(){r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:cr.NFTMarketRoutes.CalculatorModal,params:void 0}})}),[r]);Object(i.useEffect)((function(){null!=c&&c.address&&n({address:null==c?void 0:c.address})}),[null==c?void 0:c.address,n]);var f=Object(i.useCallback)((function(){return Object(Y.jsx)(vt.default,{children:Object(Y.jsx)(yt.default,{mr:{base:2.5,md:8},type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:d})})}),[d]);Object(i.useLayoutEffect)((function(){r.setOptions({title:"",headerRight:f})}),[f,r]);var p=Object(i.useState)(""),O=x()(p,2),m=O[0],h=O[1],g=ao({keyword:m,onAddressSearch:n}).loading,v=Object(j.default)(),k=Object(w.useIsFocused)();return Object(i.useEffect)((function(){return"ios"===M.default.OS&&mo.a.setEnable(!k),function(){"ios"===M.default.OS&&mo.a.setEnable(!0)}}),[k]),Object(Y.jsxs)(N.default,{flex:1,alignItems:"center",px:"16px",pt:{base:"48px",md:"96px"},children:[Object(Y.jsx)(B.View,{from:{opacity:0,scale:.5},animate:{opacity:1,scale:1},children:Object(Y.jsx)(bt.default,{width:358,height:155,source:"light"===s?vo.a:ho.a})}),Object(Y.jsx)(ve.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"DisplaySmall"},children:l.formatMessage({id:"empty__pnl"})}),Object(Y.jsx)(vt.default,{mt:"24px",w:v?"full":"400px",justifyContent:"center",children:Object(Y.jsx)(wt.default,{flex:1,size:v?"xl":"default",value:m,onChangeText:h,leftIconName:"SearchOutline",numberOfLines:1,placeholder:l.formatMessage({id:"form__enter_address_ens_name"}),rightCustomElement:!0===g?Object(Y.jsx)(T.default,{p:{base:2,md:1},maxW:"32px",maxH:"32px",children:Object(Y.jsx)(It.default,{size:"sm"})}):null})}),Object(Y.jsxs)(vt.default,{w:v?"full":"400px",mt:"24px",space:"12px",alignItems:"center",justifyContent:"center",children:[Object(Y.jsx)(N.default,{height:"1px",bgColor:"divider",flex:1}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:"OR"}),Object(Y.jsx)(N.default,{height:"1px",bgColor:"divider",flex:1})]}),Object(Y.jsx)(re.default,{onPress:u,type:"primary",size:v?"lg":"base",mt:"24px",children:l.formatMessage({id:"action__connect_wallet"})})]})},wo=["loading","network","accountAddress","onAddressSearch"];function ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Co=function(){var e=Object(y.default)();return Object(Y.jsxs)(qt.default,{mt:"48px",px:0,py:0,children:[Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:"NFT",labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{w:"200px",text:{label:e.formatMessage({id:"content__entry_price"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{w:"160px",text:{label:Object(Y.jsx)(D.default,{label:e.formatMessage({id:"content__royalty_fees_are_excluded"}),placement:"top left",children:Object(Y.jsxs)(vt.default,{alignItems:"center",space:1,alignSelf:"flex-start",children:[Object(Y.jsx)(ve.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"content__exit_value"})}),Object(Y.jsx)(ee.default,{name:"QuestionMarkCircleMini",size:16,color:"icon-subdued"})]})}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{w:"140px",text:{label:e.formatMessage({id:"content__profit"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Y.jsx)(Wt.default,{till:"lg",children:Object(Y.jsx)(qt.default.Column,{w:"140px",text:{label:e.formatMessage({id:"content__hodl_duration"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})})]})},So=function(e){var t=e.loading,n=e.network,r=e.accountAddress,o=e.onAddressSearch,a=O()(e,wo),c=a.totalProfit,l=a.win,s=a.lose,u=a.spend,d="0";c&&(d=new Pn.BigNumber(c).decimalPlaces(3).toString(),d=(c.toNumber()>=0?"+":"")+d),d=Object(Cr.PriceString)({price:d,networkId:n.id});var f=Object(i.useState)(null!=r?r:""),b=x()(f,2),p=b[0],m=b[1],h=Object(y.default)(),g=Object(i.useRef)(),v=ao({keyword:p,onAddressSearch:function(e){var t=e.ens,n=e.address;g.current=t,n&&(m(t||Object(eo.shortenAddress)(n)),o(n))}}).loading,k=Object(j.default)(),_=Object(w.useNavigation)(),C=Object(i.useCallback)((function(){Object(to.copyToClipboard)("https://app.onekey.so/pnl"),Kt.default.show({title:h.formatMessage({id:"msg__link_copied"})})}),[h,p,_,n,a]),S=Object(H.useActiveWalletAccount)().account;Object(i.useEffect)((function(){null!=S&&S.address&&m(null==S?void 0:S.address)}),[null==S?void 0:S.address]),Object(i.useEffect)((function(){0===p.length&&null!=S&&S.address&&o(null==S?void 0:S.address)}),[null==S?void 0:S.address,p,o]);var I=Object(i.useMemo)((function(){return 0!==p.length&&!v}),[p,v]);return Object(Y.jsxs)(N.default,{width:"full",p:2,pb:{base:3,md:0},children:[Object(Y.jsx)(N.default,{width:"full",flexDirection:"row",children:Object(Y.jsx)(_t.default,{w:"full",maxW:"400px",value:p,onChangeText:m,rightIconName:I?"XCircleMini":void 0,rightElement:Object(Y.jsx)(T.default,{height:"full",right:"8px",children:!0===v?Object(Y.jsx)(It.default,{size:"sm"}):null}),onClear:function(){m("")},placeholder:h.formatMessage({id:"form__enter_address_ens_name"})})}),Object(Y.jsxs)(N.default,{flexDirection:{sm:"row"},alignItems:{sm:"center"},justifyContent:"space-between",mt:"24px",children:[Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__total_profits"})}),c?Object(Y.jsx)(ve.default,{typography:"Display2XLarge",color:c.toNumber()>0?"text-success":"text-critical",children:d}):Object(Y.jsx)(ne.default,{shape:"Display2XLarge"}),Object(Y.jsxs)(N.default,{flexDirection:"row",mt:"8px",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",mr:"24px",alignItems:"center",children:[void 0!==l?Object(Y.jsx)(ve.default,{mr:"6px",typography:"Body1Strong",color:"text-success",children:l}):Object(Y.jsx)(ne.default,{shape:"Body1"}),Object(Y.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__winning_flips"})})]}),Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",mr:"24px",children:[void 0!==s?Object(Y.jsx)(ve.default,{mr:"6px",typography:"Body1Strong",color:"text-critical",children:s}):Object(Y.jsx)(ne.default,{shape:"Body1"}),Object(Y.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__losing_flips"})})]}),Object(Y.jsx)(Wt.default,{from:"base",till:"md",children:Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[void 0!==u?Object(Y.jsx)(ve.default,{mr:"6px",typography:"Body1Strong",children:Object(Cr.PriceString)({price:new Pn.BigNumber(u).decimalPlaces(3).toString(),networkId:n.id})}):Object(Y.jsx)(Ut.default,{width:"24px",height:"12px",mr:"6px"}),Object(Y.jsx)(ve.default,{typography:"Body1",color:"text-subdued",children:h.formatMessage({id:"content__spent"})})]})})]})]}),Object(Y.jsx)(re.default,{isDisabled:t,type:"primary",size:k?"lg":"base",leftIconName:"ArrowTopRightOnSquareSolid",onPress:C,mt:{base:6,sm:0},children:h.formatMessage({id:"action__share"})})]}),Object(Y.jsx)(Wt.default,{from:"base",till:"md",children:Object(Y.jsx)(Co,{})}),Object(Y.jsx)(xt.default,{mt:{base:"24px",md:"8px"}})]})},Io={},Po=function(e){var t,n=e.accountAddress,r=Object(j.default)(),o=Object(y.default)(),a=Object(H.useActiveWalletAccount)().account,c=Object(w.useNavigation)(),l=Object(ro.useDefaultNetWork)(),s=W.default.serviceNFT,u=Object(_n.useConnectAndCreateExternalAccount)({networkId:null!=(t=null==l?void 0:l.id)?t:""}).connectAndCreateExternalAccount,d=Object(i.useCallback)((function(){c.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:cr.NFTMarketRoutes.CalculatorModal,params:void 0}})}),[c]),f=Object(i.useMemo)((function(){return void 0===(null==a?void 0:a.id)?Object(Y.jsx)(re.default,{onPress:u,children:o.formatMessage({id:"action__connect_wallet"})}):Object(Y.jsx)(no.AccountSelectorTrigger,{type:r?"basic":"plain",showAddress:!r})}),[null==a?void 0:a.id,u,o,r]),p=Object(i.useCallback)((function(){return Object(Y.jsxs)(dr.default,{space:2,alignItems:"center",mr:{base:2.5,md:8},justifyContent:"flex-end",children:[f,Object(Y.jsx)(yt.default,{type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:d})]})}),[d,f]);Object(i.useLayoutEffect)((function(){c.setOptions({i18nTitle:r?"":o.formatMessage({id:"action__profit_and_loss"}),headerRight:p})}),[p,o,r,c]);var O=Object(i.useState)([]),m=x()(O,2),h=m[0],g=m[1],v=Object(i.useRef)({totalProfit:new Pn.BigNumber(0),totalWinProfit:new Pn.BigNumber(0),totalLoseProfit:new Pn.BigNumber(0),lose:0,win:0,spend:new Pn.BigNumber(0),content:[]}),k=Object(i.useRef)(0),_=Object(i.useState)({}),C=x()(_,2),S=C[0],I=C[1],P=Object(i.useState)(n),M=x()(P,2),A=M[0],T=M[1],D=Object(i.useState)(!0),R=x()(D,2),E=R[0],B=R[1],L=Object(i.useCallback)(function(){var e=In()((function*(e){var t,n=50*k.current,r=null==(t=v.current)?void 0:t.content.slice(n,n+50),o=r.map((function(e){return{contract_address:e.contractAddress,token_id:e.tokenId}}));if(0!==r.length){var a=yield s.batchAsset({chain:null==l?void 0:l.id,items:o});if(a){var i={};a.forEach((function(e){var t=e.contractAddress+"-"+e.tokenId;i[t]=e})),r.forEach((function(e){var t=e.contractAddress+"-"+e.tokenId,n=i[t];n&&(e.asset=n)})),h.length+r.length>=v.current.content.length&&B(!1),g(0===e?r:function(e){return e.concat(r)})}}else B(!1)}));return function(t){return e.apply(this,arguments)}}(),[h.length,null==l?void 0:l.id,s]),z=Object(i.useCallback)(function(){var e=In()((function*(e){var t=Io[e];if(t)v.current=t,I(t),L(0);else{var n=yield s.getPNLData({address:e}),r=function(e){var t=new Pn.BigNumber(0),n=new Pn.BigNumber(0),r=new Pn.BigNumber(0),o=new Pn.BigNumber(0),a=0,i=0;return e.forEach((function(e){var c,l,s,u,d,f,b=e.entry,j=e.exit,p=new Pn.BigNumber(null!=(c=b.gasFee)?c:0),O=new Pn.BigNumber(null!=(l=b.tradePrice)?l:0),m=new Pn.BigNumber(null!=(s=j.gasFee)?s:0),x=new Pn.BigNumber(null!=(u=null!=(d=null!=(f=j.internalTxValue)?f:j.tokenTxValue)?d:j.tradePrice)?u:0),h=O.plus(p).plus(m),g=x.minus(h);g.toNumber()>0?(a+=1,n=n.plus(g)):g.toNumber()<0&&(i+=1,r=r.plus(g)),e.profit=g.toNumber(),e.spend=h.toNumber(),t=t.plus(g),o=o.plus(h)})),{totalProfit:t,totalWinProfit:n,totalLoseProfit:r,win:a,lose:i,spend:o,content:e}}(null!=n?n:[]);v.current=r,Io[e]=r,I(r),n&&L(0)}}));return function(t){return e.apply(this,arguments)}}(),[L,s]);Object(i.useEffect)((function(){B(!0),I({totalProfit:new Pn.BigNumber(0),spend:new Pn.BigNumber(0),win:0,lose:0}),k.current=0,g([]),z(A)}),[A]);var F=Object(i.useCallback)((function(){return Object(Y.jsx)(So,_o({accountAddress:n,network:l,onAddressSearch:T,content:v.current.content,loading:0===h.length},S))}),[n,h.length,l,S]),U=Object(i.useCallback)((function(){return E?null:Object(Y.jsx)(ht.default,{emoji:"\ud83d\udcb0",title:o.formatMessage({id:"empty__no_sales_record"}),subTitle:o.formatMessage({id:"empty__no_sales_record_desc"})})}),[o,E]),V=Object(i.useMemo)((function(){return{data:h,ListHeaderComponent:F,ListEmptyComponent:U,onEndReached:function(){k.current+=1,L(k.current)}}}),[U,F,L,h]);return Object(Y.jsx)(N.default,{flex:1,children:r?Object(Y.jsx)(po,_o(_o({},V),{},{loading:E,network:l})):Object(Y.jsx)(so,_o(_o({},V),{},{loading:E,network:l}))})},Mo=function(){var e=Object(H.useActiveWalletAccount)(),t=e.network,n=e.account,r=(null==t?void 0:t.impl)===An.IMPL_EVM,o=Object(i.useState)((function(){return{address:r?null==n?void 0:n.address:void 0}})),a=x()(o,2),c=a[0],l=a[1];return null!=c&&c.address?Object(Y.jsx)(Po,{accountAddress:null==c?void 0:c.address,ens:c.ens}):Object(Y.jsx)(yo,{onAddressSearch:l})},Ao=n(4318),To=n(264);function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ro=Object(i.memo)((function(){var e=Object(H.useNavigation)(),t=Object(j.default)(),n=Object(w.useRoute)(),r=Object(i.useState)(0),a=x()(r,2),c=a[0],l=a[1],s=n.params,u=s.networkId,d=s.accountId,f=Object(i.useCallback)((function(){l((function(e){return e+1}))}),[]),b=Object(H.useAccountPortfolios)({networkId:u,accountId:d,type:To.EOverviewScanTaskType.defi}).data;return Object(i.useLayoutEffect)((function(){e.setOptions({title:"DeFi"})}),[e]),Object(i.useEffect)((function(){setTimeout(f,200)}),[f]),Object(Y.jsx)(Gt.default,{mb:"6",mt:"4",mx:t?4:"50px",data:b.slice(0,10*c),keyExtractor:function(e){var t;return null==(t=e._id)?void 0:t.protocolId},showDivider:!0,renderItem:function(e){var t=e.item;return Object(Y.jsx)(Ao.OverviewDefiProtocol,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))},onEndReached:f})})),Eo=n(1007),Bo=n.n(Eo),No=n(245),Lo=n(308),Wo=n(771),Ho=n(1062),zo=["onChange","isFromRpc"],Fo=["closeOverlay","onChange"];function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Go=function(e){var t=Object(y.default)(),n=e.onChange,r=(e.isFromRpc,O()(e,zo)),o=Object(i.useCallback)((function(e){var t;n(Vo(Vo({},r),{},((t={})[e]=!r[e],t)))}),[n,r]);return Object(Y.jsxs)(Oe.default,{pb:"60px",children:[r.assetType===Ho.AssetType.tokens?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Mt.default,{isChecked:r.includeUnverifiedTokens,label:t.formatMessage({id:"form__include_unverified_tokens"}),isFullMode:!0,onToggle:function(){return o("includeUnverifiedTokens")}}),Object(Y.jsx)(N.default,{h:"6"})]}):null,Object(Y.jsx)(Mt.default,{isChecked:r.includeZeroBalancesTokens,label:t.formatMessage({id:"form__include_zero_balances"}),isFullMode:!0,onToggle:function(){return o("includeZeroBalancesTokens")}}),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(N.default,{h:"6"}),Object(Y.jsx)(Mt.default,{isChecked:r.includeTokensWithoutAllowances,label:t.formatMessage({id:"form__include_tokens_without_allowances"}),isFullMode:!0,onToggle:function(){return o("includeTokensWithoutAllowances")}})]})]})},qo=function(e){var t=e.closeOverlay,n=e.onChange,r=O()(e,Fo),o=Object(i.useState)({assetType:r.assetType,includeUnverifiedTokens:r.includeUnverifiedTokens,includeZeroBalancesTokens:r.includeZeroBalancesTokens,includeTokensWithoutAllowances:r.includeTokensWithoutAllowances}),a=x()(o,2),c=a[0],l=a[1],s=Object(i.useCallback)((function(){null==t||t(),n(c)}),[t,n,c]);return Object(Y.jsx)(Wo.BottomSheetSettings,{closeOverlay:s,children:Object(Y.jsx)(Go,Vo(Vo(Vo({},r),c),{},{onChange:l}))})},Ko=function(e){Object(Tn.showOverlay)((function(t){return Object(Y.jsx)(qo,Vo({closeOverlay:t},e))}))},Zo=["onChange"];function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qo=function(e){var t=Object(y.default)(),n=e.onChange,r=O()(e,Zo),o=r.assetType,a=Object(i.useCallback)((function(e){null==n||n(Yo(Yo({},r),e))}),[r,n]),c=Object(i.useCallback)((function(){return Ko(Yo(Yo({},r),{},{onChange:a}))}),[r,a]);return Object(Y.jsxs)(vt.default,{my:"6",children:[Object(Y.jsxs)(vt.default,{flex:"1",children:[Object(Y.jsx)(re.default,{type:"plain",backgroundColor:o===Ho.AssetType.tokens?"surface-selected":void 0,onPress:function(){return a({assetType:Ho.AssetType.tokens})},children:Object(Y.jsxs)(vt.default,{alignItems:"center",children:[Object(Y.jsx)(te.default.Body2Strong,{children:"\ud83d\udcb0\ufe0f"}),Object(Y.jsx)(te.default.Body2Strong,{ml:"1",children:t.formatMessage({id:"form__token"})})]})}),Object(Y.jsx)(re.default,{type:"plain",ml:"2",onPress:function(){return a({assetType:Ho.AssetType.nfts})},backgroundColor:o===Ho.AssetType.nfts?"surface-selected":void 0,children:Object(Y.jsxs)(vt.default,{alignItems:"center",children:[Object(Y.jsx)(te.default.Body2Strong,{children:"\ud83d\uddbc"}),Object(Y.jsx)(te.default.Body2Strong,{ml:"2",children:"NFTs"})]})})]}),Object(Y.jsx)(yt.default,{size:"sm",name:"CogMini",type:"plain",mr:-2,onPress:c,minW:"42px"})]})},Jo=n(1071),$o=n(151);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function na(e){return Object(Y.jsxs)(oe.default,ta(ta({width:"238",height:"99",viewBox:"0 0 238 99",fill:"none"},e),{},{children:[Object(Y.jsx)(oe.Path,{d:"M31.9901 57.2692C31.6438 58.1349 31.211 58.2215 30.6049 57.6155C29.3929 56.3169 28.5272 53.7197 29.8258 49.0448C31.9901 41.1667 40.128 24.7178 47.7464 12.7708C44.8029 12.511 43.2446 11.2125 42.2057 9.30785C41.7728 8.44212 42.0326 8.00926 43.158 7.83611C50.4301 6.97039 56.9231 3.4209 62.7235 3.16118C67.1387 2.98803 70.9479 4.28663 73.0256 10.1736C74.8437 15.3679 73.6316 20.6489 70.3419 25.0641C65.6669 31.2974 56.3171 36.7514 46.7075 39.0023C49.9973 43.0713 53.1139 47.2268 54.9319 50.8628C56.1439 53.2003 56.4902 56.1438 55.3648 57.8752C54.9319 58.5678 54.499 58.8275 53.9796 58.0484C48.2658 50.2568 43.764 44.6296 39.6951 40.1278C37.3576 44.7161 34.847 50.1702 31.9901 57.2692ZM49.7375 22.0341C47.4001 26.1896 45.2358 29.8256 42.8983 34.0677C62.0309 29.8256 71.8136 17.186 69.303 11.0393C67.3984 6.19123 58.7411 10.693 53.0273 12.2513C53.0273 14.6754 52.075 17.7054 49.7375 22.0341Z",fill:"#CE2E1B"}),Object(Y.jsx)(oe.Path,{d:"M77.4412 55.8841C84.6267 56.2304 90.9466 49.3046 94.6692 43.5908C95.1021 42.8982 95.7946 42.8982 96.1409 43.6774C96.4872 44.3699 96.2275 46.794 94.6692 49.0449C91.0331 54.3258 84.367 58.3082 77.7009 58.3947C66.7062 58.5679 62.897 47.7463 68.5242 36.5784C74.1514 25.4105 82.9819 20.9087 87.3105 23.4193C89.4748 24.7179 91.0331 26.0165 92.4183 27.9211C93.9766 29.9988 93.284 35.2798 89.648 39.695C85.4059 44.8894 79.6055 47.1403 73.5454 42.2056C70.7751 50.1703 72.8528 55.6244 77.4412 55.8841ZM84.6267 35.9724C87.3971 32.3363 89.3017 27.8345 88.0897 26.8822C86.2716 25.4105 79.0861 30.6049 75.0172 38.8293C74.7574 39.3487 74.4977 39.8681 74.3246 40.301C78.5666 42.9848 82.1161 39.2621 84.6267 35.9724Z",fill:"#CE2E1B"}),Object(Y.jsx)(oe.Path,{d:"M122.372 23.0732C123.325 22.1209 123.844 22.2941 124.017 23.4195C124.277 25.2375 123.238 27.4884 120.468 30.9513C116.139 36.4054 108.261 44.7164 99.95 57.8755C99.5171 58.5681 99.0842 59.1741 98.2185 58.7412C94.8422 57.0963 93.6302 55.3649 93.8899 50.7765C94.2362 44.7164 96.5736 32.3365 99.5171 23.3329C99.8634 22.3806 100.556 22.0343 101.249 22.6404C104.105 25.0644 104.538 28.2676 103.326 33.5485C101.768 40.2146 100.037 45.0627 98.8245 54.4991C104.971 44.3701 116.485 29.1333 122.372 23.0732Z",fill:"#CE2E1B"}),Object(Y.jsx)(oe.Path,{d:"M145.661 39.5218C143.843 46.8805 138.388 55.6243 131.982 57.7886C128.865 58.8275 124.537 58.4812 121.074 53.9794C117.265 48.9582 118.563 41.4264 122.459 34.5005C125.749 28.6136 131.03 23.5924 136.224 23.2461C138.908 23.0729 140.38 23.8521 142.111 26.1896C144.102 28.8733 146.699 29.4793 146.18 35.7126C146.093 36.4051 146.093 37.0112 146.007 37.7037C146.526 37.7037 147.046 37.5306 147.738 37.5306C148.344 37.5306 148.344 37.9635 147.998 38.3963C147.392 39.0889 146.526 39.4352 145.661 39.5218ZM138.302 37.3574C136.484 35.9723 134.406 32.9422 134.319 29.739C131.982 31.7302 129.471 34.5871 127.653 37.8769C124.017 44.4564 122.719 52.4211 124.97 54.3257C127.394 56.3169 132.675 53.2868 136.917 45.3221C138.215 42.8981 139.254 40.4741 139.947 38.3963C139.341 38.1366 138.821 37.7903 138.302 37.3574ZM141.245 29.6525C140.812 26.8821 139.081 27.4016 138.648 29.9122C138.215 32.2496 139.168 34.7603 140.553 36.0589C141.245 33.3751 141.505 31.2108 141.245 29.6525Z",fill:"#CE2E1B"}),Object(Y.jsx)(oe.Path,{d:"M170.593 22.0341C173.883 20.9087 175.961 22.2073 177.692 25.8433C179.337 29.2197 179.077 32.8557 175.874 35.9724C172.931 38.8293 169.295 41.3399 163.841 42.9848C164.187 50.0837 166.611 55.0184 169.901 55.3647C173.45 55.711 178.212 49.0449 180.809 43.6773C181.328 42.6385 182.107 42.5519 182.54 43.5908C182.973 44.6296 182.8 46.7074 181.501 48.8717C179.424 52.5078 175.441 58.0484 168.602 57.9619C162.542 57.8753 157.434 52.9406 157.607 41.2533C157.607 39.695 157.781 39.4353 159.425 38.9158C170.16 35.3663 175.874 27.8345 174.576 25.5836C173.623 24.0253 169.814 24.9776 165.226 28.5271C158.733 33.4617 154.837 41.0802 148.171 57.0096C147.911 57.7021 147.219 57.8753 146.613 57.1827C145.314 55.711 144.881 52.9406 146.526 47.6597C148.95 39.7816 163.321 11.2991 171.026 0.823793C171.805 -0.215081 172.671 -0.301654 173.19 0.73722C174.489 3.3344 174.316 6.79732 170.68 13.1171C168.602 16.6666 165.226 22.7267 162.888 26.9688C165.659 24.285 168.342 22.8133 170.593 22.0341Z",fill:"#CE2E1B"}),Object(Y.jsx)(oe.Path,{d:"M189.986 55.8841C197.171 56.2304 203.491 49.3046 207.214 43.5908C207.646 42.8982 208.339 42.8982 208.685 43.6774C209.032 44.3699 208.772 46.794 207.214 49.0449C203.578 54.3258 196.911 58.3082 190.245 58.3947C179.251 58.5679 175.441 47.7463 181.069 36.5784C186.696 25.4105 195.526 20.9087 199.855 23.4193C202.019 24.7179 203.578 26.0165 204.963 27.9211C206.521 29.9988 205.828 35.2798 202.192 39.695C197.95 44.8894 192.15 47.1403 186.09 42.2056C183.32 50.1703 185.397 55.6244 189.986 55.8841ZM197.171 35.9724C199.942 32.3363 201.846 27.8345 200.634 26.8822C198.816 25.4105 191.631 30.6049 187.562 38.8293C187.302 39.3487 187.042 39.8681 186.869 40.301C191.111 42.9848 194.661 39.2621 197.171 35.9724Z",fill:"#CE2E1B"}),Object(Y.jsx)(oe.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M237.998 38.5501C238.038 39.2264 237.521 39.8069 236.845 39.8466C157.929 44.4728 78.6137 50.9245 1.41249 62.7349C0.742742 62.8373 0.11674 62.3775 0.01428 61.7077C-0.0881801 61.0379 0.371701 60.4119 1.04145 60.3095C78.3525 48.4823 157.755 42.0252 236.701 37.3972C237.378 37.3575 237.958 37.8737 237.998 38.5501Z",fill:"#CE2E1B"}),Object(Y.jsx)(oe.Path,{d:"M81.5888 90.4153C80.353 90.4153 79.5551 89.7828 79.1367 88.7611C78.9226 89.2477 78.6697 89.812 78.4556 90.2986C78.3583 90.5321 78.2221 90.5516 78.0858 90.3667C77.7355 89.8996 77.502 89.2185 77.9691 87.7978C78.6015 85.8615 83.1749 77.2209 84.7901 74.9731C85.0042 74.6715 85.1891 74.6715 85.3739 74.9926C85.7242 75.6445 85.7242 76.6954 84.7706 78.4469C84.4204 79.0988 83.4181 80.7141 82.6883 81.9985C83.3695 81.3952 84.0895 81.0157 84.6928 81.0157C86.6778 81.0157 86.7751 83.7694 85.4907 86.6205C84.3912 89.0725 82.9413 90.4056 81.5888 90.4056V90.4153ZM82.6397 82.9229C81.5888 84.0224 80.4698 85.9588 79.6038 87.7589C79.6524 88.44 79.9541 89.1796 80.5866 89.3255C81.4039 89.5104 82.4743 88.8098 83.8365 86.1047C85.1696 83.4678 84.8874 82.0374 84.3522 81.9985C83.8657 81.9498 83.35 82.2126 82.6494 82.9326L82.6397 82.9229Z",fill:"#E2E2E8"}),Object(Y.jsx)(oe.Path,{d:"M90.9495 91.0185C89.6456 94.1517 87.9817 97.9077 86.0454 98.6569C85.5978 98.8223 85.1599 98.8223 84.7123 98.1704C84.2452 97.4698 83.7782 96.6525 84.2452 95.2707C84.9458 93.169 86.9308 91.7678 89.2467 90.8531C89.4802 90.3179 89.7137 89.7341 89.9667 89.1698C89.2467 89.919 88.3515 90.5223 87.4174 90.4542C85.734 90.3179 85.6853 88.6054 86.2302 87.068C86.7459 85.5695 87.8844 83.2634 89.4024 81.1616C89.5872 80.9086 89.8208 80.9281 89.9862 81.1616C90.5505 81.9108 90.4046 82.8936 89.5386 84.2656C88.7018 85.6181 88.1861 86.5815 87.7385 87.6713C87.2714 88.8195 87.32 89.6368 87.8552 89.6757C88.7699 89.7438 89.9375 88.2551 91.1246 86.2214C92.1269 84.4894 93.1291 82.3876 93.9465 81.2005C94.1605 80.8989 94.3162 80.8502 94.5303 81.0351C94.8611 81.4535 95.046 82.4557 94.433 83.6526C93.7324 85.0051 92.3118 87.8075 91.329 90.0747C93.1486 89.0919 94.5303 87.7588 95.4644 86.4744C95.5812 86.309 95.7952 86.2895 95.8342 86.5231C95.8828 86.7371 95.8147 87.2723 95.4158 87.8756C94.5011 89.3254 92.8664 90.2109 90.93 91.0088L90.9495 91.0185ZM85.1793 97.3725C85.481 97.8201 87.3979 95.2707 88.8477 91.8359C85.8118 93.5874 84.7609 96.7887 85.1793 97.3725Z",fill:"#E2E2E8"}),Object(Y.jsxs)(oe.G,{clipPath:"url(#clip0_320_17377)",children:[Object(Y.jsx)(oe.Path,{d:"M106.717 90.5415C105.645 90.5415 104.666 90.289 103.772 89.7841C102.878 89.2792 102.163 88.5744 101.637 87.6908C101.111 86.7861 100.848 85.7762 100.848 84.6401C100.848 83.504 101.111 82.5152 101.637 81.6211C102.163 80.7164 102.867 80.0116 103.772 79.5067C104.666 79.0017 105.655 78.7493 106.717 78.7493C107.78 78.7493 108.779 79.0017 109.663 79.5067C110.557 80.0116 111.262 80.7164 111.777 81.6211C112.303 82.5152 112.566 83.5146 112.566 84.6401C112.566 85.7657 112.303 86.7861 111.777 87.6908C111.262 88.5849 110.557 89.2792 109.663 89.7841C108.769 90.289 107.78 90.5415 106.717 90.5415ZM106.717 88.4797C107.401 88.4797 108.011 88.3219 108.537 88.0169C109.063 87.7013 109.474 87.2489 109.768 86.6599C110.063 86.0813 110.21 85.3975 110.21 84.6296C110.21 83.8617 110.063 83.1885 109.768 82.6204C109.474 82.0418 109.063 81.5895 108.537 81.2844C108.011 80.9794 107.412 80.8216 106.717 80.8216C106.023 80.8216 105.413 80.9794 104.887 81.2844C104.361 81.5895 103.951 82.0418 103.656 82.6204C103.362 83.1885 103.215 83.8617 103.215 84.6296C103.215 85.3975 103.362 86.0813 103.656 86.6599C103.951 87.2384 104.361 87.6908 104.887 88.0169C105.424 88.3219 106.034 88.4797 106.717 88.4797Z",fill:"#E2E2E8"}),Object(Y.jsx)(oe.Path,{d:"M118.478 81.1582C119.562 81.1582 120.435 81.5053 121.098 82.1996C121.76 82.8834 122.097 83.8406 122.097 85.0714V90.4363H119.804V85.387C119.804 84.6612 119.625 84.1036 119.267 83.7249C118.909 83.3252 118.415 83.1358 117.794 83.1358C117.174 83.1358 116.658 83.3357 116.29 83.7249C115.933 84.1142 115.754 84.6612 115.754 85.387V90.4363H113.46V81.295H115.754V82.431C116.059 82.0313 116.448 81.7263 116.921 81.5053C117.405 81.2739 117.931 81.1582 118.499 81.1582H118.478Z",fill:"#E2E2E8"}),Object(Y.jsx)(oe.Path,{d:"M132.069 85.6605C132.069 85.9866 132.048 86.2917 132.006 86.5547H125.368C125.421 87.2174 125.652 87.7329 126.052 88.101C126.452 88.4797 126.957 88.6586 127.546 88.6586C128.398 88.6586 129.008 88.2904 129.366 87.554H131.838C131.575 88.4377 131.07 89.1635 130.333 89.7316C129.587 90.2891 128.682 90.5731 127.598 90.5731C126.725 90.5731 125.936 90.3838 125.242 89.9945C124.558 89.5948 124.011 89.0478 123.622 88.3325C123.243 87.6172 123.043 86.7966 123.043 85.8604C123.043 84.9242 123.233 84.0826 123.622 83.3673C124.001 82.652 124.537 82.105 125.231 81.7158C125.915 81.3266 126.715 81.1372 127.609 81.1372C128.503 81.1372 129.239 81.3266 129.923 81.6947C130.607 82.0734 131.143 82.5994 131.512 83.2937C131.89 83.9774 132.09 84.7664 132.09 85.65L132.069 85.6605ZM129.692 84.9978C129.681 84.4087 129.471 83.9354 129.05 83.5777C128.64 83.2095 128.124 83.0307 127.525 83.0307C126.957 83.0307 126.473 83.2095 126.084 83.5567C125.705 83.8933 125.463 84.3772 125.379 84.9873H129.692V84.9978Z",fill:"#E2E2E8"}),Object(Y.jsx)(oe.Path,{d:"M139.706 90.4362L135.541 85.3028V90.4362H133.248V78.9175H135.541V84.0825L139.706 78.9175H142.473L137.75 84.6295L142.599 90.4362H139.696H139.706Z",fill:"#E2E2E8"}),Object(Y.jsx)(oe.Path,{d:"M150.752 85.6605C150.752 85.9866 150.731 86.2917 150.689 86.5547H144.051C144.103 87.2174 144.335 87.7329 144.735 88.101C145.134 88.4797 145.639 88.6586 146.228 88.6586C147.08 88.6586 147.691 88.2904 148.048 87.554H150.52C150.257 88.4377 149.752 89.1635 149.016 89.7316C148.269 90.2891 147.364 90.5731 146.281 90.5731C145.408 90.5731 144.619 90.3838 143.925 89.9945C143.241 89.5948 142.694 89.0478 142.305 88.3325C141.926 87.6172 141.726 86.7966 141.726 85.8604C141.726 84.9242 141.915 84.0826 142.305 83.3673C142.683 82.652 143.22 82.105 143.914 81.7158C144.598 81.3266 145.397 81.1372 146.291 81.1372C147.186 81.1372 147.922 81.3266 148.606 81.6947C149.29 82.0734 149.826 82.5994 150.194 83.2937C150.573 83.9774 150.773 84.7664 150.773 85.65L150.752 85.6605ZM148.374 84.9978C148.364 84.4087 148.153 83.9354 147.733 83.5777C147.322 83.2095 146.807 83.0307 146.207 83.0307C145.639 83.0307 145.155 83.2095 144.766 83.5567C144.387 83.8933 144.146 84.3772 144.061 84.9873H148.374V84.9978Z",fill:"#E2E2E8"}),Object(Y.jsx)(oe.Path,{d:"M160.293 81.2949L154.676 94.7597H152.235L154.202 90.2048L150.562 81.2949H153.14L155.486 87.6802L157.863 81.2949H160.303H160.293Z",fill:"#E2E2E8"})]}),Object(Y.jsx)(oe.Defs,{children:Object(Y.jsx)(oe.ClipPath,{id:"clip0_320_17377",children:Object(Y.jsx)(oe.Rect,{width:"59.4451",height:"16",fill:"white",transform:"translate(100.848 78.7493)"})})})]}))}function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aa(e){return Object(Y.jsxs)(oe.default,oa(oa({width:"238",height:"99",viewBox:"0 0 238 99",fill:"none"},e),{},{children:[Object(Y.jsx)(oe.Path,{d:"M31.9901 57.2693C31.6438 58.1351 31.211 58.2216 30.6049 57.6156C29.3929 56.317 28.5272 53.7198 29.8258 49.0449C31.9901 41.1668 40.128 24.7179 47.7464 12.7709C44.8029 12.5112 43.2446 11.2126 42.2057 9.30797C41.7728 8.44225 42.0326 8.00938 43.158 7.83624C50.4301 6.97051 56.9231 3.42102 62.7235 3.1613C67.1387 2.98816 70.9479 4.28675 73.0256 10.1737C74.8437 15.3681 73.6316 20.649 70.3419 25.0642C65.6669 31.2975 56.3171 36.7516 46.7075 39.0025C49.9973 43.0714 53.1139 47.2269 54.9319 50.8629C56.1439 53.2004 56.4902 56.1439 55.3648 57.8753C54.9319 58.5679 54.499 58.8276 53.9796 58.0485C48.2658 50.2569 43.764 44.6297 39.6951 40.1279C37.3576 44.7163 34.847 50.1704 31.9901 57.2693ZM49.7375 22.0342C47.4001 26.1897 45.2358 29.8257 42.8983 34.0678C62.0309 29.8257 71.8136 17.1861 69.303 11.0394C67.3984 6.19135 58.7411 10.6931 53.0273 12.2514C53.0273 14.6755 52.075 17.7055 49.7375 22.0342Z",fill:"#F13D28"}),Object(Y.jsx)(oe.Path,{d:"M77.4412 55.8841C84.6267 56.2304 90.9466 49.3046 94.6692 43.5908C95.1021 42.8982 95.7946 42.8982 96.1409 43.6774C96.4872 44.3699 96.2275 46.794 94.6692 49.0449C91.0331 54.3258 84.367 58.3082 77.7009 58.3947C66.7062 58.5679 62.897 47.7463 68.5242 36.5784C74.1514 25.4105 82.9819 20.9087 87.3105 23.4193C89.4748 24.7179 91.0331 26.0165 92.4183 27.9211C93.9766 29.9988 93.284 35.2798 89.648 39.695C85.4059 44.8894 79.6055 47.1403 73.5454 42.2056C70.7751 50.1703 72.8528 55.6244 77.4412 55.8841ZM84.6267 35.9724C87.3971 32.3363 89.3017 27.8345 88.0897 26.8822C86.2716 25.4105 79.0861 30.6049 75.0172 38.8293C74.7574 39.3487 74.4977 39.8681 74.3246 40.301C78.5666 42.9848 82.1161 39.2621 84.6267 35.9724Z",fill:"#F13D28"}),Object(Y.jsx)(oe.Path,{d:"M122.372 23.0732C123.325 22.1209 123.844 22.2941 124.017 23.4195C124.277 25.2375 123.238 27.4884 120.468 30.9513C116.139 36.4054 108.261 44.7164 99.95 57.8755C99.5171 58.5681 99.0842 59.1741 98.2185 58.7412C94.8422 57.0963 93.6302 55.3649 93.8899 50.7765C94.2362 44.7164 96.5736 32.3365 99.5171 23.3329C99.8634 22.3806 100.556 22.0343 101.249 22.6404C104.105 25.0644 104.538 28.2676 103.326 33.5485C101.768 40.2146 100.037 45.0627 98.8245 54.4991C104.971 44.3701 116.485 29.1333 122.372 23.0732Z",fill:"#F13D28"}),Object(Y.jsx)(oe.Path,{d:"M145.661 39.5218C143.843 46.8805 138.388 55.6243 131.982 57.7886C128.865 58.8275 124.537 58.4812 121.074 53.9794C117.265 48.9582 118.563 41.4264 122.459 34.5005C125.749 28.6136 131.03 23.5924 136.224 23.2461C138.908 23.0729 140.38 23.8521 142.111 26.1896C144.102 28.8733 146.699 29.4793 146.18 35.7126C146.093 36.4051 146.093 37.0112 146.007 37.7037C146.526 37.7037 147.046 37.5306 147.738 37.5306C148.344 37.5306 148.344 37.9635 147.998 38.3963C147.392 39.0889 146.526 39.4352 145.661 39.5218ZM138.302 37.3574C136.484 35.9723 134.406 32.9422 134.319 29.739C131.982 31.7302 129.471 34.5871 127.653 37.8769C124.017 44.4564 122.719 52.4211 124.97 54.3257C127.394 56.3169 132.675 53.2868 136.917 45.3221C138.215 42.8981 139.254 40.4741 139.947 38.3963C139.341 38.1366 138.821 37.7903 138.302 37.3574ZM141.245 29.6525C140.812 26.8821 139.081 27.4016 138.648 29.9122C138.215 32.2496 139.168 34.7603 140.553 36.0589C141.245 33.3751 141.505 31.2108 141.245 29.6525Z",fill:"#F13D28"}),Object(Y.jsx)(oe.Path,{d:"M170.593 22.0341C173.883 20.9087 175.961 22.2073 177.692 25.8433C179.337 29.2197 179.077 32.8557 175.874 35.9724C172.931 38.8293 169.295 41.3399 163.841 42.9848C164.187 50.0837 166.611 55.0184 169.901 55.3647C173.45 55.711 178.212 49.0449 180.809 43.6773C181.328 42.6385 182.107 42.5519 182.54 43.5908C182.973 44.6296 182.8 46.7074 181.501 48.8717C179.424 52.5078 175.441 58.0484 168.602 57.9619C162.542 57.8753 157.434 52.9406 157.607 41.2533C157.607 39.695 157.781 39.4353 159.425 38.9158C170.16 35.3663 175.874 27.8345 174.576 25.5836C173.623 24.0253 169.814 24.9776 165.226 28.5271C158.733 33.4617 154.837 41.0802 148.171 57.0096C147.911 57.7021 147.219 57.8753 146.613 57.1827C145.314 55.711 144.881 52.9406 146.526 47.6597C148.95 39.7816 163.321 11.2991 171.026 0.823793C171.805 -0.215081 172.671 -0.301654 173.19 0.73722C174.489 3.3344 174.316 6.79732 170.68 13.1171C168.602 16.6666 165.226 22.7267 162.888 26.9688C165.659 24.285 168.342 22.8133 170.593 22.0341Z",fill:"#F13D28"}),Object(Y.jsx)(oe.Path,{d:"M189.986 55.8841C197.171 56.2304 203.491 49.3046 207.214 43.5908C207.646 42.8982 208.339 42.8982 208.685 43.6774C209.032 44.3699 208.772 46.794 207.214 49.0449C203.578 54.3258 196.911 58.3082 190.245 58.3947C179.251 58.5679 175.441 47.7463 181.069 36.5784C186.696 25.4105 195.526 20.9087 199.855 23.4193C202.019 24.7179 203.578 26.0165 204.963 27.9211C206.521 29.9988 205.828 35.2798 202.192 39.695C197.95 44.8894 192.15 47.1403 186.09 42.2056C183.32 50.1703 185.397 55.6244 189.986 55.8841ZM197.171 35.9724C199.942 32.3363 201.846 27.8345 200.634 26.8822C198.816 25.4105 191.631 30.6049 187.562 38.8293C187.302 39.3487 187.042 39.8681 186.869 40.301C191.111 42.9848 194.661 39.2621 197.171 35.9724Z",fill:"#F13D28"}),Object(Y.jsx)(oe.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M237.998 38.5501C238.038 39.2264 237.521 39.8069 236.845 39.8466C157.929 44.4728 78.6137 50.9245 1.41249 62.7349C0.742742 62.8373 0.11674 62.3775 0.01428 61.7077C-0.0881801 61.0379 0.371701 60.4119 1.04145 60.3095C78.3525 48.4823 157.755 42.0252 236.701 37.3972C237.378 37.3575 237.958 37.8737 237.998 38.5501Z",fill:"#F13D28"}),Object(Y.jsx)(oe.Path,{d:"M81.5888 90.4152C80.353 90.4152 79.5551 89.7827 79.1367 88.761C78.9226 89.2475 78.6697 89.8119 78.4556 90.2984C78.3583 90.532 78.2221 90.5514 78.0858 90.3666C77.7355 89.8995 77.502 89.2184 77.9691 87.7977C78.6015 85.8614 83.1749 77.2207 84.7901 74.973C85.0042 74.6714 85.1891 74.6714 85.3739 74.9925C85.7242 75.6444 85.7242 76.6953 84.7706 78.4468C84.4204 79.0987 83.4181 80.714 82.6883 81.9984C83.3695 81.3951 84.0895 81.0156 84.6928 81.0156C86.6778 81.0156 86.7751 83.7693 85.4907 86.6203C84.3912 89.0724 82.9413 90.4055 81.5888 90.4055V90.4152ZM82.6397 82.9228C81.5888 84.0223 80.4698 85.9587 79.6038 87.7588C79.6524 88.4399 79.9541 89.1794 80.5866 89.3254C81.4039 89.5103 82.4743 88.8097 83.8365 86.1046C85.1696 83.4677 84.8874 82.0373 84.3522 81.9984C83.8657 81.9497 83.35 82.2124 82.6494 82.9325L82.6397 82.9228Z",fill:"#13131B"}),Object(Y.jsx)(oe.Path,{d:"M90.9495 91.0185C89.6456 94.1517 87.9817 97.9077 86.0454 98.6569C85.5978 98.8223 85.1599 98.8223 84.7123 98.1704C84.2452 97.4698 83.7782 96.6525 84.2452 95.2707C84.9458 93.169 86.9308 91.7678 89.2467 90.8531C89.4802 90.3179 89.7137 89.7341 89.9667 89.1698C89.2467 89.919 88.3515 90.5223 87.4174 90.4542C85.734 90.3179 85.6853 88.6054 86.2302 87.068C86.7459 85.5695 87.8844 83.2634 89.4024 81.1616C89.5872 80.9086 89.8208 80.9281 89.9862 81.1616C90.5505 81.9108 90.4046 82.8936 89.5386 84.2656C88.7018 85.6181 88.1861 86.5815 87.7385 87.6713C87.2714 88.8195 87.32 89.6368 87.8552 89.6757C88.7699 89.7438 89.9375 88.2551 91.1246 86.2214C92.1269 84.4894 93.1291 82.3876 93.9465 81.2005C94.1605 80.8989 94.3162 80.8502 94.5303 81.0351C94.8611 81.4535 95.046 82.4557 94.433 83.6526C93.7324 85.0051 92.3118 87.8075 91.329 90.0747C93.1486 89.0919 94.5303 87.7588 95.4644 86.4744C95.5812 86.309 95.7952 86.2895 95.8342 86.5231C95.8828 86.7371 95.8147 87.2723 95.4158 87.8756C94.5011 89.3254 92.8664 90.2109 90.93 91.0088L90.9495 91.0185ZM85.1793 97.3725C85.481 97.8201 87.3979 95.2707 88.8477 91.8359C85.8118 93.5874 84.7609 96.7887 85.1793 97.3725Z",fill:"#13131B"}),Object(Y.jsxs)(oe.G,{clipPath:"url(#clip0_320_17356)",children:[Object(Y.jsx)(oe.Path,{d:"M106.717 90.5414C105.645 90.5414 104.666 90.2889 103.772 89.784C102.878 89.2791 102.163 88.5743 101.637 87.6906C101.111 86.786 100.848 85.7761 100.848 84.64C100.848 83.5039 101.111 82.5151 101.637 81.6209C102.163 80.7163 102.867 80.0115 103.772 79.5065C104.666 79.0016 105.655 78.7491 106.717 78.7491C107.78 78.7491 108.779 79.0016 109.663 79.5065C110.557 80.0115 111.262 80.7163 111.777 81.6209C112.303 82.5151 112.566 83.5144 112.566 84.64C112.566 85.7656 112.303 86.786 111.777 87.6906C111.262 88.5848 110.557 89.2791 109.663 89.784C108.769 90.2889 107.78 90.5414 106.717 90.5414ZM106.717 88.4796C107.401 88.4796 108.011 88.3218 108.537 88.0167C109.063 87.7012 109.474 87.2488 109.768 86.6597C110.063 86.0812 110.21 85.3974 110.21 84.6295C110.21 83.8616 110.063 83.1883 109.768 82.6203C109.474 82.0417 109.063 81.5894 108.537 81.2843C108.011 80.9793 107.412 80.8215 106.717 80.8215C106.023 80.8215 105.413 80.9793 104.887 81.2843C104.361 81.5894 103.951 82.0417 103.656 82.6203C103.362 83.1883 103.215 83.8616 103.215 84.6295C103.215 85.3974 103.362 86.0812 103.656 86.6597C103.951 87.2383 104.361 87.6906 104.887 88.0167C105.424 88.3218 106.034 88.4796 106.717 88.4796Z",fill:"#13131B"}),Object(Y.jsx)(oe.Path,{d:"M118.478 81.1581C119.562 81.1581 120.435 81.5052 121.098 82.1995C121.76 82.8833 122.097 83.8405 122.097 85.0713V90.4362H119.804V85.3869C119.804 84.661 119.625 84.1035 119.267 83.7248C118.909 83.3251 118.415 83.1357 117.794 83.1357C117.174 83.1357 116.658 83.3356 116.29 83.7248C115.933 84.114 115.754 84.661 115.754 85.3869V90.4362H113.46V81.2948H115.754V82.4309C116.059 82.0312 116.448 81.7261 116.921 81.5052C117.405 81.2738 117.931 81.1581 118.499 81.1581H118.478Z",fill:"#13131B"}),Object(Y.jsx)(oe.Path,{d:"M132.069 85.6604C132.069 85.9865 132.048 86.2916 132.006 86.5546H125.368C125.421 87.2173 125.652 87.7327 126.052 88.1009C126.452 88.4796 126.957 88.6585 127.546 88.6585C128.398 88.6585 129.008 88.2903 129.366 87.5539H131.838C131.575 88.4375 131.07 89.1634 130.333 89.7314C129.587 90.289 128.682 90.573 127.598 90.573C126.725 90.573 125.936 90.3836 125.242 89.9944C124.558 89.5947 124.011 89.0477 123.622 88.3324C123.243 87.617 123.043 86.7965 123.043 85.8603C123.043 84.9241 123.233 84.0825 123.622 83.3672C124.001 82.6519 124.537 82.1049 125.231 81.7157C125.915 81.3264 126.715 81.1371 127.609 81.1371C128.503 81.1371 129.239 81.3264 129.923 81.6946C130.607 82.0733 131.143 82.5993 131.512 83.2936C131.89 83.9773 132.09 84.7663 132.09 85.6499L132.069 85.6604ZM129.692 84.9977C129.681 84.4086 129.471 83.9352 129.05 83.5776C128.64 83.2094 128.124 83.0306 127.525 83.0306C126.957 83.0306 126.473 83.2094 126.084 83.5565C125.705 83.8932 125.463 84.3771 125.379 84.9872H129.692V84.9977Z",fill:"#13131B"}),Object(Y.jsx)(oe.Path,{d:"M139.706 90.4362L135.541 85.3028V90.4362H133.248V78.9175H135.541V84.0825L139.706 78.9175H142.473L137.75 84.6295L142.599 90.4362H139.696H139.706Z",fill:"#13131B"}),Object(Y.jsx)(oe.Path,{d:"M150.752 85.6604C150.752 85.9865 150.731 86.2916 150.689 86.5546H144.051C144.103 87.2173 144.335 87.7327 144.735 88.1009C145.134 88.4796 145.639 88.6585 146.228 88.6585C147.08 88.6585 147.691 88.2903 148.048 87.5539H150.52C150.257 88.4375 149.752 89.1634 149.016 89.7314C148.269 90.289 147.364 90.573 146.281 90.573C145.408 90.573 144.619 90.3836 143.925 89.9944C143.241 89.5947 142.694 89.0477 142.305 88.3324C141.926 87.617 141.726 86.7965 141.726 85.8603C141.726 84.9241 141.915 84.0825 142.305 83.3672C142.683 82.6519 143.22 82.1049 143.914 81.7157C144.598 81.3264 145.397 81.1371 146.291 81.1371C147.186 81.1371 147.922 81.3264 148.606 81.6946C149.29 82.0733 149.826 82.5993 150.194 83.2936C150.573 83.9773 150.773 84.7663 150.773 85.6499L150.752 85.6604ZM148.374 84.9977C148.364 84.4086 148.153 83.9352 147.733 83.5776C147.322 83.2094 146.807 83.0306 146.207 83.0306C145.639 83.0306 145.155 83.2094 144.766 83.5565C144.387 83.8932 144.146 84.3771 144.061 84.9872H148.374V84.9977Z",fill:"#13131B"}),Object(Y.jsx)(oe.Path,{d:"M160.293 81.2948L154.676 94.7596H152.235L154.202 90.2047L150.562 81.2948H153.14L155.486 87.6801L157.863 81.2948H160.303H160.293Z",fill:"#13131B"})]}),Object(Y.jsx)(oe.Defs,{children:Object(Y.jsx)(oe.ClipPath,{id:"clip0_320_17356",children:Object(Y.jsx)(oe.Rect,{width:"59.4451",height:"16",fill:"white",transform:"translate(100.848 78.7491)"})})})]}))}var ia=function(){return"dark"===Object(Xt.default)().themeVariant?Object(Y.jsx)(na,{}):Object(Y.jsx)(aa,{})},ca=function(){var e=Object(y.default)(),t=Object(je.default)();return Object(Y.jsxs)(Oe.default,{pb:t.bottom+"px",px:"4",pt:"6",children:[Object(Y.jsx)(T.default,{children:Object(Y.jsx)(ia,{})}),Object(Y.jsxs)(vt.default,{mt:"8",children:[Object(Y.jsx)(te.default.Body1,{children:"\u2705"}),Object(Y.jsx)(te.default.Body1,{ml:"2",children:e.formatMessage({id:"content__manage_your_token_allowances_and_protect_yourself_from_scams_on_30_chains"})})]}),Object(Y.jsxs)(vt.default,{mt:"2",children:[Object(Y.jsx)(te.default.Body1,{children:"\u2705"}),Object(Y.jsxs)(te.default.Body1,{ml:"2",children:[e.formatMessage({id:"content__support_malicious_contract_detection_on_8_chains"}),Object(Y.jsx)(ut.default,{title:e.formatMessage({id:"badge__coming_soon"}),size:"sm",bg:"surface-highlight-default",ml:"1"})]})]})]})},la=function(){Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(Wo.BottomSheetSettings,{closeOverlay:e,titleI18nKey:"title__about",children:Object(Y.jsx)(ca,{closeOverlay:e})})}))},sa=function(e){var t=e.onChange,n=Object(y.default)(),r=Object(H.useNavigation)(),o=Object(i.useState)(),a=x()(o,2),c=a[0],l=a[1],s=Object(i.useState)(),u=x()(s,2),d=u[0],f=u[1],p=Object(H.useActiveWalletAccount)(),O=p.accountAddress,m=p.networkId,h=Object(j.default)(),g=Object(Jo.useAsync)(In()((function*(){return yield W.default.serviceRevoke.getAddress(null!=d?d:"",c)})),[d,c]),v=g.loading,w=g.result,k=Object(Jo.useAsync)(In()((function*(){return w?W.default.serviceRevoke.lookupEnsName(w):""})),[w]).result;Object(i.useEffect)((function(){t({networkId:c,address:w,loading:v})}),[w,c,t,v]),Object(i.useEffect)((function(){m&&l(m)}),[m]),Object(i.useEffect)((function(){f(O);var e=function(){f(O)};return $o.appUIEventBus.on($o.AppUIEventBusNames.AccountChanged,e),function(){$o.appUIEventBus.off($o.AppUIEventBusNames.AccountChanged,e)}}),[O]);var _=Object(i.useCallback)((function(){r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Revoke,params:{screen:Ho.RevokeRoutes.ShareModal}})}),[r]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ia,{}),Object(Y.jsxs)(vt.default,{my:"18px",children:[Object(Y.jsx)(yt.default,{type:"plain",name:"InformationCircleMini",iconSize:16,onPress:la,children:Object(Y.jsx)(te.default.Button2,{children:n.formatMessage({id:"title__about"})})}),Object(Y.jsx)(yt.default,{type:"plain",name:"PaperAirplaneMini",iconSize:16,onPress:_,children:Object(Y.jsx)(te.default.Button2,{children:n.formatMessage({id:"title__share"})})})]}),Object(Y.jsxs)(Oe.default,{w:"full",children:[Object(Y.jsx)(vt.default,{flex:"1",justifyContent:"center",children:Object(Y.jsx)(wt.default,{flex:"1",maxW:"480px",value:k||d||"",minWidth:h?void 0:"480px",onChangeText:f,textAlign:"center",placeholder:n.formatMessage({id:"form__enter_address_ens_name"})})}),O!==d&&Object(Y.jsxs)(vt.default,{alignItems:"center",justifyContent:"center",mt:"14",children:[Object(Y.jsx)(ee.default,{name:"InformationCircleMini",size:16}),Object(Y.jsx)(te.default.CaptionStrong,{ml:"10px",children:n.formatMessage({id:"content__connect_this_wallet_to_make_further_action"})})]})]})]})},ua=n(3996),da=n(125),fa=n(2391);function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pa=[{icon:"Square2StackOutline",key:"copy",label:"action__copy_contract_address"},{icon:"PencilAltMini",key:"change",label:"action__change_allowance"},{icon:"XMarkOutline",key:"revoke",label:"action__revoke"}],Oa=function(e){var t=e.spenderName,n=e.allowance,r=e.closeOverlay,o=e.onActionPress,a=e.disabledActions,c=Object(y.default)(),l=Object(je.default)(),s=Object(i.useCallback)((function(e){r(),o(e)}),[r,o]);return Object(Y.jsxs)(Oe.default,{pb:l.bottom+"px",children:[Object(Y.jsx)(te.default.Heading,{textAlign:"center",mb:"2",children:t}),Object(Y.jsx)(te.default.Body2,{textAlign:"center",mb:"4",children:n}),Object(Y.jsx)(xt.default,{h:"1px"}),pa.filter((function(e){return!(null!=a&&a.includes(e.key))})).map((function(e){return Object(Y.jsx)($.default,{onPress:function(){return s(e.key)},mt:"6",children:Object(Y.jsxs)(vt.default,{children:[Object(Y.jsx)(ee.default,{size:24,name:e.icon,color:"revoke"===e.key?"icon-critical":"icon-default"}),Object(Y.jsx)(te.default.Body1,{ml:"4",color:"revoke"===e.key?"icon-critical":"text-default",children:c.formatMessage({id:e.label})})]})},e.key)}))]})},ma=function(e){Object(Tn.showOverlay)((function(t){return Object(Y.jsx)(Wo.BottomSheetSettings,{closeOverlay:t,titleI18nKey:"content__details",children:Object(Y.jsx)(Oa,ja(ja({},e),{},{closeOverlay:t}))})}))},xa=function(e){var t=e.onClose,n=Object(y.default)(),r=Object(_n.useConnectAndCreateExternalAccount)().connectAndCreateExternalAccount;return Object(Y.jsx)(Dt.default,{visible:!0,onClose:function(){var e;if(t)return t();var n=(null==(e=fa.navigationRef.current)?void 0:e.getParent())||fa.navigationRef.current;null==n||n.goBack()},contentProps:{title:n.formatMessage({id:"modal__connect_wallet_to manage_token_approvals"}),content:n.formatMessage({id:"modal__connect_wallet_to manage_token_approvals_desc"})},footerButtonProps:{primaryActionTranslationId:"action__connect_wallet",secondaryActionTranslationId:"action__cancel",onPrimaryActionPress:function(e){var n=e.onClose;r(),null==t||t(),null==n||n()}}})},ha=function(e){var t=e.networkId,n=e.allowance,r=e.totalSupply,o=e.balance,a=e.price,c=e.accountAddress,l=e.token,s=e.spender,u=Object(y.default)(),d=Object(j.default)(),f=Object(ua.useSpenderAppName)(t,s),p=Object(w.useNavigation)(),O=Object(ua.useUpdateAllowance)({networkId:t,spender:s,contract:l.tokenIdOnNetwork}),m=Object(ua.useAccountCanTransaction)(c),x=Object(i.useMemo)((function(){if(!n||!r)return{label:"",value:"0"};var e=new Mn.a(n),t=new Mn.a(r);if(e.isGreaterThan(t))return{label:u.formatMessage({id:"form__unlimited_allowance"}),value:"unlimited"};var o=Object(No.toFloat)(e.toNumber(),l.decimals);return{value:o,label:u.formatMessage({id:"form__allowance"})+": "+o+" "+l.symbol}}),[r,n,u,l]),h=x.label,g=x.value,v=Object(i.useCallback)((function(){return!!m||(Object(Tn.showDialog)(Object(Y.jsx)(xa,{})),!1)}),[m]),k=Object(i.useCallback)((function(e){v()&&O({amount:e,assetType:Ho.AssetType.tokens})}),[O,v]),_=Object(i.useCallback)((function(){v()&&p.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Revoke,params:{screen:Ho.RevokeRoutes.ChangeAllowance,params:{dapp:{spender:s,name:f},balance:o.toString(),token:l,allowance:g,networkId:t}}})}),[t,f,s,o,l,g,v,p]),C=Object(i.useCallback)((function(){k("0")}),[k]),S=Object(i.useMemo)((function(){return Object(Y.jsxs)(vt.default,{alignSelf:"flex-end",children:[Object(Y.jsx)(re.default,{size:"xs",bg:"action-secondary-default",px:"3",py:"2",onPress:_,children:Object(Y.jsx)(te.default.CaptionStrong,{children:u.formatMessage({id:"action__change"})})}),Object(Y.jsx)(yt.default,{bg:"action-secondary-default",size:"xs",name:"XMarkMini",iconSize:20,px:"3",py:"2",ml:"2",onPress:C})]})}),[_,u,C]),I=Object(i.useMemo)((function(){return d?S:Object(Y.jsxs)(vt.default,{w:"260px",alignSelf:"flex-start",children:[Object(Y.jsx)(Oe.default,{flex:"1",children:"unlimited"===g?Object(Y.jsx)(te.default.Body2Strong,{children:h}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(te.default.Body2Strong,{children:a?Object(Y.jsx)(da.FormatCurrencyNumber,{value:Mn.a.min(o,"unlimited"===g?1/0:g).multipliedBy(a)}):"N/A"}),Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",children:h})]})}),S]})}),[d,S,o,a,g,h]),P=Object(i.useCallback)((function(e){switch(e){case"copy":Object(to.copyToClipboard)(s),Kt.default.show({title:u.formatMessage({id:"msg__copied"})});break;case"change":_();break;case"revoke":C()}}),[s,_,C,u]),M=Object(i.useCallback)((function(){ma({spenderName:f,allowance:h,onActionPress:P,disabledActions:m?[]:["change","revoke"]})}),[f,h,P,m]);return Object(Y.jsx)($.default,{onPress:M,children:Object(Y.jsxs)(vt.default,{flex:"1",mb:"2",alignItems:"center",children:[d?Object(Y.jsxs)(Oe.default,{flex:"1",children:[Object(Y.jsx)(te.default.Body2Strong,{children:f}),Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",children:h})]}):Object(Y.jsx)(te.default.Body1Strong,{flex:"1",children:f}),I]})})},ga=function(){var e=Object(y.default)();return Object(Y.jsx)(ht.default,{emoji:"\ud83d\udc40",title:e.formatMessage({id:"title__no_record_found"})})},va=function(e){var t=e.assetType,n=Object(y.default)();return Object(Y.jsxs)(qt.default,{children:[Object(Y.jsx)(qt.default.Column,{text:{label:n.formatMessage({id:t===Ho.AssetType.tokens?"form__token":"form__nft"})},w:"200px"}),Object(Y.jsx)(qt.default.Column,{w:"200px",text:{label:n.formatMessage({id:"form__balance"})},textAlign:"right"}),Object(Y.jsx)(qt.default.Column,{text:{label:n.formatMessage({id:"form__project"})},flex:"1"}),Object(Y.jsx)(qt.default.Column,{text:{label:n.formatMessage({id:"form__allowance"})},w:"260px",textAlign:"left"})]})},ya=function(){return Object(Y.jsx)(va,{assetType:Ho.AssetType.tokens})},wa=function(){return Object(Y.jsx)(va,{assetType:Ho.AssetType.nfts})},ka=function(){return Object(ua.useIsVerticalOrMiddleLayout)()?Object(Y.jsx)(Y.Fragment,{children:new Array(5).fill(1).map((function(e,t){return Object(Y.jsxs)(Oe.default,{flex:"1",mb:"4",px:"2",children:[Object(Y.jsxs)(vt.default,{mb:"4",children:[Object(Y.jsxs)(vt.default,{flex:"1",alignItems:"center",children:[Object(Y.jsx)(ne.default,{shape:"Avatar"}),Object(Y.jsx)(Oe.default,{ml:"2",children:Object(Y.jsx)(ne.default,{shape:"Body1"})})]}),Object(Y.jsxs)(Oe.default,{children:[Object(Y.jsx)(ne.default,{shape:"Body1"}),Object(Y.jsx)(ne.default,{shape:"Body2"})]})]}),Object(Y.jsxs)(vt.default,{flex:"1",alignItems:"center",children:[Object(Y.jsxs)(Oe.default,{flex:"1",mr:"4",children:[Object(Y.jsx)(ne.default,{shape:"Body2"}),Object(Y.jsx)(ne.default,{shape:"Body2"})]}),Object(Y.jsx)(ne.default,{shape:"Caption"}),Object(Y.jsx)(N.default,{ml:"2",children:Object(Y.jsx)(ne.default,{shape:"Caption"})})]})]},String(t))}))}):Object(Y.jsx)(Y.Fragment,{children:new Array(5).fill(1).map((function(e,t){return Object(Y.jsxs)(qt.default,{flex:"1",children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsxs)(vt.default,{w:"200px",alignItems:"center",children:[Object(Y.jsx)(ne.default,{shape:"Avatar"}),Object(Y.jsx)(Oe.default,{ml:"2",children:Object(Y.jsx)(ne.default,{shape:"Body1"})})]})}),Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(vt.default,{w:"200px",justifyContent:"flex-end",children:Object(Y.jsx)(ne.default,{shape:"Body1"})})}),Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(N.default,{flex:"1",children:Object(Y.jsx)(ne.default,{shape:"Body1"})})}),Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsxs)(vt.default,{w:"260px",children:[Object(Y.jsxs)(Oe.default,{flex:"1",children:[Object(Y.jsx)(ne.default,{shape:"Body2"}),Object(Y.jsx)(ne.default,{shape:"Body2"})]}),Object(Y.jsxs)(vt.default,{children:[Object(Y.jsx)(ne.default,{shape:"Caption"}),Object(Y.jsx)(N.default,{ml:"2",children:Object(Y.jsx)(ne.default,{shape:"Caption"})})]})]})})]},String(t))}))})},_a=function(e){var t=e.loading,n=e.allowances,r=e.prices,o=e.address,a=e.networkId,c=Object(y.default)(),l=Object(ua.useIsVerticalOrMiddleLayout)(),s=Object(i.useCallback)((function(e){var t,n,i=e.item,l=i.token,s=i.token,u=s.symbol,d=s.decimals,f=i.balance,b=i.allowance,j=i.totalSupply,p=r[null!=(t=null==(n=l.address)||null==n.toLowerCase?void 0:n.toLowerCase())?t:""],O=new Mn.a(f).div(10**d),m="undefined"===typeof p?null:O.multipliedBy(p);return Object(Y.jsxs)(qt.default,{flex:1,children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Tt.default,{token:l,size:8,showInfo:!0,name:u,showDescription:!1,w:"200px",alignSelf:"flex-start",infoBoxProps:{flex:1},nameProps:{fontSize:16}})}),Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsxs)(Oe.default,{w:"200px",alignSelf:"flex-start",textAlign:"right",children:[Object(Y.jsx)(te.default.Body2Strong,{children:Object(No.toFloat)(Number(f),d)+" "+u}),Object(Y.jsx)(te.default.Body2,{children:m?Object(Y.jsx)(da.FormatCurrencyNumber,{value:m.toNumber()}):"N/A"})]})}),Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Oe.default,{flex:"1",borderLeftWidth:1,borderLeftColor:"divider",pl:"4",children:0===b.length?Object(Y.jsx)(te.default.Body2Strong,{children:c.formatMessage({id:"form__no_allowance"})}):b.map((function(e){return Object(Y.jsx)(ha,{networkId:a,accountAddress:null!=o?o:"",totalSupply:j,allowance:e.allowance,spender:e.spender,balance:O,price:p,token:l},e.spender)}))})})]})}),[a,r,c,o]),u=Object(i.useCallback)((function(e){var t,n,i=e.item,l=i.token,s=i.token,u=s.symbol,d=s.decimals,f=i.balance,b=i.allowance,j=i.totalSupply,p=r[null!=(t=null==(n=l.address)||null==n.toLowerCase?void 0:n.toLowerCase())?t:""],O=new Mn.a(f).div(10**d),m="undefined"===typeof p?null:O.multipliedBy(p);return Object(Y.jsx)(qt.default,{children:Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsxs)(Oe.default,{flex:"1",children:[Object(Y.jsxs)(vt.default,{mb:"4",children:[Object(Y.jsx)(Tt.default,{token:l,size:8,showInfo:!0,name:u,showDescription:!1,flex:"1",infoBoxProps:{flex:1},nameProps:{fontSize:16}}),Object(Y.jsxs)(Oe.default,{alignSelf:"flex-start",textAlign:"right",alignItems:"flex-end",children:[Object(Y.jsx)(te.default.Body2Strong,{children:Object(No.toFloat)(Number(f),d)+" "+u}),Object(Y.jsx)(te.default.Body2,{children:m?Object(Y.jsx)(da.FormatCurrencyNumber,{value:m.toNumber()}):"N/A"})]})]}),Object(Y.jsx)(Oe.default,{flex:"1",children:0===b.length?Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",children:c.formatMessage({id:"form__no_allowance"})}):b.map((function(e){return Object(Y.jsx)(ha,{networkId:a,accountAddress:null!=o?o:"",totalSupply:j,allowance:e.allowance,spender:e.spender,balance:O,price:p,token:l},e.spender)}))})]})})})}),[a,r,c,o]);return Object(Y.jsx)(Gt.default,{data:t?[]:n,showDivider:!0,ListHeaderComponent:l?void 0:ya,renderItem:l?u:s,keyExtractor:function(e){var t,n=e.token;return null!=(t=n.id)?t:n.tokenIdOnNetwork},ListEmptyComponent:t?Object(Y.jsx)(ka,{}):Object(Y.jsx)(ga,{})})},Ca=function(e){var t=e.networkId,n=e.accountAddress,r=e.token,o=e.spender,a=e.tokenId,c=Object(y.default)(),l=Object(j.default)(),s=Object(ua.useSpenderAppName)(t,o),u=Object(H.useActiveWalletAccount)().account,d=Object(ua.useUpdateAllowance)({networkId:t,spender:o,contract:r.tokenIdOnNetwork}),f=Object(ua.useAccountCanTransaction)(n),b=Object(i.useMemo)((function(){return a?"Allowance for token ID "+a:c.formatMessage({id:"form__unlimited_allowance"})}),[c,a]),p=Object(i.useCallback)((function(){return!!f||(Object(Tn.showDialog)(Object(Y.jsx)(xa,{})),!1)}),[f]),O=Object(i.useCallback)((function(){p()&&null!=u&&u.id&&d({amount:"0",tokenId:a,assetType:Ho.AssetType.nfts})}),[d,p,a,u]),m=Object(i.useCallback)((function(){p()&&O()}),[O,p]),x=Object(i.useMemo)((function(){return Object(Y.jsx)(vt.default,{alignSelf:"flex-end",children:Object(Y.jsx)(yt.default,{bg:"action-secondary-default",size:"xs",name:"XMarkMini",iconSize:20,px:"3",py:"2",ml:"2",onPress:m})})}),[m]),h=Object(i.useMemo)((function(){return l?x:Object(Y.jsxs)(vt.default,{w:"260px",alignSelf:"flex-start",children:[Object(Y.jsx)(Oe.default,{flex:"1",children:Object(Y.jsx)(te.default.Body2Strong,{children:b})}),x]})}),[l,x,b]),g=Object(i.useCallback)((function(e){switch(e){case"copy":Object(to.copyToClipboard)(o),Kt.default.show({title:c.formatMessage({id:"msg__copied"})});break;case"revoke":m()}}),[o,m,c]),v=Object(i.useCallback)((function(){ma({spenderName:s,allowance:b,onActionPress:g,disabledActions:f?["change"]:["change","revoke"]})}),[s,b,g,f]);return Object(Y.jsx)($.default,{onPress:v,children:Object(Y.jsxs)(vt.default,{flex:"1",mb:"2",alignItems:"center",children:[l?Object(Y.jsxs)(Oe.default,{flex:"1",children:[Object(Y.jsx)(te.default.Body2Strong,{children:s}),Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",children:b})]}):Object(Y.jsx)(te.default.Body1Strong,{flex:"1",children:s}),h]})})},Sa=function(e){var t=e.networkId,n=e.address,r=e.allowances,o=e.loading,a=Object(y.default)(),c=Object(ua.useIsVerticalOrMiddleLayout)(),l=Object(i.useCallback)((function(e){var r=e.item,o=r.token,i=r.token.symbol,c=r.balance,l=r.allowance;return Object(Y.jsxs)(qt.default,{flex:1,children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Tt.default,{token:o,size:8,showInfo:!0,name:i,showDescription:!1,w:"200px",alignSelf:"flex-start",infoBoxProps:{flex:1},nameProps:{fontSize:16}})}),Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Oe.default,{w:"200px",alignSelf:"flex-start",textAlign:"right",children:Object(Y.jsx)(te.default.Body2Strong,{children:"ERC1155"===c?"N/A":a.formatMessage({id:"content__int_items"},{0:c})})})}),Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Oe.default,{flex:"1",borderLeftWidth:1,borderLeftColor:"divider",pl:"4",children:0===l.length?Object(Y.jsx)(te.default.Body2Strong,{children:a.formatMessage({id:"form__no_allowance"})}):l.map((function(e){return Object(Y.jsx)(Ca,{networkId:t,accountAddress:null!=n?n:"",spender:e.spender,token:o},e.spender)}))})})]})}),[a,n,t]),s=Object(i.useCallback)((function(e){var r=e.item,o=r.token,i=r.token.symbol,c=r.balance,l=r.allowance;return Object(Y.jsx)(qt.default,{children:Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsxs)(Oe.default,{flex:"1",children:[Object(Y.jsxs)(vt.default,{mb:"4",children:[Object(Y.jsx)(Tt.default,{token:o,size:8,showInfo:!0,name:i,showDescription:!1,flex:"1"}),Object(Y.jsx)(Oe.default,{alignSelf:"flex-start",textAlign:"right",children:Object(Y.jsx)(te.default.Body1Strong,{children:"ERC1155"===c?"N/A":a.formatMessage({id:"content__int_items"},{0:c})})})]}),Object(Y.jsx)(Oe.default,{flex:"1",children:0===l.length?Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",children:a.formatMessage({id:"form__no_allowance"})}):l.map((function(e){return Object(Y.jsx)(Ca,{networkId:t,accountAddress:null!=n?n:"",spender:e.spender,token:o},e.spender)}))})]})})})}),[a,n,t]);return Object(Y.jsx)(Gt.default,{data:o?[]:r,showDivider:!0,ListHeaderComponent:c?void 0:wa,renderItem:c?s:l,keyExtractor:function(e){var t=e.token;return t.id||t.tokenIdOnNetwork},ListEmptyComponent:o?Object(Y.jsx)(ka,{}):Object(Y.jsx)(ga,{})})};function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ma={assetType:Ho.AssetType.tokens,includeUnverifiedTokens:!0,includeZeroBalancesTokens:!0,includeTokensWithoutAllowances:!0},Aa=function(){var e,t,n,r=Object(y.default)(),o=Object(j.default)(),a=Object(i.useState)(),c=x()(a,2),l=c[0],s=c[1],u=Object(i.useState)(Ma),d=x()(u,2),f=d[0],b=d[1],p=Object(H.useActiveWalletAccount)(),O=p.network,m=p.account,h=Object(_n.useConnectAndCreateExternalAccount)({networkId:null!=(e=null==l?void 0:l.networkId)?e:""}).connectAndCreateExternalAccount,g=Object(ua.useTokenAllowances)(null!=(t=null==l?void 0:l.networkId)?t:"",null!=(n=null==l?void 0:l.address)?n:"",f.assetType),v=g.loading,k=g.allowances,_=g.prices,C=g.isFromRpc,S=Object(i.useCallback)((function(e){null!=e&&e.address&&(Bo()(e,l)||s(e))}),[s,l]),I=v||!(null==l||!l.loading),P=Object(i.useMemo)((function(){var e,t,n,r;return f.assetType===Ho.AssetType.tokens?null!=(n=null==k||null==(r=k.filter((function(e){return e.allowance.length>0||f.includeTokensWithoutAllowances})))?void 0:r.filter((function(e){var t=e.token;return f.includeUnverifiedTokens||t.riskLevel===Lo.TokenRiskLevel.VERIFIED})).filter((function(e){var t=e.token,n=e.balance;return!!f.includeZeroBalancesTokens||(f.assetType===Ho.AssetType.tokens?!("0.000"===Object(No.toFloat)(Number(n),t.decimals)):"0"===n)})))?n:[]:null!=(e=null==k||null==(t=k.filter((function(e){return e.allowance.length>0||f.includeTokensWithoutAllowances})))?void 0:t.filter((function(e){var t=e.balance;return!!f.includeZeroBalancesTokens||"0"!==t})))?e:[]}),[f,k]),M=Object(w.useNavigation)(),A=Object(i.useMemo)((function(){return null!=m&&m.id?null:Object(Y.jsx)(re.default,{onPress:h,mr:6,children:r.formatMessage({id:"action__connect_wallet"})})}),[r,h,null==m?void 0:m.id]),D=Object(i.useCallback)((function(){return null!=m&&m.id?Object(Y.jsx)(N.default,{pr:"6",children:Object(Y.jsx)(wn.NetworkAccountSelectorTrigger,{type:o?"plain":"basic"})}):A}),[null==m?void 0:m.id,o,A]);Object(i.useLayoutEffect)((function(){M.setOptions({title:"",headerRight:D})}),[M,D]);var R=Object(i.useMemo)((function(){var e,t,n,o,a;return O&&(null==O?void 0:O.impl)!==An.IMPL_EVM&&!I?Object(Y.jsx)(ht.default,{emoji:"\ud83e\udd37\u200d\u2640\ufe0f",title:r.formatMessage({id:"title__str_network_is_not_supported_yet"},{chain:null!=(a=null==O?void 0:O.shortName)?a:""}),subTitle:r.formatMessage({id:"title__str_network_is_not_supported_yet_desc"})}):!l||null!=l&&l.address||I?f.assetType===Ho.AssetType.tokens?Object(Y.jsx)(_a,{loading:I,allowances:P,address:null!=(e=null==l?void 0:l.address)?e:"",prices:_,networkId:null!=(t=null==l?void 0:l.networkId)?t:""}):Object(Y.jsx)(Sa,{networkId:null!=(n=null==l?void 0:l.networkId)?n:"",loading:I,allowances:P,address:null!=(o=null==l?void 0:l.address)?o:""}):Object(Y.jsx)(ht.default,{emoji:"\ud83d\udc81\u200d\u2640\ufe0f\ufe0f",title:r.formatMessage({id:"title__enter_address_or_connect_wallet"}),subTitle:r.formatMessage({id:"title__enter_address_or_connect_wallet_desc"})})}),[O,r,P,I,_,f.assetType,l]);return Object(Y.jsx)(pe.default,{contentContainerStyle:{justifyContent:"center",padding:o?16:32},children:Object(Y.jsxs)(T.default,{flex:"1",pb:"108px",children:[Object(Y.jsx)(sa,{onChange:S}),Object(Y.jsxs)(Oe.default,{maxW:"1030px",w:"100%",children:[Object(Y.jsx)(Qo,Pa(Pa({},f),{},{isFromRpc:C,onChange:b})),R]})]})})},Ta=function(){var e=Object(kn.default)();return Object(i.useEffect)((function(){null==e||e.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Home,params:{screen:b.HomeRoutes.Revoke}}})}),[e]),null},Da=n(69),Ra=n(130),Ea=n(185),Ba=n(339),Na=n(186),La=n(4e3),Wa={submited:!1},Ha=n(946),za=n(188),Fa={params:void 0,count:0},Ua=function(){var e=In()((function*(e){var t=e.filter((function(e){return!e.limited&&void 0!==e.data}));if(t.length>0){var n=yield W.default.serviceSwap.getCurrentUserSelectedQuoter();if(n){var r=t.find((function(e){return e.data.type===n}));if(r)return r}return 1===t.length||t.sort((function(e,t){var n,r,o=null!=(n=e.data.estimatedBuyAmount)?n:e.data.buyAmount,a=null!=(r=t.data.estimatedBuyAmount)?r:t.data.buyAmount;return Number(a)-Number(o)})),t[0]}var o=e.filter((function(e){return e.data}));if(0!==o.length){if(1===o.length)return o[0];for(var a,i=o[0],c=0;c<o.length;c+=1){var l,s,u=o[c],d=null==u||null==(l=u.limited)?void 0:l.max,f=null==u||null==(s=u.limited)?void 0:s.min,b=new Mn.a(u.data.sellAmount),j=[];!b.isNaN()&&d&&j.push(b.minus(d).abs()),!b.isNaN()&&f&&j.push(b.minus(f).abs());var p=void 0;j.length&&(p=Mn.a.min.apply(Mn.a,j)),!p||a&&!p.lt(a)||(i=u,a=p)}return i}}));return function(t){return e.apply(this,arguments)}}(),Va=function(){var e=In()((function*(e){try{var t=yield La.SwapQuoter.client.fetchQuotes(e);if(!Wa.submited&&Fa.params===e&&t){W.default.dispatch(Object(Na.setResponses)(t));var n=yield Ua(t);n?W.default.dispatch(Object(Na.setQuote)(n.data),Object(Na.setQuoteLimited)(n.limited)):W.default.dispatch(Object(Na.setError)(Ha.SwapError.NotSupport),Object(Na.setQuoteLimited)(void 0))}}catch(sm){W.default.dispatch(Object(Na.setError)(Ha.SwapError.QuoteFailed),Object(Na.setLoading)(!1))}}));return function(t){return e.apply(this,arguments)}}(),Ga=function(){var e=In()((function*(e){var t;(function(){var n=In()((function*(){var n=yield La.SwapQuoter.client.fetchQuotes(e);if(!Wa.submited&&Fa.params===e&&n){var r,o,a;W.default.dispatch(Object(Na.setResponses)(n));var i=yield Ua(n);i&&(null==(r=i.data)?void 0:r.type)!==(null==(o=t)||null==(a=o.data)?void 0:a.type)&&(t||(t=i),W.default.dispatch(Object(Na.setQuote)(i.data),Object(Na.setQuoteLimited)(i.limited)))}}));return function(){return n.apply(this,arguments)}})()();try{var n=yield La.SwapQuoter.client.fetchQuote(e);Fa.params!==e||t||(n?(t=n,W.default.dispatch(Object(Na.setQuote)(n.data),Object(Na.setQuoteLimited)(n.limited))):W.default.dispatch(Object(Na.setError)(Ha.SwapError.NotSupport),Object(Na.setQuoteLimited)(void 0)))}catch(r){W.default.dispatch(Object(Na.setError)(Ha.SwapError.QuoteFailed),Object(Na.setLoading)(!1))}}));return function(t){return e.apply(this,arguments)}}(),qa=function(){var e=In()((function*(e){var t=e.params,n=e.loading;if(Fa.params=t,t){var r=yield W.default.serviceSwap.buildWrapperTransaction(t);if(r&&r.encodedTx)W.default.dispatch(Object(Na.setQuoteLimited)(void 0),Object(Na.setResponses)(void 0),Object(Na.setQuote)({type:Ha.QuoterType.onekey,instantRate:"1",wrapperTxInfo:r,sellAmount:Object(za.getTokenAmountString)(t.tokenIn,t.typedValue),sellTokenAddress:t.tokenIn.tokenIdOnNetwork,buyAmount:Object(za.getTokenAmountString)(t.tokenOut,t.typedValue),buyTokenAddress:t.tokenOut.tokenIdOnNetwork}));else{var o=yield W.default.serviceSwap.refreshParams(t);n&&W.default.dispatch(Object(Na.setLoading)(!0)),W.default.dispatch(Object(Na.setError)(void 0)),Fa.count+=1;try{o?yield Va(t):(W.default.dispatch(Object(Na.setResponses)(void 0)),yield Ga(t))}finally{Fa.count-=1,0===Fa.count&&W.default.dispatch(Object(Na.setLoading)(!1))}}}else W.default.dispatch(Object(Na.setQuote)(void 0),Object(Na.setResponses)(void 0),Object(Na.setLoading)(!1))}));return function(t){return e.apply(this,arguments)}}(),Ka=n(3984),Za=function(){return Object(i.useEffect)((function(){var e=function(e){W.default.serviceSwap.handleWalletRemove(e)};return $o.appUIEventBus.on($o.AppUIEventBusNames.RemoveWallet,e),function(){$o.appUIEventBus.off($o.AppUIEventBusNames.RemoveWallet,e)}}),[]),null},Xa=function(){Object(i.useEffect)((function(){var e=function(e){W.default.serviceSwap.handleAccountRemoved(e)};return $o.appUIEventBus.on($o.AppUIEventBusNames.RemoveAccount,e),function(){$o.appUIEventBus.off($o.AppUIEventBusNames.RemoveAccount,e)}}),[]);var e=Object(H.useAppSelector)((function(e){return e.runtime.accounts}));return Object(i.useEffect)((function(){W.default.serviceSwap.refreshSendingAccount()}),[e]),null},Ya=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(H.useAppSelector)((function(e){return e.swap.outputToken})),n=Object(i.useMemo)((function(){return Object(za.stringifyTokens)(e,t)}),[e,t]),r=Object(H.usePrevious)(n);return Object(i.useEffect)((function(){n!==r&&W.default.serviceSwap.clearUserSelectedQuoter()}),[n,r]),null},Qa=function(){var e=Object(Ba.useRpcMeasureStatus)(),t=e.status,n=e.loading,r=null==t?void 0:t.responseTime,o=Object(H.usePrevious)(r);return Object(i.useEffect)((function(){void 0===o&&null!=t&&t.responseTime&&!n&&W.default.serviceSwap.getSwapError().then((function(e){e===Ha.SwapError.QuoteFailed&&$o.appUIEventBus.emit($o.AppUIEventBusNames.SwapRefresh)}))}),[null==t?void 0:t.responseTime,o,r,n]),null},Ja=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(H.useAppSelector)((function(e){return e.swap.outputToken}));return Object(i.useEffect)((function(){e&&W.default.servicePrice.getSimpleTokenPrice({networkId:e.networkId,tokenId:e.tokenIdOnNetwork})}),[e]),Object(i.useEffect)((function(){t&&W.default.servicePrice.getSimpleTokenPrice({networkId:t.networkId,tokenId:t.tokenIdOnNetwork})}),[t]),null},$a=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(H.useAppSelector)((function(e){return e.swap.outputToken})),n=Object(H.useAppSelector)((function(e){return e.swap.typedValue})),r=Object(H.useAppSelector)((function(e){return e.swap.independentField}));return Object(i.useEffect)((function(){W.default.serviceSwap.setQuote(void 0)}),[e,t,n,r]),null},ei=function(){var e=Object(Ka.useSwapQuoteRequestParams)(),t=Object(i.useCallback)((function(){return qa({params:e,loading:!0})}),[e]);return Object(i.useEffect)((function(){return $o.appUIEventBus.on($o.AppUIEventBusNames.SwapRefresh,t),function(){$o.appUIEventBus.off($o.AppUIEventBusNames.SwapRefresh,t)}}),[t]),Object(i.useEffect)((function(){qa({params:e,loading:!0})}),[e]),null},ti=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Za,{}),Object(Y.jsx)(Xa,{}),Object(Y.jsx)(Ya,{}),Object(Y.jsx)(Qa,{}),Object(Y.jsx)(Ja,{}),Object(Y.jsx)($a,{}),Object(Y.jsx)(ei,{})]})},ni=n(46),ri=(n(266),n(5259)),oi=function(){var e=In()((function*(e){var t=ri.default.isAvailable();if(Z.default.common.info("react-native-in-app-review is available",t),!t)return!1;var n=yield W.default.serviceSetting.getEnableAppRatings(),r=yield W.default.serviceSetting.getAppReviewsLastOpenedAt();return Z.default.common.info("appRatingsEnabled, ",n,"lastOpenedAt, ",r),!(!e&&r>0||!n)}));return function(t){return e.apply(this,arguments)}}(),ai=function(){var e=In()((function*(e){if(yield oi(e)){var t=!1;try{t=yield ri.default.RequestInAppReview()}catch(sm){return void Z.default.common.info("react-native-in-app-review error",sm.message)}W.default.serviceSetting.setAppReviewsLastOpenedAt(Date.now()),Z.default.common.info("hasFlowFinishedSuccessfully",t)}}));return function(t){return e.apply(this,arguments)}}(),ii=n(259),ci=n(4036),li=n(4297),si=function(e){var t=e.progressStatus,n=null==t?void 0:t.title;return n?Object(Y.jsx)(T.default,{bg:"action-primary-disabled",w:"full",h:"50px",shadow:"1",borderRadius:"12",overflow:"hidden",children:Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",justifyItems:"center",children:[Object(Y.jsx)(It.default,{size:"sm"}),Object(Y.jsx)(te.default.Button2,{ml:"2",color:"text-disabled",children:n})]})}):Object(Y.jsx)(T.default,{bg:"action-primary-disabled",w:"full",h:"50px",shadow:"1",borderRadius:"12",overflow:"hidden",children:Object(Y.jsx)(It.default,{size:"sm"})})},ui=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.progressStatus}));return Object(Y.jsx)(si,{progressStatus:e})},di=function(){var e=Object(H.useAppSelector)((function(e){return e.limitOrder.progressStatus}));return Object(Y.jsx)(si,{progressStatus:e})},fi=["isDisabled","isLoading"];function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pi=function(e){var t=e.token,n=Object(H.useNetwork)({networkId:t.networkId}).network;return Object(Y.jsx)(bt.default,{size:"4",src:null==n?void 0:n.logoURI})},Oi=function(e){var t=e.tokenA,n=e.tokenB,r=e.onPress,o=Object(y.default)();return Object(Y.jsx)(N.default,{h:"50px",w:"full",shadow:"1",borderRadius:"12",overflow:"hidden",children:Object(Y.jsx)(R.LinearGradient,{colors:["rgba(18, 65, 232, 255)","rgba(17, 228, 54, 255)"],start:{x:0,y:0},end:{x:1,y:0},style:{height:"100%",width:"100%",opacity:1},children:Object(Y.jsxs)($.default,{w:"full",h:"full",flexDirection:"row",justifyContent:"center",alignItems:"center",onPress:r,children:[Object(Y.jsxs)(N.default,{position:"relative",w:"10",h:"10",justifyContent:"center",alignItems:"center",children:[Object(Y.jsx)(N.default,{position:"absolute",top:"8px",left:"8px",w:"18px",h:"18px",overflow:"hidden",borderRadius:"full",bg:"border-default",justifyContent:"center",alignItems:"center",children:Object(Y.jsx)(pi,{token:t})}),Object(Y.jsx)(N.default,{position:"absolute",top:"16px",left:"16px",w:"18px",h:"18px",overflow:"hidden",borderRadius:"full",bg:"border-default",justifyContent:"center",alignItems:"center",children:Object(Y.jsx)(pi,{token:n})})]}),Object(Y.jsx)(te.default.Button1,{color:"text-on-primary",children:o.formatMessage({id:"form__cross_chain_swap"})})]})})})},mi=function(e){var t=e.isDisabled,n=e.isLoading,r=O()(e,fi),o=Object(ae.useAppSelector)((function(e){return e.swap.inputToken})),a=Object(ae.useAppSelector)((function(e){return e.swap.outputToken}));return!t&&!n&&o&&a&&o.networkId!==(null==a?void 0:a.networkId)?Object(Y.jsx)(Oi,ji({tokenA:o,tokenB:a},r)):Object(Y.jsx)(re.default,ji({isDisabled:t,isLoading:n},r))},xi=function(){var e=Object(y.default)(),t=Object(i.useRef)(!1),n=Object(ae.useAppSelector)((function(e){return e.swap.progressStatus})),r=Object(ae.useAppSelector)((function(e){return e.swap.quote})),o=Object(Ka.useSwapQuoteRequestParams)(),a=Object(li.useSwapSubmit)(),c=Object(i.useCallback)(In()((function*(){var e=yield W.default.serviceSwap.getRecipient();yield a({quote:r,params:o,recipient:e,openProgressStatus:function(){W.default.serviceSwap.openProgressStatus()},closeProgressStatus:function(){W.default.serviceSwap.closeProgressStatus()},setProgressStatus:function(e){W.default.serviceSwap.setProgressStatus(e)}})})),[o,r,a]),l=Object(i.useCallback)(In()((function*(){if(!t.current)try{t.current=!0,Wa.submited=!0,W.default.serviceSwap.openProgressStatus(),yield c()}finally{t.current=!1,Wa.submited=!1,W.default.serviceSwap.closeProgressStatus()}})),[c]);return n?Object(Y.jsx)(ui,{}):Object(Y.jsx)(mi,{size:"xl",type:"primary",isDisabled:!r,onPress:l,children:e.formatMessage({id:"title__swap"})},"submit")},hi=function(){var e=Object(y.default)(),t=Object(ae.useAppSelector)((function(e){return e.swap.inputToken})),n=Object(ae.useAppSelector)((function(e){return e.swap.quote})),r=Object(ae.useAppSelector)((function(e){return e.swap.loading})),o=Object(Ka.useSwapError)(),a=Object(Ka.useInputLimitsError)();return r?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,isLoading:r,children:e.formatMessage({id:"title__finding_the_best_channel"})},"loading"):o?o===Ha.SwapError.InsufficientBalance?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:null==t?void 0:t.symbol})},"insufficient_balance_error"):Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"title__swap"})},"baseError"):a?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"title__swap"})},"depositLimit"):n?Object(Y.jsx)(xi,{}):Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,isLoading:r,children:e.formatMessage({id:"title__swap"})},"noQuote")},gi=function(){var e=Object(y.default)(),t=Object(i.useState)(!1),n=x()(t,2),r=n[0],o=n[1],a=Object(ae.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.wrapperTxInfo})),c=Object(Ka.useSwapQuoteRequestParams)(),l=Object(ci.useSwapSend)(),s=Object(i.useCallback)(In()((function*(){if(c&&a){var e=c.tokenIn,t=c.activeAccount;o(!0);try{yield l({networkId:e.networkId,accountId:t.id,encodedTx:a.encodedTx,showSendFeedbackReceipt:!0,onSuccess:function(){var n=In()((function*(n){var r,o=n.result,a=n.decodedTx,i=yield W.default.engine.getNetwork(e.networkId);a&&i&&(r=Object(za.calculateDecodedTxNetworkFee)(a,i)),W.default.dispatch(Object(ii.addTransaction)({accountId:t.id,networkId:e.networkId,transaction:{hash:o.txid,from:t.address,addedTime:Date.now(),status:"pending",type:"swap",accountId:t.id,networkId:e.networkId,nonce:null==a?void 0:a.nonce,receivingAccountId:t.id,receivingAddress:t.address,actualReceived:c.typedValue,arrivalTime:30,networkFee:r,tokens:{from:{token:c.tokenIn,networkId:e.networkId,amount:c.typedValue},to:{token:c.tokenOut,networkId:e.networkId,amount:c.typedValue},rate:1}}})),W.default.serviceSwap.clearState()}));return function(e){return n.apply(this,arguments)}}()})}finally{o(!1)}}})),[c,l,a]);return c&&a?Object(Y.jsx)(re.default,{size:"xl",type:"primary",onPress:s,isLoading:r,children:"Deposite"===a.type?e.formatMessage({id:"action__wrap"}):e.formatMessage({id:"action__unwrap"})},"baseError"):null},vi=function(){var e=Object(y.default)(),t=Object(Ka.useCheckInputBalance)();return t&&t.insufficient?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:t.token.symbol})},"insufficient_balance_error"):Object(Y.jsx)(gi,{})},yi=function(){return Object(ae.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.wrapperTxInfo}))?Object(Y.jsx)(vi,{}):Object(Y.jsx)(hi,{})},wi=function(){var e=Object(y.default)();return Object(ae.useAppSelector)((function(e){return e.swapTransactions.swapMaintain}))?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"action__under_maintaince"})},"swapMaintain"):Object(Y.jsx)(yi,{})},ki=function(e){var t=e.children,n=Object(j.default)();return Object(Y.jsx)(N.default,{px:n?"4":0,children:t})},_i=n(4019),Ci=function(){var e,t=Object(y.default)(),n=Object(H.useActiveWalletAccount)().wallet,r=Object(H.useAppSelector)((function(e){return e.runtime.accounts})),o=Object(H.useAppSelector)((function(e){return e.swap.outputToken})),a=Object(H.useNetworkSimple)(null==o?void 0:o.networkId),c=Object(an.useCreateAccountInWallet)({networkId:null==a?void 0:a.id,walletId:null==n?void 0:n.id}).createAccount,l=Object(i.useMemo)((function(){return!!o&&(0===(null==n?void 0:n.accounts.length)||(null==n?void 0:n.accounts.every((function(e){return!Object(Ra.isAccountCompatibleWithNetwork)(e,o.networkId)}))))}),[n,o]);return Object(i.useEffect)((function(){a&&W.default.serviceSwap.setRecipient(a)}),[r,a]),l?Object(Y.jsx)(N.default,{mt:"6",children:Object(Y.jsx)(st.default,{title:t.formatMessage({id:"content__you_don_t_have_a_str_account"},{0:null!=(e=null==a?void 0:a.symbol)?e:""}),alertType:"info",action:t.formatMessage({id:"action__create"}),onAction:c,dismiss:!1})}):null},Si=function(){return Object(Ka.useSwapRecipient)()?null:Object(Y.jsx)(Ci,{})},Ii=function(){var e=Object(Ka.useInputLimitsError)(),t=Object(y.default)(),n=Object(i.useCallback)((function(){null!=e&&e.value&&W.default.serviceSwap.userInput("INPUT",e.value)}),[e]);return e?Object(Y.jsx)(N.default,{mt:"6",children:Object(Y.jsx)(st.default,{title:e.message,alertType:"warn",dismiss:!1,onAction:n,action:t.formatMessage({id:"action__fill_in"})})}):null},Pi=function(){var e=Object(y.default)(),t=Object(i.useCallback)((function(){$o.appUIEventBus.emit($o.AppUIEventBusNames.SwapRefresh)}),[]);return Object(Y.jsx)(N.default,{mt:"6",children:Object(Y.jsx)(st.default,{title:e.formatMessage({id:"msg__failed_to_fetch_quotes"}),alertType:"warn",action:e.formatMessage({id:"action__retry"}),onAction:t,dismiss:!1})})},Mi=function(){var e=Object(y.default)();return Object(Y.jsx)(N.default,{mt:"6",children:Object(Y.jsx)(st.default,{title:e.formatMessage({id:"msg__this_transaction_is_not_supported"}),alertType:"warn",dismiss:!1})})},Ai=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.error}));return e===Ha.SwapError.NotSupport?Object(Y.jsx)(Mi,{}):e===Ha.SwapError.QuoteFailed?Object(Y.jsx)(Pi,{}):null},Ti=function(){var e=Object(y.default)();return Object(Y.jsx)(N.default,{flexDirection:"row",mt:"6",w:"full",children:Object(Y.jsx)(st.default,{alertType:"warn",dismiss:!1,containerProps:{width:"full"},title:e.formatMessage({id:"content__do_not_swap_directly_to_the_exchange"}),description:e.formatMessage({id:"content__do_not_swap_directly_to_the_exchange_desc"})})})},Di=function(){var e=Object(i.useState)(!1),t=x()(e,2),n=t[0],r=t[1],o=Object(Ka.useSwapRecipient)();return Object(i.useEffect)((function(){W.default.serviceSwap.recipientIsUnknown(o).then(r)}),[o]),n?Object(Y.jsx)(Ti,{}):null},Ri=function(){var e=Object(y.default)();return Object(i.useEffect)((function(){function t(){return(t=In()((function*(){(yield W.default.serviceSwap.getSwapPriceImpactShown())||(W.default.serviceSwap.setSwapPriceImpactShown(!0),Object(Tn.showOverlay)((function(t){return Object(Y.jsx)(dt.default,{title:e.formatMessage({id:"modal__attention"}),closeOverlay:t,children:Object(Y.jsxs)(T.default,{w:"full",children:[Object(Y.jsx)(te.default.Body1,{textAlign:"center",color:"text-subdued",children:e.formatMessage({id:"msg__you_will_swap_tokens_for_10%_less_than_coingecko_s_rate_which_may_result_in_a_loss"})}),Object(Y.jsx)(T.default,{w:"full",mt:"5",children:Object(Y.jsx)(re.default,{size:"lg",w:"full",type:"primary",onPress:t,children:e.formatMessage({id:"action__i_got_it"})})})]})})})))}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(Y.jsx)(N.default,{flexDirection:"row",mt:"6",children:Object(Y.jsx)(st.default,{alertType:"warn",dismiss:!1,containerProps:{width:"full"},title:e.formatMessage({id:"msg__you_will_swap_tokens_for_10%_less_than_coingecko_s_rate_which_may_result_in_a_loss"})})})},Ei=function(){var e=Object(_i.usePriceImpact)();return e&&e>10?Object(Y.jsx)(Ri,{}):null},Bi=function(e){var t=e.value,n=Object(y.default)();return Object(Y.jsx)(N.default,{flexDirection:"row",mt:"6",w:"full",children:Object(Y.jsx)(st.default,{containerProps:{width:"full"},alertType:"warn",dismiss:!1,title:n.formatMessage({id:"msg__current_slippage_str_is_high"},{0:t+"%"}),description:n.formatMessage({id:"msg__your_trade_may_be_front_run_due_to_the_larger_slippage"})})})},Ni=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.quote})),t=Object(_i.useSwapSlippage)();if(e&&"custom"===t.mode){var n=Number(t.value);if(!Number.isNaN(n)&&n>=5&&n<50)return Object(Y.jsx)(Bi,{value:t.value})}return null},Li=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Di,{}),Object(Y.jsx)(Ii,{}),Object(Y.jsx)(Si,{}),Object(Y.jsx)(Ai,{}),Object(Y.jsx)(Ei,{}),Object(Y.jsx)(Ni,{})]})},Wi=Object(i.createContext)((function(){})),Hi=n(844),zi=["value","onChange","onChangeEnd"];function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vi=function(e){var t=e.value,n=e.onChange,r=e.onChangeEnd,o=O()(e,zi),c=Object(i.useState)(!1),l=x()(c,2),s=l[0],u=l[1],d=Object(a.default)("surface-neutral-subdued"),f=Object(i.useMemo)((function(){return[(t>=25?100:Math.floor(t/25*100))+"%",(t>=50?100:Math.floor((t-25)/25*100))+"%",(t>=75?100:Math.floor((t-50)/25*100))+"%",(t>=100?100:Math.floor((t-75)/25*100))+"%"]}),[t]),b=Object(i.useCallback)((function(e){Object(Hi.doHapticsWhenEnabled)(),u(!0),null==n||n(e)}),[n]),j=Object(i.useCallback)((function(e){Object(Hi.doHapticsWhenEnabled)(),u(!1),null==n||n(e),null==r||r(e)}),[n,r]),p=Math.min(t,100),m=t+"%";return Object(Y.jsxs)(Et.default,Ui(Ui({maxW:"300",value:p,minValue:0,maxValue:100,step:1,onChangeEnd:j,onChange:b,_interactionBox:{borderWidth:0,children:Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsx)(N.default,{w:"4",h:"4",bg:"icon-subdued",justifyContent:"center",alignItems:"center",borderRadius:"full",children:Object(Y.jsx)(N.default,{w:"3",h:"3",bg:"surface-neutral-default",borderRadius:"full"})}),s?Object(Y.jsxs)(N.default,{position:"absolute",zIndex:1,right:0,bottom:8,bg:"surface-neutral-subdued",borderRadius:4,style:{transform:[{translateX:17}]},children:[Object(Y.jsx)(N.default,{style:{width:0,height:0,backgroundColor:"transparent",borderStyle:"solid",borderLeftWidth:5,borderRightWidth:5,borderTopWidth:10,borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:d,position:"absolute",bottom:-8,right:20}}),Object(Y.jsx)(T.default,{p:"1",flexDirection:"row",w:"12",children:Object(Y.jsx)(te.default.CaptionStrong,{color:"text-default",children:m})})]}):null]})}},o),{},{children:[Object(Y.jsx)(Et.default.Track,{position:"relative",children:Object(Y.jsxs)(vt.default,{space:1,w:"full",h:"full",bg:"background-default",children:[Object(Y.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",position:"relative",children:Object(Y.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[0]})}),Object(Y.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",children:Object(Y.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[1]})}),Object(Y.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",children:Object(Y.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[2]})}),Object(Y.jsx)(N.default,{flex:"1",bg:"surface-neutral-default",children:Object(Y.jsx)(N.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[3]})})]})}),Object(Y.jsx)(Et.default.Thumb,{_pressed:{borderWidth:0,outlineStyle:"none"},_focus:{borderWidth:0,outlineStyle:"none"},_hover:{borderWidth:0,outlineStyle:"none"}})]}))},Gi=n(3943),qi=function(e){var t=e.token,n=Object(H.useNetwork)({networkId:t.networkId}).network,r=(null==n?void 0:n.id)===oo.OnekeyNetwork.goerli?"Ethereum Testnet":null==n?void 0:n.name;return Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsx)(N.default,{mr:"2",w:"8",h:"8",borderRadius:"full",overflow:"hidden",bgColor:"surface-neutral-default",children:Object(Y.jsx)(Tt.default,{token:t,size:8,bgColor:"surface-neutral-default"})}),Object(Y.jsx)(N.default,{position:"absolute",bottom:0,right:"4px",w:"18px",h:"18px",bgColor:"border-default",justifyContent:"center",alignItems:"center",borderRadius:"full",overflow:"hidden",children:Object(Y.jsx)(bt.default,{size:"4",src:null==n?void 0:n.logoURI})})]}),Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(te.default.DisplayLarge,{color:"text-default",fontSize:24,children:t.symbol}),Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:null!=r?r:"-"})]}),Object(Y.jsx)(N.default,{ml:"1",children:Object(Y.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})})]})]})};function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xi=function(){var e,t=Object(y.default)(),n=Object(H.useNavigation)(),r=Object(H.useAppSelector)((function(e){return e.swap.outputTokenNetwork})),o=Object(H.useAppSelector)((function(e){return e.swap.sendingAccount})),c=Object(Ka.useSwapRecipient)(),l=Object(i.useState)(),s=x()(l,2),u=s[0],d=s[1],f=Object(i.useState)(!1),j=x()(f,2),p=j[0],O=j[1],m=Object(a.default)("surface-neutral-default"),h=Object(i.useCallback)((function(){d(void 0),n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.SelectRecipient,params:{networkId:null==r?void 0:r.id,onSelected:function(e){var t=e.address,n=e.name,o=e.accountId;W.default.dispatch(Object(Na.setRecipient)({address:t,name:n,networkId:null==r?void 0:r.id,networkImpl:null==r?void 0:r.impl,accountId:o}))}}}})}),[n,null==r?void 0:r.id,null==r?void 0:r.impl]);Object(i.useEffect)((function(){function e(){return(e=In()((function*(){var e=!1;function n(){return(n=In()((function*(){var n=yield W.default.serviceSwap.recipientIsUnknown(c);if(O(n),n){if(yield W.default.serviceSwap.getSwapReceivingUnknownShown())return;yield W.default.serviceSwap.setSwapReceivingUnknownShown(!0),d(t.formatMessage({id:"msg__you_are_swapping_asset_to_an_address_that_may_not_be_yours_please_verify"})),e=!0}}))).apply(this,arguments)}function r(){return(r=In()((function*(){if(null!=o&&o.address&&null!=c&&c.address&&(null==o?void 0:o.address)!==(null==c?void 0:c.address)){if(yield W.default.serviceSwap.getSwapReceivingIsNotSendingAccountShown())return;yield W.default.serviceSwap.setSwapReceivingIsNotSendingAccountShown(!0),d(t.formatMessage({id:"msg__you_have_selected_another_account_to_receive_tokens"}))}}))).apply(this,arguments)}yield function(){return n.apply(this,arguments)}(),e||(yield function(){return r.apply(this,arguments)}())}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o,c,t]),Object(i.useEffect)((function(){if(u){var e=setTimeout((function(){return d(void 0)}),8e3);return function(){clearTimeout(e)}}}),[u]),Object(w.useFocusEffect)(Object(i.useCallback)((function(){return function(){return d(void 0)}}),[]));var g=null!=c?c:{},v=g.address,k=g.name;return v&&k?e=Object(Y.jsxs)(N.default,{mr:"1",flexDirection:"row",children:[Object(Y.jsx)(te.default.Body2Strong,{mr:"1",color:p?"text-warning":"text-default",children:k}),Object(Y.jsx)(te.default.Body2,{color:p?"text-warning":"text-subdued",children:v.slice(-4)})]}):v&&(e=Object(Y.jsx)(N.default,{mr:"1",children:Object(Y.jsxs)(te.default.Body2,{color:p?"text-warning":"text-subdued",children:[t.formatMessage({id:"form__unknown"})," ",Object(eo.shortenAddress)(v)]})})),v?Object(Y.jsxs)(N.default,{position:"relative",children:[u?Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsx)(Ue.default,{style:{height:A.default.hairlineWidth,width:210}}),Object(Y.jsxs)(N.default,{position:"absolute",zIndex:1,bottom:"2",left:"1",bg:"surface-neutral-default",borderRadius:12,width:"56",children:[Object(Y.jsx)(N.default,{style:{width:0,height:0,backgroundColor:"transparent",borderStyle:"solid",borderLeftWidth:5,borderRightWidth:5,borderTopWidth:10,borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:m,position:"absolute",bottom:-10,left:14}}),Object(Y.jsx)(N.default,{p:"3",children:Object(Y.jsx)(te.default.Body2,{children:u})})]})]}):null,Object(Y.jsx)(N.default,{flexDirection:"row",children:Object(Y.jsx)($.default,{flexDirection:"row",borderRadius:12,alignItems:"center",onPress:h,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},position:"relative",children:Object(Y.jsxs)(N.default,{py:"1",px:"2",flexDirection:"row",alignItems:"center",children:[e,Object(Y.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})]})})})]}):Object(Y.jsx)($.default,{flexDirection:"row",alignItems:"center",onPress:h,children:Object(Y.jsx)(N.default,{flexDirection:"row",py:"1",px:"2",borderRadius:"12",children:Object(Y.jsx)(te.default.Caption,{color:"text-default",mr:"1",numberOfLines:1,children:t.formatMessage({id:"title__choose_an_account"})})})})},Yi=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.outputToken})),t=Object(Ka.useSwapRecipient)(),n=Object(Gi.useTokenBalance)(e,null==t?void 0:t.accountId),r=null!=n?n:"0",o=Object(za.formatAmount)(r,6);return r&&0!==Number(r)&&!Number.isNaN(+r)||(o="0"),Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",zIndex:1,children:[Object(Y.jsx)(Xi,{}),Object(Y.jsx)($.default,{rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(te.default.Caption,{color:"text-subdued",fontWeight:500,children:e?o+" "+e.symbol.toUpperCase():"-"})})})]})},Qi=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(H.useAppSelector)((function(e){return e.swap.outputToken})),n=Object(H.useAppSelector)((function(e){return e.swap.allowAnotherRecipientAddress}));if(e&&t&&!Object(za.recipientMustBeSendingAccount)(e,t,n))return Object(Y.jsx)(Yi,{});return null},Ji=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),r=Object(H.useAppSelector)((function(e){return e.swap.outputToken})),o=Object(H.useAppSelector)((function(e){return e.swap.allowAnotherRecipientAddress})),a=Object(i.useCallback)((function(){var e=!o;e?t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.SelectRecipient,params:{networkId:null==r?void 0:r.networkId,onSelected:function(t){var n=t.address,o=t.name,a=t.accountId;W.default.dispatch(Object(Na.setRecipient)({address:n,name:o,networkId:null==r?void 0:r.networkId,networkImpl:Object(za.getNetworkIdImpl)(null==r?void 0:r.networkId),accountId:a})),W.default.dispatch(Object(Na.setAllowAnotherRecipientAddress)(e))}}}}):W.default.dispatch(Object(Na.setAllowAnotherRecipientAddress)(e))}),[o,r,t]);if(n&&r&&Object(za.shouldShowAllowRecipientAddressInput)(n,r))return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:"2",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"form__swap_to_another_address"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Mt.default,{labelType:"false",size:"mini",onToggle:a,isChecked:o})})]});return null},$i=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,i=Object(y.default)(),c=Object(H.useAppSelector)((function(e){return e.swap.outputToken})),l=Object(Gi.useTokenPrice)(c),s=Object(H.useAppSelector)((function(e){return e.swap.loading})),u=Object(H.useAppSelector)((function(e){return e.swap.independentField}));return Object(Y.jsx)(N.default,Zi(Zi({},o),{},{position:"relative",children:Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",children:[Object(Y.jsx)($.default,{onPress:function(){a||null==n||n()},flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:c?Object(Y.jsx)(qi,{token:c}):Object(Y.jsx)(N.default,{children:Object(Y.jsx)(te.default.DisplayMedium,{fontWeight:600,children:i.formatMessage({id:"title__select_a_token"})})})}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:"INPUT"===u&&s?Object(Y.jsx)(N.default,{minH:"12",h:"full",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Y.jsx)(N.default,{h:"4",width:"24",borderRadius:"2px",overflow:"hidden",children:Object(Y.jsx)(Ut.default,{})})}):Object(Y.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Y.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Y.jsx)(N.default,{position:"absolute",bottom:"26px",right:2,children:Object(Y.jsx)(N.default,{pointerEvents:"none",children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",numberOfLines:2,children:Object(Y.jsx)(da.FormatCurrency,{numbers:[null!=l?l:0,null!=t?t:0],render:function(e){return Object(Y.jsx)(te.default.Body2,{ml:3,color:"text-subdued",children:l?e:"-"})}})})})}),Object(Y.jsx)(Ft.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pr:"2",pb:"12",textAlign:"right",isReadOnly:!0,rightCustomElement:null,focusOutlineColor:"transparent"})]})})})]}),Object(Y.jsx)(Ji,{}),Object(Y.jsx)(Qi,{})]})}))};function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nc=function(e){var t=e.account,n=e.token,r=Object(y.default)(),o=Object(H.useNavigation)(),a=Object(i.useCallback)((function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.SelectSendingAccount,params:{networkId:null==n?void 0:n.networkId,onSelected:function(e){W.default.dispatch(Object(Na.setSendingAccount)(e))}}}})}),[n,o]);return Object(Y.jsx)($.default,{borderRadius:"12",overflow:"hidden",onPress:a,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:t?Object(Y.jsxs)(N.default,{py:"1",px:"2",flexDirection:"row",borderRadius:"12",alignItems:"center",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",mr:"1",children:[Object(Y.jsx)(te.default.Body2Strong,{mr:"1",children:t.name}),Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:t.address.slice(-4)})]}),Object(Y.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})]}):Object(Y.jsx)(N.default,{py:"1",px:"2",borderRadius:"12",children:Object(Y.jsx)(te.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"title__choose_an_account"})})})})},rc=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.type,c=e.isDisabled,l=Object(y.default)(),s=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),u=Object(H.useAppSelector)((function(e){return e.swap.sendingAccount})),d=Object(Gi.useTokenBalance)(s,null==u?void 0:u.id),f=Object(H.useAppSelector)((function(e){return e.swap.loading})),b=Object(H.useAppSelector)((function(e){return e.swap.independentField})),j=Object(Gi.useTokenPrice)(s),p=null!=d?d:"0",O=Object(i.useCallback)(In()((function*(){if(s&&p)if(s.tokenIdOnNetwork)W.default.serviceSwap.userInput(a,p);else{var e=yield W.default.serviceSwap.getReservedNetworkFee(s.networkId),t=Mn.a.max(0,new Mn.a(p).minus(e));t.gt(0)?W.default.serviceSwap.userInput(a,t.toFixed()):Number(p)>0&&Kt.default.show({title:l.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:e+" "+s.symbol.toUpperCase()})},{type:"error"})}})),[s,p,a,l]),m=Object(za.formatAmount)(p,6);return p&&0!==Number(p)&&!Number.isNaN(+p)||(m="0"),Object(Y.jsx)(N.default,tc(tc({},o),{},{position:"relative",children:Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(nc,{account:u,token:s}),Object(Y.jsx)($.default,{onPress:function(){c||O()},rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(te.default.Caption,{color:"text-subdued",fontWeight:500,children:s?m+" "+s.symbol.toUpperCase():"-"})})})]}),Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[Object(Y.jsx)($.default,{onPress:n,flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:s?Object(Y.jsx)(qi,{token:s}):Object(Y.jsx)(N.default,{children:Object(Y.jsx)(te.default.DisplayMedium,{fontWeight:600,children:l.formatMessage({id:"title__select_a_token"})})})}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:"OUTPUT"===b&&f?Object(Y.jsx)(N.default,{h:"full",minH:"12",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Y.jsx)(N.default,{h:"4",width:"24",borderRadius:"2px",overflow:"hidden",children:Object(Y.jsx)(Ut.default,{})})}):Object(Y.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Y.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Y.jsx)(N.default,{position:"absolute",bottom:"26px",right:2,children:Object(Y.jsx)(N.default,{pointerEvents:"none",children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",numberOfLines:2,children:Object(Y.jsx)(da.FormatCurrency,{numbers:[null!=j?j:0,null!=t?t:0],render:function(e){return Object(Y.jsx)(te.default.Body2,{ml:3,color:"text-subdued",children:j?e:"-"})}})})})}),Object(Y.jsx)(Ft.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pb:"12",focusOutlineColor:"transparent",pr:"2",textAlign:"right",isDisabled:c,rightCustomElement:null})]})})})]})]})}))},oc=function(){var e=Object(ae.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(ae.useAppSelector)((function(e){return e.swap.sendingAccount})),n=Object(Gi.useTokenBalance)(e,null==t?void 0:t.id),r=Object(ae.useAppSelector)((function(e){return e.swap.typedValue})),o=Object(i.useMemo)((function(){if(n&&r){var e=new Mn.a(n),t=new Mn.a(r);if(e.gt(0)&&t.gt(0)){var o=t.div(e).multipliedBy(100).toNumber();return Math.ceil(o)}}return 0}),[n,r]),a=Object(i.useCallback)((function(e){if(n){var t=Object(za.div)(Object(za.multiply)(n,e),100);e<100&&(t=Object(za.formatAmountExact)(t)),W.default.serviceSwap.userInput("INPUT",t)}}),[n]),c=Object(i.useContext)(Wi),l=Object(i.useCallback)((function(){0}),[c]),s=Object(i.useCallback)((function(){0}),[c]);return Object(Y.jsx)(T.default,{h:"10",w:"48",children:Object(Y.jsx)(N.default,{style:{transform:[{translateY:2}]},w:"full",children:Object(Y.jsx)(Vi,{onTouchStart:l,onChangeEnd:s,value:o,onChange:a})})})},ac=function(){return Object(Y.jsx)(at.LazyDisplayView,{delay:100,children:Object(Y.jsx)(oc,{})})},ic=function(){var e=Object(y.default)(),t=Object(j.default)(),n=Object(H.useNavigation)(),r=Object(ae.useAppSelector)((function(e){return e.swap.independentField})),o=Object(ae.useAppSelector)((function(e){return e.swap.loading})),a=Object(ae.useActiveWalletAccount)(),c=a.wallet,l=a.network,s=Object(ae.useAppSelector)((function(e){return e.swapTransactions.swapMaintain})),u=Object(Ka.useDerivedSwapState)().formattedAmounts,d=!c||!l||s,f=Object(i.useCallback)((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.Input}})}),[n]),p=Object(i.useCallback)((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.OutputCrosschain}})}),[n]),O=Object(i.useCallback)((function(e){W.default.serviceSwap.userInput("INPUT",e)}),[]),m=Object(i.useCallback)((function(e){W.default.serviceSwap.userInput("OUTPUT",e)}),[]),x=Object(i.useCallback)((function(){W.default.serviceSwap.switchTokens()}),[]),h=Object(i.useMemo)((function(){return{upper:{pb:"0"},lower:{pt:"0"}}}),[]);return Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsxs)(N.default,{position:"relative",borderRadius:t?void 0:"12",overflow:"hidden",children:[Object(Y.jsx)(N.default,{px:2,pt:"3",pb:"5",bg:"surface-subdued",overflow:"hidden",children:Object(Y.jsx)(rc,{type:"INPUT",label:e.formatMessage({id:"form__pay"}),inputValue:u.INPUT,onChange:O,onPress:f,containerProps:h.upper,isDisabled:o&&"OUTPUT"===r})}),Object(Y.jsx)(N.default,{w:"full",position:"relative",h:"1",bg:"background-default",zIndex:1,children:Object(Y.jsxs)(N.default,{position:"absolute",w:"full",h:"10",top:-20,left:0,children:[Object(Y.jsx)(N.default,{position:"absolute",top:"0",left:"4",children:Object(Y.jsx)(T.default,{w:"10",h:"10",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Y.jsx)(yt.default,{w:35,h:35,borderColor:"background-default",isDisabled:o,name:"ArrowDownOutline",borderRadius:"full",_disabled:{borderColor:"background-default"},onPress:x,size:"lg",bgColor:"surface-neutral-subdued"})})}),Object(Y.jsx)(N.default,{position:"absolute",top:"0",right:"4",children:Object(Y.jsx)(ac,{})})]})}),Object(Y.jsx)(N.default,{px:2,pb:"3",pt:"5",bg:"action-secondary-default",overflow:"hidden",children:Object(Y.jsx)($i,{type:"OUTPUT",label:e.formatMessage({id:"action__receive"}),inputValue:u.OUTPUT,onChange:m,onPress:p,containerProps:h.lower})}),d?Object(Y.jsx)(N.default,{w:"full",h:"full",position:"absolute",zIndex:1}):null]})})},cc=n(86),lc=n(4518),sc=n(39),uc=n(341),dc=function(){var e=Object(Xt.default)().themeVariant,t=Object(w.useIsFocused)(),r=Object(i.useRef)(new sc.default.Value(0)).current,o=Object(i.useRef)(new sc.default.Value(0)).current,a=Object(H.useAppSelector)((function(e){return e.swap.loading})),c=Object(i.useCallback)((function(){var e=Object(Ea.appSelector)((function(e){return e.swap.quoteLimited}));Wa.submited||e||!t||(r.setValue(0),sc.default.timing(r,{toValue:-1,duration:1e3,useNativeDriver:!0}).start((function(){$o.appUIEventBus.emit($o.AppUIEventBusNames.SwapRefresh)})))}),[r,t]);return Object(i.useEffect)((function(){var e=o.addListener((function(e){15e3===e.value&&c()}));return function(){return o.removeListener(e)}}),[c,o]),Object(i.useEffect)((function(){sc.default.timing(o,{toValue:15e3,duration:15e3,useNativeDriver:!0}).start()}),[o]),Object(i.useEffect)((function(){t&&(15e3===Number(o._value)&&setTimeout((function(){return $o.appUIEventBus.emit($o.AppUIEventBusNames.SwapRefresh)}),100))}),[t,o]),Object(Y.jsx)(uc.default,{onPress:c,isDisabled:a,children:Object(Y.jsx)(sc.default.View,{style:{transform:[{rotate:r.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]})}]},children:Object(Y.jsx)(T.default,{w:"5",h:"5",children:Object(Y.jsx)(zt.default,{autoPlay:!0,width:20,source:n("light"===e?5260:5261)})})})})},fc=["children"];function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pc=function(e){var t=e.children,n=O()(e,fc);return Object(H.useAppSelector)((function(e){return e.swap.loading}))?Object(Y.jsx)(N.default,jc(jc({overflow:"hidden"},n),{},{children:Object(Y.jsx)(Ut.default,{})})):Object(Y.jsx)(N.default,{children:t})},Oc=n(4146),mc=function(e){var t=e.label;return Object(Y.jsx)(D.default,{hasArrow:!0,_text:{maxW:"80"},label:t,placement:"top",children:Object(Y.jsx)($.default,{borderRadius:"full",p:"2px",position:"relative",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:Object(Y.jsx)(ee.default,{color:"text-subdued",name:"QuestionMarkCircleOutline",size:16})})})},xc=n(4520),hc=n(4145),gc=function(e){var t=e.onClose,n=Object(y.default)(),r=Object(H.useAppSelector)((function(e){return e.settings.disableSwapExactApproveAmount})),o=Object(i.useState)(!!r),a=x()(o,2),c=a[0],l=a[1];return Object(Y.jsxs)(Pt.default,{direction:"column",space:"2",children:[Object(Y.jsxs)($.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){return l(!1)},children:[Object(Y.jsx)(te.default.Body1Strong,{children:n.formatMessage({id:"form__exact_amount"})}),Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(te.default.Body1Strong,{color:"text-subdued",children:n.formatMessage({id:"content__approve_the_amount_to_tokens_to_be_sent"})}),Object(Y.jsx)(T.default,{w:"5",children:c?null:Object(Y.jsx)(ee.default,{name:"CheckMini",size:20,color:"text-success"})})]})]}),Object(Y.jsxs)($.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){return l(!0)},children:[Object(Y.jsx)(te.default.Body1Strong,{children:n.formatMessage({id:"form__unlimited"})}),Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(te.default.Body1Strong,{color:"text-subdued",children:n.formatMessage({id:"content__you_dont_need _to_approve_again_in_the_future"})}),Object(Y.jsx)(T.default,{w:"5",children:c?Object(Y.jsx)(ee.default,{name:"CheckMini",size:20,color:"text-success"}):null})]})]}),Object(Y.jsx)(re.default,{size:"xl",type:"primary",onPress:function(){W.default.dispatch(Object(cc.setDisableSwapExactApproveAmount)(c)),t()},children:n.formatMessage({id:"action__done"})})]})},vc=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){return e.swap.quote})),n=Object(H.useAppSelector)((function(e){return e.settings.disableSwapExactApproveAmount})),r=Object(i.useCallback)((function(){Object(Tn.showOverlay)((function(t){return Object(Y.jsx)(dt.default,{title:e.formatMessage({id:"form__approval"}),closeOverlay:t,children:Object(Y.jsx)(gc,{onClose:t})})}))}),[e]);return t&&t.needApproved?Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__approval"})}),Object(Y.jsx)(mc,{label:e.formatMessage({id:"form__exact_amount_allowance_desc"})})]}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Y.jsxs)($.default,{flexDirection:"row",alignItems:"center",onPress:r,children:[Object(Y.jsx)(te.default.Body2,{mr:"1",color:"text-default",children:n?e.formatMessage({id:"form__unlimited"}):e.formatMessage({id:"form__exact_amount"})}),Object(Y.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})]}):null},yc=function(){var e=Object(y.default)(),t=Object(i.useMemo)((function(){return[{text:"\ud83d\ude85 "+e.formatMessage({id:"form__high"}),value:"2"},{text:"\ud83d\ude95 "+e.formatMessage({id:"form__normal"}),value:"1"},{text:"\ud83d\udeb4\ud83c\udffb "+e.formatMessage({id:"form__low"}),value:"0"}]}),[e]),n=Object(H.useAppSelector)((function(e){return e.swapTransactions.swapFeePresetIndex})),r=Object(i.useCallback)((function(){Object(Tn.showOverlay)((function(n){return Object(Y.jsx)(dt.default,{title:e.formatMessage({id:"form__gas_fee_settings"}),closeOverlay:n,children:Object(Y.jsx)(Pt.default,{direction:"column",space:"2",children:t.map((function(e){return Object(Y.jsx)($.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){W.default.serviceSwap.setSwapFeePresetIndex(e.value),n()},children:Object(Y.jsx)(te.default.DisplayMedium,{children:e.text})},e.value)}))})})}))}),[t,e]),o=Object(i.useMemo)((function(){var e=t.findIndex((function(e){return e.value===n}));return-1===e&&(e=1),t[e].text}),[t,n]);return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__network_fee"})}),Object(Y.jsx)(mc,{label:e.formatMessage({id:"form__network_fee_desc"})})]}),Object(Y.jsx)(N.default,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Y.jsxs)($.default,{flexDirection:"row",alignItems:"center",onPress:r,children:[Object(Y.jsx)(te.default.Body2,{mr:"1",color:"text-default",children:o}),Object(Y.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})]})},wc=function(){var e,t=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),n=Object(H.useNetwork)({networkId:null==t?void 0:t.networkId}).network;return null!=n&&null!=(e=n.settings)&&e.feeInfoEditable?Object(Y.jsx)(yc,{}):null},kc=function(){var e=Object(_i.useSwapMinimumReceivedAmount)(),t=Object(H.useAppSelector)((function(e){return e.swap.outputToken}));if(t&&e){var n=Object(za.getTokenAmountValue)(t,String(e));return Object(Y.jsxs)(te.default.Body2,{color:"text-default",children:[n.toFixed(4)," ",t.symbol.toUpperCase()]})}return null},_c=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){return e.swap.quote}));if(!t)return null;var n=Number(t.estimatedPriceImpact);if(0===n||Number.isNaN(n))return null;var r=Object(za.formatAmount)(null==t?void 0:t.estimatedPriceImpact,4)+"%";return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__price_impact"})}),Object(Y.jsx)(mc,{label:e.formatMessage({id:"form__price_impact_desc"})})]}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Y.jsx)(te.default.Body2,{color:"text-default",children:r})})]})},Cc=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.protocolFees}));if(t){var n=Object(za.calculateProtocalsFee)(t);if(Number(n.value)>0)return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"2",children:e.formatMessage({id:"form__bridge_fee"})})}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Y.jsx)(te.default.Body2,{color:"text-default",children:Object(za.formatAmount)(n.value,8)+" "+n.symbol.toUpperCase()})})]})}return null},Sc=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(H.useAppSelector)((function(e){return e.swap.quote})),r=Object(H.useAppSelector)((function(e){return e.swap.quoteLimited})),o=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.SelectRoutes}})}),[t]);return n?Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"2",children:e.formatMessage({id:"form__smart_router"})}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Y.jsx)(pc,{h:"5",width:"24",borderRadius:"4px",children:Object(Y.jsxs)($.default,{onPress:o,disabled:!!r,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:[Object(Y.jsx)(Oc.default,{providers:n.providers,typography:"Body2",color:"text-default"}),r?null:Object(Y.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})})]}):null},Ic=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(_i.useSwapSlippage)(),r=n.mode,o=n.value,a=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.Slippage}})}),[t]);return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__slippage"})}),Object(Y.jsx)(mc,{label:e.formatMessage({id:"form__slippage_desc"})})]}),Object(Y.jsx)(N.default,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:Object(Y.jsxs)($.default,{flexDirection:"row",onPress:a,children:[Object(Y.jsxs)(te.default.Body2,{mr:"1",color:"text-default",children:["auto"===r?e.formatMessage({id:"form__auto"}):null,"(",o,"%)"]}),Object(Y.jsx)(ee.default,{size:16,name:"ChevronRightOutline"})]})})]})},Pc=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){return e.swap.quote}));return t?Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__included_onekey_fee"})}),Object(Y.jsx)(mc,{label:e.formatMessage({id:"form__included_onekey_fee_desc"})})]}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Y.jsx)(xc.default,{type:t.type,percentageFee:t.percentageFee,typography:"Body2",color:"text-default"})})]}):null},Mc=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.arrivalTime}));return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__arrival_time"})}),Object(Y.jsx)(mc,{label:e.formatMessage({id:"form__arrival_time_desc"})})]}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Y.jsx)(lc.ArrivalTime,{value:t,typography:"Body2",color:"text-default"})})]})},Ac=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){return e.swap.quote}));return t?Object(Y.jsxs)(N.default,{mt:"2",children:[Object(Y.jsx)(xt.default,{}),Object(Y.jsx)(N.default,{py:"4",children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__by_submitting_this_order_you_are_confirming_a_swap_powered_by_str_api"},{0:Object(za.normalizeProviderName)(t.type)})})})]}):null},Tc=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.quote})),t=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),n=Object(H.useAppSelector)((function(e){return e.swap.outputToken}));return e?Object(Y.jsx)(T.default,{py:"3",children:Object(Y.jsx)(pc,{h:"5",width:"24",borderRadius:"4px",children:Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(N.default,{mr:"1",children:Object(Y.jsx)(dc,{})}),Object(Y.jsx)(hc.default,{tokenA:t,tokenB:n,rate:null==e?void 0:e.instantRate,typography:"Body2",color:"text-default"})]})})}):null},Dc=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){return e.swap.showMoreQuoteDetail})),n=Object(i.useCallback)((function(){W.default.serviceSwap.setShowMoreQuoteDetail(!0)}),[]),r=Object(i.useCallback)((function(){W.default.serviceSwap.setShowMoreQuoteDetail(!1)}),[]);return t?Object(Y.jsxs)(N.default,{children:[Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(N.default,{py:"4",children:Object(Y.jsx)(xt.default,{})}),Object(Y.jsx)(vc,{}),Object(Y.jsx)(Ic,{}),Object(Y.jsx)(_c,{}),Object(Y.jsx)(Cc,{}),Object(Y.jsx)(Pc,{}),Object(Y.jsx)(Mc,{})]}),Object(Y.jsx)(T.default,{h:"9",children:Object(Y.jsx)(re.default,{iconColor:"text-subdued",rightIconName:"ChevronUpMini",_text:{color:"text-subdued"},type:"plain",onPress:r,children:e.formatMessage({id:"action__collapse"})},"collapse")})]}):Object(Y.jsx)(T.default,{h:"9",children:Object(Y.jsx)(re.default,{iconColor:"text-subdued",rightIconName:"ChevronDownMini",_text:{color:"text-subdued"},type:"plain",onPress:n,children:e.formatMessage({id:"action__expand"})},"expand")})},Rc=function(){var e=Object(y.default)();return Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(Tc,{}),Object(Y.jsx)(wc,{}),Object(Y.jsx)(Sc,{}),Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__minimum_received"})}),Object(Y.jsx)(mc,{label:e.formatMessage({id:"form__minimum_received_desc"})})]}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:Object(Y.jsx)(pc,{h:"5",width:"24",borderRadius:"4px",children:Object(Y.jsx)(kc,{})})})]}),Object(Y.jsx)(Dc,{}),Object(Y.jsx)(Ac,{})]})},Ec=function(){return Object(Y.jsx)(N.default,{children:Object(Y.jsx)(wc,{})})},Bc=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.quote}));return e?e.wrapperTxInfo?Object(Y.jsx)(Ec,{}):Object(Y.jsx)(Rc,{}):null};function Nc(){return Object(i.useEffect)((function(){var e=function(){var e=In()((function*(){(yield oi())&&(yield Object(ni.wait)(2e3),ai())}));return function(){return e.apply(this,arguments)}}();return $o.appUIEventBus.on($o.AppUIEventBusNames.SwapAddTransaction,e),function(){$o.appUIEventBus.off($o.AppUIEventBusNames.SwapAddTransaction,e)}}),[]),Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(ic,{}),Object(Y.jsxs)(ki,{children:[Object(Y.jsx)(Li,{}),Object(Y.jsx)(N.default,{mt:"6",mb:"3",children:Object(Y.jsx)(wi,{})}),Object(Y.jsx)(Bc,{})]})]})}var Lc=function(e){var t=e.tokenId,n=e.networkId;return Object(i.useEffect)((function(){function e(){return(e=In()((function*(){if(!Object(Da.isAllNetworks)(n)){var e=yield W.default.engine.ensureTokenInDB(n,t),r=Object(Ea.appSelector)((function(e){return e.swap.inputToken}));if(!(!e||r&&Object(za.tokenEqual)(r,e))){yield W.default.serviceSwap.buyToken(e);var o=setTimeout((function(){var e=Object(Ea.appSelector)((function(e){return e.swap.sendingAccount})),t=Object(Ea.appSelector)((function(e){return e.swap.inputToken})),n=Object(ae.getActiveWalletAccount)(),r=n.account,o=n.wallet;"watching"===(null==o?void 0:o.type)?W.default.serviceSwap.setSendingAccountSimple(null):r&&r.id!==(null==e?void 0:e.id)&&t&&Object(Ra.isAccountCompatibleWithNetwork)(r.id,t.networkId)&&W.default.serviceSwap.setSendingAccountSimple(r)}),200);return function(){return clearTimeout(o)}}}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Nc,{}),Object(Y.jsx)(ti,{})]})},Wc=n(1617),Hc=n(52),zc=n(2415),Fc=n(271),Uc=n.n(Fc),Vc=n(1660),Gc=n(1159),qc=n.n(Gc),Kc=n(60),Zc=n.n(Kc),Xc=n(178);function Yc(e){return Qc.apply(this,arguments)}function Qc(){return(Qc=In()((function*(e){var t,n,r,o,a=e.historyTx,i=e.actionType,c=e.navigation,l=null!=(t=null==(n=a.decodedTx)?void 0:n.encodedTx)?t:{},s=null==a||null==(r=a.decodedTx)?void 0:r.encodedTxEncrypted;if(s)try{o=JSON.parse(yield W.default.servicePassword.decryptByInstanceId(s))}catch(m){o={from:"-",to:"-",value:"-",data:"-"}}var u=a.decodedTx,d=u.nonce,f=u.accountId,j=u.networkId;if(!(Zc()(d)||!qc()(d)||d<0)){var p={from:l.from,to:l.to,value:l.value,data:l.data,nonce:d,gas:l.gas,gasLimit:l.gasLimit,gasPrice:l.gasPrice,maxFeePerGas:l.maxFeePerGas,maxPriorityFeePerGas:l.maxPriorityFeePerGas};if("cancel"===i&&(p.to=p.from,p.value="0",p.data="0x"),"speedUp"===i&&o&&(o.from!==p.from||o.to!==p.to||o.value!==p.value||o.data!==p.data||!new Mn.a(p.nonce||"0").eq(o.nonce||"0")))return Kt.default.show({title:"Speedup failed. History transaction data not matched"},{type:"error"}),void Z.default.sendTx.info("Speedup failed. History transaction data not matched",{encodedTxOrigin:o,encodedTxEvm:p});var O={accountId:f,networkId:j,actionType:i,resendActionInfo:{type:i,replaceHistoryId:a.id},encodedTx:p,feeInfoEditable:!0,feeInfoUseFeeInTx:!0,ignoreFetchFeeCalling:!0};c.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Send,params:{screen:Xc.SendModalRoutes.SendConfirm,params:Uc()(O)}})}}))).apply(this,arguments)}function Jc(e){var t=e.historyTx,n=Object(H.useNavigation)(),r=Object(y.default)(),o="cancel"===t.replacedType;return Object(Y.jsxs)(Y.Fragment,{children:[o?null:Object(Y.jsx)(re.default,{size:"sm",ml:2,onPress:function(){Yc({historyTx:t,actionType:"cancel",navigation:n})},children:r.formatMessage({id:"action__cancel"})}),Object(Y.jsx)(re.default,{type:"primary",size:"sm",ml:2,onPress:function(){Yc(o?{historyTx:t,actionType:"cancel",navigation:n}:{historyTx:t,actionType:"speedUp",navigation:n})},children:r.formatMessage({id:"action__speed_up"})})]})}var $c=n(1200),el=n(2442),tl=n(381);var nl=Object(Vc.withDebugRenderTracker)((function(e){var t,n,r,o=e.historyTx,a=e.isFirst,i=e.isLast,c=o.decodedTx,l=c.status,s=Object(y.default)(),u=Object(H.useActiveWalletAccount)().network,d=Object(Xt.default)().isLight,f=Object(H.useNavigation)(),j=Object(tl.getTxStatusInfo)({decodedTx:c});l!==Hc.IDecodedTxStatus.Pending&&Object(Y.jsx)(lt.default,{typography:"Body2",color:"text-subdued",text:null!=(t=c.txid)?t:"",short:!0,prefix:"Hash: "}),l!==Hc.IDecodedTxStatus.Confirmed&&Object(Y.jsx)(ve.default,{typography:"Body2",color:j.textColor,children:s.formatMessage({id:j.text})}),"cancel"===o.replacedType&&Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:"TxCancel"}),"speedUp"===o.replacedType&&Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:"TxSpeedUp"});var p=null!=u&&null!=(n=u.settings)&&n.txCanBeReplaced?Object(Y.jsx)(Jc,{historyTx:o}):void 0;return Object(Y.jsx)($c.TxActionElementTime,{typography:"Body2",color:"text-subdued",isShort:!0,timestamp:null!=(r=c.updatedAt)?r:c.createdAt}),Object(Y.jsx)($.default.Item,{borderTopRadius:a?12:0,borderBottomRadius:i?12:0,borderWidth:d?1:0,borderBottomWidth:i&&d?1:0,borderTopWidth:a&&d?1:0,borderColor:"border-subdued",px:{base:"4",lg:"6"},py:"16px",onPress:function(){f.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.TransactionDetail,params:{screen:b.TransactionDetailModalRoutes.HistoryDetailModal,params:Uc()({decodedTx:c,historyTx:o})}})},children:Object(Y.jsxs)(Oe.default,{children:[Object(Y.jsx)(el.TxActionsListView,{historyTx:o,decodedTx:c,transformType:"T0",space:"31px",showDivider:!0,showConnectionLine:!0}),c.status===Hc.IDecodedTxStatus.Pending?Object(Y.jsxs)(vt.default,{space:2,mt:2,children:[Object(Y.jsx)(N.default,{flex:1}),p]}):null]})})})),rl=n(856),ol=Object(i.createContext)(null);function al(e){var t=e.children,n=e.isLoading,r=void 0!==n&&n,o=e.isTab,a=e.headerView,c=e.refresh,l=Object(i.useState)({isLoading:r,isTab:o,headerView:a,refresh:c}),s=x()(l,2),u=s[0],d=s[1],f=Object(i.useMemo)((function(){return{context:u,setContext:d}}),[u]);return Object(Y.jsx)(ol.Provider,{value:f,children:t})}function il(){return Object(i.useContext)(ol)}function cl(e){var t,n=e.isLoading,r=e.refresh,o=Object(y.default)(),a=il();return Object(Y.jsx)(N.default,{py:4,flexDirection:"column",alignItems:"center",children:Object(Y.jsx)(ht.default,{emoji:"\ud83d\udd50",title:o.formatMessage({id:"transaction__history_empty_title"}),subTitle:o.formatMessage({id:"transaction__history_empty_desc"}),actionTitle:o.formatMessage({id:"action__refresh"}),handleAction:null!=(t=null==a?void 0:a.context.refresh)?t:r,isLoading:Boolean((null==a?void 0:a.context.isLoading)||n)})})}var ll=n(451);function sl(e){var t,n=e.closeOverlay,r=Object(y.default)(),o=null==(t=Object(H.useAppSelector)((function(e){return e.settings.hideScamHistory})))||t;return Object(Y.jsx)(dt.default,{modalLizeProps:{tapGestureEnabled:!1},title:r.formatMessage({id:"title__settings"}),closeOverlay:n,children:Object(Y.jsxs)(N.default,{pb:4,pr:2,children:[Object(Y.jsx)(ve.default,{typography:"Subheading",color:"text-subdued",children:r.formatMessage({id:"form__anti_scam"})}),Object(Y.jsx)(ve.default,{typography:"Body1Strong",mt:3,children:r.formatMessage({id:"form__hide_0_amount_transfers"})}),Object(Y.jsxs)(vt.default,{mt:1,alignItems:"flex-start",space:3,children:[Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",flex:1,children:r.formatMessage({id:"form__hide_0_amount_transfers_desc"})}),Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:o,onToggle:function(){return W.default.dispatch(Object(cc.setHideScamHistory)(!o),Object(ll.refreshHistory)())}})]})]})})}var ul=function(){Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(sl,{closeOverlay:e})}))};function dl(e){var t,n=e.isLoading,r=e.refresh,o=e.networkId,a=Object(y.default)(),i=Object(H.useNetwork)({networkId:o}).network;return Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pb:3,children:[Object(Y.jsx)(te.default.Heading,{children:a.formatMessage({id:"transaction__history"})}),Object(Y.jsxs)(N.default,{flexDirection:"row",children:[Object(Y.jsx)(yt.default,{onPress:function(){null==r||r()},isLoading:Boolean(n),p:2,size:"sm",name:"ArrowPathMini",type:"plain",circle:!0}),(null==i||null==(t=i.settings)?void 0:t.supportFilterScam)&&Object(Y.jsx)(yt.default,{onPress:ul,ml:3,p:2,size:"sm",name:"Cog8ToothMini",type:"plain",circle:!0})]})]})}function fl(e){var t,n,r=e.refresh,o=e.networkId,a=il();return Object(Y.jsxs)(N.default,{children:[null==a||null==(t=a.context)?void 0:t.headerView,Object(Y.jsx)(dl,{networkId:o,refresh:null!=(n=null==a?void 0:a.context.refresh)?n:r,isLoading:null==a?void 0:a.context.isLoading})]},"header")}function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e){var t=e.title,n=e.titleKey,r=e.data,o=Object(y.default)(),a=t||o.formatMessage({id:n})||"";return Object(Y.jsx)(N.default,{py:2,flexDirection:"row",children:Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:a}),r[0]&&r[0].decodedTx.status===Hc.IDecodedTxStatus.Pending&&Object(Y.jsx)(N.default,{ml:3,children:Object(Y.jsx)(ut.default,{title:r.length.toString(),type:"default",size:"sm"})})]})},"section-header")}var Ol=Object(i.memo)((function(e){var t=e.networkId,n=e.data,r=e.SectionListComponent,o=Object(ye.default)().size,a=Object(Ar.default)(),c=Object(i.useMemo)((function(){return["NORMAL","LARGE"].includes(o)?32:16}),[o]),l=Object(i.useMemo)((function(){return function(e){var t,n=e.items,r=e.formatDate,o={titleKey:"transaction__pending",data:[]},a=[];return n.forEach((function(e){if(e.decodedTx.status===Hc.IDecodedTxStatus.Pending){var n;null==(n=o)||n.data.push(e)}else{var i=r(e.decodedTx.updatedAt||e.decodedTx.createdAt||0);t&&t.title===i||(t&&a.push(t),t={title:i,data:[]}),t.data.push(e)}})),t&&a.push(t),o.data.length||(o=void 0),o?[o].concat(a).filter(Boolean):[].concat(a).filter(Boolean)}({items:n,formatDate:function(e){return a.formatDate(new Date(e),{hideTheYear:!0,hideTimeForever:!0})}})}),[n,a]),s=!l||!l.length,u=Object(i.useCallback)((function(e){var t,n=e.item,r=e.index,o=e.section;return Object(Y.jsx)(nl,{historyTx:n,isFirst:0===r,isLast:r===(null==o||null==(t=o.data)?void 0:t.length)-1})}),[]),d=Object(i.useCallback)((function(e){var t=e.section,n=t.title,r=t.titleKey,o=t.data;return Object(Y.jsx)(pl,{title:n,titleKey:r,data:o})}),[]),f=Object(i.useCallback)((function(){return Object(Y.jsx)(xt.default,{},"separator")}),[]),b={renderItem:u,renderSectionHeader:d,contentContainerStyle:{paddingHorizontal:c,marginTop:16},sections:l,ListHeaderComponent:Object(Y.jsx)(fl,{isEmpty:s,networkId:t},"header"),ListEmptyComponent:Object(Y.jsx)(cl,{},"empty"),ListFooterComponent:Object(Y.jsx)(N.default,{h:"20px"},"footer"),ItemSeparatorComponent:f,keyExtractor:function(e,t){return e.id||t.toString(10)},showsVerticalScrollIndicator:!1,stickySectionHeadersEnabled:!1};return Object(Y.jsx)(r,jl({},b))}));function ml(e){var t=e.accountId,n=e.networkId,r=e.tokenId,o=e.headerView,a=e.isHomeTab,c=e.tabComponent,l=Object(i.useState)([]),s=x()(l,2),u=s[0],d=s[1],f=il(),b=Object($t.useIsAtHomeTab)(rl.WalletHomeTabEnum.History),j=W.default.serviceHistory,p=Object(H.useAppSelector)((function(e){return e.refresher.refreshHistoryTs})),O=Object(H.useAppSelector)((function(e){var n,r;return null!=(n=null==(r=e.overview.allNetworksAccountsMap)?void 0:r[t||""])?n:{}})),m=Object(zc.useVisibilityFocused)(),h=Object(H.useAccountPortfolios)({networkId:n,accountId:t,type:To.EOverviewScanTaskType.token}).data,v=Object(i.useCallback)(function(){var e=In()((function*(e){var t=e.networkId,n=e.accountId,r=e.refresh,o=e.tokenAddress;if(!n||!t)return Promise.resolve([]);if(r){try{yield j.refreshHistory({networkId:t,accountId:n,tokenIdOnNetwork:o})}catch(a){Z.default.common.error(a)}yield Object(ni.wait)(1e3)}return yield j.getLocalHistory({networkId:t,accountId:n,tokenIdOnNetwork:""===o?o:o||void 0,limit:An.HISTORY_CONSTS.DISPLAY_TX_LIMIT})}));return function(t){return e.apply(this,arguments)}}(),[j]),y=Object(i.useCallback)(function(){var e=In()((function*(e){var t,n,r=e.refresh,o=e.coingeckoId,a=[],i=null!=(t=null==(n=h.find((function(e){return e.coingeckoId===o})))?void 0:n.tokens)?t:[],c=function*(){if(!l)return"continue";var e=l.networkId,t=l.address,n=l.accountAddress;if(!e||!n)return"continue";var o=O[e].find((function(e){return e.address===n}));if(!o)return"continue";var i=yield v({networkId:e,accountId:o.id,tokenAddress:t,refresh:r});a.push.apply(a,g()(i))};for(var l of i)yield*c();return a}));return function(t){return e.apply(this,arguments)}}(),[h,v,O]),w=Object(i.useCallback)(In()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.refresh,a=void 0===o||o;return n&&t?Object(Da.isAllNetworks)(n)?y({accountId:t,coingeckoId:r,refresh:a}):v({networkId:n,accountId:t,tokenAddress:r,refresh:a}):[]})),[t,n,r,v,y]),k=Object(i.useCallback)((function(){return w({refresh:!1})}),[w]),_=Object(i.useMemo)((function(){return!(!t||!n)&&(!!Object(Ra.isAccountCompatibleWithNetwork)(t,n)&&(!!m&&(!a||b)))}),[t,b,m,a,n]),C=a?"fetchHistoryTx-homeTab":"fetchHistoryTx",S=Object(Wc.default)(C,w,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!_},onSuccess:function(e){(function(e){var t=e.oldTxList,n=e.newTxList;if(t.length!==n.length)return!0;for(var r=0;r<5;r+=1){var o=t[r],a=n[r];if(!a&&!o)return!1;if(!a||!o)return!0;if(a.id!==o.id||a.decodedTx.createdAt!==o.decodedTx.createdAt||a.decodedTx.updatedAt!==o.decodedTx.updatedAt||a.decodedTx.status!==o.decodedTx.status||a.decodedTx.totalFeeInNative!==o.decodedTx.totalFeeInNative)return!0}return!1})({oldTxList:u||[],newTxList:e||[]})&&d(e)}}),I=S.mutate,P=S.isValidating,M=Object(i.useCallback)((function(){return j.refreshHistoryUi()}),[j]);Object(i.useEffect)((function(){null==f||f.setContext((function(e){return e.isLoading!==P||e.refresh!==M||e.headerView!==o?jl(jl({},e),{},{refresh:M,isLoading:P,headerView:o}):e}))}),[M,P,f,o]);var A=Object(i.useMemo)((function(){var e=u[0];return e&&(null==e?void 0:e.decodedTx.networkId)===n&&(null==e?void 0:e.decodedTx.accountId)===t}),[t,u,n]);if(Object(i.useEffect)((function(){In()((function*(){if(_&&!A){var e=yield k();d(e||[])}}))()}),[t,n,k,_,A]),Object(i.useEffect)((function(){_&&I()}),[p,t,n,I,_]),!t||!n)return null;var T=a||c?vn.Tabs.SectionList:Ct.default;return Object(Y.jsx)(Ol,{accountId:t,networkId:n,data:u.sort((function(e,t){var n=e.decodedTx.updatedAt||e.decodedTx.createdAt||0;return(t.decodedTx.updatedAt||t.decodedTx.createdAt||0)-n})),SectionListComponent:T})}function xl(e){var t=e.headerView,n=e.isHomeTab;return Object(Y.jsx)(al,{headerView:t,isTab:n,children:Object(Y.jsx)(ml,jl({},e))})}var hl=n(823),gl=n.n(hl),vl=Object(i.createContext)(void 0),yl=function(){var e,t,n=Object(y.default)(),r=Object(H.useManageNetworks)().allNetworks,o=Object(i.useContext)(vl),a=(null!=(e=null==o?void 0:o.routeParams)?e:{}).price,c=(null!=(t=null==o?void 0:o.positionInfo)?t:{}).items,l=Object(j.default)(),s=Object(i.useMemo)((function(){return Object.entries(gl()(c,"networkId")).map((function(e){var t=x()(e,2),n=t[0],o=t[1];return{network:null==r?void 0:r.find((function(e){return e.id===n})),data:o}}))}),[c,r]),u=Object(i.useCallback)((function(e){var t,r,o=e.section,a=o.network,i=o.data;return a?Object(Y.jsxs)(Oe.default,{mt:"6",children:[Object(Y.jsxs)(vt.default,{children:[Object(Y.jsx)(Tt.default,{size:"5",showInfo:!0,token:{name:null==a||null==(t=a.name)?void 0:t.toUpperCase(),logoURI:null==a?void 0:a.logoURI}}),Object(Y.jsx)(ut.default,{ml:"3",size:"sm",title:String(null!=(r=null==i?void 0:i.length)?r:0)})]}),Object(Y.jsx)(Y.Fragment,{children:l?null:Object(Y.jsxs)(qt.default,{py:4,mx:"-8px",children:[Object(Y.jsx)(qt.default.Column,{flex:3,text:{label:n.formatMessage({id:"form__position_uppercase"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:n.formatMessage({id:"content__type"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{flex:2.5,text:{label:n.formatMessage({id:"content__balance"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{flex:2.5,text:{label:n.formatMessage({id:"form__value_uppercase"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]})})]}):null}),[l,n]),d=Object(i.useCallback)((function(e){var t,r=e.item,o={name:r.name,logoURI:r.logoURI},i=new Mn.a(null!=(t=r.balance)?t:0).multipliedBy(null!=a?a:0),c=Object(Y.jsx)(da.FormatBalance,{balance:r.balance,suffix:null==r?void 0:r.symbol,formatOptions:{fixed:6}});return l?Object(Y.jsxs)(qt.default,{mx:"-8px",children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(Tt.default,{flex:"1",size:"40px",showInfo:!0,token:o,showExtra:!1,description:c,infoBoxProps:{flex:1}})}),Object(Y.jsx)(qt.default.Column,{flex:1,alignItems:"flex-end",text:{label:Object(Y.jsx)(te.default.Body1Strong,{children:Object(Y.jsx)(da.FormatCurrencyNumber,{value:0,convertValue:i})}),description:Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ut.default,{size:"sm",type:"info",title:r.type})})}})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(N.default,{borderBottomWidth:1,borderColor:"divider"}),Object(Y.jsxs)(qt.default,{mx:"-8px",py:4,children:[Object(Y.jsx)(Tt.default,{flex:3,size:"32px",showInfo:!0,showDescription:!1,token:o,showExtra:!1,infoBoxProps:{flex:1}}),Object(Y.jsx)(N.default,{flex:1,flexDirection:"row",justifyContent:"flex-end",children:Object(Y.jsx)(ut.default,{size:"sm",type:"info",title:n.formatMessage({id:"form__token"})})}),Object(Y.jsx)(qt.default.Column,{flex:2.5,text:{label:Object(Y.jsx)(te.default.Body1Strong,{textAlign:"right",children:c})}}),Object(Y.jsx)(qt.default.Column,{flex:2.5,text:{label:Object(Y.jsx)(te.default.Body1Strong,{textAlign:"right",children:Object(Y.jsx)(da.FormatCurrencyNumber,{value:0,convertValue:i})})}})]})]})}),[n,l,a]);return Object(Y.jsx)(vn.Tabs.SectionList,{contentContainerStyle:{width:"100%",alignSelf:"center",paddingHorizontal:l?16:32},renderSectionHeader:u,sections:s,renderItem:d,keyExtractor:function(e){var t;return e.networkId+"__"+e.name+"__"+e.balance+"__"+(null!=(t=e.address)?t:"")}})},wl=n(136),kl=n(2611),_l=n(3769),Cl=n(675),Sl=n(3973),Il=n(190),Pl=n(3977),Ml=n(822);function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dl=function(e){var t,n=e.height,r=void 0===n?"48px":n,o=e.onPress,a=e.explorer,c=e.index,l=e.triggerProps,s=Object(Pl.useGridBoxStyle)({index:c,maxW:Cl.SCREEN_SIZE.LARGE,outPadding:32}),u=Object(H.useNetwork)({networkId:null==a?void 0:a.networkId}).network,d=Boolean(null==a?void 0:a.url),f=Object(i.useRef)(),b=Object(i.useMemo)((function(){return null!=u&&u.logoURI?Object(Y.jsx)(bt.default,{borderRadius:"12px",src:u.logoURI,alt:u.logoURI,size:"25px",ml:2}):null}),[u]);return Object(Y.jsx)($.default,Tl(Tl(Tl({height:r,borderWidth:1,borderRadius:"12px",borderColor:"border-default",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},s),{},{onPress:function(){null==o||o(d,f)}},l),{},{children:Object(Y.jsxs)(N.default,{flex:1,ref:f,flexDirection:"row",alignItems:"center",children:[d?null:b,Object(Y.jsxs)(N.default,{ml:"2",flex:1,children:[Object(Y.jsx)(te.default.Body2Strong,{numberOfLines:1,children:null==a?void 0:a.name}),null!=a&&a.contractAddress?Object(Y.jsx)(te.default.Caption,{color:"text-subdued",children:Object(eo.shortenAddress)(null!=(t=null==a?void 0:a.contractAddress)?t:"")}):null]}),Object(Y.jsx)(N.default,{mr:"2",children:Object(Y.jsx)(ee.default,{name:d?"ArrowTopRightOnSquareMini":"EllipsisHorizontalMini",color:"icon-subdued",size:20})})]})}))},Rl=function(e){var t,n,r,o,a=e.links,c=Object(y.default)(),l=Object(i.useCallback)((function(e,t){Object(Fn.openUrl)(null!=e?e:"",t,{modalMode:!0})}),[]);return Object(i.useMemo)((function(){return Object.values(a).filter((function(e){return e.length})).length}),[a])?Object(Y.jsxs)(pe.default,{mx:-4,horizontal:!0,flexDirection:"row",children:[null!=a&&null!=(t=a.homePageUrl)&&t.length?Object(Y.jsx)(re.default,{type:"basic",size:"base",leftIconName:"GlobeAltOutline",mx:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.homePageUrl,c.formatMessage({id:"form__website"}))},children:c.formatMessage({id:"form__website"})}):null,null!=a&&null!=(n=a.twitterUrl)&&n.length?Object(Y.jsx)(re.default,{type:"basic",size:"base",leftIconName:"TwitterOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.twitterUrl,"Twitter")},children:"Twitter"}):null,null!=a&&null!=(r=a.telegramUrl)&&r.length?Object(Y.jsx)(re.default,{type:"basic",size:"base",leftIconName:"GlobeAltOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.telegramUrl,"Telegram")},children:"Telegram"}):null,null!=a&&null!=(o=a.discordUrl)&&o.length?Object(Y.jsx)(re.default,{type:"basic",size:"base",leftIconName:"DiscordOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){l(null==a?void 0:a.discordUrl,"Discord")},children:"Discord"}):null]}):null};function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?El(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nl=function(e){var t,n=e.explorer,r=e.index,o=Object(y.default)(),a=Object(Pl.useGridBoxStyle)({index:r,maxW:Cl.SCREEN_SIZE.LARGE,outPadding:32}).width,c=Object(i.useCallback)((function(){setTimeout((function(){n.contractAddress&&Object(to.copyToClipboard)(n.contractAddress)}),200),Kt.default.show({title:o.formatMessage({id:"msg__copied"})})}),[n.contractAddress,o]),l=Object(H.useNetwork)({networkId:n.networkId}).network,s=Object(Mr.default)(l).openAddressDetails,u=Object(i.useCallback)((function(e){return Object(Y.jsx)(Dl,{index:r,explorer:n,triggerProps:e},r)}),[n,r]);return Object(Y.jsxs)(kt.default,{offset:Il.defaultMenuOffset,width:a,minWidth:220,trigger:u,children:[Object(Y.jsx)(kt.default.CustomItem,{onPress:c,icon:"DocumentDuplicateMini",children:o.formatMessage({id:"action__copy_address"})}),null==n||!n.networkId||null!=l&&null!=(t=l.settings)&&t.hiddenBlockBrowserTokenDetailLink?null:Object(Y.jsx)(kt.default.CustomItem,{onPress:function(){var e;s(null!=(e=n.contractAddress)?e:"",o.formatMessage({id:"form__explorers"}))},icon:"ArrowTopRightOnSquareMini",children:o.formatMessage({id:"action__view_in_browser"})})]})},Ll=function(e){var t=e.title,n=e.value,r=e.subValue,o=e.valueColor,a=e.index,i=e.isFetching,c=Object(Pl.useGridBoxStyle)({index:a,outPadding:32,maxW:Cl.SCREEN_SIZE.LARGE});return Object(Y.jsxs)(N.default,Bl(Bl({},c),{},{children:[Object(Y.jsxs)(N.default,{alignItems:"flex-start",justifyContent:"space-between",mb:2,flex:1,children:[Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",children:t}),Object(Y.jsxs)(N.default,{flex:1,alignItems:"flex-start",children:[i?Object(Y.jsx)(ne.default,{shape:"Body2"}):Object(Y.jsx)(te.default.Body2Strong,{textAlign:"right",numberOfLines:2,color:null!=o?o:"text-default",children:n}),r?Object(Y.jsx)(te.default.Caption,{color:"text-subdued",children:r}):null]})]}),Object(Y.jsx)(xt.default,{})]}))},Wl=function(e){var t=e.low24h,n=e.high24h,r=e.volume24h,o=e.marketCapRank,a=e.marketCap,c=e.expolorers,l=e.about,s=e.links,u=e.px,d=e.atl,f=e.ath,b=Object(y.default)(),j=Object(H.useSettings)().selectedFiatMoneySymbol,p=Object(Sl.useCurrencyUnit)(j),O=Object(i.useMemo)((function(){var e,t,n=new Date(null!=(e=null==f?void 0:f.time)?e:""),r=new Date(null!=(t=null==d?void 0:d.time)?t:"");return{athTime:Object(kl.default)(n)?Object(_l.default)(n,"yyyy-MM-dd"):void 0,atlTime:Object(kl.default)(r)?Object(_l.default)(r,"yyyy-MM-dd"):void 0}}),[f,d]),m=O.athTime,x=O.atlTime;return Object(Y.jsx)(N.default,{px:u,children:Object(Y.jsxs)(Oe.default,{space:6,my:2,children:[Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(te.default.Heading,{mb:2,children:b.formatMessage({id:"content__stats"})}),Object(Y.jsx)(Pl.GridLayout,{children:Object(Y.jsxs)(N.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",children:[Object(Y.jsx)(Ll,{index:0,isFetching:void 0===a,title:b.formatMessage({id:"form__market_cap"}),value:Object(Ml.formatMarketUnitPosition)(p,Object(Ml.formatMarketValueForInfo)(a))}),Object(Y.jsx)(Ll,{index:1,isFetching:void 0===o,title:b.formatMessage({id:"form__market_cap_rank"}),value:"#"+(null!=o?o:0)}),Object(Y.jsx)(Ll,{index:2,isFetching:void 0===r,title:b.formatMessage({id:"form__24h_volume"}),value:Object(Ml.formatMarketUnitPosition)(p,Object(Ml.formatMarketValueForInfo)(r))}),Object(Y.jsx)(Ll,{index:3,isFetching:void 0===t,title:b.formatMessage({id:"form__24h_low"}),value:Object(Ml.formatMarketUnitPosition)(p,Object(Ml.formatMarketValueForInfo)(t))}),Object(Y.jsx)(Ll,{index:4,isFetching:void 0===n,title:b.formatMessage({id:"form__24h_high"}),value:Object(Ml.formatMarketUnitPosition)(p,Object(Ml.formatMarketValueForInfo)(n))}),Object(Y.jsx)(Ll,{index:5,isFetching:void 0===(null==d?void 0:d.value),title:b.formatMessage({id:"form__all_time_low"}),value:Object(Ml.formatMarketUnitPosition)(p,Object(Ml.formatMarketValueForInfo)(null==d?void 0:d.value)),subValue:x}),Object(Y.jsx)(Ll,{index:6,isFetching:void 0===(null==f?void 0:f.value),title:b.formatMessage({id:"form__all_time_high"}),value:Object(Ml.formatMarketUnitPosition)(p,Object(Ml.formatMarketValueForInfo)(null==f?void 0:f.value)),subValue:m})]})})]}),null!=c&&c.length?Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(te.default.Heading,{mb:2,children:b.formatMessage({id:"form__explorers"})}),Object(Y.jsx)(Pl.GridLayout,{children:Object(Y.jsx)(N.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",children:null==c?void 0:c.map((function(e,t){return e.url?Object(Y.jsx)(Dl,{index:t,explorer:e,onPress:function(){var t;Object(Fn.openUrl)(null!=(t=e.url)?t:"",b.formatMessage({id:"form__explorers"}),{modalMode:!0})}},t):Object(Y.jsx)(Nl,{explorer:e,index:t})}))})})]}):null,null!=l&&l.length?Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(te.default.Heading,{mb:2,children:b.formatMessage({id:"title__about"})}),Object(Y.jsx)(te.default.Body2,{noOfLines:5,children:l})]}):null,s?Object(Y.jsx)(Rl,{links:s}):null]})})},Hl=n(533),zl=function(e){var t=e.coingeckoId,n=Object(H.useAppSelector)((function(e){return e.market.details})),r=Object(H.useAppSelector)((function(e){return e.settings.locale})),o=Object(i.useMemo)((function(){return n[t]}),[t,n]);return Object(i.useEffect)((function(){W.default.serviceMarket.fetchMarketDetail({coingeckoId:t,locale:"system"===r?Object(Hl.getDefaultLocale)():r})}),[t,r]),{tokenDetail:o}},Fl=function(e){var t,n,r,o,a,i,c,l=e.coingeckoId,s=zl({coingeckoId:l}).tokenDetail,u=Object(je.default)().bottom;return Object(Y.jsx)(N.default,{mt:"20px",mb:u,children:Object(Y.jsx)(Wl,{low24h:null==s||null==(t=s.stats)?void 0:t.low24h,high24h:null==s||null==(n=s.stats)?void 0:n.high24h,marketCapRank:null==s||null==(r=s.stats)?void 0:r.marketCapRank,marketCap:null==s||null==(o=s.stats)?void 0:o.marketCap,volume24h:null==s||null==(a=s.stats)?void 0:a.volume24h,expolorers:null==s?void 0:s.explorers,about:null==s?void 0:s.about,links:null==s?void 0:s.links,atl:null==s||null==(i=s.stats)?void 0:i.atl,ath:null==s||null==(c=s.stats)?void 0:c.ath})})},Ul=function(e){var t=e.coingeckoId,n=Object(y.default)();return t&&Object(wl.isValidCoingeckoId)(t)?Object(Y.jsx)(Fl,{coingeckoId:t}):Object(Y.jsx)(N.default,{py:"24px",flexDirection:"column",alignItems:"center",children:Object(Y.jsx)(ht.default,{emoji:"\ud83e\udd37\u200d\u2640\ufe0f",title:n.formatMessage({id:"empty__no_info"}),subTitle:n.formatMessage({id:"empty__no_info_desc"})})})},Vl=function(e){var t=e.coingeckoId,n=Object(j.default)(),r=Object(i.useCallback)((function(){return Object(Y.jsx)(Ul,{coingeckoId:t})}),[t]);return Object(Y.jsx)(vn.Tabs.FlatList,{contentContainerStyle:{width:"100%",alignSelf:"center",paddingHorizontal:n?16:32},ListHeaderComponent:r,data:[],renderItem:function(){return null}})},Gl=function(){var e,t,n,r=Object(y.default)(),o=Object(i.useContext)(vl),a=null!=(e=null==o?void 0:o.routeParams)?e:{},c=a.walletId,l=a.accountId,s=a.networkId,u=a.tokenAddress,d=a.coingeckoId,f=a.symbol,b=a.price,j=Object(H.useTokenPositionInfo)({walletId:null!=c?c:"",networkId:null!=s?s:"",accountId:null!=l?l:"",tokenAddress:null!=u?u:"",coingeckoId:d});return Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(te.default.Heading,{children:r.formatMessage({id:"content__balance"})}),Object(Y.jsx)(da.FormatBalance,{balance:null!=(t=j.balance)?t:0,suffix:f,formatOptions:{fixed:6},render:function(e){return Object(Y.jsx)(te.default.DisplayXLarge,{children:e})}}),Object(Y.jsx)(te.default.Body2,{mt:"4px",color:"text-subdued",children:Object(Y.jsx)(da.FormatCurrencyNumber,{value:new Mn.a(null!=(n=null==j?void 0:j.balance)?n:0).times(null!=b?b:0)})})]})},ql=n(1076),Kl=n(663),Zl=n(4142),Xl=n(3930),Yl=n(3998),Ql=function(e){var t=e.stakingType,n=e.children,r=Object(H.useActiveWalletAccount)(),o=r.accountId,a=r.networkId;return Object(Da.isAllNetworks)(a)||Object(Yl.isAccountCompatibleWithStakingTypes)(o,t)?Object(Y.jsx)(Y.Fragment,{children:n}):null},Jl=function(e){var t=e.stakingType,r=Object(y.default)(),o=Object(H.useNavigation)(),a=Object(H.useActiveWalletAccount)(),c=a.accountId,l=a.walletId,s=a.networkId,u=Object(Ba.useAllNetworksSelectNetworkAccount)({accountId:c,walletId:l,networkId:s,filter:Object(Yl.getStakeSelectNetworkAccountFilter)(t)});Object(i.useEffect)((function(){W.default.serviceStaking.fetchEthAprSma()}),[]);var d=Object(H.useAppSelector)((function(e){return e.staking.ethStakingApr})),f=Object(i.useMemo)((function(){if(d){var e=s===oo.OnekeyNetwork.eth?d.mainnet:d.testnet;return e.kele>e.lido?{name:"Kele \u2022 Ethereum",value:Object(Kl.formatAmount)(e.kele,2)+"%",logo:n(1363)}:{name:"Lido \u2022 Ethereum",value:Object(Kl.formatAmount)(e.lido,2)+"%",logo:n(3997)}}}),[d,s]),j=Object(i.useCallback)(function(){var e=In()((function*(e){var t=yield u(),n=t.account,r=t.network;e===Xl.EthStakingSource.Kele?o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:Xl.StakingRoutes.StakedETHOnKele,params:{accountId:n.id,networkId:r.id}}}):o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:Xl.StakingRoutes.StakedETHOnLido,params:{accountId:n.id,networkId:r.id}}})}));return function(t){return e.apply(this,arguments)}}(),[o,u]),p=Object(i.useCallback)((function(){f&&("Kele \u2022 Ethereum"===f.name?j(Xl.EthStakingSource.Kele):j(Xl.EthStakingSource.Lido))}),[f,j]),O=Object(i.useCallback)((function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:Xl.StakingRoutes.ETHPoolSelector,params:{networkId:s,accountId:c,onSelector:j}}})}),[o,s,c,j]);return f?Object(Y.jsxs)(N.default,{children:[Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"16",children:[Object(Y.jsx)(te.default.Heading,{children:r.formatMessage({id:"form__top_yields"})}),Object(Y.jsx)(re.default,{type:"plain",size:"sm",pr:"0",rightIconName:"ChevronRightMini",onPress:O,children:r.formatMessage({id:"action__view_all"})})]}),Object(Y.jsx)(Zl.Options,{title:"ETH",subtitle:f.name,num:f.value,logo:f.logo,onPress:p})]}):null},$l=function(e){var t=e.token,n=Object(Yl.isSupportStakingType)({networkId:null==t?void 0:t.networkId,tokenIdOnNetwork:null==t?void 0:t.tokenIdOnNetwork});return n===Yl.StakingTypes.eth?Object(Y.jsx)(Ql,{stakingType:n,children:Object(Y.jsx)(Jl,{stakingType:n})}):null},es=function(e){var t=e.stakingType,r=Object(y.default)(),o=Object(H.useNavigation)(),a=Object(H.useActiveWalletAccount)(),c=a.accountId,l=a.walletId,s=a.networkId,u=Object(H.useAppSelector)((function(e){return e.staking.ethStakingApr})),d=Object(Ba.useAllNetworksSelectNetworkAccount)({accountId:c,walletId:l,networkId:s,filter:Object(Yl.getStakeSelectNetworkAccountFilter)(t)}),f=Object(i.useMemo)((function(){if(u){var e=s===oo.OnekeyNetwork.eth?u.mainnet:u.testnet;return{name:"Lido \u2022 Ethereum",value:Object(Kl.formatAmount)(e.lido,2)+"%",logo:n(3997)}}}),[u,s]),j=Object(i.useCallback)(In()((function*(){var e=yield d(),t=e.account,n=e.network;o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:Xl.StakingRoutes.LidoEthStakeShouldUnderstand,params:{networkId:n.id,accountId:t.id}}})})),[o,d]);return Object(Y.jsxs)(N.default,{children:[Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"16",children:[Object(Y.jsx)(te.default.Heading,{children:r.formatMessage({id:"form__related_pool"})}),Object(Y.jsx)(N.default,{})]}),f?Object(Y.jsx)(Zl.Options,{title:"ETH",subtitle:f.name,num:f.value,logo:f.logo,onPress:j}):null,Object(Y.jsx)(N.default,{py:"1",children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:r.formatMessage({id:"content__when_you_stake_str_you_receive_str"},{0:"ETH",1:"stETH"})})})]})},ts=function(e){var t=e.token;return Object(Yl.isSTETH)(null==t?void 0:t.networkId,null==t?void 0:t.tokenIdOnNetwork)?Object(Y.jsx)(Ql,{stakingType:Yl.StakingTypes.eth,children:Object(Y.jsx)(es,{stakingType:Yl.StakingTypes.eth})}):null};function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var os=function(e){var t=e.icon,n=e.text,r=e.onPress,o=e.isDisabled,a=Object(j.default)();return Object(i.useMemo)((function(){var e=Object(Y.jsxs)(N.default,{mx:a?0:3,children:["function"===typeof r?Object(Y.jsx)(ql.default,{children:Object(Y.jsx)(yt.default,{circle:!0,size:a?"lg":"sm",name:t,type:"basic",isDisabled:o,onPress:r})}):Object(Y.jsx)(N.default,{p:a?2:1.5,alignItems:"center",justifyContent:"center",borderWidth:"1px",borderRadius:"999px",borderColor:"border-default",bg:"action-secondary-default",children:Object(Y.jsx)(ee.default,{name:t,size:a?24:20})}),Object(Y.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:o?"text-disabled":"text-default",children:n})]});return"function"===typeof r&&(e=Object(Y.jsx)($.default,{onPress:r,children:e})),e}),[t,a,n,r,o])},as=function(){var e,t,n,r=Object(y.default)(),o=Object(j.default)(),a=Object(H.useNavigation)(),c=Object(i.useContext)(vl),l=null!=(e=null==c?void 0:c.routeParams)?e:{},s=l.walletId,u=void 0===s?"":s,d=l.accountId,f=void 0===d?"":d,p=l.networkId,O=void 0===p?"":p,m=l.sendAddress,x=l.symbol,h=l.logoURI,g=(null!=(t=null==c?void 0:c.positionInfo)?t:{}).items,v=null!=(n=null==c?void 0:c.detailInfo)?n:{},w=v.tokens,k=v.loading,_=v.ethereumNativeToken,C=Object(H.useWallet)({walletId:u}).wallet,S=Object(H.useNetwork)({networkId:O}).network,I=Object(i.useCallback)((function(e){var t=e.network;return!(null==t||!t.id)&&!(null==g||!g.some((function(e){return e.networkId===(null==t?void 0:t.id)})))}),[g]),P=Object(Ba.useAllNetworksSelectNetworkAccount)({networkId:O,walletId:u,accountId:f,filter:I}),M=Object(i.useCallback)((function(e){var t=e.network,n=e.account,r=e.token;a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Send,params:{screen:Xc.SendModalRoutes.PreSendAddress,params:{accountId:n.id,networkId:t.id,from:"",to:"",amount:"",token:null==r?void 0:r.address,tokenSendAddress:null==r?void 0:r.sendAddress}}})}),[a]),A=Object(i.useCallback)((function(e){var t=e.network,n=e.account;C&&(Object(An.isLightningNetworkByImpl)(t.impl)?a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:b.ReceiveTokenModalRoutes.CreateInvoice,params:{networkId:t.id,accountId:n.id}}}):a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:b.ReceiveTokenModalRoutes.ReceiveToken,params:{address:n.address,displayAddress:n.displayAddress,wallet:C,network:t,account:n,template:n.template}}}))}),[a,C]),T=Object(i.useCallback)((function(e){var t=e.token;W.default.serviceSwap.buyToken(t),a.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Swap}})}),[a]),D=Object(i.useCallback)((function(e){a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.FiatPay,params:{screen:b.FiatPayModalRoutes.MoonpayWebViewModal,params:{url:e}}})}),[a]),R=Object(i.useCallback)(function(){var e=In()((function*(e){var t=e.token,n=e.account,r=e.network,o=yield W.default.serviceFiatPay.getFiatPayUrl({type:"buy",address:null==n?void 0:n.address,tokenAddress:null==t?void 0:t.address,networkId:null==r?void 0:r.id});D(o)}));return function(t){return e.apply(this,arguments)}}(),[D]),E=Object(i.useCallback)(function(){var e=In()((function*(e){var t=e.account,n=e.network,r=e.token,o=yield W.default.serviceFiatPay.getFiatPayUrl({type:"buy",address:null==t?void 0:t.address,tokenAddress:null==r?void 0:r.address,networkId:null==n?void 0:n.id});D(o)}));return function(t){return e.apply(this,arguments)}}(),[D]),B=Object(i.useCallback)((function(e){P().then((function(t){var n=t.network,r=t.account,o=null==w?void 0:w.find((function(e){var t,r,o=(null==n?void 0:n.id)===(null!=(t=e.impl)?t:"")+"--"+(null!=(r=e.chainId)?r:"");return m?o&&m===e.sendAddress:o}));o&&(null==e.onPress||e.onPress({network:n,account:r,token:o}))}))}),[P,w,m]),L=Object(i.useMemo)((function(){return!(null!=S&&S.settings.hiddenAccountInfoSwapOption)}),[S]),z=Object(i.useMemo)((function(){return!(null!=S&&S.settings.hiddenAccountInfoMoreOption)}),[S]),F=Object(i.useMemo)((function(){var e=[{id:"action__send",onPress:M,icon:"PaperAirplaneOutline"},{id:"action__receive",onPress:A,icon:"QrCodeMini"},{id:"title__swap",onPress:T,icon:"ArrowsRightLeftSolid",visible:function(){return o&&L}},{id:"action__buy",onPress:R,icon:"PlusMini",visible:function(){return z}},{id:"action__sell",onPress:E,icon:"BanknotesMini",visible:function(){return z}}].map((function(e){return rs(rs({},e),{},{isDisabled:k})})).filter((function(e){return!e.visible||(null==e||null==e.visible?void 0:e.visible())})),t=o?4:3;return{buttons:e.slice(0,t),options:e.slice(t).map((function(e){return rs(rs({},e),{},{onPress:function(){B(e)}})}))}}),[k,B,o,R,E,T,A,M,L,z]),U=F.buttons,V=F.options;return Object(Y.jsxs)(N.default,{children:[Object(Y.jsxs)(vt.default,{justifyContent:"space-between",children:[!o&&Object(Y.jsx)(Tt.default,{flex:"1",showInfo:!0,size:8,token:{name:x,logoURI:h}}),Object(Y.jsxs)(vt.default,{justifyContent:"space-between",w:o?"100%":void 0,children:[U.map((function(e){return Object(Y.jsx)(os,{onPress:function(){B(e)},icon:e.icon,text:r.formatMessage({id:e.id}),isDisabled:k},e.id)})),z&&Object(Y.jsx)(Il.default,{ml:"26px",options:V,children:Object(Y.jsx)($.default,{children:Object(Y.jsx)(os,{icon:"EllipsisVerticalOutline",text:r.formatMessage({id:"action__more"}),isDisabled:k})})})]})]}),_&&!Object(Da.isAllNetworks)(O)?Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)($l,{token:_}),Object(Y.jsx)(ts,{token:_})]}):null]})},is=n(5329);var cs=function(){var e=In()((function*(e){var t=e.networkId,n=e.contract,r=void 0===n?"main":n,o=e.vs_currency,a=void 0===o?"usd":o,i=e.points,c=e.days;return(yield W.default.engine.getChart({networkId:t,addresses:[r],days:c,vs_currency:a,points:i}))[r]}));return function(t){return e.apply(this,arguments)}}(),ls=function(e){var t=e.data,n=e.onHover,r=e.lineColor,o=e.topColor,a=e.bottomColor,c=e.height,l=Object(i.useRef)(null);return Object(i.useEffect)((function(){if(l.current){var e=function(e,t,n,r){var o=e(t,{height:r,layout:{background:{color:"transparent"}},crosshair:{vertLine:{visible:!1},horzLine:{visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{visible:!1,fixLeftEdge:!0,fixRightEdge:!0,lockVisibleTimeRangeOnResize:!0},rightPriceScale:{visible:!1},handleScale:{pinch:!1,mouseWheel:!1}}),a=function(){o.applyOptions({width:t.clientWidth})};return o.subscribeCrosshairMove((function(e){var t=e.time,r=e.seriesPrices;n({time:t,price:r.values().next().value})})),o.timeScale().fitContent(),window.addEventListener("resize",a),window._onekey_chart=o,{chart:o,handleResize:a}}(is.createChart,l.current,n,c),t=e.chart,r=e.handleResize;return function(){window.removeEventListener("resize",r),t.remove()}}}),[]),Object(i.useEffect)((function(){!function(e){var t=e.lineColor,n=e.topColor,r=e.bottomColor,o=e.data,a=o.map((function(e){var t=x()(e,2);return{time:t[0],value:t[1]}})),i=window._onekey_chart;if(!i._onekey_series){var c=i.addAreaSeries({lineColor:t,topColor:n,bottomColor:r,lineWidth:2,crosshairMarkerBorderColor:"#fff",crosshairMarkerRadius:5});return c.setData(a),void(i._onekey_series=c)}var l=i._onekey_series;l.applyOptions({lineColor:t,topColor:n,bottomColor:r}),l.setData(a),o.length>2&&i.timeScale().setVisibleLogicalRange({from:.4,to:o.length-1.4})}({bottomColor:a,topColor:o,lineColor:r,data:t})}),[a,o,t,r]),Object(Y.jsx)("div",{style:{width:"100%",height:c},ref:l})};ls.displayName="ChartViewAdapter";var ss=ls,us=function(e){var t=e.data,n=e.onHover,r=e.height,o=e.isFetching,i=Object(a.default)("interactive-default"),c=Object(a.default)("action-primary-focus");return Object(Y.jsx)(ss,{isFetching:o,height:r,data:t,lineColor:i,topColor:c,bottomColor:"#00FF1900",onHover:n})};us.displayName="ChartView";var ds=Object(i.memo)(us),fs=function(e){var t,n=e.price,r=e.basePrice,o=e.time,a=e.onPriceSubscribe;if(null!==n){var i=Object(Kl.calculateGains)({basePrice:r,price:n}),c=i.gainText,l=i.percentageGain,s=i.gainTextColor;t=Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(te.default.Body2Strong,{color:s,children:[c,"(",l,")"]}),Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:o})]})}else t=Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:"+0.00(+0.00%)"});return Object(Y.jsxs)(N.default,{flexDirection:"column",children:[Object(Y.jsxs)($.default,{disabled:Boolean(!a),flexDirection:"row",alignItems:"center",onPress:function(){a&&a(n||0)},children:[Object(Y.jsx)(te.default.DisplayXLarge,{mr:2,children:Object(Y.jsx)(da.FormatCurrencyNumber,{value:n||0})}),a?Object(Y.jsx)(ee.default,{name:"BellSolid",size:20}):null]}),Object(Y.jsx)(N.default,{mt:"4px",flexDirection:"row",alignItems:"center",children:t})]})},bs=function(e){var t,n=e.data,r=e.isFetching,o=e.timeDefaultLabel,a=e.children,c=e.onPriceSubscribe,l=Object(Ar.default)().formatDate,s=Object(y.default)(),u=Object(i.useState)(),d=x()(u,2),f=d[0],b=d[1],p=Object(i.useState)(""),O=x()(p,2),m=O[0],h=O[1],g=Object(j.default)(),v=null!=n&&n.length?n[0][1]:0,w=null!=n&&n.length?n[n.length-1][1]:0;t=n?"undefined"===f||void 0===f?w:"string"===typeof f?+f:f:null;var k=Object(i.useCallback)((function(e){var t;t=e.time instanceof Date?l(e.time):"number"===typeof e.time?l(new Date(e.time)):"string"===typeof e.time?l(new Date(+e.time)):"",h(t),b(e.price)}),[l]),_=Object(Y.jsx)(fs,{onPriceSubscribe:c,price:t,time:m||o,basePrice:v}),C=n&&n.length>0?Object(Y.jsx)(ds,{isFetching:r,height:g?190:240,data:n,onHover:k}):Object(Y.jsx)(ht.default,{emoji:"\ud83d\udcca",title:s.formatMessage({id:"empty__no_data"}),subTitle:s.formatMessage({id:"content__data_for_this_token_is_not_included_yet"})}),S=r?Object(Y.jsx)(It.default,{}):C;return g?Object(Y.jsxs)(Y.Fragment,{children:[_,Object(Y.jsx)(N.default,{h:"190px",mt:"24px",justifyContent:"center",alignItems:"center",children:S}),Object(Y.jsx)(N.default,{mt:"8px",children:a})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",children:[_,Object(Y.jsx)(N.default,{w:"280px",children:n?a:null})]}),Object(Y.jsx)(N.default,{h:"240px",mt:"32px",justifyContent:"center",alignItems:"center",children:S})]})};bs.displayName="ChartWithLabel";var js=bs,ps=["1D","1W","1M","1Y","All"],Os=["1","7","30","365","max"],ms=["content__past_24_hours","content__past_7_days","content__past_month","content__past_year","content__since_str"],xs=function(e){var t=e.selectedIndex,n=e.onTimeChange,r=e.enabled,o=Object(a.default)("background-default");return Object(Y.jsx)(St.default,{enabled:r,style:{marginTop:5},values:ps,onValueChange:n,selectedIndex:t,backgroundColor:o})};xs.displayName="TimeControl";var hs=xs,gs=function(e,t){var n=Object(y.default)(),r=Object(Ar.default)().formatDate;return Object(i.useMemo)((function(){var o;return e===ms.length-1?n.formatMessage({id:ms[e]},{0:t?null==(o=r(new Date(t)).split(","))?void 0:o[0]:""}):n.formatMessage({id:ms[e]})}),[r,n,e,t])},vs=n(3976),ys=function(e){var t,n,r=e.coingeckoId,o=e.style,a=Object(w.useNavigation)(),c=Object(i.useState)(0),l=x()(c,2),s=l[0],u=l[1];Object(j.default)()?n="100":d.default.isNativeIOSPad&&(n="300");var f=Object(vs.useMarketTokenChart)({coingeckoId:r,days:Os[s],points:n}).chart,p=gs(s,null==f||null==(t=f[0])?void 0:t[0]),O=Object(vs.useMarketTokenItem)({coingeckoId:r}),m=Object(i.useCallback)((function(e){a.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageToken,params:{screen:b.ManageTokenModalRoutes.PriceAlertList,params:{price:e,token:{coingeckoId:r,symbol:null==O?void 0:O.symbol,logoURI:null==O?void 0:O.logoURI}}}})}),[r,a,null==O?void 0:O.logoURI,null==O?void 0:O.symbol]),h=Object(i.useCallback)((function(e){var t=ps.indexOf(e);u(t)}),[]),g=Object(i.useMemo)((function(){return!(f&&f.length>0)}),[f]);return Object(Y.jsx)(N.default,{style:o,children:Object(Y.jsx)(js,{onPriceSubscribe:Object(wl.isValidCoingeckoId)(r)?m:void 0,timeDefaultLabel:p,isFetching:g,data:f||[],children:Object(Y.jsx)(hs,{enabled:!g,selectedIndex:s,onTimeChange:h})})})};ys.displayName="MarketPriceChart";var ws=ys,ks=n(203),_s=function(e){var t,n,r,o,a,c=e.coingeckoId,l=e.contract,s=e.networkId,u=e.style,f=e.symbol,p=Object(i.useState)(!0),O=x()(p,2),m=O[0],h=O[1],g=Object(w.useNavigation)(),v=Object(i.useState)(0),y=x()(v,2),k=y[0],_=y[1],C=Object(ks.useSimpleTokenPriceValue)({networkId:s,contractAdress:l}),S=Object(i.useRef)([]),I=gs(k,null==(t=S.current)||null==(n=t[k])||null==(r=n[0])?void 0:r[0]),P=Object(H.useSettings)().selectedFiatMoneySymbol,M=void 0===C||null===C;Object(j.default)()?a="100":d.default.isNativeIOSPad&&(a="300");var A=Object(vs.useMarketTokenItem)({coingeckoId:c}),T=Object(i.useCallback)((function(e){g.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageToken,params:{screen:b.ManageTokenModalRoutes.PriceAlertList,params:{price:e,token:{coingeckoId:c,symbol:null!=f?f:null==A?void 0:A.symbol,logoURI:null==A?void 0:A.logoURI}}}})}),[c,g,null==A?void 0:A.logoURI,null==A?void 0:A.symbol,f]),D=Object(i.useCallback)(function(){var e=In()((function*(e){var t=ps.indexOf(e);if(!S.current[t]){h(!0);var n=yield cs({contract:l,networkId:s,days:Os[t],points:a,vs_currency:P});null!=n&&n.length&&(S.current[t]=n)}_(t),h(!1)}));return function(t){return e.apply(this,arguments)}}(),[l,s,a,P]);return Object(i.useEffect)((function(){D(ps[0])}),[D]),Object(Y.jsx)(N.default,{style:u,children:Object(Y.jsx)(js,{onPriceSubscribe:Object(wl.isValidCoingeckoId)(c)?T:void 0,isFetching:m,timeDefaultLabel:I,data:M?null:(null==(o=S.current)?void 0:o[k])||[],children:Object(Y.jsx)(hs,{enabled:!m&&!M,selectedIndex:k,onTimeChange:D})})})};_s.displayName="PriceChart";var Cs,Ss=_s,Is=function(){var e,t=Object(i.useContext)(vl),n=null!=(e=null==t?void 0:t.routeParams)?e:{},r=n.networkId,o=void 0===r?"":r,a=n.coingeckoId,c=n.tokenAddress,l=n.symbol;return Object(i.useMemo)((function(){return Object(Da.isAllNetworks)(o)?Object(Y.jsx)(ws,{coingeckoId:null!=a?a:""}):Object(Y.jsx)(Ss,{networkId:o,contract:c,coingeckoId:a,symbol:l},o+"--"+(null!=c?c:""))}),[a,l,o,c])},Ps=function(){var e=Object(j.default)(),t=Object(i.useMemo)((function(){return e?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Gl,{}),Object(Y.jsx)(as,{}),Object(Y.jsx)(Is,{})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(as,{}),Object(Y.jsx)(Is,{}),Object(Y.jsx)(Gl,{})]})}),[e]);return Object(Y.jsx)(Oe.default,{px:e?4:8,space:"6",bg:"background-default",children:t})},Ms=function(e){var t=e.coingeckoId,n=e.size,r=e.type,o=e.circle,a=Object(y.default)(),i=Object(vs.useMarketTokenItem)({coingeckoId:t}),c="undefined"===typeof i,l=null!=i&&i.favorited?"icon-warning":"icon-default";return c&&(l="icon-disabled"),Object(Y.jsx)(yt.default,{isDisabled:c,name:null!=i&&i.favorited?"StarSolid":"StarOutline",circle:o,iconColor:l,onPress:function(){i&&(i.favorited?(W.default.serviceMarket.cancelMarketFavoriteToken(i.coingeckoId),Kt.default.show({title:a.formatMessage({id:"msg__removed"})})):(W.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:i.coingeckoId,symbol:i.symbol}]),Kt.default.show({title:a.formatMessage({id:"msg__added_to_favorites"})})))},size:n,type:r})};!function(e){e.Assets="Assets",e.History="History",e.Info="Info"}(Cs||(Cs={}));var As=function(){var e=Object(y.default)(),t=Object(i.useState)(!1),n=x()(t,2),r=n[0],o=n[1],a=Object(j.default)(),c=Object(w.useRoute)(),l=Object(w.useNavigation)(),s=c.params,u=s.walletId,d=s.coingeckoId,f=s.networkId,b=s.tokenAddress,p=s.accountId,O=s.sendAddress,m=s.symbol,h=s.name,g=s.logoURI,v=Object(H.useTokenDetailInfo)({networkId:f,tokenAddress:b,coingeckoId:d}),k=Object(H.useTokenPositionInfo)({coingeckoId:d,networkId:f,tokenAddress:b,accountId:p,sendAddress:O,walletId:u}),_=Object(i.useMemo)((function(){return Object(An.isLightningNetworkByNetworkId)(f)}),[f]),C=Object(i.useMemo)((function(){var e=529;return null!=v&&v.ethereumNativeToken&&!Object(Da.isAllNetworks)(f)&&(e+=132),e}),[f,null==v?void 0:v.ethereumNativeToken]),S=Object(i.useCallback)((function(){return a?Object(Y.jsxs)(vt.default,{space:"8px",alignItems:"center",children:[Object(Y.jsx)(Tt.default,{size:"24px",showTokenVerifiedIcon:!0,token:{symbol:m,name:h,logoURI:g}}),Object(Y.jsx)(te.default.Heading,{children:m})]}):null}),[a,m,h,g]),I=Object(i.useCallback)((function(){return a?Object(Y.jsx)(Ms,{coingeckoId:d,type:"plain",size:"xl"}):null}),[a,d]);Object(i.useLayoutEffect)((function(){l.setOptions({title:"",headerTitle:S,headerRight:I})}),[I,S,l]);var P=Object(i.useCallback)((function(e){var t=e.nativeEvent.layout.width;o(t>1280)}),[]),M=Object(i.useMemo)((function(){return{routeParams:c.params,detailInfo:v,positionInfo:k}}),[c.params,v,k]);return Object(Y.jsx)(vl.Provider,{value:M,children:Object(Y.jsxs)(vt.default,{flex:1,justifyContent:"center",onLayout:P,children:[Object(Y.jsxs)(vn.Tabs.Container,{disableRefresh:!0,renderHeader:function(){return Object(Y.jsx)(Ps,{})},headerHeight:C,containerStyle:{maxWidth:1088,flex:1},children:[Object(Y.jsx)(vn.Tabs.Tab,{name:Cs.Assets,label:e.formatMessage({id:"content__asset"}),children:Object(Y.jsx)(yl,{})}),Object(Y.jsx)(vn.Tabs.Tab,{name:Cs.History,label:e.formatMessage({id:"transaction__history"}),children:Object(Y.jsx)(xl,{accountId:p,networkId:f,tokenId:Object(Da.isAllNetworks)(f)?d:b,tabComponent:!0})}),Object(Y.jsx)(vn.Tabs.Tab,{name:Cs.Info,label:e.formatMessage({id:"content__info"}),children:Object(Y.jsx)(Vl,{coingeckoId:d})})]},String(C)),a||!r||Object(Da.isAllNetworks)(f)||_?null:Object(Y.jsx)(N.default,{width:"360px",mt:"6",mr:"8",children:Object(Y.jsx)(Lc,{tokenId:null!=b?b:"main",networkId:f})})]})})};function Ts(e){var t=e.networkId,n=e.accountId,r=e.password,o=Object(y.default)();return Object(i.useEffect)((function(){t&&[oo.OnekeyNetwork.lightning,oo.OnekeyNetwork.tlightning].includes(t)&&(W.default.serviceLightningNetwork.refreshToken({networkId:t,accountId:n,password:r}).then((function(){Z.default.common.info("refresh lightning network token success")})).catch((function(e){Kt.default.show({title:o.formatMessage({id:"msg__authentication_failed_verify_again"})},{type:"error"}),Z.default.common.info("refresh lightning network token failed: ",e)})),Z.default.common.info("should refresh lightning network token"))}),[r,t,n,o]),null}var Ds=n(338),Rs=n(5262),Es=n(214),Bs=n(1187),Ns=n(226),Ls=n(177),Ws=n(4296),Hs=n(537),zs=n(1152);function Fs(e){var t=e.label,n=e.amount,r=e.symbol,o=e.alwaysShow;return n&&"0"!==n||o?Object(Y.jsxs)(N.default,{justifyContent:"space-between",flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",children:t}),Object(Y.jsxs)(te.default.Body2,{children:[n," ",r]})]}):null}function Us(){var e=Object(y.default)(),t=Object(H.useActiveWalletAccount)(),n=t.accountId,r=t.networkId,o=Object(i.useState)(),a=x()(o,2),c=a[0],l=a[1],s=Object(i.useState)(!1),u=x()(s,2),d=u[0],f=u[1],b=Object(i.useState)(""),j=x()(b,2),p=j[0],O=j[1],m=Object(H.useNativeToken)(r);return Object(i.useEffect)((function(){In()((function*(){try{f(!0);var t=yield W.default.serviceToken.fetchBalanceDetails({accountId:n,networkId:r});l(t),f(!1),null!=t&&t.errorMessageKey&&O(e.formatMessage({id:null==t?void 0:t.errorMessageKey}))}catch(o){O(e.formatMessage({id:"msg__rpc_node_failure_refresh_and_try_again"}))}}))()}),[n,e,r]),c||d?Object(Y.jsxs)(N.default,{children:[d?Object(Y.jsx)(ne.default,{shape:"DisplayXLarge"}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(te.default.DisplayXLarge,{children:[null==c?void 0:c.total," ",null==m?void 0:m.symbol]}),Object(Y.jsx)(Fs,{alwaysShow:!0,label:e.formatMessage({id:"content__spendable"}),amount:null==c?void 0:c.available,symbol:null==m?void 0:m.symbol}),Object(Y.jsx)(Fs,{label:e.formatMessage({id:"content__frozen"}),amount:null==c?void 0:c.unavailableOfLocalFrozen,symbol:null==m?void 0:m.symbol}),Object(Y.jsx)(Fs,{label:e.formatMessage({id:"content__inscriptions_occupy"}),amount:null==c?void 0:c.unavailableOfInscription,symbol:null==m?void 0:m.symbol}),Object(Y.jsx)(Fs,{label:e.formatMessage({id:"content__unconfirmed"}),amount:null==c?void 0:c.unavailableOfUnconfirmed,symbol:null==m?void 0:m.symbol}),Object(Y.jsx)(Fs,{label:e.formatMessage({id:"content__unusable"}),amount:null==c?void 0:c.unavailableOfUnchecked,symbol:null==m?void 0:m.symbol})]}),p?Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(ee.default,{name:"ExclamationTriangleOutline",size:16,color:"text-warning"}),Object(Y.jsx)(te.default.Caption,{ml:1,color:"text-warning",children:p})]}):null,Object(Y.jsx)(N.default,{h:4})]}):null}var Vs=function(){var e,t=Object(y.default)(),n=null==(e=Object(H.useAppSelector)((function(e){return e.settings.includeNFTsInTotal})))||e;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Us,{}),Object(Y.jsxs)(Wo.BottomSheetSettingRow,{children:[Object(Y.jsx)(te.default.Body1Strong,{children:t.formatMessage({id:"form__include_nfts_in_totals"})}),Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:n,onToggle:function(){return W.default.dispatch(Object(cc.setIncludeNFTsInTotal)(!n))}})]})]})},Gs=function(){return Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(Wo.BottomSheetSettings,{closeOverlay:e,children:Object(Y.jsx)(Vs,{})})}))},qs=n(182),Ks=n(163),Zs=n(137);function Xs(){return Object(Zs.useAppSelector)((function(e){var t,n;return null==e||null==(t=e.settings)||null==(n=t.devMode)?void 0:n.enable}))}var Ys=n(4037),Qs=n(4018);function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eu=[An.IMPL_APTOS,An.IMPL_SUI],tu=function(e){var t=Object(y.default)(),n=Object(H.useNavigation)(),r=Object(H.useActiveWalletAccount)(),o=r.network,a=r.account,c=r.wallet,l=r.accountId,s=Object(Mr.default)(o).openAddressDetails,u=Object(zs.useCopyAddress)({wallet:c}).copyAddress,f=W.default.serviceNotification,j=W.default.dispatch,p=Object(Qs.useEnabledAccountDynamicAccounts)(!1),O=p.enabledAccounts,m=p.loading,h=p.refresh,g=Object(i.useState)(!1),v=x()(g,2),w=v[0],k=v[1],_=Object(br.useIsMounted)(),C=Xs(),S=Object(i.useMemo)((function(){return O.find((function(e){var t;return e.address.toLowerCase()===(null==a||null==(t=a.address)||null==t.toLowerCase?void 0:t.toLowerCase())}))}),[O,a]),I=Object(Jo.useAsync)(In()((function*(){var e;return Object(Qs.checkAccountCanSubscribe)(a,null!=(e=null==o?void 0:o.id)?e:"")})),[a],{executeOnMount:!1,executeOnUpdate:!1}),P=I.result,M=void 0!==P&&P,A=I.execute;Object(i.useEffect)((function(){In()((function*(){if(!o)return!1;if(Object(Da.isAllNetworks)(null==o?void 0:o.id))return!1;var e=yield W.default.engine.getVaultSettings(o.id);if(eu.includes(o.impl)&&!o.isTestnet)return!1;_.current&&k(!(null==e||!e.activateAccountRequired)&&"watching"!==(null==c?void 0:c.type))}))()}),[_,o,null==c?void 0:c.type]);var T=!!a&&!m&&M&&An.enabledAccountDynamicNetworkIds.includes((null==o?void 0:o.id)||"")&&Object(qs.isCoinTypeCompatibleWithImpl)(a.coinType,An.IMPL_EVM),D=null==o?void 0:o.settings.isBtcForkChain,R=Object(i.useMemo)((function(){return S?"BellSlashMini":"BellMini"}),[S]),E=Object(i.useCallback)(In()((function*(){if(a){var e=null;S?e=yield f.removeAccountDynamic({address:a.address}):(j(Object(cc.setPushNotificationConfig)({pushEnable:!0,accountActivityPushEnable:!0})),e=yield f.addAccountDynamic({accountId:a.id,address:a.address,name:a.name,passphrase:!!c&&Object(Ks.isPassphraseWallet)(c)})),e&&Kt.default.show({title:t.formatMessage({id:S?"msg__unsubscription_succeeded":"msg__subscription_succeeded"})})}})),[c,a,t,j,S,f]),B=Object(i.useCallback)((function(){var e;n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.CoinControl,params:{screen:b.CoinControlModalRoutes.CoinControlModal,params:{networkId:null!=(e=null==o?void 0:o.id)?e:"",accountId:l,isSelectMode:!1}}})}),[n,null==o?void 0:o.id,l]),N=null==c?void 0:c.type,L=Object(i.useMemo)((function(){return[!!w&&{id:"action__get_faucet",onPress:function(){a&&o&&W.default.engine.activateAccount(a.id,o.id).catch((function(){}))},icon:"LightBulbMini"},"watching"!==N&&!Object(Da.isAllNetworks)(null==o?void 0:o.id)&&!d.default.isAppleStoreEnv&&{id:"action__buy_crypto",onPress:function(){var e;a&&n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.FiatPay,params:{screen:b.FiatPayModalRoutes.SupportTokenListModal,params:{networkId:null!=(e=null==o?void 0:o.id)?e:"",accountId:l,type:"buy"}}})},icon:"PlusMini"},"watching"!==N&&!Object(Da.isAllNetworks)(null==o?void 0:o.id)&&!d.default.isAppleStoreEnv&&{id:"action__sell_crypto",onPress:function(){var e;a&&n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.FiatPay,params:{screen:b.FiatPayModalRoutes.SupportTokenListModal,params:{networkId:null!=(e=null==o?void 0:o.id)?e:"",type:"sell",accountId:l}}})},icon:"BanknotesMini"},!(null==a||!a.address)&&{id:"action__view_in_explorer",icon:"GlobeAltMini",onPress:function(){s(null==a?void 0:a.address)}},!Object(Da.isAllNetworks)(null==o?void 0:o.id)&&{id:"action__copy_address",onPress:function(){setTimeout((function(){u({address:null==a?void 0:a.address,displayAddress:null==a?void 0:a.displayAddress})}),150)},icon:"Square2StackMini"},T&&{id:S?"action__unsubscribe":"action__subscribe",onPress:E,icon:R},D&&{id:"title__manage_utxos",onPress:B,icon:"CircleStackOutline"},C&&{id:"content__gas_fee",onPress:function(){var e;n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.GasPanel,params:{screen:Ys.GasPanelRoutes.GasPanelModal,params:{networkId:null!=(e=null==o?void 0:o.id)?e:""}}})},icon:"GasIllus"}]}),[w,N,T,S,E,R,D,B,C,a,o,n,l,u,s]);return Object(Y.jsx)(Il.default,$s($s({w:220,options:L},e),{},{onOpen:function(){h(),A()}}))},nu=n(642),ru=function(e){var t=e.isSmallView,n=Object(y.default)(),r=Object(H.useNavigation)(),o=Object(H.useActiveWalletAccount)(),a=o.wallet,c=o.account,l=o.walletId,s=o.networkId,u=o.accountId,d=Object(j.default)(),f=Object(H.useNavigationActions)().sendToken,p=d?1:0,O=Object(H.useNetwork)({networkId:s}).network,m=Object(Ba.useAllNetworksSelectNetworkAccount)({networkId:s,walletId:l,accountId:u,filter:function(e){var t=e.network,n=e.account;return!!t&&!!n}}),x=Object(i.useCallback)((function(){m().then((function(e){var t=e.network,n=e.account;t&&n&&f({accountId:null==n?void 0:n.id,networkId:null==t?void 0:t.id})}))}),[f,m]),h=Object(i.useCallback)((function(){m().then((function(e){var t=e.network,n=e.account;t&&n&&(Object(An.isLightningNetworkByImpl)(null==t?void 0:t.impl)?r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:nu.ReceiveTokenModalRoutes.CreateInvoice,params:{networkId:t.id,accountId:null==n?void 0:n.id}}}):r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Receive,params:{screen:nu.ReceiveTokenModalRoutes.ReceiveToken,params:{address:n.address,displayAddress:n.displayAddress,wallet:a,network:t,account:n,template:n.template}}}))}))}),[r,a,m]),g=Object(i.useCallback)((function(){m().then(function(){var e=In()((function*(e){var t,o,a=e.network,i=e.account;if(a&&i){var c=yield W.default.engine.getNativeTokenInfo(null!=(t=null==a?void 0:a.id)?t:"");if(c)(yield W.default.serviceSwap.tokenIsSupported(c))||(Kt.default.show({title:n.formatMessage({id:"msg__wrong_network_desc"})},{type:"default"}),c=yield W.default.engine.getNativeTokenInfo(oo.OnekeyNetwork.eth));if(c&&(W.default.serviceSwap.sellToken(c),i)){W.default.serviceSwap.setSendingAccountSimple(i);var l=yield W.default.serviceSwap.getPaymentToken(c);(null==l?void 0:l.networkId)===(null==a?void 0:a.id)&&W.default.serviceSwap.setRecipientToAccount(i,a)}null==(o=r.getParent())||o.navigate(b.TabRoutes.Swap)}}));return function(t){return e.apply(this,arguments)}}())}),[r,n,m]);return Object(Y.jsxs)(N.default,{flexDirection:"row",px:d?1:0,mx:-3,children:[Object(Y.jsxs)($.default,{flex:p,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:x,children:[Object(Y.jsx)(ql.default,{children:Object(Y.jsx)(yt.default,{circle:!0,size:t?"xl":"lg",name:"PaperAirplaneOutline",type:"basic",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:x})}),Object(Y.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==a?void 0:a.type)&&c?"text-default":"text-disabled",children:n.formatMessage({id:"action__send"})})]}),Object(Y.jsxs)($.default,{flex:p,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:h,children:[Object(Y.jsx)(ql.default,{children:Object(Y.jsx)(yt.default,{circle:!0,size:t?"xl":"lg",name:"QrCodeOutline",type:"basic",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:h})}),Object(Y.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==a?void 0:a.type)&&c?"text-default":"text-disabled",children:n.formatMessage({id:"action__receive"})})]}),null!=O&&O.settings.hiddenAccountInfoSwapOption?null:Object(Y.jsxs)($.default,{flex:p,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:g,children:[Object(Y.jsx)(ql.default,{children:Object(Y.jsx)(yt.default,{circle:!0,size:t?"xl":"lg",name:"ArrowsRightLeftOutline",type:"basic",isDisabled:"watching"===(null==a?void 0:a.type)||!c,onPress:g})}),Object(Y.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==a?void 0:a.type)&&c?"text-default":"text-disabled",children:n.formatMessage({id:"title__swap"})})]}),null!=O&&O.settings.hiddenAccountInfoMoreOption?null:Object(Y.jsxs)(N.default,{flex:p,mx:3,minW:"56px",alignItems:"center",children:[Object(Y.jsx)(tu,{children:Object(Y.jsx)(yt.default,{circle:!0,size:t?"xl":"lg",name:"EllipsisVerticalOutline",type:"basic"})}),Object(Y.jsx)(te.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"text-default",children:n.formatMessage({id:"action__more"})})]})]})},ou=function(){var e,t,n=Object(y.default)(),r=Object(kn.default)(),o=Object(ae.useActiveWalletAccount)(),a=o.account,c=o.networkId,l=o.network,s=o.wallet,u=o.walletId,d=o.accountId,f=Object(zs.useCopyAddress)({wallet:s}).copyAddress,j=Object(Hs.useAllNetworksWalletAccounts)({accountId:d}).data,p=Object(i.useMemo)((function(){return!(null!=l&&l.settings.hiddenAddress)}),[null==l?void 0:l.settings.hiddenAddress]),O=Object(i.useCallback)((function(){r.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageNetwork,params:{screen:b.ManageNetworkModalRoutes.AllNetworksAccountsDetail,params:{walletId:u,accountId:d}}})}),[u,d,r]);return Object(Da.isAllNetworks)(c)?Object(Y.jsxs)($.default,{flexDirection:"row",alignItems:"center",py:"4px",px:"8px",rounded:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:O,children:[Object(Y.jsx)(ve.default,{typography:"Body2Strong",mr:2,color:"text-subdued",children:n.formatMessage({id:"form__all_networks_str"},{0:Object.keys(j).length})}),Object(Y.jsx)(ee.default,{name:"ChevronDownMini",color:"icon-subdued",size:16})]}):p?Object(Y.jsx)(D.default,{hasArrow:!0,placement:"top",label:n.formatMessage({id:"action__copy_address"}),children:Object(Y.jsxs)($.default,{flexDirection:"row",alignItems:"center",py:"4px",px:"8px",rounded:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:function(){f({address:null==a?void 0:a.address,displayAddress:null==a?void 0:a.displayAddress})},children:[Object(Y.jsx)(ve.default,{typography:{sm:"Body2",md:"CaptionStrong"},mr:2,color:"text-subdued",children:Object(eo.shortenAddress)(null!=(e=null!=(t=null==a?void 0:a.displayAddress)?t:null==a?void 0:a.address)?e:"")}),Object(Y.jsx)(ee.default,{name:"Square2StackOutline",color:"icon-subdued",size:16})]})}):null},au=function(){var e=Object(y.default)(),t=Object(ae.useActiveWalletAccount)(),n=t.account,r=t.network,o=Object(Mr.default)(r),a=o.openAddressDetails;return o.hasAvailable?Object(Y.jsx)(D.default,{hasArrow:!0,placement:"top",label:e.formatMessage({id:"form__blockchain_browser"}),children:Object(Y.jsx)($.default,{p:1,rounded:"full",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:function(){return a(null==n?void 0:n.address)},children:Object(Y.jsx)(ee.default,{name:"GlobeAltOutline",color:"icon-subdued",size:16})})}):null},iu=function(){var e=Object(y.default)(),t=Object(i.useState)(!1),n=x()(t,2),r=n[0],o=n[1],a=Object(ae.useActiveWalletAccount)(),c=a.networkId,l=a.accountId,s=Object(H.useAccountValues)({networkId:c,accountId:l}),u=Object(H.useOverviewPendingTasks)({networkId:c,accountId:l}),d=u.updateTips,f=u.tasks,b=Object(i.useState)(!1),j=x()(b,2),p=j[0],O=j[1],m=Object(i.useMemo)((function(){return s.value.isNaN()?Object(Y.jsx)(ne.default,{shape:"DisplayXLarge"}):Object(Y.jsxs)(vt.default,{flex:"1",alignItems:"center",children:[Object(Y.jsx)(te.default.Display2XLarge,{numberOfLines:2,isTruncated:!0,children:Object(Y.jsx)(da.FormatCurrencyNumber,{decimals:2,value:0,convertValue:s.value})}),Object(Y.jsx)(yt.default,{name:"ChevronDownMini",onPress:Gs,type:"plain",circle:!0,ml:1})]})}),[s]),h=Object(i.useCallback)((function(){f.length>0||(o(!0),W.default.serviceOverview.refreshCurrentAccount().finally((function(){setTimeout((function(){return o(!1)}),1e3)})))}),[f]),g=Object(i.useMemo)((function(){var t=Object(Kl.calculateGains)({basePrice:s.value24h.toNumber(),price:s.value.toNumber()}),n=t.gainNumber,o=t.percentageGain,a=t.gainTextColor;return s.value.isNaN()?Object(Y.jsx)(ne.default,{shape:"Body1"}):Object(Y.jsxs)(vt.default,{alignItems:"center",children:[Object(Y.jsx)($.default,{onPress:function(){O(!p)},children:Object(Y.jsx)(te.default.Body2Strong,{color:a,mr:"4px",children:p?o:Object(Y.jsxs)(Y.Fragment,{children:[n>0?"+":"-",Object(Y.jsx)(da.FormatCurrencyNumber,{value:Math.abs(n),decimals:2})]})})}),Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"1",children:e.formatMessage({id:"content__today"})}),d||r?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(N.default,{size:"1",bg:"icon-subdued",borderRadius:"999px",mx:"2"}),r?Object(Y.jsx)(ne.default,{shape:"Body2"}):Object(Y.jsx)($.default,{onPress:h,children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:d})})]}):null]})}),[e,s,d,h,p,r]);return Object(Y.jsxs)(N.default,{alignItems:"flex-start",flex:"1",children:[Object(Y.jsxs)(N.default,{mx:"-8px",my:"-4px",flexDir:"row",alignItems:"center",children:[Object(Y.jsx)(ou,{}),Object(Y.jsx)(au,{})]}),Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",mt:1,w:"full",children:m}),Object(Y.jsx)(N.default,{flexDirection:"row",mt:1,children:g})]})},cu=function(){var e=Object(j.default)();return e?Object(Y.jsxs)(N.default,{pt:"16px",pb:"24px",w:"100%",px:"16px",flexDirection:"column",bgColor:"background-default",h:238,children:[Object(Y.jsx)(iu,{}),Object(Y.jsx)(N.default,{mt:8,children:Object(Y.jsx)(ru,{isSmallView:e})})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(fe.DesktopDragZoneAbsoluteBar,{}),Object(Y.jsxs)(N.default,{h:152,py:8,px:{sm:8,lg:4},flexDirection:"row",justifyContent:"space-between",alignItems:"center",bgColor:"background-default",children:[Object(Y.jsx)(iu,{}),Object(Y.jsx)(ru,{isSmallView:e})]})]})},lu=function(){return null},su=n(391),uu=n(4075),du=n(1069),fu=["onSelect","data"];function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pu=function(e){var t=e.count,n=e.size;return Object(Y.jsx)(N.default,{position:"absolute",right:"0",bottom:"0",borderRadius:"6px",size:n+"px",bgColor:"backdrop",children:Object(Y.jsx)(T.default,{flex:1,children:Object(Y.jsx)(ve.default,{children:"+"+t})})})},Ou=function(e){var t=e.width,n=e.collectible,r=(t-9)/2,o=n.assets.filter((function(e,t){return t<4}));return 1===o.length?Object(Y.jsx)(jr.default,{asset:n.assets[0],borderRadius:"6px",size:t}):Object(Y.jsxs)(dr.default,{flexWrap:"wrap",width:t+"px",height:t+"px",borderRadius:"6px",children:[o.map((function(e,t){var n,o,a=t%2!==0?0:9,i=t<2?9:0;return Object(Y.jsx)(jr.default,{asset:e,borderRadius:"6px",marginRight:a+"px",marginBottom:i+"px",size:r},"NFTListImage"+(null!=(n=null!=(o=e.tokenId)?o:e.tokenAddress)?n:"")+t)})),n.assets.length>4?Object(Y.jsx)(pu,{size:r,count:n.assets.length}):null]})};function mu(e,t){var n=e.data;return n.contractAddress?"Collection "+n.contractAddress:n.contractName?"Collection "+n.contractName:"Collection "+t}var xu=Object(i.memo)((function(e){var t,n,r=e.onSelect,o=e.data,a=O()(e,fu),c=Object(j.default)(),l=Object(ye.default)().screenWidth,s=Object(H.useActiveWalletAccount)().networkId,u=Object(H.useNetwork)({networkId:o.networkId}).network,d=Object(i.useMemo)((function(){if(Object(Da.isAllNetworks)(s))return null==u?void 0:u.logoURI}),[u,s]),f=c?16:20,b=c?8:12,p=c?Math.floor((l-3*f)/2):177,m=Object(Xt.default)().themeVariant,x=p-2*b,h=Object(ks.useTokenPrice)({networkId:null!=(t=o.networkId)?t:"",tokenIdOnNetwork:"",vsCurrency:"usd"})*(null!=(n=o.totalPrice)?n:0);return Object(Y.jsx)(N.default,ju(ju({mb:"16px"},a),{},{children:Object(Y.jsxs)(uc.default,{bgColor:"surface-default",padding:b+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===m?1:void 0,width:p,flexDirection:"column",_hover:{bg:"surface-hovered"},onPress:function(){r&&r(o)},children:[Object(Y.jsx)(Ou,{collectible:o,width:x}),Object(Y.jsxs)(vt.default,{mt:b+"px",justifyContent:"space-between",children:[Object(Y.jsx)(ve.default,{typography:"Body2",height:"20px",numberOfLines:1,flex:1,children:o.contractName}),d?Object(Y.jsx)(Tt.default,{size:4,token:{logoURI:d}}):null]}),Object(Y.jsx)(ve.default,{typography:"Body2",height:"20px",color:"text-subdued",children:Object(Y.jsx)(da.FormatCurrencyNumber,{value:0,decimals:2,convertValue:h>0?h:""})})]})}))})),hu=n(1498),gu=["asset"];function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var yu=function(e){var t=e.asset,n=O()(e,gu),r=Object(hu.getBTCListComponent)({data:t,isList:!0}).Component;return Object(Y.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({asset:t},n))},wu=["onSelect","data"];function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cu(e){return e.data.inscription_id}var Su,Iu=Object(i.memo)((function(e){var t=e.onSelect,n=e.data,r=O()(e,wu),o=Object(j.default)(),a=Object(ye.default)().screenWidth,c=Object(H.useActiveWalletAccount)().networkId,l=Object(H.useNetwork)({networkId:n.networkId}).network,s=Object(i.useMemo)((function(){return Object(Da.isAllNetworks)(c)?null==l?void 0:l.logoURI:null}),[l,c]),u=o?16:20,d=o?8:12,f=o?a:Math.min(Ds.MAX_PAGE_CONTAINER_WIDTH,a-224),b=o?Math.floor((f-3*u)/2):177,p=Object(Xt.default)().themeVariant,m=Object(i.useMemo)((function(){return n.inscription_number>0?"#"+n.inscription_number:""}),[n.inscription_number]);return Object(Y.jsx)(N.default,_u(_u({mb:"16px"},r),{},{children:Object(Y.jsxs)($.default,{flexDirection:"column",bgColor:"surface-default",padding:d+"px",overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===p?1:void 0,width:b,_hover:{bg:"surface-hovered"},onPress:function(){t&&t(n)},children:[Object(Y.jsx)(yu,{size:b-2*d,asset:n}),Object(Y.jsxs)(vt.default,{justifyContent:"space-between",children:[Object(Y.jsx)(ve.default,{typography:"Body2",height:"20px",mt:d+"px",numberOfLines:1,children:m}),s?Object(Y.jsx)(Tt.default,{size:4,token:{logoURI:s}}):null]})]})}))})),Pu=n(4277);function Mu(e){switch(e){case Su.BTCAsset:return Iu;case Su.SOLAsset:case Su.EVMAsset:return Pu.default;default:return xu}}function Au(e){switch(e){case Su.BTCAsset:return Cu;case Su.SOLAsset:case Su.EVMAsset:return Pu.keyExtractor;default:return mu}}function Tu(e){var t=e.type,n=!0,r=Su.EVMCollection;return t===du.NFTAssetType.BTC&&(r=Su.BTCAsset,n=!1),{Component:Mu(r),cardType:r,expandEnable:n,keyExtractor:Au(r)}}!function(e){e.EVMAsset="EVMAsset",e.EVMCollection="EVMCollection",e.SOLAsset="SOLAsset",e.SOLCollection="SOLCollection",e.BTCAsset="BTCAsset"}(Su||(Su={}));function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Du(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Eu=Object(i.createContext)(null);function Bu(e){var t=e.children,n=e.priceType,r=Object(i.useState)({priceType:n}),o=x()(r,2),a=o[0],c=o[1];Object(i.useEffect)((function(){c((function(e){return Ru(Ru({},e),{},{priceType:n})}))}),[n]);var l=Object(i.useMemo)((function(){return{context:a,setContext:c}}),[a]);return Object(Y.jsx)(Eu.Provider,{value:l,children:t})}var Nu=Object(i.memo)((function(e){var t=e.isNFTSupport,n=Object(y.default)(),r=Object(Xt.default)().themeVariant,o=Object(ae.useActiveWalletAccount)(),a=o.account,i=o.network,c=Object(H.useNFTValues)({accountId:null==a?void 0:a.id,networkId:null==i?void 0:i.id}),l="lastSalePrice"===Object(ae.useAppSelector)((function(e){return e.nft.disPlayPriceType}))?n.formatMessage({id:"form__last_price"}):n.formatMessage({id:"form__floor_price"});return Object(Y.jsxs)(N.default,{flexDirection:"column",paddingRight:"16px",children:[t&&Object(Y.jsx)(N.default,{flexDirection:"row",height:"84px",mb:"24px",bgColor:"surface-default",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===r?1:void 0,padding:"16px",justifyContent:"space-between",children:Object(Y.jsxs)(N.default,{flexDirection:"column",children:[Object(Y.jsx)(te.default.DisplayLarge,{children:Object(Y.jsx)(da.FormatCurrencyNumber,{value:0,decimals:2,convertValue:c>0?c:""})}),Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:n.formatMessage({id:"content__total_value_by_str"},{0:l})})]})}),Object(Y.jsx)(vt.default,{space:4,alignItems:"center",justifyContent:"space-between",pb:3,children:Object(Y.jsx)(te.default.Heading,{children:n.formatMessage({id:"title__assets"})})})]})})),Lu=["type"];function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zu=Object(i.memo)((function(e){var t=e.isNFTSupport,n=e.fetchData,r=e.isLoading,o=Object(y.default)();return t?Object(Y.jsx)(ht.default,{pr:"16px",emoji:"\ud83d\uddbc\ufe0f",title:o.formatMessage({id:"asset__collectibles_empty_title"}),subTitle:o.formatMessage({id:"asset__collectibles_empty_desc"}),actionTitle:o.formatMessage({id:"action__refresh"}),handleAction:n,isLoading:r}):Object(Y.jsx)(ht.default,{pr:"16px",emoji:"\ud83d\uddbc\ufe0f",title:o.formatMessage({id:"empty__not_supported"}),subTitle:o.formatMessage({id:"empty__not_supported_desc"})})})),Fu=function(e){var t=e.listData,n=e.fetchData,r=e.isNFTSupport,o=e.isLoading,a=e.onSelect,c=Object(y.default)(),l=Object(j.default)(),s=Object(i.useState)(1),u=x()(s,2),d=u[0],f=u[1],b=Object(j.default)(),p=Object(ye.default)().screenWidth,m=b?16:20,h=b?p:Math.min(Ds.MAX_PAGE_CONTAINER_WIDTH,p-224),g=b?2:Math.floor(h/(177+m)),v=Object(i.useMemo)((function(){var e=[];return t.forEach((function(t){var n=t.type;t.data.forEach((function(t){var r=function(e){var t=e.data,n=e.type;return n?n===du.NFTAssetType.BTC?[{data:t,isAsset:!0,type:n}]:[{data:t,isAsset:!1,type:n}]:[]}({data:t,type:n});e=e.concat(r)}))})),e}),[t]),w=Object(i.useMemo)((function(){var e=v.slice(0,50*d);return{data:e,hasMore:e.length<v.length}}),[v,d]),k=w.data,_=w.hasMore,C=Object(i.useCallback)((function(e){var t=e.item,n=t.type,r=O()(t,Lu);if(!n)return null;var o=Tu({type:n}),i=o.Component,c=o.cardType;return Object(Y.jsx)(Vc.DebugRenderTracker,{children:Object(Y.jsx)(i,Hu(Hu({},r),{},{onSelect:function(e){a&&a(e,c)},mr:"16px"}))})}),[a]),S=Object(i.useCallback)((function(){f((function(e){return e+1}))}),[]),I="NFTList"+g,P=Object(i.useMemo)((function(){var e=_?Object(Y.jsx)(vt.default,{justifyContent:"center",children:Object(Y.jsx)(yt.default,{name:"ChevronDownMini",w:l?"full":"130px",onPress:S,children:c.formatMessage({id:"action__load_more"})})}):null;return Object(Y.jsxs)(Oe.default,{pr:"4",children:[e,Object(Y.jsx)(N.default,{h:"24px",w:"full"})]})}),[c,l,S,_]);return Object(Y.jsx)(vn.Tabs.FlatList,{contentContainerStyle:{paddingLeft:16,paddingBottom:v.length?16:0,marginTop:24},data:k,renderItem:C,ListFooterComponent:P,showsVerticalScrollIndicator:!1,ListEmptyComponent:Object(Y.jsx)(zu,{fetchData:n,isNFTSupport:r,isLoading:o}),numColumns:g,ListHeaderComponent:Object(Y.jsx)(Nu,{isNFTSupport:r}),keyExtractor:function(e,t){return Tu({type:e.type}).keyExtractor(e,t)}},I)};var Uu=Object(i.memo)((function(){var e=Object(ae.useActiveWalletAccount)(),t=e.account,n=e.network,r=e.accountId,o=e.networkId,a=Object(su.isCollectibleSupportedChainId)(o),c=W.default.serviceNFT,l=Object(ae.useAppSelector)((function(e){return e.status.homeTabName})),s=Object(w.useIsFocused)(),u=Object(i.useState)([]),d=x()(u,2),f=d[0],b=d[1],j=Object(H.useAccountPortfolios)({networkId:o,accountId:r,type:To.EOverviewScanTaskType.nfts}).updatedAt;Object(i.useEffect)((function(){W.default.serviceNFT.getNftListWithAssetType({networkId:o,accountId:r}).then((function(e){return b(e)})).catch((function(e){Z.default.common.error("getNftListWithAssetType Error",e)}))}),[j,o,r]);var p=Object(i.useCallback)(In()((function*(){if(r&&o&&a&&!Object(Da.isAllNetworks)(o))return yield c.fetchNFT({accountId:r,networkId:o})})),[r,a,o,c]),O=Object(i.useMemo)((function(){return!!(r&&o&&a)&&(!!Object(Ra.isAccountCompatibleWithNetwork)(r,o)&&(!!s&&l===rl.WalletHomeTabEnum.Collectibles))}),[r,l,s,a,o]),m=Object(Wc.default)("fetchNFTList",p,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!O}}),h=m.mutate,g=m.isValidating;Object(i.useEffect)((function(){O&&h()}),[h,O,t,o]);var v=Object(i.useCallback)((function(e,r){if(t&&n)switch(r){case Su.EVMCollection:case Su.SOLCollection:Object(uu.navigateToNFTCollection)({account:t,network:n,collection:e});break;case Su.EVMAsset:case Su.SOLAsset:case Su.BTCAsset:Object(uu.navigateToNFTDetail)({account:t,network:n,asset:e})}}),[t,n]);return Object(Y.jsx)(Bu,{children:Object(Y.jsx)(Fu,{listData:f,onSelect:v,fetchData:h,isNFTSupport:a,isLoading:g})})})),Vu=n(2694),Gu=n(2699),qu=n(418);function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xu=[{key:"revoke",icon:{name:"ShieldCheckSolid",color:"decorative-icon-one"},iconBg:"decorative-surface-one",title:"title__contract_approvals",description:"title__token_approvals_desc",filter:function(e){var t=e.network;return(null==t?void 0:t.impl)===An.IMPL_EVM}},{key:"bulkSender",icon:{name:"BulkSenderMini",color:"decorative-icon-two"},iconBg:"decorative-surface-two",title:"title__bulksender",description:"title__bulksender_desc",filter:function(e){var t,n=e.network;return!(null==n||null==(t=n.settings)||!t.supportBatchTransfer)&&!!yn.batchTransferContractAddress[null==n?void 0:n.id]}},{key:"explorer",icon:{name:"GlobeAltSolid",color:"decorative-icon-three"},iconBg:"decorative-surface-three",title:"title__blockchain_explorer",description:"title__blockchain_explorer_desc",filter:function(e){var t,n,r,o=e.network,a=e.account;return!(null==(t=Object(qu.getManageNetworks)().allNetworks)||null==t.find||null==(n=t.find((function(e){return e.id===(null==o?void 0:o.id)})))||null==(r=n.blockExplorerURL)||!r.address)&&!(null==a||!a.address)}},{key:"pnl",icon:{name:"DocumentChartBarSolid",color:"decorative-icon-four"},iconBg:"decorative-surface-four",title:"content__nft_profit_and_loss",description:"empty__pnl",filter:function(e){var t=e.network;return(null==t?void 0:t.impl)===An.IMPL_EVM}},{key:"inscribe",icon:{name:"SparklesSolid",color:"decorative-icon-one"},iconBg:"decorative-surface-one",title:"title__inscribe",description:"title__inscribe_desc",filter:function(e){var t,n,r,o,a,i=e.network,c=e.account;return[An.IMPL_BTC,An.IMPL_TBTC].includes(null!=(t=null==i?void 0:i.impl)?t:"")&&!(null==c||!c.template)&&[null==(n=Gu.default.accountNameInfo)||null==(r=n.BIP86)?void 0:r.template,null==(o=Vu.default.accountNameInfo)||null==(a=o.BIP86)?void 0:a.template].includes(null==c?void 0:c.template)}}],Yu=function(){var e=Object(y.default)(),t=Object(H.useActiveWalletAccount)(),n=t.network,r=t.account,o=t.walletId,a=t.accountId,c=t.networkId,l=Object(ua.useIsVerticalOrMiddleLayout)(),s=Object(w.useNavigation)(),u=Object(qu.useManageNetworks)().enabledNetworks,f=Object(kn.default)(),j=Object(ae.useTools)(null==n?void 0:n.id),p=Object(Hs.useAllNetworksWalletAccounts)({accountId:a}).data,O=Object(Ba.useAllNetworksSelectNetworkAccount)({networkId:c,walletId:o,accountId:a}),m=Object(i.useMemo)((function(){var e=Xu;return e=e.concat(Object.values(gl()(j,"networkId")).filter((function(e){return e.length>0})).map((function(e){var t=e[0];return{ts:e,key:t.title,icon:{uri:t.logoURI},iconBg:void 0,title:t.title,description:t.desc,link:t.link,intlDisabled:!0,filter:function(t){var n=t.network;return e.some((function(e){return e.networkId===(null==n?void 0:n.id)}))}}}))),Object(Da.isAllNetworks)(null==n?void 0:n.id)?e.filter((function(e){return Object.entries(p).some((function(t){var n=x()(t,2),r=n[0],o=n[1],a=u.find((function(e){return e.id===r}));if(!a)return!1;for(var i of o)if(e.filter&&!e.filter({network:a,account:i}))return!0;return!1}))})):e.filter((function(e){var t;return null==(t=null==e.filter?void 0:e.filter({network:n,account:r}))||t}))}),[r,n,j,p,u]),h=Object(i.useCallback)((function(t){var n=t.key,r=t.network,o=t.account;if("revoke"===n)s.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Home,params:{screen:b.HomeRoutes.Revoke}}});else if("explorer"===n){var a=Object(Mr.buildAddressDetailsUrl)(r,null==o?void 0:o.address);Object(Fn.openUrl)(a,e.formatMessage({id:"title__blockchain_explorer"}),{modalMode:!0})}else if("pnl"===n)s.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Home,params:{screen:b.HomeRoutes.NFTPNLScreen}}});else if("bulkSender"===n)d.default.isExtFirefoxUiPopup?(W.default.serviceApp.openExtensionExpandTab({routes:[b.RootRoutes.Main,b.HomeRoutes.BulkSender]}),setTimeout((function(){window.close()}),300)):s.navigate(b.RootRoutes.Main,{screen:b.MainRoutes.Tab,params:{screen:b.TabRoutes.Home,params:{screen:b.HomeRoutes.BulkSender}}});else if("inscribe"===n)null!=r&&r.id&&o&&f.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Inscribe,params:{screen:b.InscribeModalRoutes.InscribeModal,params:{networkId:null==r?void 0:r.id,accountId:null==o?void 0:o.id}}});else{var i,c=null==j?void 0:j.find((function(e){return e.title===n})),l={address:null!=(i=null==o?void 0:o.address)?i:"",networkId:null==r?void 0:r.id};if(c){var u,p=null==c||null==(u=c.link)?void 0:u.replace(/\{([\w\d]+)\}/g,(function(e,t){var n;return null!=(n=l[t])?n:""}));Object(Fn.openUrl)(p,null==c?void 0:c.title,{modalMode:!0})}}}),[j,s,e,f]),g=Object(i.useCallback)((function(e){if(!Object(Da.isAllNetworks)(null==n?void 0:n.id))return h({key:e,network:n,account:r});var t=m.find((function(t){return t.key===e}));t&&O(t.filter).then(function(){var t=In()((function*(t){var n=t.network,r=t.account;if("revoke"===e||"bulkSender"===e){var o=W.default.serviceNetwork,a=W.default.serviceAccount;yield o.changeActiveNetwork(null==n?void 0:n.id),yield a.changeActiveAccountByAccountId(null==r?void 0:r.id)}h({key:e,network:n,account:r})}));return function(e){return t.apply(this,arguments)}}())}),[h,n,r,m,O]),v=Object(i.useCallback)((function(e){return l?{paddingLeft:0,paddingRight:0}:{paddingLeft:e%2===0?0:6,paddingRight:e%2===1?0:6}}),[l]),k=Object(i.useCallback)((function(e){return e?"number"===typeof e?Object(Y.jsx)(bt.default,{borderRadius:"14px",source:e,w:"full",h:"full"}):e.name?Object(Y.jsx)(ee.default,Zu(Zu({},e),{},{size:24})):Object(Y.jsx)(bt.default,{borderRadius:"14px",source:e,w:"full",h:"full"}):null}),[]);return Object(i.useEffect)((function(){W.default.serviceToken.fetchTools()}),[]),Object(Y.jsx)(vn.Tabs.FlatList,{data:m,keyExtractor:function(e){return e.key},numColumns:l?void 0:2,contentContainerStyle:{marginVertical:24,paddingHorizontal:l?32:16},renderItem:function(t){var n=t.item,r=t.index;return Object(Y.jsx)(N.default,{p:"6px",width:l?"100%":"50%",style:v(r),children:Object(Y.jsxs)($.default,{flexDirection:"row",p:"16px",bg:"surface-default",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderWidth:A.default.hairlineWidth,borderColor:"border-default",borderRadius:"12px",alignItems:"center",onPress:function(){g(n.key)},children:[Object(Y.jsx)(T.default,{w:"48px",h:"48px",bgColor:n.iconBg,borderRadius:"12px",children:k(n.icon)}),Object(Y.jsxs)(Oe.default,{ml:"4",flex:"1",children:[Object(Y.jsxs)(vt.default,{alignItems:"center",flex:"1",pr:"18px",children:[Object(Y.jsx)(te.default.Body1Strong,{numberOfLines:1,isTruncated:!0,maxW:"200px",children:n.intlDisabled?n.title:e.formatMessage({id:n.title})}),n.tag?Object(Y.jsx)(ut.default,{ml:"1",size:"sm",type:"success",title:e.formatMessage({id:n.tag})}):null]}),Object(Y.jsx)(te.default.Body2,{mt:"4px",numberOfLines:2,isTruncated:!0,color:"text-subdued",children:n.intlDisabled?n.description:e.formatMessage({id:n.description})})]})]},n.title)},n.key)}},String(l))},Qu=function(){return Object(Y.jsx)(cu,{})},Ju=function(){var e=Object(y.default)(),t=Object(i.useRef)(null),n=Object(ye.default)().screenWidth,r=Object(j.default)(),o=Object(ae.useAppSelector)((function(e){return e.status.homeTabName})),a=Object(ae.useActiveWalletAccount)(),c=a.wallet,l=a.network,s=a.accountId,u=a.networkId,f=a.walletId,b=Object(H.useManageNetworks)().enabledNetworks,p=Object(i.useState)(!1),O=x()(p,2),m=O[0],h=O[1],g=Object(i.useRef)(),v=Object(i.useMemo)((function(){return Object(Y.jsx)(vn.Tabs.Tab,{name:rl.WalletHomeTabEnum.Tokens,label:e.formatMessage({id:"asset__tokens"}),children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ar.default,{walletId:f,accountId:s,networkId:u,ListFooterComponent:Object(Y.jsx)(N.default,{h:6}),limitSize:10,renderDefiList:!0}),Object(Y.jsx)(Rs.OneKeyPerfTraceLog,{name:"App RootTabHome AssetsList render"}),Object(Y.jsx)(Ws.GuideToPushFirstTimeCheck,{})]})},rl.WalletHomeTabEnum.Tokens)}),[s,e,u,f]),w=Object(i.useMemo)((function(){return Object(Y.jsx)(vn.Tabs.Tab,{name:rl.WalletHomeTabEnum.Collectibles,label:e.formatMessage({id:"asset__collectibles"}),children:Object(Y.jsx)(Uu,{})},rl.WalletHomeTabEnum.Collectibles)}),[e]),k=Object(i.useMemo)((function(){return Object(Y.jsx)(vn.Tabs.Tab,{name:rl.WalletHomeTabEnum.History,label:e.formatMessage({id:"transaction__history"}),children:Object(Y.jsx)(xl,{accountId:s,networkId:u,isHomeTab:!0})},rl.WalletHomeTabEnum.History)}),[s,u,e]),_=Object(i.useMemo)((function(){return Object(Y.jsx)(vn.Tabs.Tab,{name:rl.WalletHomeTabEnum.Tools,label:e.formatMessage({id:"form__tools"}),children:Object(Y.jsx)(Yu,{})},rl.WalletHomeTabEnum.Tools)}),[e]),C=Object(i.useMemo)((function(){return[{name:rl.WalletHomeTabEnum.Tokens,tab:v},{name:rl.WalletHomeTabEnum.Collectibles,tab:w},{name:rl.WalletHomeTabEnum.History,tab:k},{name:rl.WalletHomeTabEnum.Tools,tab:_}].filter((function(e){return e.name===rl.WalletHomeTabEnum.Collectibles?!(null!=l&&l.settings.hiddenNFTTab):e.name===rl.WalletHomeTabEnum.History?!Object(Da.isAllNetworks)(u):e.name!==rl.WalletHomeTabEnum.Tools||!(null!=l&&null!=(t=l.settings)&&t.hiddenToolTab);var t}))}),[null==l?void 0:l.settings,u,v,w,k,_]),S=Object(i.useCallback)((function(e){var t;return null==(t=C[e])?void 0:t.name}),[C]),I=Object(i.useCallback)((function(e){return C.findIndex((function(t){return t.name===e}))}),[C]),P=Object(i.useCallback)((function(e){g.current&&clearTimeout(g.current);var t=0;d.default.isNativeAndroid&&(t=500),g.current=setTimeout((function(){W.default.dispatch(Object(Ls.setHomeTabName)(S(e)))}),t)}),[S]);Object(i.useEffect)((function(){var e=function(e){var n;null==(n=t.current)||null==n.setPageIndex||n.setPageIndex(e),P(e)},n=I(o);return d.default.isNativeIOS?setTimeout((function(){e(n)})):e(n),function(){void 0}}),[o,P,I]);var M=Object(i.useCallback)((function(){h(!0),W.default.serviceOverview.refreshCurrentAccount().finally((function(){setTimeout((function(){return h(!1)}),50)}))}),[]);Object(i.useEffect)((function(){M()}),[u,s,f,M]),Object(i.useEffect)((function(){Object(Da.isAllNetworks)(u)&&M()}),[M,b,u]);var A=Object(i.useMemo)((function(){return C.map((function(e){return e.tab}))}),[C]),D=Object(Y.jsx)(vn.Tabs.Container,{canOpenDrawer:!0,initialTabName:o,refreshing:m,onRefresh:M,onIndexChange:function(e){P(e)},onStartChange:function(){g.current&&clearTimeout(g.current)},renderHeader:Qu,headerHeight:r?238:152,ref:t,containerStyle:{maxWidth:Ds.MAX_PAGE_CONTAINER_WIDTH,width:r?n:n-224,marginHorizontal:"auto",alignSelf:"center",flex:1},children:A.filter(Boolean).map((function(e){return e}))});return c?null!=l&&l.settings.validationRequired?Object(Y.jsx)(T.default,{w:"full",h:"full",children:Object(Y.jsx)(Es.default,{walletId:c.id,networkId:l.id,field:Es.ValidationFields.Account,placeCenter:!0,subTitle:e.formatMessage({id:"title__password_verification_is_required_to_view_account_details_on_str"},{0:l.name}),children:function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Ts,{accountId:s,password:e,networkId:l.id}),D]})}})}):D:null};function $u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var td=b.TabRoutes.Home,nd=ed(ed({},Ce[td]),{},{component:Jt(on((function(){return Object(Ns.useOnboardingRequired)(!0),Object(Bs.useHtmlPreloadSplashLogoRemove)(),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(N.default,{flex:1,children:Object(Y.jsx)(dn,{children:Object(Y.jsx)(Ju,{})})}),Object(Y.jsx)(lu,{})]})}),{rootTabName:td}),td),children:[{name:b.HomeRoutes.ScreenTokenDetail,component:As,alwaysShowBackButton:!0},{name:b.HomeRoutes.FullTokenListScreen,component:ir,i18nTitle:"asset__tokens"},{name:b.HomeRoutes.Revoke,component:Aa,alwaysShowBackButton:!0},{name:b.HomeRoutes.RevokeRedirect,component:Ta},{name:b.HomeRoutes.RevokeRedirect2,component:Ta},{name:b.HomeRoutes.NFTMarketCollectionScreen,component:$r},{name:b.HomeRoutes.NFTPNLScreen,component:Mo,alwaysShowBackButton:!0},{name:b.HomeRoutes.OverviewDefiListScreen,component:Ro},{name:b.HomeRoutes.BulkSender,component:or,alwaysShowBackButton:!0}]}),rd=function(e){var t=e.stakingType,n=Object(i.useState)(!1),r=x()(n,2),o=r[0],a=r[1],c=Object(H.useActiveWalletAccount)(),l=c.accountId,s=c.walletId,u=c.networkId,d=Object(w.useNavigation)(),f=Object(Ba.useAllNetworksSelectNetworkAccount)({accountId:l,networkId:u,walletId:s,filter:Object(Yl.getStakeSelectNetworkAccountFilter)(t)}),j=Object(i.useCallback)(In()((function*(){try{a(!0);var e=yield f(),t=e.account,n=e.network;Z.default.staking.info("use networkId: "+n.id+" and account id "+t.id+" to stake asset"),d.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Staking,params:{screen:Xl.StakingRoutes.ETHStake,params:{networkId:n.id,accountId:t.id}}})}finally{a(!1)}})),[f,d]);return t?Object(Y.jsx)(N.default,{children:Object(Y.jsx)(yt.default,{isLoading:o,ml:4,type:"basic",name:"InboxArrowDownMini",size:"base",circle:!0,iconColor:"icon-default",onPress:j})}):null},od=function(e){var t=e.stakingType,n=Object(H.useActiveWalletAccount)(),r=n.accountId,o=n.networkId;return Object(Da.isAllNetworks)(o)||Object(Yl.isAccountCompatibleWithStakingTypes)(r,t)?Object(Y.jsx)(Ql,{stakingType:t,children:Object(Y.jsx)(rd,{stakingType:t})}):null},ad=n(1083),id=function(e){var t=e.marketTokenId,n=Object(y.default)(),r=Object(vs.useMarketTokenItem)({coingeckoId:t}),o=Object(w.useNavigation)(),a=(Object(i.useCallback)((function(){null!=o&&null!=o.canGoBack&&o.canGoBack()&&(null==o||o.goBack())}),[o]),Object(i.useMemo)((function(){var e;return!(null!=r&&null!=(e=r.tokens)&&e.length)}),[r]));return Object(Y.jsxs)(N.default,{testID:"MarketDetailActionButton",flexDirection:"row",alignItems:"center",pt:"24px",children:[Object(Y.jsx)(re.default,{flex:1,type:"basic",size:"lg",onPress:function(){var e;null!=r&&null!=(e=r.tokens)&&e.length&&(W.default.serviceSwap.buyToken(r.tokens[0]),o.pop(),o.navigate(b.TabRoutes.Swap))},isDisabled:a,children:n.formatMessage({id:"Market__buy"})}),Object(Y.jsx)(re.default,{flex:1,ml:2,type:"basic",size:"lg",onPress:function(){var e;null!=r&&null!=(e=r.tokens)&&e.length&&(W.default.serviceSwap.sellToken(r.tokens[0]),o.pop(),o.navigate(b.TabRoutes.Swap))},isDisabled:a,children:n.formatMessage({id:"Market__sell"})})]})},cd=Object(i.memo)((function(e){var t,n,r,o,a,c,l,s=e.marketTokenId,u=e.tokenDetail,d=Object(je.default)().bottom,f=Object(j.default)(),b=Object(i.useState)(!1),p=x()(b,2),O=p[0],m=p[1],h=f?"16px":"0px",g=Object(H.useAppSelector)((function(e){return e.settings.locale})),v=Object(i.useCallback)(In()((function*(){m(!0),yield W.default.serviceMarket.fetchMarketDetail({coingeckoId:s,locale:"system"===g?Object(Hl.getDefaultLocale)():g}),m(!1)})),[g,s]);return Object(Y.jsxs)(pe.default,{contentContainerStyle:{paddingBottom:d},refreshControl:Object(Y.jsx)(ad.default,{refreshing:O,onRefresh:v}),children:[Object(Y.jsx)(N.default,{w:"100%",p:h,flexDirection:"column",bg:"background-default",children:f?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ws,{coingeckoId:s}),Object(Y.jsx)(id,{marketTokenId:s})]}):Object(Y.jsx)(ws,{coingeckoId:s})}),Object(Y.jsx)(Wl,{low24h:null==u||null==(t=u.stats)?void 0:t.low24h,high24h:null==u||null==(n=u.stats)?void 0:n.high24h,marketCapRank:null==u||null==(r=u.stats)?void 0:r.marketCapRank,marketCap:null==u||null==(o=u.stats)?void 0:o.marketCap,volume24h:null==u||null==(a=u.stats)?void 0:a.volume24h,expolorers:null==u?void 0:u.explorers,about:null==u?void 0:u.about,links:null==u?void 0:u.links,atl:null==u||null==(c=u.stats)?void 0:c.atl,ath:null==u||null==(l=u.stats)?void 0:l.ath,px:h})]})})),ld=function(e){var t=e.tokenItem,n=Object(j.default)(),r=Object(y.default)();return Object(Y.jsx)(N.default,{children:Object(Y.jsx)(yt.default,{ml:4,mr:2,type:n?"plain":"basic",name:null!=t&&t.favorited?"StarSolid":"StarOutline",size:n?"xl":"base",circle:!0,iconColor:null!=t&&t.favorited?"icon-warning":"icon-default",onPress:function(){t&&(t.favorited?(W.default.serviceMarket.cancelMarketFavoriteToken(t.coingeckoId),Kt.default.show({title:r.formatMessage({id:"msg__removed"})})):(W.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:t.coingeckoId,symbol:t.symbol}]),Kt.default.show({title:r.formatMessage({id:"msg__added_to_favorites"})})))}})})},sd=function(e){var t=e.onPress;return Object(Y.jsx)(N.default,{children:Object(Y.jsx)(yt.default,{ml:4,type:"basic",name:"ArrowsRightLeftMini",size:"base",circle:!0,iconColor:"icon-default",onPress:t})})},ud=function(e){var t=e.onPress;return Object(Y.jsx)(N.default,{children:Object(Y.jsx)(yt.default,{ml:4,type:"basic",name:"PlusMini",size:"base",circle:!0,iconColor:"icon-default",onPress:t})})},dd=function(e){var t=e.tokenItem,n=Object(j.default)();return Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(Tt.default,{size:n?6:8,token:{logoURI:null==t?void 0:t.logoURI,symbol:null==t?void 0:t.symbol,name:null==t?void 0:t.name}}),Object(Y.jsx)(te.default.Heading,{ml:"2",children:null==t?void 0:t.symbol})]})},fd=function(e){var t,n=e.marketTokenId,r=e.children,o=Object(w.useNavigation)(),a=Object(j.default)(),c=Object(i.useState)(!1),l=x()(c,2),s=l[0],u=l[1],f=Object(vs.useMarketTokenItem)({coingeckoId:n}),p=Object(i.useCallback)((function(){o.goBack()}),[o]);Object(i.useLayoutEffect)((function(){a?o.setOptions({headerRight:function(){return Object(Y.jsx)(ld,{tokenItem:f})},headerTitle:function(){return Object(Y.jsx)(dd,{tokenItem:f})}}):o.setOptions({headerShown:!1})}));var O=null==f||null==(t=f.tokens)?void 0:t[0],m=Object(i.useState)(""),h=x()(m,2),g=h[0],v=h[1];Object(i.useEffect)((function(){void 0!==(null==O?void 0:O.address)&&void 0!==(null==O?void 0:O.networkId)&&W.default.serviceFiatPay.getFiatPayUrl({type:"buy",tokenAddress:null==O?void 0:O.address,networkId:null==O?void 0:O.networkId}).then((function(e){return v(e)}))}),[null==O?void 0:O.address,null==O?void 0:O.networkId]);var y=Object(i.useCallback)((function(e){var t=e.nativeEvent.layout.width;u(t>1280)}),[]),k=Yl.coingeckoId2StakingTypes[n];return a?null!=r?r:null:Object(Y.jsxs)(N.default,{bg:"background-default",w:"full",h:"full",p:"4",children:[Object(Y.jsx)(N.default,{w:"full",flexDirection:"row",alignItems:"center",py:"5",children:Object(Y.jsx)(yt.default,{onPress:p,type:"plain",name:"ArrowLeftOutline"})}),Object(Y.jsxs)(N.default,{flex:1,flexDirection:"row",justifyContent:"center",onLayout:y,children:[Object(Y.jsxs)(N.default,{flex:1,maxW:Cl.SCREEN_SIZE.LARGE,children:[Object(Y.jsxs)(N.default,{display:"flex",justifyContent:"space-between",flexDirection:"row",mb:"8",children:[Object(Y.jsx)(dd,{tokenItem:f}),Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-around",children:[O?Object(Y.jsx)(sd,{onPress:function(){O&&(W.default.serviceSwap.setOutputToken(O),o.navigate(b.TabRoutes.Swap))}}):null,k?Object(Y.jsx)(od,{stakingType:k}):null,g.length>0&&!d.default.isAppleStoreEnv?Object(Y.jsx)(ud,{onPress:function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.FiatPay,params:{screen:b.FiatPayModalRoutes.MoonpayWebViewModal,params:{url:g}}})}}):null,Object(Y.jsx)(ld,{tokenItem:f})]})]}),r]}),O&&s?Object(Y.jsx)(N.default,{width:"360px",ml:"4",children:Object(Y.jsx)(Lc,{networkId:O.networkId,tokenId:O.tokenIdOnNetwork})}):null]})]})},bd=function(){var e=Object(w.useRoute)().params.marketTokenId,t=zl({coingeckoId:e}).tokenDetail;return Object(Y.jsx)(fd,{marketTokenId:e,children:Object(Y.jsx)(cd,{tokenDetail:t,marketTokenId:e})})};function jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jd(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Od=function(e){return Object(Y.jsxs)(oe.default,pd(pd({viewBox:"0 0 358 160",fill:"currentColor"},e),{},{children:[Object(Y.jsx)(oe.Path,{d:"M340.11 16.0064C347.852 16.0064 350.258 0 358 0V160H0V89.463C7.74194 89.463 15.484 95.038 23.2259 95.038C30.9679 95.038 38.7098 89.845 46.4518 88.9552C54.1937 88.0654 61.9358 88.5103 69.6778 87.6205C77.4197 86.7306 85.1615 74.6404 92.9034 71.9121C100.645 69.1838 108.387 100.56 116.129 97.8317C123.871 95.1034 131.613 47.4332 139.355 47.4332C147.097 47.4332 155.506 58.5234 163.248 58.5234C170.99 58.5234 178.065 43.7073 185.807 42.0845C193.549 40.4617 203.425 61.243 211.167 60.5171C218.909 59.7912 235.973 33.7274 243.715 33.7274C250.6 34.5138 250.6 44.5178 273.512 49.0196C281.254 49.0196 285.916 22.966 293.658 19.5183C301.4 16.0706 311.841 31.431 319.583 27.511C327.325 23.591 332.368 16.0064 340.11 16.0064Z",fill:"url(#paint0_linear_5149_43265)"}),Object(Y.jsx)(oe.Defs,{children:Object(Y.jsxs)(oe.LinearGradient,{id:"paint0_linear_5149_43265",x1:"179",y1:"0",x2:"179",y2:"160",gradientUnits:"userSpaceOnUse",children:[Object(Y.jsx)(oe.Stop,{stopColor:"#3D3D4D"}),Object(Y.jsx)(oe.Stop,{offset:"1",stopColor:"#1D1D2A",stopOpacity:"0"})]})})]}))},md=function(e){var t,n=e.price,r=e.basePrice,o=e.time,a=Object(y.default)();if(null!==n){var i=Object(Kl.calculateGains)({basePrice:r,price:n}),c=i.gainText,l=i.percentageGain,s=i.gainTextColor;t=Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(te.default.Body2Strong,{color:s,children:[c,"(",l,")"]}),Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:o})]})}else t=Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ee.default,{name:"ExclamationTriangleMini",size:16}),Object(Y.jsx)(te.default.Body2Strong,{color:"text-subdued",ml:"8px",children:a.formatMessage({id:"content__data_for_this_token_is_not_included_yet"})})]});return Object(Y.jsx)(N.default,{flexDirection:"column",children:Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:t})})},xd=function(e){var t,n=e.data,r=e.isFetching,o=e.children,a=Object(Ar.default)().formatDate,c=Object(i.useState)(),l=x()(c,2),s=l[0],u=l[1],d=Object(i.useState)(a(new Date)),f=x()(d,2),b=f[0],j=f[1],p=null!=n&&n.length?n[0][1]:0,O=null!=n&&n.length?n[n.length-1][1]:0;t=n?"undefined"===s||void 0===s?O:"string"===typeof s?+s:s:null;var m=Object(i.useCallback)((function(e){var t;t=e.time instanceof Date?a(e.time):"number"===typeof e.time?a(new Date(e.time)):"string"===typeof e.time?a(new Date(+e.time)):a(new Date),j(t),u(e.price)}),[a]),h=n?Object(Y.jsx)(ds,{isFetching:r,height:350,data:n,onHover:m}):Object(Y.jsx)(Od,{width:"100%",height:"100%",preserveAspectRatio:"none"}),g=n&&0===n.length?Object(Y.jsx)(It.default,{}):h;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",children:[Object(Y.jsx)(te.default.DisplayXLarge,{my:"1",children:t?Object(Ml.formatDecimalZero)(t):""}),Object(Y.jsx)(N.default,{w:"280px",children:o})]}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(md,{price:t,time:b,basePrice:p})}),Object(Y.jsx)(N.default,{h:"350px",mt:"30px",justifyContent:"center",alignItems:"center",children:g})]})};xd.displayName="ChartWithLabel";var hd=xd,gd=function(){return String(Math.ceil(Date.now()/36e5))};var vd=function(e){var t=e.fromToken,n=e.toToken,r=e.style,o=Object(i.useState)(0),a=x()(o,2),c=a[0],l=a[1],s=Object(i.useState)(0),u=x()(s,2),d=u[0],f=u[1],b=function(){var e=Object(i.useState)(gd()),t=x()(e,2),n=t[0],r=t[1],o=Object(i.useCallback)((function(){return r(gd())}),[]);return Object(H.useInterval)(o,18e5),n}(),j=Object(i.useRef)({}),p=Object(i.useCallback)(function(){var e=In()((function*(e){var t,n,r,o,a=e.contractAdress,i=e.newTimeValue,c=e.networkId,s=ps.indexOf(i);if(!(null==(t=j.current)||null==(n=t[c])||null==(r=n[a])||null==(o=r[b])?void 0:o[s])){var u=[];try{var d,f;if(l((function(e){return e+1})),null!=(d=u=yield cs({contract:a,networkId:c,days:Os[s],points:"100",vs_currency:"usd"}))&&d.length)null!=(f=j.current)&&f[c]||(j.current[c]={}),j.current[c][a]||(j.current[c][a]={}),j.current[c][a][b]||(j.current[c][a][b]=[]),j.current[c][a][b][s]=u}finally{l((function(e){return e-1}))}}}));return function(t){return e.apply(this,arguments)}}(),[j,b]);Object(i.useEffect)((function(){p({newTimeValue:ps[d],networkId:n.networkId,contractAdress:n.tokenIdOnNetwork})}),[n,p,d]),Object(i.useEffect)((function(){p({newTimeValue:ps[d],networkId:t.networkId,contractAdress:t.tokenIdOnNetwork})}),[t,p,d]);var O=Object(i.useCallback)(function(){var e=In()((function*(e){var r=ps.indexOf(e),o=p({newTimeValue:e,networkId:t.networkId,contractAdress:t.tokenIdOnNetwork}),a=p({newTimeValue:e,networkId:n.networkId,contractAdress:n.tokenIdOnNetwork});yield Promise.all([o,a]),f(r)}));return function(t){return e.apply(this,arguments)}}(),[t,n,p]),m=Object(i.useMemo)((function(){var e,r,o,a,i,c,l=null==(e=j.current[t.networkId])||null==(r=e[t.tokenIdOnNetwork])||null==(o=r[b])?void 0:o[d],s=null==(a=j.current[n.networkId])||null==(i=a[n.tokenIdOnNetwork])||null==(c=i[b])?void 0:c[d];if(l&&s){var u=Math.min(l.length,s.length);return l.slice(0,u-1).map((function(e,t){return[e[0],e[1]/s[t][1]]}))}return[]}),[n,t,d,c,b]);return Object(Y.jsx)(N.default,{style:r,children:Object(Y.jsx)(hd,{isFetching:0!==c,data:m,children:Object(Y.jsx)(hs,{enabled:0===c&&!!m,selectedIndex:d,onTimeChange:O})})})};vd.displayName="SwapChart";var yd=vd,wd=n(158),kd=n(4144),_d=n(568),Cd=n(4078),Sd=function(){var e=Object(y.default)(),t=Object(i.useRef)(!1),n=Object(H.useNavigation)(),r=Object(Cd.useLimitOrderParams)(),o=Object(ae.useAppSelector)((function(e){return e.limitOrder.progressStatus})),a=Object(ae.useAppSelector)((function(e){return e.limitOrder.instantRate})),c=Object(ci.useSwapSend)(),l=Object(ci.useSwapSignMessage)(),s=Object(i.useCallback)(In()((function*(){if(r&&a){var t=Object(Ra.getWalletIdFromAccountId)(r.activeAccount.id),o=yield W.default.engine.getWallet(t);W.default.serviceLimitOrder.setProgressStatus({title:e.formatMessage({id:"action__building_transaction_data_str"},{0:""})});var i=yield W.default.serviceLimitOrder.buildLimitOrder({params:r,instantRate:a}),s=Math.floor(Date.now()/1e3);if(i){var u=[],d=function(){var t=In()((function*(){var t=yield W.default.serviceLimitOrder.getEIP712TypedData({domain:{networkId:r.tokenIn.networkId},message:i}),o=r.activeAccount.id,c=r.tokenIn.networkId,u=r.tokenIn,d=r.tokenOut;W.default.serviceLimitOrder.setProgressStatus({title:e.formatMessage({id:"action__submitting_order_str"},{0:""})}),yield l({accountId:o,networkId:c,unsignedMessage:{type:4,message:JSON.stringify(t)},onSuccess:function(){var e=In()((function*(e){var c=wd.ethers.utils._TypedDataEncoder.hash(t.domain,{LimitOrder:t.types.LimitOrder},t.message);yield W.default.serviceLimitOrder.submitLimitOrder({order:i,networkId:r.tokenIn.networkId,signature:e}),W.default.dispatch(Object(ii.addLimitOrderTransaction)({networkId:u.networkId,accountId:o,limitOrder:{networkId:u.networkId,accountId:o,orderHash:c,tokenIn:u,tokenInValue:i.makerAmount,tokenOut:d,tokenOutValue:i.takerAmount,remainingFillable:i.takerAmount,rate:a,createdAt:s,expiredIn:Number(i.expiry)}})),$o.appUIEventBus.emit($o.AppUIEventBusNames.LimitOrderCompleted),W.default.serviceLimitOrder.resetState(),setTimeout((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.TransactionSubmitted,params:{orderHash:c}}})}),650)}));return function(t){return e.apply(this,arguments)}}(),onFail:function(){$o.appUIEventBus.emit($o.AppUIEventBusNames.LimitOrderError)}})}));return function(){return t.apply(this,arguments)}}();u.unshift(d);var f,j,p=!1,O=yield W.default.engine.getTokenAllowance({networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,tokenIdOnNetwork:r.tokenIn.tokenIdOnNetwork,spender:_d.ZeroExchangeAddress});O&&(p=new Mn.a(Object(za.getTokenAmountString)(r.tokenIn,O)).lt(i.makerAmount));var m=yield W.default.serviceSwap.needToResetApproval(r.tokenIn);if(p&&m&&Number(O||"0")>0&&(j=yield W.default.engine.buildEncodedTxFromApprove({spender:_d.ZeroExchangeAddress,networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,token:r.tokenIn.tokenIdOnNetwork,amount:"0"})),p&&(f=yield W.default.engine.buildEncodedTxFromApprove({spender:_d.ZeroExchangeAddress,networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,token:r.tokenIn.tokenIdOnNetwork,amount:Object(za.getTokenAmountValue)(r.tokenIn,i.makerAmount).toFixed()}),j&&j.nonce&&(f.nonce=Number(j.nonce)+1)),f){var x=function(){var t=In()((function*(t){W.default.serviceLimitOrder.setProgressStatus({title:e.formatMessage({id:"action__authorizing_str"},{0:""})}),yield c({accountId:r.activeAccount.id,networkId:r.tokenIn.networkId,encodedTx:f,gasEstimateFallback:Boolean(j),onSuccess:function(){var e=In()((function*(){"hw"===o.type&&n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.HardwareContinue}}),yield null==t?void 0:t()}));return function(){return e.apply(this,arguments)}}()})}));return function(e){return t.apply(this,arguments)}}();u.unshift(x)}if(j){var h=function(){var t=In()((function*(t){W.default.serviceLimitOrder.setProgressStatus({title:e.formatMessage({id:"action__resetting_authorizing_str"},{0:""})}),yield c({accountId:r.activeAccount.id,networkId:r.tokenIn.networkId,encodedTx:j,onSuccess:function(){var e=In()((function*(){yield null==t?void 0:t()}));return function(){return e.apply(this,arguments)}}()})}));return function(e){return t.apply(this,arguments)}}();u.unshift(h)}j?Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(kd.SwapTransactionsCancelApprovalBottomSheetModal,{close:e,onSubmit:In()((function*(){try{W.default.serviceLimitOrder.openProgressStatus(),yield Object(za.combinedTasks)(u)}finally{W.default.serviceLimitOrder.closeProgressStatus()}}))})})):yield Object(za.combinedTasks)(u)}else Kt.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else Kt.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})})),[r,a,e,l,c,n]),u=Object(i.useCallback)(In()((function*(){if(!t.current){t.current=!0;try{W.default.serviceLimitOrder.openProgressStatus(),yield s()}finally{t.current=!1,W.default.serviceLimitOrder.closeProgressStatus()}}})),[s]);return o?Object(Y.jsx)(di,{}):Object(Y.jsx)(re.default,{size:"xl",type:"primary",onPress:u,children:e.formatMessage({id:"action__place_limit_order"})},"limit_order")},Id=function(){var e=Object(y.default)(),t=Object(ae.useAppSelector)((function(e){return e.limitOrder.loading})),n=Object(Cd.useLimitOrderOutput)(),r=Object(Cd.useCheckLimitOrderInputBalance)(),o=Object(za.lte)(n,0);return t||o?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:o,isLoading:t,children:e.formatMessage({id:"action__place_limit_order"})},"limit_order"):r&&r.insufficient?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:r.token.symbol})},"insufficient_balance_error"):Object(Y.jsx)(Sd,{})},Pd=function(){var e=Object(y.default)();return Object(ae.useAppSelector)((function(e){return e.swapTransactions.limitOrderMaintain}))?Object(Y.jsx)(re.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"action__under_maintaince"})},"limitOrderMaintain"):Object(Y.jsx)(Id,{})};function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Td=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,i=Object(y.default)(),c=Object(H.useAppSelector)((function(e){return e.limitOrder.tokenOut})),l=Object(Gi.useTokenPrice)(c);return Object(Y.jsx)(N.default,Ad(Ad({},o),{},{position:"relative",children:Object(Y.jsx)(N.default,{position:"relative",children:Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[Object(Y.jsx)($.default,{onPress:function(){a||null==n||n()},flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:c?Object(Y.jsx)(qi,{token:c}):Object(Y.jsx)(N.default,{children:Object(Y.jsx)(te.default.DisplayMedium,{fontWeight:600,children:i.formatMessage({id:"title__select_a_token"})})})}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:Object(Y.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Y.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Y.jsx)(N.default,{position:"absolute",bottom:"7",right:2,children:Object(Y.jsx)(N.default,{pointerEvents:"none",children:Object(Y.jsx)(te.default.Caption,{color:"text-subdued",numberOfLines:2,children:Object(Y.jsx)(da.FormatCurrency,{numbers:[null!=l?l:0,null!=t?t:0],render:function(e){return Object(Y.jsx)(te.default.Caption,{ml:3,color:"text-subdued",children:l?e:"-"})}})})})}),Object(Y.jsx)(Ft.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",color:"text-subdued",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pr:"2",pb:"12",textAlign:"right",isDisabled:!0,rightCustomElement:null,focusOutlineColor:"transparent"})]})})})]})})}))},Dd=n(292);function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bd=function(e){var t=e.account,n=e.token,r=Object(y.default)(),o=Object(H.useNavigation)(),a=Object(H.useActiveWalletAccount)().walletId,c=Object(i.useCallback)((function(){o.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.SelectSendingAccount,params:{networkId:null==n?void 0:n.networkId,onSelected:function(e){W.default.dispatch(Object(Dd.setActiveAccount)(e))}}}})}),[n,o]),l=Object(an.useCreateAccountInWallet)({networkId:null==n?void 0:n.networkId,walletId:a}).createAccount;return null===t?Object(Y.jsx)($.default,{onPress:l,children:Object(Y.jsx)(N.default,{py:"1",px:"2",flexDirection:"row",bg:"surface-neutral-subdued",borderRadius:"12",children:Object(Y.jsx)(te.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"action__create_account"})})})}):Object(Y.jsx)($.default,{borderRadius:"12",overflow:"hidden",onPress:c,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:t?Object(Y.jsxs)(N.default,{py:"1",px:"2",flexDirection:"row",borderRadius:"12",alignItems:"center",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",mr:"1",children:[Object(Y.jsx)(te.default.Body2Strong,{mr:"1",children:t.name}),Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:t.address.slice(-4)})]}),Object(Y.jsx)(ee.default,{size:16,name:"ChevronDownSolid"})]}):Object(Y.jsx)(N.default,{py:"1",px:"2",borderRadius:"12",children:Object(Y.jsx)(te.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"title__choose_an_account"})})})})},Nd=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,c=Object(y.default)(),l=Object(H.useAppSelector)((function(e){return e.limitOrder.tokenIn})),s=Object(H.useAppSelector)((function(e){return e.limitOrder.activeAccount})),u=Object(Gi.useTokenBalance)(l,null==s?void 0:s.id),d=Object(Gi.useTokenPrice)(l),f=null!=u?u:"0",b=Object(i.useCallback)(In()((function*(){if(l&&f)if(l.tokenIdOnNetwork)W.default.serviceLimitOrder.userInputValue(f);else{var e=yield W.default.serviceSwap.getReservedNetworkFee(l.networkId),t=Mn.a.max(0,new Mn.a(f).minus(e));t.gt(0)?W.default.serviceLimitOrder.userInputValue(t.toFixed()):Number(f)>0&&Kt.default.show({title:c.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:e+" "+l.symbol.toUpperCase()})},{type:"error"})}})),[l,f,c]),j=Object(za.formatAmount)(f,6);return f&&0!==Number(f)&&!Number.isNaN(+f)||(j="0"),Object(Y.jsx)(N.default,Ed(Ed({},o),{},{position:"relative",children:Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(Bd,{account:s,token:l}),Object(Y.jsx)($.default,{onPress:function(){a||b()},rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Caption,{color:"text-subdued",fontWeight:500,children:l?j+" "+l.symbol.toUpperCase():"-"}),Object(Y.jsx)(N.default,{h:"4",w:"8",ml:"1",justifyContent:"center",alignItems:"center",borderRadius:4,backgroundColor:"surface-neutral-default",children:Object(Y.jsx)(te.default.Caption,{color:"text-default",children:c.formatMessage({id:"action__max"})})})]})})]}),Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[Object(Y.jsx)($.default,{onPress:n,flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:l?Object(Y.jsx)(qi,{token:l}):Object(Y.jsx)(N.default,{children:Object(Y.jsx)(te.default.DisplayMedium,{fontWeight:600,children:c.formatMessage({id:"title__select_a_token"})})})}),Object(Y.jsx)(N.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:Object(Y.jsx)(N.default,{position:"absolute",w:"full",top:"0",right:"0",children:Object(Y.jsxs)(N.default,{w:"full",position:"relative",children:[Object(Y.jsx)(N.default,{position:"absolute",bottom:"7",right:2,children:Object(Y.jsx)(N.default,{pointerEvents:"none",children:Object(Y.jsx)(te.default.Caption,{color:"text-subdued",numberOfLines:2,children:Object(Y.jsx)(da.FormatCurrency,{numbers:[null!=d?d:0,null!=t?t:0],render:function(e){return Object(Y.jsx)(te.default.Caption,{ml:3,color:"text-subdued",children:d?e:"-"})}})})})}),Object(Y.jsx)(Ft.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pb:"12",focusOutlineColor:"transparent",pr:"2",textAlign:"right",isDisabled:a,rightCustomElement:null})]})})})]})]})}))},Ld=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(ae.useActiveWalletAccount)(),r=n.wallet,o=n.network,a=Object(ae.useAppSelector)((function(e){return e.swapTransactions.swapMaintain})),c=!r||!o||a,l=Object(ae.useAppSelector)((function(e){return e.limitOrder.typedValue})),s=Object(Cd.useLimitOrderOutput)(),u=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.LimitOrderInput}})}),[t]),d=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.LimitOrderOutput}})}),[t]),f=Object(i.useCallback)((function(e){W.default.serviceLimitOrder.userInputValue(e)}),[]),j=Object(i.useCallback)((function(){W.default.serviceLimitOrder.switchTokens()}),[]),p=Object(i.useMemo)((function(){return{upper:{pb:"0"},lower:{pt:"0"}}}),[]),O=Object(za.formatAmount)(s,8);return 0===Number(O)&&(O=Object(za.formatAmount)(s,16)),Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsxs)(N.default,{position:"relative",children:[Object(Y.jsx)(N.default,{px:4,py:"5",bg:"surface-subdued",overflow:"hidden",children:Object(Y.jsx)(Nd,{type:"INPUT",label:e.formatMessage({id:"form__pay"}),inputValue:l,onChange:f,onPress:u,containerProps:p.upper})}),Object(Y.jsx)(N.default,{w:"full",position:"relative",h:"1",bg:"background-default",zIndex:1,children:Object(Y.jsx)(N.default,{position:"absolute",w:"full",h:"10",top:-20,left:0,children:Object(Y.jsx)(T.default,{children:Object(Y.jsx)(T.default,{w:"10",h:"10",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Y.jsx)(yt.default,{w:35,h:35,borderColor:"background-default",name:"ArrowDownOutline",borderRadius:"full",_disabled:{borderColor:"background-default"},onPress:j,size:"lg",bgColor:"surface-neutral-subdued"})})})})}),Object(Y.jsx)(N.default,{px:4,py:"5",bg:"surface-subdued",overflow:"hidden",children:Object(Y.jsx)(Td,{type:"OUTPUT",label:e.formatMessage({id:"action__receive"}),inputValue:O,onPress:d,containerProps:p.lower})}),c?Object(Y.jsx)(N.default,{w:"full",h:"full",position:"absolute",zIndex:1}):null]})})};function Wd(e){var t=Math.floor(e/1440);if(t>0)return t+"D";var n=Math.floor(e/60);return n>0?n+"H":e+"M"}function Hd(){var e,t=Object(y.default)(),n=Object(H.useAppSelector)((function(e){return e.limitOrder.typedPrice})),r=Object(H.useAppSelector)((function(e){return e.limitOrder.tokenIn})),o=Object(H.useAppSelector)((function(e){return e.limitOrder.tokenOut})),a=Object(H.useAppSelector)((function(e){return e.limitOrder.instantRate})),c=Object(H.useAppSelector)((function(e){return e.limitOrder.mktRate})),l=Object(i.useCallback)((function(e){W.default.dispatch(Object(Dd.setTypedPrice)({reversed:n.reversed,value:e}));var t=n.reversed?Object(za.formatAmountExact)(Object(za.div)(1,e)):e;W.default.dispatch(Object(Dd.setInstantRate)(t))}),[n.reversed]),s=Object(i.useCallback)((function(){var e=n.reversed?Object(za.formatAmountExact)(Object(za.div)(1,c)):c;l(e)}),[c,n.reversed,l]),u=Object(i.useCallback)((function(){var e=!n.reversed,t=e?Object(za.formatAmountExact)(Object(za.div)(1,a)):a;W.default.dispatch(Object(Dd.setTypedPrice)({reversed:e,value:t}))}),[n.reversed,a]),d=n.reversed?null==o?void 0:o.symbol:null==r?void 0:r.symbol,f=n.reversed?null==r?void 0:r.symbol:null==o?void 0:o.symbol;return Object(Y.jsxs)(N.default,{flex:"1",backgroundColor:"surface-subdued",px:"4",pb:"4",pt:"3",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(te.default.Body1,{color:"text-subdued",fontSize:12,fontWeight:500,children:t.formatMessage({id:"form__str_price"},{0:null!=d?d:""})})}),Object(Y.jsx)($.default,{onPress:s,children:Object(Y.jsx)(te.default.CaptionUnderline,{children:t.formatMessage({id:"action__set_to_mkt"})})})]}),Object(Y.jsxs)(N.default,{flexDirection:"row",w:"full",alignItems:"center",children:[Object(Y.jsx)(N.default,{flex:"1",children:Object(Y.jsx)(Ft.default,{borderWidth:0,placeholder:"0.00",fontSize:20,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderRadius:0,pl:0,rightCustomElement:null,focusOutlineColor:"transparent",value:null!=(e=n.value)?e:"",onChangeText:l})}),Object(Y.jsx)(N.default,{children:Object(Y.jsxs)($.default,{flexDirection:"row",alignItems:"center",bg:"surface-neutral-subdued",py:"1",px:"1.5",borderRadius:8,onPress:u,children:[Object(Y.jsx)(te.default.CaptionStrong,{color:"text-subdued",mr:"1",children:null!=f?f:""}),Object(Y.jsx)(ee.default,{name:"ArrowsRightLeftMini",size:10})]})})]})]})}function zd(){var e=Object(y.default)(),t=Object(i.useMemo)((function(){return[{label:e.formatMessage({id:"form__str_minute"},{0:10}),value:10},{label:e.formatMessage({id:"form__str_hour"},{0:1}),value:60},{label:e.formatMessage({id:"form__str_hours"},{0:24}),value:1440},{label:e.formatMessage({id:"form__str_day"},{0:7}),value:10080},{label:e.formatMessage({id:"form__str_day"},{0:30}),value:43200}]}),[e]),n=Object(H.useAppSelector)((function(e){return e.limitOrder.expireIn})),r=Object(i.useCallback)((function(e){W.default.dispatch(Object(Dd.setExpireIn)(e))}),[]);return Object(Y.jsxs)(N.default,{px:"4",pb:"4",pt:"3",w:"124px",backgroundColor:"surface-subdued",ml:"1",justifyContent:"space-between",children:[Object(Y.jsx)(te.default.Body1,{color:"text-subdued",fontSize:12,fontWeight:500,children:e.formatMessage({id:"form__expires_in"})}),Object(Y.jsx)(K.default,{title:e.formatMessage({id:"form__expires_in"}),isTriggerPlain:!0,footer:null,value:n,defaultValue:n,headerShown:!1,options:t,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(e){var t=e.activeOption;return Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(Y.jsx)(te.default.DisplayMedium,{children:Wd(t.value)}),Object(Y.jsx)(ee.default,{size:20,name:"ChevronDownMini"})]})},onChange:r})]})}function Fd(){return Object(Y.jsxs)(N.default,{flexDirection:"row",w:"full",h:"20",mt:"1",overflow:"hidden",children:[Object(Y.jsx)(Hd,{}),Object(Y.jsx)(zd,{})]})}function Ud(e){var t=Object(H.useNavigation)();return Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.LimitOrderDetails,params:{orderHash:e.orderHash}}})}),[e.orderHash,t])}var Vd=function(e){var t=e.details,n=Object(i.useState)(!1),r=x()(n,2),o=r[0],a=r[1],c=Object(H.useAccount)({accountId:t.accountId,networkId:t.networkId}).account,l=Object(Cd.useCancelLimitOrderCallback)(),s=Object(i.useCallback)(In()((function*(){if(c){a(!0);try{yield l({activeAccount:c,details:t})}finally{a(!1)}}})),[t,c,l]);return Object(Y.jsx)(yt.default,{isLoading:o,name:"XMarkMini",type:"plain",isDisabled:t.canceled,onPress:s})},Gd=function(e){var t=e.order,n=Object(y.default)(),r=Ud(t),o=t.tokenIn,a=t.tokenOut,i=t.tokenInValue,c=t.tokenOutValue,l=t.remainingFillable,s=t.canceled,u=Object(za.formatAmountExact)(Object(za.getTokenAmountValue)(o,i)),d=Object(za.formatAmountExact)(Object(za.getTokenAmountValue)(a,c)),f=u+" "+o.symbol.toUpperCase()+" \u2192 "+d+" "+a.symbol.toUpperCase(),b=0===Number(l)?n.formatMessage({id:"form_opened"}):n.formatMessage({id:"form__str_filled"},{0:Math.floor(Number(Object(za.getLimitOrderPercent)(t)))+"%"});return Object(Y.jsxs)($.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",onPress:r,children:[Object(Y.jsxs)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(N.default,{mr:"1",children:Object(Y.jsx)(Tt.default,{size:"10",borderRadius:"full",token:o,bgColor:"surface-neutral-default"})}),Object(Y.jsxs)(N.default,{flex:"1",children:[Object(Y.jsx)(N.default,{children:Object(Y.jsx)(te.default.Body2Strong,{children:f})}),Object(Y.jsx)(N.default,{flexDirection:"row",children:s?Object(Y.jsx)(ut.default,{type:"warning",size:"sm",title:n.formatMessage({id:"badge__cancelling"})}):Object(Y.jsx)(ut.default,{type:"info",size:"sm",title:b})})]})]}),Object(Y.jsx)(N.default,{w:"9",flexDirection:"row",alignItems:"center",children:s?null:Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Vd,{details:t})})})]})},qd=function(e){var t=e.orders,n=Object(y.default)();return t&&0!==t.length?Object(Y.jsx)(Oe.default,{space:"4",py:"4",children:t.map((function(e){return Object(Y.jsx)(Gd,{order:e},e.orderHash)}))}):Object(Y.jsx)(N.default,{py:"4",children:Object(Y.jsx)(ht.default,{emoji:"\ud83d\udd16",title:n.formatMessage({id:"empty__you_have_no_orders"}),subTitle:n.formatMessage({id:"empty__you_have_no_orders_desc"}),mb:3})})},Kd=function(e){var t=e.order,n=t.tokenIn,r=t.tokenOut,o=t.tokenInValue,a=t.tokenOutValue,i=t.remainingFillable,c=t.canceled,l=t.expiredIn,s=Object(y.default)(),u=Ud(t),d=Object(za.formatAmountExact)(Object(za.getTokenAmountValue)(n,o)),f=Object(za.formatAmountExact)(Object(za.getTokenAmountValue)(r,a)),b=Object(Ar.default)().formatDate,j=0===Number(i)?s.formatMessage({id:"form_opened"}):s.formatMessage({id:"form__str_filled"},{0:Math.floor(Number(Object(za.getLimitOrderPercent)(t)))+"%"});return Object(Y.jsxs)($.default,{onPress:u,children:[Object(Y.jsxs)(N.default,{flexDirection:"row",children:[Object(Y.jsxs)(N.default,{w:"20%",flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(N.default,{mr:"1",children:Object(Y.jsx)(Tt.default,{size:"8",borderRadius:"full",token:r,bgColor:"surface-neutral-default"})}),Object(Y.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:Object(Y.jsxs)(te.default.Body2Strong,{overflow:"clip",children:[f," ",r.symbol.toUpperCase()]})})]}),Object(Y.jsx)(N.default,{w:"20%",flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:Object(Y.jsxs)(te.default.Body2Strong,{overflow:"clip",children:[d," ",n.symbol.toUpperCase()]})})}),Object(Y.jsx)(N.default,{w:"30%",flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(te.default.Body2Strong,{overflow:"clip",children:b(new Date(1e3*l))})})}),Object(Y.jsx)(N.default,{w:"20%",flexDirection:"row",alignItems:"center",children:c?Object(Y.jsx)(ut.default,{type:"warning",size:"sm",title:s.formatMessage({id:"badge__cancelling"})}):Object(Y.jsx)(ut.default,{type:"info",size:"sm",title:j})}),Object(Y.jsx)(N.default,{w:"10%",children:c?null:Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(Vd,{details:t})})})]}),Object(Y.jsx)(xt.default,{color:"text-subdued",my:"4"})]})},Zd=function(e){var t=e.orders,n=Object(y.default)();return t&&0!==t.length?Object(Y.jsxs)(N.default,{py:"4",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",children:[Object(Y.jsx)(N.default,{w:"20%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"action__receive"}).toUpperCase()})}),Object(Y.jsx)(N.default,{w:"20%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__pay"}).toUpperCase()})}),Object(Y.jsx)(N.default,{w:"30%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__expiration"}).toUpperCase()})}),Object(Y.jsx)(N.default,{w:"20%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__status"}).toUpperCase()})}),Object(Y.jsx)(N.default,{w:"10%"})]}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Oe.default,{space:"4",py:"4",children:t.map((function(e){return Object(Y.jsx)(Kd,{order:e},e.orderHash)}))})})]}):Object(Y.jsx)(N.default,{py:"4",children:Object(Y.jsx)(ht.default,{emoji:"\ud83d\udd16",title:n.formatMessage({id:"empty__you_have_no_orders"}),subTitle:n.formatMessage({id:"empty__you_have_no_orders_desc"}),mb:3})})};function Xd(){var e=Object(H.useAppSelector)((function(e){return e.limitOrder.activeAccount})),t=Object(H.useAppSelector)((function(e){return e.swap.mode})),n=Object(Cd.useLimitOrders)(null==e?void 0:e.id),r=Object(y.default)();return"limit"===t?Object(Y.jsxs)(N.default,{px:"4",children:[Object(Y.jsx)(N.default,{children:Object(Y.jsx)(te.default.Heading,{children:r.formatMessage({id:"title__open_order"})})}),Object(Y.jsx)(qd,{orders:n})]}):null}function Yd(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){return e.swap.mode})),n=Object(H.useAppSelector)((function(e){return e.limitOrder})).activeAccount,r=Object(Cd.useLimitOrders)(null==n?void 0:n.id);return"limit"===t?Object(Y.jsxs)(N.default,{px:"4",mt:"4",children:[Object(Y.jsx)(N.default,{children:Object(Y.jsx)(te.default.Heading,{children:e.formatMessage({id:"title__open_order"})})}),Object(Y.jsx)(Zd,{orders:r})]}):null}function Qd(){var e,t=Object(y.default)(),n=Object(H.useAppSelector)((function(e){return e.limitOrder.tokenIn})),r=Object(H.useAppSelector)((function(e){return e.limitOrder.instantRate})),o=Object(H.useAppSelector)((function(e){return e.limitOrder.mktRate})),a=Object(i.useMemo)((function(){if(r&&o&&r!==o){var e=new Mn.a(o).minus(r).absoluteValue().div(o).multipliedBy(100).decimalPlaces(2).toFixed();return Object(za.gt)(e,5)&&Object(za.gt)(o,r)?e+"%":""}return""}),[r,o]);return a?Object(Y.jsx)(N.default,{mb:"4",children:Object(Y.jsx)(st.default,{title:t.formatMessage({id:"msg__limit_price_is_str_lower_than_the_current_market_price"},{0:a}),description:t.formatMessage({id:"msg__limit_price_is_str_lower_than_the_current_market_price_desc"},{0:null!=(e=null==n?void 0:n.symbol.toUpperCase())?e:""}),alertType:"warn",dismiss:!1})}):null}function Jd(){var e=Object(_i.useSwapChartMode)(),t=Object(j.default)();return Object(Y.jsxs)(N.default,{children:[Object(Y.jsxs)(N.default,{borderRadius:t?void 0:"12",overflow:"hidden",children:[Object(Y.jsx)(Ld,{}),Object(Y.jsx)(Fd,{})]}),Object(Y.jsx)(ki,{children:Object(Y.jsxs)(N.default,{my:"6",children:[Object(Y.jsx)(Qd,{}),Object(Y.jsx)(Pd,{})]})}),"chart"!==e?Object(Y.jsx)(Xd,{}):null]})}function $d(){var e=Object(H.useAppSelector)((function(e){return e.swap.mode}));return Object(Y.jsx)(N.default,{children:"limit"===e?Object(Y.jsx)(Jd,{}):Object(Y.jsx)(Nc,{})})}var ef=n(4020),tf=function(){var e=Object(i.useState)(1),t=x()(e,2),n=t[0],r=t[1];Object(i.useEffect)((function(){var e=setInterval((function(){return r((function(e){return e>=3?1:e+1}))}),1e3);return function(){return clearInterval(e)}}),[]);var o=Object(i.useMemo)((function(){return Array.from({length:n},(function(e,t){return t}))}),[n]);return Object(Y.jsx)(vt.default,{w:"4",children:o.map((function(e){return Object(Y.jsx)(te.default.CaptionStrong,{children:"."},e)}))})},nf=function(e){var t=e.onPress,n=e.text,r=e.iconName,o=e.backgroundColor,a=e.borderColor,i=e.rightSlot;return Object(Y.jsx)($.default,{onPress:t,children:Object(Y.jsxs)(N.default,{py:"2",px:"3",flexDirection:"row",alignItems:"center",backgroundColor:o,borderColor:a,borderRadius:12,children:[Object(Y.jsx)(N.default,{mr:"2",children:Object(Y.jsx)(ee.default,{name:r,size:16})}),Object(Y.jsx)(te.default.CaptionStrong,{children:n}),i?Object(Y.jsx)(N.default,{ml:"2",children:i}):null]})})},rf=function(e){var t=e.onPress,n=Object(y.default)(),r=Object(ef.useWalletsSwapTransactions)().filter((function(e){return"pending"===e.status&&"swap"===e.type}));return Object(Y.jsx)(nf,{onPress:t,iconName:"ClockOutline",backgroundColor:"surface-highlight-default",text:n.formatMessage({id:"msg__str_in_progress"},{0:r.length}),rightSlot:Object(Y.jsx)(tf,{})})},of=function(e){var t=e.onPress,n=Object(y.default)(),r=Object(ef.useWalletsSwapTransactions)(),o=r.filter((function(e){return"sucesss"===e.status&&!1===e.viewed})),a=r.filter((function(e){return("failed"===e.status||"canceled"===e.status)&&!1===e.viewed})),c=Object(i.useCallback)((function(){var e=r.filter((function(e){return"pending"!==e.status&&!1===e.viewed}));W.default.dispatch(Object(ii.setTransactionViewed)({txids:e.map((function(e){return e.hash}))})),null==t||t()}),[r,t]);return a.length?Object(Y.jsx)(nf,{iconName:"XCircleOutline",onPress:c,text:n.formatMessage({id:"msg__str_swap_failed"},{0:a.length}),backgroundColor:"surface-critical-default",borderColor:"surface-critical-subdued"}):o.length?Object(Y.jsx)(nf,{iconName:"CheckCircleOutline",onPress:c,text:n.formatMessage({id:"msg__str_swap_done"},{0:o.length}),backgroundColor:"surface-success-default",borderColor:"surface-success-subdued"}):Object(Y.jsx)(yt.default,{type:"plain",name:"ClockOutline",onPress:t})},af=function(){var e=Object(ef.useWalletsSwapTransactions)().filter((function(e){return"pending"===e.status&&"swap"===e.type})),t=Object(w.useNavigation)(),n=Object(i.useCallback)((function(){t.navigate(b.HomeRoutes.SwapHistory)}),[t]);return e.length>0?Object(Y.jsx)(rf,{onPress:n}):Object(Y.jsx)(of,{onPress:n})},cf=function(){var e=Object(y.default)(),t=Object(H.useAppSelector)((function(e){return e.swap.mode})),n=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),r="swap"===t,o=Object(i.useCallback)((function(){n&&_d.limitOrderNetworkIds.includes(n.networkId)||Kt.default.show({title:e.formatMessage({id:"limit_orders_are_only_supported_for_str"},{0:"ETH, BSC, Polygon"})},{type:"default"}),W.default.serviceLimitOrder.setDefaultTokens(),W.default.dispatch(Object(Na.setMode)("limit"))}),[n,e]);return Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",h:"30px",children:[Object(Y.jsx)($.default,{mr:"3",onPress:function(){return W.default.dispatch(Object(Na.setMode)("swap"))},children:Object(Y.jsx)(te.default.Body1Strong,{color:r?"text-default":"text-disabled",children:e.formatMessage({id:"title__swap"})})}),Object(Y.jsxs)($.default,{onPress:o,flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body1Strong,{color:r?"text-disabled":"text-default",children:e.formatMessage({id:"form__limit"})}),Object(Y.jsx)(N.default,{ml:"1",children:Object(Y.jsx)(ut.default,{type:"info",size:"sm",title:"Beta"})})]})]})},lf=function(){return Object(Y.jsxs)(N.default,{width:"full",flexDirection:"row",h:"9",justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(cf,{}),Object(Y.jsx)(af,{})]})},sf={params:void 0,count:0},uf=function(){var e=In()((function*(e){var t=e.params,n=e.loading;if(sf.params=t,t){n&&W.default.dispatch(Object(Dd.setLoading)(!0)),sf.count+=1;try{var r=yield La.SwapQuoter.client.fetchLimitOrderQuote(t);r&&sf.params===t&&W.default.serviceLimitOrder.setRate(r.instantRate)}finally{sf.count-=1,0===sf.count&&W.default.dispatch(Object(Dd.setLoading)(!1))}}else W.default.dispatch(Object(Dd.setInstantRate)(""),Object(Dd.setMktRate)(""),Object(Dd.setLoading)(!1),Object(Dd.setTypedPrice)({reversed:!1,value:""}))}));return function(t){return e.apply(this,arguments)}}(),df=function(){var e=Object(Cd.useLimitOrderParams)();return Object(i.useEffect)((function(){uf({params:e,loading:!0})}),[e]),null},ff=function(){var e=Object(H.useAppSelector)((function(e){return e.limitOrder.tokenIn})),t=Object(H.useAppSelector)((function(e){return e.limitOrder.tokenOut}));return Object(i.useEffect)((function(){W.default.dispatch(Object(Dd.setMktRate)(""),Object(Dd.setInstantRate)(""),Object(Dd.setTypedPrice)({value:""}))}),[e,t]),null},bf=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(df,{}),Object(Y.jsx)(ff,{})]})},jf=function(){var e=Object(H.useNavigation)(),t=Object(w.useIsFocused)();return Object(i.useEffect)((function(){function n(){return(n=In()((function*(){!(yield W.default.serviceSwap.getSwapWelcomeShown())&&t&&e.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.Welcome}})}))).apply(this,arguments)}var r=setTimeout((function(){return n.apply(this,arguments)}),1e3);return function(){return clearTimeout(r)}}),[e,t]),null},pf=function(){return Object(Y.jsx)(jf,{})},Of=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(bf,{}),Object(Y.jsx)(ti,{}),Object(Y.jsx)(pf,{})]})},mf=n(4519),xf=function(){var e=Object(ef.useWalletsSwapTransactions)(),t=Object(i.useMemo)((function(){return e.filter((function(e){return"pending"===e.status}))}),[e]);return Object(Y.jsx)(Y.Fragment,{children:t.map((function(e){return Object(Y.jsx)(mf.default,{tx:e},e.hash)}))})},hf=function(){var e=Object(H.useAppSelector)((function(e){return e.limitOrder.activeAccount})),t=Object(i.useCallback)((function(){e&&W.default.serviceLimitOrder.syncAccount({accountId:null==e?void 0:e.id})}),[e]);return Object(i.useEffect)((function(){t();var e=setInterval(t,6e4);return function(){return clearInterval(e)}}),[t]),null},gf=function(){return Object(i.useEffect)((function(){W.default.serviceSwap.getSwapConfig(),W.default.serviceSwap.setDefaultInputToken()}),[]),null},vf=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(gf,{}),Object(Y.jsx)(xf,{}),Object(Y.jsx)(hf,{})]})},yf=function(){var e=Object(y.default)(),t=Object(_i.useSwapChartMode)();return Object(Y.jsxs)(N.default,{h:"16",px:"8",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(Y.jsx)(te.default.Heading,{children:e.formatMessage({id:"title__Swap_Bridge"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(K.default,{isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:t,onChange:function(e){W.default.serviceSwap.setSwapChartMode(e)},options:[{label:e.formatMessage({id:"title__simple_mode"}),value:"simple"},{label:e.formatMessage({id:"title__chart_mode"}),value:"chart"}],dropdownProps:{width:"40"},dropdownPosition:"right",renderTrigger:function(e){var t=e.onPress;return Object(Y.jsx)($.default,{onPress:t,children:function(e){var t=e.isHovered;return Object(Y.jsx)(N.default,{bg:t?"surface-hovered":"transparent",w:"10",h:"10",justifyContent:"center",alignItems:"center",borderRadius:"full",children:Object(Y.jsx)(ee.default,{name:"EllipsisVerticalOutline",size:24})})}})}})})]})},wf=function(){return Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(T.default,{children:Object(Y.jsxs)(N.default,{maxW:{md:"480px"},width:"full",children:[Object(Y.jsx)(N.default,{flexDirection:"row",justifyContent:"space-between",px:"4",mb:"4",zIndex:1,children:Object(Y.jsx)(lf,{})}),Object(Y.jsx)(N.default,{px:"4",children:Object(Y.jsx)($d,{})})]})}),Object(Y.jsx)(vf,{}),Object(Y.jsx)(Of,{})]})},kf=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(H.useAppSelector)((function(e){return e.swap.outputToken}));return e&&t?Object(Y.jsx)(N.default,{children:Object(Y.jsx)(yd,{fromToken:e,toToken:t})}):null},_f=function(){var e=Object(H.useAppSelector)((function(e){return e.swap.inputToken})),t=Object(H.useAppSelector)((function(e){return e.swap.outputToken}));return Object(Y.jsxs)(N.default,{flexDirection:"row",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",children:[Object(Y.jsx)(T.default,{w:"9",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Y.jsx)(Tt.default,{token:e,size:8})}),Object(Y.jsx)(T.default,{w:"9",ml:"-4",bg:"background-default",borderRadius:"full",overflow:"hidden",children:Object(Y.jsx)(Tt.default,{token:t,size:8})})]}),Object(Y.jsxs)(te.default.Heading,{ml:"2",color:"text-default",fontSize:18,children:[null==e?void 0:e.symbol.toUpperCase()," / ",null==t?void 0:t.symbol.toUpperCase()]})]})},Cf=function(){var e=Object(H.useNavigation)(),t=Object(_i.useSwapChartMode)();return Object(i.useLayoutEffect)((function(){e.setOptions({headerShown:!1})}),[e]),Object(Y.jsxs)(Yt.ScrollView,{children:[Object(Y.jsx)(yf,{}),Object(Y.jsx)(N.default,{mt:"12",children:Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"center",px:"chart"===t?"8":void 0,overflow:"hidden",children:["chart"===t?Object(Y.jsxs)(N.default,{flex:"1",children:[Object(Y.jsx)(N.default,{minH:"52px",children:Object(Y.jsx)(_f,{})}),Object(Y.jsx)(kf,{}),Object(Y.jsx)(Yd,{})]}):null,Object(Y.jsx)(N.default,{w:"480px",bg:"background-default",children:Object(Y.jsx)(wf,{})})]})})]})},Sf=function(){var e=Object(i.useState)(!1),t=x()(e,2),n=t[0],r=t[1],o=Object(i.useCallback)((function(){r(!0),$o.appUIEventBus.emit($o.AppUIEventBusNames.SwapRefresh),setTimeout((function(){return r(!1)}),500)}),[]);return Object(Y.jsx)(pe.default,{refreshControl:Object(Y.jsx)(ad.default,{refreshing:n,onRefresh:o}),children:Object(Y.jsx)(T.default,{children:Object(Y.jsxs)(N.default,{maxW:{md:"480px"},width:"full",children:[Object(Y.jsx)(N.default,{px:"4",mb:"4",zIndex:1,children:Object(Y.jsx)(lf,{})}),Object(Y.jsx)($d,{}),Object(Y.jsx)(Of,{}),Object(Y.jsx)(vf,{})]})})})},If=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.hideBottomTabBar,Object(j.default)());return t?Object(Y.jsx)(N.default,{flex:1,children:Object(Y.jsx)(Sf,{})}):Object(Y.jsx)(Cf,{})},Pf=n(263),Mf=n(3975),Af=function(){var e=Object(H.useAppSelector)((function(e){return e.market.listSort}));return Object(i.useMemo)((function(){return e}),[e])},Tf=function(){var e=Object(Mf.useMarketSelectedCategory)();return Object(i.useMemo)((function(){var t;if((null==e?void 0:e.categoryId)===Pf.MARKET_FAVORITES_CATEGORYID)return null==(t=e.coingeckoIds)?void 0:t.join(",")}),[null==e?void 0:e.categoryId,null==e?void 0:e.coingeckoIds])},Df=[{key:b.TabRoutes.Swap},{key:b.TabRoutes.Market}],Rf=function(e){W.default.serviceMarket.switchMarketTopTab(e),Object(kn.getAppNavigation)().dispatch(w.TabActions.jumpTo(e))},Ef=n(4310),Bf=function(e){var t=e.onPressSearch,n=Object(y.default)();return Object(Y.jsxs)(vt.default,{height:{base:"56px",md:"64px"},alignItems:"center",pl:{base:"16px",md:"32px"},pr:{base:"10px",md:"32px"},children:[Object(Y.jsx)(ve.default,{typography:{sm:"PageHeading",md:"Heading"},children:n.formatMessage({id:"market__market"})}),Object(Y.jsx)(N.default,{ml:"16px",mr:"8px",h:"16px",w:"1px",bgColor:"divider"}),Object(Y.jsxs)($.default,{onPress:t,flexDirection:"row",p:"8px",borderRadius:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Y.jsx)(ee.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",ml:2,children:n.formatMessage({id:"form__search_tokens"})})]})]})};function Nf(e){var t=e.marketTopTabName,n=e.onPressSearch,r=Object(y.default)();return Object(Y.jsxs)(N.default,{px:"4",py:"4",flexDirection:"row",alignItems:"center",justifyContent:"space-between",zIndex:1,children:[Object(Y.jsxs)(N.default,{flexDirection:"row",h:"9",alignContent:"center",children:[Object(Y.jsx)($.default,{mr:"3",onPress:function(){Rf(b.TabRoutes.Swap)},children:Object(Y.jsx)(te.default.DisplayMedium,{color:t===b.TabRoutes.Swap?"text-default":"text-disabled",children:r.formatMessage({id:"title__Swap_Bridge"})})}),Object(Y.jsx)($.default,{onPress:function(){Rf(b.TabRoutes.Market)},children:Object(Y.jsx)(te.default.DisplayMedium,{color:t===b.TabRoutes.Market?"text-default":"text-disabled",children:r.formatMessage({id:"market__market"})})})]}),Object(Y.jsx)(N.default,{children:t===b.TabRoutes.Market?Object(Y.jsx)(yt.default,{size:"base",name:"MagnifyingGlassMini",type:"plain",onPress:n}):null})]})}var Lf=Object(i.memo)((function(e){var t=e.marketTopTabName,n=Object(w.useNavigation)(),r=Object(j.default)(),o=Object(i.useCallback)((function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Market,params:{screen:Ef.MarketRoutes.MarketSearchModal}})}),[n]);return r?Object(Y.jsx)(Nf,{onPressSearch:o,marketTopTabName:t}):t===b.TabRoutes.Swap?null:Object(Y.jsx)(Bf,{onPressSearch:o})})),Wf=n(749),Hf=Object(i.memo)((function(e){var t=e.categorys,n=Object(Mf.useMarketSelectedCategoryId)(),r=Object(i.useMemo)((function(){if(n)return t.findIndex((function(e){return e.categoryId===n}));var e=t.findIndex((function(e){return e.defaultSelected}));return-1!==e?e:0}),[t,n]),o=Object(y.default)(),a=Object(i.useMemo)((function(){return t.map((function(e){var t,n={text:null!=(t=e.name)?t:""};return e.categoryId===Pf.MARKET_FAVORITES_CATEGORYID&&(n.text=o.formatMessage({id:"form__Watchlist"})),n}))}),[t,o]),c=Object(i.useCallback)((function(e){!function(e,t){var n=t[e];n&&W.default.serviceMarket.toggleCategory({categoryId:n.categoryId,coingeckoIds:n.coingeckoIds,type:n.type})}(e,t)}),[t]);return Object(Y.jsx)(N.default,{children:Object(Y.jsx)(N.default,{flex:1,width:"full",children:t.length>0?Object(Y.jsx)(Ht.default,{leftIconSize:0,buttons:a,selectedIndex:r,onButtonPress:c,bg:"background-default"}):Object(Y.jsx)(N.default,{flex:1,width:"full",flexDirection:"row",children:Wf.MARKET_FAKE_SKELETON_CATEGORY_ARRAY.map((function(e,t){return Object(Y.jsx)(N.default,{mr:"6",w:"10",h:"8",borderRadius:"9999px",overflow:"hidden",children:Object(Y.jsx)(Ut.default,{})},t)}))})})})})),zf=n(4149);function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vf=Object(i.memo)((function(e){var t=e.headTags,n=Af(),r=Object(y.default)(),o=Object(j.default)(),a=Object(ye.default)().size,c=Object(i.useMemo)((function(){return["NORMAL"].includes(a)}),[a]),l=Object(i.useMemo)((function(){return o?N.default:qt.default}),[o]),s=Object(i.useMemo)((function(){return o||c}),[c,o]);return Object(Y.jsxs)(N.default,{mt:"2",w:"full",children:[Object(Y.jsx)(l,{flexDirection:"row",px:2,py:1.5,my:.5,children:t.map((function(e){if(e.id===Wf.EMarketCellData.CollectionStar)return Object(Y.jsx)(qt.default.Column,{text:{label:"#",labelProps:{typography:"Subheading",textAlign:e.textAlign,color:"text-subdued"}},w:e.minW},e.id);if(e.id===Wf.EMarketCellData.TokenInfo||e.id===Wf.EMarketCellData.TokenPrice||e.id===Wf.EMarketCellData.Token24hChange||e.id===Wf.EMarketCellData.Token24hVolume||e.id===Wf.EMarketCellData.TokenMarketCap||e.id===Wf.EMarketCellData.TokenSparklineChart){var t,o,a,i,c,l=e.id===Wf.EMarketCellData.Token24hChange?{w:e.minW}:{flex:1},u=s&&null!=(t=null==(o=e.dislocation)?void 0:o.id)?t:e.id,d=s&&null!=(a=null==(i=e.dislocation)?void 0:i.title)?a:e.title;return Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsxs)($.default,Uf(Uf({onPress:function(){var e="down";n&&n.id===u&&"down"===n.direction&&(e="up"),W.default.serviceMarket.updateMarketListSort({id:u,direction:e})},flexDirection:"row",alignItems:"center",justifyContent:e.id===Wf.EMarketCellData.TokenInfo?"flex-start":"flex-end"},l),{},{children:[Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",textAlign:e.textAlign,children:r.formatMessage({id:d})}),Object(Y.jsx)(ee.default,{name:n&&n.id===u&&"up"===n.direction?"ChevronUpMini":"ChevronDownMini",size:16,color:n&&n.id===u?"icon-success":"icon-subdued"})]}))},(null!=(c=e.title)?c:"")+"--"+e.id)}var f;return e.id===Wf.EMarketCellData.TokenSwapStatus?Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(N.default,{flex:1})},(null!=(f=e.title)?f:"")+"--"+e.id):null}))}),o?null:Object(Y.jsx)(xt.default,{})]})}));function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kf,Zf=function(e){var t=e.name,n=e.symbol,r=e.onPress,o=e.icon,a=e.coingeckoId,c=e.isSelected,l=e.index,s=Object(j.default)(),u=Object(Pl.useGridBoxStyle)({index:l,outPadding:s?32:48}),d=Object(i.useMemo)((function(){return c?a:void 0}),[a,c]);return Object(Y.jsxs)($.default,qf(qf({height:"64px",borderWidth:1,borderRadius:"12px",borderColor:"border-default",flexDirection:"row",alignItems:"center",justifyContent:"space-between",onPress:function(){r(!c,a)}},u),{},{children:[Object(Y.jsxs)(N.default,{ml:"3",alignItems:"center",flexDirection:"row",flex:1,children:[Object(Y.jsx)(bt.default,{borderRadius:16,src:o,size:8}),Object(Y.jsxs)(N.default,{flexDirection:"column",ml:"2",flex:1,children:[Object(Y.jsx)(te.default.Body2Strong,{children:n}),Object(Y.jsx)(te.default.Caption,{numberOfLines:1,color:"text-subdued",children:t})]})]}),Object(Y.jsx)(N.default,{size:5,flexDirection:"row",alignItems:"center",justifyContent:"center",mr:1,children:Object(Y.jsx)(mt.default,{isChecked:c,value:d,onChange:function(){r(!c,a)},pointerEvents:"box-only"})})]}))},Xf=Object(i.memo)((function(e){var t,n=e.tokens,r=Object(i.useState)((function(){var e;return null!=(e=null==n?void 0:n.map((function(e){return e.coingeckoId})))?e:[]})),o=x()(r,2),a=o[0],c=o[1],l=Object(y.default)(),s=Object(j.default)(),u=Object(i.useCallback)((function(e,t){c(e?function(e){return e.find((function(e){return e===t}))?e:[t].concat(g()(e))}:function(e){var n=g()(e),r=e.indexOf(t);return-1!==r&&n.splice(r,1),n})}),[]);return Object(Y.jsx)(N.default,{flex:1,alignItems:"center",justifyContent:"center",children:Object(Y.jsxs)(N.default,{mt:s?"40px":"56px",maxW:Pl.GRID_MAX_WIDTH,children:[Object(Y.jsxs)(N.default,{mb:"32px",justifyContent:"center",alignItems:"center",children:[Object(Y.jsx)(te.default.DisplayLarge,{children:l.formatMessage({id:"empty__your_watchlist_is_empty"})}),Object(Y.jsx)(te.default.Body1,{mt:2,children:l.formatMessage({id:"empty__your_watchlist_is_empty_desc"})})]}),Object(Y.jsx)(N.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",width:"full",children:null==n?void 0:n.map((function(e,t){var n,r,o,i,c;return Object(Y.jsx)(Zf,{name:null!=(r=e.name)?r:"",icon:null!=(o=e.iconUrl)?o:"",symbol:null!=(i=e.symbol)?i:"",coingeckoId:null!=(c=e.coingeckoId)?c:"",isSelected:null==a?void 0:a.includes(e.coingeckoId),onPress:u,index:t},(null!=(n=e.name)?n:"token")+"-i")}))}),Object(Y.jsx)(re.default,{size:"xl",mt:"5",type:"primary",isDisabled:!(a&&a.length>0),onPress:function(){if(null!=a&&a.length){var e=a.map((function(e){var t={coingeckoId:e},r=null==n?void 0:n.find((function(t){return t.coingeckoId===e}));return r&&Object.assign(t,{symbol:r.symbol}),t}));W.default.serviceMarket.saveMarketFavoriteTokens(null!=e?e:[])}},children:l.formatMessage({id:"action__add_str_tokens"},{0:""+(null!=(t=null==a?void 0:a.length)?t:0)})})]})})})),Yf=n(4324),Qf=Object(i.memo)((function(e){var t=e.onPress,n=e.marketTokenId,r=e.onLongPress,o=Object(H.useSettings)().selectedFiatMoneySymbol,a=Object(Sl.useCurrencyUnit)(o),c=Object(vs.useMarketTokenItem)({coingeckoId:n,isList:!0}),l=Object(i.useMemo)((function(){return null!=c&&c.marketCap?Object(Ml.formatMarketUnitPosition)(a,Object(Ml.formatMarketValueForInfo)(null==c?void 0:c.marketCap)):""}),[null==c?void 0:c.marketCap,a]),s=Object(i.useMemo)((function(){return null!=c&&c.price?Object(Ml.formatMarketUnitPosition)(a,c.price<=1?Object(Ml.formatDecimalZero)(c.price):Object(Ml.formatMarketValueForComma)(c.price)):""}),[null==c?void 0:c.price,a]),u=Object(i.useMemo)((function(){return null!=c&&c.priceChangePercentage24H?Object(Ml.formatMarketVolatility)(c.priceChangePercentage24H)+"%":""}),[null==c?void 0:c.priceChangePercentage24H]);return Object(Y.jsx)($.default,{onLongPress:function(){c&&r&&r(c)},onPress:function(){c&&t&&t(c)},children:function(e){var t=e.isPressed;return Object(Y.jsxs)(N.default,{px:2,py:1.5,my:.5,alignItems:"center",flexDirection:"row",borderRadius:"xl",bgColor:t?"surface-pressed":void 0,children:[Object(Y.jsxs)(N.default,{alignItems:"center",flexDirection:"row",flex:1,children:[c&&void 0!==c.logoURI?Object(Y.jsx)(Tt.default,{size:8,mr:3,token:{logoURI:c.logoURI,name:c.name,symbol:c.symbol}}):Object(Y.jsx)(N.default,{mr:3,children:Object(Y.jsx)(ne.default,{shape:"Avatar",size:32})}),Object(Y.jsxs)(N.default,{children:[c&&void 0!==c.symbol?Object(Y.jsx)(te.default.Body1Strong,{children:c.symbol}):Object(Y.jsx)(ne.default,{shape:"Body2"}),c&&void 0!==c.marketCap?Object(Y.jsx)(te.default.Body2,{numberOfLines:1,color:"text-subdued",children:l}):Object(Y.jsx)(ne.default,{shape:"Body2"})]})]}),Object(Y.jsx)(N.default,{children:c&&void 0!==c.price?Object(Y.jsx)(te.default.Body2Strong,{children:s}):Object(Y.jsx)(N.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(Y.jsx)(ne.default,{shape:"Body2"})})}),Object(Y.jsx)(N.default,{children:c&&c.priceChangePercentage24H?Object(Y.jsx)(N.default,{w:"100px",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(Y.jsx)(N.default,{width:"72px",height:"32px",borderRadius:"6px",backgroundColor:c.priceChangePercentage24H>=0?"focused-default":"focused-critical",alignItems:"center",justifyContent:"center",children:Object(Y.jsx)(te.default.Body2Strong,{textAlign:"center",color:"text-on-primary",children:u})})}):Object(Y.jsx)(N.default,{w:"90px",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:Object(Y.jsx)(ne.default,{shape:"Body2"})})})]})}})})),Jf=Object(i.memo)((function(){var e,t=Object(ye.default)().size,n="SMALL"===t,r=Object(Mf.useMarketCategoryList)(),o=Object(Mf.useMarketFavoriteRecommentedList)(),a=Object(Mf.useMarketFavoriteCategoryTokenIds)(),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pollingInterval,n=void 0===t?60:t,r=Object(w.useIsFocused)(),o=Object(Mf.useMarketSelectedCategory)(),a=Object(j.default)(),c=Object(Pl.useMarketMidLayout)(),l=Af(),s=Object(i.useMemo)((function(){var e;return!!((null==o?void 0:o.categoryId)!==Pf.MARKET_FAVORITES_CATEGORYID||null!=(e=o.coingeckoIds)&&e.length)}),[o]),u=Tf();Object(i.useEffect)((function(){var e;return r&&null!=o&&o.categoryId&&s&&(l||W.default.serviceMarket.fetchMarketListDebounced({categoryId:o.categoryId,ids:u,sparkline:!a&&!c}),e=setInterval((function(){Object($t.isAtAppRootTab)(b.TabRoutes.Market)&&W.default.serviceMarket.fetchMarketListDebounced({categoryId:o.categoryId,ids:u,sparkline:!a&&!c})}),1e3*n)),function(){clearInterval(e)}}),[null==o?void 0:o.categoryId,r,a,n,l,s,c,u]);var d=Object(i.useCallback)(In()((function*(){yield W.default.serviceMarket.fetchMarketCategorys(),o&&(yield W.default.serviceMarket.fetchMarketListDebounced({categoryId:o.categoryId,ids:u,sparkline:!a&&!c}))})),[c,a,o,u]);return{selectedCategory:o,onRefreshingMarketList:d}}(),l=c.selectedCategory,s=c.onRefreshingMarketList,u=Object(i.useMemo)((function(){return"NORMAL"===t?Wf.ListHeadTags.filter((function(e){return e.showNorMalDevice})):n?Wf.ListHeadTags.filter((function(e){return e.showVerticalLayout})):Wf.ListHeadTags}),[n,t]),d=Object(w.useNavigation)(),f=Object(i.useRef)(null),p=Object(i.useCallback)((function(e){var t=e.item;return n?Object(Y.jsx)(Qf,{marketTokenId:t,onPress:function(){d.navigate(b.HomeRoutes.MarketDetail,{marketTokenId:t})},onLongPress:function(e){var t,n;Object(zf.showMarketCellMoreMenu)(e,{header:""+(null!=(t=null!=(n=e.symbol)?n:e.name)?t:"")})}}):Object(Y.jsx)(Yf.default,{marketTokenId:t,headTags:u,onPress:function(){d.navigate(b.HomeRoutes.MarketDetail,{marketTokenId:t})},onLongPress:function(e){var t,n;Object(zf.showMarketCellMoreMenu)(e,{header:""+(null!=(t=null!=(n=e.symbol)?n:e.name)?t:"")})}})}),[n,u,d]),O=Object(i.useState)(!1),m=x()(O,2),h=m[0],g=m[1],v=Object(i.useCallback)((function(e){var t=e.nativeEvent.contentOffset.y;g((null!=t?t:0)>200)}),[]),y=Object(i.useState)(!1),k=x()(y,2),_=k[0],C=k[1],S=Object(i.useCallback)((function(){C(!0),s().finally((function(){C(!1)}))}),[s]),I=Object(i.useMemo)((function(){return l&&l.categoryId===Pf.MARKET_FAVORITES_CATEGORYID&&!a.length&&o.length>0}),[a.length,o.length,l]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(gt.default,{flex:1,mt:3,px:n?2:3,refreshing:_,onRefresh:S,ref:f,bg:"background-default",onScroll:v,contentContainerStyle:{paddingBottom:24},keyExtractor:function(e,t){return e+"-"+t},stickyHeaderIndices:[0],scrollEventThrottle:200,data:I?null:null!=l&&null!=(e=l.coingeckoIds)&&e.length?l.coingeckoIds:Wf.MARKET_FAKE_SKELETON_LIST_ARRAY,renderItem:p,ItemSeparatorComponent:n?null:xt.default,ListHeaderComponent:Object(Y.jsxs)(N.default,{pt:1,mt:-1,bgColor:"background-default",children:[Object(Y.jsx)(Hf,{categorys:r}),I?Object(Y.jsx)(Xf,{tokens:o}):Object(Y.jsx)(Vf,{headTags:u})]})}),h&&Object(Y.jsx)(yt.default,{circle:!0,name:"UploadMini",position:"absolute",size:"base",type:"basic",bottom:"80px",right:"20px",onPress:function(){var e;null==(e=f.current)||e.scrollToOffset({offset:0,animated:!0})}})]})})),$f=n(3703),eb=Object($f.SceneMap)(((Kf={})[b.TabRoutes.Swap]=function(){return Object(Y.jsx)(If,{hideBottomTabBar:!0})},Kf[b.TabRoutes.Market]=Jf,Kf)),tb=Object(i.memo)((function(e){var t=e.routeName,n=Object(i.useRef)(t),r=Object(i.useState)(!1),o=x()(r,2),a=o[0],c=o[1],l=Object(ft.default)(),s=Object(i.useCallback)((function(){return Object(Y.jsx)(Lf,{marketTopTabName:t})}),[t]),u=Object(i.useMemo)((function(){return{index:Df.findIndex((function(e){return e.key===t})),routes:Df}}),[t]),f=Object(i.useCallback)((function(e){n.current=Df[e].key,d.default.isNativeIOS&&setTimeout((function(){return Rf(n.current)}))}),[]),b=Object(i.useCallback)((function(){Qt.enableOnPressAnim.value=0}),[]),j=Object(i.useCallback)((function(){d.default.isNativeAndroid&&Rf(n.current),setTimeout((function(){Qt.enableOnPressAnim.value=1}),100)}),[]),p=Object(i.useMemo)((function(){return{width:l.width}}),[l.width]);return Object(Y.jsx)(Wi.Provider,{value:c,children:Object(Y.jsx)(Bt.TabView,{renderTabBar:s,navigationState:u,renderScene:eb,onIndexChange:f,onSwipeStart:b,onSwipeEnd:j,swipeEnabled:a,initialLayout:p,animationEnabled:!1})})})),nb=new(n(1165).default)(null);function rb(e){var t=e.routeName,n=Object(je.default)().top,r=Object(j.default)()&&!1;return Object(w.useFocusEffect)(Object(i.useCallback)((function(){r&&nb.update(Object(Y.jsx)(Pe.PortalEntry,{target:t+"-portal",children:Object(Y.jsx)(tb,{routeName:t})}))}),[t,r])),Object(Y.jsx)(N.default,{flex:1,mt:n+"px",children:r?Object(Y.jsx)(Pe.PortalExit,{name:t+"-portal"},t+"-portal"):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Lf,{marketTopTabName:t}),t===b.TabRoutes.Swap?Object(Y.jsx)(If,{hideBottomTabBar:!0}):Object(Y.jsx)(Jf,{})]})})}function ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ab(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ob(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ib=b.TabRoutes.Market,cb=ab(ab({},Ce[ib]),{},{component:Jt(on((function(){return Object(Y.jsx)(rb,{routeName:b.TabRoutes.Market})}),{rootTabName:ib,freezeWhenBlur:!d.default.isNativeAndroid}),ib),children:[{name:b.HomeRoutes.MarketDetail,component:bd,alwaysShowBackButton:!0}]}),lb=function(e){var t=e.title,n=e.description,r=e.isChecked,o=e.onChange;return Object(Y.jsxs)(Oe.default,{space:3,children:[Object(Y.jsxs)(vt.default,{alignItems:"center",justifyContent:"space-between",children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:t}),Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:r,onToggle:o})]}),Object(Y.jsx)(ve.default,{typography:"Caption",children:n})]})};var sb=Object(i.memo)((function(){var e,t=Object(y.default)(),n=Object(H.useNavigation)(),r=Object(Xt.default)().themeVariant,o=null==(e=Object(H.useAppSelector)((function(e){var t;return null==(t=e.settings.advancedSettings)?void 0:t.useDustUtxo})))||e,a=Object(i.useCallback)((function(){W.default.dispatch(Object(cc.setAdvancedSettings)({useDustUtxo:!o}))}),[o]);return Object(i.useLayoutEffect)((function(){var e=t.formatMessage({id:"form__advanced"});n.setOptions({title:e})}),[n,t]),Object(Y.jsx)(pe.default,{w:"full",h:"full",bg:"background-default",maxW:768,mx:"auto",p:4,children:Object(Y.jsxs)(Oe.default,{space:3,children:[Object(Y.jsx)(ve.default,{typography:"Subheading",color:"text-subdued",children:"BITCOIN, LITECOIN, BITCOIN CASH, DOGECOIN"}),Object(Y.jsx)(Oe.default,{space:5,bg:"surface-default",borderRadius:"12",p:4,borderWidth:"light"===r?1:void 0,borderColor:"border-subdued",children:Object(Y.jsx)(lb,{title:t.formatMessage({id:"form__spend_dust_utxo"}),description:t.formatMessage({id:"content__after_enable_use_btc_utxo_will_increase_tx_fee_and_reduce_anonymity_and_privacy_its_recommend_to_disable_dust_utxo"}),isChecked:o,onChange:a})})]})})}));function ub(){return(ub=In()((function*(){return Promise.resolve(!0)}))).apply(this,arguments)}n(4312);var db=function(e){var t=e.title,n=e.onPress,r=e.desc;return Object(Y.jsx)(qt.default,{onPress:n,children:Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:t,description:r}})})},fb=function(){var e=Object(y.default)(),t=Object(H.useNavigation)();Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__clear_cache"});t.setOptions({title:n})}),[t,e]);var n=Object(i.useCallback)((function(){(function(){return ub.apply(this,arguments)})().then((function(){Kt.default.show({title:e.formatMessage({id:"msg__cleared"})})}))}),[e,t]);return Object(Y.jsx)(N.default,{mt:{base:0,md:4},w:"full",h:"full",bg:"background-default",p:"8px",maxW:768,mx:"auto",children:Object(Y.jsx)(N.default,{children:Object(Y.jsxs)(Oe.default,{w:"full",space:"16px",children:[Object(Y.jsx)(db,{onPress:function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ClearCache,params:{screen:b.ClearCacheModalRoutes.ClearCacheModal,params:void 0}})},title:e.formatMessage({id:"action__clear_all_cache_on_app"}),desc:e.formatMessage({id:"action__clear_all_cache_on_app_desc"})}),Object(Y.jsx)(db,{onPress:n,title:e.formatMessage({id:"action__clear_cache_of_web_browser"}),desc:e.formatMessage({id:"action__clear_cache_of_web_browser_desc"})})]})})})},bb=n(3986),jb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Zt.default)().locale,r=Object(i.useState)(""),o=x()(r,2),a=o[0],c=o[1],l=Object(ae.useActiveWalletAccount)().wallet,s=Object(i.useState)(!1),u=x()(s,2),d=u[0],f=u[1],j=Object(i.useState)(!1),p=x()(j,2),O=p[0],m=p[1],h=Object(i.useState)(null),g=x()(h,2),v=g[0],k=g[1],_=Object(i.useState)(""),C=x()(_,2),S=C[0],I=C[1],P=Object(i.useState)(null),A=x()(P,2),T=A[0],D=A[1],R=Object(i.useState)([]),E=x()(R,2),B=E[0],L=E[1];Object(i.useEffect)((function(){c("https://lite.onekey.so/?language="+n)}),[n]),Object(i.useEffect)((function(){l&&W.default.engine.getWallets().then((function(e){return L(e.filter((function(e){return"hd"===e.type})))}))}),[l]);var H=Object(i.useMemo)((function(){var t=[];return t.push({label:e.formatMessage({id:"action__restore_with_onekey_lite"}),value:"restore",iconProps:{name:"SaveAsOutline"}}),t.push({label:e.formatMessage({id:"action__change_pin"}),value:"change_pin",iconProps:{name:"PencilAltOutline"}}),t.push({label:e.formatMessage({id:"action__reset_onekey_lite"}),value:"reset",iconProps:{name:"TrashOutline",color:"icon-critical"},color:"icon-critical"}),t}),[e]),z=Object(i.useCallback)((function(){return Object(Y.jsx)(K.default,{dropdownPosition:"right",title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),onChange:function(e){T!==e&&D(e)},footer:null,activatable:!1,triggerProps:{width:"40px"},dropdownProps:{width:248},options:H,renderTrigger:function(){return Object(Y.jsx)(N.default,{mr:"android"!==M.default.OS?4:0,alignItems:"flex-end",children:Object(Y.jsx)(ee.default,{name:"DotsHorizontalOutline"})})}})}),[e,H,T]);Object(i.useEffect)((function(){t.setOptions({title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),headerRight:function(){return z()}})}),[e,H,t]);var F=function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.CreateWallet,params:{screen:b.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal}})};Object(i.useEffect)((function(){switch(T){case"restore":F(),D(null);break;case"change_pin":t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.OnekeyLiteChangePinInputPin,params:{screen:b.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinInputPinModal}}),D(null);break;case"reset":m(!0),D(null)}}),[T]),Object(i.useEffect)((function(){"RESET"===S.toUpperCase()?k(!0):0===S.trim().length?k(null):k(!1)}),[S]);var U=Object(i.useMemo)((function(){return B.length?Object(Y.jsx)(re.default,{onPress:function(){f(!0)},size:"xl",m:4,type:"primary",children:e.formatMessage({id:"action__back_up_to_onekey_lite"})}):Object(Y.jsx)(re.default,{size:"xl",m:4,type:"primary",onPress:function(){F()},children:e.formatMessage({id:"action__restore_with_onekey_lite"})})}),[B.length,e]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(N.default,{flexDirection:"column",flex:1,children:[Object(Y.jsx)(N.default,{flex:1,children:Object(Y.jsx)(bb.default,{src:a})}),Object(Y.jsx)(N.default,{bg:"surface-subdued",pb:"ios"===M.default.OS?4:0,children:U}),Object(Y.jsx)(Dt.default,{visible:O,footerMoreView:Object(Y.jsx)(N.default,{mb:3,children:Object(Y.jsx)(wt.default,{w:"full",value:S,isInvalid:null!=v&&!v,onChangeText:I,placeholder:"RESET"})}),contentProps:{iconType:"danger",title:e.formatMessage({id:"action__reset_onekey_lite"}),content:e.formatMessage({id:"modal__reset_onekey_lite_desc"},{0:"RESET"})},footerButtonProps:{onPrimaryActionPress:function(e){var n=e.onClose;null==n||n(),setTimeout((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.OnekeyLiteReset,params:{screen:b.OnekeyLiteResetModalRoutes.OnekeyLiteResetModal}})}),500)},primaryActionTranslationId:"action__delete",primaryActionProps:{isDisabled:!v,type:"destructive"}},onClose:function(){m(!1),I("")}})]}),Object(Y.jsx)(K.default,{visible:d,onVisibleChange:f,onChange:function(e){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.BackupWallet,params:{screen:b.BackupWalletModalRoutes.BackupWalletLiteModal,params:{walletId:e.id}}})},title:e.formatMessage({id:"title_select_wallet"}),footer:null,activatable:!1,dropdownPosition:"right",containerProps:{zIndex:5},options:B.map((function(t){return{label:t.name,description:e.formatMessage({id:"form__str_accounts"},{count:t.accounts.length.toString()}),value:t}})),renderItem:function(e,t,n){return Object(Y.jsxs)($.default,{onPress:function(){return null==n?void 0:n(e.value,e)},flexDirection:"row",alignItems:"center",height:"68px",paddingLeft:"18px",children:[Object(Y.jsx)(le.default,{walletImage:e.value.type,avatar:e.value.avatar,size:"sm",circular:!0}),Object(Y.jsxs)(N.default,{flexDirection:"column",ml:"12px",children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:e.label}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.description})]})]})},renderTrigger:function(){return Object(Y.jsx)(N.default,{})}})]})},pb=function(e){var t=e.onClose,n=Object(y.default)();return Object(Y.jsxs)(N.default,{px:4,w:"100%",children:[Object(Y.jsx)(ht.default,{emoji:"\ud83d\udd04",title:n.formatMessage({id:"title__re_enable_extension_mannually"}),subTitle:n.formatMessage({id:"title__re_enable_extension_mannually_desc"})}),Object(Y.jsx)(re.default,{mt:4,type:"primary",onPress:function(){window.location.reload(),t()},children:n.formatMessage({id:"action__restart"})})]})};var Ob=Object(i.memo)((function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(Xt.default)().themeVariant,r=Object(j.default)(),o=W.default.dispatch,a=W.default.serviceHardware,c=Object(H.useAppSelector)((function(e){return e.settings.hardwareConnectSrc})),l=Object(i.useCallback)((function(e){o(Object(cc.setHardwareConnectSrc)(e.label)),a.updateSettings({hardwareConnectSrc:e.label}),Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(dt.default,{title:"",closeOverlay:e,showHeader:!1,modalLizeProps:{withHandle:!0,handlePosition:"inside",tapGestureEnabled:!1},children:Object(Y.jsx)(pb,{onClose:e})})}))}),[o,a]);Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__hardware_bridge_sdk_url"});t.setOptions({title:n})}),[e,t]);var s=Object(i.useMemo)((function(){return[{label:Ds.SHORT_ONEKEYSO_URL,description:e.formatMessage({id:"form__default"}),isActive:null==c?void 0:c.includes(Ds.SHORT_ONEKEYSO_URL)},{label:Ds.SHORT_ONEKEYCN_URL,description:e.formatMessage({id:"form__optimized_for_china_mainland_network"}),isActive:null==c?void 0:c.includes(Ds.SHORT_ONEKEYCN_URL)}]}),[e,c]),u=Object(i.useMemo)((function(){if(!r)return"light"===n?1:void 0}),[r,n]),d=Object(i.useMemo)((function(){return r?0:4}),[r]);return Object(Y.jsxs)(pe.default,{w:"full",h:"full",bg:"background-default",maxW:768,mx:"auto",p:4,children:[Object(Y.jsx)(Oe.default,{p:d,space:4,borderRadius:"12",borderWidth:u,borderColor:"border-subdued",children:s.map((function(e){return Object(Y.jsx)($.default,{onPress:function(){l(e)},children:Object(Y.jsxs)(vt.default,{alignItems:"center",justifyContent:"space-between",children:[Object(Y.jsxs)(Oe.default,{children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:e.label}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.description})]}),e.isActive&&Object(Y.jsx)(ee.default,{name:"CheckMini",color:"icon-success",size:20})]})})}))}),Object(Y.jsx)(ve.default,{my:3,typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"form__hardware_bridge_desc"})})]})})),mb=n(1622),xb=n(4033),hb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(j.default)(),r=Object(mb.useHelpLink)({path:"categories/360000170236"}),o=Object(mb.useHelpLink)({path:""}),a=Object(mb.useHelpLink)({path:"articles/360002123856"}),i=[{title:"",options:[{label:e.formatMessage({id:"form__submit_a_request"}),value:"submit_request",iconProps:{name:n?"ChatBubbleBottomCenterTextOutline":"ChatBubbleBottomCenterTextMini"}},{label:e.formatMessage({id:"form__s_request_history"}),value:"history",iconProps:{name:n?"ClockOutline":"ClockMini"}}]},{title:"",options:[{label:e.formatMessage({id:"form__help_support"}),value:"support",iconProps:{name:n?"LifebuoyOutline":"LifebuoyMini"}},{label:e.formatMessage({id:"form__beginner_guide"}),value:"guide",iconProps:{name:n?"MapOutline":"MapMini"}},{label:e.formatMessage({id:"form__hardware_wallet_manuals"}),value:"hardware_wallet",iconProps:{name:n?"BookOpenOutline":"BookOpenMini"}}]},{title:"",options:[{label:e.formatMessage({id:"title__official_website"}),value:"website",iconProps:{name:n?"GlobeAltOutline":"GlobeAltMini"}},{label:e.formatMessage({id:"title__buy_onekey_hardware"}),value:"shop",iconProps:{name:n?"ShoppingBagOutline":"ShoppingBagMini"}},{label:e.formatMessage({id:"title__client_download"}),value:"download",iconProps:{name:n?"ArrowDownTrayOutline":"ArrowDownTrayMini"}}]}];return Object(Y.jsx)(K.default,{title:n?e.formatMessage({id:"title__help"}):void 0,dropdownPosition:"top-right",dropdownProps:n?{}:{minW:"240px",height:"320px"},positionTranslateY:-4,headerShown:!1,options:i,isTriggerPlain:!0,footer:null,activatable:!1,onChange:function(n){setTimeout((function(){switch(n){case"submit_request":d.default.isExtensionUiPopup?(W.default.serviceApp.openExtensionExpandTab({routes:[b.RootRoutes.Modal,b.ModalRoutes.SubmitRequest],params:{screen:b.SubmitRequestModalRoutes.SubmitRequestModal}}),setTimeout((function(){window.close()}),300)):t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.SubmitRequest,params:{screen:b.SubmitRequestModalRoutes.SubmitRequestModal}});break;case"guide":Object(Fn.openUrlByWebview)(r,e.formatMessage({id:"form__beginner_guide"}));break;case"support":Object(Fn.openUrlByWebview)(o,e.formatMessage({id:"form__help_support"}));break;case"hardware_wallet":Object(Fn.openUrlByWebview)(a,e.formatMessage({id:"form__hardware_wallet_manuals"}));break;case"history":t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.HistoryRequest,params:{screen:xb.HistoryRequestRoutes.HistoryRequestModal}});break;case"website":Object(Fn.openUrlByWebview)("https://help.onekey.so/hc/",e.formatMessage({id:"title__official_website"}));break;case"shop":Object(Fn.openUrlByWebview)("https://shop.onekey.so/",e.formatMessage({id:"title__buy_onekey_hardware"}));break;case"download":Object(Fn.openUrlByWebview)("https://onekey.so/download",e.formatMessage({id:"title__client_download"}))}}),200)},renderTrigger:function(){return Object(Y.jsx)(T.default,{width:"50px",height:"50px",bg:"action-secondary-default",borderRadius:"25px",borderWidth:"1px",borderColor:"border-default",children:Object(Y.jsx)(ee.default,{size:24,name:"QuestionMarkCircleMini"})})}})},gb=function(){var e=Object(y.default)(),t=d.default.isNativeAndroidGooglePlay||d.default.isNativeIOS,n=Object(i.useCallback)((function(){}),[e]);return t?Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:n,children:[Object(Y.jsx)(ee.default,{name:"StarOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"form__rate_our_app"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):null},vb=n(1351),yb=function(){var e,t=Object(y.default)(),n=W.default.dispatch,r=Object(ae.useAutoUpdate)(),o=r.state,a=r.progress,c=r.latest,l=(null!=(e=Object(ae.useSettings)().updateSetting)?e:{}).autoDownload,s=void 0===l||l,u=Object(i.useState)(!0),f=x()(u,2),b=f[0],j=(f[1],Object(i.useCallback)((function(){var e;null==(e=vb.default.checkUpdate(!0))||e.then((function(e){e||Kt.default.show({title:t.formatMessage({id:"msg__using_latest_release"})})})).catch((function(){})).finally((function(){}))}),[t]));Object(i.useEffect)((function(){}),[o,c]);var p=Object(i.useCallback)((function(){var e;return null==(e=window.desktopApi)||null==e.downloadUpdate?void 0:e.downloadUpdate()}),[]),O=Object(i.useCallback)((function(){var e;return null==(e=window.desktopApi)||null==e.installUpdate?void 0:e.installUpdate()}),[]),m=Object(i.useMemo)((function(){return null}),[o,j,t,b,c,p,O,a.percent]);return d.default.isAppleStoreEnv?null:Object(Y.jsxs)(Y.Fragment,{children:[m,d.default.supportAutoUpdate&&Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[Object(Y.jsx)(ee.default,{name:"ArrowDownTrayOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__download_when_available"})}),Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:s,onToggle:function(){return n(Object(cc.setUpdateSetting)({autoDownload:!s}))}})]})]})},wb=function(){var e,t=Object(y.default)(),n=W.default.dispatch,r=Object(Xt.default)().themeVariant,o=Object(mb.useHelpLink)({path:"articles/360002014776"}),a=Object(mb.useHelpLink)({path:"articles/360002003315"}),c=Object(ae.useSettings)(),l=0,s=Object(i.useCallback)((function(e){Object(to.copyToClipboard)(e),Kt.default.show({title:t.formatMessage({id:"msg__copied"})})}),[t]);return Object(Y.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Y.jsx)(N.default,{pb:"2",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__about_uppercase"})})}),Object(Y.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===r?1:void 0,borderColor:"border-subdued",children:[Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){!function(){var t=new Date;void 0===e||Math.round(t.getTime()-e.getTime())>5e3?(e=t,l=0):l+=1,l>=9&&n(Object(cc.setDevMode)(!0))}(),s(c.version+(c.buildNumber?"-"+c.buildNumber:""))},children:[Object(Y.jsx)(ee.default,{name:"HashtagOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,_web:{style:{WebkitUserSelect:"none",userSelect:"none"}},children:t.formatMessage({id:"form__version"})}),Object(Y.jsxs)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:[c.version,c.buildNumber?"-"+c.buildNumber:""]})]}),Object(Y.jsx)(yb,{}),Object(Y.jsx)(gb,{}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(Fn.openUrlByWebview)(o,t.formatMessage({id:"form__user_agreement"}))},children:[Object(Y.jsx)(ee.default,{name:"UserCircleOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__user_agreement"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(Fn.openUrlByWebview)(a,t.formatMessage({id:"form__privacy_policy"}))},children:[Object(Y.jsx)(ee.default,{name:"EllipsisHorizontalCircleOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__privacy_policy"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(Fn.openUrlByWebview)("https://www.onekey.so",t.formatMessage({id:"form__website"}))},children:[Object(Y.jsx)(ee.default,{name:"GlobeAltOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__website"})}),Object(Y.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return Object(Fn.openUrlExternal)("https://www.discord.gg/onekey")},children:[Object(Y.jsx)(ee.default,{name:"DiscordOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:"Discord"}),Object(Y.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){return Object(Fn.openUrlExternal)("https://www.twitter.com/onekeyhq")},children:[Object(Y.jsx)(ee.default,{name:"TwitterOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:"Twitter"}),Object(Y.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]})]})]})},kb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Xt.default)().themeVariant;return Object(Y.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Y.jsx)(N.default,{pb:"2",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__advanced__uppercase",defaultMessage:"ADVANCED"})})}),Object(Y.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.AdvancedSettings)},children:[Object(Y.jsx)(ee.default,{name:"CircleStackOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__crypto_settings"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},_b=n(1079),Cb=n(4321),Sb=n(334),Ib=n(393),Pb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(kn.default)(),r=Object(kn.default)(),o=Object(Xt.default)().themeVariant,a=Object(Cb.useAddressBook)().showAddressBookModal;return Object(Y.jsx)(N.default,{w:"full",mb:"6",children:Object(Y.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===o?1:void 0,borderColor:"border-subdued",children:[Ib.MigrationEnable&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){r.navigate(b.RootRoutes.Onboarding,{screen:Sb.EOnboardingRoutes.Migration,params:{}})},children:[Object(Y.jsx)(ee.default,{name:"ArrowPathRoundedSquareOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__migration"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Y.jsx)(xt.default,{})]}),_b.default&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.ScreenOnekeyLiteDetail)},children:[Object(Y.jsx)(ee.default,{name:"OnekeyLiteOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"app__hardware_name_onekey_lite"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Y.jsx)(xt.default,{})]}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.RootRoutes.Onboarding,{screen:Sb.EOnboardingRoutes.KeyTag})},children:[Object(Y.jsx)(ee.default,{name:"KeytagOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__onekey_keytag"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Y.jsx)(xt.default,{}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){a()},children:[Object(Y.jsx)(ee.default,{name:"BookOpenOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__address_book"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]})})},Mb=n(5263),Ab=n(2682),Tb=function(){var e=In()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),Db=function(){var e=Object(y.default)(),t=Object(Xt.default)().themeVariant,n=Object(w.useNavigation)(),r=Object(i.useCallback)((function(){return"log-"+(new Date).toISOString().replace(/[-:.]/g,"")+".txt"}),[]),o=Object(i.useCallback)(In()((function*(){var e=r(),t=document.createElement("a"),n=yield W.default.serviceApp.getLoggerInstance(),o=new Blob(n,{type:"text/plain",endings:"native"});t.href=URL.createObjectURL(o),t.download=e,document.body.appendChild(t),t.click()})),[r]),a=Object(i.useCallback)(In()((function*(){var e=(null!=Ab.cacheDirectory?Ab.cacheDirectory:"")+"log.txt",t=r(),n=yield Tb();n&&n.open({url:e,title:t,filename:t}).catch((function(){}))})),[r]),c=Object(i.useCallback)((function(){o()}),[o,a]),l=Object(i.useCallback)((function(){Object(to.copyToClipboard)("hi@onekey.so"),Kt.default.show({title:e.formatMessage({id:"msg__copied"})})}),[e]);return Object(Y.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Y.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:c,children:[Object(Y.jsx)(ee.default,{name:"DocumentTextOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"content__state_logs"})}),Object(Y.jsx)(ve.default,{mr:"4",typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:e.formatMessage({id:"action__export"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ArrowDownTrayOutline",color:"icon-subdued",size:20})})]})}),Object(Y.jsx)($.default,{onPress:l,children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",mt:"2",children:e.formatMessage({id:"content__state_logs_desc"},{0:"hi@onekey.so"})})}),Object(Y.jsx)(N.default,{mt:"24px",borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.HomeRoutes.ClearCache)},children:[Object(Y.jsx)(ee.default,{name:"FolderMinusOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"action__clear_cache"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},Rb=n(726);function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nb(e){var t,n,r=e.title,o=e.activeOption,a=e.hideDivider,i=e.iconName,c=a?void 0:{borderBottomWidth:"1",borderBottomColor:"divider"};return Object(Y.jsxs)(N.default,Bb(Bb({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:{base:4,md:6},py:4},c),{},{children:[i&&Object(Y.jsx)(ee.default,{name:i}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:r}),Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(ve.default,{mr:1,typography:{sm:"Body1Strong",md:"Body2Strong"},children:null!=(t=o.label)?t:"-"}),o.description&&Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:null!=(n=o.description)?n:"-"})]}),Object(Y.jsx)(ee.default,{name:"ChevronDownMini",color:"icon-subdued",size:20})]})]}))}var Lb=n(4311),Wb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(w.useNavigation)(),r=W.default.dispatch,o=W.default.serviceNotification,a=Object(ae.useSettings)(),c=a.theme,l=a.locale,s=a.selectedFiatMoneySymbol,u=Object(Xt.default)().themeVariant,d=Object(i.useMemo)((function(){return[{label:e.formatMessage({id:"form__auto",defaultMessage:"System"}),value:"system"}].concat(Rb.LOCALES_OPTION)}),[e]);return Object(Y.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Y.jsx)(N.default,{pb:2,children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__general_uppercase",defaultMessage:"GENERAL"})})}),Object(Y.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===u?1:void 0,borderColor:"border-subdued",children:Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsx)(K.default,{title:e.formatMessage({id:"form__theme",defaultMessage:"Theme"}),isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:c,onChange:function(e){r(Object(cc.setTheme)(e))},options:[{label:e.formatMessage({id:"form__auto",defaultMessage:"System"}),value:"system"},{label:e.formatMessage({id:"form__light",defaultMessage:"Light"}),value:"light"},{label:e.formatMessage({id:"form__dark",defaultMessage:"Dark"}),value:"dark"}],dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return Object(Y.jsx)(Nb,{title:e.formatMessage({id:"form__theme",defaultMessage:"Theme"}),activeOption:n,iconName:"SunOutline"})}})}),Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsx)(K.default,{title:e.formatMessage({id:"form__language",defaultMessage:"Language"}),isTriggerPlain:!0,footer:null,defaultValue:l,headerShown:!1,onChange:function(e){r(Object(cc.setLocale)(e)),o.syncPushNotificationConfig()},options:d,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return Object(Y.jsx)(Nb,{title:e.formatMessage({id:"form__language",defaultMessage:"Language"}),activeOption:n,iconName:"LanguageOutline"})}})}),Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.CurrencySelect,params:{screen:Lb.CurrencySelectModal.CurrencySelectHome}})},children:[Object(Y.jsx)(ee.default,{name:"CurrencyDollarOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__fiat_currency"})}),Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(te.default.Body1Strong,{mr:1,children:s.toLocaleUpperCase()}),Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})]})}),Hi.supportedHaptics?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(xt.default,{}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.VolumeHaptic)},children:[Object(Y.jsx)(ee.default,{name:"SpeakerWaveOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__sound_n_vibration"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]}):null]})})]})},Hb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Xt.default)().themeVariant,r=Object(H.useAppSelector)((function(e){return e.settings.hardwareConnectSrc}));return Object(i.useMemo)((function(){return!0}),[])?Object(Y.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Y.jsx)(N.default,{pb:"2",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__hardware_bridge",defaultMessage:"HARDWARE BRIDGE"})})}),Object(Y.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:[Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:"1",borderBottomColor:"divider",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.HardwareBridgeSettings)},children:[Object(Y.jsx)(ee.default,{name:"FolderMinusOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__hardware_bridge_sdk_url"})}),Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:r}),Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})]}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){Object(Fn.openUrlExternal)("http://127.0.0.1:21320/status/")},children:[Object(Y.jsx)(ee.default,{name:"DocumentArrowDownOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__hardware_bridge_status"})}),Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",children:Object(Y.jsx)(ee.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})})]})]})]}):null},zb=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(Xt.default)().themeVariant;return Object(Y.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Y.jsx)(N.default,{pb:"2",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__alert_uppercase",defaultMessage:"ALERT"})})}),Object(Y.jsx)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(b.HomeRoutes.PushNotification)},children:[Object(Y.jsx)(ee.default,{name:"BellOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__notification"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},Fb=n(1621),Ub=n(1452),Vb=n(4287),Gb=n(4295),qb=n(2279),Kb=function(e){var t=e.onConfirm,n=e.onClose,r=Object(j.default)(),o=Object(y.default)(),a=Object(i.useState)(""),c=x()(a,2),l=c[0],s=c[1],u=Object(i.useState)(!1),d=x()(u,2),f=d[0],b=d[1];return Object(Y.jsx)(Dt.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__delete",primaryActionProps:{type:"destructive",isDisabled:"RESET"!==l.toUpperCase(),isLoading:f},onPrimaryActionPress:function(){b(!0),t(),setTimeout((function(){b(!1),null==n||n()}),600)},onSecondaryActionPress:n},contentProps:{iconType:"danger",title:o.formatMessage({id:"form__reset_app",defaultMessage:"Reset App"}),content:o.formatMessage({id:"modal__reset_app_desc"},{0:"RESET"}),input:Object(Y.jsx)(N.default,{w:"full",mt:"4",children:Object(Y.jsx)(wt.default,{w:"full",value:l,size:r?"xl":"default",onChangeText:function(e){return s(e.trim())},placeholder:"RESET"})})}})},Zb=function(){var e=Object(y.default)(),t=Object(i.useCallback)((function(){Object(Tn.showDialog)(Object(Y.jsx)(Kb,{onConfirm:function(){Object(qb.showSplashScreen)(),W.default.serviceApp.resetApp()}}))}),[]),n=Object(i.useCallback)((function(){Object(Tn.showOverlay)((function(n){return Object(Y.jsx)(Dt.default,{visible:!0,onClose:n,footerButtonProps:{hideSecondaryAction:!0,onPrimaryActionPress:function(){n(),setTimeout(t,500)},primaryActionTranslationId:"action__i_got_it",primaryActionProps:{type:"primary"}},contentProps:{iconType:"info",title:e.formatMessage({id:"modal__back_up_your_wallet",defaultMessage:"Back Up Your Wallet"}),content:e.formatMessage({id:"modal__back_up_your_wallet_desc",defaultMessage:"Before resetting the App, make sure you've backed up all of your wallets."})}})}))}),[e,t]),r=Object(i.useCallback)(In()((function*(){0===(yield W.default.engine.getWallets()).filter((function(e){return!e.backuped})).length?t():n()})),[n,t]);return Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:r,children:[Object(Y.jsx)(ee.default,{name:"RestoreOutline",color:"icon-critical"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-critical",flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__reset_app",defaultMessage:"Reset App"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})},Xb=function(){var e=Object(y.default)(),t=W.default.dispatch,n=W.default.serviceCloudBackup,r=Object(i.useState)(!1),o=x()(r,2),a=o[0],c=o[1];Object(i.useEffect)((function(){Ub.isSupportedPlatform&&Ub.isContextSupportWebAuthn&&Object(Ub.isMac)()&&Object(Ub.isUserVerifyingPlatformAuthenticatorAvailable)().then((function(e){return c(e)}))}),[]);var l=Object(ae.useAppSelector)((function(e){return e.settings.enableWebAuthn})),s=Object(ae.useAppSelector)((function(e){return e.settings.enableAppLock})),u=Object(ae.useAppSelector)((function(e){return e.settings.appLockDuration})),f=Object(ae.useAppSelector)((function(e){return e.settings.enableLocalAuthentication})),j=Object(ae.useAppSelector)((function(e){return e.data.isPasswordSet})),p=Object(ae.useAppSelector)((function(e){return e.status.authenticationType})),O=Object(Fb.useLocalAuthentication)().isOk,m=Object(w.useNavigation)(),h=Object(Xt.default)().themeVariant,g=Object(i.useMemo)((function(){return[{label:e.formatMessage({id:"form__always"}),value:0},{label:e.formatMessage({id:"form__str_minute"},{0:1}),value:1},{label:e.formatMessage({id:"form__str_minute"},{0:5}),value:5},{label:e.formatMessage({id:"form__str_minute"},{0:30}),value:30},{label:e.formatMessage({id:"form__str_hour"},{0:1}),value:60},{label:e.formatMessage({id:"form__str_hour"},{0:4}),value:240}]}),[e]),v=Object(i.useCallback)((function(e){t(Object(cc.setAppLockDuration)(e))}),[t]),k=Object(i.useCallback)((function(){t(Object(cc.setEnableAppLock)(!s))}),[s,t]),_=Math.min(240,u),C=d.default.isNativeIOS||d.default.isNativeAndroidGooglePlay;return Object(Y.jsxs)(N.default,{w:"full",mb:"6",children:[Object(Y.jsx)(N.default,{pb:"2",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__security_uppercase",defaultMessage:"SECURITY"})})}),Object(Y.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===h?1:void 0,borderColor:"border-subdued",children:[C?Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){n.loginIfNeeded(!1).then((function(t){t?m.navigate(b.HomeRoutes.CloudBackup):n.loginIfNeeded(!0).then((function(e){e&&m.navigate(b.HomeRoutes.CloudBackup)})).catch((function(t){"NETWORK"===t.message&&Kt.default.show({title:e.formatMessage({id:"title__no_connection_desc"})},{type:"error"})}))}))},children:[Object(Y.jsx)(ee.default,{name:"CloudOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__backup"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):void 0,Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){m.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Password,params:{screen:Gb.PasswordRoutes.PasswordRoutes}})},children:[Object(Y.jsx)(ee.default,{name:"KeyOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:j?"form__change_password":"title__set_password"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),a&&Ub.isContextSupportWebAuthn?Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){},children:[Object(Y.jsx)(ee.default,{name:"FingerPrintOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__touch_id"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:l,onToggle:function(){m.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.EnableLocalAuthentication,params:{screen:Vb.EnableLocalAuthenticationRoutes.EnableWebAuthn}})}})})]}):void 0,O&&j?Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[Object(Y.jsx)(ee.default,{name:"FACIAL"===p?"FaceIdOutline":"FingerPrintOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:"FACIAL"===p?e.formatMessage({id:"content__face_id"}):e.formatMessage({id:"content__touch_id"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:f,onToggle:function(){m.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.EnableLocalAuthentication,params:{screen:Vb.EnableLocalAuthenticationRoutes.EnableLocalAuthenticationModal}})}})})]}):null,j?Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[Object(Y.jsx)(ee.default,{name:"LockClosedOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__app_lock",defaultMessage:"App Lock"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:s,onToggle:k})})]}):null,s?Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsx)(K.default,{title:e.formatMessage({id:"form__app_lock_timer",defaultMessage:"Auto-Lock Timer"}),isTriggerPlain:!0,footer:null,value:_,defaultValue:_,headerShown:!1,options:g,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return Object(Y.jsx)(Nb,{title:e.formatMessage({id:"form__app_lock_timer",defaultMessage:"Auto-Lock Timer"}),activeOption:n,iconName:"ClockOutline"})},onChange:v})}):null,Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){m.navigate(b.HomeRoutes.Protected)},children:[Object(Y.jsx)(ee.default,{name:"ShieldCheckOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__protection"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Y.jsx)(Zb,{})]})]})},Yb=n(1067),Qb=n(4292),Jb=function(){var e=Object(y.default)(),t=Object(Xt.default)().themeVariant,n=Object(w.useNavigation)(),r=(Object(w.useNavigation)(),Object(H.useAppSelector)((function(e){return e.data.isPasswordSet}))),o=Object(i.useCallback)((function(){W.default.serviceApp.lock(!0)}),[]);return Object(Y.jsx)(N.default,{w:"full",mb:"6",children:Object(Y.jsxs)(N.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:[null,r?Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:o,children:[Object(Y.jsx)(ee.default,{name:"LockClosedOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__lock_now"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):null,d.default.isExtensionUiPopup?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(xt.default,{}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){W.default.serviceApp.openExtensionExpandTab({routes:""})},children:[Object(Y.jsx)(ee.default,{name:"ArrowsPointingOutOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__expand_view"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]}):null,Object(Y.jsx)(xt.default,{}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){Object(Yb.gotoScanQrcode)()},children:[Object(Y.jsx)(ee.default,{name:"ViewfinderCircleOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__scan_qr_code"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),Object(Y.jsx)(xt.default,{}),Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.ManageConnectedSites,params:{screen:Qb.ManageConnectedSitesRoutes.ManageConnectedSitesModel}})},children:[Object(Y.jsx)(ee.default,{name:"LinkOutline"}),Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__connected_sites",defaultMessage:"Connected Sites"})}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]})})},$b=function(e){var t=(Object(ae.useSettings)().devMode||{}).enable,n=Object(je.default)();return Object(Y.jsxs)(N.default,{bg:"background-default",flex:"1",children:[Object(Y.jsx)(pe.default,{px:4,py:{base:6,md:8},bg:"background-default",children:Object(Y.jsxs)(N.default,{w:"full",maxW:768,mx:"auto",pb:n.bottom+"px",children:[Object(Y.jsx)(Jb,{}),Object(Y.jsx)(Pb,{}),Object(Y.jsx)(Wb,{}),Object(Y.jsx)(Xb,{}),Object(Y.jsx)(zb,{}),Object(Y.jsx)(kb,{}),Object(Y.jsx)(wb,{}),Object(Y.jsx)(Hb,{}),Object(Y.jsx)(Db,{}),t?Object(Y.jsx)(Mb.DevSettingSection,{}):null]})}),Object(Y.jsx)(N.default,{position:"absolute",bottom:{base:4,md:8},right:{base:4,md:8},children:Object(Y.jsx)(hb,{})})]})},ej=function(e){var t=e.title,n=e.onToggle,r=e.divider,o=e.isChecked;return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",children:[Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mr:"3",children:t}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:o,onToggle:n},null==o||null==o.toString?void 0:o.toString())})]})},tj=Object(i.memo)((function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(ae.useStatus)().authenticationType,r=Object(ae.useSettings)().enableHaptics,o=void 0===r?Hi.defaultHapticStatus:r,a=Object(Xt.default)().themeVariant,c=W.default.dispatch;return Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__sound_n_vibration"});t.setOptions({title:n})}),[t,e,n]),Object(Y.jsx)(N.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsx)(N.default,{mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===a?1:void 0,borderColor:"border-subdued",children:Object(Y.jsx)(ej,{title:e.formatMessage({id:"form__vibrate"}),isChecked:o,onToggle:function(){c(Object(cc.setEnableHaptics)(!o))}})})})})})),nj=n(493),rj=n(4131),oj=n(4030),aj=function(){var e=Object(y.default)();return Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",py:"4",children:[Object(Y.jsx)(T.default,{rounded:"full",size:"12",bgColor:"surface-neutral-subdued",children:Object(Y.jsx)(It.default,{})}),Object(Y.jsxs)(N.default,{pl:"1",children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:e.formatMessage({id:"content__uploading_encrypted_backup"})}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__uploading_encrypted_backup_desc"})})]})]})},ij=function(e){var t=e.lastBackup,n=e.inProgress,r=Object(y.default)(),o=Object(Ar.default)(),a=W.default.serviceCloudBackup,c=Object(i.useCallback)((function(){Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(Dt.default,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__disable",secondaryActionTranslationId:"action__dismiss",primaryActionProps:{type:"destructive",onPromise:function(){var t=In()((function*(){yield a.disableService(),e()}));return function(){return t.apply(this,arguments)}}()}},contentProps:{iconName:"CloudOutline",iconType:"success",title:r.formatMessage({id:"dialog__your_wallets_are_backed_up"}),content:r.formatMessage({id:"dialog__your_wallets_are_backed_up_desc"},{cloudName:Object(nj.backupPlatform)().cloudName,platform:Object(nj.backupPlatform)().platform})+"\n\n"+r.formatMessage({id:"dialog__your_wallets_are_backed_up_desc_2"},{cloudName:Object(nj.backupPlatform)().cloudName})}})}))}),[r,a]);return n?Object(Y.jsx)(aj,{}):Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(rj.default,{enabled:!0}),Object(Y.jsxs)(N.default,{px:"16px",flex:"1",justifyContent:"center",children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:r.formatMessage({id:"content__backup_enabled"})}),t>0?Object(Y.jsx)(ve.default,{mt:1,typography:"Body2",color:"text-subdued",children:o.format(new Date(t),"MMM d, yyyy, HH:mm:ss")}):void 0]}),Object(Y.jsx)(yt.default,{type:"plain",size:"lg",name:"EllipsisVerticalOutline",circle:!0,onPress:c})]})},cj=function(){var e=Object(y.default)(),t=Object(j.default)(),n=W.default.serviceCloudBackup;return Object(Y.jsxs)(N.default,{flexDirection:t?"column":"row",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flex:1,children:[Object(Y.jsx)(rj.default,{enabled:!1}),Object(Y.jsxs)(N.default,{pl:"2",flex:"1",children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",children:e.formatMessage({id:"content__backup_disabled"})}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__backup_disabled_desc"},{cloudName:Object(nj.backupPlatform)().cloudName})})]})]}),Object(Y.jsx)(re.default,{onPress:function(){n.enableService()},mt:{base:6,sm:0},size:t?"xl":"base",alignSelf:"center",w:{base:"full",sm:"auto"},children:e.formatMessage({id:"action__backup_to_icloud"},{cloudName:Object(nj.backupPlatform)().cloudName})})]})},lj=function(){var e=Object(y.default)(),t=Object(H.useNavigation)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",pb:2,mt:6,children:e.formatMessage({id:"content__previous_backups_desc"})}),Object(Y.jsx)(N.default,{mt:"1",borderRadius:"12",background:"surface-default",borderWidth:1,borderColor:"border-subdued",children:Object(Y.jsxs)($.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:4,py:4,onPress:function(){t.navigate(b.HomeRoutes.CloudBackupPreviousBackups)},children:[Object(Y.jsx)(ee.default,{name:"ClockOutline",size:24}),Object(Y.jsx)(ve.default,{typography:"Body1Strong",flex:"1",numberOfLines:1,px:"3",children:e.formatMessage({id:"content__previous_backups"})}),Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})},sj=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=W.default.serviceCloudBackup;Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__backup"});t.setOptions({title:n})}),[t,e]);var r=Object(ae.useAppSelector)((function(e){return e.cloudBackup})),o=r.isAvailable,a=r.enabled,c=r.inProgress,l=r.lastBackup,s=void 0===l?0:l,u=Object(i.useState)(!1),f=x()(u,2),b=f[0],j=f[1];return Object(i.useEffect)((function(){(function(){var e=In()((function*(){var e=yield n.getBackupStatus();j(e.hasPreviousBackups)}));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(Y.jsxs)(oj.default,{children:[Object(Y.jsx)(ve.default,{typography:"Heading",mb:4,children:Object(nj.backupPlatform)().cloudName}),o?Object(Y.jsxs)(N.default,{children:[a?Object(Y.jsx)(ij,{lastBackup:s,inProgress:c}):Object(Y.jsx)(cj,{}),b?Object(Y.jsx)(G.default,{visible:b,initial:{opacity:0,translateY:-8},animate:{opacity:1,translateY:0,transition:{duration:150}},children:Object(Y.jsx)(lj,{})}):void 0]}):Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-critical",children:e.formatMessage({id:"content__log_in_icloud_to_enable_backup"},{cloudName:Object(nj.backupPlatform)().cloudName})}),Object(Y.jsx)(N.default,{w:"full",py:"6",children:Object(Y.jsx)(N.default,{borderBottomWidth:A.default.hairlineWidth,borderBottomColor:"divider"})}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__wont_backup"},{cloudName:Object(nj.backupPlatform)().cloudName})}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued"}),d.default.isNativeAndroid&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(N.default,{w:"full",children:Object(Y.jsx)(N.default,{borderBottomWidth:A.default.hairlineWidth,borderBottomColor:"divider"})}),Object(Y.jsx)(re.default,{mt:"6",onPress:function(){Object(nj.logoutFromGoogleDrive)(!1).then((function(){t.goBack()}))},size:"xl",children:e.formatMessage({id:"action__logout"})})]})]})},uj=n(4130),dj=n(4270),fj=n(4079),bj=function(e){var t=e.onClose,n=Object(y.default)();return Object(Y.jsxs)(N.default,{px:4,w:"100%",children:[Object(Y.jsx)(ht.default,{emoji:"\ud83d\udd04",title:n.formatMessage({id:"title__refresh_website_to_take_effect"}),subTitle:n.formatMessage({id:"title__refresh_website_to_take_effect_desc"})}),Object(Y.jsx)(re.default,{onPress:function(){W.default.serviceSetting.disableExtSwitchTips(),t()},my:3,children:n.formatMessage({id:"action__dont_show_again"})}),Object(Y.jsx)(re.default,{mb:6,type:"primary",onPress:t,children:n.formatMessage({id:"action__i_got_it"})})]})},jj=n(5265),pj=n.n(jj),Oj=n(5266),mj=n.n(Oj),xj=n(5267),hj=n.n(xj),gj=n(5268),vj=n.n(gj),yj=n(5269),wj=n.n(yj),kj=n(5270),_j=n.n(kj),Cj=n(5271),Sj=n.n(Cj),Ij=n(5272),Pj=n.n(Ij),Mj=n(5273),Aj=n.n(Mj),Tj=n(5274),Dj=n.n(Tj),Rj=n(5275),Ej=n.n(Rj),Bj={"EVM-Metamask":{logo:_j.a,title:"Metamask",propertyKeys:["ethereum"],enable:!0},"COSMOS-Keplr":{logo:wj.a,title:"Keplr",propertyKeys:["keplr","getOfflineSigner","getOfflineSignerOnlyAmino","getOfflineSignerAuto"],enable:!0},"APTOS-Petra":{logo:mj.a,title:"Petra",propertyKeys:["aptos"],enable:!0},"APTOS-Martian":{logo:pj.a,title:"Martian",propertyKeys:["martian"],enable:!1},"SUI-Sui Wallet":{logo:Dj.a,title:"Sui Wallet",propertyKeys:["suiWallet"],enable:!0},"SOLANA-Phantom":{logo:Pj.a,title:"Phantom",propertyKeys:["solana","phantom"],enable:!0},"TRON-TronLink":{logo:Ej.a,title:"TronLink",propertyKeys:["tronLink","tronWeb","sunWeb"],enable:!0},"CARDAND-Nami":{logo:hj.a,title:"Nami",propertyKeys:["cardano"],enable:!0},"STARCOIN-StarMask":{logo:Aj.a,title:"StarMask",propertyKeys:["starcoin"],enable:!0},"CONFLUX-Fluent":{logo:vj.a,title:"Fluent",propertyKeys:["conflux"],enable:!0},"POLKADOT-polkadot-js":{logo:Sj.a,title:"Polkadot.js",propertyKeys:["polkadot-js"],enable:!1}},Nj=n(5276),Lj=n.n(Nj),Wj=n(5277),Hj=n.n(Wj),zj=function(e){var t=e.baseLogoImage,n=e.enable;return Object(Y.jsxs)(N.default,{w:"40px",h:"40px",justifyContent:"center",alignItems:"center",children:[Object(Y.jsx)(bt.default,{source:t,size:8}),Object(Y.jsx)(N.default,{position:"absolute",right:"0",bottom:"0",children:Object(Y.jsx)(bt.default,{src:n?Hj.a:Lj.a,size:4})})]})},Fj=function(e){var t=e.toggleWalletSwitch,n=e.walletId,r=function(e){var t=e.walletId,n=Object(H.useAppSelector)((function(e){return e.settings.walletSwitchData}));return Object(i.useMemo)((function(){return null==n?void 0:n[t]}),[t,n])}({walletId:n}),o=Object(i.useState)(!(null==r||!r.enable)),a=x()(o,2),c=a[0],l=a[1];return r?Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:2,children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(zj,{baseLogoImage:r.logo,enable:c}),Object(Y.jsx)(te.default.Body1Strong,{ml:2,children:r.title})]}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Mt.default,{mr:1,labelType:"false",isChecked:c,onToggle:function(){l(!c),setTimeout((function(){W.default.serviceSetting.toggleWalletSwitchConfig(n,!c),t(n,!c)}),100)}})})]}):null},Uj=function(){var e=Object(H.useNavigation)(),t=Object(H.useAppSelector)((function(e){return e.settings.disableExtSwitchTips})),n=Object(y.default)();Object(i.useEffect)((function(){e.setOptions({title:n.formatMessage({id:"form__wallet_switch"})})}),[n,e]);var r=function(){var e=Object(H.useAppSelector)((function(e){return e.settings.walletSwitchData}));return Object(i.useEffect)((function(){e&&Object.keys(e).length===Object.keys(Bj).length||W.default.serviceSetting.setWalletSwitchConfig(Bj)}),[e]),{walletSwitchSectionData:Object(i.useMemo)((function(){if(e){var t=[];return Object.keys(e).forEach((function(e){var n=e.split("-")[0],r=t.find((function(e){return e.title===n}));r?r.data.push(e):t=[].concat(g()(t),[{title:n,data:[e]}])})),t}return[]}),[e])}}().walletSwitchSectionData,o=Object(i.useCallback)((function(e){var n=e.item;return Object(Y.jsx)(Fj,{toggleWalletSwitch:function(){t||Object(Tn.showOverlay)((function(e){return Object(Y.jsx)(fj.OverlayPanel,{closeOverlay:e,modalProps:{headerShown:!1,hideBackButton:!0},modalLizeProps:{withHandle:!0,handlePosition:"inside",tapGestureEnabled:!1},children:Object(Y.jsx)(bj,{onClose:e})})}))},walletId:n})}),[t]),a=Object(i.useCallback)((function(e){var t=e.section.title;return Object(Y.jsx)(te.default.Subheading,{mt:4,color:"text-subdued",children:t})}),[]),c=Object(i.useMemo)((function(){return Object(Y.jsxs)(N.default,{borderRadius:"12px",bgColor:"surface-neutral-subdued",p:4,flexDirection:"row",mb:2,children:[Object(Y.jsx)(ee.default,{name:"InformationCircleMini"}),Object(Y.jsx)(te.default.Body2Strong,{ml:2,children:n.formatMessage({id:"content__when_the_option_is_turned_on_the_inject_cnonection_method_for_that_wallet_will_be_overridden_by_onekey"})}),Object(Y.jsx)(N.default,{})]})}),[n]);return Object(Y.jsx)(N.default,{flex:1,p:4,children:Object(Y.jsx)(Ct.default,{sections:r,renderItem:o,renderSectionHeader:a,ListHeaderComponent:c})})},Vj=function(e){var t=e.title,n=e.onToggle,r=e.divider,o=e.isChecked;return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",children:[Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mr:"3",children:t}),Object(Y.jsx)(N.default,{children:Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:o,onToggle:n})})]})},Gj=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(ae.useStatus)().authenticationType,r=Object(ae.useSettings)().validationSetting,o=void 0===r?{}:r,a=Object(Xt.default)().themeVariant;Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__protection"});t.setOptions({title:n})}),[t,e,n]);var c=Object(i.useCallback)((function(e,t){W.default.dispatch(Object(cc.setValidationState)({key:e,value:t}))}),[]);return Object(Y.jsx)(N.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(te.default.Caption,{mt:"2",color:"text-subdued",children:e.formatMessage({id:"content__password_required_even_unlocked"})}),Object(Y.jsx)(N.default,{w:"full",mt:"6",children:Object(Y.jsxs)(N.default,{mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===a?1:void 0,borderColor:"border-subdued",children:[Object(Y.jsx)(Vj,{title:e.formatMessage({id:"form__create_transactions"}),isChecked:o.Payment,divider:!0,onToggle:function(){return c(Es.ValidationFields.Payment,!o.Payment)}}),Object(Y.jsx)(Vj,{title:e.formatMessage({id:"form__create_delete_wallets"}),isChecked:o.Wallet,divider:!0,onToggle:function(){return c(Es.ValidationFields.Wallet,!o.Wallet)}}),Object(Y.jsx)(Vj,{title:e.formatMessage({id:"form__create_delete_accounts"}),isChecked:o.Account,onToggle:function(){return c(Es.ValidationFields.Account,!o.Account)}}),Object(Y.jsx)(Wt.default,{children:Object(Y.jsx)(Vj,{title:e.formatMessage({id:"form__view_recovery_phrase_private_key"}),isChecked:o.Secret,onToggle:function(){return c(Es.ValidationFields.Secret,!o.Secret)}})})]})})]})})};function qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qj(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zj=[5,8,10],Xj=function(e){var t=e.title,n=e.onChange,r=e.value,o=e.desc,a=e.divider;return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:4,borderBottomWidth:a?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:a?void 0:"12px",children:[Object(Y.jsxs)(N.default,{flex:"1",children:[Object(Y.jsx)(ve.default,{typography:"Body1Strong",numberOfLines:1,children:t}),o&&Object(Y.jsx)(ve.default,{color:"text-subdued",typography:"Body2",numberOfLines:2,children:o})]}),Object(Y.jsx)(N.default,{ml:"3",children:Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:r,onToggle:function(){return null==n?void 0:n(!r)}})})]})},Yj=function(e){var t=e.title,n=e.desc;return Object(Y.jsxs)(N.default,{flexDirection:"row",p:"4",children:[Object(Y.jsx)(ve.default,{flex:1,typography:"Body1Strong",children:t}),Object(Y.jsx)(ve.default,{mr:"19px",children:n}),Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})},Qj=function(e){var t=e.title,n=e.desc,r=e.onPress;return Object(Y.jsx)($.default,{onPress:r,children:Object(Y.jsxs)(N.default,{flexDirection:"row",p:"4",children:[Object(Y.jsx)(ve.default,{flex:1,typography:"Body1Strong",children:t}),Object(Y.jsx)(ve.default,{mr:"19px",children:n}),Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})},Jj=function(e){var t=e.title,n=e.value,r=e.onChange,o=e.options;return Object(Y.jsx)(K.default,{title:t,isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:n,onChange:r,options:o,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(){return Object(Y.jsx)(Yj,{title:t,desc:n+"%"})}})},$j=function(e){var t,n=e.title,r=e.switchs,o=e.footer,a=e.extraText,c=Object(Xt.default)().themeVariant,l=r.length;return Object(Y.jsxs)(Y.Fragment,{children:[n&&Object(Y.jsx)(ve.default,{mt:6,color:"text-subdued",children:n}),Object(Y.jsxs)(N.default,{w:"full",mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===c?1:void 0,borderColor:"border-subdued",children:[r.map((function(e,t){return Object(i.createElement)(Xj,Kj(Kj({},e),{},{key:e.title,divider:!!o||t!==l-1}))})),null!=r&&null!=(t=r[0])&&t.value&&o?o:null]}),a&&Object(Y.jsx)(ve.default,{mt:2,color:"text-subdued",typography:"Caption",children:a})]})},ep=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(w.useIsFocused)(),r=Object(ae.useStatus)().authenticationType,o=Object(Qs.usePriceAlertlist)(),a=o.alerts,c=o.fetchPriceAlerts,l=Object(Qs.useEnabledAccountDynamicAccounts)(),s=l.enabledAccounts,u=l.refresh,d=Object(ae.useSettings)(),f=d.pushNotification,j=void 0===f?cc.defaultPushNotification:f,p=d.devMode,O=W.default.serviceNotification;Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__notification"});t.setOptions({title:n})}),[t,e,r]);var m=Object(i.useCallback)((function(e){return function(t){var n;(0,W.default.dispatch)(Object(cc.setPushNotificationConfig)(((n={})[e]=t,n))),O.syncPushNotificationConfig()}}),[O]);Object(i.useEffect)((function(){n&&(u(),c())}),[c,n,u]);var x=Object(i.useMemo)((function(){return null!=p&&p.enableZeroNotificationThreshold?[0].concat(Zj):Zj}),[null==p?void 0:p.enableZeroNotificationThreshold]),h=Object(i.useMemo)((function(){return null!=j&&j.pushEnable?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)($j,{title:e.formatMessage({id:"form__market_uppercase"}),switchs:[{title:e.formatMessage({id:"form__btc_and_eth_movement"}),desc:e.formatMessage({id:"form__btc_and_eth_movement_desc"}),value:j.btcAndEthPriceAlertEnable,onChange:m("btcAndEthPriceAlertEnable")},{title:e.formatMessage({id:"title__favorite"}),desc:e.formatMessage({id:"form__favorite_desc"}),value:j.favoriteTokensPriceAlertEnable,onChange:m("favoriteTokensPriceAlertEnable")}],footer:Object(Y.jsx)(Jj,{title:e.formatMessage({id:"form__manage_threshold"}),value:j.threshold||x[0],onChange:m("threshold"),options:x.map((function(e){return{label:e+"%",value:e}}))})}),Object(Y.jsx)($j,{title:e.formatMessage({id:"form__alert_uppercase"}),switchs:[{title:e.formatMessage({id:"form__price_alert"}),desc:e.formatMessage({id:"form__price_alert_desc"}),value:j.priceAlertEnable,onChange:m("priceAlertEnable")}],footer:Object(Y.jsx)(Qj,{title:e.formatMessage({id:"form__manage"}),desc:void 0===a?Object(Y.jsx)(It.default,{size:"sm"}):String(a.length),onPress:function(){return t.navigate(b.HomeRoutes.PushNotificationManagePriceAlert,{alerts:a||[]})}})}),Object(Y.jsx)($j,{title:e.formatMessage({id:"form__account_uppercase"}),switchs:[{title:e.formatMessage({id:"form__account_dynamic_notification"}),desc:e.formatMessage({id:"form__account_dynamic_notification_desc"}),value:j.accountActivityPushEnable,onChange:m("accountActivityPushEnable")}],footer:Object(Y.jsx)(Qj,{title:e.formatMessage({id:"form__manage"}),desc:void 0===s?Object(Y.jsx)(It.default,{size:"sm"}):String(s.length),onPress:function(){return t.navigate(b.HomeRoutes.PushNotificationManageAccountDynamic)}})})]}):null}),[s,a,t,e,m,j,x]);return Object(Y.jsxs)(pe.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:[Object(Y.jsx)($j,{extraText:e.formatMessage({id:"content__receive_notifications_of_account_dynamics_and_asset_changes"}),switchs:[{title:e.formatMessage({id:"form__notification"}),value:j.pushEnable,onChange:m("pushEnable")}]}),h,Object(Y.jsx)(N.default,{height:10})]})},tp=n(74),np=n(4139);function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ap=function(e){var t,n,r=e.divider,o=e.account,a=e.onChange,c=e.checked,l=e.icon,s=Object(i.useState)(!1),u=x()(s,2),d=u[0],f=u[1];return Object(Y.jsxs)(N.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:r?void 0:"12px",children:[Object(Y.jsxs)(N.default,{flex:"1",flexDirection:"row",alignItems:"center",children:[l,Object(Y.jsx)(N.default,{mx:"3",flex:"1",children:Object(Y.jsx)(ct.default,{hiddenAvatar:!0,address:null!=(t=null!=(n=null==o?void 0:o.displayAddress)?n:null==o?void 0:o.address)?t:"",name:o.name,containerProps:{flex:1}})})]}),d?Object(Y.jsx)(It.default,{}):Object(Y.jsx)(Mt.default,{labelType:"false",isChecked:c,onToggle:function(){return e=!c,f(!0),void a(e).finally((function(){return setTimeout((function(){f(!1)}),200)}));var e}})]})},ip=function(e){var t=e.name,n=e.type,r=e.accounts,o=e.avatar,a=e.enabledAccounts,c=e.refreash,l=e.passphraseState,s=Object(y.default)(),u=Object(Xt.default)().themeVariant,d=W.default.serviceNotification,f=Object(i.useCallback)(function(){var e=In()((function*(e,t){t?yield d.addAccountDynamic({accountId:e.id,address:e.address,name:e.name,passphrase:!!l}):yield d.removeAccountDynamic({address:e.address}),yield c()}));return function(t,n){return e.apply(this,arguments)}}(),[d,c,l]),b=r.length,j=Object(i.useMemo)((function(){return[tp.WALLET_TYPE_IMPORTED,tp.WALLET_TYPE_WATCHING,tp.WALLET_TYPE_EXTERNAL].includes(n)?Object(Y.jsx)(le.default,{size:"sm",avatarBgColor:"surface-neutral-default",walletImage:n,circular:!0}):Object(Y.jsx)(N.default,{bg:(null==o?void 0:o.bgColor)||"#000",w:"8",h:"8",borderRadius:"50",justifyContent:"center",alignItems:"center",children:null==o?void 0:o.emoji})}),[n,o]),p=Object(i.useMemo)((function(){switch(n){case tp.WALLET_TYPE_IMPORTED:return s.formatMessage({id:"wallet__imported_accounts"});case tp.WALLET_TYPE_WATCHING:return s.formatMessage({id:"wallet__watched_accounts"});case tp.WALLET_TYPE_EXTERNAL:return s.formatMessage({id:"content__external_account"})}return t}),[n,t,s]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(te.default.Subheading,{children:p}),Object(Y.jsx)(N.default,{w:"full",mt:"2",mb:6,borderRadius:"12",bg:"surface-default",borderWidth:"light"===u?1:void 0,borderColor:"border-subdued",children:r.map((function(e,t){return Object(Y.jsx)(ap,{icon:j,account:e,checked:!!a.find((function(t){return t.address===e.address})),onChange:function(t){return f(e,t)},divider:t!==b-1},e.id)}))})]})},cp=function(){var e=Object(y.default)(),t=Object(Qs.useEnabledAccountDynamicAccounts)(),n=t.wallets,r=t.enabledAccounts,o=t.refresh,a=t.loading,c=Object(H.useNavigation)(),l=Object(i.useMemo)((function(){return n.map((function(e){return op(op({},e),{},{accounts:e.accounts.filter((function(e){return Object(qs.isCoinTypeCompatibleWithImpl)(e.coinType,An.IMPL_EVM)}))})})).filter((function(e){return!!e.accounts.length}))}),[n]),s=Object(Jo.useAsync)(In()((function*(){return W.default.serviceNotification.filterContractAddresses(l.map((function(e){return e.accounts.map((function(e){return e.address}))})).flat())})),[l]),u=s.result,d=s.loading;return Object(i.useLayoutEffect)((function(){var t=e.formatMessage({id:"title__manage_account_dynamic"});c.setOptions({title:t})}),[c,e]),l.length?Object(Y.jsx)(pe.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:l.map((function(e){return Object(Y.jsx)(ip,op(op({},e),{},{accounts:e.accounts.filter((function(e){return null==u?void 0:u.includes(e.address)})),refreash:o,enabledAccounts:r}),e.id)}))}):Object(Y.jsx)(np.ListEmptyComponent,{isLoading:a||d,desc:e.formatMessage({id:"content__there_are_no_accounts_available_for_subscriptions"})})},lp=n(4293),sp=function(e){var t=e.alerts,n=e.onRemove,r=t.length,o=Object(Xt.default)().themeVariant,a=Object(i.useCallback)((function(e){null==n||n(t.find((function(t){return t.price===e})))}),[n,t]);return Object(Y.jsx)(N.default,{w:"full",mt:"2",mb:6,borderRadius:"12",bg:"surface-default",borderWidth:"light"===o?1:void 0,borderColor:"border-subdued",children:t.map((function(e,t){return Object(Y.jsx)(lp.default,{alert:e,divider:t!==r-1,onRemove:a},e.price+"-"+e.currency)}))})},up=function(){var e=Object(y.default)(),t=Object(H.useNavigation)(),n=Object(Qs.usePriceAlertlist)(),r=n.alerts,o=n.loading,a=n.fetchPriceAlerts;return Object(i.useLayoutEffect)((function(){var n=e.formatMessage({id:"title__manage_price_alert"});t.setOptions({title:n})}),[t,e]),r.length?Object(Y.jsx)(pe.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:Object(Y.jsx)(sp,{alerts:r,onRemove:a})}):Object(Y.jsx)(np.ListEmptyComponent,{isLoading:o,symbol:"token"})};function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bp=b.TabRoutes.Me,jp=fp(fp({},Ce[bp]),{},{component:Jt(on($b,{rootTabName:bp}),bp),children:[{name:b.HomeRoutes.ScreenOnekeyLiteDetail,component:jb},{name:b.HomeRoutes.Protected,component:Gj},{name:b.HomeRoutes.WalletSwitch,component:Uj},{name:b.HomeRoutes.VolumeHaptic,component:tj},{name:b.HomeRoutes.CloudBackup,component:sj},{name:b.HomeRoutes.CloudBackupPreviousBackups,component:dj.default},{name:b.HomeRoutes.CloudBackupDetails,component:uj.default},{name:b.HomeRoutes.PushNotification,component:ep},{name:b.HomeRoutes.PushNotificationManagePriceAlert,component:up},{name:b.HomeRoutes.PushNotificationManageAccountDynamic,component:cp},{name:b.HomeRoutes.ClearCache,component:fb},{name:b.HomeRoutes.AdvancedSettings,component:sb},{name:b.HomeRoutes.HardwareBridgeSettings,component:Ob}]}),pp=n(4034),Op=n(3995),mp=Object(i.createContext)(null);function xp(){return Object(i.useContext)(mp)}var hp=function(){var e=Object(y.default)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(qt.default,{children:[Object(Y.jsx)(qt.default.Column,{flex:3,text:{label:e.formatMessage({id:"content__collection"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:e.formatMessage({id:"content__price"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{flex:2,text:{label:e.formatMessage({id:"content__time"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]}),Object(Y.jsx)(N.default,{mx:"8px",borderBottomWidth:1,borderColor:"divider"})]})},gp=function(){var e,t,n,r=null==(e=xp())?void 0:e.context,o=Object(Ar.default)().formatDistanceToNow,a=Object(ro.useCollectionDetail)(),c=Object(i.useCallback)((function(e){var t,n,i=e.item;return Object(Y.jsxs)(qt.default,{onPress:function(){var e;a({contractAddress:i.contractAddress,networkId:null==r||null==(e=r.selectedNetwork)?void 0:e.id,title:i.contractName})},children:[Object(Y.jsxs)(dr.default,{flex:3,space:"12px",alignItems:"center",children:[Object(Y.jsx)(_r.default,{src:i.collection.logoUrl,width:"40px",height:"40px",verified:i.collection.openseaVerified}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:i.collection.contractName,labelProps:{isTruncated:!0},description:i.tokenId?"ID "+i.tokenId:"\u2013",descriptionProps:{numberOfLines:1}}})]}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:Object(Cr.PriceString)({price:new Pn.BigNumber(null!=(t=i.mintPrice)?t:"0").decimalPlaces(6).toString(),networkId:null==r||null==(n=r.selectedNetwork)?void 0:n.id}),labelProps:{textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{flex:2,text:{label:i.mintTimestamp?o(i.mintTimestamp):"_",labelProps:{textAlign:"right"}}})]})}),[null==r||null==(t=r.selectedNetwork)?void 0:t.id,o,a]),l=Object(i.useCallback)((function(){return Object(Y.jsx)(hp,{})}),[]);return void 0===(null==r?void 0:r.liveMintList)||0===(null==r||null==(n=r.liveMintList)?void 0:n.length)||r.loading?Object(Y.jsx)(Op.default,{ListHeaderComponent:l,isTab:null==r?void 0:r.isTab,numberOfData:null!=r&&r.isTab?5:10}):Object(Y.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},style:{flex:1},children:Object(Y.jsx)(Gt.default,{ListHeaderComponent:l,data:null==r?void 0:r.liveMintList,renderItem:c,showDivider:!0,keyExtractor:function(e){return""+e.contractAddress+e.tokenId}})})},vp=function(){var e,t,n,r=null==(e=xp())?void 0:e.context,o=Object(Ar.default)().formatDistanceToNow,a=Object(ro.useCollectionDetail)(),c=Object(i.useCallback)((function(e){var t,n,i=e.item;return Object(Y.jsxs)(qt.default,{onPress:function(){var e;a({contractAddress:i.contractAddress,networkId:null==r||null==(e=r.selectedNetwork)?void 0:e.id,title:i.contractName})},children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(_r.default,{src:i.collection.logoUrl,width:"56px",height:"56px",verified:i.collection.openseaVerified})}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:i.collection.contractName,labelProps:{isTruncated:!0},description:i.tokenId?"ID "+i.tokenId:"\u2013",descriptionProps:{numberOfLines:1}}}),Object(Y.jsx)(qt.default.Column,{text:{label:Object(Cr.PriceString)({price:new Pn.BigNumber(null!=(t=i.mintPrice)?t:"0").decimalPlaces(6).toString(),networkId:null==r||null==(n=r.selectedNetwork)?void 0:n.id}),labelProps:{textAlign:"right",numberOfLines:1},description:i.mintTimestamp?o(i.mintTimestamp):"\u2013",descriptionProps:{textAlign:"right",numberOfLines:1}}})]})}),[null==r||null==(t=r.selectedNetwork)?void 0:t.id,o,a]),l=Object(i.useCallback)((function(){return Object(Y.jsx)(N.default,{h:"4px"})}),[]),s=Object(i.useCallback)((function(){return Object(Y.jsx)(N.default,{height:"20px"})}),[]);return void 0===(null==r?void 0:r.liveMintList)||0===(null==r||null==(n=r.liveMintList)?void 0:n.length)||r.loading?Object(Y.jsx)(Op.default,{isTab:null==r?void 0:r.isTab,numberOfData:null!=r&&r.isTab?5:10}):Object(Y.jsx)(B.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:Object(Y.jsx)(Gt.default,{data:null==r?void 0:r.liveMintList,renderItem:c,keyExtractor:function(e){return""+e.contractAddress+e.tokenId},ItemSeparatorComponent:l,ListFooterComponent:s})})};function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kp=function(){var e,t=Object(w.useNavigation)(),n=Object(ro.useDefaultNetWork)(),r=Object(i.useState)(n),o=x()(r,2),a=o[0],c=o[1],l=null==(e=xp())?void 0:e.setContext,s=Object(y.default)();return Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",mb:"16px",children:[Object(Y.jsx)(ve.default,{typography:"Heading",children:"Live Minting"}),Object(Y.jsxs)(vt.default,{alignItems:"center",space:"20px",children:[Object(Y.jsx)(pp.default,{selectedNetwork:a,onChange:function(e){c(e),l&&l((function(t){return wp(wp({},t),{},{selectedNetwork:e})}))}}),Object(Y.jsx)(N.default,{m:"-8px",mr:"-12px",children:Object(Y.jsxs)($.default,{onPress:function(){t.navigate(b.HomeRoutes.NFTMarketLiveMintingList,{network:a})},p:"8px",rounded:"xl",flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",mr:"4px",children:s.formatMessage({id:"action__see_all"})}),Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})]})},_p=function(){var e,t,n,r,o=Object(j.default)(),a=null==(e=xp())?void 0:e.context,c=null==(t=xp())?void 0:t.setContext,l=W.default.serviceNFT,s=Object(w.useIsFocused)(),u=Object(i.useMemo)((function(){var e;return!(null==a||null==(e=a.selectedNetwork)||!e.id)&&!!s}),[null==a||null==(n=a.selectedNetwork)?void 0:n.id,s]),d=function(){var e=In()((function*(){if(c){var e;c((function(e){return wp(wp({},e),{},{loading:!0})}));var t=yield l.getLiveMinting({chain:null==a||null==(e=a.selectedNetwork)?void 0:e.id,limit:null!=a&&a.isTab?5:20});c(t?function(e){var n=e.isTab;return wp(wp({},e),{},{liveMintList:n?t.slice(0,5):t,loading:!1})}:function(e){return wp(wp({},e),{},{liveMintList:[],loading:!1})})}return[]}));return function(){return e.apply(this,arguments)}}();return Object(Wc.default)("liveMinting",d,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!u}}),Object(i.useEffect)((function(){In()((function*(){if(c){var e;c((function(e){return wp(wp({},e),{},{loading:!0})}));var t=yield l.getLiveMinting({chain:null==a||null==(e=a.selectedNetwork)?void 0:e.id,limit:null!=a&&a.isTab?5:20});c(t?function(e){var n=e.isTab;return wp(wp({},e),{},{liveMintList:n?t.slice(0,5):t,loading:!1})}:function(e){return wp(wp({},e),{},{liveMintList:[],loading:!1})})}}))()}),[null==a?void 0:a.isTab,null==a||null==(r=a.selectedNetwork)?void 0:r.id,l,c]),o?Object(Y.jsx)(vp,{}):Object(Y.jsx)(gp,{})},Cp=function(){var e=Object(ro.useDefaultNetWork)(),t=Object(i.useState)({isTab:!0,selectedNetwork:e}),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useMemo)((function(){return{context:r,setContext:o}}),[r]);return Object(Y.jsxs)(mp.Provider,{value:a,children:[Object(Y.jsx)(kp,{}),Object(Y.jsx)(_p,{})]})},Sp=n(4326),Ip=n(5147),Pp=["contractName","priceTextProps","netImageProps","verified"];function Mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tp=function(e){var t=e.contractName,n=e.priceTextProps,r=e.netImageProps,o=e.verified,a=O()(e,Pp),c=Object(y.default)();return Object(Y.jsxs)(Ip.MotiPressable,Ap(Ap({},a),{},{animate:Object(i.useCallback)((function(e){return{opacity:e.hovered?.8:1}}),[]),children:[Object(Y.jsx)(N.default,{borderRadius:"12px",overflow:"hidden",children:Object(Y.jsx)(Rt.default,Ap({width:"220px",height:"147px"},r))}),Object(Y.jsxs)(N.default,{mt:"8px",width:"220px",flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(ve.default,{mr:"4px",typography:"Body1Strong",isTruncated:!0,children:t}),!!o&&Object(Y.jsx)(ee.default,{name:"BadgeCheckMini",size:16,color:"icon-success"})]}),Object(Y.jsx)(Cr.default,Ap({prefix:c.formatMessage({id:"content__floor"}),mt:"4px",typography:"Body2",color:"text-subdued"},n))]}))};Tp.displayName="CollectionCard";var Dp=Tp,Rp=function(){var e=Object(j.default)()?[1,2]:[1,2,3,4,5];return Object(Y.jsx)(gt.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,data:e,renderItem:function(){return Object(Y.jsxs)(N.default,{mr:"16px",flexDirection:"column",children:[Object(Y.jsx)(Ut.default,{width:"220px",height:"147px",borderRadius:"12px"}),Object(Y.jsx)(N.default,{mt:"8px",children:Object(Y.jsx)(ne.default,{shape:"Body1"})}),Object(Y.jsx)(N.default,{mt:"4px",children:Object(Y.jsx)(ne.default,{shape:"Body2"})})]})},keyExtractor:function(e){return""+e}})},Ep=function(e){var t=e.listData,n=e.onSelectCollection,r=Object(i.useRef)(null),o=Object(i.useCallback)((function(e,t){var r=e.bannerUrl,o=e.contractName,a=e.floorPrice,i=e.chain,c=e.priceSymbol,l=e.openseaVerified;return Object(Y.jsx)(Dp,{onPress:function(){n(e)},contractName:o,verified:l,netImageProps:{src:r},priceTextProps:{price:a,networkId:i,symbol:c},style:{marginRight:16}},e.contractAddress+" "+t)}),[n]),a=Object(i.useMemo)((function(){return t.map((function(e,t){return o(e,t)}))}),[t,o]);return Object(Y.jsx)(Sp.default,{justifyContent:"center",bg:"transparent",ref:r,leftButtonProps:{size:"base",type:"basic",ml:"16px"},rightButtonProps:{size:"base",type:"basic",mr:"16px"},children:a})},Bp=Object(i.memo)((function(){var e=W.default.serviceNFT,t=Object(i.useState)([]),n=x()(t,2),r=n[0],o=n[1],a=Object(y.default)(),c=Object(ro.useCollectionDetail)();Object(i.useEffect)((function(){In()((function*(){var t=yield e.getMarketCollection();o(null!=t?t:[])}))()}),[e]);var l=Object(i.useCallback)((function(e){c({networkId:e.chain,contractAddress:e.contractAddress,collection:e})}),[c]);return Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(ve.default,{typography:"Heading",mb:"16px",children:a.formatMessage({id:"content__notable_collections"})}),Object(Y.jsx)(N.default,{mr:{base:"-16px",md:0},children:0===r.length?Object(Y.jsx)(Rp,{}):Object(Y.jsx)(B.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:Object(Y.jsx)(Ep,{listData:r,onSelectCollection:l})})})]})})),Np=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(w.useNavigation)(),r=Object(ro.useCollectionDetail)(),o=Object(i.useCallback)((function(){t.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.NFTMarket,params:{screen:cr.NFTMarketRoutes.SearchModal,params:{onSelectCollection:function(e){var t=e.networkId,n=e.contractAddress,o=e.collection;r({networkId:t,contractAddress:n,collection:o})}}}})}),[r,t]),a=Object(i.useCallback)((function(){n.navigate(b.HomeRoutes.NFTPNLScreen)}),[n]);return Object(Y.jsxs)(vt.default,{height:{base:"56px",md:"64px"},alignItems:"center",pl:{base:"16px",md:"32px"},pr:{base:"10px",md:"32px"},children:[Object(Y.jsxs)(vt.default,{flex:1,alignItems:"center",children:[Object(Y.jsx)(ve.default,{typography:{sm:"PageHeading",md:"Heading"},children:"NFT"}),Object(Y.jsx)(Wt.default,{from:"base",till:"md",children:Object(Y.jsxs)(vt.default,{justifyContent:"space-between",flex:1,children:[Object(Y.jsxs)(vt.default,{alignItems:"center",children:[Object(Y.jsx)(N.default,{ml:"16px",mr:"8px",h:"16px",w:"1px",bgColor:"divider"}),Object(Y.jsxs)($.default,{onPress:function(){o()},flexDirection:"row",p:"8px",borderRadius:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Y.jsx)(ee.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",ml:2,children:e.formatMessage({id:"form__nft_search_placeholder"})})]})]}),Object(Y.jsx)(re.default,{onPress:function(){a()},type:"plain",leftIconName:"DocumentChartBarMini",rightIcon:Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20}),mx:-4,children:e.formatMessage({id:"action__profit_and_loss"})})]})})]}),Object(Y.jsx)(Wt.default,{from:"md",children:Object(Y.jsxs)(vt.default,{space:"8px",alignItems:"center",children:[Object(Y.jsx)(re.default,{leftIconName:"DocumentChartBarMini",size:"sm",onPress:function(){a()},children:"PnL"}),Object(Y.jsx)(yt.default,{name:"MagnifyingGlassOutline",type:"plain",size:"lg",circle:!0,onPress:function(){o()}})]})})]})},Lp=function(e){var t=e.title,n=e.onChange,r=Object(y.default)(),o=[{title:r.formatMessage({id:"content__hours"}),label:"6h",value:0},{title:r.formatMessage({id:"content__hours"}),label:"12h",value:1},{title:r.formatMessage({id:"content__day"}),label:"1d",value:2}];return Object(Y.jsx)(N.default,{m:"-8px",children:Object(Y.jsx)(K.default,{title:r.formatMessage({id:"content__duration"}),dropdownPosition:"left",headerShown:!1,options:o,isTriggerPlain:!0,footer:null,activatable:!1,onChange:n,renderTrigger:function(e){var n=e.isHovered,r=e.isPressed;return Object(Y.jsxs)(dr.default,{alignItems:"center",p:"8px",bgColor:r?"surface-pressed":n?"surface-hovered":"transparent",borderRadius:"xl",children:[Object(Y.jsx)(ve.default,{color:"text-subdued",typography:"Body2Strong",children:t}),Object(Y.jsx)(N.default,{ml:"4px",children:Object(Y.jsx)(ee.default,{size:20,name:"ChevronDownMini",color:"icon-subdued"})})]})}})})},Wp=n(3974),Hp=function(){var e=Object(y.default)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(qt.default,{children:[Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:e.formatMessage({id:"content__collection"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{w:"160px",text:{label:e.formatMessage({id:"content__market_cap"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]}),Object(Y.jsx)(N.default,{mx:"8px",borderBottomWidth:1,borderColor:"divider"})]})},zp=function(e){var t,n,r=e.listData,o=null==(t=Object(Wp.useStatsListContext)())?void 0:t.context,a=Object(y.default)(),c=Object(ro.useCollectionDetail)(),l=Object(i.useCallback)((function(e){var t,n,r,i=e.item,l=e.index;return Object(Y.jsxs)(qt.default,{onPress:function(){var e;c({contractAddress:i.contract_address,networkId:null==o||null==(e=o.selectedNetwork)?void 0:e.id,title:i.contract_name})},children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(_r.default,{src:i.logo_url,width:"40px",height:"40px",verified:i.openseaVerified})}),Object(Y.jsx)(qt.default.Column,{text:{label:""+(l+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:i.contract_name,labelProps:{isTruncated:!0},description:Object(Cr.PriceString)({prefix:a.formatMessage({id:"content__floor"}),price:i.floor_price,networkId:null==o||null==(t=o.selectedNetwork)?void 0:t.id}),descriptionProps:{numberOfLines:1}}}),Object(Y.jsx)(qt.default.Column,{w:"160px",text:{label:Object(Cr.PriceString)({price:Object(Ml.formatMarketValueForComma)(new Pn.BigNumber(null!=(n=i.market_cap)?n:"0").decimalPlaces(2).toNumber()),networkId:null==o||null==(r=o.selectedNetwork)?void 0:r.id}),labelProps:{textAlign:"right"}}})]})}),[null==o||null==(n=o.selectedNetwork)?void 0:n.id,c,a]);return void 0===r||0===(null==r?void 0:r.length)||null!=o&&o.loading?Object(Y.jsx)(Op.default,{ListHeaderComponent:function(){return Hp()},isTab:null==o?void 0:o.isTab,numberOfData:null!=o&&o.isTab?5:10}):Object(Y.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},children:Object(Y.jsx)(Gt.default,{ListHeaderComponent:function(){return Hp()},data:r,showDivider:!0,renderItem:l,keyExtractor:function(e,t){return""+e.contract_address+t}})})},Fp=function(){return Object(Y.jsx)(N.default,{h:"4px"})},Up=function(){return Object(Y.jsx)(N.default,{height:"20px"})},Vp=function(e){var t,n,r=e.listData,o=null==(t=Object(Wp.useStatsListContext)())?void 0:t.context,a=Object(y.default)(),c=Object(ro.useCollectionDetail)(),l=Object(i.useCallback)((function(e){var t,n,r,i=e.item,l=e.index;return Object(Y.jsxs)(qt.default,{onPress:function(){var e;c({contractAddress:i.contract_address,networkId:null==o||null==(e=o.selectedNetwork)?void 0:e.id,title:i.contract_name})},children:[Object(Y.jsx)(qt.default.Column,{children:Object(Y.jsx)(_r.default,{src:i.logo_url,width:"56px",height:"56px",verified:i.openseaVerified})}),Object(Y.jsx)(qt.default.Column,{text:{label:""+(l+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:i.contract_name,labelProps:{isTruncated:!0},description:Object(Cr.PriceString)({prefix:a.formatMessage({id:"content__floor"}),price:i.floor_price,networkId:null==o||null==(t=o.selectedNetwork)?void 0:t.id}),descriptionProps:{numberOfLines:1}}}),Object(Y.jsx)(qt.default.Column,{text:{label:Object(Y.jsx)(ve.default,{typography:"Body1Strong",textAlign:"right",mb:"24px",numberOfLines:1,children:Object(Cr.PriceString)({price:Object(Ml.formatMarketValueForComma)(new Pn.BigNumber(null!=(n=i.market_cap)?n:"0").decimalPlaces(2).toNumber()),networkId:null==o||null==(r=o.selectedNetwork)?void 0:r.id})})}})]})}),[null==o||null==(n=o.selectedNetwork)?void 0:n.id,c,a]);return void 0===r||0===(null==r?void 0:r.length)||null!=o&&o.loading?Object(Y.jsx)(Op.default,{isTab:null==o?void 0:o.isTab,numberOfData:null!=o&&o.isTab?5:10}):Object(Y.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},children:Object(Y.jsx)(Gt.default,{data:r,renderItem:l,keyExtractor:function(e,t){return""+e.contract_address+t},ItemSeparatorComponent:Fp,ListFooterComponent:Up})})};function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kp=function(){var e,t,n,r,o,a=Object(j.default)(),c=null==(e=Object(Wp.useStatsListContext)())?void 0:e.context,l=null==(t=Object(Wp.useStatsListContext)())?void 0:t.setContext,s=W.default.serviceNFT;return Object(i.useEffect)((function(){In()((function*(){if(1===(null==c?void 0:c.selectedIndex)&&l){var e;l((function(e){return qp(qp({},e),{},{loading:!0})}));var t=yield s.getMarketCapCollection({chain:null==(e=c.selectedNetwork)?void 0:e.id,limit:c.isTab?5:100});t&&l((function(e){var n=e.isTab;return qp(qp({},e),{},{marketCapList:n?t.slice(0,5):t,loading:!1})}))}}))()}),[null==c||null==(n=c.selectedNetwork)?void 0:n.id,s,l]),a?Object(Y.jsx)(Vp,{listData:null!=(r=null==c?void 0:c.marketCapList)?r:[]}):Object(Y.jsx)(zp,{listData:null!=(o=null==c?void 0:c.marketCapList)?o:[]})},Zp=function(){var e,t=Object(y.default)(),n=null==(e=Object(Wp.useStatsListContext)())?void 0:e.context,r=Object(ye.default)().screenWidth-224<900,o=Object(i.useMemo)((function(){switch(null==n?void 0:n.selectedTime){case 0:return t.formatMessage({id:"content__int_hours_sales"},{0:6});case 1:return t.formatMessage({id:"content__int_hours_sales"},{0:12});case 2:return t.formatMessage({id:"content__int_day_sales"},{0:1})}}),[null==n?void 0:n.selectedTime,t]),a=Object(i.useMemo)((function(){switch(null==n?void 0:n.selectedTime){case 0:return t.formatMessage({id:"content__int_hours_volume"},{0:6});case 1:return t.formatMessage({id:"content__int_hours_volume"},{0:12});case 2:return t.formatMessage({id:"content__int_day_volume"},{0:1})}}),[null==n?void 0:n.selectedTime,t]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(qt.default,{children:[Object(Y.jsx)(qt.default.Column,{p:0,flex:1.9,text:{label:t.formatMessage({id:"content__collection"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:t.formatMessage({id:"content__uique_owner"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:t.formatMessage({id:"content__blue_chip_rates"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),!r&&Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:o,labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:a,labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]}),Object(Y.jsx)(N.default,{mx:"8px",borderBottomWidth:1,borderColor:"divider"})]})},Xp=function(e){var t,n,r=e.listData,o=null==(t=Object(Wp.useStatsListContext)())?void 0:t.context,a=Object(y.default)(),c=Object(ro.useCollectionDetail)(),l=Object(ye.default)().screenWidth-224<900,s=Object(i.useCallback)((function(e){var t,n,r,i,s,u,d,f,b,j,p,O,m=e.item,x=e.index,h=(null!=(t=m.owners_total)?t:0)/(null!=(n=m.items_total)?n:0)*100,g=null!=(r=m.volume_change)?r:"-";return null!=m&&null!=(i=m.volume_change)&&i.startsWith("-")?(p="surface-critical-subdued",O="text-critical"):null!=m&&null!=(s=m.volume_change)&&s.startsWith("0.00%")?O="text-subdued":(p="surface-success-subdued",O="text-success"),Object(Y.jsxs)(qt.default,{onPress:function(){var e;c({contractAddress:m.contract_address,networkId:null==o||null==(e=o.selectedNetwork)?void 0:e.id,title:m.contract_name})},children:[Object(Y.jsxs)(dr.default,{flex:1.9,space:"12px",alignItems:"center",children:[Object(Y.jsx)(_r.default,{src:m.logo_url,width:"40px",height:"40px",verified:m.openseaVerified}),Object(Y.jsx)(qt.default.Column,{text:{label:""+(x+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:m.contract_name,labelProps:{isTruncated:!0},description:Object(Cr.PriceString)({prefix:a.formatMessage({id:"content__floor"}),price:m.floor_price,networkId:null==o||null==(u=o.selectedNetwork)?void 0:u.id}),descriptionProps:{numberOfLines:1}}})]}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:h<=100?new Pn.BigNumber(null!=h?h:"0").decimalPlaces(2).toString()+"%":"",labelProps:{textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:null!=(d=null==(f=m.blueChip)?void 0:f.next_blue_chip_probability)?d:"-",labelProps:{textAlign:"right"}}}),!l&&Object(Y.jsx)(qt.default.Column,{flex:1,text:{label:m.sales,labelProps:{textAlign:"right"}}}),Object(Y.jsx)(qt.default.Column,{space:"2px",flex:1,text:{label:Object(Cr.PriceString)({price:new Pn.BigNumber(null!=(b=m.volume)?b:"0").decimalPlaces(2).toString(),networkId:null==o||null==(j=o.selectedNetwork)?void 0:j.id}),labelProps:{textAlign:"right"},description:Object(Y.jsx)(N.default,{justifyContent:"flex-end",flex:1,width:"full",flexDirection:"row",children:Object(Y.jsx)(ut.default,{size:"sm",bgColor:p,title:g,color:O})})}})]})}),[null==o||null==(n=o.selectedNetwork)?void 0:n.id,c,l,a]),u=Object(i.useCallback)((function(){return Object(Y.jsx)(Zp,{})}),[]);return void 0===r||0===(null==r?void 0:r.length)||null!=o&&o.loading?Object(Y.jsx)(Op.default,{ListHeaderComponent:u,isTab:null==o?void 0:o.isTab,numberOfData:null!=o&&o.isTab?5:10}):Object(Y.jsx)(B.View,{from:{opacity:.5},animate:{opacity:1},children:Object(Y.jsx)(Gt.default,{ListHeaderComponent:u,data:r,showDivider:!0,renderItem:s,keyExtractor:function(e,t){return""+e.contract_address+t}})})},Yp=n(4294);function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $p={0:"6h",1:"12h",2:"1d"},eO=function(){var e,t,n,r,o,a=Object(j.default)(),c=null==(e=Object(Wp.useStatsListContext)())?void 0:e.context,l=null==(t=Object(Wp.useStatsListContext)())?void 0:t.setContext,s=W.default.serviceNFT;return Object(i.useEffect)((function(){In()((function*(){if(0===(null==c?void 0:c.selectedIndex)&&l){var e;l((function(e){return Jp(Jp({},e),{},{loading:!0})}));var t=yield s.getMarketRanking({chain:null==(e=c.selectedNetwork)?void 0:e.id,time:$p[c.selectedTime]});t&&l((function(e){var n=e.isTab;return Jp(Jp({},e),{},{rankingList:n?t.slice(0,5):t,loading:!1})}))}}))()}),[null==c||null==(n=c.selectedNetwork)?void 0:n.id,null==c?void 0:c.selectedTime,s,l]),a?Object(Y.jsx)(Yp.default,{listData:null!=(r=null==c?void 0:c.rankingList)?r:[]}):Object(Y.jsx)(Xp,{listData:null!=(o=null==c?void 0:c.rankingList)?o:[]})};function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rO,oO=function(){var e,t,n=Object(ro.useDefaultNetWork)(),r=Object(i.useState)(n),o=x()(r,2),a=o[0],c=o[1],l=Object(w.useNavigation)(),s=null==(e=Object(Wp.useStatsListContext)())?void 0:e.setContext,u=null==(t=Object(Wp.useStatsListContext)())?void 0:t.context,d=Object(y.default)();return Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",mb:"12px",children:[Object(Y.jsx)(ve.default,{typography:"Heading",children:d.formatMessage({id:"content__stats"})}),Object(Y.jsxs)(vt.default,{alignItems:"center",space:"20px",children:[Object(Y.jsx)(pp.default,{selectedNetwork:a,onChange:function(e){c(e),s&&s((function(t){return nO(nO({},t),{},{selectedNetwork:e})}))}}),Object(Y.jsx)(N.default,{m:"-8px",mr:"-12px",children:Object(Y.jsxs)($.default,{onPress:function(){l.navigate(b.HomeRoutes.NFTMarketStatsList,{network:a,selectedIndex:null==u?void 0:u.selectedIndex})},p:"8px",rounded:"xl",flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[Object(Y.jsx)(ve.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",mr:"4px",children:d.formatMessage({id:"action__see_all"})}),Object(Y.jsx)(ee.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})]})},aO=function(){var e,t,n,r,o=null==(e=Object(Wp.useStatsListContext)())?void 0:e.context,a=null==(t=Object(Wp.useStatsListContext)())?void 0:t.setContext,c=Object(i.useState)(null!=(n=null==o?void 0:o.selectedTime)?n:0),l=x()(c,2),s=l[0],u=l[1],d=Object(i.useState)(null!=(r=null==o?void 0:o.selectedIndex)?r:0),f=x()(d,2),b=f[0],p=f[1],O=Object(j.default)(),m=Object(y.default)(),h=Object(i.useMemo)((function(){switch(null==o?void 0:o.selectedTime){case 0:return m.formatMessage({id:"content__int_hours_volume"},{0:6});case 1:return m.formatMessage({id:"content__int_hours_volume"},{0:12});case 2:return m.formatMessage({id:"content__int_day_volume"},{0:1})}}),[null==o?void 0:o.selectedTime,m]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",mb:"16px",children:[Object(Y.jsx)(Ht.default,{buttons:[{text:m.formatMessage({id:"content__ranking"})},{text:m.formatMessage({id:"content__market_cap"})}],size:"lg",selectedIndex:b,bg:"transparent",onButtonPress:function(e){p(e),a&&a((function(t){return nO(nO({},t),{},{selectedIndex:e})}))},flex:1}),(null==o?void 0:o.isTab)&&O&&Object(Y.jsx)(ve.default,{typography:"Body2",color:"text-subdued",textAlign:"right",children:0===b?m.formatMessage({id:"content__int_day_volume"},{0:1}):""}),!(null!=o&&o.isTab)&&0===(null==o?void 0:o.selectedIndex)&&O&&Object(Y.jsx)(Lp,{title:h,onChange:function(e){u(e),a&&a((function(t){return nO(nO({},t),{},{selectedTime:e})}))}}),!(null!=o&&o.isTab)&&0===(null==o?void 0:o.selectedIndex)&&!O&&Object(Y.jsx)(N.default,{width:"160px",children:Object(Y.jsx)(St.default,{values:["6H","12H","1D"],selectedIndex:s,onChange:function(e){u(e),a&&a((function(t){return nO(nO({},t),{},{selectedTime:e})}))}})})]}),0===b?Object(Y.jsx)(eO,{}):Object(Y.jsx)(Kp,{})]})},iO=function(){var e=Object(ro.useDefaultNetWork)(),t=Object(i.useState)({isTab:!0,selectedNetwork:e,selectedIndex:0,selectedTime:2}),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useMemo)((function(){return{context:r,setContext:o}}),[r]);return Object(Y.jsxs)(Wp.StatsListContext.Provider,{value:a,children:[Object(Y.jsx)(oO,{}),Object(Y.jsx)(aO,{})]})};!function(e){e.BannerSection="BannerSection",e.Collection="Collection",e.Stats="Stats",e.Category="Category",e.LiveMinting="LiveMinting"}(rO||(rO={}));var cO=function(){var e=Object(je.default)().bottom,t=[{id:rO.Collection},{id:rO.Stats},{id:rO.LiveMinting}],n=Object(i.useCallback)((function(e){var t=e.item.id;return t===rO.Collection?Object(Y.jsx)(Bp,{}):t===rO.Stats?Object(Y.jsx)(iO,{}):t===rO.LiveMinting?Object(Y.jsx)(Cp,{}):Object(Y.jsx)(N.default,{})}),[]),r=Object(i.useCallback)((function(){return Object(Y.jsx)(N.default,{h:{base:"32px",md:"48px"}})}),[]);return Object(Y.jsx)(gt.default,{data:t,ItemSeparatorComponent:r,renderItem:n,keyExtractor:function(e){return e.id},p:{base:"16px",md:"32px"},showsVerticalScrollIndicator:!1,contentContainerStyle:{width:"100%",maxWidth:992,paddingBottom:e,alignSelf:"center"}})},lO=function(){var e=Object(je.default)().top;return Object(Y.jsxs)(N.default,{flex:1,mt:e+"px",children:[Object(Y.jsx)(Np,{}),Object(Y.jsx)(cO,{})]})};function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dO=function(){var e,t,n=Object(je.default)().bottom,r=Object(w.useNavigation)(),o=null==(e=xp())?void 0:e.setContext,a=null==(t=xp())?void 0:t.context,c=Object(ro.useDefaultNetWork)(),l=Object(i.useCallback)((function(){var e;return Object(Y.jsx)(pp.default,{selectedNetwork:null!=(e=null==a?void 0:a.selectedNetwork)?e:c,onChange:function(e){o&&o((function(t){return uO(uO({},t),{},{selectedNetwork:e})}))},tiggerProps:{paddingRight:"16px"}})}),[null==a?void 0:a.selectedNetwork,c,o]);return Object(i.useLayoutEffect)((function(){r.setOptions({title:"Live Minting",headerRight:l})}),[l,r]),Object(Y.jsx)(pe.default,{p:{base:"16px",md:"32px"},contentContainerStyle:{width:"100%",maxWidth:992,marginHorizontal:"auto",paddingBottom:n},children:Object(Y.jsx)(_p,{})})},fO=function(){var e=Object(w.useRoute)().params.network,t=Object(i.useState)({isTab:!1,selectedNetwork:e}),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useMemo)((function(){return{context:r,setContext:o}}),[r]);return Object(Y.jsx)(mp.Provider,{value:a,children:Object(Y.jsx)(dO,{})})};function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pO=function(){var e=Object(je.default)().bottom,t=Object(w.useNavigation)(),n=Object(w.useRoute)().params,r=n.network,o=n.selectedIndex,a=Object(i.useState)(r),c=x()(a,2),l=c[0],s=c[1],u=Object(i.useState)({isTab:!1,selectedIndex:o,selectedTime:2,selectedNetwork:l}),d=x()(u,2),f=d[0],b=d[1],j=Object(i.useCallback)((function(){return Object(Y.jsx)(pp.default,{triggerSize:"lg",selectedNetwork:l,onChange:function(e){s(e),b&&b((function(t){return jO(jO({},t),{},{selectedNetwork:e})}))},tiggerProps:{paddingRight:"16px"}})}),[l]);Object(i.useLayoutEffect)((function(){t.setOptions({title:"Stats",headerRight:j})}),[j,t]);var p=Object(i.useMemo)((function(){return{context:f,setContext:b}}),[f]);return Object(Y.jsx)(Wp.StatsListContext.Provider,{value:p,children:Object(Y.jsx)(pe.default,{p:{base:"16px",md:"32px"},contentContainerStyle:{width:"100%",maxWidth:992,paddingBottom:e,alignSelf:"center"},children:Object(Y.jsx)(aO,{})})})};function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xO=b.TabRoutes.NFT,hO=mO(mO({},Ce[xO]),{},{component:Jt(on(lO,{rootTabName:xO}),xO),children:[{name:b.HomeRoutes.NFTMarketStatsList,component:pO},{name:b.HomeRoutes.NFTMarketLiveMintingList,component:fO},{name:b.HomeRoutes.NFTMarketCollectionScreen,component:$r},{name:b.HomeRoutes.NFTPNLScreen,component:Mo,alwaysShowBackButton:!0}]});function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yO=function(e){var t=e.status,n=Object(y.default)();return Object(Y.jsxs)(N.default,{children:["pending"===t?Object(Y.jsx)(ut.default,{type:"info",size:"sm",color:"#599BFF",title:n.formatMessage({id:"transaction__pending"})}):null,"failed"===t?Object(Y.jsx)(ut.default,{type:"critical",size:"sm",color:"text-critical",title:n.formatMessage({id:"transaction__failed"})}):null,"canceled"===t?Object(Y.jsx)(ut.default,{type:"critical",size:"sm",color:"text-critical",title:n.formatMessage({id:"transaction__failed"})}):null,"sucesss"===t?Object(Y.jsx)(ut.default,{type:"success",size:"sm",color:"text-success",title:n.formatMessage({id:"transaction__success"})}):null]})},wO=function(e){var t,n,r,o,a,c,l,s,u,d,f=e.tx,j=Object(w.useNavigation)(),p=null==(t=f.tokens)?void 0:t.from.networkId,O=null==(n=f.tokens)?void 0:n.to.networkId,m=Object(H.useNetworkSimple)(p),x=Object(H.useNetworkSimple)(O),h=Object(i.useCallback)((function(){j.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.Transaction,params:{txid:f.hash,goBack:function(){return j.goBack()}}}})}),[j,f.hash]),g=Object(i.useCallback)((function(e){var t=e.token,n=e.amount;return t&&n?Object(za.formatAmount)(n)+" "+t.symbol.toUpperCase():"-"}),[]);return Object(Y.jsx)(N.default,{children:Object(Y.jsxs)($.default,{py:"4",onPress:h,flexDirection:"row",alignItems:"center",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flexBasis:"18%",children:[Object(Y.jsx)(N.default,{mr:"4",children:Object(Y.jsx)(Tt.default,{token:{logoURI:null==(r=f.tokens)?void 0:r.to.token.logoURI},size:"8"})}),Object(Y.jsxs)(N.default,{flex:"1",children:[Object(Y.jsx)(te.default.Body1Strong,{children:g({token:null==(o=f.tokens)?void 0:o.to.token,amount:null==(a=f.tokens)?void 0:a.to.amount})}),Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:null==x?void 0:x.shortName})]})]}),Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",flexBasis:"18%",children:Object(Y.jsx)(N.default,{flexDirection:"row",alignItems:"center",flex:"1",children:Object(Y.jsxs)(N.default,{flex:"1",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[f.actualReceived?null:Object(Y.jsx)(te.default.Caption,{children:"~"}),Object(Y.jsx)(N.default,{flex:"1",children:Object(Y.jsx)(te.default.Body1Strong,{isTruncated:!0,children:g({token:null==(c=f.tokens)?void 0:c.from.token,amount:null==(l=f.tokens)?void 0:l.from.amount})})})]}),Object(Y.jsx)(te.default.Body2,{color:"text-subdued",children:null==m?void 0:m.shortName})]})})}),Object(Y.jsx)(N.default,{flexBasis:"18%",children:Object(Y.jsx)(hc.default,{tokenA:null==(s=f.tokens)?void 0:s.from.token,tokenB:null==(u=f.tokens)?void 0:u.to.token,rate:null==(d=f.tokens)?void 0:d.rate,hideIcon:!0})}),Object(Y.jsx)(N.default,{flexBasis:"18%",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",px:"1",children:Object(Y.jsx)(te.default.Body2,{color:"text-subdued",ml:"3",isTruncated:!0,children:Object(_l.default)(f.addedTime,"yyyy/MM/dd HH:mm:ss")})}),Object(Y.jsx)(N.default,{flexBasis:"18%",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",px:"1",children:Object(Y.jsx)(Oc.default,{providers:f.providers,typography:"Body2Strong",color:"text-default"})}),Object(Y.jsx)(N.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexBasis:"10%",children:Object(Y.jsx)(yO,{status:f.status})})]})})},kO=function(e){var t,n,r,o,a,c,l,s,u=e.tx,d=Object(w.useNavigation)(),f=null==(t=u.tokens)?void 0:t.from.networkId,j=null==(n=u.tokens)?void 0:n.to.networkId,p=Object(H.useNetworkSimple)(f),O=Object(H.useNetworkSimple)(j),m=Object(i.useCallback)((function(){d.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:Ha.SwapRoutes.Transaction,params:{txid:u.hash,goBack:function(){return d.goBack()}}}})}),[d,u.hash]),x=Object(i.useCallback)((function(e){var t=e.token,n=e.amount;return t&&n?Object(za.formatAmount)(n)+" "+t.symbol.toUpperCase():"-"}),[]);return Object(Y.jsx)(N.default,{px:"4",children:Object(Y.jsxs)($.default,{p:"4",onPress:m,children:[Object(Y.jsxs)(N.default,{flexDirection:"row",width:"full",children:[Object(Y.jsx)(N.default,{mr:"4",children:Object(Y.jsx)(Tt.default,{token:{logoURI:null==(r=u.tokens)?void 0:r.from.token.logoURI},size:"8"})}),Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flex:"1",flexWrap:"wrap",children:[Object(Y.jsx)(te.default.Body1Strong,{mr:"2",children:x({token:null==(o=u.tokens)?void 0:o.from.token,amount:null==(a=u.tokens)?void 0:a.from.amount})}),Object(Y.jsxs)(te.default.Body2,{color:"text-subdued",children:["(",null==p?void 0:p.shortName,")"]})]})]}),Object(Y.jsx)(T.default,{h:"4",w:"8",my:"1",children:Object(Y.jsx)(ee.default,{name:"ArrowDownMini",size:16})}),Object(Y.jsxs)(N.default,{flexDirection:"row",width:"full",children:[Object(Y.jsx)(N.default,{mr:"4",children:Object(Y.jsx)(Tt.default,{token:{logoURI:null==(c=u.tokens)?void 0:c.to.token.logoURI},size:"8"})}),Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",flex:"1",flexWrap:"wrap",children:[u.actualReceived?null:Object(Y.jsx)(te.default.Caption,{children:"~"}),Object(Y.jsx)(te.default.Body1Strong,{mr:"2",children:x({token:null==(l=u.tokens)?void 0:l.to.token,amount:null==(s=u.tokens)?void 0:s.to.amount})}),Object(Y.jsxs)(te.default.Body2,{color:"text-subdued",children:["(",null==O?void 0:O.shortName,")"]})]})]}),Object(Y.jsxs)(N.default,{flexDirection:"row",width:"full",justifyContent:"space-between",mt:"3",children:[Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",pl:"2",children:[Object(Y.jsx)(Oc.default,{providers:u.providers,typography:"Body2",color:"text-subdued",fontWeight:500}),Object(Y.jsx)(te.default.Body2,{color:"text-subdued",ml:"3",fontWeight:500,children:Object(_l.default)(u.addedTime,"MM/dd HH:mm")})]}),Object(Y.jsx)(yO,{status:u.status})]})]})})},_O=function(e){return Object(j.default)()?Object(Y.jsx)(kO,vO({},e)):Object(Y.jsx)(wO,vO({},e))},CO=function(e){var t=e.txs,n=Object(y.default)();return null!=t&&t.length?Object(Y.jsx)(N.default,{children:Object(Y.jsx)(st.default,{title:n.formatMessage({id:"content__str_transactions_in_progress"},{content__str_transactions_in_progress:null==t?void 0:t.length}),dismiss:!1,alertType:"info"})}):null},SO=function(e){var t=e.txs,n=Object(y.default)(),r=Object(_i.useSummaryTx)(),o=Object(i.useCallback)((function(){t.forEach((function(e){W.default.dispatch(Object(ii.archiveTransaction)({accountId:e.accountId,networkId:e.networkId,txs:[e.hash]}))}))}),[t]);return 0===t.length?null:1===t.length?Object(Y.jsx)(N.default,{children:Object(Y.jsx)(st.default,{title:r(t[0]),alertType:"error",onDismiss:o})}):Object(Y.jsx)(N.default,{children:Object(Y.jsx)(st.default,{title:n.formatMessage({id:"content__str_transactions_failed"},{0:t.length}),alertType:"error",onDismiss:o})})},IO=function(){var e=Object(j.default)(),t=Object(ef.useWalletsSwapTransactions)(),n=Object(i.useMemo)((function(){return t.filter((function(e){return"pending"===e.status}))}),[t]),r=Object(i.useMemo)((function(){return t.filter((function(e){return"failed"===e.status&&!e.archive}))}),[t]);return 0===n.length&&0===r.length?null:Object(Y.jsx)(T.default,{children:Object(Y.jsxs)(Oe.default,{px:e?"4":void 0,mb:e?void 0:"4",width:"full",space:4,children:[n.length?Object(Y.jsx)(CO,{txs:n}):null,r.length?Object(Y.jsx)(SO,{txs:r}):null]})})},PO=function(){return Object(Y.jsx)(N.default,{mx:"4",children:Object(Y.jsx)(xt.default,{})})},MO=function(){return Object(Y.jsx)(N.default,{h:"4"})},AO=function(){var e=Object(y.default)();return Object(Y.jsx)(N.default,{py:"8",children:Object(Y.jsx)(ht.default,{title:e.formatMessage({id:"transaction__history_empty_title"}),subTitle:e.formatMessage({id:"transaction__history_empty_desc"}),emoji:"\ud83d\udd50"})})},TO=function(){var e=Object(j.default)(),t=Object(y.default)();return e?null:Object(Y.jsxs)(N.default,{flexDirection:"row",alignItems:"center",children:[Object(Y.jsx)(N.default,{flexBasis:"18%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"action__receive"})})}),Object(Y.jsx)(N.default,{flexBasis:"18%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__pay"})})}),Object(Y.jsx)(N.default,{flexBasis:"18%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"Rate"})})}),Object(Y.jsx)(N.default,{flexBasis:"18%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"content__created"})})}),Object(Y.jsx)(N.default,{flexBasis:"18%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__provider_uppercase"})})}),Object(Y.jsx)(N.default,{flexBasis:"10%",children:Object(Y.jsx)(te.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__status"})})})]})},DO=function(){return Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(IO,{}),Object(Y.jsx)(TO,{})]})},RO=function(){var e=Object(y.default)(),t=Object(w.useNavigation)(),n=Object(ef.useWalletsSwapTransactions)(),r=Object(i.useMemo)((function(){return n}),[n]);Object(i.useEffect)((function(){t.setOptions({title:e.formatMessage({id:"transaction__history"})})}),[t,e]);var o=Object(i.useCallback)((function(e){var t=e.item;return Object(Y.jsx)(_O,{tx:t})}),[]);return Object(Y.jsx)(gt.default,{data:r,renderItem:o,ItemSeparatorComponent:PO,ListFooterComponent:MO,ListHeaderComponent:DO,ListEmptyComponent:AO})},EO=function(){var e=Object(y.default)(),t=Object(i.useState)(!1),n=x()(t,2),r=n[0],o=n[1],a=Object(i.useCallback)((function(){o(!0)}),[]),c=Object(i.useCallback)((function(){W.default.serviceSwap.clearTransactions(),o(!1)}),[]);return Object(Y.jsxs)(N.default,{px:"4",children:[Object(Y.jsx)(yt.default,{type:"plain",name:"TrashOutline",onPress:a}),Object(Y.jsx)(Dt.default,{visible:r,contentProps:{iconName:"TrashMini",iconType:"danger",title:e.formatMessage({id:"action__clear_swap_history"}),content:e.formatMessage({id:"action__clear_swap_history_desc"})},footerButtonProps:{primaryActionTranslationId:"action__clear",primaryActionProps:{type:"destructive"},onPrimaryActionPress:c,onSecondaryActionPress:function(){o(!1)}}})]})},BO=function(e){var t=e.children,n=Object(w.useNavigation)(),r=Object(y.default)(),o=Object(j.default)(),a=Object(i.useCallback)((function(){n.goBack()}),[n]);return Object(i.useLayoutEffect)((function(){o?n.setOptions({headerRight:function(){return Object(Y.jsx)(EO,{})}}):n.setOptions({headerShown:!1})}),[n,o]),o?Object(Y.jsx)(N.default,{bg:"background-default",w:"full",h:"full",style:{maxWidth:768,marginHorizontal:"auto"},children:t}):Object(Y.jsxs)(N.default,{bg:"background-default",w:"full",h:"full",px:"8",children:[Object(Y.jsx)(N.default,{w:"full",flexDirection:"row",alignItems:"center",py:"5",children:Object(Y.jsx)(yt.default,{onPress:a,type:"plain",name:"ArrowLeftOutline"})}),Object(Y.jsxs)(N.default,{display:"flex",justifyContent:"space-between",flexDirection:"row",mb:"4",children:[Object(Y.jsx)(te.default.DisplayLarge,{px:"4",children:r.formatMessage({id:"title__swap_history"})}),Object(Y.jsx)(EO,{})]}),t]})},NO=function(){return Object(Y.jsx)(BO,{children:Object(Y.jsx)(RO,{})})};function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HO=b.TabRoutes.Swap,zO=[nd,cb,WO(WO({},Ce[HO]),{},{hideDesktopNavHeader:!0,component:Jt(on((function(){return Object(Y.jsx)(rb,{routeName:b.TabRoutes.Swap})}),{rootTabName:HO}),HO),children:[{name:b.HomeRoutes.SwapHistory,component:NO}]}),hO,hn,jp],FO=ke.map((function(e){var t=zO.find((function(t){return t.name===e}));if(t){if(t.hideOnProduction)return;return t}})).filter(Boolean),UO=n(4553),VO=n(4039),GO=function(e){var t=e.headerLeft,n=e.headerRight,r=e.showOnDesktop,o=e.i18nTitle,a=e.testID,i=Object(j.default)(),c=i?57:65,l=Object(Xt.default)().themeVariant,s=Object(Y.jsx)(fe.default,{children:Object(Y.jsx)(N.default,{testID:a,children:Object(Y.jsx)(VO.default,{style:{height:c},headerLeft:t,headerRight:n,i18nTitle:o})})});return i||r?Object(Y.jsx)(Y.Fragment,{children:"web"===M.default.OS?s:Object(Y.jsx)(UO.default,{intensity:0,tint:"light"===l?"light":"dark"===l?"dark":"default",children:s})}):null},qO=function(){return null};function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ZO=function(e){var t=Object(H.useAppSelector)((function(e){return e.data.isPasswordSet})),n=qO(),r=Object(i.useMemo)((function(){var e=[{id:"action__scan",onPress:function(){return Object(Yb.gotoScanQrcode)()},icon:"ViewfinderCircleMini"},d.default.isExtensionUiPopup&&{id:"form__expand_view",onPress:function(){W.default.serviceApp.openExtensionExpandTab({routes:""})},icon:"ArrowsPointingOutOutline"},t&&{id:"action__lock_now",onPress:function(){return W.default.serviceApp.lock(!0)},icon:"LockClosedMini"}];return n?e.concat(n):e}),[t,n]);return Object(Y.jsx)(Il.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KO(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:r},e))},XO=function(){return Object(Y.jsx)(de,{})},YO=function(){return Object(Y.jsxs)(vt.default,{space:3,alignItems:"center",children:[Object(Y.jsx)(wn.NetworkAccountSelectorTriggerMobile,{allowSelectAllNetworks:!0}),Object(Y.jsx)(ZO,{children:Object(Y.jsx)(yt.default,{name:"EllipsisVerticalOutline",type:"plain",size:"lg",circle:!0,m:-2})})]})};function QO(){return Object(Y.jsx)(GO,{testID:"App-Layout-Header-Mobile",showOnDesktop:!1,headerLeft:XO,headerRight:YO})}function JO(e){var t=e.i18nTitle,n=function(){var e,t=Object(ae.useAutoUpdate)(),n=t.latest,r=t.state,o=(null!=(e=Object(ae.useSettings)().updateSetting)?e:{}).autoDownload;return{showUpdateBadge:Object(i.useMemo)((function(){var e=!1;return o||"available"!==r||(e=!0),"ready"===r&&(e=!0),n&&"version"in n&&vb.default.skipVersionCheck(n.version)&&(e=!1),Z.default.autoUpdate.debug("useCheckUpdate render, showBadge: ",e),e}),[n,o,r]),showMobileUpdateBadge:Object(i.useMemo)((function(){return"available"===r&&(Z.default.autoUpdate.debug("useCheckUpdate render, showMobileBadge: true"),!0)}),[r])}}().showUpdateBadge;Object(i.useEffect)((function(){Z.default.autoUpdate.debug("LayoutHeaderDesktop showUpdateBadge effect: ",n)}),[n]);var r=Object(i.useCallback)((function(){return Object(Y.jsxs)(vt.default,{space:2,alignItems:"center",children:[Object(Y.jsx)(wn.NetworkAccountSelectorTriggerDesktop,{allowSelectAllNetworks:!0}),Object(Y.jsxs)(N.default,{children:[Object(Y.jsx)(ZO,{children:Object(Y.jsx)(yt.default,{name:"EllipsisVerticalOutline",size:"lg",type:"plain",circle:!0,m:-2})}),n&&Object(Y.jsx)(N.default,{position:"absolute",top:"-3px",right:"-8px",rounded:"full",p:"2px",pr:"9px",children:Object(Y.jsx)(N.default,{rounded:"full",bgColor:"interactive-default",size:"8px"})})]})]})}),[n]);return Object(Y.jsx)(GO,{testID:"App-Layout-Header-Desktop",showOnDesktop:!0,i18nTitle:t,headerRight:r})}function $O(e){var t=e.i18nTitle,n=Object(j.default)()?Object(Y.jsx)(QO,{}):Object(Y.jsx)(JO,{i18nTitle:t});return Object(Y.jsx)(N.default,{testID:"WalletSelectorNavHeader",children:n})}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nm=["name","component"],rm=ot(),om=Object(v.default)(),am=function(e,t){var n=FO.find((function(t){return t.name===e})),r=[{name:Object(it.buildAppRootTabName)(n.name),component:n.component,alwaysShowBackButton:!1,i18nTitle:n.translationId}].concat(g()(n.children||[]));return function(){var e=Object(a.default)(["background-default","border-subdued"]),o=x()(e,2),i=o[0],c=o[1];return Object(Y.jsx)(om.Navigator,{children:r.map((function(e,r){var o=e.name,a=e.component,l=O()(e,nm),s=function(e){var t=e.tab,n=e.index,r=(e.name,e.i18nTitle),o=e.stackOptions,a=e.bgColor,i=e.borderBottomColor,c=e.isVerticalLayout,l=!0;return 0===n?(c&&t.hideMobileNavHeader&&(l=!1),!c&&t.hideDesktopNavHeader&&(l=!1)):l=!0,{headerRender:"AccountSelector"===(0===n?t.navHeaderType:"SimpleTitle")?function(e){return Object(Y.jsx)($O,{i18nTitle:r})}:function(e){return Object(Y.jsx)(VO.default,tm(tm({style:{backgroundColor:a,borderBottomWidth:0,shadowColor:i}},e),o))},headerShown:l}}({tab:n,index:r,name:o,i18nTitle:l.i18nTitle,stackOptions:l,bgColor:i,borderBottomColor:c,isVerticalLayout:t}),u=s.headerShown,d=s.headerRender;return Object(Y.jsx)(om.Screen,{name:o,component:a,options:{header:d,headerShown:u}},o)}))})}},im=Object(i.memo)((function(){var e=Object(y.default)(),t=Object(j.default)(),n=Object(i.useMemo)((function(){return d.default.isNewRouteMode?function(){return null}:function(){return Object(Y.jsx)(QO,{})}}),[]),r=Object(i.useMemo)((function(){var n=FO;return t&&!d.default.isNewRouteMode&&(n=FO.filter((function(e){return e.name!==b.TabRoutes.Swap}))),n.map((function(n){return Object(Y.jsx)(rm.Screen,{name:n.name,component:d.default.isNewRouteMode||!t?am(n.name,t):n.component,options:{tabBarIcon:n.tabBarIcon,tabBarLabel:e.formatMessage({id:n.translationId}),tabBarStyle:{display:"none",height:0}}},n.name)}))}),[e,t]);return Object(i.useMemo)((function(){return Object(Y.jsx)(at.LazyDisplayView,{delay:100,hideOnUnmount:!1,isLazyDisabled:!1,children:Object(Y.jsx)(rm.Navigator,{screenOptions:{header:n,freezeOnBlur:!0,lazy:!0},children:r})})}),[n,r])}));function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var lm=Object(c.default)();t.default=Object(i.memo)((function(){var e=Object(a.default)("background-default"),t=Object(i.useMemo)((function(){var t={width:u(),backgroundColor:e};return d.default.isRuntimeBrowser&&(t.opacity=1),{headerShown:!1,drawerType:"back",drawerStyle:t,swipeEnabled:!1}}),[e]),n=Object(i.useCallback)((function(e){return Object(Y.jsx)(f.WalletSelectorMobile,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}),[]);return Object(Y.jsx)(lm.Navigator,{screenOptions:t,drawerContent:n,children:Object(Y.jsx)(lm.Screen,{name:b.MainRoutes.Tab,component:im})})}))}}]);