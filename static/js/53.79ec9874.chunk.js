(this.webpackJsonp=this.webpackJsonp||[]).push([[53],{3925:function(e){e.exports=JSON.parse('{"COMPRESSED_TYPE_INVALID":"compressed should be a boolean","EC_PRIVATE_KEY_TYPE_INVALID":"private key should be a Buffer","EC_PRIVATE_KEY_LENGTH_INVALID":"private key length is invalid","EC_PRIVATE_KEY_RANGE_INVALID":"private key range is invalid","EC_PRIVATE_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting private key is invalid","EC_PRIVATE_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PRIVATE_KEY_EXPORT_DER_FAIL":"couldn\'t export to DER format","EC_PRIVATE_KEY_IMPORT_DER_FAIL":"couldn\'t import from DER format","EC_PUBLIC_KEYS_TYPE_INVALID":"public keys should be an Array","EC_PUBLIC_KEYS_LENGTH_INVALID":"public keys Array should have at least 1 element","EC_PUBLIC_KEY_TYPE_INVALID":"public key should be a Buffer","EC_PUBLIC_KEY_LENGTH_INVALID":"public key length is invalid","EC_PUBLIC_KEY_PARSE_FAIL":"the public key could not be parsed or is invalid","EC_PUBLIC_KEY_CREATE_FAIL":"private was invalid, try again","EC_PUBLIC_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting public key is invalid","EC_PUBLIC_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PUBLIC_KEY_COMBINE_FAIL":"the sum of the public keys is not valid","ECDH_FAIL":"scalar was invalid (zero or overflow)","ECDSA_SIGNATURE_TYPE_INVALID":"signature should be a Buffer","ECDSA_SIGNATURE_LENGTH_INVALID":"signature length is invalid","ECDSA_SIGNATURE_PARSE_FAIL":"couldn\'t parse signature","ECDSA_SIGNATURE_PARSE_DER_FAIL":"couldn\'t parse DER signature","ECDSA_SIGNATURE_SERIALIZE_DER_FAIL":"couldn\'t serialize signature to DER format","ECDSA_SIGN_FAIL":"nonce generation function failed or private key is invalid","ECDSA_RECOVER_FAIL":"couldn\'t recover public key from signature","MSG32_TYPE_INVALID":"message should be a Buffer","MSG32_LENGTH_INVALID":"message length is invalid","OPTIONS_TYPE_INVALID":"options should be an Object","OPTIONS_DATA_TYPE_INVALID":"options.data should be a Buffer","OPTIONS_DATA_LENGTH_INVALID":"options.data length is invalid","OPTIONS_NONCEFN_TYPE_INVALID":"options.noncefn should be a Function","RECOVERY_ID_TYPE_INVALID":"recovery should be a Number","RECOVERY_ID_VALUE_INVALID":"recovery should have value between -1 and 4","TWEAK_TYPE_INVALID":"tweak should be a Buffer","TWEAK_LENGTH_INVALID":"tweak length is invalid"}')},3932:function(e,r,t){var n=t(313).Buffer;e.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var r=e[3];if(0===r)return!1;if(5+r>=e.length)return!1;if(2!==e[4+r])return!1;var t=e[5+r];return 0!==t&&(6+r+t===e.length&&(!(128&e[4])&&(!(r>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[r+6])&&!(t>1&&0===e[r+6]&&!(128&e[r+7]))))))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var r=e[3];if(0===r)throw new Error("R length is zero");if(5+r>=e.length)throw new Error("R length is too long");if(2!==e[4+r])throw new Error("Expected DER integer (2)");var t=e[5+r];if(0===t)throw new Error("S length is zero");if(6+r+t!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(r>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[r+6])throw new Error("S value is negative");if(t>1&&0===e[r+6]&&!(128&e[r+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+r),s:e.slice(6+r)}},encode:function(e,r){var t=e.length,i=r.length;if(0===t)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(t>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&r[0])throw new Error("S value is negative");if(t>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===r[0]&&!(128&r[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+t+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+t]=2,o[5+t]=r.length,r.copy(o,6+t),o}}},3936:function(e,r,t){"use strict";e.exports=t(3937)(t(3940))},3937:function(e,r,t){"use strict";var n=t(3938),i=t(3939),o=t(3925);function a(e,r){return void 0===e?r:(n.isBoolean(e,o.COMPRESSED_TYPE_INVALID),e)}e.exports=function(e){return{privateKeyVerify:function(r){return n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),32===r.length&&e.privateKeyVerify(r)},privateKeyExport:function(r,t){n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t=a(t,!0);var s=e.privateKeyExport(r,t);return i.privateKeyExport(r,s,t)},privateKeyImport:function(r){if(n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),(r=i.privateKeyImport(r))&&32===r.length&&e.privateKeyVerify(r))return r;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(r){return n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(r)},privateKeyModInverse:function(r){return n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(r)},privateKeyTweakAdd:function(r,t){return n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(t,o.TWEAK_TYPE_INVALID),n.isBufferLength(t,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(r,t)},privateKeyTweakMul:function(r,t){return n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(t,o.TWEAK_TYPE_INVALID),n.isBufferLength(t,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(r,t)},publicKeyCreate:function(r,t){return n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t=a(t,!0),e.publicKeyCreate(r,t)},publicKeyConvert:function(r,t){return n.isBuffer(r,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(r,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),t=a(t,!0),e.publicKeyConvert(r,t)},publicKeyVerify:function(r){return n.isBuffer(r,o.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(r)},publicKeyTweakAdd:function(r,t,i){return n.isBuffer(r,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(r,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(t,o.TWEAK_TYPE_INVALID),n.isBufferLength(t,32,o.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakAdd(r,t,i)},publicKeyTweakMul:function(r,t,i){return n.isBuffer(r,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(r,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(t,o.TWEAK_TYPE_INVALID),n.isBufferLength(t,32,o.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakMul(r,t,i)},publicKeyCombine:function(r,t){n.isArray(r,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(r,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<r.length;++i)n.isBuffer(r[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(r[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return t=a(t,!0),e.publicKeyCombine(r,t)},signatureNormalize:function(r){return n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(r)},signatureExport:function(r){n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var t=e.signatureExport(r);return i.signatureExport(t)},signatureImport:function(r){n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(r,o.ECDSA_SIGNATURE_LENGTH_INVALID);var t=i.signatureImport(r);if(t)return e.signatureImport(t);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(r){n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(r,o.ECDSA_SIGNATURE_LENGTH_INVALID);var t=i.signatureImportLax(r);if(t)return e.signatureImport(t);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(r,t,i){n.isBuffer(r,o.MSG32_TYPE_INVALID),n.isBufferLength(r,32,o.MSG32_LENGTH_INVALID),n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var a=null,s=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),a=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),s=i.noncefn)),e.sign(r,t,s,a)},verify:function(r,t,i){return n.isBuffer(r,o.MSG32_TYPE_INVALID),n.isBufferLength(r,32,o.MSG32_LENGTH_INVALID),n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(r,t,i)},recover:function(r,t,i,s){return n.isBuffer(r,o.MSG32_TYPE_INVALID),n.isBufferLength(r,32,o.MSG32_LENGTH_INVALID),n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),s=a(s,!0),e.recover(r,t,i,s)},ecdh:function(r,t){return n.isBuffer(r,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(r,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(r,t)},ecdhUnsafe:function(r,t,i){return n.isBuffer(r,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(r,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=a(i,!0),e.ecdhUnsafe(r,t,i)}}}},3938:function(e,r,t){"use strict";(function(e){var t=Object.prototype.toString;r.isArray=function(e,r){if(!Array.isArray(e))throw TypeError(r)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(r,t){if(!e.isBuffer(r))throw TypeError(t)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,r,t){if(e.length!==r)throw RangeError(t)},r.isBufferLength2=function(e,r,t,n){if(e.length!==r&&e.length!==t)throw RangeError(n)},r.isLengthGTZero=function(e,r){if(0===e.length)throw RangeError(r)},r.isNumberInInterval=function(e,r,t,n){if(e<=r||e>=t)throw RangeError(n)}}).call(this,t(26).Buffer)},3939:function(e,r,t){"use strict";var n=t(313).Buffer,i=t(3932),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,r,t){var i=n.from(t?o:a);return e.copy(i,t?8:9),r.copy(i,t?181:214),i},r.privateKeyImport=function(e){var r=e.length,t=0;if(!(r<t+1||48!==e[t])&&!(r<(t+=1)+1)&&128&e[t]){var n=127&e[t];if(t+=1,!(n<1||n>2)&&!(r<t+n)){var i=e[t+n-1]|(n>1?e[t+n-2]<<8:0);if(!(r<(t+=n)+i)&&!(r<t+3||2!==e[t]||1!==e[t+1]||1!==e[t+2])&&!(r<(t+=3)+2||4!==e[t]||e[t+1]>32||r<t+2+e[t+1]))return e.slice(t+2,t+2+e[t+1])}}},r.signatureExport=function(e){for(var r=n.concat([n.from([0]),e.r]),t=33,o=0;t>1&&0===r[o]&&!(128&r[o+1]);--t,++o);for(var a=n.concat([n.from([0]),e.s]),s=33,u=0;s>1&&0===a[u]&&!(128&a[u+1]);--s,++u);return i.encode(r.slice(o),a.slice(u))},r.signatureImport=function(e){var r=n.alloc(32,0),t=n.alloc(32,0);try{var o=i.decode(e);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(a){return}return o.r.copy(r,32-o.r.length),o.s.copy(t,32-o.s.length),{r:r,s:t}},r.signatureImportLax=function(e){var r=n.alloc(32,0),t=n.alloc(32,0),i=e.length,o=0;if(48===e[o++]){var a=e[o++];if(!(128&a&&(o+=a-128)>i)&&2===e[o++]){var s=e[o++];if(128&s){if(o+(a=s-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(s=0;a>0;o+=1,a-=1)s=(s<<8)+e[o]}if(!(s>i-o)){var u=o;if(o+=s,2===e[o++]){var c=e[o++];if(128&c){if(o+(a=c-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(c=0;a>0;o+=1,a-=1)c=(c<<8)+e[o]}if(!(c>i-o)){var l=o;for(o+=c;s>0&&0===e[u];s-=1,u+=1);if(!(s>32)){var f=e.slice(u,u+s);for(f.copy(r,32-f.length);c>0&&0===e[l];c-=1,l+=1);if(!(c>32)){var h=e.slice(l,l+c);return h.copy(t,32-h.length),{r:r,s:t}}}}}}}}}},3940:function(e,r,t){"use strict";var n=t(313).Buffer,i=t(746),o=t(166),a=t(521).ec,s=t(3925),u=new a("secp256k1"),c=u.curve;function l(e){var r=e[0];switch(r){case 2:case 3:return 33!==e.length?null:function(e,r){var t=new o(r);if(t.cmp(c.p)>=0)return null;var n=(t=t.toRed(c.red)).redSqr().redIMul(t).redIAdd(c.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),u.keyPair({pub:{x:t,y:n}})}(r,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,r,t){var n=new o(r),i=new o(t);if(n.cmp(c.p)>=0||i.cmp(c.p)>=0)return null;if(n=n.toRed(c.red),i=i.toRed(c.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(c.b)).isZero()?u.keyPair({pub:{x:n,y:i}}):null}(r,e.slice(1,33),e.slice(33,65));default:return null}}r.privateKeyVerify=function(e){var r=new o(e);return r.cmp(c.n)<0&&!r.isZero()},r.privateKeyExport=function(e,r){var t=new o(e);if(t.cmp(c.n)>=0||t.isZero())throw new Error(s.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(u.keyFromPrivate(e).getPublic(r,!0))},r.privateKeyNegate=function(e){var r=new o(e);return r.isZero()?n.alloc(32):c.n.sub(r).umod(c.n).toArrayLike(n,"be",32)},r.privateKeyModInverse=function(e){var r=new o(e);if(r.cmp(c.n)>=0||r.isZero())throw new Error(s.EC_PRIVATE_KEY_RANGE_INVALID);return r.invm(c.n).toArrayLike(n,"be",32)},r.privateKeyTweakAdd=function(e,r){var t=new o(r);if(t.cmp(c.n)>=0)throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(t.iadd(new o(e)),t.cmp(c.n)>=0&&t.isub(c.n),t.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return t.toArrayLike(n,"be",32)},r.privateKeyTweakMul=function(e,r){var t=new o(r);if(t.cmp(c.n)>=0||t.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return t.imul(new o(e)),t.cmp(c.n)&&(t=t.umod(c.n)),t.toArrayLike(n,"be",32)},r.publicKeyCreate=function(e,r){var t=new o(e);if(t.cmp(c.n)>=0||t.isZero())throw new Error(s.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(u.keyFromPrivate(e).getPublic(r,!0))},r.publicKeyConvert=function(e,r){var t=l(e);if(null===t)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(t.getPublic(r,!0))},r.publicKeyVerify=function(e){return null!==l(e)},r.publicKeyTweakAdd=function(e,r,t){var i=l(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((r=new o(r)).cmp(c.n)>=0)throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var a=c.g.mul(r).add(i.pub);if(a.isInfinity())throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(a.encode(!0,t))},r.publicKeyTweakMul=function(e,r,t){var i=l(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((r=new o(r)).cmp(c.n)>=0||r.isZero())throw new Error(s.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(r).encode(!0,t))},r.publicKeyCombine=function(e,r){for(var t=new Array(e.length),i=0;i<e.length;++i)if(t[i]=l(e[i]),null===t[i])throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=t[0].pub,a=1;a<t.length;++a)o=o.add(t[a].pub);if(o.isInfinity())throw new Error(s.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(o.encode(!0,r))},r.signatureNormalize=function(e){var r=new o(e.slice(0,32)),t=new o(e.slice(32,64));if(r.cmp(c.n)>=0||t.cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===t.cmp(u.nh)&&c.n.sub(t).toArrayLike(n,"be",32).copy(i,32),i},r.signatureExport=function(e){var r=e.slice(0,32),t=e.slice(32,64);if(new o(r).cmp(c.n)>=0||new o(t).cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);return{r:r,s:t}},r.signatureImport=function(e){var r=new o(e.r);r.cmp(c.n)>=0&&(r=new o(0));var t=new o(e.s);return t.cmp(c.n)>=0&&(t=new o(0)),n.concat([r.toArrayLike(n,"be",32),t.toArrayLike(n,"be",32)])},r.sign=function(e,r,t,i){if("function"===typeof t){var a=t;t=function(t){var u=a(e,r,null,i,t);if(!n.isBuffer(u)||32!==u.length)throw new Error(s.ECDSA_SIGN_FAIL);return new o(u)}}var l=new o(r);if(l.cmp(c.n)>=0||l.isZero())throw new Error(s.ECDSA_SIGN_FAIL);var f=u.sign(e,r,{canonical:!0,k:t,pers:i});return{signature:n.concat([f.r.toArrayLike(n,"be",32),f.s.toArrayLike(n,"be",32)]),recovery:f.recoveryParam}},r.verify=function(e,r,t){var n={r:r.slice(0,32),s:r.slice(32,64)},i=new o(n.r),a=new o(n.s);if(i.cmp(c.n)>=0||a.cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);if(1===a.cmp(u.nh)||i.isZero()||a.isZero())return!1;var f=l(t);if(null===f)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return u.verify(e,n,{x:f.pub.x,y:f.pub.y})},r.recover=function(e,r,t,i){var a={r:r.slice(0,32),s:r.slice(32,64)},l=new o(a.r),f=new o(a.s);if(l.cmp(c.n)>=0||f.cmp(c.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);try{if(l.isZero()||f.isZero())throw new Error;var h=u.recoverPubKey(e,a,t);return n.from(h.encode(!0,i))}catch(d){throw new Error(s.ECDSA_RECOVER_FAIL)}},r.ecdh=function(e,t){var n=r.ecdhUnsafe(e,t,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(e,r,t){var i=l(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var a=new o(r);if(a.cmp(c.n)>=0||a.isZero())throw new Error(s.ECDH_FAIL);return n.from(i.pub.mul(a).encode(!0,t))}},4005:function(e,r,t){"use strict";t.r(r),function(e){t.d(r,"bcs",(function(){return M})),t.d(r,"crypto_hash",(function(){return Rr})),t.d(r,"encoding",(function(){return tt})),t.d(r,"onchain_events",(function(){return Hn})),t.d(r,"providers",(function(){return kn})),t.d(r,"serde",(function(){return bn})),t.d(r,"starcoin_types",(function(){return Nr})),t.d(r,"types",(function(){return K})),t.d(r,"utils",(function(){return wn})),t.d(r,"version",(function(){return yt}));var n=t(445),i=t(22),o=t(4618),a=t(655),s=t(665),u=t(4619),c=t.n(u),l=t(4361),f=t.n(l),h=t(4620),d=t.n(h),p=t(4362),v=t.n(p),_=t(4621),g=t.n(_),m=t(32),y=t(174),w=t(92),b=t(30),E=t(284),z=t(1654),I=t.n(z);function A(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,r,t){return r&&A(e.prototype,r),t&&A(e,t),e}function P(){return(P=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function k(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,N(e,r)}function N(e,r){return(N=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function B(e,r){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"===typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,r):void 0}}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}var O={SINGLE:0,MULTI:1};function x(e){var r=e.address+"::"+e.module+"::"+e.name;if(e.type_params&&e.type_params.length>0){r=(r=r.concat("<")).concat(U(e.type_params[0]));for(var t,n=B(e.type_params.slice(1));!(t=n()).done;){var i=t.value;r=r.concat(",").concat(U(i))}r=r.concat(">")}return r}function U(e){if("string"===typeof e)return e.toLowerCase();if("object"===typeof e){if(void 0!==e.Vector)return"vector<"+U(e.Vector)+">";if(void 0!==e.Struct)return x(e.Struct)}}var V="Executed",R="OutOfGas",C="MiscellaneousError";function j(e){return"string"!==typeof e?e.address+"::"+e.module+"::"+e.functionName:e}function D(e){if("string"!==typeof e)return e;var r=e.split("::",3);if(3!==r.length)throw new Error("cannot parse "+e+" into FunctionId");return{address:r[0],module:r[1],functionName:r[2]}}var K={__proto__:null,accountType:O,formatStructTag:x,formatTypeTag:U,TransactionVMStatus_Executed:V,TransactionVMStatus_OutOfGas:R,TransactionVMStatus_MiscellaneousError:C,formatFunctionId:j,parseFunctionId:D},H=function(){function e(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}var r=e.prototype;return r.read=function(e){var r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r},r.deserializeStr=function(){var r=this.deserializeBytes();return e.textDecoder.decode(r)},r.deserializeBytes=function(){var e=this.deserializeLen();if(e<0)throw new Error("Length of a bytes array can't be negative");return new Uint8Array(this.read(e))},r.deserializeBool=function(){return 1==new Uint8Array(this.read(1))[0]},r.deserializeUnit=function(){return null},r.deserializeU8=function(){return new DataView(this.read(1)).getUint8(0)},r.deserializeU16=function(){return new DataView(this.read(2)).getUint16(0,!0)},r.deserializeU32=function(){return new DataView(this.read(4)).getUint32(0,!0)},r.deserializeU64=function(){var r=this.deserializeU32(),t=this.deserializeU32();return BigInt(t)<<e.BIG_32|BigInt(r)},r.deserializeU128=function(){var r=this.deserializeU64(),t=this.deserializeU64();return BigInt(t)<<e.BIG_64|BigInt(r)},r.deserializeI8=function(){return new DataView(this.read(1)).getInt8(0)},r.deserializeI16=function(){return new DataView(this.read(2)).getInt16(0,!0)},r.deserializeI32=function(){return new DataView(this.read(4)).getInt32(0,!0)},r.deserializeI64=function(){var r=this.deserializeI32(),t=this.deserializeI32();return BigInt(t)<<e.BIG_32|BigInt(r)},r.deserializeI128=function(){var r=this.deserializeI64(),t=this.deserializeI64();return BigInt(t)<<e.BIG_64|BigInt(r)},r.deserializeOptionTag=function(){return this.deserializeBool()},r.getBufferOffset=function(){return this.offset},r.deserializeChar=function(){throw new Error("Method deserializeChar not implemented.")},r.deserializeF32=function(){return new DataView(this.read(4)).getFloat32(0,!0)},r.deserializeF64=function(){return new DataView(this.read(8)).getFloat64(0,!0)},e}();H.BIG_32=BigInt(32),H.BIG_64=BigInt(64),H.textDecoder=new TextDecoder;var G=function(e){function r(r){return e.call(this,r)||this}k(r,e);var t=r.prototype;return t.deserializeUleb128AsU32=function(){for(var e=0,t=0;t<32;t+=7){var n=this.deserializeU8(),i=127&n;if((e|=i<<t)<0||e>r.MAX_UINT_32)throw new Error("Overflow while parsing uleb128-encoded uint32 value");if(i==n){if(t>0&&0==i)throw new Error("Invalid uleb128 number (unexpected zero digit)");return e}}throw new Error("Overflow while parsing uleb128-encoded uint32 value")},t.deserializeLen=function(){return this.deserializeUleb128AsU32()},t.deserializeVariantIndex=function(){return this.deserializeUleb128AsU32()},t.checkThatKeySlicesAreIncreasing=function(e,r){},r}(H);G.MAX_UINT_32=Math.pow(2,32)-1;var F=function(){function e(){this.buffer=new ArrayBuffer(64),this.offset=0}var r=e.prototype;return r.ensureBufferWillHandleSize=function(e){for(;this.buffer.byteLength<this.offset+e;){var r=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r}},r.serialize=function(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length},r.serializeStr=function(r){this.serializeBytes(e.textEncoder.encode(r))},r.serializeBytes=function(e){this.serializeLen(e.length),this.serialize(e)},r.serializeBool=function(e){var r=e?1:0;this.serialize(new Uint8Array([r]))},r.serializeUnit=function(e){},r.serializeWithFunction=function(e,r,t){this.ensureBufferWillHandleSize(r);var n=new DataView(this.buffer,this.offset);e.apply(n,[0,t,!0]),this.offset+=r},r.serializeU8=function(e){this.serialize(new Uint8Array([e]))},r.serializeU16=function(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)},r.serializeU32=function(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)},r.serializeU64=function(r){var t=BigInt(r)&e.BIG_32Fs,n=BigInt(r)>>e.BIG_32;this.serializeU32(Number(t)),this.serializeU32(Number(n))},r.serializeU128=function(r){var t=BigInt(r)&e.BIG_64Fs,n=BigInt(r)>>e.BIG_64;this.serializeU64(t),this.serializeU64(n)},r.serializeI8=function(e){this.ensureBufferWillHandleSize(1),new DataView(this.buffer,this.offset).setInt8(0,e),this.offset+=1},r.serializeI16=function(e){this.ensureBufferWillHandleSize(2),new DataView(this.buffer,this.offset).setInt16(0,e,!0),this.offset+=2},r.serializeI32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setInt32(0,e,!0),this.offset+=4},r.serializeI64=function(r){var t=BigInt(r)&e.BIG_32Fs,n=BigInt(r)>>e.BIG_32;this.serializeI32(Number(t)),this.serializeI32(Number(n))},r.serializeI128=function(r){var t=BigInt(r)&e.BIG_64Fs,n=BigInt(r)>>e.BIG_64;this.serializeI64(t),this.serializeI64(n)},r.serializeOptionTag=function(e){this.serializeBool(e)},r.getBufferOffset=function(){return this.offset},r.getBytes=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},r.serializeChar=function(e){throw new Error("Method serializeChar not implemented.")},r.serializeF32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setFloat32(0,e,!0),this.offset+=4},r.serializeF64=function(e){this.ensureBufferWillHandleSize(8),new DataView(this.buffer,this.offset).setFloat64(0,e,!0),this.offset+=8},e}();F.BIG_32=BigInt(32),F.BIG_64=BigInt(64),F.BIG_32Fs=BigInt("4294967295"),F.BIG_64Fs=BigInt("18446744073709551615"),F.textEncoder=new TextEncoder;var Y=function(e){function r(){return e.call(this)||this}k(r,e);var t=r.prototype;return t.serializeU32AsUleb128=function(e){for(var r=[];e>>>7!=0;)r.push(127&e|128),e>>>=7;r.push(e),this.serialize(new Uint8Array(r))},t.serializeLen=function(e){this.serializeU32AsUleb128(e)},t.serializeVariantIndex=function(e){this.serializeU32AsUleb128(e)},t.sortMapEntries=function(e){},r}(F),M={__proto__:null,BcsDeserializer:G,BcsSerializer:Y};function W(e){return("00000000000000000000000000000000"+(e>>>0).toString(2)).slice(-32)}function q(e){return Number.parseInt(Number.parseInt(e,2).toString(10),10)}function J(e){var r=W(e).match(/.{1,8}/g);return Uint8Array.from(r.map((function(e){return q(e)})))}function Z(e){var r=[];return e.forEach((function(e){return r.push(W(e).slice(-8))})),q(r.join(""))}function X(e,r){if(r>31||r<0)throw new Error("mask: invalid idx at "+r+", should be between 0 and 31");return e|1<<32-r-1}function Q(e,r){if(r>31||r<0)throw new Error("mask: invalid idx at "+r+", should be between 0 and 31");return(e>>32-r-1)%2!==0}var $={__proto__:null,dec2bin:W,bin2dec:q,dec2uint8array:J,uint8array2dec:Z,setBit:X,isSetBit:Q},ee="Key or signature material deserializes, but is otherwise not valid",re="Key, threshold or signature material does not have the expected size",te="BitVec errors in accountable multi-sig schemes",ne=function(){function e(e,r){this.field0=e,this.field1=r}return e.prototype.serialize=function(e){this.field0.serialize(e),this.field1.serialize(e)},e.deserialize=function(r){return new e(ie.deserialize(r),de.deserialize(r))},e}(),ie=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){Ir.serializeArray16U8Array(this.value,e)},e.deserialize=function(r){return new e(Ir.deserializeArray16U8Array(r))},e}();ie.LENGTH=16;var oe=function(){function e(e,r,t,n,i,o,a){this.authentication_key=e,this.withdrawal_capability=r,this.key_rotation_capability=t,this.withdraw_events=n,this.deposit_events=i,this.accept_token_events=o,this.sequence_number=a}return e.prototype.serialize=function(e){Ir.serializeVectorU8(this.authentication_key,e),Ir.serializeOptionWithdrawCapabilityResource(this.withdrawal_capability,e),Ir.serializeOptionKeyRotationCapabilityResource(this.key_rotation_capability,e),this.withdraw_events.serialize(e),this.deposit_events.serialize(e),this.accept_token_events.serialize(e),e.serializeU64(this.sequence_number)},e.deserialize=function(r){return new e(Ir.deserializeVectorU8(r),Ir.deserializeOptionWithdrawCapabilityResource(r),Ir.deserializeOptionKeyRotationCapabilityResource(r),Ee.deserialize(r),Ee.deserialize(r),Ee.deserialize(r),r.deserializeU64())},e}(),ae=function(){function e(e,r){this.name=e,this.type_tag=r}return e.prototype.serialize=function(e){e.serializeStr(this.name),this.type_tag.serialize(e)},e.deserialize=function(r){return new e(r.deserializeStr(),cr.deserialize(r))},e}(),se=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),ue=function(){function e(e,r,t,n,i,o,a,s){this.parent_hash=e,this.timestamp=r,this.author=t,this.author_auth_key=n,this.uncles=i,this.number=o,this.chain_id=a,this.parent_gas_used=s}return e.prototype.serialize=function(e){this.parent_hash.serialize(e),e.serializeU64(this.timestamp),this.author.serialize(e),Ir.serializeOptionAuthenticationKey(this.author_auth_key,e),e.serializeU64(this.uncles),e.serializeU64(this.number),this.chain_id.serialize(e),e.serializeU64(this.parent_gas_used)},e.deserialize=function(r){return new e(Ie.deserialize(r),r.deserializeU64(),ie.deserialize(r),Ir.deserializeOptionAuthenticationKey(r),r.deserializeU64(),r.deserializeU64(),ce.deserialize(r),r.deserializeU64())},e}(),ce=function(){function e(e){this.id=e}return e.prototype.serialize=function(e){e.serializeU8(this.id)},e.deserialize=function(r){return new e(r.deserializeU8())},e}(),le=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return fe.load(e);default:throw new Error("Unknown variant index for ContractEvent: "+r)}},e}(),fe=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(he.deserialize(e))},r}(le),he=function(){function e(e,r,t,n){this.key=e,this.sequence_number=r,this.type_tag=t,this.event_data=n}return e.prototype.serialize=function(e){this.key.serialize(e),e.serializeU64(this.sequence_number),this.type_tag.serialize(e),e.serializeBytes(this.event_data)},e.deserialize=function(r){return new e(ze.deserialize(r),r.deserializeU64(),cr.deserialize(r),r.deserializeBytes())},e}(),de=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return pe.load(e);case 1:return ve.load(e);default:throw new Error("Unknown variant index for DataPath: "+r)}},e}(),pe=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(Ae.deserialize(e))},r}(de),ve=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(Ge.deserialize(e))},r}(de),_e=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return ge.load(e);case 1:return me.load(e);default:throw new Error("Unknown variant index for DataType: "+r)}},e}(),ge=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0)},r.load=function(e){return new r},r}(_e),me=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1)},r.load=function(e){return new r},r}(_e),ye=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),we=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),be=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Ee=function(){function e(e,r){this.count=e,this.key=r}return e.prototype.serialize=function(e){e.serializeU64(this.count),this.key.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU64(),ze.deserialize(r))},e}(),ze=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Ie=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Ae=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeStr(this.value)},e.deserialize=function(r){return new e(r.deserializeStr())},e}(),Te=function(){function e(e){this.account_address=e}return e.prototype.serialize=function(e){this.account_address.serialize(e)},e.deserialize=function(r){return new e(ie.deserialize(r))},e}(),Pe=function(){function e(e){this.code=e}return e.prototype.serialize=function(e){e.serializeBytes(this.code)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),ke=function(){function e(e,r){this.address=e,this.name=r}return e.prototype.serialize=function(e){this.address.serialize(e),this.name.serialize(e)},e.deserialize=function(r){return new e(ie.deserialize(r),Ae.deserialize(r))},e}(),Ne=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Le=function(){function e(e,r){this.public_keys=e,this.threshold=r;var t=e.length;if(0===r||t<r)throw new Error(ee);if(t>32)throw new Error(re)}var r=e.prototype;return r.serialize=function(e){e.serializeBytes(this.value())},e.deserialize=function(r){for(var t=r.deserializeBytes(),n=[],i=(t.length-1)/32,o=0;o<i;o++){var a=32*o,s=a+32;n.push(new we(t.slice(a,s)))}return new e(n,new DataView(t.slice(-1).buffer,0).getUint8(0))},r.value=function(){var e=[];this.public_keys.forEach((function(r){e.push(r.value)}));var r=new Uint8Array(1);return r[0]=this.threshold,Object(i.concat)([].concat(e,r))},e}(),Se=function(){function e(e,r){this.signatures=e,this.bitmap=r}e.build=function(r){var t=r.length;if(0===t||t>32)throw new Error(ee);var n=r.sort((function(e,r){return e[1]>r[1]?1:-1})),i=[],o=0;return n.forEach((function(e,r){if(e[1]>=32)throw new Error(te+": Signature index is out of range");if(Q(o,e[1]))throw new Error(te+": Duplicate signature index");i.push(e[0]),o=X(o,e[1])})),new e(i,o)};var r=e.prototype;return r.serialize=function(e){e.serializeBytes(this.value())},e.deserialize=function(r){for(var t=r.deserializeBytes(),n=[],i=(t.length-4)/64,o=0;o<i;o++){var a=64*o,s=a+64;n.push(new be(t.slice(a,s)))}return new e(n,Z(t.slice(-4)))},r.value=function(){var e=[];this.signatures.forEach((function(r){e.push(r.value)}));var r=J(this.bitmap);return Object(i.concat)([].concat(e,r))},e}(),Be=function(){function e(e,r){this.signature=e,this.threshold=r}var r=e.prototype;return r.signatures=function(){var e=this.signature.signatures,r=this.signature.bitmap,t=[],n=0;return e.forEach((function(e,i){for(;!Q(r,n);)n+=1;t.push([e,n]),n+=1})),t},e.merge=function(r){if(0===r.length)throw new Error("MultiEd25519SignatureShard shards is empty");var t=r[0].threshold,n=[];return r.forEach((function(e){if(e.threshold!==t)throw new Error("MultiEd25519SignatureShard shards threshold not same");n.push.apply(n,e.signatures())})),new e(Se.build(n),t)},r.is_enough=function(){return this.signature.signatures.length>=this.threshold},e}(),Oe=function(){function e(e,r,t){this.public_keys=e,this.threshold=r,this.private_keys=t;var n=e.length,i=Object.keys(t).length;if(0===r||0===i||n<r)throw new Error(ee);if(i>32||n>32)throw new Error(re)}var r=e.prototype;return r.serialize=function(e){var r=this;e.serializeU8(this.public_keys.length),e.serializeU8(this.threshold),e.serializeU8(this.len()),this.public_keys.forEach((function(r){r.serialize(e)})),Object.keys(this.private_keys).forEach((function(t){e.serializeU8(Number.parseInt(t,10)),r.private_keys[t].serialize(e)}))},e.deserialize=function(r){for(var t=r.deserializeU8(),n=r.deserializeU8(),i=r.deserializeU8(),o=[],a=0;a<t;a++)o.push(we.deserialize(r));for(var s=0;s<i;s++){var u=r.deserializeU8(),c=ye.deserialize(r);o[u]=c}return new e(o,n,[])},r.publicKey=function(){return new Le(this.public_keys,this.threshold)},r.privateKeys=function(){return Object.values(this.private_keys)},r.privateKey=function(){var e=new Uint8Array(3);e[0]=this.public_keys.length,e[1]=this.threshold,e[2]=this.len();var r=[];this.public_keys.forEach((function(e){r.push(e.value)}));var t=[];return Object.values(this.private_keys).forEach((function(e){t.push(e.value)})),Object(i.concat)([e].concat(r,t))},r.len=function(){return Object.values(this.private_keys).length},r.isEmpty=function(){return 0===this.len()},e}(),xe=function(){function e(e,r,t){this.package_address=e,this.modules=r,this.init_script=t}return e.prototype.serialize=function(e){this.package_address.serialize(e),Ir.serializeVectorModule(this.modules,e),Ir.serializeOptionScriptFunction(this.init_script,e)},e.deserialize=function(r){return new e(ie.deserialize(r),Ir.deserializeVectorModule(r),Ir.deserializeOptionScriptFunction(r))},e}(),Ue=function(){function e(e,r,t,n,i,o,a,s){this.sender=e,this.sequence_number=r,this.payload=t,this.max_gas_amount=n,this.gas_unit_price=i,this.gas_token_code=o,this.expiration_timestamp_secs=a,this.chain_id=s}return e.prototype.serialize=function(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeStr(this.gas_token_code),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)},e.deserialize=function(r){return new e(ie.deserialize(r),r.deserializeU64(),nr.deserialize(r),r.deserializeU64(),r.deserializeU64(),r.deserializeStr(),r.deserializeU64(),ce.deserialize(r))},e}(),Ve=function(){function e(e,r,t){this.code=e,this.ty_args=r,this.args=t}return e.prototype.serialize=function(e){e.serializeBytes(this.code),Ir.serializeVectorTypeTag(this.ty_args,e),Ir.serializeVectorBytes(this.args,e)},e.deserialize=function(r){return new e(r.deserializeBytes(),Ir.deserializeVectorTypeTag(r),Ir.deserializeVectorBytes(r))},e}(),Re=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return Ce.load(e);case 1:return je.load(e);default:throw new Error("Unknown variant index for ScriptABI: "+r)}},e}(),Ce=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(sr.deserialize(e))},r}(Re),je=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(Ke.deserialize(e))},r}(Re),De=function(){function e(e,r,t,n){this.module=e,this.func=r,this.ty_args=t,this.args=n}return e.prototype.serialize=function(e){this.module.serialize(e),this.func.serialize(e),Ir.serializeVectorTypeTag(this.ty_args,e),Ir.serializeVectorBytes(this.args,e)},e.deserialize=function(r){return new e(ke.deserialize(r),Ae.deserialize(r),Ir.deserializeVectorTypeTag(r),Ir.deserializeVectorBytes(r))},e}(),Ke=function(){function e(e,r,t,n,i){this.name=e,this.module_name=r,this.doc=t,this.ty_args=n,this.args=i}return e.prototype.serialize=function(e){e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Ir.serializeVectorTypeArgumentAbi(this.ty_args,e),Ir.serializeVectorArgumentAbi(this.args,e)},e.deserialize=function(r){return new e(r.deserializeStr(),ke.deserialize(r),r.deserializeStr(),Ir.deserializeVectorTypeArgumentAbi(r),Ir.deserializeVectorArgumentAbi(r))},e}(),He=function(){function e(e,r){this.raw_txn=e,this.authenticator=r}return e.prototype.serialize=function(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)},e.deserialize=function(r){return new e(Ue.deserialize(r),er.deserialize(r))},e.ed25519=function(r,t,n){return new e(r,new rr(t,n))},e.multi_ed25519=function(r,t,n){return new e(r,new tr(t,n))},e}(),Ge=function(){function e(e,r,t,n){this.address=e,this.module=r,this.name=t,this.type_params=n}return e.prototype.serialize=function(e){this.address.serialize(e),this.module.serialize(e),this.name.serialize(e),Ir.serializeVectorTypeTag(this.type_params,e)},e.deserialize=function(r){return new e(ie.deserialize(r),Ae.deserialize(r),Ae.deserialize(r),Ir.deserializeVectorTypeTag(r))},e}(),Fe=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return Ye.load(e);case 1:return Me.load(e);default:throw new Error("Unknown variant index for Transaction: "+r)}},e}(),Ye=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(He.deserialize(e))},r}(Fe),Me=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(ue.deserialize(e))},r}(Fe),We=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return qe.load(e);case 1:return Je.load(e);case 2:return Ze.load(e);case 3:return Xe.load(e);case 4:return Qe.load(e);case 5:return $e.load(e);default:throw new Error("Unknown variant index for TransactionArgument: "+r)}},e}(),qe=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),e.serializeU8(this.value)},r.load=function(e){return new r(e.deserializeU8())},r}(We),Je=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeU64(this.value)},r.load=function(e){return new r(e.deserializeU64())},r}(We),Ze=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(2),e.serializeU128(this.value)},r.load=function(e){return new r(e.deserializeU128())},r}(We),Xe=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(3),this.value.serialize(e)},r.load=function(e){return new r(ie.deserialize(e))},r}(We),Qe=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(4),e.serializeBytes(this.value)},r.load=function(e){return new r(e.deserializeBytes())},r}(We),$e=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(5),e.serializeBool(this.value)},r.load=function(e){return new r(e.deserializeBool())},r}(We),er=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return rr.load(e);case 1:return tr.load(e);default:throw new Error("Unknown variant index for TransactionAuthenticator: "+r)}},e}(),rr=function(e){function r(r,t){var n;return(n=e.call(this)||this).public_key=r,n.signature=t,n}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.public_key.serialize(e),this.signature.serialize(e)},r.load=function(e){return new r(we.deserialize(e),be.deserialize(e))},r}(er),tr=function(e){function r(r,t){var n;return(n=e.call(this)||this).public_key=r,n.signature=t,n}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.public_key.serialize(e),this.signature.serialize(e)},r.load=function(e){return new r(Le.deserialize(e),Se.deserialize(e))},r}(er),nr=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return ir.load(e);case 1:return or.load(e);case 2:return ar.load(e);default:throw new Error("Unknown variant index for TransactionPayload: "+r)}},e}(),ir=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(Ve.deserialize(e))},r}(nr),or=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(xe.deserialize(e))},r}(nr),ar=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(2),this.value.serialize(e)},r.load=function(e){return new r(De.deserialize(e))},r}(nr),sr=function(){function e(e,r,t,n,i){this.name=e,this.doc=r,this.code=t,this.ty_args=n,this.args=i}return e.prototype.serialize=function(e){e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Ir.serializeVectorTypeArgumentAbi(this.ty_args,e),Ir.serializeVectorArgumentAbi(this.args,e)},e.deserialize=function(r){return new e(r.deserializeStr(),r.deserializeStr(),r.deserializeBytes(),Ir.deserializeVectorTypeArgumentAbi(r),Ir.deserializeVectorArgumentAbi(r))},e}(),ur=function(){function e(e){this.name=e}return e.prototype.serialize=function(e){e.serializeStr(this.name)},e.deserialize=function(r){return new e(r.deserializeStr())},e}(),cr=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return lr.load(e);case 1:return fr.load(e);case 2:return hr.load(e);case 3:return dr.load(e);case 4:return pr.load(e);case 5:return vr.load(e);case 6:return _r.load(e);case 7:return gr.load(e);default:throw new Error("Unknown variant index for TypeTag: "+r)}},e}(),lr=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0)},r.load=function(e){return new r},r}(cr),fr=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1)},r.load=function(e){return new r},r}(cr),hr=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(2)},r.load=function(e){return new r},r}(cr),dr=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(3)},r.load=function(e){return new r},r}(cr),pr=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(4)},r.load=function(e){return new r},r}(cr),vr=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(5)},r.load=function(e){return new r},r}(cr),_r=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(6),this.value.serialize(e)},r.load=function(e){return new r(cr.deserialize(e))},r}(cr),gr=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(7),this.value.serialize(e)},r.load=function(e){return new r(Ge.deserialize(e))},r}(cr),mr=function(){function e(e){this.account_address=e}return e.prototype.serialize=function(e){this.account_address.serialize(e)},e.deserialize=function(r){return new e(ie.deserialize(r))},e}(),yr=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return wr.load(e);case 1:return br.load(e);default:throw new Error("Unknown variant index for WriteOp: "+r)}},e}(),wr=function(e){function r(){return e.call(this)||this}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0)},r.load=function(e){return new r},r}(yr),br=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return k(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeBytes(this.value)},r.load=function(e){return new r(e.deserializeBytes())},r}(yr),Er=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){this.value.serialize(e)},e.deserialize=function(r){return new e(zr.deserialize(r))},e}(),zr=function(){function e(e){this.write_set=e}return e.prototype.serialize=function(e){Ir.serializeVectorTuple2AccessPathWriteOp(this.write_set,e)},e.deserialize=function(r){return new e(Ir.deserializeVectorTuple2AccessPathWriteOp(r))},e}(),Ir=function(){function e(){}return e.serializeArray16U8Array=function(e,r){e.forEach((function(e){r.serializeU8(e[0])}))},e.deserializeArray16U8Array=function(e){for(var r=[],t=0;t<16;t++)r.push([e.deserializeU8()]);return r},e.serializeOptionAuthenticationKey=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionAuthenticationKey=function(e){return e.deserializeOptionTag()?se.deserialize(e):null},e.serializeOptionKeyRotationCapabilityResource=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionKeyRotationCapabilityResource=function(e){return e.deserializeOptionTag()?Te.deserialize(e):null},e.serializeOptionScriptFunction=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionScriptFunction=function(e){return e.deserializeOptionTag()?De.deserialize(e):null},e.serializeOptionWithdrawCapabilityResource=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionWithdrawCapabilityResource=function(e){return e.deserializeOptionTag()?mr.deserialize(e):null},e.serializeTuple2AccessPathWriteOp=function(e,r){e[0].serialize(r),e[1].serialize(r)},e.deserializeTuple2AccessPathWriteOp=function(e){return[ne.deserialize(e),yr.deserialize(e)]},e.serializeVectorArgumentAbi=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorArgumentAbi=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(ae.deserialize(e));return t},e.serializeVectorModule=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorModule=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(Pe.deserialize(e));return t},e.serializeVectorTypeArgumentAbi=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorTypeArgumentAbi=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(ur.deserialize(e));return t},e.serializeVectorTypeTag=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorTypeTag=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(cr.deserialize(e));return t},e.serializeVectorBytes=function(e,r){r.serializeLen(e.length),e.forEach((function(e){r.serializeBytes(e)}))},e.deserializeVectorBytes=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(e.deserializeBytes());return t},e.serializeVectorTuple2AccessPathWriteOp=function(r,t){t.serializeLen(r.length),r.forEach((function(r){e.serializeTuple2AccessPathWriteOp(r,t)}))},e.deserializeVectorTuple2AccessPathWriteOp=function(r){for(var t=r.deserializeLen(),n=[],i=0;i<t;i++)n.push(e.deserializeTuple2AccessPathWriteOp(r));return n},e.serializeVectorU8=function(e,r){r.serializeLen(e.length),e.forEach((function(e){r.serializeU8(e)}))},e.deserializeVectorU8=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(e.deserializeU8());return t},e}(),Ar=function(){function r(e){this.value=e}var t=r.prototype;return t.serialize=function(e){e.serializeBytes(this.value)},t.hex=function(){return e.from(this.value).toString("hex")},r}(),Tr=function(){function r(e,r){this.accountAddress=e,this.authKey=r}return r.prototype.encode=function(){var r=new Y;this.accountAddress.serialize(r);var t=e.concat([e.from(r.getBytes()),e.from(this.authKey.value)]),i=n.bech32.toWords(t),o=[Number("1")].concat(i);return n.bech32.encode("stc",o)},r.decode=function(t){var i=n.bech32.decode(t).words.slice(1),o=e.from(n.bech32.fromWords(i)),a=o.slice(0,ie.LENGTH),s=o.slice(ie.LENGTH);return new r(ie.deserialize(new G(a)),new Ar(s))},r}(),Pr=function(){function e(e){this.message=e}return e.prototype.serialize=function(e){e.serializeBytes(this.message)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),kr=function(){function e(e,r,t,n){this.account=e,this.message=r,this.authenticator=t,this.chain_id=n}return e.prototype.serialize=function(e){this.account.serialize(e),this.message.serialize(e),this.authenticator.serialize(e),this.chain_id.serialize(e)},e.deserialize=function(r){return new e(ie.deserialize(r),Pr.deserialize(r),er.deserialize(r),ce.deserialize(r))},e}(),Nr={__proto__:null,AccessPath:ne,AccountAddress:ie,AccountResource:oe,ArgumentABI:ae,AuthenticationKey:se,BlockMetadata:ue,ChainId:ce,ContractEvent:le,ContractEventVariantV0:fe,ContractEventV0:he,DataPath:de,DataPathVariantCode:pe,DataPathVariantResource:ve,DataType:_e,DataTypeVariantCODE:ge,DataTypeVariantRESOURCE:me,Ed25519PrivateKey:ye,Ed25519PublicKey:we,Ed25519Signature:be,EventHandle:Ee,EventKey:ze,HashValue:Ie,Identifier:Ae,KeyRotationCapabilityResource:Te,Module:Pe,ModuleId:ke,MultiEd25519PrivateKey:Ne,MultiEd25519PublicKey:Le,MultiEd25519Signature:Se,MultiEd25519SignatureShard:Be,MultiEd25519KeyShard:Oe,Package:xe,RawUserTransaction:Ue,Script:Ve,ScriptABI:Re,ScriptABIVariantTransactionScript:Ce,ScriptABIVariantScriptFunction:je,ScriptFunction:De,ScriptFunctionABI:Ke,SignedUserTransaction:He,StructTag:Ge,Transaction:Fe,TransactionVariantUserTransaction:Ye,TransactionVariantBlockMetadata:Me,TransactionArgument:We,TransactionArgumentVariantU8:qe,TransactionArgumentVariantU64:Je,TransactionArgumentVariantU128:Ze,TransactionArgumentVariantAddress:Xe,TransactionArgumentVariantU8Vector:Qe,TransactionArgumentVariantBool:$e,TransactionAuthenticator:er,TransactionAuthenticatorVariantEd25519:rr,TransactionAuthenticatorVariantMultiEd25519:tr,TransactionPayload:nr,TransactionPayloadVariantScript:ir,TransactionPayloadVariantPackage:or,TransactionPayloadVariantScriptFunction:ar,TransactionScriptABI:sr,TypeArgumentABI:ur,TypeTag:cr,TypeTagVariantBool:lr,TypeTagVariantU8:fr,TypeTagVariantU64:hr,TypeTagVariantU128:dr,TypeTagVariantAddress:pr,TypeTagVariantSigner:vr,TypeTagVariantVector:_r,TypeTagVariantStruct:gr,WithdrawCapabilityResource:mr,WriteOp:yr,WriteOpVariantDeletion:wr,WriteOpVariantValue:br,WriteSet:Er,WriteSetMut:zr,Helpers:Ir,AuthKey:Ar,ReceiptIdentifier:Tr,SigningMessage:Pr,SignedMessage:kr},Lr=t(313).Buffer,Sr=t(665).sha3_256,Br=function(){function e(e){if(e){var r=new Uint8Array(Lr.from("STARCOIN::"+e)),t=Sr.create();t.update(r),this.salt=new Uint8Array(t.arrayBuffer())}}var r=e.prototype;return r.crypto_hash=function(e){var r=Sr.create();return this.salt&&r.update(this.salt),r.update(Object(i.arrayify)(e)),Object(o.addHexPrefix)(r.hex())},r.get_salt=function(){return this.salt},e}();function Or(e){return new Br(e)}function xr(){return Or("SignedUserTransaction")}function Ur(){return Or("RawUserTransaction")}function Vr(){return Or("SigningMessage")}var Rr={__proto__:null,createHash:Or,createUserTransactionHasher:xr,createRawUserTransactionHasher:Ur,createSigningMessageHasher:Vr};function Cr(r){return"0x"+e.from(new Uint8Array(r)).toString("hex")}function jr(r,t){r.startsWith("0x")&&(r=r.substring(2)),t?r.length<t&&(r=Dr(r,t)):r.length%2!=0&&(r="0"+r);var n=e.from(r,"hex");return new Uint8Array(n)}function Dr(e,r,t){return new Array(r-e.length+1).join(t||"0")+e}var Kr={__proto__:null,toHexString:Cr,fromHexString:jr,padLeft:Dr,padRight:function(e,r,t){return e+new Array(r-e.length+1).join(t||"0")}},Hr=function(e){try{return Promise.resolve(Object(a.getPublicKey)(Object(o.stripHexPrefix)(e))).then(i.hexlify)}catch(r){return Promise.reject(r)}};function Gr(e,r){var t=new G(Object(i.arrayify)(r));return e.deserialize(t)}function Fr(e){var r=new Y;return e.serialize(r),Cr(r.getBytes())}function Yr(e){var r,t=Object(i.arrayify)(e),n=function(){var e=new G(t);return He.deserialize(e)}();if(n.authenticator instanceof rr){r={Ed25519:{public_key:Object(i.hexlify)(n.authenticator.public_key.value),signature:Object(i.hexlify)(n.authenticator.signature.value)}}}else{var o=n.authenticator;r={MultiEd25519:{public_key:Object(i.hexlify)(o.public_key.value()),signature:Object(i.hexlify)(o.signature.value())}}}var a=n.raw_txn,s=function(){var e=new Y;return a.payload.serialize(e),Object(i.hexlify)(e.getBytes())}();return{transaction_hash:xr().crypto_hash(t),raw_txn:{sender:qr(a.sender),sequence_number:a.sequence_number,payload:s,max_gas_amount:a.max_gas_amount,gas_unit_price:a.gas_unit_price,gas_token_code:a.gas_token_code,expiration_timestamp_secs:a.expiration_timestamp_secs,chain_id:a.chain_id.id},authenticator:r}}function Mr(e){var r=new G(Object(i.arrayify)(Object(o.addHexPrefix)(e)));return or.load(r)}function Wr(e){var r=jr(e,32);return ie.deserialize(new G(r))}function qr(e){return Cr(e.value.map((function(e){return e[0]})))}function Jr(e){if("Bool"===e)return new lr;if("U8"===e)return new fr;if("U128"===e)return new dr;if("U64"===e)return new hr;if("Address"===e)return new pr;if("Signer"===e)return new vr;if("Vector"in e)return new _r(Jr(e.Vector));if("Struct"in e)return new gr(Zr(e.Struct));throw new Error("invalid type tag: "+e)}function Zr(e){return new Ge(Wr(e.address),new Ae(e.module),new Ae(e.name),e.type_params?e.type_params.map((function(e){return Jr(e)})):[])}function Xr(e){return{module:e.module.value,name:e.name.value,type_params:e.type_params.map((function(e){return Qr(e)})),address:qr(e.address)}}function Qr(e){if(e instanceof pr)return"Address";if(e instanceof lr)return"Bool";if(e instanceof fr)return"U8";if(e instanceof hr)return"U64";if(e instanceof dr)return"U128";if(e instanceof vr)return"Signer";if(e instanceof gr)return{Struct:Xr(e.value)};if(e instanceof _r)return{Vector:Qr(e.value)};throw new TypeError("invalid bcs type tag: "+e)}function $r(e,r){void 0===r&&(r=O.SINGLE);var t=s.sha3_256.create();t.update(jr(e)),t.update(jr(Object(i.hexlify)(r)));var n=t.hex();return Object(o.addHexPrefix)(n)}function et(e,r){void 0===r&&(r=O.SINGLE);var t=s.sha3_256.create();t.update(jr(e)),t.update(jr(Object(i.hexlify)(r)));var n=t.hex(),a=n.slice(n.length/2);return Object(o.addHexPrefix)(a)}function rt(r,t){void 0===t&&(t="");var n=Wr(r),i=new Ar(e.from(t,"hex"));return new Tr(n,i).encode()}var tt={__proto__:null,privateKeyToPublicKey:Hr,bcsDecode:Gr,bcsEncode:Fr,decodeSignedUserTransaction:Yr,decodeTransactionPayload:function(e){var r=Object(i.arrayify)(e),t=new G(r),n=nr.deserialize(t);if(n instanceof ir){var o=n.value;return{Script:{code:Cr(o.code),ty_args:o.ty_args.map((function(e){return Qr(e)})),args:o.args.map((function(e){return Object(i.hexlify)(e)}))}}}if(n instanceof ar){var a=n.value;return{ScriptFunction:{func:{address:qr(a.module.address),module:a.module.name.value,functionName:a.func.value},ty_args:a.ty_args.map((function(e){return Qr(e)})),args:a.args.map((function(e){return Object(i.hexlify)(e)}))}}}if(n instanceof or){var s=n.value;return{Package:{package_address:qr(s.package_address),modules:s.modules.map((function(e){return{code:Cr(e.code)}})),init_script:null===s.init_script?void 0:{func:{address:qr(s.init_script.module.address),module:s.init_script.module.name.value,functionName:s.init_script.func.value},args:s.init_script.args.map((function(e){return Object(i.hexlify)(e)})),ty_args:s.init_script.ty_args.map((function(e){return Qr(e)}))}}}}throw new TypeError("cannot decode bcs data "+n)},packageHexToTransactionPayload:Mr,packageHexToTransactionPayloadHex:function(e){return Fr(Mr(e))},addressToSCS:Wr,addressFromSCS:qr,typeTagToSCS:Jr,structTagToSCS:Zr,structTagFromSCS:Xr,typeTagFromSCS:Qr,publicKeyToAuthKey:$r,publicKeyToAddress:et,encodeReceiptIdentifier:rt,decodeReceiptIdentifier:function(e){var r=Tr.decode(e);return{accountAddress:Object(o.stripHexPrefix)(qr(r.accountAddress)),authKey:r.authKey.hex()}},publicKeyToReceiptIdentifier:function(e){var r=et(e),t=$r(e);return rt(Object(o.stripHexPrefix)(r),Object(o.stripHexPrefix)(t))},stringToBytes:function(e){var r,t,n=new Array;r=e.length;for(var i=0;i<r;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(n.push(t>>18&7|240),n.push(t>>12&63|128),n.push(t>>6&63|128),n.push(63&t|128)):t>=2048&&t<=65535?(n.push(t>>12&15|224),n.push(t>>6&63|128),n.push(63&t|128)):t>=128&&t<=2047?(n.push(t>>6&31|192),n.push(63&t|128)):n.push(255&t);return n},bytesToString:function(e){if("string"===typeof e)return e;for(var r="",t=0;t<e.length;t++){var n=e[t].toString(2),i=n.match(/^1+?(?=0)/);if(i&&8==n.length){for(var o=i[0].length,a=e[t].toString(2).slice(7-o),s=1;s<o;s++)a+=e[s+t].toString(2).slice(2);r+=String.fromCharCode(parseInt(a,2)),t+=o-1}else r+=String.fromCharCode(e[t])}return r}};var nt={__proto__:null,decodeTransactionScriptABI:function(e){var r=new G(e),t=sr.deserialize(r);return{args:t.args.map((function(e){return{name:e.name,type_tag:Qr(e.type_tag)}})),code:t.code,doc:t.doc,name:t.name,ty_args:t.ty_args.map((function(e){return{name:e.name}}))}}},it=function(e){try{return Promise.resolve(Hr(e)).then((function(r){var t=et(r),n=$r(r),i=rt(Object(o.stripHexPrefix)(t),Object(o.stripHexPrefix)(n));return{privateKey:e,publicKey:r,address:t,authKey:n,receiptIdentifier:i}}))}catch(r){return Promise.reject(r)}};function ot(){var r=a.utils.randomPrivateKey(),t=e.from(r).toString("hex");return Object(o.addHexPrefix)(t)}function at(e){return Object(i.hexlify)(e.privateKey())}function st(e){var r=e.publicKey();return Object(i.hexlify)(r.value())}function ut(e){return et(st(e),O.MULTI)}function ct(e){var r=ut(e);return rt(Object(o.stripHexPrefix)(r))}var lt={__proto__:null,showAccount:it,generateAccount:function(){try{var e=ot(),r=it(e);return Promise.resolve(r)}catch(t){return Promise.reject(t)}},generatePrivateKey:ot,getMultiEd25519AccountPrivateKey:at,getMultiEd25519AccountPublicKey:st,getMultiEd25519AccountAddress:ut,getMultiEd25519AccountReceiptIdentifier:ct,showMultiEd25519Account:function(e){var r=at(e),t=st(e),n=ut(e),i=ct(e);return{privateKey:r,publicKey:t,address:n,authKey:$r(t,O.MULTI),receiptIdentifier:i}},decodeMultiEd25519AccountPrivateKey:function(e){for(var r,t=Object(i.arrayify)(e),n=t.slice(0,1)[0],o=t.slice(1,2)[0],a=t.slice(2,3)[0],s=[],u=[],c=3,l=0;l<n;l+=1){r=c+32;var f=t.slice(c,r);s.push(Object(i.hexlify)(f)),c=r}for(var h=0;h<a;h+=1){r=c+32;var d=t.slice(c,r);u.push(Object(i.hexlify)(d)),c=r}return{privateKeys:u,publicKeys:s,threshold:o}}};var ft={__proto__:null,InvalidNumberOfMoveArgs:function(e,r){return new Error("Invalid number of arguments to Move function. given: "+e+", expected: "+r)},InvalidNumberOfRPCParams:function(e,r,t){return new Error('Invalid number of input parameters to RPC method "'+e+'" given: '+r+", expected: "+t)},InvalidConnection:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node "+e+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var r=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(r)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")}},ht=function(){function e(e){this.cur_idx=0,this.toks=e}var r=e.prototype;return r.next_tok=function(){var e=this.toks[this.cur_idx++];if(void 0===e)throw new Error("out of token, this should not happen");return e},r.peek=function(){return this.toks[this.cur_idx]},r.consume_tok=function(e){var r=this.next_tok();if(r!=e)throw new Error("expected tok: "+e+", got: "+r)},r.parse_comma_list=function(e,r,t){var n=[];if(this.peek()!==r)for(;n.push(e(this)),this.peek()!==r&&(this.consume_tok("Comma"),this.peek()!==r||!t););return n},r.parseTypeTag=function(){var e=this.next_tok();if("U8Type"===e)return"U8";if("U64Type"===e)return"U64";if("U128Type"===e)return"U128";if("BoolType"===e)return"Bool";if("AddressType"===e)return"Address";if("VectorType"===e){this.consume_tok("Lt");var r=this.parseTypeTag();return this.consume_tok("Gt"),{Vector:r}}if(void 0!==e.Address){var t=e.Address;this.consume_tok("ColonColon");var n=this.next_tok();if(void 0===n.Name)throw new Error("expected name, got: "+n);var i=n.Name;this.consume_tok("ColonColon");var o=this.next_tok();if(void 0===o.Name)throw new Error("expected name, got: "+n);var a=o.Name,s=[];return"Lt"===this.peek()&&(this.consume_tok("Lt"),s=this.parse_comma_list((function(e){return e.parseTypeTag()}),"Gt",!0),this.consume_tok("Gt")),{Struct:{address:t,module:i,name:a,type_params:s}}}throw new Error("unexpected token "+e+", expected type tag")},e}();function dt(e){switch(e){case"u8":return"U8Type";case"u64":return"U64Type";case"u128":return"U128Type";case"bool":return"BoolType";case"address":return"AddressType";case"vector":return"VectorType";case"true":return"True";case"false":return"False";default:return{Name:e}}}function pt(e){if(0!==e.length){var r=e[0];if("<"===r)return["Lt",1];if(">"===r)return["Gt",1];if(","===r)return["Comma",1];if(":"===r){if(":"===e[1])return["ColonColon",2];throw new Error("unrecognized token")}if("0"===r&&["x","X"].includes(e[1])){if(c()(e[2])){for(var t="0x",n=2;n<e.length&&c()(e[n]);n++)t=t.concat(e[n]);return[{Address:t},t.length]}throw new Error("unrecognized token")}if(f()(r))return function(e){for(var r="",t=0;t<e.length;){var n=e[t++];if(f()(n))r=r.concat(n);else{if(!v()(n))break;for(var i=n;t<e.length;){var o=e[t++];if(!d()(o))break;i=i.concat(o)}var a=r.length+i.length;switch(i){case"u8":return[{U8:r},a];case"u64":return[{U64:r},a];case"u128":return[{U128:r},a];default:throw new Error("invalid suffix")}}}return[{U64:r},r.length]}(e);if("b"===r&&'"'===e[1]){for(var i="",o=2;;){if(o>=e.length)throw new Error("unrecognized token");var a=e[o++];if('"'===a)break;if(!vt(a))throw new Error("unrecognized token");i=i.concat(a)}return[{Bytes:i},i.length+3]}if("x"===r&&'"'===e[1]){for(var s="",u=2;;){if(u>=e.length)throw new Error("unrecognized token");var l=e[u++];if('"'===l)break;if(!c()(l))throw new Error("unrecognized token");s=s.concat(l)}return[{Bytes:s},s.length+3]}if(v()(r)||["-","_"].includes(r)){for(var h="",p=0;p<e.length&&(d()(e[p])||["-","_"].includes(e[p]));p++)h=h.concat(e[p]);return[dt(h),h.length]}if(g()(r)){for(var _="",m=0;m<e.length&&g()(e[m]);m++)_=_.concat(e[m]);return[{WhiteSpace:_},_.length]}throw new Error("unrecognized token")}}function vt(e){return("string"===typeof e?e.charCodeAt(0):e)<=127}function _t(e,r){var t=function(e){for(var r=[];;){var t=pt(e);if(void 0===t)break;var n=t[0],i=t[1];r.push(n),e=e.substring(i)}return r}(e).filter((function(e){return void 0===e.WhiteSpace}));t.push("EOF");var n=new ht(t),i=r(n);return n.consume_tok("EOF"),i}function gt(e){return _t(e,(function(e){return e.parseTypeTag()}))}var mt={__proto__:null,parseTypeTags:function(e){return _t(e,(function(e){return e.parse_comma_list((function(e){return e.parseTypeTag()}),"EOF",!0)}))},parseTypeTag:gt},yt=t(4622).version,wt=new m.Logger(yt);function bt(e,r){e&&"object"===typeof e||wt.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(t){r[t]||wt.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)}))}var Et={__proto__:null,checkProperties:bt},zt=function(e,r,t,n){try{var a=Object(i.arrayify)(Object(o.addHexPrefix)(t)),s=Wr(et(t)),u=At(Object(i.arrayify)(Object(o.addHexPrefix)(n)),a),c=new ce(r),l=Fr(new kr(s,e,u,c)),f=Object(i.hexlify)(l);return Promise.resolve(f)}catch(h){return Promise.reject(h)}},It=function(r,t){try{var n=new Uint8Array(e.from(r,"utf8")),s=Tt(new Pr(n));return Promise.resolve(Object(a.getPublicKey)(Object(o.stripHexPrefix)(t))).then((function(e){var r=Object(i.hexlify)(e);return Promise.resolve(Object(a.sign)(s,Object(o.stripHexPrefix)(t))).then((function(e){var t=Object(i.hexlify)(e);return Promise.resolve({publicKey:r,signature:t})}))}))}catch(u){return Promise.reject(u)}};function At(e,r){var t=new we(r),n=new be(e);return new rr(t,n)}function Tt(e){return function(e,r){var t=new Uint8Array(e.length+r.length);return t.set(e,0),t.set(r,e.length),t}(Vr().get_salt(),function(){var r=new Y;return e.serialize(r),r.getBytes()}())}function Pt(e){var r=Object(i.arrayify)(e);return function(){var e=new G(r);return kr.deserialize(e)}()}var kt={__proto__:null,recoverSignedMessageAddress:function(e){try{var r,t=function(e){return Promise.resolve(r)},n=Pt(e),o=function(){if(n.authenticator instanceof rr){var e=n.authenticator.signature.value,t=Tt(n.message),o=n.authenticator.public_key.value;return r=et(Object(i.hexlify)(o)),Promise.resolve(Object(a.verify)(e,t,o)).then((function(e){if(!e)throw new Error("Failed verify signature and message");if(!function(e,r){if(et(Object(i.hexlify)(e))===qr(r))return!0;return!1}(o,n.account))throw new Error("Failed: address are not match")}))}}();return Promise.resolve(o&&o.then?o.then(t):t())}catch(s){return Promise.reject(s)}},encodeSignedMessage:function(r,t,n){try{var o=new Uint8Array(e.from(r,"utf8")),a=new Pr(o);return Promise.resolve(It(r,Object(i.hexlify)(t))).then((function(e){var r=e.publicKey,t=e.signature;return Promise.resolve(zt(a,n,r,t)).then(Promise.resolve)}))}catch(s){return Promise.reject(s)}},generateSignedMessage:zt,signMessage:It,encodeTransactionAuthenticatorEd25519:At,getEd25519SignMsgBytes:Tt,decodeSignedMessage:Pt},Nt=new m.Logger(yt);var Lt={test:{chainId:255,name:"test",_defaultProvider:function e(r){var t=function(e,t){return e.JsonRpcProvider?new e.JsonRpcProvider(t.jsonrpc,r):null};return t.renetwork=function(r){return e(r)},t}("test")},dev:{chainId:254,name:"dev"},barnard:{chainId:251,name:"barnard"},halley:{chainId:3,name:"halley"},proxima:{chainId:2,name:"proxima"},main:{chainId:1,name:"main"}};function St(e){if(null==e)return null;if("number"===typeof e){for(var r in Lt){var t=Lt[r];if(t.chainId==e)return{name:t.name,chainId:t.chainId,_defaultProvider:t._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){var n=Lt[e];return null==n?null:{name:n.name,chainId:n.chainId,_defaultProvider:n._defaultProvider||null}}var i=Lt[e.name];if(!i)return"number"!==typeof e.chainId&&Nt.throwArgumentError("invalid network chainId","network",e),e;e.chainId!==i.chainId&&Nt.throwArgumentError("network chainId mismatch","network",e);var o,a=e._defaultProvider||null;return null==a&&i._defaultProvider&&(a=(o=i._defaultProvider)&&"function"===typeof o.renetwork?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,_defaultProvider:a}}var Bt=new m.Logger("abstract-provider/5.0.5"),Ot=function(){function e(){Bt.checkAbstract(this instanceof e?this.constructor:void 0,e),Object(b.defineReadOnly)(this,"_isProvider",!0)}var r=e.prototype;return r.getBalance=function(e,r,t){try{return void 0===r&&(r="0x1::STC::STC"),Promise.resolve(this.getResource(e,"0x1::Account::Balance<"+r+">",t)).then((function(e){if(void 0!==e)return e.token.value}))}catch(n){return Promise.reject(n)}},r.getBalances=function(e,r){try{return Promise.resolve(this.getResources(e,r)).then((function(e){if(void 0!==e){var r={};for(var t in e){var n=gt(t);if("object"===typeof n&&void 0!==n.Struct){var i=n.Struct;if("Account"===i.module&&"Balance"===i.name)r[x(i.type_params[0].Struct)]=e[t].token.value}}return r}}))}catch(t){return Promise.reject(t)}},r.getSequenceNumber=function(e,r){try{return Promise.resolve(this.getResource(e,"0x1::Account::Account",r)).then((function(e){if(void 0!==e)return e.sequence_number}))}catch(t){return Promise.reject(t)}},r.addListener=function(e,r){return this.on(e,r)},r.removeListener=function(e,r){return this.off(e,r)},e.isProvider=function(e){return!(!e||!e._isProvider)},e}(),xt=new m.Logger(yt);function Ut(e){return e.value.reduce((function(e,r){var t,n=r[0],i=r[1];return P({},e,((t={})[n]=Vt(i),t))}),{})}function Vt(e){if("Bool"in e)return e.Bool;if("U8"in e)return e.U8;if("U64"in e)return Rt.bigint(e.U64);if("U128"in e)return Rt.bigint(e.U128);if("Address"in e)return e.Address;if("Bytes"in e)return Object(i.hexValue)(e.Bytes);if("Vector"in e)return e.Vector.map((function(e){return Vt(e)}));if("Struct"in e)return e.Struct.value.reduce((function(e,r){var t,n=r[0],i=r[1];return P({},e,((t={})[n]=Vt(i),t))}),{});throw new Error("invalid annotated move value, "+JSON.stringify(e))}var Rt=function(){function e(){xt.checkNew(this instanceof e?this.constructor:void 0,e),this.formats=this.getDefaultFormats()}var r=e.prototype;return r.getDefaultFormats=function(){var r={},t=this.address.bind(this),n=(this.bigNumber.bind(this),this.blockTag.bind(this)),i=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),s=this.number.bind(this),u=this.u64.bind(this),c=(e.bigint.bind(this),this.u8.bind(this)),l=this.u256.bind(this);r.rawTransaction={sender:t,sequence_number:u,payload:i,max_gas_amount:u,gas_unit_price:u,gas_token_code:function(e){return e},expiration_timestamp_secs:u,chain_id:c},r.signedUserTransaction={transaction_hash:o,raw_txn:this.rawUserTransaction.bind(this),authenticator:this.transactionAuthenticator.bind(this)},r.blockMetadata={parent_hash:o,timestamp:u,author:t,author_auth_key:a,uncles:u,number:u,chain_id:c,parent_gas_used:u};var f={block_hash:e.allowNull(o),block_number:e.allowNull(u),transaction_hash:e.allowNull(o),transaction_index:e.allowNull(s)};return r.transaction=P({block_metadata:e.allowNull(this.blockMetadata.bind(this),null),user_transaction:e.allowNull(this.signedUserTransaction.bind(this),null)},f),r.blockBody={Full:e.allowNull(e.arrayOf(this.signedUserTransaction.bind(this))),Hashes:e.allowNull(e.arrayOf(o))},r.blockHeader={block_hash:o,parent_hash:o,timestamp:u,number:u,author:t,author_auth_key:e.allowNull(a,null),txn_accumulator_root:o,block_accumulator_root:o,state_root:o,gas_used:u,difficulty:l,nonce:u,body_hash:o,chain_id:c},r.blockWithTransactions={header:function(t){return e.check(r.blockHeader,t)},body:function(e){return e}},r.block={header:function(t){return e.check(r.blockHeader,t)},body:function(t){return e.check(r.blockBody,t)},confirmations:s},r.transactionInfo=P({state_root_hash:o,event_root_hash:o,gas_used:u,status:this.transactionVmStatus.bind(this),txn_events:e.allowNull(e.arrayOf(this.transactionEvent.bind(this)),null)},f),r.transactionEvent=P({data:a,type_tags:this.typeTag.bind(this),event_key:a,event_seq_number:u},f),r.transactionOutput={gas_used:u,status:this.transactionVmStatus.bind(this),events:e.allowNull(e.arrayOf(this.transactionEvent.bind(this))),write_set:e.allowNull(e.arrayOf(this.transactionWriteAction.bind(this)))},r.blockWithTransactions=Object(b.shallowCopy)(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.eventFilter={from_block:e.allowNull(n),to_block:e.allowNull(n),event_keys:e.arrayOf(a),limit:e.allowNull(s)},r},r.typeTag=function(e){return e},r.moveValue=function(e){return Vt(e)},r.moveStruct=function(e){return Ut(e)},r.transactionAuthenticator=function(e){return e},r.rawUserTransaction=function(r){return e.check(this.formats.rawTransaction,r)},r.signedUserTransaction=function(r){return e.check(this.formats.signedUserTransaction,r)},r.blockMetadata=function(r){return e.check(this.formats.blockMetadata,r)},r.transactionOutput=function(r){return e.check(this.formats.transactionOutput,r)},r.transactionWriteAction=function(e){return e},r.transactionEvent=function(r){return e.check(this.formats.transactionEvent,r)},r.transactionVmStatus=function(e){if("string"===typeof e){if([V,R,C].includes(e))return e;throw new Error("invalid txn vm_status: "+e)}if("object"===typeof e){if(e.MoveAbort)return{MoveAbort:{location:e.MoveAbort.location,abort_code:this.u64(e.MoveAbort.abort_code)}};if(e.ExecutionFailure)return e;if(e.Discard)return{Discard:{status_code:this.u64(e.Discard.status_code)}};throw new Error("invalid txn vm_status: "+JSON.stringify(e))}throw new TypeError("invalid txn vm_status type "+e)},r.number=function(e){return"0x"===e?0:w.BigNumber.from(e).toNumber()},r.u8=function(e){if("string"===typeof e)return Number.parseInt(e,10);if("number"===typeof e)return e;throw new Error("invalid u8: "+e)},r.u64=function(r){return e.bigint(r)},r.u128=function(r){return e.bigint(r)},r.u256=function(e){if("string"===typeof e)return e;if("number"===typeof e)return e.toString();throw new Error("invalid bigint: "+e)},e.bigint=function(e){if("string"===typeof e){var r=BigInt(e);return r>Number.MAX_SAFE_INTEGER?r:Number.parseInt(e)}if("number"===typeof e)return e;throw new TypeError("invalid bigint: "+e)},r.bigNumber=function(e){return w.BigNumber.from(e)},r.boolean=function(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)},r.hex=function(e,r){return"string"===typeof e&&(r||"0x"===e.slice(0,2)||(e="0x"+e),Object(i.isHexString)(e))?e.toLowerCase():xt.throwArgumentError("invalid hex","value",e)},r.data=function(e,r){var t=this.hex(e,r);if(t.length%2!==0)throw new Error("invalid data; odd-length - "+e);return t},r.address=function(e){"string"!==typeof e&&xt.throwArgumentError("invalid address","address",e);var r=this.hex(e,!0);return 16!==Object(i.hexDataLength)(r)?xt.throwArgumentError("invalid address","value",e):Object(o.addHexPrefix)(e)},r.blockTag=function(e){if("earliest"===e)return 0;if("number"===typeof e)return e;throw new Error("invalid blockTag")},r.hash=function(e,r){var t=this.hex(e,r);return 32!==Object(i.hexDataLength)(t)?xt.throwArgumentError("invalid hash","value",e):t},r._block=function(r){var t=e.check(this.formats.block,r),n=t.body.Full?t.body.Full:t.body.Hashes;return{header:t.header,transactions:n,confirmations:t.confirmations}},r.blockWithTxnHashes=function(e){var r=this._block(e),t=r.header,n=r.transactions,i=r.confirmations;return{header:t,transactions:n.map((function(e){return e.transaction_hash})),confirmations:i}},r.blockWithTransactions=function(e){var r=this._block(e);return{header:r.header,transactions:r.transactions,confirmations:r.confirmations}},r.transactionResponse=function(e){return e},r.userTransactionData=function(e){return Yr(e)},r.transactionInfo=function(r){return e.check(this.formats.transactionInfo,r)},r.topics=function(e){var r=this;return Array.isArray(e)?e.map((function(e){return r.topics(e)})):void 0!=e?this.hash(e,!0):null},r.filter=function(r){return e.check(this.formats.eventFilter,r)},e.check=function(e,r){var t={};for(var n in e)try{var i=e[n](r[n]);void 0!==i&&(t[n]=i)}catch(o){throw o.checkKey=n,o.checkValue=r[n],o}return t},e.allowNull=function(e,r){return function(t){return void 0==t?r:e(t)}},e.allowFalsish=function(e,r){return function(t){return t?e(t):r}},e.arrayOf=function(e){return function(r){if(!Array.isArray(r))throw new TypeError("not an array");var t=[];return r.forEach((function(r){t.push(e(r))})),t}},e}();function Ct(e,r){try{var t=e()}catch(n){return r(n)}return t&&t.then?t.then(void 0,r):t}var jt=new m.Logger(yt);function Dt(e){return void 0===e||0===e.length?"*":e.join("|")}function Kt(e){if("string"===typeof e){if(e=e.toLowerCase(),32===Object(i.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:"+Dt(e);if("object"===typeof e)return"filter:"+Dt(e.event_keys)}throw new Error("invalid event - "+e)}function Ht(){return(new Date).getTime()}var Gt,Ft={pending:"pending",block:"block",network:"network",poll:"poll",filter:"filter",tx:"tx"},Yt=[Ft.pending,Ft.block,Ft.network,Ft.poll],Mt=function(){function e(e,r,t){Object(b.defineReadOnly)(this,"tag",e),Object(b.defineReadOnly)(this,"listener",r),Object(b.defineReadOnly)(this,"once",t)}return e.prototype.pollable=function(){return this.tag.indexOf(":")>=0||Yt.indexOf(this.tag)>=0},T(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var r,t=""===(r=e[1])||"*"===r?[]:r.split("|"),n={};return t.length>0&&(n.event_keys=t),n}}]),e}(),Wt={getChainInfo:"getChainInfo",getNodeInfo:"getNodeInfo",sendTransaction:"sendTransaction",getBlock:"getBlock",getTransactionByHash:"getTransactionByHash",getTransactionInfo:"getTransactionInfo",getEventsOfTransaction:"getEventsOfTransaction",getEvents:"getEvents",call:"call",callV2:"callV2",getCode:"getCode",getResource:"getResource",getAccountState:"getAccountState",getGasPrice:"getGasPrice",dryRun:"dryRun",dryRunRaw:"dryRunRaw"},qt=1,Jt=function(e){function r(t){var n;if(jt.checkNew(this instanceof r?this.constructor:void 0,Ot),(n=e.call(this)||this)._events=[],n._emitted={block:-2},n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),Object(b.defineReadOnly)(L(n),"anyNetwork","any"===t),n.anyNetwork&&(t=n.detectNetwork()),t instanceof Promise)n._networkPromise=t,t.catch((function(e){})),n._ready().catch((function(e){}));else{var i=St(t);i?(Object(b.defineReadOnly)(L(n),"_network",i),n.emit("network",i,null)):jt.throwArgumentError("invalid network","network",t)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._pollingInterval=4e3,n._fastQueryDate=0,n}k(r,e);var t=r.prototype;return t._ready=function(){try{var e=this,r=function(){return e._network},t=function(){if(null==e._network){var r=function(){function r(){t||jt.throwError("no network detected",m.Logger.errors.UNKNOWN_ERROR,{}),null==e._network&&(e.anyNetwork?e._network=t:Object(b.defineReadOnly)(e,"_network",t),e.emit("network",t,null))}var n=function(){if(null==t)return Promise.resolve(e.detectNetwork()).then((function(e){t=e}))}();return n&&n.then?n.then(r):r()},t=null,n=function(){if(e._networkPromise){var r=Ct((function(){return Promise.resolve(e._networkPromise).then((function(e){t=e}))}),(function(){}));if(r&&r.then)return r.then((function(){}))}}();return n&&n.then?n.then(r):r()}}();return Promise.resolve(t&&t.then?t.then(r):r())}catch(n){return Promise.reject(n)}},r.getFormatter=function(){return null==Gt&&(Gt=new Rt),Gt},t._getInternalBlockNumber=function(e){try{var r=this;return Promise.resolve(r._ready()).then((function(){var t;function n(e){if(t)return e;var n=Ht(),i=Object(b.resolveProperties)({blockNumber:r.perform(Wt.getChainInfo,{}).then((function(e){return e.head.number}),(function(e){return e})),networkError:r.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,o=e.networkError;if(o)throw r._internalBlockNumber===i&&(r._internalBlockNumber=null),o;var a=Ht();return(t=w.BigNumber.from(t).toNumber())<r._maxInternalBlockNumber&&(t=r._maxInternalBlockNumber),r._maxInternalBlockNumber=t,r._setFastBlockNumber(t),{blockNumber:t,reqTime:n,respTime:a}}));return r._internalBlockNumber=i,Promise.resolve(i).then((function(e){return e.blockNumber}))}var i=r._internalBlockNumber,o=function(){if(e>0&&r._internalBlockNumber)return Promise.resolve(i).then((function(r){if(Ht()-r.respTime<=e)return t=1,r.blockNumber}))}();return o&&o.then?o.then(n):n(o)}))}catch(t){return Promise.reject(t)}},t.poll=function(){try{var e=this,r=qt++,t=[];return Promise.resolve(e._getInternalBlockNumber(100+e.pollingInterval/2)).then((function(n){if(e._setFastBlockNumber(n),e.emit("poll",r,n),n!==e._lastBlockNumber){if(-2===e._emitted.block&&(e._emitted.block=n-1),Math.abs(e._emitted.block-n)>1e3)jt.warn("network block skew detected; skipping block events"),e.emit("error",jt.makeError("network block skew detected",m.Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:e._emitted.block})),e.emit(Ft.block,n);else for(var i=e._emitted.block+1;i<=n;i++)e.emit(Ft.block,i);return e._emitted.block!==n&&(e._emitted.block=n,Object.keys(e._emitted).forEach((function(r){if(r!==Ft.block){var t=e._emitted[r];"pending"!==t&&n-t>12&&delete e._emitted[r]}}))),-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1),e._events.forEach((function(r){switch(r.type){case Ft.tx:var i=r.hash,o=e.getTransactionInfo(i).then((function(r){return r&&null!=r.block_number?(e._emitted["t:"+i]=r.block_number,e.emit(i,r),null):null})).catch((function(r){e.emit("error",r)}));t.push(o);break;case Ft.filter:var a=r.filter;a.from_block=e._lastBlockNumber+1,a.to_block=n;var s=e.getTransactionEvents(a).then((function(r){0!==r.length&&r.forEach((function(r){e._emitted["b:"+r.block_hash]=r.block_number,e._emitted["t:"+r.transaction_hash]=r.block_number,e.emit(a,r)}))})).catch((function(r){e.emit("error",r)}));t.push(s)}})),e._lastBlockNumber=n,Promise.all(t).then((function(){e.emit("didPoll",r)})),null}e.emit("didPoll",r)}))}catch(n){return Promise.reject(n)}},t.getNetwork=function(){try{var e=this;return Promise.resolve(e._ready()).then((function(r){return Promise.resolve(e.detectNetwork()).then((function(t){var n,i=function(){if(r.chainId!==t.chainId){var i=function(i){if(n)return i;var o=jt.makeError("underlying network changed",m.Logger.errors.NETWORK_ERROR,{event:"changed",network:r,detectedNetwork:t});throw e.emit("error",o),o},o=function(){if(e.anyNetwork)return e._network=t,e._lastBlockNumber=-2,e._fastBlockNumber=null,e._fastBlockNumberPromise=null,e._fastQueryDate=0,e._emitted.block=-2,e._maxInternalBlockNumber=-1024,e._internalBlockNumber=null,e.emit("network",t,r),Promise.resolve((i=0,new Promise((function(e){setTimeout(e,i)})))).then((function(){return n=1,e._network}));var i}();return o&&o.then?o.then(i):i(o)}}();return i&&i.then?i.then((function(e){return n?e:r})):n?i:r}))}))}catch(r){return Promise.reject(r)}},t._getFastBlockNumber=function(){var e=this,r=Ht();return r-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=r,this._fastBlockNumberPromise=this.getBlockNumber().then((function(r){return(null==e._fastBlockNumber||r>e._fastBlockNumber)&&(e._fastBlockNumber=r),e._fastBlockNumber}))),this._fastBlockNumberPromise},t._setFastBlockNumber=function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Ht(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))},t.waitForTransaction=function(e,r,t){try{var n=this;return null==r&&(r=1),Promise.resolve(n.getTransactionInfo(e)).then((function(i){return(i?i.confirmations:0)>=r?Promise.resolve(i):new Promise((function(i,o){var a=null,s=!1,u=function t(o){o.confirmations<r||(a&&clearTimeout(a),s||(s=!0,n.removeListener(e,t),i(o)))};n.on(e,u),"number"===typeof t&&t>0&&(a=setTimeout((function(){s||(a=null,s=!0,n.removeListener(e,u),o(jt.makeError("timeout exceeded",m.Logger.errors.TIMEOUT,{timeout:t})))}),t)).unref&&a.unref()}))}))}catch(i){return Promise.reject(i)}},t.getBlockNumber=function(){try{return Promise.resolve(this._getInternalBlockNumber(0))}catch(e){return Promise.reject(e)}},t.getGasPrice=function(){try{var e=this;return Promise.resolve(e.getNetwork()).then((function(){return Promise.resolve(e.perform(Wt.getGasPrice,{})).then((function(r){return e.formatter.u64(r)}))}))}catch(r){return Promise.reject(r)}},t.getCode=function(e,t){try{var n=this;return Promise.resolve(n.getNetwork()).then((function(){var o=r.getModuleId;return Promise.resolve(e).then((function(e){return Promise.resolve(Object(b.resolveProperties)({moduleId:o.call(r,e),blockTag:t})).then((function(e){return Promise.resolve(n.perform(Wt.getCode,e)).then((function(e){if(e)return Object(i.hexlify)(e)}))}))}))}))}catch(o){return Promise.reject(o)}},t.getResource=function(e,r,t){try{var n=this;return Promise.resolve(n.getNetwork()).then((function(){return Promise.resolve(Object(b.resolveProperties)({address:e,structTag:r,blockTag:t})).then((function(e){return Promise.resolve(n.perform(Wt.getResource,e)).then((function(e){if(e)return n.formatter.moveStruct(e)}))}))}))}catch(i){return Promise.reject(i)}},t.getResources=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(Object(b.resolveProperties)({address:e,blockTag:r})).then((function(e){return Promise.resolve(t.perform(Wt.getAccountState,e)).then((function(e){if(e)return Object.entries(e.resources).reduce((function(e,r){var n,i=r[0],o=r[1];return P({},e,((n={})[i]=t.formatter.moveStruct(o),n))}),{})}))}))}))}catch(n){return Promise.reject(n)}},t._wrapTransaction=function(e,r){var t=this;if(null!=r&&32!==Object(i.hexDataLength)(r))throw new Error("invalid response - sendTransaction");var n=e;return null!=r&&e.transaction_hash!==r&&jt.throwError("Transaction hash mismatch from Provider.sendTransaction.",m.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.transaction_hash,returnedHash:r}),n.wait=function(r){try{return 0!==r&&(t._emitted["t:"+e.transaction_hash]="pending"),Promise.resolve(t.waitForTransaction(e.transaction_hash,r)).then((function(i){return null==i&&0===r?null:(t._emitted["t:"+e.transaction_hash]=i.block_number,n.block_hash=i.block_hash,n.block_number=i.block_number,n.confirmations=r,"Executed"!==i.status&&jt.throwError("transaction failed",m.Logger.errors.CALL_EXCEPTION,{transactionHash:e.transaction_hash,transaction:e,receipt:i}),i)}))}catch(i){return Promise.reject(i)}},n},t.sendTransaction=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(e){var t=r.formatter.userTransactionData(e);return Ct((function(){return Promise.resolve(r.perform(Wt.sendTransaction,{signedTransaction:e})).then((function(){return r._wrapTransaction(t)}))}),(function(e){throw e.transaction=t,e.transactionHash=t.transaction_hash,e}))}))}))}catch(t){return Promise.reject(t)}},r.getModuleId=function(e){return"string"===typeof e?e:e.address+"::"+e.name},t._getFilter=function(e){try{var r=this;return Promise.resolve(e).then((function(e){var t=r.formatter,n=t.filter;return Promise.resolve(Object(b.resolveProperties)(e)).then((function(e){return n.call(t,e)}))}))}catch(t){return Promise.reject(t)}},t.call=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(Object(b.resolveProperties)({request:e})).then((function(e){return e.request.function_id=j(e.request.function_id),Promise.resolve(t.perform(Wt.call,e)).then((function(e){return e.map((function(e){return t.formatter.moveValue(e)}))}))}))}))}catch(n){return Promise.reject(n)}},t.callV2=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(Object(b.resolveProperties)({request:e})).then((function(e){return e.request.function_id=j(e.request.function_id),Promise.resolve(t.perform(Wt.callV2,e)).then((function(e){return e.map((function(e){return e}))}))}))}))}catch(n){return Promise.reject(n)}},t.dryRun=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(Object(b.resolveProperties)({transaction:e})).then((function(e){return Promise.resolve(r.perform(Wt.dryRun,e)).then((function(e){return r.formatter.transactionOutput(e)}))}))}))}catch(t){return Promise.reject(t)}},t.dryRunRaw=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){var n={rawUserTransactionHex:e,publicKeyHex:r};return Promise.resolve(t.perform(Wt.dryRunRaw,n)).then((function(e){return t.formatter.transactionOutput(e)}))}))}catch(n){return Promise.reject(n)}},t._getBlock=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(e).then((function(n){function o(){return Object(E.poll)((function(){try{return Promise.resolve(t.perform(Wt.getBlock,s)).then((function(e){var n;function i(r){return n?r:t.formatter.blockWithTxnHashes(e)}if(null==e)return null!=s.blockHash&&null==t._emitted["b:"+s.blockHash]||null!=s.blockNumber&&a>t._emitted.block?null:void 0;var o=function(){if(r)return Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then((function(r){var i=r-e.header.number+1;return i<=0&&(i=1),e.confirmations=i,n=1,t.formatter.blockWithTransactions(e)}))}();return o&&o.then?o.then(i):i(o)}))}catch(e){return Promise.reject(e)}}),{oncePoll:t})}e=n;var a=-128,s={includeTransactions:!!r},u=function(){if(Object(i.isHexString)(e,32))s.blockHash=e;else{var r=Ct((function(){return Promise.resolve(t._getBlockTag(e)).then((function(e){s.blockNumber=e,a=s.blockNumber}))}),(function(){jt.throwArgumentError("invalid block hash or block number","blockHashOrBlockNumber",e)}));if(r&&r.then)return r.then((function(){}))}}();return u&&u.then?u.then(o):o()}))}))}catch(n){return Promise.reject(n)}},t.getBlock=function(e){return this._getBlock(e,!0)},t.getTransaction=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(t){e=t;var n={transactionHash:r.formatter.hash(e,!0)};return Object(E.poll)((function(){try{return Promise.resolve(r.perform(Wt.getTransactionByHash,n)).then((function(t){function n(){return r._wrapTransaction(i)}if(null==t)return null==r._emitted["t:"+e]?null:void 0;var i=r.formatter.transactionResponse(t),o=function(){if(void 0===i.block_number)i.confirmations=0;else{var e=function(){if(void 0===i.confirmations)return Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then((function(e){var r=e-i.block_number+1;r<=0&&(r=1),i.confirmations=r}))}();if(e&&e.then)return e.then((function(){}))}}();return o&&o.then?o.then(n):n()}))}catch(t){return Promise.reject(t)}}),{oncePoll:r})}))}))}catch(t){return Promise.reject(t)}},t.getTransactionInfo=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(t){e=t;var n={transactionHash:r.formatter.hash(e,!0)};return Object(E.poll)((function(){try{return Promise.resolve(r.perform(Wt.getTransactionInfo,n)).then((function(t){if(null===t)return null===r._emitted["t:"+e]?null:void 0;if(null!==t.block_hash){var n=r.formatter.transactionInfo(t),i=function(){if(null===n.block_number)n.confirmations=0;else{var e=function(){if(!n.confirmations)return Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then((function(e){var r=e-n.block_number+1;r<=0&&(r=1),n.confirmations=r}))}();if(e&&e.then)return e.then((function(){}))}}();return i&&i.then?i.then((function(){return n})):n}}))}catch(t){return Promise.reject(t)}}),{oncePoll:r})}))}))}catch(t){return Promise.reject(t)}},t.getEventsOfTransaction=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(t){e=t;var n={transactionHash:r.formatter.hash(e,!0)};return Promise.resolve(r.perform(Wt.getEventsOfTransaction,n)).then((function(e){return Rt.arrayOf(r.formatter.transactionEvent.bind(r.formatter))(e)}))}))}))}catch(t){return Promise.reject(t)}},t.getTransactionEvents=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(Object(b.resolveProperties)({filter:e})).then((function(e){return Promise.resolve(r.perform(Wt.getEvents,e)).then((function(e){return Rt.arrayOf(r.formatter.transactionEvent.bind(r.formatter))(e)}))}))}))}catch(t){return Promise.reject(t)}},t._getBlockTag=function(e){try{var r=this;return Promise.resolve(e).then((function(t){return(e=t)<0?(e%1&&jt.throwArgumentError("invalid BlockTag","blockTag",e),Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then((function(r){return(r+=e)<0&&(r=0),r}))):e}))}catch(t){return Promise.reject(t)}},t._startEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},t._stopEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},t._addEventListener=function(e,r,t){var n=new Mt(Kt(e),r,t);return this._events.push(n),this._startEvent(n),this},t.on=function(e,r){return this._addEventListener(e,r,!1)},t.once=function(e,r){return this._addEventListener(e,r,!0)},t.emit=function(e){var r=arguments,t=this,n=!1,i=[],o=Kt(e);return this._events=this._events.filter((function(e){return e.tag!==o||(setTimeout((function(){e.listener.apply(t,[].slice.call(r,1))}),0),n=!0,!e.once||(i.push(e),!1))})),i.forEach((function(e){t._stopEvent(e)})),n},t.listenerCount=function(e){if(!e)return this._events.length;var r=Kt(e);return this._events.filter((function(e){return e.tag===r})).length},t.listeners=function(e){if(null==e)return this._events.map((function(e){return e.listener}));var r=Kt(e);return this._events.filter((function(e){return e.tag===r})).map((function(e){return e.listener}))},t.off=function(e,r){var t=this;if(null===r)return this.removeAllListeners(e);var n=[],i=!1,o=Kt(e);return this._events=this._events.filter((function(e){return e.tag!==o||e.listener!==r||(!!i||(i=!0,n.push(e),!1))})),n.forEach((function(e){t._stopEvent(e)})),this},t.removeAllListeners=function(e){var r=this,t=[];if(null===e)t=this._events,this._events=[];else{var n=Kt(e);this._events=this._events.filter((function(e){return e.tag!==n||(t.push(e),!1)}))}return t.forEach((function(e){r._stopEvent(e)})),this},T(r,[{key:"ready",get:function(){var e=this;return Object(E.poll)((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==m.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"network",get:function(){return this._network}},{key:"blockNumber",get:function(){return this._getInternalBlockNumber(100+this.pollingInterval/2),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var r=this;e&&!this._poller?(this._poller=setInterval(this.poll.bind(this),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){r.poll(),r._bootstrapPoll=setTimeout((function(){r._poller||r.poll(),r._bootstrapPoll=null}),r.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var r=this;if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){r.poll()}),this._pollingInterval))}}]),r}(Ot),Zt=new m.Logger(yt),Xt=new Set(["sender","sender_public_key","sequence_number","script","modules","max_gas_amount","gas_unit_price","gas_token_code","chain_id"]),Qt=new Set([m.Logger.errors.INSUFFICIENT_FUNDS,m.Logger.errors.NONCE_EXPIRED,m.Logger.errors.REPLACEMENT_UNDERPRICED]),$t=function(){function e(){Zt.checkAbstract(this instanceof e?this.constructor:void 0,e),Object(b.defineReadOnly)(this,"_isSigner",!0)}var r=e.prototype;return r.getBalance=function(e,r){try{return this.checkProvider("getBalance"),Promise.resolve(this.provider.getBalance(this.getAddress(),e,r))}catch(t){return Promise.reject(t)}},r.getSequenceNumber=function(e){try{return this.checkProvider("getSequenceNumber"),Promise.resolve(this.provider.getSequenceNumber(this.getAddress(),e))}catch(r){return Promise.reject(r)}},r.estimateGas=function(e){try{var r=this;return r.checkProvider("estimateGas"),Promise.resolve(Object(b.resolveProperties)(r.checkTransaction(e))).then((function(e){return Promise.resolve(r.provider.dryRun(e)).then((function(e){return"number"===typeof e.gas_used?3*e.gas_used:BigInt(3)*e.gas_used.valueOf()}))}))}catch(t){return Promise.reject(t)}},r.sendTransaction=function(e){var r=this;return this.checkProvider("sendTransaction"),this.populateTransaction(e).then((function(e){return r.signTransaction(e).then((function(e){return r.provider.sendTransaction(e)}))}))},r.getChainId=function(){try{return this.checkProvider("getChainId"),Promise.resolve(this.provider.getNetwork()).then((function(e){return e.chainId}))}catch(e){return Promise.reject(e)}},r.getGasPrice=function(){try{return this.checkProvider("getGasPrice"),Promise.resolve(this.provider.getGasPrice())}catch(e){return Promise.reject(e)}},r.checkTransaction=function(e){for(var r=0,t=Object.keys(e);r<t.length;r++){var n=t[r];Xt.has(n)||Zt.throwArgumentError("invalid transaction key: "+n,"transaction",e)}var i=Object(b.shallowCopy)(e);return void 0===i.sender?i.sender=this.getAddress():i.sender=Promise.all([Promise.resolve(i.sender),this.getAddress()]).then((function(r){return r[0]!==r[1]&&Zt.throwArgumentError("from address mismatch","transaction",e),r[0]})),i},r.populateTransaction=function(e){try{var r=this;return Promise.resolve(Object(b.resolveProperties)(r.checkTransaction(e))).then((function(t){return void 0===t.gas_unit_price&&(t.gas_unit_price=r.getGasPrice()),void 0===t.sequence_number&&(t.sequence_number=r.getSequenceNumber("pending")),void 0===t.chain_id?t.chain_id=r.getChainId():t.chain_id=Promise.all([Promise.resolve(t.chain_id),r.getChainId()]).then((function(r){return 0!==r[1]&&r[0]!==r[1]&&Zt.throwArgumentError("chainId address mismatch","transaction",e),r[0]})),void 0===t.max_gas_amount&&(t.max_gas_amount=r.estimateGas(t).catch((function(e){if(Qt.has(e.code))throw e;return Zt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",m.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),Object(b.resolveProperties)(t)}))}catch(t){return Promise.reject(t)}},r.checkProvider=function(e){this.provider||Zt.throwError("missing provider",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})},e.isSigner=function(e){return!(!e||!e._isSigner)},e}();function en(e,r){try{var t=e()}catch(n){return r(n)}return t&&t.then?t.then(void 0,r):t}var rn=new m.Logger(yt),tn=new Set(["call","estimateGas"]);function nn(e,r,t){var n=r.message;r.code===m.Logger.errors.SERVER_ERROR&&r.error&&"string"===typeof r.error.message?n=r.error.message:"string"===typeof r.body?n=r.body:"string"===typeof r.responseText&&(n=r.responseText),n=(n||"").toLowerCase();var i=t.transaction||t.signedTransaction;throw n.match(/insufficient funds/)&&rn.throwError("insufficient funds for intrinsic transaction cost",m.Logger.errors.INSUFFICIENT_FUNDS,{error:r,method:e,transaction:i}),n.match(/nonce too low/)&&rn.throwError("nonce has already been used",m.Logger.errors.NONCE_EXPIRED,{error:r,method:e,transaction:i}),n.match(/replacement transaction underpriced/)&&rn.throwError("replacement fee too low",m.Logger.errors.REPLACEMENT_UNDERPRICED,{error:r,method:e,transaction:i}),tn.has(e)&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&rn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",m.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:r,method:e,transaction:i}),r}function on(e){if(e.error){var r=new Error(e.error.message);throw r.code=e.error.code,r.data=e.error.data,r}return e.result}var an={},sn=function(r){function t(e,n,i){var o;if(rn.checkNew(this instanceof t?this.constructor:void 0,t),o=r.call(this)||this,e!==an)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return Object(b.defineReadOnly)(L(o),"provider",n),void 0===i&&(i=0),"string"===typeof i?Object(b.defineReadOnly)(L(o),"_address",o.provider.formatter.address(i)):"number"===typeof i?Object(b.defineReadOnly)(L(o),"_index",i):rn.throwArgumentError("invalid address or index","addressOrIndex",i),o}k(t,r);var n=t.prototype;return n.connect=function(e){return rn.throwError("cannot alter JSON-RPC Signer connection",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})},n.getAddress=function(){try{var e=this;return e._address?Promise.resolve(e._address):Promise.resolve(e.provider.send("stc_accounts",[]).then((function(r){return r.length<=e._index&&rn.throwError("unknown account #"+e._index,m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(r[e._index])})))}catch(r){return Promise.reject(r)}},n.sendUncheckedTransaction=function(e){var r=this;rn.debug("sendUncheckedTransaction",e),e=Object(b.shallowCopy)(e);var t=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));return rn.debug(t),Object(b.resolveProperties)({tx:Object(b.resolveProperties)(e),sender:t}).then((function(t){var n=t.tx,i=t.sender;null!=n.from?n.from.toLowerCase()!==i&&rn.throwArgumentError("from address mismatch","transaction",e):n.from=i;var o=r.provider.constructor.hexlifyTransaction(n,{from:!0,expiredSecs:!0,addGasBufferMultiplier:!0});return n.addGasBufferMultiplier&&"number"===typeof n.addGasBufferMultiplier&&(o.addGasBufferMultiplier=n.addGasBufferMultiplier.toString()),rn.debug(o),r.provider.send("stc_sendTransaction",[o]).then((function(e){return e}),(function(e){throw e.responseText&&(e.responseText.indexOf("insufficient funds")>=0&&rn.throwError("insufficient funds",m.Logger.errors.INSUFFICIENT_FUNDS,{transaction:n}),e.responseText.indexOf("nonce too low")>=0&&rn.throwError("nonce has already been used",m.Logger.errors.NONCE_EXPIRED,{transaction:n}),e.responseText.indexOf("replacement transaction underpriced")>=0&&rn.throwError("replacement fee too low",m.Logger.errors.REPLACEMENT_UNDERPRICED,{transaction:n})),e}))}))},n.signTransaction=function(e){try{var r=this;return Promise.resolve(Object(b.resolveProperties)(e)).then((function(t){return Promise.resolve(r.getAddress()).then((function(n){return void 0!==t.sender?t.sender!==n&&rn.throwArgumentError("from address mismatch","transaction",e):t.sender=n,r.provider.send("account.sign_txn_request",[t]).then((function(e){return e}),(function(e){return nn("signTransaction",e,t)}))}))}))}catch(t){return Promise.reject(t)}},n.signMessage=function(r){try{var t=this.provider;return Promise.resolve(this.getAddress()).then((function(n){var o;if("string"===typeof r)o=new Uint8Array(e.from(r));else{if(!Object(i.isBytes)(r))return rn.throwError("type of message input is unsupported",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signMessage"});o=r}var a={message:Array.from(o)};return t.send("account.sign",[n.toLowerCase(),a])}))}catch(n){return Promise.reject(n)}},n.unlock=function(e){try{var r=this.provider;return Promise.resolve(this.getAddress()).then((function(t){return r.send("account.unlock",[t.toLowerCase(),e,void 0])}))}catch(t){return Promise.reject(t)}},t}($t),un={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},cn=function(e){function r(t,n){var i;rn.checkNew(this instanceof r?this.constructor:void 0,r);var o=n;return null==o&&(o=new Promise((function(e,r){setTimeout((function(){i.detectNetwork().then((function(r){e(r)}),(function(e){r(e)}))}),0)}))),i=e.call(this,o)||this,t||(t=Object(b.getStatic)(i.constructor,"defaultUrl")()),"string"===typeof t?Object(b.defineReadOnly)(L(i),"connection",Object.freeze({url:t})):Object(b.defineReadOnly)(L(i),"connection",Object.freeze(Object(b.shallowCopy)(t))),i._nextId=42,i}k(r,e),r.defaultUrl=function(){return"http://localhost:9850"};var t=r.prototype;return t.detectNetwork=function(){try{var e=this;return Promise.resolve((r=0,new Promise((function(e){setTimeout(e,r)})))).then((function(){function r(){if(null!=t)try{return St(w.BigNumber.from(t).toNumber())}catch(e){return rn.throwError("could not detect network",m.Logger.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}return rn.throwError("could not detect network",m.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})}var t=null,n=en((function(){return Promise.resolve(e.send("chain.id",[])).then((function(e){t=e.id}))}),(function(){var r=en((function(){return Promise.resolve(e.perform(Wt.getChainInfo,null)).then((function(e){t=e.chain_id}))}),(function(){}));return r&&r.then?r.then((function(){})):void 0}));return n&&n.then?n.then(r):r()}))}catch(t){return Promise.reject(t)}var r},t.getSigner=function(e){return new sn(an,this,e)},t.getNowSeconds=function(){try{return Promise.resolve(this.perform(Wt.getNodeInfo,null)).then((function(e){return e.now_seconds}))}catch(e){return Promise.reject(e)}},t.send=function(e,r){var t=this,n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};return this.emit("debug",{action:"request",request:Object(b.deepCopy)(n),provider:this}),Object(E.fetchJson)(this.connection,JSON.stringify(n),on).then((function(e){return t.emit("debug",{action:"response",request:n,response:e,provider:t}),e}),(function(e){throw t.emit("debug",{action:"response",error:e,request:n,provider:t}),e}))},t.prepareRequest=function(e,r){switch(e){case Wt.getChainInfo:return["chain.info",[]];case Wt.getNodeInfo:return["node.info",[]];case Wt.getGasPrice:return["txpool.gas_price",[]];case Wt.dryRun:return["contract.dry_run",[r.transaction]];case Wt.dryRunRaw:return["contract.dry_run_raw",[r.rawUserTransactionHex,r.publicKeyHex]];case Wt.sendTransaction:return["txpool.submit_hex_transaction",[r.signedTransaction]];case Wt.getBlock:if(void 0!==r.blockNumber)return["chain.get_block_by_number",[r.blockNumber]];if(void 0!==r.blockHash)return["chain.get_block_by_hash",[r.blockHash]];break;case Wt.getTransactionByHash:return["chain.get_transaction",[r.transactionHash]];case Wt.getTransactionInfo:return["chain.get_transaction_info",[r.transactionHash]];case Wt.getEventsOfTransaction:return["chain.get_events_by_txn_hash",[r.transactionHash]];case Wt.getCode:return["contract.get_code",[r.moduleId]];case Wt.getResource:return["contract.get_resource",[r.address,r.structTag]];case Wt.getAccountState:return["state.get_account_state_set",[r.address]];case Wt.call:return["contract.call",[r.request]];case Wt.callV2:return["contract.call_v2",[r.request]];case Wt.getEvents:return["chain.get_events",[r.filter]]}},t.perform=function(e,r){try{var t=this,n=t.prepareRequest(e,r);return void 0===n&&rn.throwError(e+" not implemented",m.Logger.errors.NOT_IMPLEMENTED,{operation:e}),Promise.resolve(en((function(){return Promise.resolve(t.send(n[0],n[1]))}),(function(t){return nn(e,t,r)})))}catch(i){return Promise.reject(i)}},t._startEvent=function(r){"pending"===r.tag&&rn.throwError("pending event not implemented",m.Logger.errors.NOT_IMPLEMENTED,{operation:"pending event"}),e.prototype._startEvent.call(this,r)},t._stopEvent=function(r){r.tag===Ft.pending&&0===this.listenerCount(Ft.pending)&&(this._pendingFilter=null),e.prototype._stopEvent.call(this,r)},r.hexlifyTransaction=function(e,r){var t=Object(b.shallowCopy)(un);if(r)for(var n in r)r[n]&&(t[n]=!0);bt(e,t);var o={};return["gasLimit","gasPrice","nonce","value","expiredSecs"].forEach((function(r){if(null!=e[r]){var t=Object(i.hexValue)(e[r]);"gasLimit"===r&&(r="gas"),o[r]=t}})),["from","to","data"].forEach((function(r){null!=e[r]&&(o[r]=Object(i.hexlify)(e[r]))})),o},r}(Jt),ln=function(e,r){try{return Promise.resolve(hn(r,e)).then((function(t){return Promise.resolve(fn(e,t,r))}))}catch(t){return Promise.reject(t)}},fn=function(e,r,t){try{return Promise.resolve(Object(a.getPublicKey)(Object(o.stripHexPrefix)(e))).then((function(e){var n=_n(e,r,t);return Promise.resolve(n)}))}catch(n){return Promise.reject(n)}},hn=function(e,r){try{var t=function(e,r){var t=new Uint8Array(e.length+r.length);return t.set(e,0),t.set(r,e.length),t}(Ur().get_salt(),function(){var r=new Y;return e.serialize(r),r.getBytes()}());return Promise.resolve(Object(a.sign)(t,Object(o.stripHexPrefix)(r))).then((function(e){return Object(i.hexlify)(e)}))}catch(n){return Promise.reject(n)}};function dn(e,r,t){var n=D(e);return new De(new ke(Wr(n.address),new Ae(n.module)),new Ae(n.functionName),r.map((function(e){return Jr(e)})),t)}function pn(e,r,t){var n=dn(e,r,t);return new ar(n)}function vn(e,r,t){var n=r.map((function(e){return new Pe(Object(i.arrayify)(e))})),o=null;return t&&(o=dn(t.functionId,t.tyArgs,t.args)),new xe(Wr(e),n,o)}function _n(e,r,t){var n=new we(Object(i.arrayify)(Object(o.addHexPrefix)(e))),a=new be(Object(i.arrayify)(Object(o.addHexPrefix)(r))),s=new rr(n,a);return new He(t,s)}function gn(e){return e.map((function(e){return function e(r){var t=r.split("<"),n=t[0].split("::"),i=n[0],o=n[1],a=n[2],s=t[1]?t[1].replace(">","").split(","):[],u=[];return s.length>0&&s.forEach((function(r){u.push(e(r.trim()))})),{Struct:{address:i,module:o,name:a,type_params:u}}}(e)}))}function mn(r,t){return t.map((function(t,n){return function(r,t){if("Address"===t)return Object(i.arrayify)(r);var n=new Y;if(t&&"U8"===t.Vector){for(var a=r?Object(i.isHexString)(Object(o.addHexPrefix)(r))?jr(r):new Uint8Array(e.from(r)):new Uint8Array,s=a.length,u=[],c=0;c<s;c++)u.push(a[c]);Ir.serializeVectorU8(u,n);var l=Object(i.hexlify)(n.getBytes());return Object(i.arrayify)(l)}if(t&&t.Vector&&Array.isArray(r)){n.serializeLen(r.length),r.forEach((function(e){if("U8"===t.Vector.Vector)n.serializeBytes(jr(e));else if("Address"===t.Vector){Wr(e).serialize(n)}else t.Vector&&n["serialize"+t.Vector](e)}));var f=Object(i.hexlify)(n.getBytes());return Object(i.arrayify)(f)}if(t){n["serialize"+t](r);var h=Object(i.hexlify)(n.getBytes());return Object(i.arrayify)(h)}return r}(t,r[n].type_tag)}))}var yn=function(e,r){try{return Promise.resolve(Promise.all(Object.keys(e.private_keys).map((function(t){var n=Object(i.hexlify)(e.private_keys[t].value);return hn(r,n).then((function(e){return[new be(Object(i.arrayify)(e)),Number.parseInt(t,10)]})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(e){var r=Se.build(e);return Promise.resolve(r)}))}catch(t){return Promise.reject(t)}},wn={__proto__:null,abi:nt,account:lt,errors:ft,helper:$,hex:Kr,parser:mt,properties:Et,signedMessage:kt,multiSign:{__proto__:null,generateMultiEd25519SignatureShard:function(e,r){try{return Promise.resolve(yn(e,r)).then((function(r){var t=new Be(r,e.threshold);return Promise.resolve(t)}))}catch(t){return Promise.reject(t)}},generateMultiEd25519Signature:yn,generateMultiEd25519KeyShard:function(e,r,t){try{if(0===r.length)throw new Error("require at least one private key");var n=Object(y.cloneDeep)(e),o={};return Promise.resolve(Promise.all(r.map((function(e){return Hr(e).then((function(r){return n.push(r),o[r]=e,r})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(){n.sort((function(e,r){return e>r?1:-1}));var e=n.filter((function(e,r,t){return t.indexOf(e)===r})),o={};return Promise.resolve(Promise.all(r.map((function(r){return Hr(r).then((function(t){var n=e.indexOf(t);return n>-1&&(o[n]=new ye(Object(i.arrayify)(r))),t})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(){var r=e.map((function(e){return new we(Object(i.arrayify)(e))})),n=new Oe(r,t,o);return Promise.resolve(n)}))}))}catch(a){return Promise.reject(a)}}},tx:{__proto__:null,encodeScriptFunctionByResolve:function(e,r,t,n){try{var i=gn(r),o=new cn(n);return Promise.resolve(o.send("contract.resolve_function",[e])).then((function(r){var n=r.args;n[0]&&"Signer"===n[0].type_tag&&n.shift();var o=mn(n,t);return pn(e,i,o)}))}catch(a){return Promise.reject(a)}},signRawUserTransaction:function(e,r){try{return Promise.resolve(ln(e,r)).then((function(e){return function(e){var r=new Y;return e.serialize(r),Object(i.hexlify)(r.getBytes())}(e)}))}catch(t){return Promise.reject(t)}},getSignedUserTransaction:ln,getSignatureHex:hn,encodeTransactionScript:function(e,r,t){var n=new Ve(e,r.map((function(e){return Jr(e)})),t.map((function(e){return Object(i.arrayify)(e)})));return new ir(n)},encodeStarcoinTypesScriptFunction:dn,encodeScriptFunction:pn,encodeStarcoinTypesPackage:vn,encodePackage:function(e,r,t){var n=vn(e,r,t);return new or(n)},generateRawUserTransaction:function(e,r,t,n,i,o,a){var s=Wr(e),u=BigInt(i),c=BigInt(t),l=BigInt(n),f=BigInt(o),h=new ce(a);return new Ue(s,u,r,c,l,"0x1::STC::STC",f,h)},signTxn:_n,encodeStructTypeTags:gn,encodeScriptFunctionArgs:mn}},bn={__proto__:null,BinaryDeserializer:H,BinarySerializer:F},En=new m.Logger(yt),zn=1;function In(e,r){return function(e,t){var n={method:e,params:t,id:zn+=1,jsonrpc:"2.0"};return new Promise((function(e,t){r(n,(function(r,n){if(r)return t(r);if(n.error){var i=new Error(n.error.message);return i.code=n.error.code,i.data=n.error.data,t(i)}e(n.result)}))}))}}var An=function(e){function r(t,n){var i,o,a,s;return En.checkNew(this instanceof r?this.constructor:void 0,r),void 0===t&&En.throwArgumentError("missing provider","provider",t),"function"===typeof t?(o="unknown:",a=t):(!(o=t.host||t.path||"")&&t.isStarMask&&(o="starmask"),s=t,t.sendAsync?a=In(0,t.sendAsync.bind(t)):t.send?a=In(0,t.send.bind(t)):En.throwArgumentError("unsupported provider","provider",t),o||(o="unknown:")),i=e.call(this,o,n)||this,Object(b.defineReadOnly)(L(i),"jsonRpcFetchFunc",a),Object(b.defineReadOnly)(L(i),"provider",s),i}return k(r,e),r.prototype.send=function(e,r){return this.jsonRpcFetchFunc(e,r)},r}(cn),Tn=new m.Logger(yt),Pn=1,kn={__proto__:null,CONSTANTS:Ft,Event:Mt,RPC_ACTION:Wt,BaseProvider:Jt,formatMoveStruct:Ut,formatMoveValue:Vt,Formatter:Rt,JsonRpcSigner:sn,JsonRpcProvider:cn,Web3Provider:An,WebsocketProvider:function(e){function r(r,t){var n;"any"===t&&Tn.throwError("WebSocketProvider does not support 'any' network yet",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(n=e.call(this,r,t)||this)._pollingInterval=-1,n._wsReady=!1,Object(b.defineReadOnly)(L(n),"_websocket",new I.a(n.connection.url)),Object(b.defineReadOnly)(L(n),"_requests",{}),Object(b.defineReadOnly)(L(n),"_subs",{}),Object(b.defineReadOnly)(L(n),"_subIds",{}),Object(b.defineReadOnly)(L(n),"_detectNetwork",e.prototype.detectNetwork.call(L(n))),n._websocket.onopen=function(){n._wsReady=!0,Object.keys(n._requests).forEach((function(e){n._websocket.send(n._requests[e].payload)}))},n._websocket.onmessage=function(e){var r=e.data,t=JSON.parse(r);if(null!=t.id){var i,o=String(t.id),a=n._requests[o];if(delete n._requests[o],void 0!==t.result)a.callback(null,t.result),n.emit("debug",{action:"response",request:JSON.parse(a.payload),response:t.result,provider:L(n)});else t.error?(i=new Error(t.error.message||"unknown error"),Object(b.defineReadOnly)(i,"code",t.error.code||null),Object(b.defineReadOnly)(i,"response",r)):i=new Error("unknown error"),a.callback(i,void 0),n.emit("debug",{action:"response",error:i,request:JSON.parse(a.payload),provider:L(n)})}else if("starcoin_subscription"===t.method){var s=n._subs[t.params.subscription];s&&s.processFunc(t.params.result)}};var i=setInterval((function(){n.emit("poll")}),1e3);return i.unref&&i.unref(),n}k(r,e);var t=r.prototype;return t.detectNetwork=function(){return this._detectNetwork},t.poll=function(){return Promise.resolve(null)},t.send=function(e,r){var t=this,n=Pn++;return new Promise((function(i,o){var a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});t.emit("debug",{action:"request",request:JSON.parse(a),provider:t}),t._requests[String(n)]={callback:function(e,r){return e?o(e):i(r)},payload:a},t._wsReady&&t._websocket.send(a)}))},r.defaultUrl=function(){return"ws://localhost:9870"},t._subscribe=function(e,r,t){try{var n=this,i=n._subIds[e];return null==i&&(i=Promise.all(r).then((function(e){return n.send("starcoin_subscribe",e)})),n._subIds[e]=i),Promise.resolve(i).then((function(r){n._subs[r]={tag:e,processFunc:t}}))}catch(o){return Promise.reject(o)}},t._startEvent=function(e){var r=this;switch(e.type){case Ft.block:this._subscribe(Ft.block,[{type_name:"newHeads"}],(function(e){var t=r.formatter.u64(e.header.number);r._emitted.block=t,r.emit(Ft.block,t)}));break;case Ft.pending:this._subscribe(Ft.pending,[{type_name:"newPendingTransactions"}],(function(e){r.emit(Ft.pending,e)}));break;case Ft.filter:this._subscribe(e.tag,[{type_name:"events"},e.filter],(function(t){r.emit(e.filter,r.formatter.transactionEvent(t))}));break;case Ft.tx:var t=function(e){var t=e.hash;r.getTransactionInfo(t).then((function(e){e&&r.emit(t,e)}))};t(e),this._subscribe(Ft.tx,[{type_name:"newHeads"}],(function(e){r._events.filter((function(e){return e.type===Ft.tx})).forEach(t)}))}},t._stopEvent=function(e){var r=this,t=e.tag;if(e.type===Ft.tx){if(this._events.filter((function(e){return e.type===Ft.tx})).length)return;t=Ft.tx}else if(this.listenerCount(e.event))return;var n=this._subIds[t];n&&(delete this._subIds[t],n.then((function(e){r._subs[e]&&(delete r._subs[e],r.send("starcoin_unsubscribe",[e]))})))},t.destroy=function(){try{var e=this,r=function(){e._websocket.close(1e3)},t=function(){if(e._websocket.readyState===I.a.CONNECTING)return Promise.resolve(new Promise((function(r){e._websocket.onopen=function(){r(!0)},e._websocket.onerror=function(){r(!1)}}))).then((function(){}))}();return Promise.resolve(t&&t.then?t.then(r):r())}catch(n){return Promise.reject(n)}},T(r,[{key:"pollingInterval",get:function(){return 0},set:function(e){Tn.throwError("cannot set polling interval on WebSocketProvider",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"polling",set:function(e){e&&Tn.throwError("cannot set polling on WebSocketProvider",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}}]),r}(cn)},Nn=function(){function e(e){this.token_code=e}return e.prototype.serialize=function(e){this.token_code.serialize(e)},e.deserialize=function(r){return new e(Rn.deserialize(r))},e}(),Ln=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){Dn.serializeArray16U8Array(this.value,e)},e.deserialize=function(r){return new e(Dn.deserializeArray16U8Array(r))},e}(),Sn=function(){function e(e,r,t,n){this.block_number=e,this.block_reward=r,this.gas_fees=t,this.miner=n}return e.prototype.serialize=function(e){e.serializeU64(this.block_number),e.serializeU128(this.block_reward),e.serializeU128(this.gas_fees),this.miner.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU64(),r.deserializeU128(),r.deserializeU128(),Ln.deserialize(r))},e}(),Bn=function(){function e(e,r){this.amount=e,this.token_code=r}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU128(),Rn.deserialize(r))},e}(),On=function(){function e(e,r,t){this.amount=e,this.token_code=r,this.metadata=t}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),Dn.serializeVectorU8(this.metadata,e)},e.deserialize=function(r){return new e(r.deserializeU128(),Rn.deserialize(r),Dn.deserializeVectorU8(r))},e}(),xn=function(){function e(e,r){this.amount=e,this.token_code=r}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU128(),Rn.deserialize(r))},e}(),Un=function(){function e(e,r,t,n){this.number=e,this.author=r,this.timestamp=t,this.uncles=n}return e.prototype.serialize=function(e){e.serializeU64(this.number),this.author.serialize(e),e.serializeU64(this.timestamp),e.serializeU64(this.uncles)},e.deserialize=function(r){return new e(r.deserializeU64(),Ln.deserialize(r),r.deserializeU64(),r.deserializeU64())},e}(),Vn=function(){function e(e,r){this.proposal_id=e,this.proposer=r}return e.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU64(),Ln.deserialize(r))},e}(),Rn=function(){function e(e,r,t){this.address=e,this.module=r,this.name=t}return e.prototype.serialize=function(e){this.address.serialize(e),e.serializeStr(this.module),e.serializeStr(this.name)},e.deserialize=function(r){return new e(Ln.deserialize(r),r.deserializeStr(),r.deserializeStr())},e}(),Cn=function(){function e(e,r,t,n,i){this.proposal_id=e,this.proposer=r,this.voter=t,this.agree=n,this.vote=i}return e.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e),this.voter.serialize(e),e.serializeBool(this.agree),e.serializeU128(this.vote)},e.deserialize=function(r){return new e(r.deserializeU64(),Ln.deserialize(r),Ln.deserialize(r),r.deserializeBool(),r.deserializeU128())},e}(),jn=function(){function e(e,r,t){this.amount=e,this.token_code=r,this.metadata=t}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),Dn.serializeVectorU8(this.metadata,e)},e.deserialize=function(r){return new e(r.deserializeU128(),Rn.deserialize(r),Dn.deserializeVectorU8(r))},e}(),Dn=function(){function e(){}return e.serializeArray16U8Array=function(e,r){e.forEach((function(e){r.serializeU8(e[0])}))},e.deserializeArray16U8Array=function(e){for(var r=[],t=0;t<16;t++)r.push([e.deserializeU8()]);return r},e.serializeVectorU8=function(e,r){r.serializeLen(e.length),e.forEach((function(e){r.serializeU8(e)}))},e.deserializeVectorU8=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(e.deserializeU8());return t},e}(),Kn={__proto__:null,AcceptTokenEvent:Nn,AccountAddress:Ln,BlockRewardEvent:Sn,BurnEvent:Bn,DepositEvent:On,MintEvent:xn,NewBlockEvent:Un,ProposalCreatedEvent:Vn,TokenCode:Rn,VoteChangedEvent:Cn,WithdrawEvent:jn,Helpers:Dn};Rn.prototype.toJS=function(){return{address:qr(this.address),module:this.module,name:this.name}},On.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},Nn.prototype.toJS=function(){return{token_code:this.token_code.toJS()}},Sn.prototype.toJS=function(){return{block_number:this.block_number,block_reward:this.block_reward,gas_fees:this.gas_fees,miner:qr(this.miner)}},Bn.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},xn.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},Un.prototype.toJS=function(){return{number:this.number,author:qr(this.author),timestamp:this.timestamp,uncles:this.uncles}},Vn.prototype.toJS=function(){return{proposal_id:this.proposal_id,proposer:qr(this.proposer)}},Cn.prototype.toJS=function(){return{agree:this.agree,vote:this.vote,voter:qr(this.voter),proposal_id:this.proposal_id,proposer:qr(this.proposer)}},jn.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},On.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}};var Hn={__proto__:null,decodeEventKey:function(r){var t=Object(i.arrayify)(r);if(24!==t.byteLength)throw new Error("invalid eventkey data, expect byte length to be 24, actual: "+t.byteLength);var n=t.slice(0,8),o=e.from(n).readBigUInt64LE();return{address:Cr(t.slice(8)),salt:o}},decodeEventData:function(e,r){return Gr(Kn[e],r)}}}.call(this,t(26).Buffer)},4361:function(e,r,t){"use strict";e.exports=function(e){var r="string"===typeof e?e.charCodeAt(0):e;return r>=48&&r<=57}},4362:function(e,r,t){"use strict";e.exports=function(e){var r="string"===typeof e?e.charCodeAt(0):e;return r>=97&&r<=122||r>=65&&r<=90}},4618:function(e,r,t){(function(e){const n=t(2701),i=t(3936),o=t(332),a=t(667),s=t(166),u=t(746);r.MAX_INTEGER=new s("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new s("10000000000000000000000000000000000000000000000000000000000000000",16),r.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL=e.from(r.SHA3_NULL_S,"hex"),r.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY=e.from(r.SHA3_RLP_ARRAY_S,"hex"),r.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP=e.from(r.SHA3_RLP_S,"hex"),r.BN=s,r.rlp=a,r.secp256k1=i,r.zeros=function(r){return e.allocUnsafe(r).fill(0)},r.setLengthLeft=r.setLength=function(e,t,n){var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(t){if(!e.isBuffer(t))if(Array.isArray(t))t=e.from(t);else if("string"===typeof t)t=r.isHexPrefixed(t)?e.from(r.padToEven(r.stripHexPrefix(t)),"hex"):e.from(t);else if("number"===typeof t)t=r.intToBuffer(t);else if(null===t||void 0===t)t=e.allocUnsafe(0);else{if(!t.toArray)throw new Error("invalid type");t=e.from(t.toArray())}return t},r.intToHex=function(e){o(e%1===0,"number is not a integer"),o(e>=0,"number must be positive");var r=e.toString(16);return r.length%2&&(r="0"+r),"0x"+r},r.intToBuffer=function(t){var n=r.intToHex(t);return e.from(n.slice(2),"hex")},r.bufferToInt=function(e){return new s(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new s(e).fromTwos(256)},r.toUnsigned=function(r){return e.from(r.toTwos(256).toArray())},r.sha3=function(e,t){return e=r.toBuffer(e),t||(t=256),n("keccak"+t).update(e).digest()},r.sha256=function(e){return e=r.toBuffer(e),u("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=u("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.sha3(a.encode(e))},r.isValidPrivate=function(e){return i.privateKeyVerify(e)},r.isValidPublic=function(r,t){return 64===r.length?i.publicKeyVerify(e.concat([e.from([4]),r])):!!t&&i.publicKeyVerify(r)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=i.publicKeyConvert(e,!1).slice(1)),o(64===e.length),r.sha3(e).slice(-20)};var c=r.privateToPublic=function(e){return e=r.toBuffer(e),i.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=i.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,r){var t=i.sign(e,r),n={};return n.r=t.signature.slice(0,32),n.s=t.signature.slice(32,64),n.v=t.recovery+27,n},r.hashPersonalMessage=function(t){var n=r.toBuffer("\x19Ethereum Signed Message:\n"+t.length.toString());return r.sha3(e.concat([n,t]))},r.ecrecover=function(t,n,o,a){var s=e.concat([r.setLength(o,32),r.setLength(a,32)],64),u=n-27;if(0!==u&&1!==u)throw new Error("Invalid signature v value");var c=i.recover(t,s,u);return i.publicKeyConvert(c,!1).slice(1)},r.toRpcSig=function(t,n,i){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return r.bufferToHex(e.concat([r.setLengthLeft(n,32),r.setLengthLeft(i,32),r.toBuffer(t-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(c(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/i.test(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.sha3(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(t,n){return t=r.toBuffer(t),n=(n=new s(n)).isZero()?null:e.from(n.toArray()),r.rlphash([t,n]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>0&&t[0]<5},r.isHexPrefixed=function(e){return"0x"===e.slice(0,2)},r.stripHexPrefix=function(e){return"string"!==typeof e?e:r.isHexPrefixed(e)?e.slice(2):e},r.addHexPrefix=function(e){return"string"!==typeof e||r.isHexPrefixed(e)?e:"0x"+e},r.padToEven=function(e){return e.length%2&&(e="0"+e),e};const l=new s("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),f=new s("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);r.isValidSignature=function(e,r,t,n){return 32===r.length&&32===t.length&&((27===e||28===e)&&(r=new s(r),t=new s(t),!(r.isZero()||r.gt(f)||t.isZero()||t.gt(f))&&(!1!==n||1!==new s(t).cmp(l))))},r.baToJSON=function(t){if(e.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var n=[],i=0;i<t.length;i++)n.push(r.baToJSON(t[i]));return n}},r.defineProperties=function(t,n,i){if(t.raw=[],t._fields=[],t.toJSON=function(e){if(e){var n={};return t._fields.forEach((function(e){n[e]="0x"+t[e].toString("hex")})),n}return r.baToJSON(this.raw)},t.serialize=function(){return a.encode(t.raw)},n.forEach((function(n,i){function a(){return t.raw[i]}function s(a){"00"!==(a=r.toBuffer(a)).toString("hex")||n.allowZero||(a=e.allocUnsafe(0)),n.allowLess&&n.length?(a=r.stripZeros(a),o(n.length>=a.length,"The field "+n.name+" must not have more "+n.length+" bytes")):n.allowZero&&0===a.length||!n.length||o(n.length===a.length,"The field "+n.name+" must have byte length of "+n.length),t.raw[i]=a}t._fields.push(n.name),Object.defineProperty(t,n.name,{enumerable:!0,configurable:!0,get:a,set:s}),n.default&&(t[n.name]=n.default),n.alias&&Object.defineProperty(t,n.alias,{enumerable:!1,configurable:!0,set:s,get:a})})),i)if("string"===typeof i&&(i=e.from(r.stripHexPrefix(i),"hex")),e.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>t._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(e,n){t[t._fields[n]]=r.toBuffer(e)}))}else{if("object"!==typeof i)throw new Error("invalid data");{const e=Object.keys(i);n.forEach((function(r){-1!==e.indexOf(r.name)&&(t[r.name]=i[r.name]),-1!==e.indexOf(r.alias)&&(t[r.alias]=i[r.alias])}))}}}}).call(this,t(26).Buffer)},4619:function(e,r,t){"use strict";e.exports=function(e){var r="string"===typeof e?e.charCodeAt(0):e;return r>=97&&r<=102||r>=65&&r<=70||r>=48&&r<=57}},4620:function(e,r,t){"use strict";var n=t(4362),i=t(4361);e.exports=function(e){return n(e)||i(e)}},4621:function(e,r,t){"use strict";e.exports=function(e){return i.test("number"===typeof e?n(e):e.charAt(0))};var n=String.fromCharCode,i=/\s/},4622:function(e){e.exports=JSON.parse('{"name":"@starcoin/starcoin","version":"2.1.5","description":"starcoin js sdk","author":"lerencao, wk3368, tarvos21","license":"Apache-2.0","bugs":{"url":"https://github.com/starcoinorg/starcoin.js"},"homepage":"https://github.com/starcoinorg/starcoin.js#readme","repository":{"type":"git","url":"git+https://github.com/starcoinorg/starcoin.js"},"keywords":["starcoin","defi","dapp","sdk","blockchain","client","javascript"],"source":"index.ts","types":"dist/index.d.ts","main":"dist/starcoin.js","module":"dist/starcoin.module.js","umd:main":"./dist/starcoin.umd.js","files":["dist","LICENSE","readme.md"],"dependencies":{"@ethersproject/basex":"^5.0.4","@ethersproject/bignumber":"^5.0","@ethersproject/bytes":"^5.0.6","@ethersproject/hash":"^5.0.6","@ethersproject/keccak256":"^5.0.5","@ethersproject/logger":"^5.0.6","@ethersproject/properties":"^5.0.4","@ethersproject/sha2":"^5.0.4","@ethersproject/web":"^5.0.9","@noble/ed25519":"^1.6.0","bech32":"^2.0.0","ethereumjs-util":"5.1.0","fs":"^0.0.1-security","is-alphabetical":"^1.0.4","is-alphanumerical":"^1.0.4","is-decimal":"^1.0.4","is-hexadecimal":"^1.0.4","is-whitespace-character":"^1.0.4","is-word-character":"^1.0.4","js-sha3":"^0.8.0","jssha":"^3.2.0","lodash":"^4.17.21","ws":"7.2.3"},"devDependencies":{"@types/jest":"^26.0.14","@typescript-eslint/eslint-plugin":"^4.1.1","@typescript-eslint/parser":"^4.1.1","cz-conventional-changelog":"^3.3.0","eslint":"^7.9.0","eslint-config-airbnb-typescript":"^10.0.0","eslint-config-prettier":"^6.10.1","eslint-formatter-pretty":"^4.0.0","eslint-plugin-import":"^2.20.1","eslint-plugin-jest":"^24.0.2","eslint-plugin-promise":"^4.2.1","eslint-plugin-unicorn":"^22.0.0","jest":"^26.4.2","microbundle":"^0.12.0","prettier":"^2.0.4","ts-jest":"^26.3.0","typescript":"^4.0.3"},"scripts":{"prepublishOnly":"yarn build","build":"microbundle -o dist/ --sourcemap false --compress false -f modern,es,cjs && microbundle -o dist/ -f umd","dev":"microbundle watch -o dist/ --sourcemap false --compress false -f modern,es,cjs","test":"yarn test:coverage","test:unit":"jest","test:coverage":"jest --coverage","lint":"eslint --ext .js,.jsx,.ts,.tsx ."},"jest":{"testEnvironment":"node","testPathIgnorePatterns":["node_modules","dist","coverage"],"transform":{"^.+\\\\.ts?$":"ts-jest"}},"config":{"commitizen":{"path":"cz-conventional-changelog"}},"prettier":{"singleQuote":true}}')}}]);