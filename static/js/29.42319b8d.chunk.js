(this.webpackJsonp=this.webpackJsonp||[]).push([[29],{3922:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(1587),i=n(12),c=n(27),s=n(20),l=n(82),u=n(563),d=n(4),f=n.n(d),b=n(15),j=n.n(b),p=n(314),m=n(299),O=n(1),g=n(44),h=(n(24),n(1614)),x=n(1599),y=n(0),v=["backButton","showCloseButton","secondaryContent","title","subTitle","description","fullHeight","onPressBackButton","scaleFade","visible","children","disableAnimation"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=e.children,n=Object(m.default)();return Object(y.jsx)(p.default,{flex:1,bounces:!1,_contentContainerStyle:{minHeight:"100%",justifyContent:"center",alignItems:"center",px:6,pt:16+n.top+"px",pb:16+n.bottom+"px",bgColor:"background-default"},children:t})}var D=function(e){var t=e.backButton,n=e.showCloseButton,r=e.secondaryContent,a=e.title,d=e.subTitle,b=e.description,p=e.fullHeight,_=e.onPressBackButton,D=e.scaleFade,M=e.visible,P=e.children,k=e.disableAnimation,S=j()(e,v),A=Object(O.useState)(!1),E=f()(A,2),R=E[0],T=E[1],B=Object(g.useIsFocused)(),I=Object(m.default)(),W=Object(h.useOnboardingClose)().onboardingGoBack,N=Object(x.useOnboardingContext)(),H=Object(u.default)().screenHeight<=667,z=Object(O.useCallback)((function(){T(!0),setTimeout(W,200)}),[W]),F=Object(O.useMemo)((function(){var e;return!R&&(null!=(e=null!=M?M:null==N?void 0:N.visible)?e:B)}),[null==N?void 0:N.visible,R,B,M]);return Object(y.jsxs)(C,{children:[n?Object(y.jsx)(l.default,{position:"absolute",onPress:z,top:{base:I.top+16+"px",sm:8},right:{base:4,sm:8},type:"plain",size:"lg",name:"XMarkOutline",circle:!0,zIndex:9999}):null,Object(y.jsx)(o.default,w(w({as:i.default,visible:F,initial:k?void 0:{opacity:0,translateX:D?0:24,scale:D?.95:1},animate:k?void 0:{opacity:1,translateX:0,scale:1,transition:{duration:150}},flexGrow:{base:p?1:void 0,sm:0},w:"full",maxW:800,mb:{base:"auto",sm:0}},S),{},{children:Object(y.jsxs)(i.default,{minH:H?"560px":"640px",flexGrow:{base:p?1:void 0,sm:0},children:[t?Object(y.jsx)(l.default,{alignSelf:"flex-start",ml:-2,name:"ArrowLeftOutline",size:"lg",type:"plain",zIndex:9999,circle:!0,onPress:function(){return _?_():W()}}):void 0,Object(y.jsxs)(i.default,{flexGrow:{base:p?1:void 0,sm:0},mt:{base:6,sm:12},flexDirection:{sm:"row"},justifyContent:p?"space-between":void 0,children:[Object(y.jsxs)(i.default,{flex:p&&!r?1:void 0,flexShrink:p?0:void 0,w:{sm:r?400:"full"},children:[a?Object(y.jsxs)(i.default,{mb:{base:6,sm:12},children:[Object(y.jsx)(s.default,{typography:{sm:"DisplayLarge",md:"DisplayXLarge"},children:a}),d?Object(y.jsx)(c.default.Body1,{textAlign:"left",color:"text-subdued",children:d}):void 0,b?Object(y.jsx)(s.default,{typography:{sm:"DisplayLarge",md:"DisplayXLarge"},color:"text-subdued",children:b}):void 0]}):void 0,P]}),r?Object(y.jsx)(i.default,{flex:{base:p?1:void 0,sm:1},mt:{base:6,sm:0},ml:{sm:20},pl:{sm:8},borderLeftWidth:{sm:3},borderLeftColor:"divider",testID:"ConnectWallet-SecondaryContent-Container",children:r}):void 0]})]})}))]})};D.defaultProps={backButton:!0,showCloseButton:!1,fullHeight:!1,scaleFade:!1},t.default=function(e){return Object(y.jsx)(x.OnboardingContextProvider,{children:Object(y.jsx)(D,w({},e))})}},3933:function(e,t,n){"use strict";n.r(t);var r=n(4071);n.d(t,"default",(function(){return r.Hidden}))},3952:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"KeyTagRoutes",(function(){return r})),function(e){e.StartedKeytag="StartedKeytag",e.ImportKeytag="ImportKeytag",e.ShowDotMap="ShowDotMap",e.IntroduceKeyTag="IntroduceKeyTag",e.KeyTagBackUpWallet="KeyTagBackUpWallet",e.KeyTagVerifyPassword="KeyTagVerifyPassword",e.KeyTagAttention="KeyTagAttention",e.EnterPhrase="EnterPhrase"}(r||(r={}))},3986:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(3),o=n.n(a),i=(n(51),n(54),n(2)),c=n.n(i),s=n(15),l=n.n(s),u=n(1),d=(n(24),n(17)),f=(n(683),n(0)),b=Object(u.forwardRef)((function(e,t){var n=e.src,r=void 0===n?"":n,a=Object(u.useRef)(null),o=Object(u.useRef)({reload:function(){a.current&&(a.current.src="about:blank",setTimeout((function(){a.current&&(a.current.src=r)}),150))},loadURL:function(){}});return Object(u.useImperativeHandle)(t,(function(){return o.current})),Object(f.jsx)("iframe",{ref:a,title:"iframe-web",src:r,frameBorder:"0",style:{height:"100%",width:"100%"}})}));b.displayName="InpageProviderWebView";var j=b,p=["src","openUrlInExt","allowpopups","onWebViewRef","customReceiveHandler","containerProps"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.src,n=void 0===t?"":t,a=(e.openUrlInExt,e.allowpopups),o=void 0!==a&&a,i=e.onWebViewRef,s=void 0===i?function(){}:i,b=e.customReceiveHandler,m=e.containerProps,g=l()(e,p),h=Object(u.useCallback)(function(){var e=c()((function*(e,t){var n=yield d.default.bridgeReceiveHandler(e);return yield null==b?void 0:b(e,t),n}));return function(t,n){return e.apply(this,arguments)}}(),[b]);return Object(f.jsx)(r.default,O(O({flex:1,bg:"background-default"},m),{},{children:Object(f.jsx)(j,O({ref:s,src:n,allowpopups:o,receiveHandler:h},g))}))}},3991:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"KeyTagMnemonicStatus",(function(){return r})),function(e){e.UNVERIF="unverif",e.VERIF="verif",e.EMPTY="empty",e.INCORRECT="incorrect",e.FILL="FILLED"}(r||(r={}))},4029:function(e,t,n){"use strict";n.r(t),n.d(t,"Bip39DotmapUrl",(function(){return c})),n.d(t,"keyTagShoppingUrl",(function(){return s})),n.d(t,"mnemonicWordToKeyTagMnemonic",(function(){return l})),n.d(t,"mnemonicWordsToKeyTagMnemonic",(function(){return u})),n.d(t,"keyTagWordDataToMnemonic",(function(){return d})),n.d(t,"generalKeyTagMnemonic",(function(){return f}));var r=n(13),a=n.n(r),o=n(304),i=n(3991),c="https://onekey.so/bip39-dotmap",s="https://onekey.so/products/onekey-keytag",l=function(e){var t=function(e){var t=o.wordlists.english.indexOf(e);return-1===t?-1:t+1}(e);return{mnemonicIndexNumber:t,status:-1===t?i.KeyTagMnemonicStatus.INCORRECT:i.KeyTagMnemonicStatus.VERIF,dotMapData:function(e){if(e<0)return[];for(var t=parseInt(""+e).toString(2),n=12-t.length,r="";n>0;)r+="0",n-=1;var a=(r+t).split(""),o=[];return a.forEach((function(e){o.push("1"===e)})),o}(t)}},u=function(e){var t=e.trim().replace(/\s+/g," ");if(o.validateMnemonic(t)){var n=t.split(" "),r=[];return n.forEach((function(e,t){var n={index:t+1,mnemonicWord:e};n=Object.assign(n,l(e)),r.push(n)})),r}},d=function(e){var t,n="";e.forEach((function(e){n+=e?"1":"0"}));var r=i.KeyTagMnemonicStatus.UNVERIF,a=parseInt(n,2),c=o.wordlists.english;return 0===a||Number.isNaN(a)?r=i.KeyTagMnemonicStatus.EMPTY:a-1<c.length?(t=c[a-1],r=i.KeyTagMnemonicStatus.VERIF):r=i.KeyTagMnemonicStatus.INCORRECT,{mnemonicWord:t,mnemonicIndexNumber:a,status:r}},f=function(e,t){var n=[];if(t&&t.length>=e)n=a()(t.slice(0,e));else{n=t?a()(t):[];for(var r=e-(t?e-t.length:e);r<e;r+=1){var o={index:r+1,dotMapData:new Array(12).fill(!1),status:i.KeyTagMnemonicStatus.UNVERIF};n.push(o)}}return n}},4030:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(314),o=n(299),i=n(0),c=function(e){var t=e.children,n=e.footer,c=Object(o.default)().bottom;return c=0===c?20:c,Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(a.default,{alignSelf:"stretch",flex:1,px:4,py:{base:4,sm:8},_contentContainerStyle:{w:"full",maxW:800,mx:"auto"},children:t}),n?Object(i.jsx)(r.default,{mx:4,py:4,mb:c+"px",children:n}):null]})};c.defaultProps={},t.default=c},4039:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(142),i=n(50),c=n(15),s=n.n(c),l=n(1),u=n(29),d=n(38),f=n(945),b=n(12),j=n(82),p=n(111),m=n(826),O=n(0),g=function(e){var t=e.navigation,n=void 0===t?Object(p.getAppNavigation)():t,r=Object(i.default)();return Object(O.jsx)(j.default,{type:"plain",size:"lg",name:r?"ArrowLeftOutline":"ArrowSmallLeftOutline",onPress:function(){null!=n&&n.canGoBack()?null==n||n.goBack():m.navigationShortcuts.navigateToHome()},circle:!0})},h=n(4),x=n.n(h),y=n(88),v=n(20),_=function(e){var t=e.title,n=e.subtitle,r=e.i18nTitle,a=e.i18nSubtitle,o=e.inCenter,c=void 0===o||o,s=e.children,d=Object(i.default)(),f=Object(y.default)(),j=Object(l.useMemo)((function(){return[r?f.formatMessage({id:r}):t,a?f.formatMessage({id:a}):n]}),[r,f,t,a,n]),p=x()(j,2),m=p[0],g=p[1],h=Object(l.useMemo)((function(){return Object(O.jsxs)(b.default,{flex:1,justifyContent:"center",alignItems:c?"center":"flex-start",style:u.default.absoluteFill,zIndex:-1,children:[s,!!m&&Object(O.jsx)(v.default,{typography:c?"Heading":"PageHeading",children:m}),!!g&&Object(O.jsx)(v.default,{typography:"Caption",color:"text-subdued",children:g})]})}),[s,c,g,m]),_=Object(l.useMemo)((function(){return Object(O.jsxs)(b.default,{flex:1,flexDirection:"row",alignItems:"baseline",children:[s,!!m&&Object(O.jsx)(v.default,{typography:"Heading",children:m}),!!g&&Object(O.jsx)(v.default,{typography:"Body2",ml:"12px",color:"text-subdued",children:g})]})}),[s,g,m]);return d?h:_},w=["headerLeft","headerRight","headerTitle","safeTop","alwaysShowBackButton","style","navigation","options","route","back"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=u.default.create({content:{flex:1,flexDirection:"row",alignItems:"center"},left:{justifyContent:"center",alignItems:"flex-start"},right:{justifyContent:"center",alignItems:"flex-end"},expand:{flexGrow:1,flexBasis:0}});t.default=function(e){var t=e.headerLeft,n=e.headerRight,r=e.headerTitle,a=e.safeTop,c=e.alwaysShowBackButton,j=e.style,p=e.navigation,m=e.options,h=void 0===m?{}:m,x=e.route,y=e.back,v=s()(e,w),C=Object(f.useSafeAreaInsets)(),P=Object(i.default)(),k=Object(o.default)("background-default"),S=P?56:64,A=Boolean(y||c||t),E=Object(l.useMemo)((function(){if(r)return Object(O.jsx)(_,{inCenter:A,children:r()});if("function"===typeof h.headerTitle)return Object(O.jsx)(_,{inCenter:A,children:h.headerTitle()});var e=h,t=D({title:e.title,i18nTitle:e.i18nTitle,subtitle:e.subtitle,i18nSubtitle:e.i18nSubtitle},v);return Object(O.jsx)(_,D({inCenter:A},t))}),[A,r,v,h]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.default,{pointerEvents:"box-none",style:[u.default.absoluteFill,{zIndex:0,backgroundColor:k}]}),Object(O.jsx)(d.default,{testID:"App-General-Nav-Header--"+((null==x?void 0:x.name)||""),pointerEvents:"box-none",style:[{height:S,marginTop:null!=a?a:C.top,backgroundColor:k},j],children:Object(O.jsxs)(d.default,{pointerEvents:"box-none",style:[M.content,{marginHorizontal:P?16:32}],children:[Object(O.jsxs)(d.default,{pointerEvents:"box-none",style:[M.left,{marginStart:C.left}],children:[(!!y||c)&&Object(O.jsx)(b.default,{ml:"-6px",mr:"8px",children:Object(O.jsx)(g,{navigation:p})}),t?t():null==h.headerLeft?void 0:h.headerLeft()]}),E,Object(O.jsx)(d.default,{pointerEvents:"box-none",style:[M.right,M.expand,{marginEnd:C.right}],children:n?n():null==h.headerRight?void 0:h.headerRight()})]})})]})}},4071:function(e,t,n){"use strict";n.r(t),n.d(t,"Hidden",(function(){return p}));var r=n(4),a=n.n(r),o=n(15),i=n.n(o),c=n(1),s=n(221),l=n(357),u=n(4490),d=n(520),f=n(971),b=n(28),j=["children"];function p(e){var t=e.children,n=i()(e,j),r=Object(s.usePropsResolution)("Hidden",n,{},{ignoreProps:["only","platform"]}),o=r.from,c=r.till,p=r.only,m=r.platform,O=r.colorMode,g=Object(l.useTheme)().breakpoints,h=Object(f.useColorMode)(),x=Object.keys(g).reduce((function(e,t){return e[t]=t,e}),{}),y=Object(u.useBreakpointValue)(x),v=Object(d.useToken)("breakpoints",[y]),_=a()(v,1)[0],w=Object(d.useToken)("breakpoints",[o]),C=a()(w,1)[0],D=Object(d.useToken)("breakpoints",[c]),M=a()(D,1)[0];return o||c||p||O||m?o&&c&&_>=C&&_<M||o&&!c&&_>=C||c&&!o&&_<M||Array.isArray(p)&&p.includes(y)||p===y||Array.isArray(m)&&m.includes(b.default.OS)||m===b.default.OS||O===h.colorMode?null:t:null}t.default=Object(c.memo)(p)},4072:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(12),i=n(40),c=n(20),s=n(50),l=n(15),u=n.n(l),d=n(1),f=n(819),b=n(0),j=["backupTime","numOfHDWallets","numOfImportedAccounts","numOfWatchingAccounts","numOfContacts","size"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.backupTime,n=e.numOfHDWallets,r=e.numOfImportedAccounts,a=e.numOfWatchingAccounts,l=e.numOfContacts,p=e.size,O=u()(e,j),g=Object(s.default)(),h=Object(f.default)(),x=Object(d.useMemo)((function(){return[{iconName:"WalletOutline",count:n},{iconName:"InboxArrowDownOutline",count:r},{iconName:"EyeOutline",count:a},{iconName:"BookOpenOutline",count:l}]}),[l,n,r,a]);return Object(b.jsxs)(o.default,m(m({alignItems:"heading"===p&&g?"center":void 0},O),{},{children:[Object(b.jsx)(c.default,{typography:"heading"===p?"PageHeading":"Body1Strong",children:h.format(new Date(t),"MMM d, yyyy, HH:mm")}),Object(b.jsx)(o.default,{flexDirection:"row",mt:"heading"===p?3:1,mx:-3,flexWrap:"wrap",children:x.map((function(e,t){return Object(b.jsxs)(o.default,{flexDirection:"row",mx:3,children:[Object(b.jsx)(i.default,{name:e.iconName,size:20,color:"icon-subdued"}),Object(b.jsx)(c.default,{typography:"Body2",color:"text-subdued",pl:2,children:e.count})]},t)}))})]}))}},4126:function(e,t,n){"use strict";n.r(t),n.d(t,"KeyTagMatrixTopTitle",(function(){return f})),n.d(t,"KeyTagMatrix",(function(){return b}));var r=n(13),a=n.n(r),o=n(12),i=n(27),c=n(1),s=n(88),l=n(3991),u=n(4158),d=n(0),f=function(e){var t=e.keyTagData,n=e.startIndex,r=Object(s.default)(),a=Object(c.useMemo)((function(){return n&&n>1?r.formatMessage({id:"form__back"}):r.formatMessage({id:"form__front"})}),[r,n]),l=Object(c.useMemo)((function(){var e;return"#"+(null!=n?n:1)+"-#"+((null!=(e=null==t?void 0:t.length)?e:0)+(null!=n?n:1)-1)}),[n,t]);return Object(d.jsxs)(o.default,{mt:4,mb:4,w:"full",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(d.jsx)(i.default.Heading,{children:a}),Object(d.jsx)(i.default.Body2,{children:l})]})},b=function(e){var t=e.startIndex,n=e.keyTagData,r=Object(c.useMemo)((function(){if(null!=n&&n.length){var e=a()(n);if(e.length<12)for(var r=0;r<12-n.length;r+=1)e.push({index:(null!=t?t:0)+n.length+r,status:l.KeyTagMnemonicStatus.FILL,dotMapData:new Array(16).fill(!1)});return e}return[]}),[n,t]);return Object(d.jsxs)(o.default,{flex:"1",justifyContent:"center",alignItems:"center",children:[Object(d.jsx)(f,{startIndex:t,keyTagData:n}),Object(d.jsx)(o.default,{borderColor:"surface-default",borderWidth:"8px",borderRadius:"16px",bgColor:"surface-subdued",alignItems:"center",pt:4,w:"332px",h:"343px",children:Object(d.jsx)(o.default,{children:r?r.map((function(e,t){return Object(d.jsx)(u.default,{showDigitCode:0===t,showIcon:0===t,mnemonicWordData:e,disabled:!0})})):null})})]})}},4127:function(e,t,n){"use strict";n.r(t),n.d(t,"ExportResult",(function(){return r})),n.d(t,"useExportData",(function(){return j}));var r,a=n(2),o=n.n(a),i=n(316),c=n.n(i),s=n(4),l=n.n(s),u=n(1),d=n(17),f=n(214),b=n(1073);function j(){var e=Object(b.default)().showVerify,t=d.default.serviceCloudBackup,n=Object(u.useCallback)(function(){var e=o()((function*(e){var n=yield t.getDataForBackup(e);return{status:r.SUCCESS,data:n}}));return function(t){return e.apply(this,arguments)}}(),[t]);return{exportDataRequest:Object(u.useCallback)(o()((function*(){return new Promise((function(a){t.getDataForBackup("").then((function(t){!function(e){var t=!0;return Object.entries(e).forEach((function(e){var n=l()(e,2),r=(n[0],n[1]);c()(r)||(t=!1)})),t}(JSON.parse(t.publicData))?e((function(e){n(e).then((function(e){a(e)}))}),(function(){a({status:r.CANCEL})}),null,f.ValidationFields.Secret):a({status:r.EMPTY})}))}))})),[n,t,e])}}!function(e){e.SUCCESS="success",e.EMPTY="empty",e.CANCEL="cancel"}(r||(r={}))},4128:function(e,t,n){"use strict";n.r(t),n.d(t,"gteIgnore",(function(){return i})),n.d(t,"gtIgnore",(function(){return c})),n.d(t,"lteIgnore",(function(){return s})),n.d(t,"ltIgnore",(function(){return l}));var r=n(309),a=n.n(r);function o(e,t,n,r){var o=a.a.parse(e),i=a.a.parse(t);if(null===o||null===i)return!1;if("major"===n)throw new Error("major is not supported");return"minor"===n&&(o.minor=0,i.minor=0),"minor"!==n&&"patch"!==n||(o.patch=0,i.patch=0),r(o.format(),i.format())}var i=function(e,t,n){return o(e,t,n,a.a.gte)},c=function(e,t,n){return o(e,t,n,a.a.gt)},s=function(e,t,n){return o(e,t,n,a.a.lte)},l=function(e,t,n){return o(e,t,n,a.a.lt)}},4129:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(16),a=n(111);function o(){var e=Object(a.default)();return{requestBackupPassword:function(t,n,a,o){e.navigate(r.RootRoutes.Modal,{screen:r.ModalRoutes.ImportBackupPassword,params:{screen:r.ImportBackupPasswordModalRoutes.ImportBackupPassword,params:{withPassword:t,onSuccess:n,onError:a,onCancel:o}}})}}}},4130:function(e,t,n){"use strict";n.r(t),n.d(t,"GroupedBackupDetails",(function(){return Q})),n.d(t,"checkHasRemoteData",(function(){return J}));var r=n(76),a=n(109),o=n(48),i=n(2),c=n.n(i),s=n(50),l=n(54),u=n(15),d=n.n(u),f=n(3),b=n.n(f),j=n(4),p=n.n(j),m=n(40),O=n(12),g=n(51),h=n(20),x=n(1),y=n(44),v=n(690),_=n.n(v),w=n(88),C=n(29),D=n(493),M=n(1085),P=n(4128),k=n(17),S=n(25),A=n(45),E=n(4129),R=n(1073),T=n(226),B=n(16),I=n(99),W=n(4131),N=n(4072),H=n(4132),z=n(4030),F=n(0),L=["size","ready","onImport","onDelete"];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e){var t,n=e.name,r=e.avatar,a=e.accountUUIDs,o=Object(w.default)();return Object(F.jsxs)(O.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(F.jsx)(g.default,{rounded:"full",size:"8",bgColor:null!=(t=null==r?void 0:r.bgColor)?t:"surface-neutral-default",children:null!=r&&r.emoji?Object(F.jsx)(h.default,{typography:"DisplayMedium",children:r.emoji}):void 0}),Object(F.jsx)(h.default,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(F.jsx)(h.default,{typography:"Body2",color:"text-subdued",children:o.formatMessage({id:"form__str_accounts"},{count:a.length})})]})},G=function(e){var t=e.iconName,n=e.name,r=e.address;return Object(F.jsxs)(O.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(F.jsx)(g.default,{rounded:"full",size:"8",bgColor:"surface-neutral-default",children:Object(F.jsx)(m.default,{name:t,size:20,color:"icon-default"})}),Object(F.jsx)(h.default,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(F.jsx)(h.default,{typography:"Body2",color:"text-subdued",children:r})]})},Q=function(e){var t,n,r=e.onDevice,a=e.showTitle,o=void 0===a||a,i=e.publicBackupData,c=Object(w.default)(),s=Object.entries(i.HDWallets).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return _()({insensitive:!0})(e.name,t.name)})),l=Object.entries(i.importedAccounts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return _()({insensitive:!0})(e.name,t.name)})),u=Object.entries(i.watchingAccounts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return _()({insensitive:!0})(e.name,t.name)})),d=Object.entries(i.contacts).map((function(e){var t=p()(e,2);return V({uuid:t[0]},t[1])})).sort((function(e,t){return _()({insensitive:!0})(e.name,t.name)})),f=null==i||null==(t=i.simpleDb)||null==(n=t.utxoAccounts)?void 0:n.utxos;return Object(F.jsxs)(O.default,{my:4,mx:12,children:[o&&Object(F.jsx)(h.default,{typography:"Heading",pb:"4",children:c.formatMessage({id:r?"content__active_on_this_device":"content__not_on_this_device"})}),s.map((function(e){var t=e.uuid,n=e.name,r=e.avatar,a=e.accountUUIDs;return Object(F.jsx)(U,{name:n,avatar:r,accountUUIDs:a},t)})),l.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(F.jsx)(G,{iconName:"InboxArrowDownOutline",name:n,address:r},t)})),u.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(F.jsx)(G,{iconName:"EyeOutline",name:n,address:r},t)})),d.map((function(e){var t=e.uuid,n=e.name,r=e.address;return Object(F.jsx)(G,{iconName:"BookOpenOutline",name:n,address:r},t)})),null!=f&&f.length?Object(F.jsx)(G,{iconName:"TagOutline",name:c.formatMessage({id:"form__utxo_label"}),address:c.formatMessage({id:"content__int_items"},{0:null==f?void 0:f.length})}):null]})},q=function(e){var t=e.size,n=e.ready,r=e.onImport,a=e.onDelete,o=d()(e,L),i=Object(w.default)();return Object(F.jsxs)(O.default,V(V({flexDirection:"row"},o),{},{children:["undefined"===typeof r||n?void 0:Object(F.jsx)(l.default,{onPress:r,type:"primary",size:t,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__import"})}),"undefined"===typeof a||n?void 0:Object(F.jsx)(l.default,{onPress:a,type:"destructive",size:t,ml:4,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__delete"})})]}))};function J(e){var t,n;return!(null==e||null==(t=e.simpleDb)||null==(n=t.utxoAccounts)||!n.utxos.length)||Object.entries(e).filter((function(e){var t=p()(e,2),n=t[0],r=t[1];return"simpleDb"!==n&&Object.keys(r).length>0})).length>0}t.default=function(e){var t=e.onboarding,n=void 0!==t&&t,i=Object(w.default)(),l=Object(s.default)(),u=Object(S.useNavigation)(),d=Object(y.useRoute)(),f=Object(A.useAppSelector)((function(e){return e.settings.version})),b=Object(A.useData)().isPasswordSet,j=k.default.serviceCloudBackup,m=Object(R.default)().showVerify,g=Object(E.default)().requestBackupPassword,h=Object(T.useOnboardingDone)();Object(x.useLayoutEffect)((function(){var e=i.formatMessage({id:"title__backup_details"});u.setOptions({title:e})}),[u,i]);var v=d.params,_=v.backupUUID,L=v.backupTime,K=v.numOfHDWallets,V=v.numOfImportedAccounts,U=v.numOfWatchingAccounts,G=v.numOfContacts,X=Object(x.useState)(!0),Y=p()(X,2),Z=Y[0],$=Y[1],ee=Object(x.useState)({alreadyOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}},notOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}}}),te=p()(ee,2),ne=te[0],re=te[1],ae=Object(x.useState)(!1),oe=p()(ae,2),ie=oe[0],ce=oe[1],se=Object(x.useState)(),le=p()(se,2),ue=le[0],de=le[1],fe=Object(x.useState)(!1),be=p()(fe,2),je=be[0],pe=be[1],me=Object(x.useCallback)((function(){return void 0===ue||(!ue||!Object(P.gtIgnore)(ue,f,"patch"))}),[f,ue]);Object(x.useEffect)((function(){j.getBackupDetails(_).then((function(e){var t=e.backupDetails,n=e.appVersion;de(n),re(t),ce(Object.values(t.alreadyOnDevice).some((function(e){return Object.keys(e).length>0}))),pe(J(t.notOnDevice)),$(!1)}))}),[$,j,_]);var Oe=Object(x.useCallback)(c()((function*(){o.default.show({title:i.formatMessage({id:"msg__backup_imported"})}),n?yield h({delay:200}):null==u||u.navigate(B.RootRoutes.Main,{screen:B.MainRoutes.Tab,params:{screen:B.TabRoutes.Home}})})),[i,n,h,u]),ge=Object(x.useCallback)((function(){o.default.show({title:i.formatMessage({id:"msg__import_icloud_backup_failed_version"})},{type:"error"}),u.goBack()}),[i,u]),he=Object(x.useCallback)((function(){!1!==me()?b?m((function(e){j.restoreFromBackup({backupUUID:_,notOnDevice:ne.notOnDevice,localPassword:e}).then((function(t){t===M.RestoreResult.SUCCESS?Oe():t===M.RestoreResult.WRONG_PASSWORD?g((function(t){return j.restoreFromBackup({backupUUID:_,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:t})}),Oe,ge):ge()}))}),(function(){})):g((function(e){return j.restoreFromBackup({backupUUID:_,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:e})}),Oe,ge):Object(H.showUpgrateDialog)()}),[b,me,m,j,_,ne.notOnDevice,Oe,g,ge]),xe=Object(x.useCallback)((function(){Object(I.showOverlay)((function(e){return Object(F.jsx)(a.default,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__delete",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"destructive",onPromise:function(){var t=c()((function*(){yield j.removeBackup(_),e(),u.pop(2)}));return function(){return t.apply(this,arguments)}}()}},contentProps:{iconType:"danger",title:i.formatMessage({id:"dialog__delete_backup"}),content:i.formatMessage({id:"dialog__delete_backup_desc"},{cloudName:Object(D.backupPlatform)().cloudName})}})}))}),[_,i,u,j]);return Object(F.jsxs)(z.default,{footer:l?Object(F.jsx)(q,{ready:Z,onImport:je?he:void 0,onDelete:n?void 0:xe,size:"xl",position:"absolute",bottom:0}):void 0,children:[Object(F.jsxs)(O.default,{flexDirection:l?"column":"row",alignItems:"center",children:[Object(F.jsx)(O.default,{mb:{base:6,sm:0},mr:{sm:6},children:Object(F.jsx)(W.default,{size:"lg",enabled:!0})}),Object(F.jsx)(N.default,{backupTime:L,numOfHDWallets:K,numOfImportedAccounts:V,numOfWatchingAccounts:U,numOfContacts:G,size:"heading"}),l?void 0:Object(F.jsx)(q,{ready:Z,onImport:je?he:void 0,onDelete:n?void 0:xe,size:"base",ml:"auto"})]}),Object(F.jsx)(O.default,{borderBottomWidth:C.default.hairlineWidth,borderBottomColor:"divider",mt:{base:6,sm:8},mb:{base:2,sm:4}}),Z?Object(F.jsx)(r.default,{size:"lg"}):Object(F.jsxs)(O.default,{flexDirection:l?"column":"row",mx:-12,children:[ie?Object(F.jsx)(Q,{onDevice:!0,publicBackupData:ne.alreadyOnDevice}):void 0,je?Object(F.jsx)(Q,{onDevice:!1,publicBackupData:ne.notOnDevice}):void 0]})]})}},4131:function(e,t,n){"use strict";n.r(t);var r=n(51),a=n(40),o=n(0);t.default=function(e){var t=e.enabled,n=e.size;return Object(o.jsx)(r.default,{rounded:"full",size:"lg"===n?"56px":"48px",bgColor:"surface-"+(t?"success":"warning")+"-subdued",children:Object(o.jsx)(a.default,{name:"CloudOutline",size:24,color:"icon-"+(t?"success":"warning")})})}},4132:function(e,t,n){"use strict";n.r(t),n.d(t,"showUpgrateDialog",(function(){return f}));var r=n(109),a=n(48),o=n(2),i=n.n(o),c=n(88),s=n(1351),l=n(99),u=n(0);function d(e){var t=e.onClose,n=Object(c.default)();return Object(u.jsx)(r.default,{visible:!0,onClose:t,footerButtonProps:{primaryActionTranslationId:"action__upgrade",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary",onPromise:function(){var e=i()((function*(){try{var e=yield s.default.getPackageInfo();e&&(s.default.openAppUpdate({package:e}),null==t||t())}catch(r){a.default.show({title:n.formatMessage({id:"msg__network_request_failed"})})}}));return function(){return e.apply(this,arguments)}}()}},contentProps:{iconType:"info",title:n.formatMessage({id:"dialog__import_data_upgrade_required"}),content:n.formatMessage({id:"dialog__import_data_upgrade_required_desc"})}})}var f=function(){Object(l.showDialog)(Object(u.jsx)(d,{}))}},4156:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),o=n(50),i=n(142),c=n(1),s=n(39),l=n(333),u=n(4317),d=n(0),f=function(){var e=Object(c.useRef)(new s.default.Value(0)).current,t=Object(i.default)("interactive-default"),n=Object(o.default)();return Object(c.useEffect)((function(){s.default.loop(s.default.sequence([s.default.timing(e,{toValue:1,duration:300,useNativeDriver:!0}),s.default.timing(e,{toValue:0,duration:300,useNativeDriver:!0})])).start()}),[e]),Object(d.jsx)(s.default.View,{style:{width:32,height:n?48:56,borderBottomWidth:4,borderBottomColor:t,opacity:e}})},b=function(e){var t=e.children,n=e.onTypingEnd,r=e.isPending,l=void 0===r||r,b=e.isFadeOut,j=Object(c.useRef)(new s.default.Value(1)).current,p=Object(o.default)();Object(c.useEffect)((function(){if(b){var e=s.default.timing(j,{toValue:.3,duration:300,useNativeDriver:!1});setTimeout((function(){e.start()}),150)}}),[b,j]);var m=Object(c.useState)(!1),O=a()(m,2),g=O[0],h=O[1];Object(c.useEffect)((function(){l||setTimeout((function(){h(!0)}),650)}),[l]);var x=Object(i.default)("text-default"),y=Object(c.useMemo)((function(){return t}),[]);return Object(d.jsx)(s.default.View,{style:{minHeight:p?48:56,opacity:j},children:g?Object(d.jsx)(u.default,{typing:1,style:{color:x,fontSize:p?42:48,lineHeight:p?48:56,fontWeight:"bold"},initialDelay:0,minDelay:12,maxDelay:12,onTypingEnd:n,children:y}):Object(d.jsx)(f,{})})};b.Highlight=function(e){var t=e.children,n=Object(i.default)("interactive-default");return Object(d.jsx)(l.default,{style:{color:n},children:t})},b.NormalText=function(e){var t=e.children,n=Object(i.default)("text-default");return Object(d.jsx)(l.default,{style:{color:n},children:t})};var j=b;t.default=j},4158:function(e,t,n){"use strict";n.r(t),n.d(t,"DotGroup",(function(){return m})),n.d(t,"MnemonicStatus",(function(){return O}));var r=n(41),a=n(40),o=n(12),i=n(27),c=n(1),s=n(88),l=n(3991),u=n(64),d=n(51),f=n(4),b=n.n(f),j=n(0),p=Object(c.memo)((function(e){var t=e.defaultLight,n=e.disabled,r=e.defaultBgColor,a=e.onClickSpace,i=e.size,s=void 0===i?5:i,l=e.lightColor,f=void 0===l?"text-success":l,p=Object(c.useState)((function(){return!!t})),m=b()(p,2),O=m[0],g=m[1];return Object(c.useEffect)((function(){g(!!t)}),[t]),Object(j.jsx)(u.default,{size:4*s+"px",borderWidth:"1px",borderColor:"border-default",disabled:n,onPress:function(){g((function(e){return!e})),a&&setTimeout((function(){a(!O)}),0)},children:function(e){var t=e.isHovered,n=e.isPressed;return Object(j.jsx)(d.default,{flex:1,bgColor:n?"surface-pressed":t?"surface-hovered":null!=r?r:"background-default",children:O?Object(j.jsx)(o.default,{size:Math.floor(s/2)>10?4*Math.floor(s/2)+"px":Math.floor(s/2),bgColor:f,borderRadius:"9999px"}):null})}})})),m=function(e){var t=e.showDigitCode,n=e.size,r=void 0===n?5:n,a=e.groupIndex,c=void 0===a?0:a,s=e.groupDotCount,l=void 0===s?4:s,u=e.lightsData,d=void 0===u?[]:u,f=e.digitCodeLimit,b=void 0===f?11:f,m=e.disabled,O=void 0!==m&&m,g=e.defaultBgColor,h=e.onChange;return Object(j.jsx)(j.Fragment,{children:d.map((function(e,n){var a=n+c*l;return Object(j.jsxs)(o.default,{flexDirection:"column",children:[t?Object(j.jsx)(o.default,{style:{width:4*r,height:40},flexDirection:"column",justifyContent:"center",alignItems:"center",mb:3,children:Object(j.jsx)(o.default,{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",style:{width:40,height:4*r,transform:[{rotate:"-90deg"}]},children:Object(j.jsx)(i.default.Body2Mono,{lineHeight:"18px",textAlign:"center",color:"text-subdued",children:2**(b-a)})})}):null,Object(j.jsx)(p,{defaultBgColor:g,disabled:O,size:r,defaultLight:e,onClickSpace:function(e){h&&h(a,e)}})]})}))})},O=function(e){var t=e.showResult,n=e.status,r=e.word,u=Object(s.default)(),d=Object(c.useMemo)((function(){var e={titleColor:"text-default"};switch(n){case l.KeyTagMnemonicStatus.VERIF:e.statusTitle=t?null==r?void 0:r.toUpperCase():"";break;case l.KeyTagMnemonicStatus.INCORRECT:e.statusTitle=u.formatMessage({id:"form__incorrect_dotmap"}).toUpperCase(),e.titleColor="text-critical";break;case l.KeyTagMnemonicStatus.EMPTY:e.statusTitle=u.formatMessage({id:"form__empty"}).toUpperCase(),e.titleColor="text-warning";break;case l.KeyTagMnemonicStatus.UNVERIF:e.statusTitle=t?"-":""}return e}),[u,t,n,r]),f=d.statusTitle,b=d.titleColor;return Object(j.jsxs)(o.default,{flexDirection:"row",children:[n===l.KeyTagMnemonicStatus.INCORRECT?Object(j.jsx)(a.default,{color:b,name:"ExclamationCircleSolid"}):null,Object(j.jsx)(i.default.Body1Mono,{color:b,children:f})]})};t.default=Object(c.memo)((function(e){var t=e.space,n=void 0===t?2:t,s=e.size,u=void 0===s?5:s,d=e.groupDotCount,f=void 0===d?4:d,b=e.groupCount,p=void 0===b?3:b,g=e.mnemonicWordData,h=e.showWordStatus,x=void 0!==h&&h,y=e.showDigitCode,v=void 0!==y&&y,_=e.showIcon,w=void 0!==_&&_,C=e.disabled,D=void 0!==C&&C,M=e.showResult,P=void 0===M||M,k=e.onChange,S=Object(c.useMemo)((function(){for(var e=[],t=0;t<p;){var n;e.push(null==g||null==(n=g.dotMapData)?void 0:n.slice(t*f,f*(t+1))),t+=1}return e}),[p,f,g]);return Object(j.jsxs)(o.default,{flexDirection:"column",children:[x?Object(j.jsxs)(o.default,{flexDirection:"row",justifyContent:"space-between",my:1,children:[Object(j.jsx)(i.default.Body1Mono,{color:"text-subdued",children:null==g?void 0:g.index}),Object(j.jsx)(O,{showResult:P,status:null==g?void 0:g.status,word:null==g?void 0:g.mnemonicWord})]}):null,Object(j.jsxs)(o.default,{flexDirection:"row",children:[x?null:Object(j.jsxs)(o.default,{flexDirection:"column",justifyContent:"flex-end",children:[w?Object(j.jsx)(o.default,{mb:3,children:Object(j.jsx)(a.default,{size:32,name:"LogoCircularIllus",color:"icon-disabled"})}):null,Object(j.jsx)(o.default,{w:"32px",h:u,flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start",children:Object(j.jsx)(i.default.Body1Mono,{lineHeight:"18px",color:"text-subdued",marginRight:"8px",children:null==g?void 0:g.index})})]}),Object(j.jsx)(r.default,{space:n,children:S.map((function(e,t){return Object(j.jsx)(m,{defaultBgColor:(null==g?void 0:g.status)===l.KeyTagMnemonicStatus.FILL?"background-hovered":"background-default",disabled:D,size:u,groupIndex:t,groupDotCount:f,showDigitCode:v,lightsData:e,onChange:k})}))})]})]})}))},4262:function(e,t,n){"use strict";n.r(t);var r=n(48),a=n(2),o=n.n(a),i=n(1),c=n(44),s=n(88),l=n(17),u=n(1635),d=n(3922),f=n(3952),b=n(0);t.default=function(){var e=Object(c.useRoute)(),t=Object(c.useNavigation)(),n=e.params,a=n.walletId,j=n.password,p=n.wallet,m=n.navigateMode,O=Object(s.default)(),g=Object(i.useCallback)(o()((function*(){var e=yield l.default.engine.revealHDWalletMnemonic(a,j);null!=e&&e.length?t.navigate(f.KeyTagRoutes.ShowDotMap,{mnemonic:e,wallet:p}):r.default.show({title:"mnemonic parse error"})})),[a,j,t,p]),h=Object(i.useMemo)((function(){return Object(b.jsx)(u.Attentions,{pressTitle:O.formatMessage({id:"action__show_dotmap_for_keytag"}),onPress:g,navigateMode:m})}),[O,m,g]);return m?Object(b.jsx)(d.default,{children:h}):h}},4263:function(e,t,n){"use strict";n.r(t);var r=n(57),a=n(51),o=n(12),i=n(27),c=n(54),s=n(50),l=n(1),u=n(44),d=n(88),f=n(204),b=n(24),j=n(473),p=n(3922),m=n(4126),O=n(4029),g=n(0),h=function(e){var t=e.onDone,n=e.message,r=Object(s.default)();return Object(g.jsx)(c.default,{mt:r?2:6,mr:6,type:"primary",size:"sm",onPress:t,children:null!=n?n:"Done"})},x=function(e){var t=e.mnemonic,n=e.wallet,r=Object(d.default)(),c=Object(s.default)(),u=Object(l.useMemo)((function(){return t.split(" ").length}),[t]);return Object(g.jsxs)(a.default,{mt:c?2:6,flexDirection:"row",alignItems:"center",children:[n?Object(g.jsx)(j.WalletAvatarPro,{size:"sm",wallet:n,devicesStatus:void 0}):null,Object(g.jsxs)(o.default,{ml:n?3:0,flexDirection:"column",children:[n?Object(g.jsx)(i.default.Body1Strong,{children:n.name}):null,Object(g.jsx)(i.default.Caption,{children:""+r.formatMessage({id:"form__str_words"},{0:u})})]})]})};t.default=function(){var e=Object(u.useRoute)().params,t=e.mnemonic,n=e.wallet,a=Object(d.default)(),i=Object(O.mnemonicWordsToKeyTagMnemonic)(t),j=Object(u.useNavigation)(),y=Object(s.default)(),v=Object(f.default)(),_=Object(l.useMemo)((function(){return Object(g.jsx)(h,{message:a.formatMessage({id:"action__done"}),onDone:function(){v()}})}),[v,a]),w=Object(l.useMemo)((function(){return Object(g.jsx)(x,{mnemonic:t,wallet:n})}),[t,n]),C=Object(l.useMemo)((function(){return b.default.isNativeAndroid?null:Object(g.jsx)(c.default,{ml:y?0:2,mt:y?2:6,type:"plain",leftIconName:"ChevronLeftOutline",onPress:function(){null!=j&&null!=j.canGoBack&&j.canGoBack()&&j.goBack()}})}),[y,j]);return j.setOptions({headerShown:!0,headerTitleAlign:"center",headerLeft:function(){return C},headerRight:function(){return _},headerTitle:function(){return w},headerShadowVisible:!1}),Object(g.jsx)(r.default,{hidePrimaryAction:!0,hideSecondaryAction:!0,fullMobile:!0,headerShown:!1,disableTopRadius:!0,scrollViewProps:{children:Object(g.jsx)(p.default,{backButton:!1,children:Object(g.jsx)(o.default,{flex:"1",children:Object(g.jsx)(o.default,{mt:b.default.isNativeIOS?-12:0,flexDirection:y?"column":"row",children:null!=i&&i.length&&i.length>12?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(m.KeyTagMatrix,{keyTagData:i.slice(0,12)}),Object(g.jsx)(m.KeyTagMatrix,{keyTagData:i.slice(12),startIndex:13})]}):Object(g.jsx)(m.KeyTagMatrix,{keyTagData:i})})})})}})}},4264:function(e,t,n){"use strict";n.r(t);var r=n(57),a=n(1),o=n(44),i=n(214),c=n(3922),s=n(3952),l=n(0);t.default=function(){var e=Object(o.useRoute)(),t=Object(o.useNavigation)(),n=e.params,u=n.walletId,d=n.wallet,f=n.navigateMode,b=Object(a.useMemo)((function(){return Object(l.jsx)(r.default,{footer:null,hideBackButton:!!f,headerShown:!f,children:Object(l.jsx)(i.default,{walletId:u,field:i.ValidationFields.Secret,children:function(e){t.replace(s.KeyTagRoutes.KeyTagAttention,{walletId:u,password:e,wallet:d,navigateMode:f})}})})}),[f,t,d,u]);return f?Object(l.jsx)(c.default,{children:b}):b}},4265:function(e,t,n){"use strict";n.r(t),n.d(t,"OptionRecoveryPhrase",(function(){return x})),n.d(t,"OptionPrivateKey",(function(){return y})),n.d(t,"OptionAdress",(function(){return v})),n.d(t,"OptionOneKeyLite",(function(){return _})),n.d(t,"OptionKeyTag",(function(){return w})),n.d(t,"OptionMigration",(function(){return D})),n.d(t,"OptioniCloud",(function(){return M})),n.d(t,"OptionGoogleDrive",(function(){return P}));var r=n(51),a=n(106),o=n(64),i=n(142),c=n(20),s=n(12),l=n(76),u=n(40),d=n(1584),f=n(1600),b=n(29),j=n(4266),p=n.n(j),m=n(4267),O=n.n(m),g=n(0),h=function(e){var t=e.icon,n=e.title,r=e.description,a=e.children,j=e.isDisabled,p=e.isLoading,m=e.onPress,O=Object(d.default)().themeVariant;return Object(g.jsxs)(o.default,{flex:1,onPress:m,p:"16px",pb:"80px",bg:"action-secondary-default",_hover:{bgColor:"action-secondary-hovered"},_pressed:{bgColor:"action-secondary-pressed"},borderWidth:b.default.hairlineWidth,borderColor:"border-default",borderRadius:"12px",overflow:"hidden",disabled:j,children:[Object(g.jsxs)(s.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(g.jsx)(u.default,{name:t||"AcademicCapOutline",color:j||p?"icon-disabled":"interactive-default"}),p&&Object(g.jsx)(l.default,{})]}),Object(g.jsx)(c.default,{mt:4,typography:"Heading",flex:1,color:j||p?"text-disabled":"text-default",children:n}),r&&Object(g.jsx)(c.default,{mt:1,typography:"Body2",flex:1,color:j||p?"text-disabled":"text-subdued",children:r}),Object(g.jsxs)(s.default,{position:"absolute",bottom:"-64px",left:"16px",right:"16px",h:"128px",borderRadius:"12px",bg:"surface-default",overflow:"hidden",children:[Object(g.jsx)(f.LinearGradient,{colors:["rgb(255, 255, 255)","rgba(255, 255, 255, 0)"],style:{position:"absolute",height:64,width:"100%",opacity:.1,zIndex:-1}}),a,Object(g.jsx)(f.LinearGradient,{colors:["light"===O?"rgba(255, 255, 255, 0)":"rgba(30, 30, 42, 0)",Object(i.default)("surface-default")],style:{position:"absolute",height:"100%",width:"100%",bottom:64}})]})]})},x=function(e){var t=e.title,n=e.icon,r=e.description,a=e.onPress;return Object(g.jsx)(h,{title:t,description:r,icon:n||"ClipboardDocumentListOutline",onPress:a,children:Object(g.jsx)(s.default,{flexDirection:"row",px:"16px",h:"64px",flexWrap:"wrap",py:"8px",children:["shy","owner","almost","explain","movie","subway"].map((function(e,t){return Object(g.jsxs)(s.default,{flexDirection:"row",w:"1/3",py:"4px",children:[Object(g.jsx)(c.default,{typography:"Caption",w:"12px",color:"text-subdued",children:t+1}),Object(g.jsx)(c.default,{typography:"Caption",children:e})]},t)}))})})},y=function(e){var t=e.title,n=e.icon,r=e.description,a=e.onPress;return Object(g.jsx)(h,{title:t,description:r,icon:n||"ClipboardDocumentListOutline",onPress:a,children:Object(g.jsx)(s.default,{px:"16px",h:"64px",pt:"12px",children:Object(g.jsx)(c.default,{typography:"Caption",color:"text-subdued",children:"0xd819390d77f9bfe05b74c729394deec8c4e7f3ec52b6cbe9f64b6a0e1c9d9435"})})})},v=function(e){var t=e.title,n=e.icon,r=e.description,a=e.onPress;return Object(g.jsx)(h,{title:t,description:r,icon:n||"ClipboardDocumentListOutline",onPress:a,children:Object(g.jsx)(s.default,{px:"16px",h:"64px",pt:"12px",children:Object(g.jsx)(c.default,{typography:"Caption",color:"text-subdued",children:"0xb0CfcFdA37F05185324dC3A61dE9030bf6d98fb8"})})})},_=function(e){var t=e.title,n=e.description,o=e.onPress;return Object(g.jsx)(h,{title:t,description:n,icon:"OnekeyLiteOutline",onPress:o,children:Object(g.jsx)(r.default,{children:Object(g.jsx)(a.default,{source:O.a,w:"224px",h:"64px"})})})},w=function(e){var t=e.title,n=e.description,o=e.onPress;return Object(g.jsx)(h,{title:t,description:n,icon:"KeytagOutline",onPress:o,children:Object(g.jsx)(r.default,{children:Object(g.jsx)(a.default,{source:p.a,w:"224px",h:"64px"})})})},C=function(e){var t=e.leftIcon,n=e.rightIcon;return Object(g.jsxs)(r.default,{h:"64px",flexDirection:"row",px:"24px",children:[Object(g.jsx)(u.default,{name:t,size:32,color:"icon-default"}),Object(g.jsx)(f.LinearGradient,{colors:["transparent",Object(i.default)("icon-subdued"),"transparent"],start:{x:0,y:0},end:{x:1,y:0},style:{flex:1,height:2,marginHorizontal:8}}),Object(g.jsx)(u.default,{name:n,size:32,color:"icon-default"})]})},D=function(e){var t=e.title,n=e.onPress;return Object(g.jsx)(h,{title:t,icon:"ArrowPathRoundedSquareOutline",onPress:n,children:Object(g.jsx)(C,{leftIcon:"ComputerDesktopSolid",rightIcon:"DevicePhoneMobileSolid"})})},M=function(e){var t=e.title,n=e.onPress,r=e.isDisabled,a=e.isLoading;return Object(g.jsx)(h,{title:t,icon:"CloudOutline",onPress:n,isDisabled:r,isLoading:a,children:Object(g.jsx)(C,{leftIcon:"CloudSolid",rightIcon:"OnekeyLogoSolid"})})},P=function(e){var t=e.title,n=e.onPress,r=e.isDisabled,a=e.isLoading;return Object(g.jsx)(h,{title:t,icon:"CloudOutline",onPress:n,isDisabled:r,isLoading:a,children:Object(g.jsx)(C,{leftIcon:"CloudSolid",rightIcon:"OnekeyLogoSolid"})})}},4266:function(e,t,n){e.exports=n.p+"static/media/import_with_keytag.0b5129bb.png"},4267:function(e,t,n){e.exports=n.p+"static/media/import_with_lite.eeedb5e7.png"},4268:function(e,t,n){e.exports=n.p+"static/media/logo_metamask.dd1c33eb.png"},4269:function(e,t,n){"use strict";n.r(t),n.d(t,"showMigrateDataModal",(function(){return K}));var r,a=n(3),o=n.n(a),i=n(474),c=n(54),s=n(183),l=n(51),u=n(82),d=n(236),f=n(40),b=n(201),j=n(12),p=n(20),m=n(76),O=n(48),g=n(2),h=n.n(g),x=n(316),y=n.n(x),v=n(4),_=n.n(v),w=n(1),C=n(44),D=n(1244),M=n(88),P=n(29),k=n(508),S=n(846),A=n(16),E=n(24),R=n(17),T=n(99),B=n(334),I=n(393),W=n(4127),N=n(0);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail",e[e.Connecting=2]="Connecting"}(r||(r={}));var F=Object(I.deviceInfo)(),L=function(e){var t=e.serverAddress,n=e.serverInfo,a=e.closeOverlay,o=R.default.serviceMigrate,g=Object(w.useRef)(n),x=Object(w.useState)((function(){return n?r.Success:r.Connecting})),v=_()(x,2),H=v[0],z=v[1],L=Object(w.useState)(F),K=_()(L,2),V=K[0],U=K[1],G=Object(w.useState)(g.current),Q=_()(G,2),q=Q[0],J=Q[1],X=Object(w.useMemo)((function(){return Object(I.parseDeviceInfo)(V)}),[V]),Y=Object(w.useMemo)((function(){if(q)return Object(I.parseDeviceInfo)(q)}),[q]),Z=Object(w.useState)(!0),$=_()(Z,2),ee=$[0],te=$[1],ne=Object(M.default)(),re=Object(W.useExportData)().exportDataRequest,ae=Object(C.useNavigation)();Object(w.useEffect)((function(){H===r.Connecting&&setTimeout((function(){o.connectServer(t).then((function(e){e?"string"===typeof e?("ERR_NETWORK"===e&&E.default.isNativeIOS&&Object(T.showDialog)(Object(N.jsx)(S.default,{type:"localNetwork"})),z(r.Fail)):(g.current=e,J(e),z(r.Success)):z(r.Fail)}))}),500)}),[H,t,o]),Object(w.useEffect)((function(){H===r.Success&&void 0!==g.current&&(ee?(U(F),J(g.current)):(U(g.current),J(F)))}),[H,V,ee,q]);var oe=Object(w.useCallback)(h()((function*(){var e=yield re(),n=e.status,r=e.data;if(n===W.ExportResult.SUCCESS){var a=yield o.sendDataToServer({ipAddress:t,data:JSON.stringify(r)});return a&&Y?O.default.show({title:"\ud83e\uddd9 "+ne.formatMessage({id:"msg__data_sent_to_platform"},{platform:Y.name})}):O.default.show({title:ne.formatMessage({id:"form__failed"})},{type:"error"}),a}return n===W.ExportResult.EMPTY&&O.default.show({title:ne.formatMessage({id:"msg__no_data_available"})},{type:"default"}),!1})),[re,ne,Y,t,o]),ie=Object(w.useCallback)(h()((function*(){var e=yield o.getDataFromServer({ipAddress:t});return!!e&&("number"===typeof e?void(e===k.MigrateErrorCode.ConnectFail&&z(r.Fail)):function(e){var t=!0;return Object.entries(e).forEach((function(e){var n=_()(e,2),r=(n[0],n[1]);y()(r)||(t=!1)})),t}(JSON.parse(e.public))?(O.default.show({title:ne.formatMessage({id:"msg__no_data_available"})},{type:"default"}),!1):(o.disConnectServer(t),a(),ae.navigate(A.RootRoutes.Onboarding,{screen:B.EOnboardingRoutes.MigrationPreview,params:{data:e}}),!0))})),[a,ne,ae,t,o]),ce=Object(w.useState)(!1),se=_()(ce,2),le=se[0],ue=se[1],de=Object(w.useCallback)(h()((function*(){ue(!0),ee?(yield oe(),o.disConnectServer(t),a()):yield ie(),ue(!1)})),[a,ie,ee,oe,t,o]),fe=Object(w.useMemo)((function(){return H===r.Connecting?Object(N.jsx)(b.default,{title:"",subTitle:Object(N.jsxs)(j.default,{children:[Object(N.jsx)(m.default,{size:"lg"}),Object(N.jsx)(p.default,{mt:"12px",typography:"DisplayMedium",children:ne.formatMessage({id:"content__connecting"})})]})}):H===r.Fail?Object(N.jsx)(b.default,{emoji:"\ud83d\udeab",title:ne.formatMessage({id:"modal__failed_to_connect"}),subTitle:ne.formatMessage({id:"modal__migrating_data_connection_failed_desc"})}):H===r.Success&&Y&&X?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(j.default,{bgColor:"surface-default",borderRadius:"12px",borderColor:"border-subdued",borderWidth:P.default.hairlineWidth,children:[Object(N.jsxs)(j.default,{py:"16px",children:[Object(N.jsx)(p.default,{typography:"Body2",color:"text-subdued",ml:"16px",children:ne.formatMessage({id:"content__from"})}),Object(N.jsxs)(j.default,{paddingX:"16px",flexDirection:"row",mt:"12px",children:[Object(N.jsx)(f.default,{name:X.logo,size:24,color:"icon-subdued"}),Object(N.jsx)(p.default,{typography:"Body1Strong",flex:1,ml:"8px",children:X.name}),ee&&Object(N.jsx)(D.View,{from:{scale:0},animate:{scale:1},transition:{type:"timing"},children:Object(N.jsx)(d.default,{size:"sm",type:"info",title:ne.formatMessage({id:"content__current"})})})]})]}),Object(N.jsx)(j.default,{borderBottomWidth:P.default.hairlineWidth,borderColor:"border-subdued"}),Object(N.jsxs)(j.default,{py:"16px",children:[Object(N.jsx)(p.default,{typography:"Body2",color:"text-subdued",ml:"16px",children:ne.formatMessage({id:"content__to"})}),Object(N.jsxs)(j.default,{paddingX:"16px",flexDirection:"row",justifyContent:"space-between",mt:"12px",children:[Object(N.jsx)(f.default,{name:Y.logo,size:24,color:"icon-subdued"}),Object(N.jsx)(p.default,{typography:"Body1Strong",flex:1,ml:"8px",children:Y.name}),!ee&&Object(N.jsx)(D.View,{from:{scale:0},animate:{scale:1},transition:{type:"timing"},children:Object(N.jsx)(d.default,{size:"sm",type:"info",title:ne.formatMessage({id:"content__current"})})})]})]}),Object(N.jsx)(l.default,{position:"absolute",width:"full",height:"full",children:Object(N.jsx)(u.default,{onPress:function(){te((function(e){return!e}))},name:"SwitchVerticalOutline",circle:!0,type:"basic",size:"base",iconColor:"icon-default"})})]}),Object(N.jsxs)(j.default,{mt:"24px",children:[le&&!ee&&Object(N.jsx)(s.default,{customIconName:"EllipsisHorizontalCircleMini",title:ne.formatMessage({id:"modal__migrating_data_awaiting_confirmation"},{from:X.name}),alertType:"success",dismiss:!1}),Object(N.jsx)(c.default,{mt:"12px",size:"xl",type:"primary",onPress:de,isLoading:le,children:ne.formatMessage({id:"action__migrate"})})]})]}):void 0}),[H,ne,le,ee,de,X,Y]);return Object(N.jsx)(i.default,{title:ne.formatMessage({id:"modal__migrating_data"}),headerDescription:H===r.Success?Object(N.jsxs)(p.default,{typography:"Caption",color:"text-success",children:["\ud83c\udf89 ",ne.formatMessage({id:"modal__migrating_data_desc"})]}):null,closeOverlay:function(){o.disConnectServer(t),a()},children:fe})},K=function(e){return Object(T.showOverlay)((function(t){return Object(N.jsx)(L,z(z({},e),{},{closeOverlay:t}))}))}},4270:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(20),i=n(51),c=n(76),s=n(2),l=n.n(s),u=n(4),d=n.n(u),f=n(64),b=n(12),j=n(40),p=n(1),m=n(88),O=n(29),g=n(17),h=n(25),x=n(16),y=n(4072),v=n(4030),_=n(0);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var C=function(e){var t=e.backupUUID,n=e.backupTime,r=e.numOfHDWallets,a=e.numOfImportedAccounts,o=e.numOfWatchingAccounts,i=e.numOfContacts,c=Object(h.useNavigation)();return Object(_.jsxs)(f.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:2,mt:2,rounded:"xl",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){c.navigate(x.HomeRoutes.CloudBackupDetails,{backupUUID:t,backupTime:n,numOfHDWallets:r,numOfImportedAccounts:a,numOfWatchingAccounts:o,numOfContacts:i})},children:[Object(_.jsx)(y.default,{backupTime:n,numOfHDWallets:r,numOfImportedAccounts:a,numOfWatchingAccounts:o,numOfContacts:i,size:"normal"}),Object(_.jsx)(b.default,{children:Object(_.jsx)(j.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})};t.default=function(){var e=Object(m.default)(),t=Object(h.useNavigation)(),n=g.default.serviceCloudBackup;Object(p.useLayoutEffect)((function(){var n=e.formatMessage({id:"content__previous_backups"});t.setOptions({title:n})}),[t,e]);var r=Object(p.useState)(!0),s=d()(r,2),u=s[0],f=s[1],x=Object(p.useState)([]),y=d()(x,2),D=y[0],M=y[1];return Object(p.useEffect)((function(){(function(){var e=l()((function*(){M(yield n.getPreviousBackups()),f(!1)}));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(_.jsx)(v.default,{children:u?Object(_.jsx)(i.default,{py:16,children:Object(_.jsx)(c.default,{size:"lg"})}):Object(_.jsx)(_.Fragment,{children:D.map((function(e,t){return Object(_.jsxs)(b.default,{children:[0!==t?Object(_.jsx)(b.default,{borderBottomWidth:O.default.hairlineWidth,borderBottomColor:"divider",my:6,bgColor:"divider"}):null,Object(_.jsxs)(b.default,{flexDirection:"row",children:[Object(_.jsx)(j.default,{name:"iPadOS"===e[0].deviceInfo.osName?"DeviceTabletOutline":"DeviceMobileOutline",size:20}),Object(_.jsx)(o.default,{typography:"Body2Strong",color:"text-subdued",ml:2,children:e[0].deviceInfo.deviceName})]}),Object(_.jsx)(b.default,{mx:-2,children:e.map((function(e){return Object(_.jsx)(C,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.backupUUID)}))})]},t)}))})})}},4317:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n(3),a=n.n(r),o=n(15),i=n.n(o),c=n(6),s=n.n(c),l=n(18),u=n.n(l),d=n(9),f=n.n(d),b=n(14),j=n.n(b),p=n(7),m=n.n(p),O=n(1),g=n.n(O),h=n(55),x=n.n(h),y=n(333);function v(e,t){if(!(t<0)){var n=t;return function e(t){for(var r,a,o=O.Children.toArray(t.props.children),i=o.length,c=0;!a&&c<i;)"string"!==typeof(r=o[c])?a=e(r):n-r.length<0?a=r.charAt(n):n-=r.length,c+=1;return a}(e)}}var _=n(29),w=n(0),C=_.default.create({hidden:{color:"transparent"}});var D=["children","delayMap","fixed","initialDelay","maxDelay","minDelay","onTyped","onTypingEnd","typing"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var S=function(e){f()(n,e);var t=k(n);function n(e){var n;return(n=t.call(this,e)).state={direction:e.typing,visibleChars:0},n.typeNextChar=n.typeNextChar.bind(u()(n)),n}n.getDerivedStateFromProps=function(e,t){var n=e.typing,r=t.direction,a=t.visibleChars;return n!==r?{direction:n,visibleChars:a+n}:null};var r=n.prototype;return r.componentDidMount=function(){var e=this.props.initialDelay;this.startTyping(e)},r.componentDidUpdate=function(e,t){var n=this.props,r=n.children,a=n.typing;if(this.clearTimeout(),0!==a)if(r===e.children){var o=this.props,i=o.delayMap,c=o.onTyped,s=o.onTypingEnd,l=this.state.visibleChars,u=v(this,t.visibleChars),d=v(this,l);if(u&&c(u,l),d){var f=this.getRandomTimeout();i&&i.forEach((function(e){var t=e.at,n=e.delay;(t===l||u.match(t))&&(f+=n)})),this.startTyping(f)}d||s()}else this.reset()},r.componentWillUnmount=function(){this.clearTimeout()},r.getRandomTimeout=function(){var e=this.props,t=e.maxDelay,n=e.minDelay;return Math.round(Math.random()*(t-n)+n)},r.clearTimeout=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)})),r.reset=function(){var e=this,t=this.props.initialDelay;this.setState({visibleChars:0},(function(){return e.startTyping(t)}))},r.startTyping=function(e){this.timeoutId=setTimeout(this.typeNextChar,e)},r.typeNextChar=function(){this.setState((function(e){var t=e.direction;return{visibleChars:e.visibleChars+t}}))},r.render=function(){var e=this.props,t=e.children,n=(e.delayMap,e.fixed),r=(e.initialDelay,e.maxDelay,e.minDelay,e.onTyped,e.onTypingEnd,e.typing,i()(e,D)),a=this.state.visibleChars;return function(e,t,n,r){var a,o,i=0;function c(e){var t=e.props.children;return g.a.cloneElement(e,{},O.Children.map(t,s))}function s(e){if("string"!==typeof e)return c(e);var n=e.length+i,r=null;if(n>o&&(!a||i<a)){var s=o-i,l=a?a-i:n,u=e.substring(0,s),d=e.substring(l,n);if(t)r=[u,Object(w.jsx)(y.default,{style:C.hidden,children:e.substring(s,l)}),d];else r=[u,d]}return i=n,r||e}return n>r?(a=n,o=r):(a=r,o=n||0),c(e)}(Object(w.jsx)(y.default,P(P({},r),{},{children:t})),n,a)},s()(n)}(O.Component);S.propTypes={children:x.a.node.isRequired,delayMap:x.a.arrayOf(x.a.shape({at:x.a.oneOfType([x.a.string,x.a.number,x.a.instanceOf(RegExp)]),delay:x.a.number})),fixed:x.a.bool,initialDelay:x.a.number,maxDelay:x.a.number,minDelay:x.a.number,onTyped:x.a.func,onTypingEnd:x.a.func,style:x.a.oneOfType([x.a.object,x.a.array]),typing:x.a.oneOf([-1,0,1])},S.defaultProps={fixed:!1,initialDelay:200,maxDelay:100,minDelay:20,onTyped:function(){},onTypingEnd:function(){},style:{},typing:0}},4490:function(e,t,n){"use strict";n.r(t),n.d(t,"useBreakpointValue",(function(){return i}));var r=n(301),a=n(153),o=n(357);function i(e){var t,n=null===(t=Object(r.default)())||void 0===t?void 0:t.width,i=Object(o.useTheme)();if(Object(a.hasValidBreakpointFormat)(e,i.breakpoints)){var c=Object(a.getClosestBreakpoint)(i.breakpoints,n);return Object(a.findLastValidBreakpoint)(e,i.breakpoints,c)}return e}},5077:function(e,t,n){e.exports=n.p+"static/media/introduction.b65a7a2e.png"},5078:function(e,t,n){e.exports=n.p+"static/media/keytag_1_dark.41f0f534.png"},5079:function(e,t,n){e.exports=n.p+"static/media/keytag_1_light.13be06e6.png"},5080:function(e,t,n){e.exports=n.p+"static/media/keytag_2_dark.3c66a182.png"},5081:function(e,t,n){e.exports=n.p+"static/media/keytag_2_light.67ec0c79.png"},5082:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(4),a=n.n(r),o=n(44),i=n(1),c=n(29),s=n(38),l=n(945),u=n(3818),d=n(1656),f=n(3819),b=n(1655);function j(e){var t=Object(l.useSafeAreaFrame)(),n=Object(l.useSafeAreaInsets)(),r=i.useContext(b.default),c=i.useContext(f.default),j=e.focused,m=e.modal,O=void 0!==m&&m,g=e.header,h=e.headerShown,x=void 0===h||h,y=e.headerTransparent,v=e.headerStatusBarHeight,_=void 0===v?r?0:n.top:v,w=e.navigation,C=e.route,D=e.children,M=e.style,P=i.useState((function(){return Object(d.default)(t,O,_)})),k=a()(P,2),S=k[0],A=k[1];return i.createElement(u.default,{accessibilityElementsHidden:!j,importantForAccessibility:j?"auto":"no-hide-descendants",style:[p.container,M]},i.createElement(s.default,{style:p.content},i.createElement(b.default.Provider,{value:r||!1!==x},i.createElement(f.default.Provider,{value:x?S:null!=c?c:0},D))),x?i.createElement(o.NavigationContext.Provider,{value:w},i.createElement(o.NavigationRouteContext.Provider,{value:C},i.createElement(s.default,{onLayout:function(e){var t=e.nativeEvent.layout.height;A(t)},style:y?p.absolute:null},g))):null)}var p=c.default.create({container:{flex:1,flexDirection:"column-reverse"},content:{flex:1},absolute:{position:"absolute",top:0,left:0,right:0}})},5083:function(e,t,n){e.exports=n.p+"static/media/device_classic_touch.d5143074.png"},5084:function(e,t,n){e.exports=n.p+"static/media/device_mini_classic_touch.792e867c.png"},5085:function(e,t,n){e.exports=n.p+"static/media/onekey-lite.583b6533.png"},5086:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgBAMAAAAQtmoLAAAAMFBMVEUAAAAAAAD///8QEBDv7+/7+/sEBAQcHBxwcHCXl5d+fn4gICBubm7r6+ufn5+VlZXXjP+NAAAAAXRSTlMAQObYZgAAAJlJREFUWMNjYBQkDYxqGNUwBDUoIQE1qFgSsuBAaHCBAzeoWApCCIsGlc3GMGAIFROGi1hj02CIJ2yERzUMGw2hsXg1hIaiaygvx64ULj0E8jQykFq1jDQNokrOoxpGNYxqGFYa4maCwEfiNUBA4ODRINMBAQcHT9mKFZBcoQyBWnRUw2DRQKChOyRa9wQ0DIE8PaphVAOFGgCtomPGGGK2iwAAAABJRU5ErkJggg=="},5087:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAAulBMVEUAAAD///8AAAAHBwdnZ2dra2vn5+ff39+EhIR+fn4RERH9/f339/fNzc37+/vx8fG3t7fR0dFwcHAuLi4VFRUJCQnt7e3AwMBAQEA7OzsqKir09PTZ2dmpqamUlJR3d3caGhrj4+Pi4uLV1dXKysrCwsKlpaWdnZ2ZmZlbW1tTU1M2Njby8vLU1NTFxcW9vb2urq6goKCMjIx7e3tsbGxPT09HR0czMzMkJCQgICDGxsZpaWljY2MmJibYQD7aAAAAAXRSTlMAQObYZgAAAcxJREFUaN7t2WlPwkAQBmB2V8ux21p62HIjICKo3OL5//+WSBhLYWuEDhiSeT+102SepN0m22kmk2FHDQEEEEDAGQKW0TbNR0PCOS4gbcf1+TJ+2QkUOlC5e+Eb+exZuEAw4Ftxi5hA3ec78Sd4QINrM8UCcjwhdRzAFEmAf4sBWGWemEEFAahH/cJaSymjVooqd+kB9bP+Cza8ct0m1MoyNRBAr9ds1KxagGqQGshDq9Fm1YZqLjUQrjuV4mV4Ds8yJaCa+sdZhxtnpQSu4W534vWnddm7wgKK8boJS4uAIwJXxnceARgasdgAtFenDwcA72IVvo6IoqnPDgAu+B65JICA/wUa2cQ4KECOJSZPAAEEEEAAAQScDmg2ErboN3kvJQDxLm407Wce4r5I3FdZLNV7gb3x6r8xiPU0P8rOrjSSbBlZCwVHABy+m8VYqbGrueAcAFRquk7lpqbo2movACKDBf9DSkPr4M9Y2YHFkhTRN1NOW4ofhV/aO22EoWB26nNtvEYLaW7amhQ07XMG4mj5oeduraZeBXn6bnUHUfuwe4z/B9IO12M0WzFkAHI7F6IP415cANKpwtFZ/sMhgDECCCCAMQJOD3wB8z5BO/qdMIsAAAAASUVORK5CYII="},5088:function(e,t,n){e.exports=n.p+"static/media/account_details_on_metamask.eee42d5b.png"},5089:function(e,t,n){e.exports=n.p+"static/media/desk_reveal.20570ffc.png"},5090:function(e,t,n){e.exports=n.p+"static/media/desk_security.6671c2f4.png"},5091:function(e,t,n){e.exports=n.p+"static/media/desk_settings.19ce0c79.png"},5092:function(e,t,n){e.exports=n.p+"static/media/desk_topbar.141ef7ad.png"},5093:function(e,t,n){e.exports=n.p+"static/media/mobile_reveal.f0a02ba0.png"},5094:function(e,t,n){e.exports=n.p+"static/media/mobile_security.f850c96e.png"},5095:function(e,t,n){e.exports=n.p+"static/media/mobile_settings.45b93463.png"},5096:function(e,t,n){e.exports=n.p+"static/media/mobile_show_private_key.64d70338.png"},5097:function(e,t,n){e.exports=n.p+"static/media/mobile_topbar.2ea77d7b.png"},5098:function(e,t,n){e.exports=n.p+"static/media/welcome_hardware.738ecd2f.png"},5099:function(e,t,n){e.exports=n.p+"static/media/logo_rainbow.4dc78fbd.png"},5100:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAAPFBMVEUAAAD///8zdbuZut3l7vdMhsPy9/uAqdVmmMzM3e5Afb+zy+Wmw+FZj8hNhsPZ5vNzoNC/1OmMstm/1Orw5n5WAAAAAXRSTlMAQObYZgAAAjFJREFUaN7t2elu6jAQBWA83sZLSKDv/64Xtbk6ok3KGZSoIOX8Qy3+vEycxJxOJ7drDuAADuAADuBPgDQWfNgBKFUkjvi8NeDlM965XYCgMkfDDkDyVRAfaMDUPBIJggZSUTSP5MsWQCodrX9PnXpJTwGp+VtyHuKPbmf5lqhT9rc0AxCiLCcW59rqHwMN5JUZ8elrwVeEiQbqWvNzQl4cxZkGFr6uPd0vkm4IVEXrSOi6ARCH/Fsllj5pfRo4h0BuUiE+Bzg6Lwfo19pyjaOu1QgID8irAdOuAPaiQN9M55327YErB+DxpLBAmZ8EXgdo8pnGAh/4/32AZgU+TI+ImFIaGFEVuwCoayooaxpIeEoggr2LA7D9DiwwYHsngWi4IaA/LIAxJ6JxzKgygH0zQtFlFkDdXUwXsmcBXJrddBlcCIAY9PoNcGQBLNvZUqXiaADfSYbbzWACMqaVXeNsAhq93aEzPIBFqPxzowQGQJS+azYsAQ2gtpUeQDcCSTCzzAAkmADMUQ0PajSihmxAwdsv0b4UFkCUEMYoGIAVCFXm+Ae7HCaSAZCOd822OIl4GW3OCKCDc6bwo3kVwRCNAAQk3xEhC9E+AEYQH5bPv7ojgQfzjKXo9f6E50kAc4EMt0GMKoJciRMv4jQT8XezpmWDQ8H1M64BzfMAT9S27bnp2vkXD5hWezKe/NLzhNLkAT7pitI0Avwg0H0asKWM/7v/pr/hHMABHMABOPd+wD9+jjDMeVUrrwAAAABJRU5ErkJggg=="},5325:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(15),i=n.n(o),c=n(44),s=n(1),l=n(3880),u=n(5082),d=n(3878),f=n(3879),b=n(3899),j=n(238),p=n(29),m=n(38);function O(e){var t=e.state,n=e.descriptors;return s.createElement(l.default,null,s.createElement(m.default,{style:g.container},t.routes.map((function(e,r){var a,o=t.index===r,i=0!==r,c=null===(a=t.routes[r-1])||void 0===a?void 0:a.key,l=c?n[c]:void 0,O=n[e.key],h=O.options,x=O.navigation,y=O.render,v=h.header,_=h.headerShown,w=h.headerTintColor,C=h.headerBackImageSource,D=h.headerLeft,M=h.headerRight,P=h.headerTitle,k=h.headerTitleAlign,S=h.headerTitleStyle,A=h.headerStyle,E=h.headerShadowVisible,R=h.headerTransparent,T=h.contentStyle,B=h.headerBackTitle;return s.createElement(u.default,{key:e.key,focused:o,route:e,navigation:x,headerShown:_,headerTransparent:R,header:void 0!==v?v({back:l?{title:Object(d.default)(l.options,l.route.name)}:void 0,options:h,route:e,navigation:x}):s.createElement(f.default,{title:Object(d.default)(h,e.name),headerTintColor:w,headerLeft:"function"===typeof D?function(e){var t=e.tintColor;return D({tintColor:t,canGoBack:i,label:B})}:void 0===D&&i?function(e){var t=e.tintColor;return s.createElement(b.default,{tintColor:t,backImage:void 0!==C?function(){return s.createElement(j.default,{source:C,style:[g.backImage,{tintColor:t}]})}:void 0,onPress:x.goBack,canGoBack:i})}:D,headerRight:"function"===typeof M?function(e){var t=e.tintColor;return M({tintColor:t})}:M,headerTitle:"function"===typeof P?function(e){var t=e.children,n=e.tintColor;return P({children:t,tintColor:n})}:P,headerTitleAlign:k,headerTitleStyle:S,headerStyle:[R?{position:"absolute",backgroundColor:"transparent"}:null,A,!1===E?{shadowOpacity:0,borderBottomWidth:0}:null]}),style:[p.default.absoluteFill,{display:o?"flex":"none"}]},s.createElement(m.default,{style:[g.contentContainer,T]},y()))}))))}var g=p.default.create({container:{flex:1},contentContainer:{flex:1},backImage:{height:24,width:24,margin:3,resizeMode:"contain"}}),h=["initialRouteName","children","screenListeners","screenOptions"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=Object(c.createNavigatorFactory)((function(e){var t=e.initialRouteName,n=e.children,r=e.screenListeners,a=e.screenOptions,o=i()(e,h),l=Object(c.useNavigationBuilder)(c.StackRouter,{initialRouteName:t,children:n,screenListeners:r,screenOptions:a}),u=l.state,d=l.descriptors,f=l.navigation;return s.useEffect((function(){var e;return null===f||void 0===f||null===(e=f.addListener)||void 0===e?void 0:e.call(f,"tabPress",(function(e){var t=f.isFocused();requestAnimationFrame((function(){u.index>0&&t&&!e.defaultPrevented&&f.dispatch(y(y({},c.StackActions.popToTop()),{},{target:u.key}))}))}))}),[f,u.index,u.key]),s.createElement(O,v({},o,{state:u,navigation:f,descriptors:d}))}))},6103:function(e,t,n){"use strict";n.r(t),n.d(t,"stackScreenList",(function(){return Qr})),n.d(t,"StackNavigator",(function(){return qr})),n.d(t,"default",(function(){return Jr}));var r=n(1),a=n(5325),o=n(54),i=n(47),c=n(2),s=n.n(c),l=n(12),u=n(27),d=n(51),f=n(40),b=n(126),j=n(50),p=n(44),m=n(88),O=n(17),g=n(420),h=n(3922),x=n(3952),y=n(0),v=function(){var e=Object(j.default)(),t=Object(b.default)(),n=Object(p.useNavigation)(),r=Object(g.useFormOnChangeDebounced)({useFormReturn:t,revalidate:!1,clearErrorIfEmpty:!0}).formValues,a=!(null!=r&&r.text),c=Object(m.default)(),v=t.control,_=t.handleSubmit;return Object(y.jsx)(h.default,{title:c.formatMessage({id:"title__convert_recovery_phrase_to_dotmap_for_keytag"}),secondaryContent:e?void 0:Object(y.jsxs)(l.default,{children:[Object(y.jsx)(d.default,{mb:6,size:12,bgColor:"decorative-surface-one",borderRadius:"9999px",children:Object(y.jsx)(f.default,{size:24,color:"decorative-icon-one",name:"DotsCircleHorizontalOutline"})}),Object(y.jsx)(u.default.Body2Strong,{children:c.formatMessage({id:"content__what_is_recovery_phrase"})}),Object(y.jsx)(u.default.Body2,{mt:2,color:"text-subdued",children:c.formatMessage({id:"content__what_is_recovery_phrase_desc"})})]}),children:Object(y.jsx)(l.default,{flex:"1",children:Object(y.jsxs)(i.default,{children:[Object(y.jsx)(i.default.Item,{control:v,name:"text",rules:{validate:function(){var e=s()((function*(e){if(!e)return!0;try{return yield O.default.validator.validateMnemonic(e),!0}catch(t){}return c.formatMessage({id:"form__add_exsting_wallet_invalid"})}));return function(t){return e.apply(this,arguments)}}()},children:Object(y.jsx)(i.default.Textarea,{placeholder:c.formatMessage({id:"form__enter_recovery_phrase"}),h:"48",trimValue:!1})}),Object(y.jsx)(o.default,{isDisabled:a,size:e?"xl":"lg",onPromise:_((function(e){n.navigate(x.KeyTagRoutes.ShowDotMap,{mnemonic:e.text})})),type:"primary",children:c.formatMessage({id:"action__next"})})]})})})},_=n(331),w=n(353),C=n(48),D=n(3),M=n.n(D),P=n(13),k=n.n(P),S=n(4),A=n.n(S),E=n(4039),R=n(24),T=n(334),B=n(563),I=n(4158),W=n(4126),N=function(e){var t=e.keyTagData,n=e.onChange,a=e.startIndex,o=e.showResult,i=void 0===o||o,c=function(){var e=Object(B.default)().screenWidth,t=Object(j.default)();return{size:Object(r.useMemo)((function(){var n=5,r=t?e-256-36:e-512-48-164,a=t?48:96;return r>a&&(n=5+Math.floor(r/a)),n>7&&!t?7:n}),[e,t])}}().size;return Object(y.jsxs)(l.default,{justifyContent:"center",alignItems:"center",children:[Object(y.jsx)(W.KeyTagMatrixTopTitle,{keyTagData:t,startIndex:a}),Object(y.jsx)(l.default,{justifyContent:"center",alignItems:"center",children:null==t?void 0:t.map((function(e,t){return Object(y.jsx)(I.default,{size:c,showResult:i,showWordStatus:!0,mnemonicWordData:e,onChange:function(t,r){n&&n(e.index,t,r)}},""+t)}))})]})},H=n(3991),z=n(4029);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(){var e=Object(p.useNavigation)(),t=Object(m.default)(),n=Object(j.default)(),a=Object(r.useState)(!1),i=A()(a,2),c=i[0],d=i[1],f=Object(r.useState)((function(){return Object(z.generalKeyTagMnemonic)(12)})),b=A()(f,2),g=b[0],x=b[1],v=Object(r.useCallback)((function(e,t,n){var r=k()(g),a=r.find((function(t){return t.index===e}));if(a&&a.dotMapData){a.dotMapData[t]=n;var o=Object(z.keyTagWordDataToMnemonic)(a.dotMapData),i=o.mnemonicWord,c=o.mnemonicIndexNumber,s=o.status;a.mnemonicWord=i,a.mnemonicIndexNumber=c,a.status=s,x(r)}}),[g]),D=Object(r.useCallback)(s()((function*(){d(!0);var n=k()(g);if(n=n.map((function(e){var t,n=Object(z.keyTagWordDataToMnemonic)(null!=(t=e.dotMapData)?t:[]),r=n.mnemonicWord,a=n.mnemonicIndexNumber,o=n.status;return L(L({},e),{},{mnemonicWord:r,mnemonicIndexNumber:a,status:o})})),x(n),n.every((function(e){return e.status===H.KeyTagMnemonicStatus.VERIF}))){var r=n.map((function(e){return e.mnemonicWord})).join(" ");try{yield O.default.validator.validateMnemonic(r),e.navigate(T.EOnboardingRoutes.SetPassword,{mnemonic:r})}catch(a){C.default.show({title:t.formatMessage({id:"msg__engine__invalid_mnemonic"})},{type:"error"})}}else C.default.show({title:t.formatMessage({id:"msg__engine__invalid_mnemonic"})},{type:"error"});d(!1)})),[e,g,t]),M=Object(r.useState)(!0),P=A()(M,2),S=P[0],B=P[1];return Object(r.useEffect)((function(){e.setOptions({headerShown:!0,header:function(){return Object(y.jsx)(E.default,{alwaysShowBackButton:!0,headerRight:function(){return Object(y.jsx)(o.default,{mt:n?2:6,mr:6,type:"primary",size:"base",isLoading:c,onPress:D,children:t.formatMessage({id:"action__import"})})}})}})}),[c,D,t,n,e]),Object(y.jsxs)(h.default,{backButton:!1,children:[Object(y.jsxs)(l.default,{flexDirection:n?"column":"row",justifyContent:n?"center":"space-between",children:[Object(y.jsxs)(l.default,{mt:R.default.isNativeIOS?-12:0,children:[Object(y.jsx)(u.default.DisplayLarge,{children:t.formatMessage({id:"title__import_wallet_with_keytag"})}),Object(y.jsx)(u.default.Body1,{children:t.formatMessage({id:"title__import_wallet_with_keytag_desc"})})]}),Object(y.jsxs)(l.default,{mt:4,flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(y.jsxs)(l.default,{flexDirection:"row",alignItems:"center",mr:4,children:[Object(y.jsx)(w.default,{labelType:"false",isChecked:S,mr:2,onToggle:function(){return B(!S)}}),Object(y.jsx)(u.default.Body2Strong,{children:t.formatMessage({id:"action__show_result"})})]}),Object(y.jsx)(l.default,{children:Object(y.jsx)(_.default,{activatable:!!n,defaultValue:12,containerProps:{width:"130px",zIndex:5},footer:null,headerShown:!1,onChange:function(e,t){setTimeout((function(){x(Object(z.generalKeyTagMnemonic)(t.value,g))}),200)},options:[{label:t.formatMessage({id:"form__str_words"},{0:12}),value:12},{label:t.formatMessage({id:"form__str_words"},{0:18}),value:18},{label:t.formatMessage({id:"form__str_words"},{0:24}),value:24}]})})]})]}),Object(y.jsx)(l.default,{flex:"1",children:Object(y.jsx)(l.default,{mt:6,justifyContent:"space-around",alignItems:n?"center":"flex-start",flexDirection:n?"column":"row",children:g.length>12?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(N,{showResult:S,onChange:v,keyTagData:g.slice(0,12)}),Object(y.jsx)(N,{showResult:S,startIndex:13,keyTagData:g.slice(12),onChange:v})]}):Object(y.jsx)(N,{showResult:S,keyTagData:g,onChange:v})})})]})},V=n(106),U=n(5077),G=n.n(U),Q=n(25),q=function(){var e=Object(j.default)(),t=function(){var e=Object(B.default)(),t=e.screenHeight,n=e.screenWidth,a=Object(j.default)(),o=Object(r.useMemo)((function(){return a?n-48>352?352:n-48:352}),[a,n]),i=Object(r.useMemo)((function(){return 3.125*o}),[o,3.125]),c=Object(r.useMemo)((function(){return a?t-64-109-220-i:t-64-112-80-i>0?0:t-64-112-80-i}),[a,t,i]);return{imageHeight:i,imageWidth:o,marginT:c}}(),n=t.imageHeight,a=t.imageWidth,i=t.marginT,c=Object(m.default)(),s=Object(Q.useNavigation)(),d=Object(r.useMemo)((function(){var e={};return e.image=Object(y.jsx)(l.default,{flexDirection:"column",alignItems:"center",children:Object(y.jsx)(V.default,{w:a,h:n,marginTop:i,resizeMode:"contain",source:G.a})}),e.detail=Object(y.jsxs)(l.default,{children:[Object(y.jsx)(u.default.DisplayLarge,{fontSize:"24px",fontWeight:700,numberOfLines:2,children:c.formatMessage({id:"title__lets_play_the_dot_punching_game"})}),Object(y.jsx)(u.default.Body1,{mt:2,children:c.formatMessage({id:"title__lets_play_the_dot_punching_game_desc"})}),Object(y.jsx)(o.default,{type:"primary",size:"xl",onPress:function(){s.navigate(x.KeyTagRoutes.KeyTagBackUpWallet)},mt:6,children:c.formatMessage({id:"action__get_started"})})]}),e}),[n,a,c,i,s]);return Object(y.jsx)(h.default,{backButton:!0,children:Object(y.jsx)(l.default,{flexDirection:e?"column-reverse":"row",children:e?Object(y.jsxs)(y.Fragment,{children:[d.detail,d.image]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.default,{flex:1,children:d.detail}),Object(y.jsx)(l.default,{flex:1,px:15,children:d.image})]})})})},J=n(4262),X=n(100),Y=n(471),Z=n(302),$=n(609),ee=n(473),te=n(928),ne=function(){var e=Object(j.default)(),t=Object(m.default)(),n=Object(Q.useNavigation)(),a=Object($.useWalletSelectorSectionData)(),i=Object(r.useMemo)((function(){var e=[];if(a.length){var t=a.find((function(e){return"hd"===e.type}));if(t)e=t.data.filter((function(e){return!e.isSingleton})).map((function(e){return e.wallet})).filter((function(e){return e})).map((function(e){return e}))}return e}),[a]),c=Object(r.useCallback)((function(t){n.navigate(x.KeyTagRoutes.KeyTagVerifyPassword,{wallet:t,walletId:t.id,navigateMode:e&&!1})}),[e,n]),s=Object(r.useMemo)((function(){return Object(y.jsx)(u.default.Body1Strong,{ml:4,color:"text-subdued",children:t.formatMessage({id:"form__you_have_no_wallet_yet"})})}),[t]),b=Object(r.useCallback)((function(e){var t=e.item,n=t.name||"unknown";return Object(y.jsx)(l.default,{py:2,children:Object(y.jsx)(te.ListItemBase,{onPress:function(){c(t)},leftView:Object(y.jsx)(ee.WalletAvatarPro,{circular:!0,size:"lg",wallet:t,devicesStatus:void 0}),rightView:Object(y.jsx)(f.default,{name:"ChevronRightMini"}),text:n})})}),[c]);return Object(y.jsxs)(h.default,{title:t.formatMessage({id:"title__choose_a_wallet_to_back_up"}),subTitle:t.formatMessage({id:"title__choose_a_wallet_to_back_up_desc"}),fullHeight:!0,secondaryContent:Object(y.jsxs)(l.default,{children:[e?null:Object(y.jsx)(d.default,{mb:6,size:12,bgColor:"decorative-surface-one",borderRadius:"9999px",children:Object(y.jsx)(f.default,{size:24,color:"decorative-icon-one",name:"TableCellsOutline"})}),Object(y.jsx)(u.default.Body2,{children:t.formatMessage({id:"content__you_can_also_find_the_bip39_dotmap_in_the_following_site"})}),Object(y.jsx)(o.default,{mt:3,type:"plain",ml:"-16px",justifyContent:"flex-start",textProps:{textDecorationLine:"underline"},onPress:function(){Object(Z.openUrlExternal)(z.Bip39DotmapUrl)},children:z.Bip39DotmapUrl})]}),children:[Object(y.jsx)(Y.default,{ml:-4,data:i,renderItem:b,ListEmptyComponent:s}),Object(y.jsxs)(l.default,{mt:4,children:[Object(y.jsx)(X.default,{}),Object(y.jsx)(l.default,{ml:-4,mt:4,children:Object(y.jsx)(te.ListItemBase,{onPress:function(){n.navigate(x.KeyTagRoutes.EnterPhrase)},text:t.formatMessage({id:"form__enter_recovery_phrase"}),leftView:Object(y.jsx)(d.default,{size:12,bgColor:"surface-default",borderRadius:"9999px",children:Object(y.jsx)(f.default,{size:24,color:"decorative-icon-one",name:"PencilOutline"})}),rightView:Object(y.jsx)(f.default,{name:"ChevronRightMini"})})})]})]})},re=n(4263),ae=n(64),oe=n(1584),ie=n(29),ce=n(5078),se=n.n(ce),le=n(5079),ue=n.n(le),de=n(5080),fe=n.n(de),be=n(5081),je=n.n(be),pe=function(){var e=Object(Q.useNavigation)(),t=Object(oe.default)().isDark,n=Object(m.default)(),a=Object(j.default)(),o=function(){var e=Object(B.default)().screenWidth,t=Object(j.default)(),n=Object(r.useMemo)((function(){return t?e-48:((e>800?800:e)-(e>800?24:72))/2}),[t,e]),a=n>342?342:n;return{imageHeight:a*(240/342),imageBoxWidth:n,imageWidth:a,imageBoxHeight:n*(241/342)>241?242:n*(241/342)}}(),i=o.imageWidth,c=o.imageHeight,s=o.imageBoxWidth,d=o.imageBoxHeight;return Object(y.jsxs)(h.default,{backButton:!0,title:n.formatMessage({id:"title__get_started_with_keytag"}),children:[Object(y.jsxs)(l.default,{flex:"1",flexDirection:a?"column":"row",children:[Object(y.jsxs)(ae.default,{w:s,h:d,bgColor:t?"#040407":"#ECEDEE",borderColor:"border-subdued",borderWidth:ie.default.hairlineWidth,borderRadius:"12px",onPress:function(){e.navigate(x.KeyTagRoutes.IntroduceKeyTag)},children:[Object(y.jsx)(l.default,{position:"absolute",top:"0",right:"0",bottom:"1",children:Object(y.jsx)(V.default,{source:t?se.a:ue.a,borderRadius:"12px",w:i,h:c})}),Object(y.jsx)(l.default,{m:7,children:Object(y.jsx)(u.default.DisplayXLarge,{children:n.formatMessage({id:"action__back_up_wallet"})})})]}),Object(y.jsxs)(ae.default,{mt:a?6:0,ml:a?0:6,bgColor:t?"#040407":"#ECEDEE",w:s,h:d,borderColor:"border-subdued",borderWidth:ie.default.hairlineWidth,borderRadius:"12px",onPress:function(){e.navigate(x.KeyTagRoutes.ImportKeytag)},children:[Object(y.jsx)(l.default,{position:"absolute",top:"0",right:"0",bottom:"1",children:Object(y.jsx)(V.default,{source:t?fe.a:je.a,borderRadius:"12px",w:i,h:c})}),Object(y.jsx)(l.default,{m:7,children:Object(y.jsx)(u.default.DisplayXLarge,{children:n.formatMessage({id:"action__import_wallet"})})})]})]}),Object(y.jsx)(l.default,{mt:8,flexDirection:"row",justifyContent:"center",children:Object(y.jsxs)(ae.default,{flexDirection:"row",justifyContent:"center",alignItems:"center",onPress:function(){Object(Z.openUrlExternal)(z.keyTagShoppingUrl)},children:[Object(y.jsx)(f.default,{name:"ShoppingBagOutline"}),Object(y.jsx)(u.default.Body1Strong,{mx:2,children:n.formatMessage({id:"action__learn_more_n_purchase"})}),Object(y.jsx)(f.default,{name:"ChevronRightMini"})]})})]})},me=n(4264),Oe=[{name:x.KeyTagRoutes.StartedKeytag,component:pe},{name:x.KeyTagRoutes.ImportKeytag,component:K},{name:x.KeyTagRoutes.ShowDotMap,component:re.default},{name:x.KeyTagRoutes.IntroduceKeyTag,component:q},{name:x.KeyTagRoutes.KeyTagBackUpWallet,component:ne},{name:x.KeyTagRoutes.EnterPhrase,component:v},{name:x.KeyTagRoutes.KeyTagVerifyPassword,component:me.default},{name:x.KeyTagRoutes.KeyTagAttention,component:J.default}],ge=Object(a.default)();var he=n(2404),xe=n(76),ye=n(142),ve=n(236),_e=n(20),we=(n(5083),n(5084)),Ce=n.n(we),De=n(5085),Me=n.n(De),Pe=n(1079),ke=n(111),Se=n(16),Ae=n(1599),Ee=n(3933),Re=n(5086),Te=n.n(Re),Be=n(5087),Ie=n.n(Be),We=n(1158),Ne=n(226),He=n(46),ze=n(1086);var Fe=Object(r.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableOnboardingDone,n=e.onSuccess,a=Object(ze.useAddExternalAccount)(),o=a.addExternalAccount,i=Object(Ne.useOnboardingDone)(),c=Object(m.default)(),u=Object(ke.default)(),f=Object(r.useMemo)((function(){return[{logo:Ie.a,label:"Trezor",available:!1},{logo:Te.a,label:"Ledger",available:!1}]}),[]);return Object(y.jsxs)(d.default,{flex:1,children:[Object(y.jsx)(Ee.default,{from:"sm",children:Object(y.jsx)(l.default,{testID:"ConnectWallet-SecondaryContent-Divider",w:"full",h:"1px",bgColor:"divider",mt:-4,mb:1})}),Object(y.jsxs)(l.default,{flexDir:{sm:"row"},flexWrap:{sm:"wrap"},alignSelf:"stretch",mx:-2,children:[Object(y.jsx)(We.ConnectWalletListView,{onConnectResult:function(){var e=s()((function*(e){yield o(e),t?null==u||null==u.goBack||u.goBack():(yield i(),yield Object(He.wait)(600),C.default.show({title:c.formatMessage({id:"msg__account_imported"})})),n&&n()}));return function(t){return e.apply(this,arguments)}}()}),f.map((function(e){return Object(y.jsx)(We.ConnectWalletListItem,{label:e.label,available:e.available,logoSource:e.logo,onPress:function(){}},e.label)}))]})]})}));function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(){var e,t=Object(m.default)(),n=Object(ke.default)(),a=Object(Ae.useOnboardingContext)(),o=null==a?void 0:a.forceVisibleUnfocused,i=Object(r.useCallback)((function(){null==o||o(),n.navigate(Se.RootRoutes.Modal,{screen:Se.ModalRoutes.CreateWallet,params:{screen:Se.CreateWalletModalRoutes.ConnectHardwareModal,params:{}}})}),[o,n]),c=Object(Q.useActiveWalletAccount)().network,s=!(null!=c&&null!=(e=c.settings)&&e.hardwareAccountEnabled);return Object(y.jsxs)(ae.default,{h:{base:200,sm:240},pt:4,pb:5,px:5,rounded:"xl",bgColor:"surface-default",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},borderWidth:1,borderColor:"border-subdued",onPress:function(){s||i()},children:[Object(y.jsxs)(_e.default,{typography:"Heading",maxW:{base:160,sm:"auto"},children:[t.formatMessage({id:"action__connect"})," OneKey","\n",t.formatMessage({id:"wallet__hardware_wallet"})]}),Object(y.jsx)(l.default,{flex:1}),Object(y.jsx)(l.default,{alignSelf:"flex-start",children:s?Object(y.jsx)(ve.default,{title:t.formatMessage({id:"badge__coming_soon"}),size:"sm",type:"default"}):Object(y.jsx)(f.default,{name:"ArrowRightOutline"})}),Object(y.jsx)(V.default,{position:"absolute",bottom:0,right:{base:-16,sm:-24},source:Ce.a,height:{base:200,sm:235},width:{base:243,sm:285}})]})}function Ue(){var e=Object(ke.default)(),t=Object(Ae.useOnboardingContext)(),n=null==t?void 0:t.forceVisibleUnfocused,a=Object(r.useCallback)((function(){null==n||n(),e.navigate(Se.RootRoutes.Modal,{screen:Se.ModalRoutes.CreateWallet,params:{screen:Se.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal}})}),[e,n]);return Object(y.jsx)(l.default,{mt:{base:6,sm:4},mx:{base:-2,sm:0},children:Object(y.jsxs)(ae.default,{flexDir:"row",alignItems:"center",px:{base:2,sm:4},py:3,rounded:"xl",borderWidth:{sm:1},borderColor:"border-subdued",bgColor:{sm:"surface-default"},_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){return a()},children:[Object(y.jsx)(V.default,{source:Me.a,size:8}),Object(y.jsx)(_e.default,{flex:1,mx:3,typography:{sm:"Body1Strong",md:"Body2Strong"},children:"OneKey Lite"}),Object(y.jsx)(f.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})}var Ge=Object(r.memo)((function(){var e,t=Object(m.default)(),n=Object(ye.default)("background-default"),r=Object(Q.useAppSelector)((function(e){return e.runtime.onBoardingLoadingBehindModal})),a=Object(p.useRoute)(),o=null==a||null==(e=a.params)?void 0:e.disableAnimation;return Object(y.jsx)(y.Fragment,{children:r?Object(y.jsx)(d.default,{bgColor:n,flex:1,height:"full",children:Object(y.jsx)(xe.default,{size:"lg"})}):Object(y.jsxs)(h.default,{disableAnimation:o,title:t.formatMessage({id:"title__connect_with"}),secondaryContent:Object(y.jsx)(Fe,Ke({},null==a?void 0:a.params)),children:[Object(y.jsx)(Ve,{}),Pe.default?Object(y.jsx)(Ue,{}):null]})})})),Qe=n(23),qe=n(80),Je=n(19),Xe=n(104);var Ye=n(86),Ze=n(274),$e=n(1614),et=[{text:"content__creating_your_wallet"},{text:"content__generating_your_accounts"},{text:"content__encrypting_your_data"}],tt="onboardingWalletCreated",nt="onboardingPressFinishButton",rt=n(195),at=n.n(rt),ot=n(569),it=n(4156),ct=n(1587),st=n(689),lt=n(1600),ut=function(e){var t=e.visible,n=Object(m.default)();return Object(y.jsxs)(ct.default,{as:l.default,position:"absolute",top:4,right:4,w:280,initial:{opacity:0,translateY:-16,scale:.95},animate:{translateY:0,opacity:1,scale:1,transition:{duration:300,delay:150}},visible:t,children:[Object(y.jsxs)(l.default,{p:4,bgColor:"surface-default",rounded:"xl",borderWidth:1,borderColor:"divider",children:[Object(y.jsx)(_e.default,{typography:"Body2Strong",children:n.formatMessage({id:"content__pin_onekey_ext"})}),Object(y.jsxs)(l.default,{flexDir:"row",my:2,children:[Object(y.jsx)(lt.LinearGradient,{colors:["transparent",Object(ye.default)("surface-neutral-subdued")],style:{height:32,flex:1,borderRadius:16},start:{x:0,y:0},end:{x:1,y:0}}),Object(y.jsx)(l.default,{ml:4,mr:1,p:2,rounded:"full",bgColor:"surface-neutral-subdued",children:Object(y.jsx)(f.default,{name:"ExtensionsMini",color:"icon-default",size:16})}),Object(y.jsx)(l.default,{p:2,rounded:"full",children:Object(y.jsx)(f.default,{name:"EllipsisVerticalMini",size:16})})]}),Object(y.jsxs)(l.default,{flexDir:"row",alignItems:"center",py:3,px:4,borderWidth:1,borderColor:"border-subdued",rounded:"xl",shadow:"depth.4",children:[Object(y.jsx)(f.default,{name:"BrandLogoIllus",size:16}),Object(y.jsx)(_e.default,{flex:1,mx:3,typography:"Body2",children:"OneKey"}),Object(y.jsx)(f.default,{name:"PinMini",size:16})]}),Object(y.jsx)(l.default,{position:"absolute",left:"-112px",bottom:"-69px",children:Object(y.jsx)(f.default,{name:"ArrowTopRightIllus",size:69,color:"interactive-default"})})]}),void 0]})};ut.defaultProps={};function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e){var t=e.onPressFinished,n=e.pausedProcessIndex,a=e.forwardedRef,i=e.minHeight,c=Object(m.default)(),s=Object(r.useRef)(new st.CrossEventEmitter),u=Object(r.useRef)(!1),d=Object(r.useState)(!1),f=A()(d,2),b=f[0],p=f[1],O=(Object(j.default)(),Object(r.useMemo)((function(){var e=et,t=e.reduce((function(e,t,n){return e[n]={typingEnd:!1,done:!1},e}),{});return{processInfoList:e,processDefaultStates:t}}),[])),g=O.processInfoList,h=O.processDefaultStates,x=Object(r.useMemo)((function(){return n<=0?0:n>=g.length-1?g.length-1:n}),[n,g.length]),v=Object(r.useState)(h),_=A()(v,2),w=_[0],C=_[1],D=g.length-1,M=Object(r.useState)(!1),P=A()(M,2),k=P[0],S=P[1],E=Object(r.useMemo)((function(){return w[D]}),[D,w]),T=Object(r.useCallback)((function(){R.default.isRuntimeBrowser&&setTimeout((function(){var e;window.scrollTo(0,999999),null==(e=document.querySelector("#WebOnboardingAutoTypingContainer"))||e.scrollTo(0,999999)}),0)}),[]),B=Object(r.useCallback)((function(){S(!0),T()}),[T]),I=Object(r.useMemo)((function(){var e=!0;return Object.values(w).forEach((function(t){e=e&&t.done})),e}),[w]),W=Object(r.useCallback)((function(e,t){C((function(n){var r;return ft(ft({},n),{},((r={})[e]=ft(ft({},n[e]),t),r))}))}),[]),N=Object(r.useMemo)((function(){return b&&I&&k}),[I,k,b]);Object(r.useEffect)((function(){N&&T()}),[N,T]);var H=Object(r.useRef)({}),z=Object(r.useCallback)((function(e){H.current[e]||(H.current[e]=!0,W(e,{typingEnd:!0}),T(),setTimeout((function(){e!==x||u.current?W(e,{done:!0}):s.current.once("event-wallet-created",(function(){W(e,{done:!0})})),T()}),1e3))}),[x,W,T]),F=Object(r.useMemo)((function(){return g.map((function(e,t){return function(){return z(t)}}))}),[z,g]),L=Object(r.useMemo)((function(){return Object(y.jsx)(ct.default,{as:l.default,mt:"auto",alignSelf:{base:"stretch",sm:"flex-start"},visible:N,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:300,delay:150}},children:Object(y.jsx)(o.default,{onPromise:t,type:"primary",size:"xl",minW:160,children:c.formatMessage({id:"action__lets_go"})})})}),[N,t,c]),K=Object(r.useCallback)((function(){u.current||(u.current=!0,s.current.emit("event-wallet-created"),setTimeout((function(){p(!0),T()}),300))}),[T]);Object(r.useImperativeHandle)(a,(function(){return{handleWalletCreated:K}}));var V=Object(r.useCallback)((function(e){return Object(y.jsx)(it.default.NormalText,{children:e})}),[]),U=Object(r.useCallback)((function(e){return Object(y.jsx)(it.default.Highlight,{children:e})}),[]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(l.default,{minH:null!=i?i:{base:480,sm:320},maxH:"full",flexGrow:{base:1,sm:0},children:[Object(y.jsxs)(l.default,{flex:1,justifyContent:"flex-end",mb:{base:12,sm:0},children:[g.map((function(e,t){var n=w[t-1],r=w[t],a=!1,o=!1;if(n&&(a=!n.done),r&&(o=r.done&&r.typingEnd),!n||n.typingEnd)return Object(y.jsx)(it.default,{onTypingEnd:F[t],isPending:a,isFadeOut:o,children:c.formatMessage({id:e.text},{a:V,b:U})},t)})),E.typingEnd&&!I?Object(y.jsx)(it.default,{}):void 0,E.typingEnd&&I?Object(y.jsx)(ae.default,{onPress:t,children:Object(y.jsx)(it.default,{isPending:!E.done,onTypingEnd:B,children:Object(y.jsxs)(it.default.NormalText,{children:[c.formatMessage({id:"content__your_wallet_is_now_ready"},{b:U})," ","\ud83d\ude80"]})})}):void 0,k?Object(y.jsx)(it.default,{}):void 0]}),Object(y.jsx)(l.default,{mt:16,minH:"50px",children:N?L:void 0})]}),Object(y.jsx)(ot.default,{children:void 0})]})}var jt=Object(r.forwardRef)((function(e,t){var n=Object.assign({},(at()(e),e));return Object(y.jsx)(bt,ft(ft({},n),{},{forwardedRef:t}))}));jt.displayName="ProcessAutoTypingRef";var pt=jt,mt=n(3986),Ot=n(2430);function gt(e){var t=e.src,n=e.routePath,a=e.customReceiveHandler,o=e.onWebViewRef,i=e.isSpinnerLoading,c=e.onContentLoaded,s=Object(Ot.useThemeProviderVariant)(),l=s.themeVariant,u=s.localeVariant,d=Object(r.useMemo)((function(){if(!t)return R.default.isNativeAndroid?{uri:"file:///android_asset/web-embed/index.html"}:R.default.isNativeIOS?{uri:"web-embed/index.html"}:void 0}),[t]);return Object(y.jsx)(mt.default,{src:t||"",onContentLoaded:c,isSpinnerLoading:i,onWebViewRef:o,customReceiveHandler:a,nativeWebviewSource:d,nativeInjectedJavaScriptBeforeContentLoaded:'\n        window.location.hash = "'+(n||"")+'";\n        window.WEB_EMBED_ONEKEY_APP_SETTINGS = {\n          themeVariant: "'+l+'",\n          localeVariant: "'+u+'",\n        };\n      '})}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e){var t=e.onPressFinished,n=e.forwardedRef,a=e.pausedProcessIndex,o=e.onContentLoaded,i=Object(r.useRef)(null),c=Object(r.useCallback)((function(e,n){var r=e.data;"$private"===e.scope&&(null==r?void 0:r.method)===nt&&t()}),[t]),s=Object(r.useCallback)((function(e){i.current=e}),[]),l=Object(r.useCallback)((function(){var e,t;null==(e=i.current)||null==(t=e.jsBridge)||t.request({data:{method:tt},scope:"$private"})}),[]);Object(r.useImperativeHandle)(n,(function(){return{handleWalletCreated:l}}));var u="/onboarding/auto_typing?pausedProcessIndex="+(null!=a?a:1);return Object(y.jsx)(gt,{isSpinnerLoading:!0,onContentLoaded:o,onWebViewRef:s,customReceiveHandler:c,routePath:u,src:void 0})}var vt=Object(r.forwardRef)((function(e,t){var n=Object.assign({},(at()(e),e));return Object(y.jsx)(yt,xt(xt({},n),{},{forwardedRef:t}))}));vt.displayName="ProcessAutoTypingWebViewRef";var _t=Object(r.memo)((function(e){var t=e.routeParams,n=e.handleWalletCreated,a=e.shouldStartCreating,o=e.onPressOnboardingFinished,i=e.setIsNavBackDisabled,c=Object(m.default)(),l=Object(ke.default)(),u=Object($e.useOnboardingClose)().onboardingGoBack,d=t.password,f=t.mnemonic,b=t.withEnableAuthentication,j=t.isHardwareCreating,p=t.entry,g=Object(Ae.useOnboardingContext)(),h=null==g?void 0:g.forceVisibleUnfocused,x=Object(r.useCallback)(s()((function*(){try{var e,t=null==j?void 0:j.device,n=null==j?void 0:j.features;return!(!t||!n)&&(yield O.default.serviceAccount.createHWWallet({features:n,connectId:null!=(e=t.connectId)?e:""}),null==h||h(),!0)}catch(u){Je.default.common.error(u),null!=l.canGoBack&&l.canGoBack()&&"walletSelector"===p&&(Je.default.common.info("go back when entry is wallet selector"),setTimeout((function(){return l.goBack()}),300));var r=u||{},a=r.className,i=r.message,s=r.data;a===Qe.OneKeyErrorClassNames.OneKeyAlreadyExistWalletError?(setTimeout((function(){var e=(s||{}).walletName;e&&C.default.show({title:c.formatMessage({id:"msg__wallet_already_exist_activated_automatically"},{0:e})},{type:"default"})}),1100),null==o||o()):a===Qe.OneKeyErrorClassNames.OneKeyHardwareError?qe.deviceUtils.showErrorToast(u):C.default.show({title:i},{type:"default"})}return!1})),[null==j?void 0:j.device,null==j?void 0:j.features,h,o,c,l,p]),y=Object(r.useCallback)(s()((function*(){if(!d||!f)return!1;try{yield Object(He.wait)(300);var e=performance.now();Je.default.onBoarding.info("startCreatingHDWallet"),Xe.default.clear(Xe.ETimelinePerfNames.createHDWallet),Xe.default.mark({name:Xe.ETimelinePerfNames.createHDWallet,title:"onboarding.createHDWallet >> start ==========================="}),yield O.default.serviceAccount.createHDWallet({password:d,mnemonic:f,dispatchActionDelay:300,postCreatedDelay:600}),Xe.default.mark({name:Xe.ETimelinePerfNames.createHDWallet,title:"onboarding.createHDWallet >> createHDWallet DONE"}),b&&(O.default.dispatch(Object(Ye.setEnableLocalAuthentication)(!0)),Object(Ze.savePassword)(d));var t=performance.now();return Xe.default.mark({name:Xe.ETimelinePerfNames.createHDWallet,title:"onboarding.createHDWallet >> end"}),Je.default.onBoarding.info("startCreatingHDWallet done!",Math.round(t-e)),!0}catch(r){Je.default.common.error(r);var n=r.key;C.default.show({title:c.formatMessage({id:n})},{type:"error"})}return!1})),[c,f,d,b]);return Object(r.useEffect)((function(){s()((function*(){if(a&&h){(j?yield x():yield y())?n():(null==i||i(!1),setTimeout((function(){return u()}),600))}}))()}),[i,h,u,n,y,j,x,a]),null})),wt=Object(r.memo)((function(){var e=Object(Ne.useOnboardingDone)(),t=Object(p.useRoute)().params||{},n=Object(r.useState)(!0),a=A()(n,2),o=a[0],i=a[1];!function(e){var t=e.condition,n=Object(p.useNavigation)(),a=Object(r.useCallback)((function(e,t,r){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.applyToAllParent,i=void 0!==o&&o,c=n;c&&c[e];){var s;if(c[e](t,r),i)c=null==(s=c)||null==s.getParent?void 0:s.getParent();else c=void 0}}),[n]);Object(r.useEffect)((function(){if(R.default.isNativeAndroid){var e=function(e){t&&(null==e||null==e.preventDefault||e.preventDefault())};return a("addListener","beforeRemove",e),function(){a("removeListener","beforeRemove",e)}}}),[t,n,a]),Object(r.useLayoutEffect)((function(){t&&n.setOptions({gestureEnabled:!1,headerLeft:null})}),[n,t])}({condition:o});var c=Object(r.useRef)(null),u=Object(r.useState)(!1),d=A()(u,2),f=d[0],b=d[1];Object(r.useEffect)((function(){var e=setTimeout((function(){return b(!0)}),Object(He.getTimeDurationMs)({minute:1}));return function(){clearTimeout(e)}}),[]);var j=Object(r.useState)(!0),m=A()(j,2),O=m[0],g=(m[1],null!=t&&t.isHardwareCreating,1),x=Object(r.useRef)(),v=Object(r.useCallback)((function(){Je.default.onBoarding.info("Wallet Created Success !!!!"),c.current&&c.current.handleWalletCreated(),clearInterval(x.current),x.current=setInterval((function(){Je.default.onBoarding.info("handleWalletCreated interval recheck"),c&&c.current&&c.current.handleWalletCreated&&c.current.handleWalletCreated()}),3e3)}),[]);Object(r.useEffect)((function(){var e=setTimeout((function(){clearInterval(x.current)}),18e4);return function(){clearInterval(x.current),clearTimeout(e)}}),[]);var _=Object(r.useCallback)(s()((function*(){i(!1),yield e({delay:600})})),[e]),w=(Object(r.useMemo)((function(){return null}),[!1,_,g]),Object(r.useMemo)((function(){return Object(y.jsx)(pt,{ref:c,onPressFinished:_,pausedProcessIndex:g})}),[!1,_,g]));return Object(y.jsxs)(h.default,{backButton:!1,showCloseButton:f,fullHeight:!0,children:[Object(y.jsx)(_t,{routeParams:t,handleWalletCreated:v,shouldStartCreating:O,onPressOnboardingFinished:_,setIsNavBackDisabled:i}),Object(y.jsx)(l.default,{flex:1,h:"full",w:"full",minH:{base:480,sm:320},justifyContent:"flex-end",children:w})]})})),Ct=n(1637),Dt=n(15),Mt=n.n(Dt),Pt=["onPressSavedPhrase","mnemonic"];function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var At=function(e){var t=e.onPressSavedPhrase,n=e.mnemonic,a=Mt()(e,Pt),i=Object(m.default)(),c=Object(j.default)(),u=Object(r.useCallback)(s()((function*(){null==t||t(),yield Object(He.wait)(3e3)})),[t]);return Object(y.jsxs)(l.default,St(St({alignSelf:"stretch",flex:1},a),{},{children:[Object(y.jsxs)(_e.default,{typography:"Body2",color:"text-subdued",textAlign:"center",mb:4,children:["\u2193 ",i.formatMessage({id:"content__click_below_to_copy"})," \u2193"]}),Object(y.jsx)(l.default,{flex:1,mb:8,children:Object(y.jsx)(Ct.default,{mnemonic:n})}),Object(y.jsx)(_e.default,{typography:"Body2",color:"text-subdued",textAlign:"center",mb:4,children:i.formatMessage({id:"content__save_phrase_securely"})}),Object(y.jsx)(o.default,{type:"primary",size:c?"xl":"base",onPromise:u,children:i.formatMessage({id:"action__i_have_saved_the_phrase"})})]}))},Et=function(e){var t=e.onPressShowPhraseButton,n=e.onPressSavedPhrase,a=e.mnemonic,i=Object(m.default)(),c=Object(j.default)(),s=Object(r.useState)(!1),l=A()(s,2),u=l[0],f=l[1];return Object(y.jsx)(d.default,{flex:{sm:1},mt:"auto",children:u?Object(y.jsx)(Ee.default,{from:"base",till:"sm",children:Object(y.jsx)(ct.default,{visible:u,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:150}},style:{flex:1,alignSelf:"stretch"},children:Object(y.jsx)(At,{mnemonic:a,onPressSavedPhrase:n})})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Ee.default,{from:"base",till:"sm",children:Object(y.jsx)(_e.default,{typography:"Body2",mb:4,textAlign:"center",children:i.formatMessage({id:"content__read_information_on_the_left"})})}),Object(y.jsx)(o.default,{type:"primary",size:c?"xl":"base",alignSelf:c?"stretch":"auto",onPress:c?t:function(){f(!0)},children:i.formatMessage({id:"action__show_recovery_phrase"})})]})})};Et.defaultProps={};var Rt=Et,Tt=function(e){return"critical"===e?{bgColor:"surface-critical-default",iconColor:"icon-critical"}:"warning"===e?{bgColor:"surface-warning-default",iconColor:"icon-warning"}:{bgColor:"decorative-surface-one",iconColor:"decorative-icon-one"}},Bt=function(){var e=Object(m.default)(),t=Object(p.useNavigation)(),n=Object(p.useRoute)(),a=n.params.mnemonic,o=Object(r.useCallback)((function(){t.replace(T.EOnboardingRoutes.ShowRecoveryPhrase,n.params)}),[t,n.params]),i=Object(r.useCallback)((function(){t.replace(T.EOnboardingRoutes.BehindTheScene,n.params)}),[t,n.params]),c=Object(r.useMemo)((function(){return[{type:"decorative",icon:"LockClosedOutline",para:e.formatMessage({id:"modal__attention_unlock"})},{type:"decorative",icon:"DotsCircleHorizontalOutline",para:e.formatMessage({id:"content__recovery_phrase_restore"})},{type:"warning",icon:"ShieldCheckOutline",para:e.formatMessage({id:"backup__manual_backup_warning_never_ask"})},{type:"critical",icon:"EyeSlashOutline",para:e.formatMessage({id:"modal__attention_shh"})}]}),[e]);return Object(y.jsx)(h.default,{title:e.formatMessage({id:"title__recovery_phrase"}),description:e.formatMessage({id:"title__recovery_phrase_desc"}),secondaryContent:Object(y.jsx)(Rt,{mnemonic:a,onPressShowPhraseButton:o,onPressSavedPhrase:i}),fullHeight:!0,children:Object(y.jsx)(l.default,{my:-3,mt:{base:4,sm:0},children:c.map((function(e,t){var n,r;return Object(y.jsxs)(l.default,{flexDir:"row",alignItems:"center",py:3,children:[Object(y.jsx)(l.default,{p:2.5,mr:4,rounded:"full",bgColor:null==(n=Tt(e.type))?void 0:n.bgColor,alignSelf:"flex-start",children:Object(y.jsx)(f.default,{name:e.icon,color:null==(r=Tt(e.type))?void 0:r.iconColor,size:20})}),Object(y.jsx)(_e.default,{flex:1,typography:"Body2",children:e.para})]},t)}))})})},It=n(109),Wt=n(214),Nt=n(45),Ht=n(99),zt=function(){var e=Object(m.default)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Ee.default,{from:"base",till:"sm",children:Object(y.jsx)(l.default,{p:3,rounded:"full",bgColor:"decorative-surface-one",alignSelf:"flex-start",children:Object(y.jsx)(f.default,{name:"LockClosedOutline",color:"decorative-icon-one"})})}),Object(y.jsx)(_e.default,{typography:"Body2",mt:{base:16,sm:8},children:e.formatMessage({id:"content__password_usage"})}),Object(y.jsx)(_e.default,{typography:"Body2",mt:4,children:e.formatMessage({id:"content__password_security"})})]})};zt.defaultProps={};var Ft=zt;function Lt(e){var t=e.onNext,n=e.onClose,r=Object(m.default)(),a=Object(ke.default)();return Object(y.jsx)(It.default,{visible:!0,contentProps:{iconType:"info",title:r.formatMessage({id:"modal__youre_importing_a_hot_wallet"}),content:r.formatMessage({id:"modal__youre_importing_a_hot_wallet_desc"})},footerButtonProps:{secondaryActionProps:{size:"xl"},primaryActionProps:{size:"xl",type:"primary",children:r.formatMessage({id:"action__confirm"})},onPrimaryActionPress:function(){null==n||n(),null==t||t()},onSecondaryActionPress:function(){null==n||n(),a.goBack()}}})}var Kt=Object(r.memo)((function(e){var t=e.password,n=e.withEnableAuthentication,a=e.importedMnemonic,o=Object(p.useNavigation)();return Object(r.useEffect)((function(){function e(){return(e=s()((function*(){var e=yield O.default.engine.generateMnemonic();yield Object(He.wait)(600),o.replace(T.EOnboardingRoutes.RecoveryPhrase,{password:t,mnemonic:e,withEnableAuthentication:n})}))).apply(this,arguments)}return function(){if(a)return function(e){var r=setTimeout((function(){Object(Ht.showDialog)(Object(y.jsx)(Lt,{onNext:function(){o.replace(T.EOnboardingRoutes.BehindTheScene,{password:t,mnemonic:e,withEnableAuthentication:n})}}))}),600);return function(){return clearTimeout(r)}}(a);!function(){e.apply(this,arguments)}()}()}),[]),Object(y.jsx)(d.default,{h:"full",w:"full",children:Object(y.jsx)(xe.default,{size:"lg"})})})),Vt=function(){var e,t,n=Object(m.default)(),a=Object(Nt.useData)().isPasswordSet,o=Object(p.useRoute)(),i=null==(e=o.params)?void 0:e.mnemonic,c=null==o||null==(t=o.params)?void 0:t.disableAnimation,s=Object(r.useMemo)((function(){return a?n.formatMessage({id:"Verify_Password"}):n.formatMessage({id:"title__set_password"})}),[n,a]),l=Object(r.useMemo)((function(){return a?n.formatMessage({id:"Verify_password_to_continue"}):void 0}),[n,a]);return Object(y.jsx)(h.default,{fullHeight:!0,disableAnimation:c,title:s,subTitle:l,secondaryContent:Object(y.jsx)(Ft,{}),children:Object(y.jsx)(Wt.default,{isAutoHeight:!0,hideTitle:!0,walletId:null,skipSavePassword:!0,field:Wt.ValidationFields.Wallet,children:function(e,t){var n=t.withEnableAuthentication;return Object(y.jsx)(Kt,{password:e,withEnableAuthentication:n,importedMnemonic:i})}})})},Ut=function(){var e=Object(m.default)(),t=Object(p.useNavigation)(),n=Object(p.useRoute)(),a=n.params.mnemonic,o=Object(r.useCallback)((function(){t.replace(T.EOnboardingRoutes.BehindTheScene,n.params)}),[t,n.params]);return Object(y.jsx)(h.default,{title:e.formatMessage({id:"content__click_below_to_copy"}),description:e.formatMessage({id:"modal__for_your_eyes_only_desc"}),fullHeight:!0,secondaryContent:Object(y.jsx)(At,{mnemonic:a,onPressSavedPhrase:o})})},Gt=n(1617),Qt=n(493),qt=n(393),Jt=n(4265),Xt=function(e){var t=e.children;return Object(y.jsx)(l.default,{p:"8px",w:{base:"100%",sm:"1/3"},children:t})},Yt=function(){var e,t=Object(m.default)(),n=Object(p.useNavigation)(),a=Object(ke.default)(),o=Object(p.useRoute)(),i=Object(Ae.useOnboardingContext)(),c=null==i?void 0:i.forceVisibleUnfocused,u=Object(r.useState)(!1),d=A()(u,2),f=d[0],b=d[1],j=O.default.serviceCloudBackup,g=null==o||null==(e=o.params)?void 0:e.disableAnimation,v=Object(r.useState)(!1),_=A()(v,2),w=_[0],D=_[1],M=function(){var e=s()((function*(){return(yield j.getBackupStatus()).hasPreviousBackups}));return function(){return e.apply(this,arguments)}}(),P=Object(Gt.default)("getBackupStatus",M,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!f},onSuccess:function(e){D(e)}}),k=P.mutate,S=P.isValidating;Object(r.useEffect)((function(){f||j.loginIfNeeded(!1).then((function(e){b(e),e&&k()}))}),[f,k,j]);var E=Object(r.useCallback)((function(e){n.navigate(T.EOnboardingRoutes.RecoveryWallet,{mode:e,disableAnimation:g})}),[g,n]),B=Object(r.useCallback)((function(){n.navigate(T.EOnboardingRoutes.Migration,{disableAnimation:!1})}),[n]),I=Object(r.useCallback)((function(){null==c||c(),a.navigate(Se.RootRoutes.Modal,{screen:Se.ModalRoutes.CreateWallet,params:{screen:Se.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal}})}),[a,c]),W=Object(r.useCallback)((function(){n.navigate(T.EOnboardingRoutes.KeyTag,{screen:x.KeyTagRoutes.ImportKeytag})}),[n]),N=Object(r.useCallback)((function(){f?w&&n.navigate(T.EOnboardingRoutes.RestoreFromCloud):j.loginIfNeeded(!0).then((function(e){b(e),e&&(k(),w&&n.navigate(T.EOnboardingRoutes.RestoreFromCloud))})).catch((function(e){"NETWORK"===e.message&&C.default.show({title:t.formatMessage({id:"title__no_connection_desc"})},{type:"error"})}))}),[w,t,f,k,n,j]);return Object(y.jsx)(h.default,{disableAnimation:g,title:t.formatMessage({id:"action__import_wallet"}),description:t.formatMessage({id:"onboarding__import_wallet_desc"}),children:Object(y.jsxs)(l.default,{m:-2,flexDirection:{base:"column",sm:"row"},flexWrap:"wrap",children:[Object(y.jsx)(Xt,{children:Object(y.jsx)(Jt.OptionRecoveryPhrase,{title:t.formatMessage({id:"title__recovery_phrase"}),onPress:function(){E("mnemonic")}})}),Object(y.jsx)(Xt,{children:Object(y.jsx)(Jt.OptionPrivateKey,{icon:"KeyOutline",title:t.formatMessage({id:"form__private_key"}),onPress:function(){E("imported")}})}),(R.default.isNativeIOS||R.default.isNativeAndroidGooglePlay)&&Object(y.jsx)(Xt,{children:Object(y.jsx)(Jt.OptioniCloud,{title:t.formatMessage({id:"action__restore_from_icloud"},{cloudName:Object(Qt.backupPlatform)().cloudName}),onPress:N,isDisabled:!w,isLoading:S})}),qt.MigrationEnable&&Object(y.jsx)(Xt,{children:Object(y.jsx)(Jt.OptionMigration,{title:t.formatMessage({id:"title__migration"}),onPress:B})}),Pe.default&&Object(y.jsx)(Xt,{children:Object(y.jsx)(Jt.OptionOneKeyLite,{title:t.formatMessage({id:"onboarding__import_wallet_with_lite"}),onPress:I})}),Object(y.jsx)(Xt,{children:Object(y.jsx)(Jt.OptionKeyTag,{title:"KeyTag",onPress:W})}),Object(y.jsx)(Xt,{children:Object(y.jsx)(Jt.OptionAdress,{icon:"EyeOutline",title:t.formatMessage({id:"wallet__watched_accounts"}),onPress:function(){E("watching")}})})]})})};Yt.defaultProps={};var Zt=Yt,$t=(n(1072),n(2439)),en=(n(2402),n(1524)),tn=n(1355),nn=n(314),rn=n(82),an=n(299),on=n(5088),cn=n.n(on),sn=n(5089),ln=n.n(sn),un=n(5090),dn=n.n(un),fn=n(5091),bn=n.n(fn),jn=n(5092),pn=n.n(jn),mn=n(4268),On=n.n(mn),gn=n(5093),hn=n.n(gn),xn=n(5094),yn=n.n(xn),vn=n(5095),_n=n.n(vn),wn=n(5096),Cn=n.n(wn),Dn=n(5097),Mn=n.n(Dn),Pn=function(e){var t=e.visible,n=e.onClose,a=e.mode,o=Object(an.default)(),i=Object(j.default)(),c=Object(m.default)(),s=Object(r.useMemo)((function(){return"mnemonic"===a?[{desc:i?c.formatMessage({id:"content__native_metamask_tutorials_1"}):c.formatMessage({id:"content__ext_metamask_tutorials_1"}),image:i?Mn.a:pn.a,imageHeight:i?"51px":"56px"},{desc:c.formatMessage({id:"content__native_metamask_tutorials_2"}),image:i?_n.a:bn.a,imageHeight:i?"107px":"103px"},{desc:c.formatMessage({id:"content__native_metamask_tutorials_3"}),image:i?yn.a:dn.a,imageHeight:i?"99px":"110px"},{desc:c.formatMessage({id:"content__native_metamask_tutorials_4"}),image:i?hn.a:ln.a,imageHeight:i?"59px":"66px"},{desc:c.formatMessage({id:"content__native_metamask_tutorials_5"})}]:[{desc:i?c.formatMessage({id:"content__native_metamask_tutorials_1"}):c.formatMessage({id:"content_click_account_details"}),image:i?Mn.a:cn.a,imageHeight:i?"51px":"233px"},{desc:i?c.formatMessage({id:"content__native_metamask_tutorials_2"}):c.formatMessage({id:"content__click_on_show_private_key"}),image:i?_n.a:Cn.a,imageHeight:i?"107px":"66px"},{desc:i?c.formatMessage({id:"content__native_metamask_tutorials_3"}):c.formatMessage({id:"content__copy_and_private_key"}),image:i?yn.a:"",imageHeight:i?"99px":"110px"},{desc:i?c.formatMessage({id:"content__click_on_show_private_key"}):"",image:i?Cn.a:"",imageHeight:"59px"},{desc:i?c.formatMessage({id:"content__copy_and_private_key"}):""}]}),[c,i,a]);return Object(y.jsxs)(ct.default,{as:tn.default,position:"absolute",top:0,right:0,bottom:0,left:0,visible:t,initial:{opacity:0},animate:{opacity:1,transition:{duration:150}},children:[i?null:Object(y.jsx)(ae.default,{top:0,right:0,bottom:0,left:0,bgColor:"backdrop",opacity:.75,onPress:n}),Object(y.jsxs)(ct.default,{visible:t,as:l.default,top:0,right:0,bottom:0,w:"full",maxW:"400px",pt:16+o.top+"px",bgColor:"background-default",pointerEvents:"auto",initial:{opacity:0,translateX:400},animate:{opacity:1,translateX:0,transition:{duration:150}},children:[Object(y.jsx)(rn.default,{type:"plain",circle:!0,size:"lg",name:"XMarkOutline",alignSelf:"flex-end",onPress:n,mr:4}),Object(y.jsxs)(nn.default,{flex:1,px:{base:6,sm:12},children:[Object(y.jsx)(V.default,{source:On.a,size:8,rounded:"xl",borderWidth:ie.default.hairlineWidth,borderColor:"border-subdued"}),Object(y.jsx)(_e.default,{mt:4,mb:8,typography:"DisplayLarge",children:c.formatMessage({id:"content__import_wallet_from_str"},{0:"MetaMask"})}),s.map((function(e,t){return Object(y.jsxs)(l.default,{mb:8,children:[e.desc&&Object(y.jsxs)(_e.default,{typography:"Body2",mb:4,children:[t+1,". ",e.desc]}),e.image&&Object(y.jsx)(V.default,{w:"full",h:e.imageHeight,source:e.image,resizeMode:"cover"})]},t)}))]})]})]})},kn=function(e){var t=e.onPressDrawerTrigger,n=e.mode,a=Object(m.default)(),o=Object(Q.useNavigation)(),i=Object(r.useMemo)((function(){return"mnemonic"===n?[{title:"content__never_import_your_hadware_wallets_recovery_phrase",description:"content__never_import_your_hadware_wallets_recovery_phrase_desc",element:Object(y.jsx)(ae.default,{mx:-2,mt:"8px",onPress:function(){o.navigate(T.EOnboardingRoutes.ConnectHardwareModal)},children:function(e){var t=e.isHovered,n=e.isPressed;return Object(y.jsxs)(l.default,{flexDir:"row",py:{base:"12px",sm:"8px"},px:"8px",bgColor:n?"surface-pressed":t?"surface-hovered":void 0,rounded:"xl",children:[Object(y.jsx)(ee.default,{size:"xs",walletImage:"hw"}),Object(y.jsx)(_e.default,{flex:1,typography:"Body2Strong",ml:"12px",children:a.formatMessage({id:"action__connect_hardware_wallet"})}),Object(y.jsx)(f.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})}})},{title:"content__where_find_phrase"}]:"imported"===n?[{title:"content__what_is_private_key",description:"content__what_is_private_key_desc"},{title:"content__safe_to_enter_into_onekey",description:"content__safe_to_enter_into_onekey_desc"},{title:"content__where_find_private_key"}]:[{title:"content__what_is_watch_only_account",description:"content__what_is_watch_only_account_desc"}]}),[n,a,o]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Ee.default,{from:"base",till:"sm",children:Object(y.jsx)(l.default,{p:3,rounded:"full",bgColor:"decorative-surface-one",alignSelf:"flex-start",children:Object(y.jsx)(f.default,{name:"DotsCircleHorizontalOutline",color:"decorative-icon-one"})})}),Object(y.jsx)(l.default,{mt:{base:16,sm:8},children:i.map((function(e,n){var r;return Object(y.jsxs)(l.default,{mb:n===i.length-1?0:"24px",children:[e.title&&Object(y.jsx)(_e.default,{typography:"Body2Strong",children:a.formatMessage({id:e.title})}),e.description?Object(y.jsx)(_e.default,{typography:"Body2",color:"text-subdued",mt:"8px",children:a.formatMessage({id:e.description})}):Object(y.jsx)(ae.default,{mx:-2,mt:"8px",onPress:t,children:function(e){var t=e.isHovered,n=e.isPressed;return Object(y.jsxs)(l.default,{flexDir:"row",py:{base:"12px",sm:"8px"},px:"8px",bgColor:n?"surface-pressed":t?"surface-hovered":void 0,rounded:"xl",children:[Object(y.jsx)(V.default,{source:On.a,size:5,borderWidth:ie.default.hairlineWidth,borderColor:"border-subdued",rounded:"lg"}),Object(y.jsx)(_e.default,{flex:1,typography:"Body2Strong",ml:"12px",children:"MetaMask"}),Object(y.jsx)(f.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})}}),null!=(r=e.element)?r:null]},n)}))})]})};kn.defaultProps={};var Sn=kn,An=function(){var e=Object(m.default)(),t=Object(ye.default)("background-default"),n=Object(Q.useAppSelector)((function(e){return e.runtime.onBoardingLoadingBehindModal})),a=Object(r.useState)(!1),o=A()(a,2),i=o[0],c=o[1],s=Object(p.useRoute)(),l=Object(r.useCallback)((function(){c(!0)}),[]),u=s.params,f=u.disableAnimation,b=u.mode,j="mnemonic"===b,O=Object(en.useAccessory)(),g=O.valueText,x=(O.accessoryData,O.onChangeText),v=(O.onSelectedKeybordAcessory,Object(r.useMemo)((function(){return"mnemonic"===b?"title__import_recovery_phrase":"imported"===b?"title__import_private_key":"wallet__watched_accounts"}),[b]));return n?Object(y.jsx)(d.default,{bgColor:t,flex:1,height:"full",children:Object(y.jsx)(xe.default,{size:"lg"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.default,{disableAnimation:f,title:e.formatMessage({id:v}),secondaryContent:Object(y.jsx)(Sn,{mode:b,onPressDrawerTrigger:l}),children:Object(y.jsx)($t.OnboardingAddExistingWallet,{inputMode:b,onChangeTextForMnemonic:j?x:void 0,valueTextForMnemonic:j?g:void 0})}),Object(y.jsx)(Pn,{visible:i,onClose:function(){return c(!1)},mode:b}),!1]})};An.defaultProps={};var En,Rn=An,Tn=n(1372);!function(e){e[e.Connecting=0]="Connecting",e[e.Success=1]="Success",e[e.Fail=2]="Fail"}(En||(En={}));var Bn=Object(r.createContext)(null);function In(e){var t=e.children,n=e.inputValue,a=Object(r.useState)((function(){var e=0;return n&&(null==n?void 0:n.length)>0&&(e=1),Object(Tn.httpServerEnable)()||(e=1),{inputValue:n,selectRange:e}})),o=A()(a,2),i=o[0],c=o[1],s=Object(r.useMemo)((function(){return{context:i,setContext:c}}),[i]);return Object(y.jsx)(Bn.Provider,{value:s,children:t})}function Wn(){return Object(r.useContext)(Bn)}var Nn=n(411),Hn=n(368),zn=n(175),Fn=n(818),Ln=n(1065),Kn=n(235),Vn=n(508),Un=n(2762),Gn=n(1154),Qn=n.n(Gn),qn=n(151),Jn=n(1067),Xn=n(4127),Yn=n(846),Zn=n(4269);var $n=n(474),er=n(215),tr=n(649);function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ar=function(e){var t=e.deviceInfo,n=e.confirmPress,a=e.closeOverlay,i=Object(m.default)(),c=Object(qt.parseDeviceInfo)(t),u=Object(qt.parseDeviceInfo)(Object(qt.deviceInfo)()),d=Object(r.useState)(!1),b=A()(d,2),j=b[0],p=b[1],O=Object(r.useCallback)(s()((function*(){(yield null==n?void 0:n(!0))&&a()})),[a,n]),g=Object(r.useCallback)((function(){null==n||n(!1),a()}),[a,n]);return Object(y.jsxs)($n.default,{title:i.formatMessage({id:"modal__send_data_request"}),closeOverlay:g,children:[Object(y.jsxs)(l.default,{bgColor:"surface-default",borderRadius:"12px",borderColor:"border-subdued",borderWidth:1,py:"16px",children:[Object(y.jsx)(_e.default,{typography:"Body2",color:"text-subdued",ml:"16px",children:i.formatMessage({id:"content__to"})}),Object(y.jsxs)(l.default,{paddingX:"16px",flexDirection:"row",mt:"12px",children:[Object(y.jsx)(f.default,{name:c.logo,size:24,color:"icon-subdued"}),Object(y.jsx)(_e.default,{ml:"8px",typography:"Body1Strong",children:c.name})]})]}),Object(y.jsx)(er.default,{w:"full",mt:"24px",isChecked:j,defaultIsChecked:!1,onChange:function(e){p(e)},title:i.formatMessage({id:"modal__send_data_request_checkbox_label"},{to:c.name,from:u.name}),description:i.formatMessage({id:"modal__send_data_request_desc"})}),Object(y.jsxs)(tr.default,{mt:"24px",space:"12px",w:"full",children:[Object(y.jsx)(o.default,{flex:1,size:"xl",type:"basic",onPress:g,children:i.formatMessage({id:"action__reject"})}),Object(y.jsx)(o.default,{flex:1,isDisabled:!j,size:"xl",type:"primary",onPromise:O,children:i.formatMessage({id:"action__confirm"})})]})]})};function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr=Object(r.memo)((function(e){var t=e.qrcode,n=e.refreshQrcode,a=Object(m.default)(),o=O.default.serviceHTTP,i=O.default.serviceMigrate,c=Object(Xn.useExportData)().exportDataRequest,u=Object(p.useNavigation)(),d=Object(r.useRef)(!1),b=Object(r.useCallback)((function(){var e=Object(qt.addressWithoutHttp)(t);Object(Kn.copyToClipboard)(e),C.default.show({title:a.formatMessage({id:"msg__copied"})})}),[a,t]),j=Object(r.useCallback)((function(e){var t,r=e.type,l=e.data;if(r===Un.MigrateNotificationNames.ReceiveDataFromClient){var f=l.postData,b=l.requestId;try{if("string"!==typeof f)throw o.serverRespond({requestId:b,respondData:{success:!1,data:void 0,message:"postData is not string",code:Vn.MigrateErrorCode.DecryptFail}}),new Error("postData is not string");var j=Object(qt.parseCloudData)(JSON.parse(f));if("string"!==typeof(null==j?void 0:j.public)||"string"!==typeof(null==j?void 0:j.private))throw o.serverRespond({requestId:b,respondData:{success:!1,data:void 0,message:"can not found public/private.",code:Vn.MigrateErrorCode.DecryptFail}}),new Error("can not found public/private.");u.navigate(Se.RootRoutes.Onboarding,{screen:T.EOnboardingRoutes.MigrationPreview,params:{data:j}}),o.serverRespond({requestId:b,respondData:{success:!0}})}catch(h){}}else if(r===Un.MigrateNotificationNames.RequestDataFromClient){var p=l.requestId,m=l.url,O=new URL(m,"http://example.com").searchParams.get("deviceInfo");if("string"===typeof O&&!1===d.current){var g=JSON.parse(O);d.current=!0,t={deviceInfo:g,confirmPress:function(){var e=s()((function*(e){if(d.current=!1,e){var t=yield c(),n=t.status,r=t.data;if(n===Xn.ExportResult.SUCCESS&&l){var s=yield i.publicKey("Client"),u=yield i.encryptDataWithPublicKey(s,JSON.stringify(r));return!1===u?(o.serverRespond({requestId:p,respondData:{success:!1,code:Vn.MigrateErrorCode.EncryptFail}}),C.default.show({title:a.formatMessage({id:"form__failed"})},{type:"error"}),!1):(o.serverRespond({requestId:p,respondData:{success:!0,data:u}}),C.default.show({title:"\ud83e\uddd9 "+a.formatMessage({id:"msg__data_sent_to_platform"},{platform:Object(qt.parseDeviceInfo)(g).name})}),!0)}return n===Xn.ExportResult.EMPTY&&C.default.show({title:a.formatMessage({id:"msg__no_data_available"})}),!1}return o.serverRespond({requestId:p,respondData:{success:!1,code:Vn.MigrateErrorCode.RejectData}}),!0}));return function(t){return e.apply(this,arguments)}}()},Object(Ht.showOverlay)((function(e){return Object(y.jsx)(ar,rr(rr({},t),{},{closeOverlay:e}))}))}}else r===Un.MigrateNotificationNames.UpdateQrcode&&n()}),[c,a,u,o,i,n]);return Object(r.useEffect)((function(){return qn.appUIEventBus.on(qn.AppUIEventBusNames.Migrate,j),function(){qn.appUIEventBus.removeAllListeners(qn.AppUIEventBusNames.Migrate)}}),[j]),Object(y.jsxs)(y.Fragment,{children:[t.length>0?Object(y.jsx)(l.default,{borderRadius:"24px",bgColor:"#FFFFFF",padding:"11px",size:"192px",borderWidth:ie.default.hairlineWidth,borderColor:"border-subdued",shadow:"depth.1",children:Object(y.jsx)(Ln.default,{value:""+qt.OneKeyMigrateQRCodePrefix+t,size:170,logo:Qn.a,logoSize:36,logoMargin:5,logoBackgroundColor:"white"})}):Object(y.jsx)(Fn.default,{borderRadius:"12px",width:192,height:192}),t.length>0?Object(y.jsxs)(ae.default,{onPress:b,flexDirection:"row",mt:"16px",alignItems:"center",children:[Object(y.jsx)(f.default,{name:"LinkMini",size:20,color:"icon-subdued"}),Object(y.jsx)(_e.default,{ml:"8px",typography:"Body1Strong",children:t})]}):Object(y.jsx)(zn.default,{shape:"Body1"})]})})),sr=Object(r.memo)((function(){var e,t,n=Object(m.default)(),a=function(){var e=O.default.serviceMigrate;return{connectServer:Object(r.useCallback)(function(){var t=s()((function*(t){var n=yield e.connectServer(t);return!!n&&("string"===typeof n?("ERR_NETWORK"===n&&R.default.isNativeIOS&&Object(Ht.showDialog)(Object(y.jsx)(Yn.default,{type:"localNetwork"})),!1):(Object(Zn.showMigrateDataModal)({serverInfo:n,serverAddress:t}),!0))}));return function(e){return t.apply(this,arguments)}}(),[e])}}().connectServer,i=null==(e=Wn())?void 0:e.context,c=null==(t=Wn())?void 0:t.setContext,l=Object(p.useIsFocused)(),u=Object(r.useMemo)((function(){var e;return 0===(null==i||null==(e=i.inputValue)?void 0:e.replaceAll(" ","").length)}),[null==i?void 0:i.inputValue]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Hn.default,{leftIconName:"LinkSolid",rightCustomElement:Object(y.jsx)(rn.default,{size:"xl",name:"ViewfinderCircleOutline",type:"plain",onPress:function(){Object(Jn.gotoScanQrcode)((function(e){e.startsWith(qt.OneKeyMigrateQRCodePrefix)&&c&&c((function(t){return ir(ir({},t),{},{inputValue:e.replace(qt.OneKeyMigrateQRCodePrefix,"")})}))}))}}),size:"xl",w:"full",type:"text",value:null==i?void 0:i.inputValue,placeholder:"192.168.5.178:2997/1A2B",onChangeText:function(e){c&&c((function(t){return ir(ir({},t),{},{inputValue:e})}))}}),Object(y.jsx)(o.default,{type:"primary",size:"xl",w:"full",isDisabled:u,mt:"16px",onPromise:s()((function*(){i&&(!(yield a(i.inputValue))&&l&&C.default.show({title:n.formatMessage({id:"msg__invalid_link_or_network_error"})},{type:"error"}))})),children:n.formatMessage({id:"action__connect"})})]})})),lr=function(){var e,t,n=Object(m.default)(),a=O.default.serviceHTTP,o=O.default.serviceMigrate,i=null==(e=Wn())?void 0:e.context,c=null==(t=Wn())?void 0:t.setContext,l=Object(r.useState)(""),u=A()(l,2),f=u[0],b=u[1],j=Object(r.useRef)(""),p=Object(r.useCallback)(s()((function*(){var e="";if(j.current.length>0){var t=yield o.generateRandomNum();e=Object(qt.addressWithoutHttp)(j.current)+"/"+t}b(e)})),[o]),g=Object(r.useCallback)(s()((function*(){var e=yield a.startHttpServer(),t=e&&e.length>0;return j.current=t?e:"",t&&(Je.default.migrate.info("startHttpServer",e),yield p()),t})),[p,a]);return Object(r.useEffect)((function(){0===(null==i?void 0:i.selectRange)?g().then((function(e){c&&c((function(t){return ir(ir({},t),{},{serverStatus:e?En.Success:En.Fail})}))})):(o.clearMigrateInfo(),a.stopHttpServer(),b(""))}),[null==i?void 0:i.selectRange,a,o,c,g]),Object(y.jsxs)(y.Fragment,{children:[Object(Tn.httpServerEnable)()?Object(y.jsx)(d.default,{mb:"16px",children:Object(y.jsx)(Nn.default,{enabled:(null==i?void 0:i.serverStatus)===En.Success,selectedIndex:null==i?void 0:i.selectRange,onChange:function(e){c&&c((function(t){return ir(ir({},t),{},{selectRange:e})}))},values:[n.formatMessage({id:"content__qr_code"}),n.formatMessage({id:"content__enter_link"})],style:{width:192}})}):null,Object(y.jsx)(d.default,{flex:1,children:0===(null==i?void 0:i.selectRange)?Object(y.jsx)(cr,{qrcode:f,refreshQrcode:p}):Object(y.jsx)(sr,{})})]})},ur=["step","description"];function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var br=function(e){var t=e.step,n=e.description,r=Mt()(e,ur);return Object(y.jsxs)(l.default,fr(fr({flexDirection:"row"},r),{},{children:[Object(y.jsx)(d.default,{size:"28px",borderRadius:"full",bgColor:"surface-neutral-subdued",mr:"12px",children:Object(y.jsx)(_e.default,{typography:"CaptionStrong",color:"text-subdued",children:t})}),Object(y.jsx)(_e.default,{py:{base:"4px",md:"2px"},typography:{sm:"Body2",md:"Body1"},flex:1,children:n})]}))},jr=function(){var e,t=Object(m.default)(),n=null==(e=Wn())?void 0:e.context,r=[Object(y.jsx)(_e.default,{typography:{sm:"Body2",md:"Body1"},color:0===(null==n?void 0:n.selectRange)&&n.serverStatus===En.Fail?"text-critical":"text-default",children:t.formatMessage({id:"content__migration_step_1"})}),t.formatMessage({id:"content__migration_step_2"}),0===(null==n?void 0:n.selectRange)?t.formatMessage({id:"content__migration_step_3"},{addOn:Object(y.jsx)(_e.default,{typography:{sm:"Body2",md:"Body1"},color:"text-subdued",children:t.formatMessage({id:"content__migration_step_3_add_on"})})}):t.formatMessage({id:"content__migration_step_3_connect_by_link"})];return R.default.isDesktopWin&&r.splice(1,0,t.formatMessage({id:"content__migration_step_2_windows"})),Object(y.jsxs)(l.default,{children:[r.map((function(e,t){return Object(y.jsx)(br,{step:t+1,description:e,mt:0===t?void 0:"16px"},t)})),Object(y.jsx)(_e.default,{typography:"Body2",mt:"24px",color:"text-disabled",children:t.formatMessage({id:"content__migration_note_encrypted"})}),Object(y.jsx)(_e.default,{typography:"Body2",color:"text-disabled",children:t.formatMessage({id:"content__migration_note_hardware_wallet"})})]})},pr=function(){var e=Object(m.default)(),t=Object(p.useRoute)().params,n=t.scanText,a=t.disableAnimation,o=void 0===a||a,i=Object(p.useNavigation)(),c=O.default.serviceHTTP,s=O.default.serviceMigrate;Object(r.useLayoutEffect)((function(){i.setOptions({headerShown:!1})}),[i]);var l=Object(j.default)(),u=Object(r.useMemo)((function(){return l?Object(y.jsx)(lr,{}):Object(y.jsx)(jr,{})}),[l]),d=Object(r.useMemo)((function(){return l?Object(y.jsx)(jr,{}):Object(y.jsx)(lr,{})}),[l]);return Object(r.useEffect)((function(){return s.registerHttpEvents(),function(){c.stopHttpServer(),s.unRegisterHttpEvents()}}),[c,s]),Object(y.jsx)(In,{inputValue:null!=n?n:"",children:Object(y.jsx)(h.default,{disableAnimation:o,title:e.formatMessage({id:"title__migration"}),description:e.formatMessage({id:"title__migration_desc"}),secondaryContent:d,children:u})})};pr.defaultProps={};var mr=pr,Or=n(1085),gr=n(4128),hr=n(4129),xr=n(1073),yr=n(4130),vr=n(4132),_r=function(){var e=Object(m.default)(),t=Object(p.useRoute)().params.data,n=Object(p.useNavigation)(),a=O.default.serviceCloudBackup,i=Object(Nt.useAppSelector)((function(e){return e.settings.version})),c=Object(j.default)(),u=Object(Nt.useData)().isPasswordSet,b=Object(xr.default)().showVerify,g=Object(Ne.useOnboardingDone)(),x=Object($e.useOnboardingClose)().onboardingGoBack,v=Object(hr.default)().requestBackupPassword,_=Object(r.useState)(!1),w=A()(_,2),D=w[0],M=w[1],P=Object(r.useState)({alreadyOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}},notOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{}}}),k=A()(P,2),S=k[0],E=k[1],R=Object(r.useCallback)(s()((function*(){C.default.show({title:e.formatMessage({id:"msg__backup_imported"})}),yield g({delay:200})})),[e,g]),T=Object(r.useCallback)((function(){C.default.show({title:e.formatMessage({id:"msg__import_icloud_backup_failed_version"})},{type:"error"}),n.goBack()}),[e,n]),B=Object(r.useCallback)((function(){return void 0===t.appVersion||(!t.appVersion||!Object(gr.gtIgnore)(t.appVersion,i,"patch"))}),[t.appVersion,i]),I=Object(r.useCallback)(s()((function*(){return new Promise((function(e){if(!1===B())return Object(vr.showUpgrateDialog)(),void e(!1);u?b((function(n){a.restoreFromPrivateBackup({privateBackupData:t.private,notOnDevice:S.notOnDevice,localPassword:n}).then((function(r){r===Or.RestoreResult.SUCCESS?R().then((function(){e(!0)})):r===Or.RestoreResult.WRONG_PASSWORD?v((function(e){return a.restoreFromPrivateBackup({privateBackupData:t.private,notOnDevice:S.notOnDevice,localPassword:n,remotePassword:e})}),s()((function*(){yield R(),e(!0)})),(function(){T(),e(!1)}),(function(){e(!1)})):(T(),e(!1))}))}),(function(){e(!1)})):v((function(e){return a.restoreFromPrivateBackup({privateBackupData:t.private,notOnDevice:S.notOnDevice,localPassword:e,remotePassword:e})}),s()((function*(){yield R(),e(!0)})),(function(){T(),e(!1)}),(function(){e(!1)}))}))})),[S.notOnDevice,B,t.private,u,R,T,v,a,b]);Object(r.useLayoutEffect)((function(){n.setOptions({headerShown:!1})}),[n]),Object(r.useEffect)((function(){a.getBackupDetailsWithRemoteData(JSON.parse(t.public)).then((function(e){E(e),M(Object(yr.checkHasRemoteData)(e.notOnDevice))}))}),[a]);var W=Object(r.useMemo)((function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(l.default,{flex:1,flexDirection:"column",children:Object(y.jsx)(nn.default,{flex:1,mb:"24px",minHeight:"160px",maxHeight:{base:void 0,sm:"320px"},showsVerticalScrollIndicator:!0,children:D?Object(y.jsx)(l.default,{mx:"-48px",my:"-16px",children:Object(y.jsx)(yr.GroupedBackupDetails,{onDevice:!1,publicBackupData:S.notOnDevice,showTitle:!1})}):Object(y.jsx)(_e.default,{typography:"Body1",children:e.formatMessage({id:"empty__migrated_data_already_exists"})})})}),D?Object(y.jsx)(o.default,{type:"primary",size:c?"xl":"lg",onPress:c?I:void 0,onPromise:c?void 0:I,children:e.formatMessage({id:"action__import"})}):Object(y.jsx)(o.default,{size:c?"xl":"lg",onPress:function(){x()},children:e.formatMessage({id:"action__close"})})]})}),[x,S.notOnDevice,D,I,e,c]),N=Object(r.useMemo)((function(){return c?null:Object(y.jsxs)(l.default,{children:[Object(y.jsx)(d.default,{size:"48px",bgColor:"decorative-surface-two",borderRadius:"9999",children:Object(y.jsx)(f.default,{name:"EllipsisHorizontalCircleOutline",size:24,color:"decorative-icon-two"})}),Object(y.jsx)(_e.default,{typography:"Body2",mt:"26px",children:e.formatMessage({id:"content__migration_note_hardware_wallet"})})]})}),[e,c]);return Object(y.jsx)(h.default,{disableAnimation:!0,title:e.formatMessage({id:"action__preview"}),fullHeight:!0,secondaryContent:N,children:W})};_r.defaultProps={};var wr=_r,Cr=function(){return Object(y.jsx)(h.default,{fullHeight:!0,children:Object(y.jsx)(l.default,{mx:-4,flex:1,children:Object(y.jsx)(yr.default,{onboarding:!0})})})},Dr=n(4270),Mr=function(){var e=Object(m.default)();return Object(y.jsx)(h.default,{title:e.formatMessage({id:"content__previous_backups"}),children:Object(y.jsx)(l.default,{mx:-4,children:Object(y.jsx)(Dr.default,{})})})},Pr=function(){var e,t,n=Object(m.default)(),a=Object(ze.useAddExternalAccount)().addExternalAccount,o=Object(Ne.useOnboardingDone)(),i=Object(p.useRoute)(),c=null==(e=i.params)?void 0:e.disableOnboardingDone,u=null==(t=i.params)?void 0:t.onSuccess,f=Object(ke.default)(),b=Object(r.useState)(!1),j=A()(b,2),O=j[0],g=j[1];return Object(y.jsxs)(h.default,{title:n.formatMessage({id:"title__connect_with"}),children:[O&&Object(y.jsx)(d.default,{children:Object(y.jsx)(_e.default,{typography:{sm:"Body1",md:"Body1"},children:n.formatMessage({id:"content__no_other_wallets_installed"})})}),Object(y.jsx)(l.default,{flexDir:"row",flexWrap:"wrap",m:"-4px",minH:"10px",children:Object(y.jsx)(We.ConnectWalletListView,{onConnectResult:function(){var e=s()((function*(e){yield a(e),c?null==f||null==f.goBack||f.goBack():(yield o(),yield Object(He.wait)(600),C.default.show({title:n.formatMessage({id:"msg__account_imported"})})),u&&u()}));return function(t){return e.apply(this,arguments)}}(),walletListsCallback:function(e){g(!!R.default.isNativeIOS&&0===e.length)}})}),Object(y.jsx)(Ee.default,{till:"sm",children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_e.default,{mt:8,mb:3,typography:"Subheading",color:"text-subdued",children:n.formatMessage({id:"content__institutional_wallets"})}),Object(y.jsx)(l.default,{flexDir:"row",flexWrap:"wrap",m:"-4px",children:Object(y.jsx)(We.ConnectWalletListView,{onConnectResult:function(){var e=s()((function*(e){yield a(e),null==f||null==f.goBack||f.goBack()}));return function(t){return e.apply(this,arguments)}}(),isInstitutionWallet:!0})})]})})]})};Pr.displayName="ThirdPartyWallet";var kr=Pr,Sr=n(5098),Ar=n.n(Sr),Er=n(261),Rr=n(5099),Tr=n.n(Rr),Br=n(5100),Ir=n.n(Br),Wr=n(2394),Nr=n.n(Wr),Hr=n(2395);function zr(e){var t=e.onPress,n=Object(m.default)(),a=Object(ze.useAddExternalAccount)().addExternalAccount,o=Object(Ne.useOnboardingDone)(),i=Object(r.useCallback)(function(){var e=s()((function*(e){yield a(e),yield o(),yield Object(He.wait)(600),C.default.show({title:n.formatMessage({id:"msg__account_imported"})})}));return function(t){return e.apply(this,arguments)}}(),[a,n,o]),c=Object(Hr.useConnectExternalWallet)({onConnectResult:i}).connectExternalWallet,u=Object(r.useCallback)(s()((function*(){try{yield c({})}catch(e){Je.default.common.error(e)}})),[c]),d=[On.a,Ir.a,Tr.a,Nr.a];return Object(y.jsxs)(ae.default,{flexDirection:"row",alignSelf:"center",flexWrap:"wrap",justifyContent:"center",alignItems:"center",p:"8px",mt:"24px",borderRadius:"12px",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){R.default.isNativeAndroid?u():t()},children:[Object(y.jsx)(_e.default,{typography:{sm:"Body2Strong",md:"DisplaySmall"},color:"text-default",children:n.formatMessage({id:"action__connect_3rd_party_wallet"})}),Object(y.jsxs)(l.default,{flexDirection:"row",alignItems:"center",mx:1.5,children:[d.map((function(e,t){return Object(y.jsx)(V.default,{source:e,size:4,mx:.5,rounded:"sm",borderWidth:ie.default.hairlineWidth,borderColor:"border-subdued"},t)})),Object(y.jsx)(l.default,{bg:"surface-neutral-default",borderRadius:"6px",mx:.5,children:Object(y.jsx)(f.default,{name:"EllipsisHorizontalMini",size:16,color:"icon-default"})})]}),Object(y.jsx)(f.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})]})}var Fr=["icon","label","description","onPress","isDisabled","children"];function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vr=function(e){var t=e.icon,n=e.label,r=e.description,a=e.onPress,o=e.isDisabled,i=e.children,c=Mt()(e,Fr),s=Object(j.default)();return Object(y.jsxs)(ae.default,Kr(Kr({flex:{sm:1},flexDir:{base:"row",sm:"column"},mx:2,px:{base:3,sm:6},py:{base:4,sm:6},bgColor:"action-secondary-default",_hover:{bgColor:"action-secondary-hovered"},_pressed:{bgColor:"action-secondary-pressed"},borderWidth:ie.default.hairlineWidth,borderColor:"border-default",rounded:"xl",onPress:a,disabled:o},c),{},{children:[Object(y.jsx)(l.default,{mr:3,children:Object(y.jsx)(f.default,{size:s?24:28,name:t,color:o?"icon-disabled":"interactive-default"})}),Object(y.jsx)(_e.default,{flex:{sm:void 0,base:1},mt:{sm:6},typography:{sm:"Body1Strong",md:"DisplayMedium"},color:o?"text-disabled":"text-default",children:n}),Object(y.jsx)(Ee.default,{till:"sm",children:Object(y.jsx)(_e.default,{flex:1,mt:{sm:2},typography:{sm:"Body2",md:"Body2"},color:o?"text-disabled":"text-subdued",children:r})}),i,Object(y.jsx)(Ee.default,{from:"sm",children:Object(y.jsx)(l.default,{py:.5,children:Object(y.jsx)(f.default,{name:"ChevronRightMini",size:20,color:o?"icon-disabled":"icon-subdued"})})})]}))},Ur=function(){var e=Object(m.default)(),t=Object(an.default)(),n=Object(Q.useHelpLink)({path:"articles/360002014776"}),a=Object(Q.useHelpLink)({path:"articles/360002003315"}),o=Object(r.useCallback)((function(){Object(Z.openUrl)(n,e.formatMessage({id:"form__user_agreement"}))}),[e,n]),i=Object(r.useCallback)((function(){Object(Z.openUrl)(a,e.formatMessage({id:"form__privacy_policy"}))}),[e,a]),c=Object(r.useCallback)((function(e){return Object(y.jsx)(_e.default,{color:"text-subdued",onPress:o,typography:"CaptionUnderline",children:e})}),[o]),s=Object(r.useCallback)((function(e){return Object(y.jsx)(_e.default,{color:"text-subdued",onPress:i,typography:"CaptionUnderline",children:e})}),[i]);return Object(y.jsx)(d.default,{position:"absolute",bottom:{base:t.bottom+"px",sm:8},w:"full",pb:"16px",bgColor:"background-default",children:Object(y.jsx)(_e.default,{maxW:{base:"300px",sm:"auto"},mx:"auto",textAlign:"center",color:"text-subdued",typography:"Caption",children:e.formatMessage({id:"content__agree_to_user_agreement_and_privacy_policy"},{a:c,b:s})})})},Gr=function(){var e,t=Object(p.useNavigation)();Object(Q.useNavigationActions)();var n=Object(p.useRoute)(),a=Object(r.useState)(!(null==n||null==(e=n.params)||!e.disableAnimation)),o=A()(a,2),i=o[0],c=o[1],u=Object(r.useCallback)((function(){var e;return c(!(null==n||null==(e=n.params)||!e.disableAnimation))}),[n]),d=Object(Ae.useOnboardingContext)(),b=null==d?void 0:d.forceVisibleUnfocused;Object(r.useEffect)((function(){s()((function*(){if(R.default.isExtensionUiPopup||R.default.isExtensionUiStandaloneWindow){if(yield O.default.serviceApp.isResettingApp())return;O.default.serviceApp.openExtensionExpandTab({routes:[Se.RootRoutes.Onboarding,T.EOnboardingRoutes.Welcome],params:{}}),setTimeout((function(){window.close()}),200)}}))()}),[]),Object(r.useEffect)((function(){0}),[]);var j=Object(m.default)(),g=Object(B.default)().screenHeight<=667,x=Object(r.useCallback)((function(){u(),O.default.dispatch(Object(Er.setOnBoardingLoadingBehindModal)(!1)),t.navigate(T.EOnboardingRoutes.SetPassword)}),[t,u]),v=Object(r.useCallback)((function(){u(),O.default.dispatch(Object(Er.setOnBoardingLoadingBehindModal)(!1)),t.navigate(T.EOnboardingRoutes.ImportWallet)}),[t,u]),_=Object(r.useCallback)((function(){c(!0),null==b||b(),O.default.dispatch(Object(Er.setOnBoardingLoadingBehindModal)(!1)),i?t.navigate(Se.RootRoutes.Modal,{screen:Se.ModalRoutes.CreateWallet,params:{screen:Se.CreateWalletModalRoutes.ConnectHardwareModal}}):setTimeout((function(){t.navigate(Se.RootRoutes.Modal,{screen:Se.ModalRoutes.CreateWallet,params:{screen:Se.CreateWalletModalRoutes.ConnectHardwareModal}})}),100)}),[b,t,i]),w=Object(r.useCallback)((function(){u(),O.default.dispatch(Object(Er.setOnBoardingLoadingBehindModal)(!1)),setTimeout((function(){return t.navigate(T.EOnboardingRoutes.ThirdPartyWallet)}))}),[t,u]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(h.default,{showCloseButton:!0,backButton:!1,pt:{base:g?8:20,sm:0},scaleFade:!0,disableAnimation:i,children:[Object(y.jsx)(f.default,{name:"BrandLogoIllus",size:48}),Object(y.jsxs)(_e.default,{typography:{sm:"DisplayXLarge",md:"Display2XLarge"},mt:6,flexGrow:1,children:[j.formatMessage({id:"onboarding__landing_welcome_title"}),"\n",Object(y.jsx)(_e.default,{color:"text-subdued",children:j.formatMessage({id:"onboarding__landing_welcome_desc"})})]}),Object(y.jsx)(l.default,{flexDir:{sm:"row"},flexWrap:{sm:"wrap"},mt:{base:g?8:16,sm:20},mx:-2,children:Object(y.jsxs)(l.default,{flexDirection:{sm:"row"},w:{sm:"100%"},children:[Object(y.jsx)(Vr,{icon:"PlusCircleOutline",label:j.formatMessage({id:"action__create_wallet"}),description:j.formatMessage({id:"content__create_wallet_desc"}),roundedBottom:{base:0,sm:"xl"},onPress:x}),Object(y.jsx)(Vr,{icon:"ArrowDownCircleOutline",label:j.formatMessage({id:"action__import_wallet"}),description:j.formatMessage({id:"content__onboarding_import_wallet_desc"}),mt:"-1px",mb:{base:6,sm:0},roundedTop:{base:0,sm:"xl"},onPress:v}),Object(y.jsx)(Vr,{icon:"UsbCableOutline",label:j.formatMessage({id:"action__connect_hardware_wallet"}),description:j.formatMessage({id:"content__conenct_hardware_wallet_desc"}),onPress:_,overflow:"hidden",children:Object(y.jsx)(Ee.default,{till:"sm",children:Object(y.jsx)(l.default,{position:"absolute",zIndex:-1,right:"0",top:"0",children:Object(y.jsx)(V.default,{source:Ar.a,w:"256px",h:"207px",opacity:.75})})})})]})}),Object(y.jsx)(Ee.default,{till:"sm",children:Object(y.jsxs)(l.default,{flexDirection:"row",alignItems:"center",mt:"24px",mb:"-12px",children:[Object(y.jsx)(X.default,{flex:1}),Object(y.jsx)(_e.default,{mx:"14px",typography:"Subheading",color:"text-disabled",children:j.formatMessage({id:"content__or_lowercase"})}),Object(y.jsx)(X.default,{flex:1})]})}),Object(y.jsx)(zr,{onPress:w})]}),Object(y.jsx)(Ur,{})]})},Qr=[{name:T.EOnboardingRoutes.Welcome,component:Gr},{name:T.EOnboardingRoutes.ConnectWallet,component:Ge},{name:T.EOnboardingRoutes.ConnectHardwareModal,component:he.default},{name:T.EOnboardingRoutes.ThirdPartyWallet,component:kr},{name:T.EOnboardingRoutes.ImportWallet,component:Zt},{name:T.EOnboardingRoutes.RecoveryWallet,component:Rn},{name:T.EOnboardingRoutes.SetPassword,component:Vt},{name:T.EOnboardingRoutes.RecoveryPhrase,component:Bt},{name:T.EOnboardingRoutes.ShowRecoveryPhrase,component:Ut},{name:T.EOnboardingRoutes.BehindTheScene,component:wt},{name:T.EOnboardingRoutes.RestoreFromCloud,component:Mr},{name:T.EOnboardingRoutes.CloudBackupDetails,component:Cr},{name:T.EOnboardingRoutes.KeyTag,component:function(){var e=Object(r.useMemo)((function(){return Oe.map((function(e){return Object(y.jsx)(ge.Screen,{name:e.name,component:e.component},e.name)}))}),[]);return Object(y.jsx)(ge.Navigator,{screenOptions:{headerShown:!1},children:e})}},{name:T.EOnboardingRoutes.Migration,component:mr},{name:T.EOnboardingRoutes.MigrationPreview,component:wr}],qr=Object(a.default)();function Jr(){var e=Object(r.useMemo)((function(){return Qr.map((function(e){return Object(y.jsx)(qr.Screen,{name:e.name,component:e.component},e.name)}))}),[]);return Object(r.useEffect)((function(){return O.default.serviceOnboarding.checkOnboardingStatus(),function(){O.default.serviceOnboarding.checkOnboardingStatus()}}),[]),Object(y.jsx)(qr.Navigator,{screenOptions:{headerShown:!1},children:Object(y.jsx)(qr.Group,{children:e})})}}}]);