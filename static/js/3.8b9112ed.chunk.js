(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{5109:function(e,t,r){var n,o;n="undefined"!==typeof self?self:this,o=function(){"use strict";return(()=>{var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,o={};((t,r)=>{for(var n in r)e(t,n,{get:r[n],enumerable:!0})})(o,{code:()=>ht,decode:()=>pt,encode:()=>dt,name:()=>ct});var i=["string","number","bigint","symbol"],a=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function s(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;return i.includes(t)?t:"function"===t?"Function":Array.isArray(e)?"Array":function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e)?"Buffer":function(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(a.includes(t))return t}(e)||"Object"}var u=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};u.uint=new u(0,"uint",!0),u.negint=new u(1,"negint",!0),u.bytes=new u(2,"bytes",!0),u.string=new u(3,"string",!0),u.array=new u(4,"array",!1),u.map=new u(5,"map",!1),u.tag=new u(6,"tag",!1),u.float=new u(7,"float",!0),u.false=new u(7,"false",!0),u.true=new u(7,"true",!0),u.null=new u(7,"null",!0),u.undefined=new u(7,"undefined",!0),u.break=new u(7,"break",!0);var l=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}},f=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,c=new TextDecoder,h=new TextEncoder;function d(e){return f&&globalThis.Buffer.isBuffer(e)}function p(e){return e instanceof Uint8Array?d(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var w=f?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):k(e,t,r):(e,t,r)=>r-t>64?c.decode(e.subarray(t,r)):k(e,t,r),y=f?e=>e.length>64?globalThis.Buffer.from(e):E(e):e=>e.length>64?h.encode(e):E(e),g=e=>Uint8Array.from(e),b=f?(e,t,r)=>d(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),m=f?(e,t)=>(e=e.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),p(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},v=f?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function E(e,t=1/0){let r,n=e.length,o=null,i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function k(e,t,r){let n=[];for(;t<r;){let o=e[t],i=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=r){let r,n,s,u;switch(a){case 1:o<128&&(i=o);break;case 2:r=e[t+1],128===(192&r)&&(u=(31&o)<<6|63&r,u>127&&(i=u));break;case 3:r=e[t+1],n=e[t+2],128===(192&r)&&128===(192&n)&&(u=(15&o)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:r=e[t+1],n=e[t+2],s=e[t+3],128===(192&r)&&128===(192&n)&&128===(192&s)&&(u=(15&o)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),t+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}var A=class{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=v(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=b(r,0,this.cursor)}else t=m(this.chunks,this.cursor);return e&&this.reset(),t}},x="CBOR decode error:",C="CBOR encode error:",I=[];function U(e,t,r){if(e.length-t<r)throw new Error(x+" not enough data for type")}I[23]=1,I[24]=2,I[25]=3,I[26]=5,I[27]=9;var B=[24,256,65536,4294967296,BigInt("18446744073709551616")];function S(e,t,r){U(e,t,1);let n=e[t];if(!0===r.strict&&n<B[0])throw new Error(x+" integer encoded in more bytes than necessary (strict decode)");return n}function N(e,t,r){U(e,t,2);let n=e[t]<<8|e[t+1];if(!0===r.strict&&n<B[1])throw new Error(x+" integer encoded in more bytes than necessary (strict decode)");return n}function j(e,t,r){U(e,t,4);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<B[2])throw new Error(x+" integer encoded in more bytes than necessary (strict decode)");return n}function T(e,t,r){U(e,t,8);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(!0===r.strict&&i<B[3])throw new Error(x+" integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===r.allowBigInt)return i;throw new Error(x+" integers outside of the safe integer range are not supported")}function D(e,t){return $(e,0,t.value)}function $(e,t,r){if(r<B[0]){let n=Number(r);e.push([t|n])}else if(r<B[1]){let n=Number(r);e.push([24|t,n])}else if(r<B[2]){let n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<B[3]){let n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{let n=BigInt(r);if(!(n<B[4]))throw new Error(x+" encountered BigInt larger than allowable range");{let r=[27|t,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),i=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&o,o>>=8,r[7]=255&o,o>>=8,r[6]=255&o,o>>=8,r[5]=255&o,r[4]=255&i,i>>=8,r[3]=255&i,i>>=8,r[2]=255&i,i>>=8,r[1]=255&i,e.push(r)}}}D.encodedSize=function(e){return $.encodedSize(e.value)},$.encodedSize=function(e){return e<B[0]?1:e<B[1]?2:e<B[2]?3:e<B[3]?5:9},D.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};var z=BigInt(-1),M=BigInt(1);function O(e,t){let r=t.value,n="bigint"==typeof r?r*z-M:-1*r-1;$(e,t.type.majorEncoded,n)}function L(e,t,r,n){U(e,t,r+n);let o=b(e,t+r,t+r+n);return new l(u.bytes,o,r+n)}function P(e,t,r,n){return L(e,t,1,r)}function V(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===u.string?y(e.value):e.value),e.encodedBytes}function F(e,t){let r=V(t);$(e,t.type.majorEncoded,r.length),e.push(r)}function R(e,t,r,n,o){let i=r+n;U(e,t,i);let a=new l(u.string,w(e,t+r,t+i),i);return!0===o.retainStringBytes&&(a.byteValue=b(e,t+r,t+i)),a}function q(e,t,r,n){return R(e,t,1,r,n)}O.encodedSize=function(e){let t=e.value,r="bigint"==typeof t?t*z-M:-1*t-1;return r<B[0]?1:r<B[1]?2:r<B[2]?3:r<B[3]?5:9},O.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},F.encodedSize=function(e){let t=V(e);return $.encodedSize(t.length)+t.length},F.compareTokens=function(e,t){return function(e,t){return e.length<t.length?-1:e.length>t.length?1:function(e,t){if(d(e)&&d(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(e,t)}(V(e),V(t))};var _=F;function G(e,t,r,n){return new l(u.array,n,r)}function J(e,t,r,n){return G(0,0,1,r)}function K(e,t){$(e,u.array.majorEncoded,t.value)}function H(e,t,r,n){return new l(u.map,n,r)}function Q(e,t,r,n){return H(0,0,1,r)}function W(e,t){$(e,u.map.majorEncoded,t.value)}function X(e,t,r,n){return new l(u.tag,r,1)}function Z(e,t){$(e,u.tag.majorEncoded,t.value)}function Y(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error(x+" NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error(x+" Infinity values are not supported")}return new l(u.float,e,t)}function ee(e,t,r){let n=t.value;if(!1===n)e.push([20|u.float.majorEncoded]);else if(!0===n)e.push([21|u.float.majorEncoded]);else if(null===n)e.push([22|u.float.majorEncoded]);else if(void 0===n)e.push([23|u.float.majorEncoded]);else{let t,o=!1;(!r||!0!==r.float64)&&(oe(n),t=ie(ne,1),n===t||Number.isNaN(n)?(ne[0]=249,e.push(ne.slice(0,3)),o=!0):(ae(n),t=se(ne,1),n===t&&(ne[0]=250,e.push(ne.slice(0,5)),o=!0))),o||(function(e){re.setFloat64(0,e,!1)}(n),t=ue(ne,1),ne[0]=251,e.push(ne.slice(0,9)))}}K.compareTokens=D.compareTokens,K.encodedSize=function(e){return $.encodedSize(e.value)},W.compareTokens=D.compareTokens,W.encodedSize=function(e){return $.encodedSize(e.value)},Z.compareTokens=D.compareTokens,Z.encodedSize=function(e){return $.encodedSize(e.value)},ee.encodedSize=function(e,t){let r=e.value;if(!1===r||!0===r||null===r||void 0===r)return 1;if(!t||!0!==t.float64){oe(r);let e=ie(ne,1);if(r===e||Number.isNaN(r))return 3;if(ae(r),e=se(ne,1),r===e)return 5}return 9};var te=new ArrayBuffer(9),re=new DataView(te,1),ne=new Uint8Array(te,0);function oe(e){if(e===1/0)re.setUint16(0,31744,!1);else if(e===-1/0)re.setUint16(0,64512,!1);else if(Number.isNaN(e))re.setUint16(0,32256,!1);else{re.setFloat32(0,e);let t=re.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)re.setUint16(0,31744,!1);else if(0===r)re.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{let e=r-127;e<-24?re.setUint16(0,0):e<-14?re.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):re.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function ie(e,t){if(e.length-t<2)throw new Error(x+" not enough data for float16");let r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;let n,o=r>>10&31,i=1023&r;return n=0===o?i*2**-24:31!==o?(i+1024)*2**(o-25):0===i?1/0:NaN,32768&r?-n:n}function ae(e){re.setFloat32(0,e,!1)}function se(e,t){if(e.length-t<4)throw new Error(x+" not enough data for float32");let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function ue(e,t){if(e.length-t<8)throw new Error(x+" not enough data for float64");let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function le(e,t,r){throw new Error(`${x} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function fe(e){return()=>{throw new Error(`${x} ${e}`)}}ee.compareTokens=D.compareTokens;var ce=[];for(let wt=0;wt<=23;wt++)ce[wt]=le;ce[24]=function(e,t,r,n){return new l(u.uint,S(e,t+1,n),2)},ce[25]=function(e,t,r,n){return new l(u.uint,N(e,t+1,n),3)},ce[26]=function(e,t,r,n){return new l(u.uint,j(e,t+1,n),5)},ce[27]=function(e,t,r,n){return new l(u.uint,T(e,t+1,n),9)},ce[28]=le,ce[29]=le,ce[30]=le,ce[31]=le;for(let wt=32;wt<=55;wt++)ce[wt]=le;ce[56]=function(e,t,r,n){return new l(u.negint,-1-S(e,t+1,n),2)},ce[57]=function(e,t,r,n){return new l(u.negint,-1-N(e,t+1,n),3)},ce[58]=function(e,t,r,n){return new l(u.negint,-1-j(e,t+1,n),5)},ce[59]=function(e,t,r,n){let o=T(e,t+1,n);if("bigint"!=typeof o){let e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new l(u.negint,e,9)}if(!0!==n.allowBigInt)throw new Error(x+" integers outside of the safe integer range are not supported");return new l(u.negint,z-BigInt(o),9)},ce[60]=le,ce[61]=le,ce[62]=le,ce[63]=le;for(let wt=64;wt<=87;wt++)ce[wt]=P;ce[88]=function(e,t,r,n){return L(e,t,2,S(e,t+1,n))},ce[89]=function(e,t,r,n){return L(e,t,3,N(e,t+1,n))},ce[90]=function(e,t,r,n){return L(e,t,5,j(e,t+1,n))},ce[91]=function(e,t,r,n){let o=T(e,t+1,n);if("bigint"==typeof o)throw new Error(x+" 64-bit integer bytes lengths not supported");return L(e,t,9,o)},ce[92]=le,ce[93]=le,ce[94]=le,ce[95]=fe("indefinite length bytes/strings are not supported");for(let wt=96;wt<=119;wt++)ce[wt]=q;ce[120]=function(e,t,r,n){return R(e,t,2,S(e,t+1,n),n)},ce[121]=function(e,t,r,n){return R(e,t,3,N(e,t+1,n),n)},ce[122]=function(e,t,r,n){return R(e,t,5,j(e,t+1,n),n)},ce[123]=function(e,t,r,n){let o=T(e,t+1,n);if("bigint"==typeof o)throw new Error(x+" 64-bit integer string lengths not supported");return R(e,t,9,o,n)},ce[124]=le,ce[125]=le,ce[126]=le,ce[127]=fe("indefinite length bytes/strings are not supported");for(let wt=128;wt<=151;wt++)ce[wt]=J;ce[152]=function(e,t,r,n){return G(0,0,2,S(e,t+1,n))},ce[153]=function(e,t,r,n){return G(0,0,3,N(e,t+1,n))},ce[154]=function(e,t,r,n){return G(0,0,5,j(e,t+1,n))},ce[155]=function(e,t,r,n){let o=T(e,t+1,n);if("bigint"==typeof o)throw new Error(x+" 64-bit integer array lengths not supported");return G(0,0,9,o)},ce[156]=le,ce[157]=le,ce[158]=le,ce[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(x+" indefinite length items not allowed");return G(0,0,1,1/0)};for(let wt=160;wt<=183;wt++)ce[wt]=Q;ce[184]=function(e,t,r,n){return H(0,0,2,S(e,t+1,n))},ce[185]=function(e,t,r,n){return H(0,0,3,N(e,t+1,n))},ce[186]=function(e,t,r,n){return H(0,0,5,j(e,t+1,n))},ce[187]=function(e,t,r,n){let o=T(e,t+1,n);if("bigint"==typeof o)throw new Error(x+" 64-bit integer map lengths not supported");return H(0,0,9,o)},ce[188]=le,ce[189]=le,ce[190]=le,ce[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(x+" indefinite length items not allowed");return H(0,0,1,1/0)};for(let wt=192;wt<=215;wt++)ce[wt]=X;ce[216]=function(e,t,r,n){return new l(u.tag,S(e,t+1,n),2)},ce[217]=function(e,t,r,n){return new l(u.tag,N(e,t+1,n),3)},ce[218]=function(e,t,r,n){return new l(u.tag,j(e,t+1,n),5)},ce[219]=function(e,t,r,n){return new l(u.tag,T(e,t+1,n),9)},ce[220]=le,ce[221]=le,ce[222]=le,ce[223]=le;for(let wt=224;wt<=243;wt++)ce[wt]=fe("simple values are not supported");ce[244]=le,ce[245]=le,ce[246]=le,ce[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error(x+" undefined values are not supported");return!0===n.coerceUndefinedToNull?new l(u.null,null,1):new l(u.undefined,void 0,1)},ce[248]=fe("simple values are not supported"),ce[249]=function(e,t,r,n){return Y(ie(e,t+1),3,n)},ce[250]=function(e,t,r,n){return Y(se(e,t+1),5,n)},ce[251]=function(e,t,r,n){return Y(ue(e,t+1),9,n)},ce[252]=le,ce[253]=le,ce[254]=le,ce[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error(x+" indefinite length items not allowed");return new l(u.break,void 0,1)};var he=[];for(let wt=0;wt<24;wt++)he[wt]=new l(u.uint,wt,1);for(let wt=-1;wt>=-24;wt--)he[31-wt]=new l(u.negint,wt,1);he[64]=new l(u.bytes,new Uint8Array(0),1),he[96]=new l(u.string,"",1),he[128]=new l(u.array,0,1),he[160]=new l(u.map,0,1),he[244]=new l(u.false,!1,1),he[245]=new l(u.true,!0,1),he[246]=new l(u.null,null,1);var de={float64:!1,mapSorter:function(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=pe[o].compareTokens(r,n);return i},quickEncodeToken:function(e){switch(e.type){case u.false:return g([244]);case u.true:return g([245]);case u.null:return g([246]);case u.bytes:return e.value.length?void 0:g([64]);case u.string:return""===e.value?g([96]):void 0;case u.array:return 0===e.value?g([128]):void 0;case u.map:return 0===e.value?g([160]):void 0;case u.uint:return e.value<24?g([Number(e.value)]):void 0;case u.negint:if(e.value>=-24)return g([31-Number(e.value)])}}},pe=function(){let e=[];return e[u.uint.major]=D,e[u.negint.major]=O,e[u.bytes.major]=F,e[u.string.major]=_,e[u.array.major]=K,e[u.map.major]=W,e[u.tag.major]=Z,e[u.float.major]=ee,e}(),we=new A,ye=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(C+" object contains circular references");return new ye(t,e)}},ge={null:new l(u.null,null),undefined:new l(u.undefined,void 0),true:new l(u.true,!0),false:new l(u.false,!1),emptyArray:new l(u.array,0),emptyMap:new l(u.map,0)},be={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new l(e>=0?u.uint:u.negint,e):new l(u.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new l(u.uint,e):new l(u.negint,e),Uint8Array:(e,t,r,n)=>new l(u.bytes,e),string:(e,t,r,n)=>new l(u.string,e),boolean:(e,t,r,n)=>e?ge.true:ge.false,null:(e,t,r,n)=>ge.null,undefined:(e,t,r,n)=>ge.undefined,ArrayBuffer:(e,t,r,n)=>new l(u.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new l(u.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[ge.emptyArray,new l(u.break)]:ge.emptyArray;n=ye.createCheck(n,e);let o=[],i=0;for(let a of e)o[i++]=me(a,r,n);return r.addBreakTokens?[new l(u.array,e.length),o,new l(u.break)]:[new l(u.array,e.length),o]},Object(e,t,r,n){let o="Object"!==t,i=o?e.keys():Object.keys(e),a=o?e.size:i.length;if(!a)return!0===r.addBreakTokens?[ge.emptyMap,new l(u.break)]:ge.emptyMap;n=ye.createCheck(n,e);let s=[],f=0;for(let u of i)s[f++]=[me(u,r,n),me(o?e.get(u):e[u],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(s,r),r.addBreakTokens?[new l(u.map,a),s,new l(u.break)]:[new l(u.map,a),s]}};be.Map=be.Object,be.Buffer=be.Uint8Array;for(let wt of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))be[wt+"Array"]=be.DataView;function me(e,t={},r){let n=s(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||be[n];if("function"==typeof o){let i=o(e,n,t,r);if(null!=i)return i}let i=be[n];if(!i)throw new Error(`${C} unsupported type: ${n}`);return i(e,n,t,r)}function ve(e,t,r){let n=me(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let e=r.quickEncodeToken(n);if(e)return e;let o=t[n.type.major];if(o.encodedSize){let e=o.encodedSize(n,r),t=new A(e);if(o(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return p(t.chunks[0])}}return we.reset(),function e(t,r,n,o){if(Array.isArray(r))for(let i of r)e(t,i,n,o);else n[r.type.major](t,r,o)}(we,n,t,r),we.toBytes(!0)}var Ee={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},ke=Symbol.for("DONE"),Ae=Symbol.for("BREAK");function xe(e,t){if(e.done())return ke;let r=e.next();if(r.type===u.break)return Ae;if(r.type.terminal)return r.value;if(r.type===u.array)return function(e,t,r){let n=[];for(let o=0;o<e.value;o++){let i=xe(t,r);if(i===Ae){if(e.value===1/0)break;throw new Error(x+" got unexpected break to lengthed array")}if(i===ke)throw new Error(`${x} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=i}return n}(r,e,t);if(r.type===u.map)return function(e,t,r){let n=!0===r.useMaps,o=n?void 0:{},i=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=xe(t,r);if(s===Ae){if(e.value===1/0)break;throw new Error(x+" got unexpected break to lengthed map")}if(s===ke)throw new Error(`${x} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof s)throw new Error(`${x} non-string keys not supported (got ${typeof s})`);if(!0===r.rejectDuplicateMapKeys&&(n&&i.has(s)||!n&&s in o))throw new Error(`${x} found repeat map key "${s}"`);let u=xe(t,r);if(u===ke)throw new Error(`${x} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?i.set(s,u):o[s]=u}return n?i:o}(r,e,t);if(r.type===u.tag){if(t.tags&&"function"==typeof t.tags[r.value]){let n=xe(e,t);return t.tags[r.value](n)}throw new Error(`${x} tag not supported (${r.value})`)}throw new Error("unsupported")}function Ce(e,t){if(!(e instanceof Uint8Array))throw new Error(x+" data to decode must be a Uint8Array");let r=(t=Object.assign({},Ee,t)).tokenizer||new class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=he[e];if(void 0===t){let r=ce[e];if(!r)throw new Error(`${x} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}(e,t),n=xe(r,t);if(n===ke)throw new Error(x+" did not find any content to decode");if(n===Ae)throw new Error(x+" got unexpected break");if(!r.done())throw new Error(x+" too many terminals, data makes no sense");return n}var Ie=function e(t,r,n){r=r||[];for(var o=n=n||0;t>=Ue;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-o+1,r},Ue=Math.pow(2,31),Be=function e(t,r){var n,o=0,i=0,a=r=r||0,s=t.length;do{if(a>=s)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],o+=i<28?(127&n)<<i:(127&n)*Math.pow(2,i),i+=7}while(n>=128);return e.bytes=a-r,o},Se=Math.pow(2,7),Ne=Math.pow(2,14),je=Math.pow(2,21),Te=Math.pow(2,28),De=Math.pow(2,35),$e=Math.pow(2,42),ze=Math.pow(2,49),Me=Math.pow(2,56),Oe=Math.pow(2,63),Le={encode:Ie,decode:Be,encodingLength:function(e){return e<Se?1:e<Ne?2:e<je?3:e<Te?4:e<De?5:e<$e?6:e<ze?7:e<Me?8:e<Oe?9:10}},Pe=(e,t=0)=>[Le.decode(e,t),Le.decode.bytes],Ve=(e,t,r=0)=>(Le.encode(e,t,r),t),Fe=e=>Le.encodingLength(e),Re=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),qe=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}},_e=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(255!==r[a])throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,u=e.charAt(0),l=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function c(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,o=0;e[t]===u;)n++,t++;for(var i=(e.length-t)*l+1>>>0,a=new Uint8Array(i);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var c=0,h=i-1;(0!==f||c<o)&&-1!==h;h--,c++)f+=s*a[h]>>>0,a[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=c,t++}if(" "!==e[t]){for(var d=i-o;d!==i&&0===a[d];)d++;for(var p=new Uint8Array(n+(i-d)),w=n;d!==i;)p[w++]=a[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,o=0,i=t.length;o!==i&&0===t[o];)o++,r++;for(var a=(i-o)*f+1>>>0,l=new Uint8Array(a);o!==i;){for(var c=t[o],h=0,d=a-1;(0!==c||h<n)&&-1!==d;d--,h++)c+=256*l[d]>>>0,l[d]=c%s>>>0,c=c/s>>>0;if(0!==c)throw new Error("Non-zero carry");n=h,o++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var w=u.repeat(r);p<a;++p)w+=e.charAt(l[p]);return w},decodeUnsafe:c,decode:function(e){var r=c(e);if(r)return r;throw new Error(`Non-${t} character`)}}},Ge=(e,t)=>new class{constructor(e){this.decoders=e}or(e){return Ge(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Je=({name:e,prefix:t,encode:r,decode:n})=>new class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}(e,t,r),this.decoder=new class{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ge(this,e)}}(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}(e,t,r,n),Ke=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=_e(r,t);return Je({prefix:e,name:t,encode:n,decode:e=>Re(o(e))})},He=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Je({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],o=(1<<r)-1,i="",a=0,s=0;for(let u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i})(e,n,r),decode:t=>((e,t,r,n)=>{let o={};for(let f=0;f<t.length;++f)o[t[f]]=f;let i=e.length;for(;"="===e[i-1];)--i;let a=new Uint8Array(i*r/8|0),s=0,u=0,l=0;for(let f=0;f<i;++f){let t=o[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);u=u<<r|t,s+=r,s>=8&&(s-=8,a[l++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a})(t,n,r,e)}),Qe=Ke({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),We=(Ke({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),He({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),Xe=(He({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),He({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),He({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),He({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),He({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),He({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),He({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),He({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{let{bytes:r,version:n}=e;switch(n){case 0:return rt(r,Ye(e),t||Qe.encoder);default:return nt(r,Ye(e),t||We.encoder)}}),Ze=new WeakMap,Ye=e=>{let t=Ze.get(e);if(null==t){let t=new Map;return Ze.set(e,t),t}return t},et=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==ot)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==it)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return et.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=((e,t)=>{let r=t.byteLength,n=Fe(e),o=n+Fe(r),i=new Uint8Array(o+r);return Ve(e,i,0),Ve(r,i,n),i.set(t,o),new qe(e,r,t,i)})(e,t);return et.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return et.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return Xe(this,e)}toJSON(){return{"/":Xe(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof et)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:o}=t;return new et(e,r,n,o||at(e,r,n.bytes))}if(!0===t[st]){let{version:e,multihash:r,code:n}=t,o=(e=>{let t=Re(e),[r,n]=Pe(t),[o,i]=Pe(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new qe(r,o,a,t)})(r);return et.create(e,n,o)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==ot)throw new Error(`Version 0 CID must use dag-pb (code: ${ot}) block encoding`);return new et(e,t,r,r.bytes);case 1:{let n=at(e,t,r.bytes);return new et(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return et.create(0,ot,e)}static createV1(e,t){return et.create(1,e,t)}static decode(e){let[t,r]=et.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=et.inspectBytes(e),r=t.size-t.multihashSize,n=Re(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),i=new qe(t.multihashCode,t.digestSize,o,n);return[0===t.version?et.createV0(i):et.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=Pe(e.subarray(t));return t+=n,r},n=r(),o=ot;if(18===n?(n=0,t=0):o=r(),0!==n&&1!==n)throw new RangeError("Invalid CID version "+n);let i=t,a=r(),s=r(),u=t+s;return{version:n,codec:o,multihashCode:a,digestSize:s,multihashSize:u-i,size:u}}static parse(e,t){let[r,n]=tt(e,t),o=et.decode(n);return Ye(o).set(r,e),o}},tt=(e,t)=>{switch(e[0]){case"Q":{let r=t||Qe;return[Qe.prefix,r.decode(`${Qe.prefix}${e}`)]}case Qe.prefix:{let r=t||Qe;return[Qe.prefix,r.decode(e)]}case We.prefix:{let r=t||We;return[We.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},rt=(e,t,r)=>{let{prefix:n}=r;if(n!==Qe.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(null==o){let o=r.encode(e).slice(1);return t.set(n,o),o}return o},nt=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(null==o){let o=r.encode(e);return t.set(n,o),o}return o},ot=112,it=18,at=(e,t,r)=>{let n=Fe(e),o=n+Fe(t),i=new Uint8Array(o+r.byteLength);return Ve(e,i,0),Ve(t,i,n),i.set(r,o),i},st=Symbol.for("@ipld/js-cid/CID"),ut={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=et.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new l(u.tag,42),new l(u.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},lt={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};lt.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return et.decode(e.subarray(1))};var ft,ct="dag-cbor",ht=113,dt=e=>function(e,t){return t=Object.assign({},de,t),ve(e,pe,t)}(e,ut),pt=e=>Ce(e,lt);return ft=o,((o,i,a,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let u of r(i))!n.call(o,u)&&u!==a&&e(o,u,{get:()=>i[u],enumerable:!(s=t(i,u))||s.enumerable});return o})(e({},"__esModule",{value:!0}),ft)})()},e.exports?e.exports=o():n.IpldDagCbor=o()}}]);