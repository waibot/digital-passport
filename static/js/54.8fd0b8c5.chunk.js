(this.webpackJsonp=this.webpackJsonp||[]).push([[54,101,104],{3934:function(e,t,r){"use strict";r.r(t),r.d(t,"useDefaultNetWork",(function(){return u})),r.d(t,"useCollectionDetail",(function(){return s}));var n=r(1),o=r(44),c=r(36),a=r(45),i=r(16),l=c.OnekeyNetwork.eth;function u(){var e=Object(a.useNetworks)();return Object(n.useMemo)((function(){return e.find((function(e){return e.id===l}))}),[e])}function s(){var e=Object(o.useNavigation)();return Object(n.useCallback)((function(t){var r=t.collection,n=t.networkId,o=t.contractAddress,c=t.title;e.navigate(i.HomeRoutes.NFTMarketCollectionScreen,{networkId:n,contractAddress:o,collection:r,title:c})}),[e])}},3942:function(e,t,r){"use strict";r.r(t),r.d(t,"floorPriceSymbolMap",(function(){return p})),r.d(t,"PriceString",(function(){return j}));var n,o=r(3),c=r.n(o),a=r(20),i=r(15),l=r.n(i),u=r(36),s=r(0),d=["prefix","price","networkId","symbol"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=((n={})[u.OnekeyNetwork.eth]="ETH",n[u.OnekeyNetwork.optimism]="ETH",n[u.OnekeyNetwork.bsc]="BNB",n[u.OnekeyNetwork.polygon]="MATIC",n[u.OnekeyNetwork.arbitrum]="ETH",n[u.OnekeyNetwork.sol]="SOL",n[u.OnekeyNetwork.avalanche]="AVAX",n);function j(e){var t=e.prefix,r=e.price,n=e.networkId,o=e.symbol,c=null!=o?o:p[null!=n?n:""],a="\u2013";return r&&null!==r&&(a=r+" "+(null!=c?c:"")),t?t+" "+a:""+a}t.default=function(e){var t=e.prefix,r=void 0===t?"":t,n=e.price,o=e.networkId,c=e.symbol,i=l()(e,d);return Object(s.jsx)(a.default,b(b({},i),{},{children:j({prefix:r,price:n,networkId:o,symbol:c})}))}},3959:function(e,t,r){"use strict";r.r(t);var n=r(12),o=r(3),c=r.n(o),a=r(747),i=r(51),l=r(40),u=r(15),s=r.n(u),d=r(1),f=r(0),b=["verified"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=Object(d.memo)((function(e){var t=e.verified,r=s()(e,b),o=r.width,c=r.height,u=r.src,p=Object(d.useMemo)((function(){return Object(f.jsx)(i.default,{width:o,height:o,borderRadius:"12px",bgColor:"surface-neutral-subdued",children:Object(f.jsx)(l.default,{name:"ImageBrokenIllus",size:20})})}),[o]);return u&&u.length>0?Object(f.jsxs)(n.default,{width:o,height:c,children:[Object(f.jsx)(a.default,j({preview:!1,skeleton:!0,borderRadius:"12px",fallbackElement:p},r)),!0===t?Object(f.jsx)(n.default,{bgColor:"background-default",position:"absolute",right:"-4px",bottom:"-4px",borderRadius:"full",children:Object(f.jsx)(l.default,{size:16,name:"BadgeCheckMini",color:"icon-success"})}):null]}):p}))},3974:function(e,t,r){"use strict";r.r(t),r.d(t,"StatsListContext",(function(){return o})),r.d(t,"useStatsListContext",(function(){return c}));var n=r(1),o=Object(n.createContext)(null);function c(){return Object(n.useContext)(o)}},3983:function(e,t,r){"use strict";r.r(t),r.d(t,"ensureModuleIsLoaded",(function(){return N})),r.d(t,"captureRef",(function(){return _})),r.d(t,"releaseCapture",(function(){return I})),r.d(t,"captureScreen",(function(){return D})),r.d(t,"default",(function(){return R}));var n=r(6),o=r.n(n),c=r(18),a=r.n(c),i=r(9),l=r.n(i),u=r(14),s=r.n(u),d=r(7),f=r.n(d),b=r(3),p=r.n(b),j=r(1),h=r(38),O=r(250),x=r(28),y=r(184),m=r(0);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var o=f()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s()(this,r)}}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=O.default.RNViewShot,P=new Promise((function(){})),C=["png","jpg"].concat("android"===x.default.OS?["webm","raw"]:[]),S=["tmpfile","base64","data-uri"].concat("android"===x.default.OS?["zip-base64"]:[]),M={format:"png",quality:1,result:"tmpfile",snapshotContentContainer:!1,handleGLSurfaceViewOnAndroid:!1};function A(e){var t=w(w({},M),e),r=[];return"width"in t&&("number"!==typeof t.width||t.width<=0)&&(r.push("option width should be a positive number"),delete t.width),"height"in t&&("number"!==typeof t.height||t.height<=0)&&(r.push("option height should be a positive number"),delete t.height),("number"!==typeof t.quality||t.quality<0||t.quality>1)&&(r.push("option quality should be a number between 0.0 and 1.0"),t.quality=M.quality),"boolean"!==typeof t.snapshotContentContainer&&r.push("option snapshotContentContainer should be a boolean"),"boolean"!==typeof t.handleGLSurfaceViewOnAndroid&&r.push("option handleGLSurfaceViewOnAndroid should be a boolean"),-1===C.indexOf(t.format)&&(t.format=M.format,r.push("option format '"+t.format+"' is not in valid formats: "+C.join(" | "))),-1===S.indexOf(t.result)&&(t.result=M.result,r.push("option result '"+t.result+"' is not in valid formats: "+S.join(" | "))),{options:t,errors:r}}function N(){if(!k)throw new Error("react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.")}function _(e,t){if(N(),e&&"object"===typeof e&&"current"in e&&e.current&&!(e=e.current))return Promise.reject(new Error("ref.current is null"));if("number"!==typeof e){var r=Object(y.default)(e);if(!r)return Promise.reject(new Error("findNodeHandle failed to resolve view="+String(e)));e=r}var n=A(t),o=n.options;n.errors;return k.captureRef(e,o)}function I(e){"string"!==typeof e||k.releaseCapture(e)}function D(e){N();var t=A(e),r=t.options;t.errors;return k.captureScreen(r)}var R=function(e){l()(r,e);var t=g(r);function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).firstLayoutPromise=new Promise((function(t){e.resolveFirstLayout=t})),e.capture=function(){return e.firstLayoutPromise.then((function(){var t=a()(e).root;return t?_(t,e.props.options):P})).then((function(t){return e.onCapture(t),t}),(function(t){throw e.onCaptureFailure(t),t}))},e.onCapture=function(t){if(e.root){e.lastCapturedURI&&setTimeout(I,500,e.lastCapturedURI),e.lastCapturedURI=t;var r=e.props.onCapture;r&&r(t)}},e.onCaptureFailure=function(t){if(e.root){var r=e.props.onCaptureFailure;r&&r(t)}},e.syncCaptureLoop=function(t){if(cancelAnimationFrame(e._raf),"continuous"===t){var r="-";e._raf=requestAnimationFrame((function t(){e._raf=requestAnimationFrame(t),r!==e.lastCapturedURI&&(r=e.lastCapturedURI,e.capture())}))}},e.onRef=function(t){e.root=t},e.onLayout=function(t){var r=e.props.onLayout;e.resolveFirstLayout(t.nativeEvent.layout),r&&r(t)},e}var n=r.prototype;return n.componentDidMount=function(){"mount"===this.props.captureMode?this.capture():this.syncCaptureLoop(this.props.captureMode)},n.componentDidUpdate=function(e){void 0!==this.props.captureMode&&this.props.captureMode!==e.captureMode&&this.syncCaptureLoop(this.props.captureMode),"update"===this.props.captureMode&&this.capture()},n.componentWillUnmount=function(){this.syncCaptureLoop(null)},n.render=function(){var e=this.props.children;return Object(m.jsx)(h.default,{ref:this.onRef,collapsable:!1,onLayout:this.onLayout,style:this.props.style,children:e})},o()(r)}(j.Component);R.captureRef=_,R.releaseCapture=I},3995:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r.n(n),c=r(262),a=r(175),i=r(89),l=r(818),u=r(50),s=r(15),d=r.n(s),f=r(12),b=r(1),p=r(0),j=["isTab","numberOfData"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=function(){return Object(p.jsx)(f.default,{h:"4px"})};t.default=function(e){e.isTab;var t=e.numberOfData,r=d()(e,j),n=Object(u.default)(),o=new Array(t).fill(0),s=Object(b.useMemo)((function(){return n?{ItemSeparatorComponent:x}:{showDivider:!0}}),[n]);return Object(p.jsx)(c.default,O(O({data:o,renderItem:function(){return Object(p.jsxs)(i.default,{children:[Object(p.jsx)(i.default.Column,{children:Object(p.jsx)(l.default,{width:n?"56px":"40px",height:n?"56px":"40px",borderRadius:"12px"})}),Object(p.jsx)(i.default.Column,{flex:1,text:{label:Object(p.jsx)(a.default,{shape:"Body1"}),description:Object(p.jsx)(a.default,{shape:"Body2"})}}),Object(p.jsx)(i.default.Column,{children:Object(p.jsx)(f.default,{pb:{base:"24px",md:0},children:Object(p.jsx)(a.default,{shape:"Body1"})})})]})},keyExtractor:function(e,t){return""+t}},s),r))}},4017:function(e,t,r){"use strict";var n;r.r(t),r.d(t,"NFTMarketRoutes",(function(){return n})),function(e){e.SearchModal="SearchModal",e.FilterModal="FilterModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(n||(n={}))},4034:function(e,t,r){"use strict";r.r(t);var n=r(331),o=r(3),c=r.n(o),a=r(12),i=r(40),l=r(20),u=r(121),s=r(50),d=r(1),f=r(649),b=r(88),p=r(25),j=r(36),h=r(0);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=[j.OnekeyNetwork.eth,j.OnekeyNetwork.bsc,j.OnekeyNetwork.optimism,j.OnekeyNetwork.polygon,j.OnekeyNetwork.arbitrum,j.OnekeyNetwork.avalanche];t.default=function(e){var t=e.tiggerProps,r=e.selectedNetwork,o=e.triggerSize,c=e.onChange,j=Object(b.default)(),O=Object(s.default)(),m=Object(p.useManageNetworks)().enabledNetworks,g=Object(d.useMemo)((function(){return m?m.filter((function(e){return y.includes(e.id)})).map((function(e){return{title:e.shortName,label:e.name,value:e,tokenProps:{token:{logoURI:null==e?void 0:e.logoURI,name:null==e?void 0:e.name}}}})):[]}),[m]);return Object(h.jsx)(a.default,{children:Object(h.jsx)(n.default,{title:j.formatMessage({id:"network__network"}),dropdownPosition:"right",dropdownProps:O?{}:{minW:"240px"},headerShown:!1,options:g,isTriggerPlain:!0,activatable:!0,footer:null,onChange:c,renderTrigger:function(e){var n=e.isHovered,c=e.isPressed;return Object(h.jsx)(a.default,x(x({m:"-8px"},t),{},{children:Object(h.jsxs)(f.default,{alignItems:"center",p:"8px",bgColor:c?"surface-pressed":n?"surface-hovered":"transparent",borderRadius:"xl",children:[Object(h.jsx)(u.default,{size:"lg"===o?"24px":"20px",token:{logoURI:null==r?void 0:r.logoURI}}),!O&&Object(h.jsx)(l.default,{ml:"8px",typography:"Body2Strong",children:null==r?void 0:r.name}),Object(h.jsx)(a.default,{ml:"4px",children:Object(h.jsx)(i.default,{size:20,name:"ChevronDownMini",color:"icon-subdued"})})]})}))}})})}},4294:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r.n(n),c=r(262),a=r(12),i=r(20),l=r(89),u=r(15),s=r.n(u),d=r(1),f=r(21),b=r(1244),p=r(88),j=r(3959),h=r(3942),O=r(3934),x=r(3974),y=r(3995),m=r(0),g=["onSelectCollection","selectNetwork","listData"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t,r,n,o=e.onSelectCollection,u=e.selectNetwork,v=e.listData,k=s()(e,g),P=null==(t=Object(x.useStatsListContext)())?void 0:t.context,C=Object(p.default)(),S=Object(O.useCollectionDetail)(),M=null!=(r=null==P?void 0:P.selectedNetwork)?r:u,A=Object(d.useCallback)((function(e){var t,r,n,c,u,s,d,b=e.item,p=e.index,O=null!=(t=b.volume_change)?t:"-";return null!=b&&null!=(r=b.volume_change)&&r.startsWith("-")?(s="surface-critical-subdued",d="text-critical"):null!=b&&null!=(n=b.volume_change)&&n.startsWith("0.00%")?d="text-subdued":(s="surface-success-subdued",d="text-success"),Object(m.jsxs)(l.default,{onPress:function(){o?o({contractAddress:b.contract_address,networkId:null==M?void 0:M.id,title:b.contract_name}):S({contractAddress:b.contract_address,networkId:null==M?void 0:M.id,title:b.contract_name})},children:[Object(m.jsx)(l.default.Column,{children:Object(m.jsx)(j.default,{src:b.logo_url,width:"56px",height:"56px",verified:b.openseaVerified})}),Object(m.jsx)(l.default.Column,{text:{label:""+(p+1),labelProps:{pb:"24px",typography:"Body1Mono"}}}),Object(m.jsx)(l.default.Column,{flex:1,text:{label:b.contract_name,labelProps:{isTruncated:!0},description:Object(h.PriceString)({prefix:C.formatMessage({id:"content__floor"}),price:b.floor_price,networkId:null==M?void 0:M.id}),descriptionProps:{numberOfLines:1}}}),Object(m.jsx)(l.default.Column,{alignItems:"flex-end",text:{label:Object(h.PriceString)({price:new f.BigNumber(null!=(c=b.volume)?c:"0").decimalPlaces(2).toString(),networkId:null==P||null==(u=P.selectedNetwork)?void 0:u.id}),labelProps:{textAlign:"right",numberOfLines:1},description:Object(m.jsx)(a.default,{borderRadius:"6px",bgColor:s,paddingX:"6px",paddingY:"2px",children:Object(m.jsx)(i.default,{typography:"CaptionStrong",color:d,textAlign:"right",numberOfLines:1,children:O})})}})]})}),[C,null==M?void 0:M.id,null==P||null==(n=P.selectedNetwork)?void 0:n.id,o,S]),N=Object(d.useCallback)((function(){return Object(m.jsx)(a.default,{h:"4px"})}),[]),_=Object(d.useCallback)((function(){return Object(m.jsx)(a.default,{height:"20px"})}),[]);return void 0===v||0===(null==v?void 0:v.length)||null!=P&&P.loading?Object(m.jsx)(y.default,{isTab:null==P?void 0:P.isTab,numberOfData:null!=P&&P.isTab?5:10,ListHeaderComponent:k.ListHeaderComponent}):Object(m.jsx)(b.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:Object(m.jsx)(c.default,w({data:v,renderItem:A,keyExtractor:function(e,t){return""+e.contract_address+t},ItemSeparatorComponent:N,ListFooterComponent:_},k))})}},4332:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r.n(n),c=r(5),a=r(0);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){return Object(a.jsxs)(c.default,l(l({viewBox:"0 0 82 25",fill:"none",accessibilityRole:"image"},e),{},{children:[Object(a.jsx)(c.Path,{d:"M32.835 18.409c-.967 0-1.855-.23-2.665-.69a5.133 5.133 0 0 1-1.924-1.906c-.473-.82-.71-1.745-.71-2.775 0-1.02.237-1.935.71-2.745a5.1 5.1 0 0 1 1.925-1.92c.809-.46 1.697-.69 2.664-.69.977 0 1.865.23 2.664.69.809.46 1.445 1.1 1.91 1.92.473.81.71 1.725.71 2.745 0 1.03-.237 1.955-.71 2.775a5.025 5.025 0 0 1-1.91 1.905c-.81.46-1.697.69-2.664.69Zm0-1.876c.621 0 1.169-.14 1.643-.42.473-.29.843-.7 1.11-1.23.266-.53.4-1.145.4-1.845s-.134-1.31-.4-1.83a2.866 2.866 0 0 0-1.11-1.216c-.474-.28-1.022-.42-1.643-.42-.622 0-1.175.14-1.658.42-.474.28-.844.685-1.11 1.216-.267.52-.4 1.13-.4 1.83 0 .7.133 1.315.4 1.845.266.53.636.94 1.11 1.23.483.28 1.036.42 1.658.42ZM43.464 9.872c.977 0 1.767.315 2.368.946.602.62.903 1.49.903 2.61v4.875h-2.072v-4.59c0-.66-.163-1.165-.488-1.515-.326-.36-.77-.54-1.332-.54-.573 0-1.027.18-1.362.54-.326.35-.489.855-.489 1.515v4.59H38.92v-8.31h2.072v1.035c.277-.36.627-.64 1.051-.84a3.22 3.22 0 0 1 1.421-.316ZM55.736 13.968c0 .3-.02.57-.059.81h-5.994c.049.6.256 1.07.621 1.41.365.34.814.51 1.347.51.77 0 1.318-.335 1.643-1.005h2.235c-.237.8-.69 1.46-1.362 1.98-.67.51-1.495.766-2.471.766-.79 0-1.5-.175-2.132-.526a3.84 3.84 0 0 1-1.465-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.622-.35 1.337-.526 2.147-.526.78 0 1.475.17 2.087.51.621.34 1.1.826 1.435 1.456.346.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.202-.97-.577-1.29-.375-.33-.834-.495-1.377-.495-.513 0-.947.16-1.302.48-.345.31-.558.745-.637 1.305h3.893ZM62.636 18.303l-3.759-4.665v4.665h-2.072V7.833h2.072v4.695l3.76-4.696h2.5l-4.262 5.19 4.381 5.281h-2.62Z",fill:"#000"}),Object(a.jsx)(c.Path,{d:"M72.614 13.968c0 .3-.02.57-.06.81H66.56c.05.6.257 1.07.622 1.41.365.34.814.51 1.347.51.77 0 1.317-.335 1.643-1.005h2.234c-.236.8-.69 1.46-1.361 1.98-.671.51-1.495.766-2.472.766-.79 0-1.5-.175-2.131-.526a3.84 3.84 0 0 1-1.466-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.623-.35 1.338-.526 2.147-.526.78 0 1.475.17 2.087.51.622.34 1.1.826 1.436 1.456.345.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.203-.97-.578-1.29-.375-.33-.834-.495-1.376-.495-.513 0-.947.16-1.303.48-.345.31-.557.745-.636 1.305h3.893ZM81.23 9.992l-5.076 12.242h-2.205l1.776-4.14-3.286-8.102h2.324l2.116 5.806 2.146-5.806h2.206Z",fill:"#000"}),Object(a.jsx)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.801 24.755c8.147 0 11.801-3.678 11.801-11.88 0-8.2-3.654-11.878-11.8-11.878C3.653.997 0 4.675 0 12.876c0 8.2 3.654 11.879 11.801 11.879ZM9.584 6.036h3.283v5.446h-2.035V7.79H9.008l.576-1.753Zm2.217 13.684c2.068 0 3.744-1.687 3.744-3.769 0-2.081-1.676-3.769-3.744-3.769-2.068 0-3.744 1.688-3.744 3.77 0 2.08 1.676 3.768 3.744 3.768Zm0-1.71c1.13 0 2.044-.922 2.044-2.059a2.051 2.051 0 0 0-2.044-2.058 2.051 2.051 0 0 0-2.044 2.058c0 1.137.915 2.058 2.044 2.058Z",fill:"#000"})]}))}},4333:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r.n(n),c=r(5),a=r(0);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){return Object(a.jsxs)(c.default,l(l({viewBox:"0 0 82 25",fill:"none",accessibilityRole:"image"},e),{},{children:[Object(a.jsx)(c.Path,{d:"M32.835 18.409c-.967 0-1.855-.23-2.665-.69a5.133 5.133 0 0 1-1.924-1.906c-.473-.82-.71-1.745-.71-2.775 0-1.02.237-1.935.71-2.745a5.1 5.1 0 0 1 1.925-1.92c.809-.46 1.697-.69 2.664-.69.977 0 1.865.23 2.664.69.809.46 1.445 1.1 1.91 1.92.473.81.71 1.725.71 2.745 0 1.03-.237 1.955-.71 2.775a5.025 5.025 0 0 1-1.91 1.905c-.81.46-1.697.69-2.664.69Zm0-1.876c.621 0 1.169-.14 1.643-.42.473-.29.843-.7 1.11-1.23.266-.53.4-1.145.4-1.845s-.134-1.31-.4-1.83a2.866 2.866 0 0 0-1.11-1.216c-.474-.28-1.022-.42-1.643-.42-.622 0-1.175.14-1.658.42-.474.28-.844.685-1.11 1.216-.267.52-.4 1.13-.4 1.83 0 .7.133 1.315.4 1.845.266.53.636.94 1.11 1.23.483.28 1.036.42 1.658.42ZM43.464 9.872c.977 0 1.767.315 2.368.946.602.62.903 1.49.903 2.61v4.875h-2.072v-4.59c0-.66-.163-1.165-.488-1.515-.326-.36-.77-.54-1.332-.54-.573 0-1.027.18-1.362.54-.326.35-.489.855-.489 1.515v4.59H38.92v-8.31h2.072v1.035c.277-.36.627-.64 1.051-.84a3.22 3.22 0 0 1 1.421-.316ZM55.736 13.968c0 .3-.02.57-.059.81h-5.994c.049.6.256 1.07.621 1.41.365.34.814.51 1.347.51.77 0 1.318-.335 1.643-1.005h2.235c-.237.8-.69 1.46-1.362 1.98-.67.51-1.495.766-2.471.766-.79 0-1.5-.175-2.132-.526a3.84 3.84 0 0 1-1.465-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.622-.35 1.337-.526 2.147-.526.78 0 1.475.17 2.087.51.621.34 1.1.826 1.435 1.456.346.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.202-.97-.577-1.29-.375-.33-.834-.495-1.377-.495-.513 0-.947.16-1.302.48-.345.31-.558.745-.637 1.305h3.893ZM62.636 18.303l-3.759-4.665v4.665h-2.072V7.833h2.072v4.695l3.76-4.696h2.5l-4.262 5.19 4.381 5.281h-2.62Z",fill:"#FFF"}),Object(a.jsx)(c.Path,{d:"M72.614 13.968c0 .3-.02.57-.06.81H66.56c.05.6.257 1.07.622 1.41.365.34.814.51 1.347.51.77 0 1.317-.335 1.643-1.005h2.234c-.236.8-.69 1.46-1.361 1.98-.671.51-1.495.766-2.472.766-.79 0-1.5-.175-2.131-.526a3.84 3.84 0 0 1-1.466-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.623-.35 1.338-.526 2.147-.526.78 0 1.475.17 2.087.51.622.34 1.1.826 1.436 1.456.345.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.203-.97-.578-1.29-.375-.33-.834-.495-1.376-.495-.513 0-.947.16-1.303.48-.345.31-.557.745-.636 1.305h3.893ZM81.23 9.992l-5.076 12.242h-2.205l1.776-4.14-3.286-8.102h2.324l2.116 5.806 2.146-5.806h2.206Z",fill:"#FFF"}),Object(a.jsx)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.801 24.755c8.147 0 11.801-3.678 11.801-11.88 0-8.2-3.654-11.878-11.8-11.878C3.653.997 0 4.675 0 12.876c0 8.2 3.654 11.879 11.801 11.879ZM9.584 6.036h3.283v5.446h-2.035V7.79H9.008l.576-1.753Zm2.217 13.684c2.068 0 3.744-1.687 3.744-3.769 0-2.081-1.676-3.769-3.744-3.769-2.068 0-3.744 1.688-3.744 3.77 0 2.08 1.676 3.768 3.744 3.768Zm0-1.71c1.13 0 2.044-.922 2.044-2.059a2.051 2.051 0 0 0-2.044-2.058 2.051 2.051 0 0 0-2.044 2.058c0 1.137.915 2.058 2.044 2.058Z",fill:"#FFF"})]}))}},4553:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var n=r(3),o=r.n(n),c=r(15),a=r.n(c),i=r(6),l=r.n(i),u=r(9),s=r.n(u),d=r(14),f=r.n(d),b=r(7),p=r.n(b),j=r(1),h=r(38);function O(e,t){var r=e/100;switch(t){case"dark":return"rgba(25,25,25,"+.78*r+")";case"light":return"rgba(249,249,249,"+.78*r+")";case"default":return"rgba(255,255,255,"+.3*r+")"}throw new Error("Unsupported tint provided: "+t)}var x=["tint","intensity","style"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var o=p()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var v=function(e){s()(r,e);var t=g(r);function r(){return t.apply(this,arguments)}return r.prototype.render=function(){var e=this.props,t=e.tint,r=void 0===t?"default":t,n=e.intensity,o=void 0===n?50:n,c=e.style,i=a()(e,x),l=function(e){var t=e.intensity,r=e.tint,n={backgroundColor:O(t,r)};if("undefined"!==typeof CSS&&(CSS.supports("-webkit-backdrop-filter","blur(1px)")||CSS.supports("backdrop-filter","blur(1px)"))){var o="saturate(180%) blur("+.2*t+"px)";n.backdropFilter=o,n.WebkitBackdropFilter=o}return n}({tint:r,intensity:Math.min(o,100)});return j.createElement(h.default,m(m({},i),{},{style:[c,l]}))},l()(r)}(j.Component)},5227:function(e,t,r){e.exports=r.p+"static/media/pnl_share_blur_bg.bf8885a9.png"},5292:function(e,t,r){"use strict";r.r(t);var n=r(50),o=r(57),c=r(100),a=r(368),i=r(12),l=r(64),u=r(40),s=r(175),d=r(818),f=r(747),b=r(20),p=r(2),j=r.n(p),h=r(4),O=r.n(h),x=r(1),y=r(44),m=r(21),g=r(1035),v=r(649),w=r(88),k=r(36),P=r(17),C=r(25),S=r(4017),M=r(0),A=function(){var e=Object(w.default)(),t=Object(x.useState)(k.OnekeyNetwork.eth),r=O()(t,2),n=r[0],p=r[1],h=P.default.serviceNFT,A=Object(y.useNavigation)(),N=Object(x.useState)(""),_=O()(N,2),I=_[0],D=_[1],R=Object(x.useState)(""),B=O()(R,2),E=B[0],T=B[1],L=Object(C.useDebounce)(I,500),F=Object(C.useDebounce)(E,500),W=Object(x.useRef)(),Z=Object(x.useState)(),z=O()(Z,2),H=z[0],V=z[1],U=Object(x.useState)(),Q=O()(U,2),Y=Q[0],K=Q[1],G=Object(x.useMemo)((function(){if(H&&Object.keys(H.networks).includes(n)){var e=H.networks[n].handlingFee;if(e)return Number(e.replace("%",""))}return 0}),[n,H]),q=Object(x.useMemo)((function(){var e;return Y&&null!=(e=Y.royalty)?e:0}),[Y]),X=Object(x.useCallback)((function(){A.navigate(S.NFTMarketRoutes.MarketPlaceScreen,{selectMarket:H,onSelect:V})}),[A,H]),J=Object(x.useCallback)(function(){var e=j()((function*(e,t){return yield h.getCollection({chain:e,contractAddress:t})}));return function(t,r){return e.apply(this,arguments)}}(),[h]),$=Object(x.useCallback)((function(){A.navigate(S.NFTMarketRoutes.SearchModal,{ethOnly:!0,onSelectCollection:function(e){var t=e.networkId,r=e.contractAddress,n=e.collection;A.goBack(),p(t),n?K(n):J(t,r).then((function(e){K(e)}))}})}),[J,A]),ee=Object(x.useState)(0),te=O()(ee,2),re=te[0],ne=te[1];Object(x.useEffect)((function(){j()((function*(){if(null!=Y&&Y.contractAddress){var e=yield h.getCollectionTransactions({chain:n,contractAddress:null==Y?void 0:Y.contractAddress,limit:1,showAsset:!1,eventTypes:"Sale"});if(null!=e&&e.content&&(null==e?void 0:e.content.length)>0){var t,r=e.content[0];ne(null!=(t=r.gasFee)?t:0)}}}))()}),[n,null==Y?void 0:Y.contractAddress,h]),Object(x.useEffect)((function(){j()((function*(){var e=yield h.getMarketPlaces({chain:k.OnekeyNetwork.eth});e&&(W.current=e,V(e[0]))}))()}),[h]);var oe=Object(x.useMemo)((function(){var e=new m.BigNumber(0),t=new m.BigNumber(L),r=new m.BigNumber(F),n=new m.BigNumber(re);if(t.isNaN()||r.isNaN())return 0;var o=new m.BigNumber(G/100).multipliedBy(r),c=new m.BigNumber(q).multipliedBy(r);return(e=r.minus(o).minus(c).minus(t).minus(n).decimalPlaces(6)).isNaN()?0:e.toNumber()}),[L,q,re,G,F]),ce="text-default";return oe>0?ce="text-success":oe<0&&(ce="text-critical"),Object(M.jsxs)(o.default,{size:"xs",header:e.formatMessage({id:"modal__calculator"}),footer:null,children:[Object(M.jsxs)(g.default,{space:8,children:[Object(M.jsxs)(g.default,{space:"12px",children:[Object(M.jsx)(b.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__platform"})}),Object(M.jsx)(i.default,{m:-2,children:Object(M.jsxs)(l.default,{p:2,borderRadius:"12px",flexDirection:"row",alignItems:"center",onPress:X,_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[Object(M.jsx)(v.default,{space:"12px",alignItems:"center",flex:1,children:H?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(f.default,{width:"40px",height:"40px",borderRadius:"20px",src:H.logoUrl},H.logoUrl),Object(M.jsx)(b.default,{typography:"Body1Strong",children:H.name})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(d.default,{width:"40px",height:"40px",borderRadius:"20px"}),Object(M.jsx)(s.default,{shape:"Body1"})]})}),Object(M.jsx)(u.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})]})})]}),Object(M.jsxs)(g.default,{space:"12px",children:[Object(M.jsx)(b.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__project"})}),Object(M.jsx)(i.default,{m:-2,children:Object(M.jsxs)(l.default,{p:2,borderRadius:"12px",flexDirection:"row",alignItems:"center",onPress:$,_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[Object(M.jsx)(v.default,{space:"12px",alignItems:"center",flex:1,children:Y?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(f.default,{width:"40px",height:"40px",borderRadius:"20px",src:Y.logoUrl},Y.logoUrl),Object(M.jsxs)(i.default,{flex:1,children:[Object(M.jsx)(b.default,{typography:"Body1Strong",children:Y.name}),Object(M.jsxs)(b.default,{typography:"Body2",mt:"4px",color:"text-subdued",children:[e.formatMessage({id:"content__floor"})," ",Y.floorPrice," ETH"]})]})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(i.default,{borderStyle:"dashed",justifyContent:"center",alignItems:"center",size:"40px",borderRadius:"12px",bgColor:"surface-neutral-subdued",borderWidth:"2px",borderColor:"border-default",children:Object(M.jsx)(u.default,{name:"CursorArrowRaysMini",size:20,color:"decorative-icon-one"})}),Object(M.jsx)(b.default,{typography:"Body1Strong",children:e.formatMessage({id:"action__select_a_project"})})]})}),Object(M.jsx)(u.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})]})})]}),Object(M.jsxs)(g.default,{space:"12px",children:[Object(M.jsxs)(b.default,{typography:"Subheading",color:"text-subdued",children:[e.formatMessage({id:"content__price"})," (ETH)"]}),Object(M.jsxs)(v.default,{space:"12px",children:[Object(M.jsx)(a.default,{flex:1,size:"xl",placeholder:e.formatMessage({id:"Market__buy"}),value:I,onChangeText:function(e){1===new m.BigNumber(e).comparedTo(1e3)&&""!==e||D(e)},type:"number",keyboardType:"decimal-pad"}),Object(M.jsx)(a.default,{flex:1,size:"xl",placeholder:e.formatMessage({id:"action__sell"}),value:E,onChangeText:function(e){1===new m.BigNumber(e).comparedTo(1e3)&&""!==e||T(e)},type:"number",keyboardType:"number-pad"})]})]})]}),Object(M.jsx)(c.default,{my:"24px"}),Object(M.jsxs)(g.default,{space:"8px",children:[Object(M.jsxs)(v.default,{space:"8px",justifyContent:"space-between",children:[Object(M.jsx)(b.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__platform_fee"})}),Object(M.jsx)(b.default,{typography:"Body2",children:G+"%"})]}),Object(M.jsxs)(v.default,{space:"8px",justifyContent:"space-between",children:[Object(M.jsx)(b.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__creator_fee"})}),Object(M.jsx)(b.default,{typography:"Body2",children:100*q+"%"})]}),Object(M.jsxs)(v.default,{space:"8px",justifyContent:"space-between",children:[Object(M.jsx)(b.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__gas_fee"})}),Object(M.jsxs)(b.default,{typography:"Body2",children:[new m.BigNumber(re).decimalPlaces(3).toString()+" ETH"," "]})]}),Object(M.jsxs)(v.default,{space:"8px",justifyContent:"space-between",alignItems:"baseline",children:[Object(M.jsx)(b.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__profit"})}),Object(M.jsx)(b.default,{typography:"Display2XLarge",color:ce,children:oe+" ETH"})]})]})]})},N=r(89),_=function(){var e=Object(y.useNavigation)(),t=Object(w.default)(),r=Object(y.useRoute)().params,n=r.selectMarket,c=r.onSelect,a=P.default.serviceNFT,i=Object(x.useState)([]),l=O()(i,2),u=l[0],s=l[1];Object(x.useEffect)((function(){j()((function*(){var e=yield a.getMarketPlaces({chain:k.OnekeyNetwork.eth});e&&s(e)}))()}),[a]);var d=Object(x.useCallback)((function(t){var r=t.item;return Object(M.jsxs)(N.default,{onPress:function(){null==c||c(r),e.goBack()},children:[Object(M.jsx)(N.default.Column,{children:Object(M.jsx)(f.default,{width:"40px",height:"40px",borderRadius:"20px",src:r.logoUrl})}),Object(M.jsx)(N.default.Column,{flex:1,text:{label:r.name}}),(null==n?void 0:n.name)===r.name?Object(M.jsx)(N.default.Column,{icon:{name:"CheckCircleSolid",color:"interactive-default"}}):null]})}),[e,c,null==n?void 0:n.name]);return Object(M.jsx)(o.default,{size:"xs",height:"560px",header:t.formatMessage({id:"form__platform"}),footer:null,flatListProps:{height:"420px",data:u,renderItem:d,keyExtractor:function(e){return e.name}}})},I=r(3),D=r.n(I),R=r(570),B=r(1244),E=r(414),T=r(204),L=Object(x.createContext)(null);var F={};function W(e){var t=e.attributeName,r=e.attributesValue,n=e.enable;F[t+"--"+r]=n}function Z(e){var t=e.attributeName+"--"+e.attributesValue;return!!F[t]&&F[t]}function z(){for(var e of Object.entries(F)){var t=O()(e,1)[0];delete F[t]}}function H(){for(var e of Object.entries(F)){if(O()(e,2)[1])return!0}return!1}function V(e){for(var t of Object.entries(F)){var r=O()(t,2),n=r[0],o=r[1];if(n.split("--")[0]===e&&o)return!0}return!1}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){D()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=function(e){var t,r=e.attributeName,n=e.value,o=Object(x.useState)(Z({attributeName:r,attributesValue:n.attributes_value})),c=O()(o,2),a=c[0],l=c[1],u=null==(t=Object(x.useContext)(L))?void 0:t.context;Object(x.useEffect)((function(){var e=Z({attributeName:r,attributesValue:n.attributes_value});l(e)}),[r,null==u?void 0:u.clearFlag,n.attributes_value]);var s=Object(x.useCallback)((function(){l((function(e){return W({attributeName:r,attributesValue:n.attributes_value,enable:!e}),u&&u.setIsDisabled&&u.setIsDisabled(!H()),!e}))}),[r,u,n.attributes_value]);return Object(M.jsx)(E.default,{onPress:s,children:Object(M.jsxs)(i.default,{mb:"8px",mr:"8px",flexDirection:"row",px:"10px",py:"4px",borderRadius:"14px",bgColor:a?"interactive-default":"surface-neutral-subdued",height:"28px",children:[Object(M.jsx)(b.default,{typography:"Body2Strong",color:a?"text-on-primary":"text-default",children:n.attributes_value}),Object(M.jsx)(b.default,{typography:"Body2Strong",color:a?"text-on-primary":"text-subdued",opacity:a?.65:1,children:" "+n.total})]})})},K=function(e){var t=e.attribute,r=Object(x.useMemo)((function(){return Object(M.jsxs)(i.default,{children:[Object(M.jsx)(v.default,{flexWrap:"wrap",mb:"12px",children:t.attributes_values.map((function(e){return Object(M.jsx)(Y,{value:e,attributeName:t.attributes_name},e.attributes_value)}))}),Object(M.jsx)(c.default,{})]})}),[t.attributes_name,t.attributes_values]);return Object(M.jsx)(R.default,{defaultCollapsed:!V(t.attributes_name),renderCustomTrigger:function(e,r){return Object(M.jsx)(E.default,{onPress:e,children:Object(M.jsxs)(i.default,{flexDirection:"row",justifyContent:"space-between",height:"48px",alignItems:"center",children:[Object(M.jsx)(b.default,{typography:"Body1Strong",children:t.attributes_name}),Object(M.jsx)(B.View,{animate:{rotate:r?"0deg":"90deg"},children:Object(M.jsx)(u.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})},children:r})},G=function(){var e=Object(w.default)(),t=Object(y.useRoute)().params,r=t.collection,c=t.attributes,a=t.onAttributeSelected,i=Object(x.useState)([]),l=O()(i,2),u=l[0],s=l[1],d=Object(x.useState)(!1),f=O()(d,2),b=f[0],p=f[1],h=Object(x.useState)({clearFlag:0,setIsDisabled:p}),m=O()(h,2),g=m[0],v=m[1],k=Object(x.useCallback)(j()((function*(){var e;c.forEach((function(e){var t=e.attribute_name;e.attribute_values.forEach((function(e){W({attributeName:t,attributesValue:e,enable:!0})}))}));var t=null==(e=r.attributes)?void 0:e.filter((function(e){return e.attributes_values.length<100}));return Promise.resolve(t)})),[r.attributes,c]);Object(x.useEffect)((function(){return k().then((function(e){s(e),p(!H())})),function(){z()}}),[k,c]);var P=Object(T.default)(),C=Object(x.useCallback)((function(){var e=function(){var e={};for(var t of Object.entries(F)){var r=O()(t,2),n=r[0];if(r[1]){var o,c=n.split("--")[0],a=n.split("--")[1],i=null!=(o=e[c])?o:[];i.push(a),e[c]=i}}return Object.entries(e).map((function(e){var t=O()(e,2);return{attribute_name:t[0],attribute_values:t[1]}}))}();a&&(P(),a(e))}),[P,a]),S=Object(n.default)(),A=Object(x.useMemo)((function(){return{context:g,setContext:v}}),[g]),N=Object(x.useCallback)((function(e){var t=e.item;return Object(M.jsx)(K,{attribute:t})}),[]),_=Object(x.useMemo)((function(){return{contentContainerStyle:{padding:0,paddingTop:S?4:12},data:u,renderItem:N,keyExtractor:function(e){return e.attributes_name}}}),[S,N,u]);return Object(M.jsx)(L.Provider,{value:A,children:Object(M.jsx)(o.default,{primaryActionProps:{isDisabled:b},onPrimaryActionPress:C,primaryActionTranslationId:"action__apply",secondaryActionTranslationId:"action__clear",onSecondaryActionPress:function(){z(),p(0===c.length),v((function(e){return Q(Q({},e),{},{clearFlag:e.clearFlag+1})}))},header:e.formatMessage({id:"title__filter"}),size:"md",height:"640px",flatListProps:_})})},q=r(1072),X=r(314),J=r(299),$=r(262),ee=r(51),te=r(76),re=r(201),ne=r(41),oe=r(662),ce=r(29),ae=r(1369),ie=r(24),le=r(4034),ue=r(3959),se=r(3934),de=r(4294),fe=function(e){var t=e.keyword,r=e.setKeyword,n=e.selectNetwork,o=e.onSelectNetWork,c=Object(w.default)(),a=Object(y.useRoute)().params.ethOnly,l=Object(T.default)();return Object(M.jsxs)(ne.default,{alignItems:"center",borderBottomWidth:ce.default.hairlineWidth,borderBottomColor:"border-subdued",pl:{base:"4px",md:"12px"},pr:{base:"16px",md:"24px"},h:"57px",children:[Object(M.jsx)(oe.default,{autoFocus:!0,flex:1,w:"auto",bgColor:"transparent",borderWidth:0,focusOutlineColor:"transparent",placeholder:c.formatMessage({id:"form__nft_search_placeholder"})+"...",value:t,onClear:function(){r("")},onChangeText:function(e){r(e)}}),Object(M.jsx)(i.default,{h:"20px",borderLeftWidth:ce.default.hairlineWidth,borderLeftColor:"border-subdued",mr:"12px"}),Object(M.jsxs)(ne.default,{space:"16px",alignItems:"center",children:[!1===!!a&&Object(M.jsx)(le.default,{selectedNetwork:n,onChange:function(e){o(e)}}),!ie.default.isNativeIOS&&Object(M.jsx)(ae.default,{onPress:l})]})]})},be=function(e){var t=e.selectNetwork,r=P.default.serviceNFT,n=Object(w.default)(),o=Object(y.useRoute)().params.onSelectCollection,c=Object(x.useState)([]),a=O()(c,2),i=a[0],l=a[1];return Object(x.useEffect)((function(){j()((function*(){var e=yield r.getMarketRanking({chain:null==t?void 0:t.id,time:"1d"});e&&l(e.slice(0,10))}))()}),[null==t?void 0:t.id,r]),Object(M.jsx)(de.default,{onSelectCollection:o,selectNetwork:t,headerProps:{title:n.formatMessage({id:"content__ranking"}),actions:[{label:n.formatMessage({id:"content__int_day_volume"},{0:1}),onPress:function(){}}]},listData:i})},pe=function(e){var t=e.isLoading,r=e.listData,n=e.selectNetwork,o=Object(w.default)(),c=Object(y.useRoute)().params.onSelectCollection,a=Object(x.useCallback)((function(e){var t,r,a=e.item,l=null!=(t=null==a?void 0:a.itemsTotal)?t:0,u=null!=a&&a.floorPrice?(null==a?void 0:a.floorPrice)+" "+(null!=(r=a.priceSymbol)?r:""):void 0;return Object(M.jsxs)(N.default,{onPress:function(){c({networkId:n.id,contractAddress:a.contractAddress})},children:[Object(M.jsx)(N.default.Column,{children:Object(M.jsx)(ue.default,{src:a.logoUrl,width:"56px",height:"56px",verified:a.openseaVerified})}),Object(M.jsx)(N.default.Column,{flex:1,text:{label:a.name,labelProps:{numberOfLines:1},description:Object(M.jsxs)(ne.default,{space:"8px",alignItems:"center",children:[Object(M.jsx)(b.default,{typography:"Body2",color:"text-subdued",children:o.formatMessage({id:"content__int_items"},{0:l||"\u2013"})}),Object(M.jsx)(i.default,{bgColor:"text-subdued",size:"4px",rounded:"full"}),Object(M.jsxs)(b.default,{typography:"Body2",color:"text-subdued",children:[o.formatMessage({id:"content__floor"})," ",u||"\u2013"]})]})}})]})}),[o,c,n.id]),l=Object(x.useCallback)((function(){return Object(M.jsx)(re.default,{title:o.formatMessage({id:"content__no_results"}),emoji:"\ud83d\udd0d"})}),[o]),u=Object(x.useCallback)((function(){return Object(M.jsx)(i.default,{h:"4px"})}),[]);return Object(M.jsx)(M.Fragment,{children:t?Object(M.jsx)(ee.default,{flex:1,children:Object(M.jsx)(te.default,{size:"lg"})}):Object(M.jsx)(B.View,{from:{opacity:0},animate:{opacity:1},children:Object(M.jsx)($.default,{headerProps:{title:o.formatMessage({id:"content__collection"})},ListEmptyComponent:l,data:r,renderItem:a,ItemSeparatorComponent:u})})})},je=function(){var e=Object(se.useDefaultNetWork)(),t=Object(J.default)().bottom,r=Object(x.useState)(e),n=O()(r,2),c=n[0],a=n[1],i=Object(x.useState)(""),l=O()(i,2),u=l[0],s=l[1],d=Object(C.useDebounce)(u,500),f=function(e,t){var r=Object(x.useState)(!1),n=O()(r,2),o=n[0],c=n[1],a=Object(x.useState)([]),i=O()(a,2),l=i[0],u=i[1],s=P.default.serviceNFT;return Object(x.useEffect)((function(){function r(){return(r=j()((function*(){if(0!==e.length){c(!0),u([]);try{var r=yield s.searchCollections({chain:t,name:e});u(r||[])}finally{c(!1)}}else u([])}))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[e,t,s]),{loading:o,result:l}}(d,null==c?void 0:c.id),b=f.loading,p=f.result,h=b||u!==d;return Object(M.jsxs)(o.default,{size:"sm",footer:null,height:"640px",headerShown:!1,staticChildrenProps:{flex:1,overflow:"hidden"},children:[Object(M.jsx)(fe,{keyword:u,setKeyword:s,selectNetwork:c,onSelectNetWork:a}),Object(M.jsx)(q.default,{flex:1,children:Object(M.jsx)(X.default,{flex:1,p:{base:"16px",md:"24px"},contentContainerStyle:{flex:1,paddingBottom:t},children:d.length>0?Object(M.jsx)(pe,{isLoading:h,selectNetwork:c,listData:p}):Object(M.jsx)(be,{selectNetwork:c})})})]})},he=r(1065),Oe=r(411),xe=r(1584),ye=r(28),me=r(3983),ge=r(4332),ve=r(4333),we=r(819),ke=r(3942),Pe=r(1355),Ce=r(106),Se=r(15),Me=r.n(Se),Ae=r(63),Ne=r(4553),_e=r(5227),Ie=r.n(_e),De=r(612),Re=["datas"];function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){D()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te=function(e){var t,r,n=e.data,o=e.scale,c=e.opacity,a=Object(we.default)().formatDistanceStrict,l=Object(xe.default)().themeVariant,u="";n&&(u=n.tokenId?"#"+n.tokenId:"\u2013","0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(t=n.contractAddress)?void 0:t.toLowerCase())&&(u=null==(r=n.asset)?void 0:r.name));return Object(M.jsx)(i.default,{width:"358px",shadow:"depth.1",opacity:c||1,style:{transform:[{scale:o}]},children:n?Object(M.jsxs)(i.default,{borderRadius:"12px",overflow:"hidden",borderWidth:ce.default.hairlineWidth,borderColor:"border-default",children:[(null==n?void 0:n.asset)&&Object(M.jsx)(ee.default,{position:"absolute",top:0,right:0,bottom:0,left:0,bgColor:"background-default",children:Object(M.jsx)(De.default,{asset:null==n?void 0:n.asset,size:378,opacity:50})}),Object(M.jsxs)(Ne.default,{tint:"light"===l?"light":"dark",intensity:100,style:{flexDirection:"row",paddingHorizontal:16,paddingVertical:12},children:[Object(M.jsxs)(ne.default,{alignItems:"center",space:3,flex:1,children:[(null==n?void 0:n.asset)&&Object(M.jsx)(De.default,{asset:null==n?void 0:n.asset,size:40,borderRadius:"12px"}),Object(M.jsxs)(Ae.default,{flex:1,space:1,children:[Object(M.jsx)(b.default,{isTruncated:!0,typography:"Body1Strong",children:n.contractName}),Object(M.jsx)(b.default,{isTruncated:!0,typography:"Body2",color:"text-subdued",children:u})]})]}),Object(M.jsxs)(Ae.default,{space:1,children:[Object(M.jsx)(b.default,{typography:"Body1Strong",textAlign:"right",color:n.profit>0?"text-success":"text-critical",children:Object(ke.PriceString)({price:new m.BigNumber(n.profit).decimalPlaces(3).toString(),symbol:n.exit.tradeSymbol})}),Object(M.jsx)(b.default,{typography:"Body2",textAlign:"right",color:"text-subdued",children:a(n.exit.timestamp,n.entry.timestamp)})]})]})]}):Object(M.jsx)(i.default,{borderRadius:"12px",overflow:"hidden",height:"72px",borderWidth:ce.default.hairlineWidth,borderColor:"border-default",bgColor:"surface-neutral-subdued"})})},Le=function(e){var t=e.datas,r=Me()(e,Re),n=Object(x.useState)(0),o=O()(n,2),c=o[0],a=o[1];return Object(M.jsxs)(Pe.default,Ee(Ee({justifyContent:"center",alignItems:"center",onLayout:function(e){c!==e.nativeEvent.layout.width&&a(e.nativeEvent.layout.width)}},r),{},{children:[Object(M.jsx)(Ce.default,{zIndex:0,source:Ie.a,width:300,height:300}),c>0&&Object(M.jsx)(i.default,{zIndex:1,mt:"-40px",style:{transform:[{translateY:-21}]},children:Object(M.jsx)(Te,{data:t[2],scale:c/358*.81,opacity:70})}),c>0&&Object(M.jsx)(i.default,{zIndex:2,children:Object(M.jsx)(Te,{data:t[1],scale:c/358*.9,opacity:80})}),c>0&&Object(M.jsx)(i.default,{zIndex:3,mt:"48px",style:{transform:[{translateY:26}]},children:Object(M.jsx)(Te,{data:t[0],scale:c/358,opacity:90})})]}))},Fe=function(){var e=j()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(x.useRef)(null),t=Object(y.useRoute)().params,r=t.data,n=t.network,c=t.nameOrAddress,a=r.content,l=r.win,u=r.lose,s=r.totalProfit,d=r.totalWinProfit,f=r.totalLoseProfit,p=a[0].exit.timestamp,h=a[a.length-1].exit.timestamp,g=Object(w.default)(),v=Object(xe.default)().themeVariant,k=Object(x.useCallback)(j()((function*(){var t,r=yield null==(t=e.current)||null==t.capture?void 0:t.capture();if(r){var n=yield Fe(),o=ye.default.select({ios:{activityItemSources:[{placeholderItem:{type:"url",content:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJwAAACcCAMAAAC9ZjJ/AAAAllBMVEUAAAAAuBIAtxAAuBMAtxIAuRIAtxMAuRIAtxIAtxIAuBIAuBMAuBEAsxAAtxIAtxIAuBIAuRIAuBIAuBL///8AtRIAtxIAsxKA2ojf9uG/7cRg0WsgvzCg5Kbv+/BAyk2v6LUQvSFw13pAxk0wxT/P8dMQuiEQtyHv+vBw1HpQzFyQ3Zcwwj6Q4JiQ35fP8tOQ35iP35ce/Hr/AAAAE3RSTlMA3yC/QO9gsJCAz1AwENCgn39wIDfjZgAABGxJREFUeNrtnNlS4zAQReV4zcYALcmWF7ITwjDb///c2BCQwImdcTt2ZyqH5SGVh1NXaklxSs3qmE68wB9ZLrSJZfvBvcNwOHe2C+fDHjrNzVw4O9btoImaDR1he+zf8CzoEMsjmdqH3pidxtSHHjht7o0RZXDusQ2gN+5YNYMb6JHRoNLNgl6xKuwmCLdz2w1c6B13QnNM37Oj63bE7gaIMGIl7oAMQWmnB0KMaU64N9wpM/kGpPCZwRiI4TANqUEtsIlWwxse3eAALMLB6VlnA0Hs/RoHJHEornHvDKmWQ4HLchwgSjGuQyDKkGqtvtcrUMWd0p1yABN2D2TxWABkCZgPOBQvE0Er+NhinfFDcgLaYITdH7LDchJawGKAQ51RzkXKzfgZ5QApl1GWU4flQgpyM044uYyynOJ0h3Uda+glJ4UQYYEIySX3aielKKCXnEYSTE5DOTm4JncyV7mmXOWacrFy16WkimtyTbnKNeVi5xxpOdLDepX7BxKDF2pyIEUocsL8P9atfTmQbwDkf+1A92uIduUW61nyPFsvAEnrcovlXPE9v+ZJCghalpvF/AvZDHDg5bRamTiVgAQvl8b8CH8WOD283OyBH0WlgAAvt+RVPD0jskPLRbyGBGGHlFvyWl4Qdii5Na/nKRXQALRcqvgJxIhTAEIu4594yHbP6ctqN8d/KYGXSz+r7bZhKF5JI/VpYB97kIu5wfdtYSYl5D+53hwRHVKuXA1Rnpo+xUkpok/RCWgARi776gYGUvxGRIeXM7atLCwfzEWMKFis3MzcQvPcKoe9wVqHkvthDqqQ1eOeNIgOIxcbuYSyJtusYzk95WId3LG3bMJu5YwlLhRwEL3YqVDAyeDlUmNCHYvlJ/+gRzk4TERBTki6cjsh61abp27lwNwfZN1qszEKuh68nKotxYX2jztOzjgUrQQcIjFWm47llrX7uuIfPHe8Q6y5ZiWrg+PbjuXMYNSBg3hqHKnmYddyEddsHmXVJ7Mk7PjIBIsH0y6VJTfEzoqWkxE3UIk09JamOE+6ltPRab3F/vWl4iYq7EGu/KQknmdZpvgX0rDbj4Z6Ia4nauSGl1soXkt8wqBi5DCPctQW4YaSq7dTiAmHlpPVdvEW4YaWA/n4s6oWcG7AXEAhRaKOxLbCugH6Spo8rKeSXE0ACouNAI0QSfzlIeeqUJOAw8Zdc9HpPa6i+UblbLLdavuamgQkfjsXhGSuJ0S4Z/+QE03APMCi4yvQYmju2QTaQxa/7eGwKYE+IEegfhGS9BVSsjchHZZDdNJZjNEd11tG+FL1gH6TAZrReZfQ2IJiZ4siOKqtLV6DozrrxszAB1LcMgNiZ5Oi4xbZ/kIeoXaC5eNIiREQ4ebSWrwRsTPdTCYEStYdUG0WCWBNLrOVZW7Xa83eVLj1fWgPqLUS1rhjdgKDb9AD/pSdxrjz8Gzn/2gTXeDZgACdWv3c6yA+F9E6fXjO/Fw7N8Ph3Ae+bbVrZY38wJvU1udfiwGx6zsgLxcAAAAASUVORK5CYII="},item:{default:{type:"url",content:"file://"+r}},linkMetadata:{title:"Share"}}],failOnCancel:!0},default:{url:"file://"+r,title:"Share",filename:"onekey_share.png",failOnCancel:!0}});if(!n)return;yield n.open(o).catch((function(){}))}})),[]),P=Object(x.useState)(0),C=O()(P,2),S=C[0],A=C[1],N=Object(we.default)().format,_=N(new Date(h),"yyyy/MM/dd")+" - "+N(new Date(p),"yyyy/MM/dd"),I=Object(x.useMemo)((function(){return 0===S?s:1===S?d:2===S?f:void 0}),[S]),D=Object(x.useMemo)((function(){var e="0";return I&&(e=new m.BigNumber(I).decimalPlaces(3).toString(),e=(I.toNumber()>=0?"+":"")+e),e=Object(ke.PriceString)({price:e,networkId:n.id})}),[n.id,I]),R=Object(x.useMemo)((function(){return 0===S?a.slice(0,3):1===S?a.filter((function(e){return e.profit>0})).slice(0,3):2===S?a.filter((function(e){return e.profit<0})).slice(0,3):[]}),[a,S]),B=Object(x.useCallback)((function(){setTimeout(k,100)}),[k]);return Object(M.jsx)(o.default,{header:g.formatMessage({id:"action__share"}),hidePrimaryAction:!0,primaryActionTranslationId:"action__share",hideSecondaryAction:!0,onPrimaryActionPress:B,children:Object(M.jsxs)(i.default,{w:"full",h:"full",position:"relative",children:[0===l||0===u?null:Object(M.jsx)(i.default,{mb:"24px",children:Object(M.jsx)(Oe.default,{selectedIndex:S,onChange:A,values:["All",g.formatMessage({id:"content__winning_flips"}),g.formatMessage({id:"content__losing_flips"})]})}),Object(M.jsxs)(i.default,{alignItems:"center",shadow:"depth.5",children:[Object(M.jsx)(me.default,{ref:e,style:{width:"100%",maxWidth:400},children:Object(M.jsxs)(i.default,{borderWidth:ce.default.hairlineWidth,borderRadius:"24px",borderColor:"border-default",bg:"background-default",shadow:"depth.5",overflow:"hidden",children:[Object(M.jsxs)(i.default,{p:6,borderBottomWidth:ce.default.hairlineWidth,borderColor:"border-default",children:[Object(M.jsxs)(i.default,{flexDirection:"row",justifyContent:"space-between",mb:"36px",children:[Object(M.jsx)(b.default,{typography:"CaptionStrong",color:"text-subdued",children:c}),Object(M.jsx)(b.default,{typography:"Caption",color:"text-subdued",children:_})]}),Object(M.jsx)(Le,{datas:R,width:"full",height:"102px"},S),Object(M.jsx)(b.default,{mt:"40px",typography:"Body1",color:"text-subdued",children:g.formatMessage({id:"content__profit"})}),I&&Object(M.jsx)(b.default,{typography:"Display2XLarge",color:I.toNumber()>0?"text-success":"text-critical",numberOfLines:1,children:D}),Object(M.jsxs)(i.default,{flexDirection:"row",mt:"8px",children:[2!==S?Object(M.jsxs)(i.default,{flexDirection:"row",mr:"24px",alignItems:"center",children:[Object(M.jsx)(b.default,{mr:"6px",typography:"Body1Strong",color:"text-success",children:l}),Object(M.jsx)(b.default,{typography:"Body1",color:"text-subdued",children:g.formatMessage({id:"content__winning_flips"})})]}):null,1!==S?Object(M.jsxs)(i.default,{flexDirection:"row",alignItems:"center",children:[Object(M.jsx)(b.default,{mr:"6px",typography:"Body1Strong",color:"text-critical",children:u}),Object(M.jsx)(b.default,{typography:"Body1",color:"text-subdued",children:g.formatMessage({id:"content__losing_flips"})})]}):null]})]}),Object(M.jsxs)(i.default,{px:6,py:5,flexDirection:"row",alignItems:"center",justifyContent:"space-between",bgColor:"surface-subdued",children:[Object(M.jsxs)(i.default,{children:["light"===v?Object(M.jsx)(ge.default,{width:82,height:25}):Object(M.jsx)(ve.default,{width:82,height:25}),Object(M.jsx)(b.default,{typography:"Body2",mt:"2",color:"text-subdued",children:g.formatMessage({id:"content__all_in_one_crypto_wallet"})})]}),Object(M.jsx)(i.default,{bg:"white",p:1,borderRadius:"6px",borderWidth:ce.default.hairlineWidth,borderColor:"border-default",shadow:"depth.1",children:Object(M.jsx)(he.default,{value:"https://onekey.so/download",size:48,logoSize:0,logoMargin:0,logoBackgroundColor:"white"})})]})]})}),Object(M.jsx)(i.default,{position:"absolute",top:"0",left:"0",w:"full",h:"full"})]})]})})},Ze=r(234),ze=Object(Ze.default)(),He=[{name:S.NFTMarketRoutes.FilterModal,component:G},{name:S.NFTMarketRoutes.SearchModal,component:je},{name:S.NFTMarketRoutes.ShareNFTPNLModal,component:We},{name:S.NFTMarketRoutes.CalculatorModal,component:A},{name:S.NFTMarketRoutes.MarketPlaceScreen,component:_}];t.default=function(){var e=Object(n.default)();return Object(M.jsx)(ze.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:He.map((function(e){return Object(M.jsx)(ze.Screen,{name:e.name,component:e.component},e.name)}))})}}}]);